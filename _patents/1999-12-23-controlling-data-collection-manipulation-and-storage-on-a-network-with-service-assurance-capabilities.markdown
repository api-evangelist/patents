---
title: Controlling data collection, manipulation and storage on a network with service assurance capabilities
abstract: The present disclosure provides for controlling the collection, manipulation and storage of network performance data and network even data of a network with service assurance capabilities. Upon the receipt of an activation signal, a signal is transmitted to initiate the retrieving of network performance data and network event data generated from at least one network monitor. Such network monitor is adapted for monitoring a network system and the relocating of the data into a common directory. A signal is then transmitted to initiate the manipulation of the data and the loading of the manipulated data into a database.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06985901&OS=06985901&RS=06985901
owner: Accenture LLP
number: 06985901
owner_city: Palo Alto
owner_country: US
publication_date: 19991223
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS","Data Collection","EXAMPLE POLL","EXAMPLE ALARM","EXAMPLE","EXAMPLE","EXAMPLE","Database","CRONTAB EXAMPLES","Reporting","EXAMPLE","EXAMPLE","EXAMPLE SYNTAX USING CTEMPLATE","EXAMPLE SYNTAX DEFINING THE WORKING DATA FILE","EXAMPLE SCRIPT","EXAMPLES","Project Event Handling","The Property String has to be in the Node's Property Group","The Base Object has to be in the Property Group","DESCRIPTION","DESCRIPTION","Development Environment","EXAMPLE","EXAMPLES OF USING THE VCS"],"p":["The present invention relates to the data collection control and more particularly to data collection, manipulation and storage on a network with service assurance capabilities.","A network system architecture enables multiple applications like voice, data and video to be mixed over the network that comprises switching nodes and communications links. Networks for these applications generally have been designed for a particular type of application, such as teleconferencing applications. Different types of applications, however, have diverse requirements.","\u201cQuality of Service\u201d or \u201cQoS\u201d parameters in part define these requirements. In the case of ATM networks, such parameters may include errored cell ratio (ECR), cell loss ratio, fixed delay and delay variation parameters. Applications may also indicate a set of parameters called a \u201ctraffic contract\u201d that relates to the bandwidth required from the network. The Errored Cell Ratio (ECR) value is the ratio of the ATM cells in error to all the ATM cells sent during some interval. The remaining parameters are described later. Each application may have a maximum or minimum acceptable value for each parameter and a requested value for each parameter.","As previously indicated, networks are implemented with switching nodes and communications links. The communications links typically have been based upon conventional telephony transmission systems and comprised fiber optic, microwave or wireline links. Fiber optic links transfer typically an error rate of 10.sup.-9; microwave and wireline connections, 10.sup.-7. More recently, communications links have begun to comprise terrestrial and satellite mobile wireless communications links and cable television systems. Each of these communications links are prone to introducing errors at significantly greater rates.","Some present ATM networks attempt to overcome such errors by implementing a transformation process in the form of a correction, or data manipulation, technique at each switching node on a \u201cper-communications link\u201d basis. That is, the network is designed such that certain links operate with a transforming process that is not alterable on a dynamic basis. For example, it is fairly common that satellite systems have a single error correcting code that operates over the entire bit stream passing over the link, notwithstanding the specific application. Using error correcting codes, such as forward error correction (FEC) codes, requires significant amounts of redundant information to be sent with each block of bits wherein a \u201cblock\u201d may comprise a partial ATM cell, a single ATM cell or a plurality of ATM cells. This redundant information adds \u201coverhead\u201d to the transfer. This, in turn, reduces the bandwidth available for transporting an ATM cell. To be effective, an error correcting code must also match the anticipated error burst characteristics of the transmission system; systems that are subject to longer bursts require larger codewords or interleaving or both. Interleaving adds significant amounts of fixed delay to that already present in the transmission system. Such fixed delays manifest themselves, for example, as awkward conversation and user discomfort in a teleconferencing application or even as motion sickness and disorientation in a virtual reality application.","Despite the foregoing efforts, network failures are inevitable, and there is a need of monitoring network performance for the purpose of maintaining a predetermined agreed upon QoS.","The present invention provides for controlling the collection, manipulation and storage of network performance data and network event data of a network with service assurance capabilities. Upon the receipt of an activation signal, a signal is transmitted to initiate the retrieving of network performance data and network event data generated from at least one network monitor. Such network monitor is adapted for monitoring a network system and the relocating of the data into a common directory. A signal is then transmitted to initiate the manipulation of the data and the loading of the manipulated data into a database.","In one embodiment, the signal to initiate the manipulating and storing of the data initiates a controller program that transmits a signal to initiate the manipulation of the data. Such controller program transmits a signal to initiate the calculation of statistics from the data, and further transmits a signal to initiate the assigning of key codes to the data.","In one aspect of the present invention, the controller program also transmits a signal to initiate the sorting of the data, and further transmits a signal to initiate the concatenating of the data. Still yet, the controller program transmits a signal to initiate the loading of the data into the database.","As an option, the present invention may further transmit a signal to initiate a clean archive program for deleting files from an archive directory, a signal to initiate a table extract program for extracting data from tables stored in the database, a signal to initiate a trigger reporting program for generating reports, a signal to initiate a purge record program for deleting records from the database, and a signal to initiate a database backup program for backing up data stored on the database.","A preferred embodiment of a system in accordance with the present invention is preferably practiced in the context of a personal computer such as an IBM compatible personal computer, Apple Macintosh computer or UNIX based workstation. A representative hardware environment is depicted in , which illustrates a typical hardware configuration of a workstation in accordance with a preferred embodiment having a central processing unit , such as a microprocessor, and a number of other units interconnected via a system bus . The workstation shown in  includes a Random Access Memory (RAM) , Read Only Memory (ROM) , an I\/O adapter  for connecting peripheral devices such as disk storage units  to the bus , a user interface adapter  for connecting a keyboard , a mouse , a speaker , a microphone , and\/or other user interface devices such as a touch screen (not shown) to the bus , communication adapter  for connecting the workstation to a communication network (e.g., a data processing network) and a display adapter  for connecting the bus  to a display device . The workstation typically has resident thereon an operating system such as the Microsoft Windows NT or Windows\/95 Operating System (OS), the IBM OS\/2 operating system, the MAC OS, or UNIX operating system. Those skilled in the art will appreciate that the present invention may also be implemented on platforms and operating systems other than those mentioned.","A preferred embodiment is written using JAVA, C, and the C++ language and utilizes object oriented programming methodology. Object oriented programming (OOP) has become increasingly used to develop complex applications. As OOP moves toward the mainstream of software design and development, various software solutions require adaptation to make use of the benefits of OOP. A need exists for these principles of OOP to be applied to a messaging interface of an electronic messaging system such that a set of OOP classes and objects for the messaging interface can be provided.","OOP is a process of developing computer software using objects, including the steps of analyzing the problem, designing the system, and constructing the program. An object is a software package that contains both data and a collection of related structures and procedures. Since it contains both data and a collection of structures and procedures, it can be visualized as a self-sufficient component that does not require other additional structures, procedures or data to perform its specific task. OOP, therefore, views a computer program as a collection of largely autonomous components, called objects, each of which is responsible for a specific task. This concept of packaging data, structures, and procedures together in one component or module is called encapsulation.","In general, OOP components are reusable software modules which present an interface that conforms to an object model and which are accessed at run-time through a component integration architecture. A component integration architecture is a set of architecture mechanisms which allow software modules in different process spaces to utilize each others capabilities or functions. This is generally done by assuming a common component object model on which to build the architecture. It is worthwhile to differentiate between an object and a class of objects at this point. An object is a single instance of the class of objects, which is often just called a class. A class of objects can be viewed as a blueprint, from which many objects can be formed.","OOP allows the programmer to create an object that is a part of another object. For example, the object representing a piston engine is said to have a composition-relationship with the object representing a piston. In reality, a piston engine comprises a piston, valves and many other components; the fact that a piston is an element of a piston engine can be logically and semantically represented in OOP by two objects.","OOP also allows creation of an object that \u201cdepends from\u201d another object. If there are two objects, one representing a piston engine and the other representing a piston engine wherein the piston is made of ceramic, then the relationship between the two objects is not that of composition. A ceramic piston engine does not make up a piston engine. Rather it is merely one kind of piston engine that has one more limitation than the piston engine; its piston is made of ceramic. In this case, the object representing the ceramic piston engine is called a derived object, and it inherits all of the aspects of the object representing the piston engine and adds further limitation or detail to it. The object representing the ceramic piston engine \u201cdepends from\u201d the object representing the piston engine. The relationship between these objects is called inheritance.","When the object or class representing the ceramic piston engine inherits all of the aspects of the objects representing the piston engine, it inherits the thermal characteristics of a standard piston defined in the piston engine class. However, the ceramic piston engine object overrides these ceramic specific thermal characteristics, which are typically different from those associated with a metal piston. It skips over the original and uses new functions related to ceramic pistons. Different kinds of piston engines have different characteristics, but may have the same underlying functions associated with it (e.g., how many pistons in the engine, ignition sequences, lubrication, etc.). To access each of these functions in any piston engine object, a programmer would call the same functions with the same names, but each type of piston engine may have different\/overriding implementations of functions behind the same name. This ability to hide different implementations of a function behind the same name is called polymorphism and it greatly simplifies communication among objects.","With the concepts of composition-relationship, encapsulation, inheritance and polymorphism, an object can represent just about anything in the real world. In fact, one's logical perception of the reality is the only limit on determining the kinds of things that can become objects in object-oriented software. Some typical categories are as follows:\n\n","With this enormous capability of an object to represent just about any logically separable matters, OOP allows the software developer to design and implement a computer program that is a model of some aspects of reality, whether that reality is a physical entity, a process, a system, or a composition of matter. Since the object can represent anything, the software developer can create an object which can be used as a component in a larger software project in the future.","If 90% of a new OOP software program consists of proven, existing components made from preexisting reusable objects, then only the remaining 10% of the new software project has to be written and tested from scratch. Since 90% already came from an inventory of extensively tested reusable objects, the potential domain from which an error could originate is 10% of the program. As a result, OOP enables software developers to build objects out of other, previously built objects.","This process closely resembles complex machinery being built out of assemblies and sub-assemblies. OOP technology, therefore, makes software engineering more like hardware engineering in that software is built from existing components, which are available to the developer as objects. All this adds up to an improved quality of the software as well as an increased speed of its development.","Programming languages are beginning to fully support the OOP principles, such as encapsulation, inheritance, polymorphism, and composition-relationship. With the advent of the C++ language, many commercial software developers have embraced OOP. C++ is an OOP language that offers a fast, machine-executable code. Furthermore, C++ is suitable for both commercial-application and systems-programming projects. For now, C++ appears to be the most popular choice among many OOP programmers, but there is a host of other OOP languages, such as Smalltalk, Common Lisp Object System (CLOS), and Eiffel. Additionally, OOP capabilities are being added to more traditional popular computer progranu\\ring languages such as Pascal.","The benefits of object classes can be summarized, as follows:\n\n","Class libraries are very flexible. As programs grow more complex, more programmers are forced to reinvent basic solutions to basic problems over and over again. A relatively new extension of the class library concept is to have a framework of class libraries. This framework is more complex and consists of significant collections of collaborating classes that capture both the small scale patterns and major mechanisms that implement the common requirements and design in a specific application domain. They were first developed to free application programmers from the chores involved in displaying menus, windows, dialog boxes, and other standard user interface elements for personal computers.","Frameworks also represent a change in the way programmers think about the interaction between the code they write and code written by others. In the early days of procedural programming, the programmer called libraries provided by the operating system to perform certain tasks, but basically the program executed down the page from start to finish, and the programmer was solely responsible for the flow of control. This was appropriate for printing out paychecks, calculating a mathematical table, or solving other problems with a program that executed in just one way.","The development of graphical user interfaces began to turn this procedural programming arrangement inside out. These interfaces allow the user, rather than program logic, to drive the program and decide when certain actions should be performed. Today, most personal computer software accomplishes this by means of an event loop which monitors the mouse, keyboard, and other sources of external events and calls the appropriate parts of the programmer's code according to actions that the user performs. The programmer no longer determines the order in which events occur. Instead, a program is divided into separate pieces that are called at unpredictable times and in an unpredictable order. By relinquishing control in this way to users, the developer creates a program that is much easier to use. Nevertheless, individual pieces of the program written by the developer still call libraries provided by the operating system to accomplish certain tasks, and the programmer must still determine the flow of control within each piece after it's called by the event loop. Application code still \u201csits on top of\u201d the system.","Even event loop programs require programmers to write a lot of code that should not need to be written separately for every application. The concept of an application framework carries the event loop concept further. Instead of dealing with all the nuts and bolts of constructing basic menus, windows, and dialog boxes and then making these things all work together, programmers using application frameworks start with working application code and basic user interface elements in place. Subsequently, they build from there by replacing some of the generic capabilities of the framework with the specific capabilities of the intended application.","Application frameworks reduce the total amount of code that a programmer has to write from scratch. However, because the framework is really a generic application that displays windows, supports copy and paste, and so on, the programmer can also relinquish control to a greater degree than event loop programs permit. The framework code takes care of almost all event handling and flow of control, and the programmer's code is called only when the framework needs it (e.g., to create or manipulate a proprietary data structure).","A programmer writing a framework program not only relinquishes control to the user (as is also true for event loop programs), but also relinquishes the detailed flow of control within the program to the framework. This approach allows the creation of more complex systems that work together in interesting ways, as opposed to isolated programs, having custom code, being created over and over again for similar problems.","Thus, as is explained above, a framework basically is a collection of cooperating classes that make up a reusable design solution for a given problem domain. It typically includes objects that provide default behavior (e.g., for menus and windows), and programmers use it by inheriting some of that default behavior and overriding other behavior so that the framework calls application code at the appropriate times.","There are three main differences between frameworks and class libraries:\n\n","Thus, through the development of frameworks for solutions to various problems and programming tasks, significant reductions in the design and development effort for software can be achieved. A preferred embodiment of the invention utilizes HyperText Markup Language (HTML) to implement documents on the Internet together with a general-purpose secure communication protocol for a transport medium between the client and the Newco. HTTP or other protocols could be readily substituted for HTML without undue experimentation. Information on these products is available in T. Berners-Lee, D. Connoly, \u201cRFC 1866: Hypertext Markup Language-2.0\u201d (November 1995); and R. Fielding, H, Frystyk, T. Berners-Lee, J. Gettys and J. C. Mogul, \u201cHypertext Transfer Protocol\u2014HTTP\/1.1: HTTP Working Group Internet Draft\u201d (May 2, 1996). HTML is a simple data format used to create hypertext documents that are portable from one platform to another. HTML documents are SGML documents with generic semantics that are appropriate for representing information from a wide range of domains. HTML has been in use by the World-Wide Web global information initiative since 1990. HTML is an application of ISO Standard 8879; 1986 Information Processing Text and Office Systems; Standard Generalized Markup Language (SGML).","To date, Web development tools have been limited in their ability to create dynamic Web applications which span from client to server and interoperate with existing computing resources. Until recently, HTML has been the dominant technology used in development of Web-based solutions. However, HTML has proven to be inadequate in the following areas:\n\n","Sun Microsystem's Java language solves many of the client-side problems by:\n\n","With Java, developers can create robust User Interface (UI) components. Custom \u201cwidgets\u201d (e.g., real-time stock tickers, animated icons, etc.) can be created, and client-side performance is improved. Unlike HTML, Java supports the notion of client-side validation, offloading appropriate processing onto the client for improved performance. Dynamic, real-time Web pages can be created. Using the above-mentioned custom UI components, dynamic Web pages can also be created.","Sun's Java language has emerged as an industry-recognized language for \u201cprogramming the Internet.\u201d Sun defines Java as: \u201ca simple, object-oriented, distributed, interpreted, robust, secure, architecture-neutral, portable, high-performance, multithreaded, dynamic, buzzword-compliant, general-purpose programming language. Java supports programming for the Internet in the form of platform-independent Java applets.\u201d Java applets are small, specialized applications that comply with Sun's Java Application Programming Interface (API) allowing developers to add \u201cinteractive content\u201d to Web documents (e.g., simple animations, page adornments, basic games, etc.). Applets execute within a Java-compatible browser (e.g., Netscape Navigator) by copying code from the server to client. From a language standpoint, Java's core feature set is based on C++. Sun's Java literature states that Java is basically, \u201cC++ with extensions from Objective C for more dynamic method resolution.\u201d","Another technology that provides similar function to JAVA is provided by Microsoft and ActiveX Technologies, to give developers and Web designers wherewithal to build dynamic content for the Internet and personal computers. ActiveX includes tools for developing animation, 3-D virtual reality, video and other multimedia content. The tools use Internet standards, work on multiple platforms, and are being supported by over 100 companies. The group's building blocks are called ActiveX Controls, small, fast components that enable developers to embed parts of software in hypertext markup language (HTML) pages. ActiveX Controls work with a variety of programming languages including Microsoft Visual C++, Borland Delphi, Microsoft Visual Basic programming system and, in the future, Microsoft's development tool for Java, code named \u201cJakarta.\u201d ActiveX Technologies also includes ActiveX Server Framework, allowing developers to create server applications. One of ordinary skill in the art readily recognizes that ActiveX could be substituted for JAVA without undue experimentation to practice the invention.","Overall Architecture","One embodiment of the present invention is composed of multiple software programs which are linked together to create an architecture which is capable of monitoring a network for events and checking system functions and resources. Such events can include alarms, faults, alerts, etc. Other embodiments of the present invention may each include an individual software program.","Reports on system performance, errors, etc. can be generated and output. For example, the reports may depict to operators\/administrators of the network what is happening inside the network in real-time. This allows the administrators to respond to problems before disruptions to service occur.","Accordingly,  illustrates an embodiment of the present invention which provides service assurance for a network. In operation , an alarm is generated to indicate a status of a network. Network event information of the network is dispatched in operation  upon generation of the alarm after which the network event information is mapped in operation . The data collected on the status of the network is manipulated and stored in a database. See operations  and . In operation , availability of the network is conveyed graphically.","Collector","A collector may be used to collect system information including events and performance data and route pertinent portions of the system information to a notifier program which informs a system administrator of the system information. One example of a collector is Netcool\u00ae manufactured by Micromuse Inc., whose headquarters are located at 139 Townsend St., San Francisco, Calif. 94107.","Notifier","In one aspect of the present invention, a notifier may form part of the architecture or may stand alone. The notifier is a configurable decision engine that determines how to dispatch system information to users. Notification actions can include initiating alphanumeric pages, trouble tickets, log messages, and external scripts. The notifier is integrated closely with the collector and is able to forward alerts to specific individuals based on the contents of the alert and the time\/day it was. The notifier also allows an alert to trigger more than one type of notification. This enables functionality like creating a trouble ticket before paging so that the trouble ticket number can be sent along with an alphanumeric page.","The notifier creates integration between the Collector, and any of a number of other programs which may include an alphanumeric paging program and\/or a trouble tickets generation program. Preferably, the notifier can be modified to integrate with existing systems. The notifier may be written in the PERL language.","Accordingly,  illustrates one embodiment of the present invention for dispatching network event information of a network with service assurance capabilities. In operation , a network is monitored for an event. Thereafter, in operation , at least one notification action is generated based upon the occurrence of the event. The notification action may include an alphanumeric page, an e-mail message, a resolution script, a remedy trouble ticket, and\/or a log message. Further, the notification action may be transmitted in operation  to notify a recipient about the occurrence of the event.","In one aspect of the present invention, the step of generating the notification action further includes the steps of: determining the type of event that occurred, and generating at least one notification action associated with the determined type of event. Further, the order in which notification actions are generated upon the occurrence of the event may be based upon the determined type of event.","In another aspect of the present invention, the step of transmitting the notification action may further include the steps of: determining characteristics of the occurred event, selecting at least one recipient for receiving the notification action based upon the determined characteristics of the occurred event, and transmitting the notification action to the selected recipient.","In still yet another aspect of the present invention, the step of transmitting the notification action may further include the step of determining the time of occurrence of the occurred event. Such selection of the recipient for receiving the notification action may be further based upon the occurrence time of the occurred event. In addition, the occurred event may be compared to a list of scheduled events such that the generation of the notification action may be inhibited when the occurred event matches of the listed scheduled events.","Automation Programs","Automations are a configurable function in the collector. Automations enhance the collector's functionality by adding intelligence and\/or automating tasks. Exemplary automations include:","Fault\/Resolution Pairing\u2014each resolution alert received (e.g. Link Up) will trigger an automation to try and find its corresponding fault notification (Link Down, which would have been generated earlier) by matching the node and the problem uniquely. When a F\/R pair is found, the resolution alert is removed and the fault alert is cleared (no longer a \u201ccritical\u201d or \u201cwarning\u201d status). Additional information can be added to the alert including the duration of the fault.","Event and Notification Logging\u2014when a notification is sent out by the notifier, an automation can update the alert for which a notification was generated to indicate what action was taken (page, trouble ticket number, logged, etc;).","Maintenance\u2014all cleared alerts can be removed from the event list after a specified period, reducing distractions from the operators.","Data Acquisition","In another embodiment of the present invention, Data Acquisition scripts are programs which coordinate the collection and transfer of application logs to a central location. Data Acquisition can be used so that log files containing performance statistics gathered by a monitoring program can be transferred to a central server for processing by the Performance Data Manipulator (see below). The Data Acquisition scripts may be written in PERL.","Performance Data Manipulator (PDM)","In an embodiment of the present invention, a PDM is a script that processes log files that have been collected by Data Acquisition in order to load the data into a database. The PDM converts the log files from formats specific to a particular monitoring program into a common format. PDM then formats the file based on data warehousing techniques which include converting nodes and performance metrics to key codes which are stored in the database. The coded data file is then bulk loaded into the database. The PDM may be written in PERL.","Database Data Warehouse Design","An embodiment of the present invention includes a database schema for storing and reporting on network element performance data. The schema should be built for the efficient storage, processing, and aging of performance data.","Time Key Preloader","The Time Key Preloader is a script that supports the efficient loading of data in the database. In prior art database systems, due to the use of \u201ckey codes\u201d in the design of databases a unique time key needed to be created for each entry stored in the database. The original solution to this was to create a time key every time an entry was received. This is inefficient. One embodiment of the present invention includes the Time Key Preloader which pre-generates time keys for every second, minute, five minutes, and\/or hour, etc. of the day all at once using a direct interface to the database. Thus, the time key for the time an alert or metric is received becomes associated with the alert or performance metric. The Time Key Preloader may be written in PERL.",{"@attributes":{"id":"p-0091","num":"0114"},"figref":"FIG. 4","b":["400","402","404","406","408"]},"In one aspect of the present invention, the time-based identifiers are generated for every second, minute, and hour of every day at once. The time-based identifiers may be generated using an interface to the database. Further, the time-based identifiers may be stored in a database separate from that in which the data is stored.","In yet another aspect of the present invention, the received data relates to a parameter of a network. Further, the data may be stored for service assurance purposes on the network.","Event Correlator and Manager (ECM)","One embodiment of the present invention includes an event correlation application which uses behavior models to correlate network conditions, identify critical problems, filter out superfluous events and take appropriate actions. An example of an ECM is NerveCenter manufactured by Seagate Software, 920 Disc Drive, Scotts Valley, Calif. 95067.","Patroller","An embodiment of the present invention includes a patroller which discover the environment of a network, continuously surveys related systems, and\/or initiates alarms based on preset parameters. An example of a Patroller is BMC Patrol manufactured by BMC Software, BMC Software, Inc., 2101 CityWest Blvd., Houston, Tex. 77042-2827.","Alarm Definitions","Alarm Definitions are customizations to an ECM which allow for event correlation and alarm suppression. Preferably, the Alarm Definitions are specific to particular networks in order to add automated intelligence for problem resolution and to reduce unneeded alarm traffic sent to operators.","Automation Scripts and Knowledge Modules","Automation scripts allow the automation of application and system management tasks. Automation scripts may monitor application health and perform corrective actions when the status of an application changes. Other functions may include sending SNMP traps when specific conditions are detected in an application or system.","Reporting Interface Development, Customer Service Integration Module","One embodiment of the present invention provides the ability to correlate network events to individual customers (or providers in a Managed Network Services world) and notify customer service representatives of known outages affecting customers through a web interface. This allows proactive notification to customers of problems that affect them as well as builds confidence in customers calling to report problems that the provider is aware of.","Data Collection Overview","Referring to , in one embodiment of the present invention, an activation signal is received in operation . Upon receipt of the activation signal, a signal is transmitted in operation  to initiate the retrieving of network performance data and network event data generated from at least one network monitor. Such network monitor is adapted for monitoring a network system and the relocating of the data into a common directory. Then, in operation , the signal is transmitted to initiate the manipulation of the data and the loading of the manipulated data into a database.","In one embodiment, the signal to initiate the manipulating and storing of the data initiates a controller program that transmits a signal to initiate the manipulation of the data. Such controller program transmits a signal to initiate the calculation of statistics from the data, and further transmits a signal to initiate the assigning of key codes to the data.","In another aspect of the present invention, the controller program also transmits a signal to initiate the sorting of the data, and further transmits a signal to initiate the concatenating of the data. Still yet, the controller program transmits a signal to initiate the loading of the data into the database.","As an option, the present invention may further transmit a signal to initiate a clean archive program for deleting files from an archive directory, a signal to initiate a table extract program for extracting data from tables stored in the database, a signal to initiate a trigger reporting program for generating reports, a signal to initiate a purge record program for deleting records from the database, and a signal to initiate a database backup program for backing up data stored on the database.","The following subsections describe an embodiment of the present invention that controls the collection, manipulation and storage of network performance data and network event data of a network with service assurance capabilities and provides an exemplary step-by-step overview of the flow of data from collection to when it's loaded into the database.  is a flowchart that provides an overview of a data collection process of one embodiment of the present invention.","In this exemplary embodiment, Seagate NerveCenter will be used as the Event Correlator and Manager  and BMC Patrol will be used as the Patroller .","Applications","The data collection is started by the network monitory applications creating their ASCII text data files. These files are generally stored locally on the machines they are running on. Specifics on where these files should be stored are located in the installation & configuration instructions for each application.","Cron","The cron  process daily activates the processing scripts. The .crontab file should be modified on the system which will do the actual processing of the files.","The cron process starts one script, samasterprocesscontrol.pl , which then begins the rest of the processes","samasterprocesscontrol.pl","The samasterprocesscontrol.pl script  does not actually move or manipulate any of the data files, but instead starts other scripts which will move and manipulate the data to the appropriate locations and into the required formats. There are 8 sequential steps to this process, each beginning after the previous has finished. The steps are as follows:\n\n","The getdata.pl script  is designed to move files from the systems where the data is being collect to the \/sa directory structure where it will then be further processed. There are three options that this script can do. The three options are (a) to move files locally on a Unix system, (b) to move files from a remote Unix system, and (c) to move files from a remote NT system.","The script gets its settings from a configuration file named getdata.cfg . The most important part is the configuration section for each application:","#******************** Host Identification Section *******************","#$NodeName\u02dc$Location\u02dc$SourcePath\u02dc$SourceExt\u02dc$TargetPath\u02dc$TmpExt\u02dc$Mov eMethod\u02dc$Archive\u02dc#$ArchivePath\u02dc$ArchiveExt\u02dc$TransferType\u02dc$Platform\u02dc$Targ etExt\u02dc$DestHost\u02dc$LogFile\u02dc$UnixRemoteScript","#*********************Example****************************** ***","nsmmws16\u02dcremote\u02dc\/opt\/PATROLLER\/Solaris25-sun4\/remote\/\u02dc.dat\u02dc\/sa\/dev\/dat\/pr ocess\/\u02dc.tmp\u02dcmove\u02dcyes\u02dc\/opt\/PATROLLER3.2\/Solaris25-sun4\/remote\/\u02dc.old\u02dcftp\u02dcUn ix\u02dc.pat\u02dctwmmdb02\u02dc\/files0\/home\/noc\/bin\/UnixRemote.log\u02dc\/files0\/home\/noc\/bin\/Un ixRemote.pl","Use the definition above and the example as a guide on adding more applications and host systems.","For moving files remotely from a Unix system, the UnixRemote.pl script  is called using remsh. Once UnixRemote.pl finishes, the verify.cmp file is used to make sure that all the files were properly transferred.","UnixRemote.pl","UnixRemote.pl  is called using remsh on the system which the files are to be moved. It first deletes the *.old files, which are the data files from the previous day. Then the current data files are renamed to $node$date*.$extension. A verify.cmp file is created to later verify that all the files are transferred. The *.$extension files and the verify.cmp file are then transferred to the \/sa directory structure, usually by ftp. Once that's done, the old files are archived by change $extension to $extension.old, which flags them for deletion the next day.\n\n","The datamanipwrapper.pl script  controls the action manipulation of the data by calling a number of subscripts, each performing it's own function. Each script is called when the previous script has finished.","datamanipstage1.pl","The datamanipstage1.pl script  is the main script which massages the data. If new applications are added, this is the script which will need to be modified. This script takes the individual data files in the \/sa directory structure, reads in the datamanipstage1.cfg configuration files, manipulates the data so that it's in the format defined by datamanipstage1.cfg, and then outputs files in the form of $element.element.","calculatestats.pl","The calculatestats.pl script  calculates the mean, max, min, sample, and standard deviation for each element file. The output of the script is $element.element.stage2 and $element.element.stat for each element file.","keycodes.pl","The keycodes.pl script  uses perfmetrictb.ext and networkelementtb.ext to look up the codes associated with the node or element being monitored. It assigns the key code as the name of the file (i.e. keycode.element.stage2 and keycode.element.stat). It also produces perfmetrictimetb.dat.","sortelmntfiles.pl","The sortelmntfiles.pl  sorts all of the keycode.element.stage2 and keycode.element.stat files and renames them keycode.element.stage2.sorted and keycode.element.stat.sorted. unionall.pl","The unionall.pl script  takes the keycode.element.stage2. sorted files and concatenates them into perffacttb.dat and the keycode.element.stat.sorted files and concatenates them into perffactdlytb.dat.","move.pl","The moveall.pl script  moves perffacttb.dat, perffactdlytb.dat and perfmetrictimetb.dat to \/files6\/ipsa\/dataloads\/datafiles.\n\n","This script does system calls and utilizes FTP to run other scripts. It calls the scripts in a specific order and logs successes and failures.","Scripts on other machines","If scripts need to be run on other machines, FTP should be used. With FTP, a configuration file is needed to house user and password information. Also, an account may have to be set up on that machine to be able to run that script.","NT Account","From the NT host:","Open Microsoft Internet Information Service (IIS), from there open Internet Services Manager","Right-Click on SA Ftp Site. Click on home directory and make sure this is share, not local. Add path, Network Share path, and make sure that Write and Log Access is accessed.","In the Security Accounts tab, make sure that the radio button for \u201cNot allow anonymous connections is clicked.","In the FTP Site tab, make sure that the connections are limited to 1.","In the Directory Security tab, make sure the radio button for Denied Access is clicked and add the domain for the server that is attempting the FTP.","UNIX","The user and password being used to FTP must be supported by the system being accessed.","FTP example",{"@attributes":{"id":"p-0133","num":"0000"},"ul":{"@attributes":{"id":"ul0014","list-style":"none"},"li":["#","# Trigger daily reporting","#Create $ReportingScript in \/sa\/dev\/dat\/tmp with string \u201cThis file is used to trigger the daily reporting process\u201d","open (FILE,>$SACommon::SATempDir${ReportingScript})||die \u201cnot able to open $ReportingScript ($!)\u201d;","print FILE \u201cThis file is used to trigger the daily reporting process\u201d;","#Transfer the file to $NTHost","$ftp=Net::FTP->new(\u201c$NTHost\u201d);","$ftp->login(\u201c$User\u201d, \u201c$Password\u201d);","$ftp->cwd(\u201c$NTPath\u201d);","$Return=$ftp->put(\u201c$SACommon::SATempDir$ {ReportingScript}\u201d, \u201c$NTPath\\$ReportingScript\u201d);","$ftp->quit;","#Process the return value","if(0!=Return) {\n    \n    ","}elsif (0=$Return) {\n    \n    ","}","#Delete $ReportingScripts file from \/sa\/dev\/dat\/tmp","close (FILE);","unlink ($SACommon::SATempDir$ {ReportingScript});","Scripts on Local machines"]}},"The local scripts are called with a system call then logged successful or failure.","System command example\n\n","The getdata.pl script, along with the getdata.cfg file, retreves data from both local and remote hosts and relocates it in a common directory. The getdata.pl script also uses the UnixRemote.pl script, which resides on the remote UNIX machines from which data is being acquired. A similar script could also be designed for use with remote NT machines. The getdata.cfg file is the configuration file used to define all program specific information and parameters. There are additional variables and settings defined in the SACommon.pm Perl module, which is located in \/sa\/usr\/mod\/. In general, SACommon.pm contains global variables and sub-routines.","Configuration File (getdata.cfg):","The following is an example of what the configuration file entries look like. Each line is read by data.pl and then acted on according to the logic defined in the script.","#******************** Host Identification Section (continuous line) *******************","$NodeName\u02dc$Location\u02dc$SourcePath\u02dc$SourceExt\u02dc$TargetPath\u02dc$TmpExt\u02dc$Move Method\u02dc$Archive\u02dc","$ArchivePath\u02dc$ArchiveExt\u02dc$TransferType\u02dc$Platform\u02dc$TargetExt\u02dc$DestHost\u02dc$L ogFile\u02dc$UnixRemoteScript","#***********************Example (continuous line)********************************","nsmmws16\u02dcremote\u02dc\/opt\/PATROLLER\/Solaris25sun4\/remote\/test\/\u02dc.dat\u02dc\/sa\/dev\/dat \/process\/\u02dc.tmp\u02dc","move\u02dcyes\u02dc\/opt\/PATROLLER\/Solaris25sun4\/remote\/test\/\u02dc.old\u02dcftp\u02dcUnix\u02dc.pat\u02dctwm mdb02\u02dc\/files0\/home\/noc\/bin\/UnixRemote.log\u02dc\/files0\/home\/noc\/bin\/UnixRemote.pl","The information contained in each entry is unique to the data being retrieved. The \u201c\u02dc\u201d character is used as field delimiter throughout the file. Following is a description of the fields that must be defined for each entry:\n\n","It is not necessary for the destination host to be the system calling getdata.pl.\n\n","There is a single variable, $ScriptName, defined locally within getdata.pl. It is recommended for use with the WriteErrorLog and WriteLog sub-routines provided in SACommon.pm. This is a static variable, and should not need to be changed unless the name of the script is changed.","Data Acquisition Local and Remote",{"@attributes":{"id":"p-0147","num":"0231"},"figref":"FIG. 7","b":["700","702","704","706","708"]},"In one aspect of the present invention, information is added to the renamed data file relating to host name, date, and application extension. Further, the type of host is determined from which the data file was obtained. The type of host is selected from a local host and\/or a remote host.","In another aspect of the present invention, a platform of the determined host is determined when the host is determined to be a remote host. Further, the verification control file may be copied with the renamed data file to the target directory. In addition, the data file may be archived.","In yet another embodiment, previously archived data files may be deleted. Further, a move method may be determined for the data file. A temporary copy of the data file may be created based on the move method. Such move method includes moving the data file and\/or copying the data file.",{"@attributes":{"id":"p-0151","num":"0235"},"figref":["FIG. 8","FIG. 8"],"sub":["\u2014","\u2014","\u2014","\u2014"],"b":["800","802"],"ul":{"@attributes":{"id":"ul0022","list-style":"none"},"li":["1. If the data files are local, the getdata.pl script will execute the following steps.","Remove old archived files. ","If the files are to be moved, they are renamed with .tmp. ","Parse the system data and reconfigure for file renaming. ","Rename the files, add machine name, date and application extension. ","Copy the files to the target directory. ","Archive the moved files, rename by appending old to the file name. ","2. If the data files are remote and Unix, the remote shell command is used to run the UnixRemote.pl script, which resides on the remote machines. UnixRemote.pl will execute and perform the following steps remotely.","Delete old archived files. ","If the files are to be moved, they are renamed with .tmp. ","Parse the system data and reconfigure for file renaming. ","Rename the files, add machine name, date and application extension. ","Ftp the files to the target directory and create a verification file. ","Archive the moved files, rename by appending old to the file name. ","It returns to getdata.pl and getdata.pl continues to execute the verification of the FTP. (To be able to execute FTP commands, the Net::FTP Perl module must be used). ","3. If the data files are remote and the platform is NT, the remote shell command will be used to run a script that will reside on the remote machine. The script will execute the following steps remotely.","Delete old archived files. ","If the files are to be moved, they are renamed with .tmp. ","Parse the system data and reconfigure for file renaming. ","Rename the files, add machine name, date and application extension. ","Ftp the files to the target directory and create a verification file. ","Archive the moved files, rename by appending .old to the file name. ","It returns to getdata.pl and getdata.pl continues to execute the verification of the FTP. (To be able to execute FTP commands, the Net::FTP Perl module must be used). \n\nData Manipulation Scripts\n"]}},"The scripts contained in the general function of data manipulation are: datamanipstage1.pl. calculatestats.pl, keycodes.pl, sortelmnt files.pl, unionall.pl and moveall.pl. The combination of these scripts takes the data from \/sa\/dev\/dat\/process, manipulates it and performs mathematical computations on it then moves it to the \/files6\/ipsa\/dataloads\/datafiles so that the SQL loader can load it into the database.","Detailed Description of Modules","datamanipstage.pl","The datamanipstage1.pl script is the main script which manipulates the data. If new applications are added, this will need to be modified. This script takes the individual data files in the configuration files, manipulates the data so that it is in the format defined by datamanipstage1.cfg and then outputs files in the form of <element>.element. This manipulation of data has several steps:\n\n","The calculatestats.pl script calculates the mean, maximum, minimum, sample size, and standard deviation for each metric in each *.element file. The output of the script is <element>.element.stage2 and <element>.element.stat for each .element file. The format of the *.stat files is <element>, <metric>, <instance>, <min>, =<max>, <mean>, <standard dev>, <sample size>.","keycodes.pl","The keycodespl script uses perfmetrictb.ext and networkelementtb.ext to look up the codes associated with the node or element being monitored. It assigns the key code to the name of the file in place of the element name (i.e. <\\vcode>.element.stage2 and <keycode>.element.stat). It also produces perfmetrictimetb.dat, which is a list of all of the unique date-time stamps appearing in the raw data and their corresponding epoch times (the number of seconds since Jan. 1, 1970)","sortelmntfiles.pl","The sortelmntfiles.pl sorts all of the <keycode>.element.stage2 and <Keycode>.element.stat files and renames them <keycode>.element.stage2.sorted and <keycode>.element.stat.sorted.","unionall.pl","The unionall.pl script takes the <keycode>.element.stage2.sorted files and concatenates them into perffacttb.dat and the <keycode>.element.stat.sorted files and concatenates them into perffactdlytb.dat.","moveall.pl","The moveall.pl script moves perffacttb.dat, perffactdlytb.dat and perfmetrictimetb.dat to \/files6\/ipsa\/dataloads\/data iles.","Data Manipulator Sample Raw Data","Patroller Data","File 1: nsmmpe291999902194516.dat",{"@attributes":{"id":"p-0159","num":"0271"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"259pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":",,nsmmpe29,HISTORYPropagator,HISTORYPropagator,GetHistoryData, 1999-"},{"entry":"08-03 19:35:04,0"},{"entry":",,nsmmpe29,NTCPU,CPU0,CPUprcrProcessorTimePercent, 1999-08-03"},{"entry":"19:42:51,1.83103"},{"entry":",,nsmmpe29,NTCPU,CPU0,CPUprcrProcessorTimePercent, 1999-08-03"},{"entry":"19:57:51,2.2381"},{"entry":",,nsmmpe29,NTCPU,CPU0,CPUprcrProcessorTimePercent, 1999-08-03"},{"entry":"20:12:52,3.98922"},{"entry":",,nsmmpe29,NTCPU,CPU0,CPUprcrProcessorTimePercent, 1999-08-03"},{"entry":"20:27:52,1.52942"},{"entry":",,nsmmpe29,NTMEMORY,NTMEMORY,MEMmemAvailableBytes, 1999-08-03"},{"entry":"19:34:41,4.14453"},{"entry":",,nsmmpe29,NTMEMORY,NTMEMORY,MEMmemAvailableBytes, 1999-08-03"},{"entry":"19:49:41,2.4375"},{"entry":",,nsmmpe29,NTMEMORY,NTMEMORY,MEMmemAvailableBytes, 1999-08-03"},{"entry":"20:04:41,1.85156"},{"entry":",,nsmmpe29,NTMEMORY,NTMEMORY,MEMmemAvailableBytes, 1999-08-03"},{"entry":"20:19:41,1.19531"},{"entry":",,nsmmpe29,NTMEMORY,NTMEMORY,MEMmemAvailableBytes, 1999-08-03"},{"entry":"20:34:41,1.14844"},{"entry":",,nsmmpe29,NTNETWORK,2,NETniPcktsPerSec, 1999-08-03 19:46:55,10.9169"},{"entry":",,nsmmpe29,NTNETWORK,2,NETniPcktsPerSec, 1999-08-03 20:01:55,11.5108"},{"entry":",,nsmmpe29,NTNETWORK,2,NETniPcktsPerSec, 1999-08-03 20:16:55,11.514"},{"entry":",,nsmmpe29,NTNETWORK,2,NETniPcktsPerSec, 1999-08-03 20:31:55,12.0128"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"br":{},"sub":["\u2014","\u2014"],"ul":{"@attributes":{"id":"ul0024","list-style":"none"},"li":[",,nsmmws09,CPU,CPU,CPUCpuUtil,1999-07-31 04:46:42,4",",,nsmmws09,CPU,CPU,CPUCpuUtil,1999-07-31 05:01:47,2",",,nsmmws09,CPU,CPU,CPUCpuUtil,1999-07-31 05:16:52,3",",,nsmmws09,CPU,CPU,CPUCpuUtil,1999-07-31 05:31:57,2",",,nsmmws09,DISK,sd4,DSKPercentBusy,1999-07-31 04:42:14,0",",,nsmmws09,DISK,sd4,DSKPercentBusy,1999-07-31 04:57:14,4",",,nsmmws09,DISK,sd4,DSKPercentBusy,1999-07-31 05:12:15,0",",,nsmmws09,DISK,sd4,DSKPercentBusy,1999-07-31 05:27:15,0",",,nsmmws09,MEMORY,MEMORY,MEMFreeMem, 1999-07-31 04:46:42,37184",",,nsmmws09,MEMORY,MEMORY,MEMFreeMem, 1999-07-31 05:01:47,37172",",,nsmmws09,MEMORY,MEMORY,MEMFreeMem, 1999-07-31 05:16:52,37168",",,nsmmws09,MEMORY,MEMORY,MEMFreeMem,1999-07-31 05:31:57,37168",",,nsmmws09,NETWORK,1e0,NETPacketsln,1999-07-31 04:43:05,6660",",,nsmmws09,NETWORK,1e0,NETPacketsIn,1999-07-31 04:58:06,6423",",,nsmmws09,NETWORK,1e0,NETPacketsIn,1999-07-3 1 05:13:06,6822",",,nsmmws09,NETWORK,1e0,NETPacketsIn,1999-07-31 05:28:07,6285",",,nsmmws09,NETWORK,1e0,NETPacketsOut, 1999-07-31 04:43:05,168",",,nsmmws09,NETWORK,1e0,NETPacketsOut, 1999-07-31 04:58:06,118",",,nsmmws09,NETWORK,1e0,NETPacketsOut, 1999-07-31 05:13:06,199",",,nsmmws09,NETWORK,1e0,NETPacketsOut,1999-07-31 05:28:07,118\n\nFile 3:twmmt021999901997338.dat\n",",,twmmnt02,HISTORYPropagator,HISTORYPropagator,GetHistoryData, 1 999-08-01 12:48:56,0",",,twmmnt02,NTCPU,CPU0,CPUprcrProcessorTimePercent,1999-08-01 13:02:42,0.835579",",,twmmnt02,NTCPU,CPU0,CPUprcrProcessorTimePercent, 1999-08-01 13:17:42,0.776552",",,twmmnt02,NTCPU,CPU0,CPUprcrProcessorTimePercent, 1999-08-01 13:32:42,0.795792",",,twmmnt02,NTCPU,CPU0,CPUprcrProcessorTimePercent,1999-08-01 13:47:42,0.786594",",,twmmnt02,NTMEMORY,NTMEMORY,MEMmemAvailableBytes,1999-08-01 13:02:49,21.4688",",,twmmnt02,NTMEMORY,NTMEMORY,MEMmemAvailableBytes,1999-08-01 13:17:49,21.5703",",,twmmntO2,NTMEMORY,NTMEMORY,MEMmemAvailableBytes,1999-08-01 13:32:49,16.7617",",,twmmt02,NTMEMORY,NTMEMORY,MEMmemAvailableBytes,1999-08-01 13:47:49,16.8359",",,twmmnt02,NTNETWORK,2,NETniPcktsPerSec,1999-08-01 13:02:40,14.9904",",,twmmnt02,NTNETWORK,2,NETniPcktsPerSec,1999-08-01 13:17:40,15.0483",",,twmmnt02,NTNETWORK,2,NETniPcktsPerSec,1999-08-01 13:32:40,14.8512",",,twmmnt02,NTNETWORK,2,NETniPcktsPerSec,1999-08-01 13:47:40,15.0225",",,twmmnt02,NTPHYSICALDISKS,DISK0,PDpdDiskTimePercent,1999-08-01 13:02:40,0",",,twmmnt02,NTPHYSICALDISKS,DISK0,PDpdDiskTimePercent, 1999-08-01 13:17:40,0",",,twmmnt02,NTPHYSICALDISKS,DISK0,PDpdDiskTimePercent, 1999-08-01 13:32:40,0",",,twmmnt02,NTPHYSICALDISKS,DISK0,PDpdDiskTimePercent,1999-08-01 13:47:40,0\n\nEvent Correlation and Manager Data\n\nFile 1: ifdata.log\n","Time=Aug. 11, 1999 09:39:27 Tue, LogId=22248, Severity-Normal, PropertyGroup=SARouterCollectionGroup, Node=nsmmrt04e2-1, Alarm=IfDataLogger, Ostate=Ground, Trigger=if Data, Nstate=Ground, TrapTime=, GenericTrapNumber=, Enterprise=, SpecificTrapNumber=,Instance=26, Object=if Entry, Attribute if Speed=100000000 Attribute ifInOctets=464859949 Attribute if OutOctets=312935185","Time=Aug. 11, 1999 09:39:27 Tue, LogId=22249, Severity-Normal, PropertyGroup=SARouterCollectionGroup, Node=nsmmrt04e2-1, Alarm=IfDataLogger, Ostate=Ground, Trigger=if Data, Nstate=Ground, TrapTime=, GenericTrapNumber=, Enterprise=, SpecificTrapNumber=,Instance=27, Object=if Entry, Attribute ifspeed=100000000 Attribute ifInOctets=0 Attribute if OutOctets=0","Time=Aug. 11, 1999 09:39:27 Tue, LogId=22250, Severity-Normal, PropertyGroup=SARouterCollectionGroup, Node=nsmmrt04e2-1, Alarm=IfDataLogger, Ostate=Ground, Trigger=if Data, Nstate=Ground, TrapTime=, GenericTrapNumber=, Enterprise=, SpecificTrapNumber=,Instance=28, Object=ifEntry, Attribute if Speed=100000000 Attribute ifInOctets=0 Attribute if OutOctets=0","Time=Aug. 11, 1999 09:39:27 Tue, LogId=22251, Severity-Normal, PropertyGroup=SARouterCollectionGroup, Node=nsmmrt04e2-1, Alarm=IfataLogger, Ostate=Ground, Trigger\\-if Data, Nstate=Ground, TrapTime=, GenericTrapNumber=, Enterprise=, SpecificTrapNumber=,Instance=29, Object=ifEntry, Attribute if Speed=3705032704 Attribute ifInOctets=0 Attribute ifoutOctets=0","Time=Aug. 11, 1999 09:39:27 Tue, LogId=22252, Severity-Normal, PropertyGroup=SARouterCollectionGroup, Node=nsmmrt03, Alarm=IfDataLogger, Ostate=Ground, Trigger=ifDfata, Nstate=Ground, TrapTime=, GenericTrapNumber=, Enterprise=, SpecificTrapNumber=,Instance=1, Object=ifEntry, Attribute if Speed=10000000 Attribute ifInOctets=1522731264 Attribute if OutOctets=2554292181","Time=Aug. 11, 1999 09:39:27 Tue, LogId=22253, Severity-Normal, PropertyGroup=SARouterCollectionGroup, Node=nsmmrt03, Alarm=IfDataLogger, Ostate=Ground, Trigger=ifData, Nstate=Ground, TrapTime=, GenericTrapNumber=, Enterprise=, SpecificTrapNumber=,Instance=2, Object=ifEntry, Attribute if Speed=10000000 Attribute ifInOctets=0 Attribute ifoutOctets=0","Time=Aug. 11, 1999 09:39:27 Tue, LogId=22254, Severity-Normal, PropertyGroup=SARouterCollectionGroup, Node=nsmmrt03, Alarm=IfDataLogger, Ostate=Ground, Trigger=ifData, Nstate=Ground, TrapTime=, GenericTrapNumber=, Enterprise=, SpecificTrapNumber=,Instance=3, Object=ifEntry, Attribute if Speed=10000000 Attribute ifInOctets=0 Attribute if OutOctets=0","Time=Aug. 11, 1999 09:39:27 Tue, LogId=22255, Severity=Normal, PropertyGroup=SARouterCollectionGroup, Node=nsmmrt03, Alarm=IfDataLogger, Ostate=Ground, Trigger=if Data, Nstate=Ground, TrapTime=, GenericTrapNumber=, Enterprise=, SpecificTrapNumber=,Instance=4, Object=ifEntry, Attribute if Speed=10000000 Attribute if InOctets=0 Attribute if OutOctets=0","Time=Aug. 11, 1999 09:39:27 Tue, LogId=22256, SeverityNormal, PropertyGroup=SARouterCollectionGroup, Node=nsmmrt03, Alarm=IfDataLogger, Ostate=Ground, Trigger=ifData, Nstate=Ground, TrapTime=, GenericTrapNumber=, Enterprise=, SpecificTrapNumber=,Instance=5, Object=if Entry, Attribute ifSpeed=10000000 Attribute ifInOctets=958056 Attribute if OutOctets=3610555\n\nFile 2: lsystemdata.log\n","Time=Aug. 11, 1999 09:18:26 Tue, LogId=22153, Severity=Normal, PropertyGroup=SARouterCollectionGroup, Node=nsmmrt04e2-1, Alarm=lsystemDataLogger, Ostate=Ground, Trigger=lsystemData, Nstate=Ground, TrapTime=, GenericTrapNumber=, Enterprise=, SpecificTrapNumber=,Instance=0, Object=lsystem, Attribute busyPer=4","Time=Aug. 11, 1999 09:18:28 Tue, LogId=22154, Severity=Normal, PropertyGroup=SA\\RouterCollectionGroup, Node=nsmmrt03, Alarm =lsystemDataLogger, Ostate=Ground, Trigger=lsystemData, Nstate=Ground, TrapTime=, GenericTrapNumber=, Enterprise=, SpecificTrapNumber=,Instance=0, Object=lsystem, Attribute busyPer=4","Time=Aug. 11, 1999 09:33:38 Tue, LogId=22219, Severity=Normal, PropertyGroup=SARouterCollectionGroup, Node=nsmmrt04e2-1, Alarm=lsystemDataLogger, Ostate=Ground, Trigger=lsystemData, Nstate=Ground, TrapTime=, GenericTrapNumber=, Enterprise=, SpecificTrapNumber=,Instance=0, Object=lsystem, Attribute busyPer=2","Time=Aug. 11, 1999 09:33:40 Tue, LogId=22220, Severity=Normal, PropertyGroup=SARouterCollectionGroup, Node\u201d=nsmmrt03, Alarm=lsystemDataLogger, Ostate=Ground, Trigger=lsystemData, Nstate=Ground, TrapTime=, GenericTrapNumber=, Enterprise=, SpecificTrapNumber=,Instance=0, Object=lsystem, Attribute busyPer=7","Time=Aug. 11, 1999 09:48:43 Tue, LogId=22283, Severity=Normal, PropertyGroup=SARouterCollectionGroup, Node=nsmmrt04e2-1, Alarm=lsystemDataLogger, Ostate=Ground, Trigger=lsystemData, Nstate=Ground, TrapTime=, GenericTrapNumber=, Enterprise=, SpecificTrapNumber=,Instance=0, Object=lsystem, Attribute busyPer=2","Time=Aug. 11, 1999 09:48:45 Tue, LogId=22284, Severity=Normal, PropertyGroup=SARouterCollectionGroup, Node=nsmmrt03, Alarm=lsystemDataLogger, Ostate=Ground, Trigger=lsystemData, Nstate=Ground, TrapTime=, GenericTrapNumber=, Enterprise=, SpecificTrapNumber=,Instance=0, Object=lsystem, Attribute busyPer=10","Time=Aug. 11, 1999 10:03:49 Tue, LogId=22347, Severity=Normal, PropertyGroup=SARouterCollectionGroup, Node=nsmmrt04e2-1, Alarm=lsystemDataLogger, Ostate=Ground, Trigger=lsystemData, Nstate=Ground, TrapTime=, GenericTrapNumber=, Enterprise=, SpecificTrapNumber=,Instance=0, Object=lsystem, Attribute busyPer=4","Time=Aug. 11, 1999 10:03:51 Tue, LogId=22348, Severity=Normal, PropertyGroup =SARouterCollectionGroup, Node=nsmmrt03, Alarm=lsystemDataLogger, Ostate=Ground, Trigger=lsystemData, Nstate=Ground, TrapTime=, GenericTrapNumber=, Enterprise=, SpecificTrapNumber=,Instance=0, Object=lsystem, Attribute busyPer=6","Time=Aug. 11, 1999 10:18:56 Tue, LogId=2241 7, Severity=Normal, PropertyGroup=SARouterCollectionGroup, Node=nsmmrt04e2-1, Alarm=lsystemDataLogger, Ostate=Ground, Trigger=lsystemData, Nstate=Ground, TrapTime=, GenericTrapNumber=, Enterprise=, SpecificTrapNumber=,Instance=0, Object=lsystem, Attribute busyPer=3","Time=Aug. 11, 1999 10:18:58 Tue, LogId=22418, Severity=Normal, PropertyGroup=SARouterCollectionGroup, Node=nsmmrt03, Alarm=lsystemDataLogger, Ostate=Ground, Trigger=lsystemData, Nstate=Ground, TrapTime=, GenericTrapNumber=, Enterprise=, SpecificTrapNumber=,Instance=0, Object=lsystem, Attribute busyPer=3\n\nDesired Metrics and their Standard or Derive Metrics\n"]}},{"@attributes":{"id":"p-0160","num":"0328"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"91pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 1"},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":[{},{},"Standard or Derived"]},{"entry":["SNMP metrics","Patroller metrics","Metric"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["busyPer","n\/a","CpuBusyPercent"]},{"entry":["ifInOctects,","n\/a","InterfaceUtilizationPercent"]},{"entry":"ifOutOctets,"},{"entry":"ifSpeed"},{"entry":["ifInOctets,","n\/a","InterfaceUtilizationBPS"]},{"entry":"ifOutOctets,"},{"entry":"ifSpeed"},{"entry":["n\/a","CPUCpuUtil","CpuUtilizationPercent"]},{"entry":["n\/a","MEMFreeMem","MemoryFreeBytes"]},{"entry":["n\/a","NETPacketsIn,","NetworkTrafficPPS"]},{"entry":[{},"NETPacketsOut"]},{"entry":["n\/a","DSKPercentBusy","DiskBusyPercent"]},{"entry":["n\/a","CPUprcrProcessorTime","CpuProcessorTimePercent"]},{"entry":[{},"Percent"]},{"entry":["n\/a","MEMmemAvailable","MemoryFreeBytes"]},{"entry":[{},"Bytes"]},{"entry":["n\/a","NETniPcktsPerSec","NetworkTrafficPPS"]},{"entry":["n\/a","PDpdDiskTimePercent","DiskTimePercent"]},{"entry":["n\/a","ftpResponseTime","FtpResponseTimeSeconds"]},{"entry":["n\/a","smtpResponseTime","SmtpResponseTimeSeconds"]},{"entry":["n\/a","nntpResponseTime","NntpResponseTimeSeconds"]},{"entry":["n\/a","httpResponseTime","HttpResponseTimeSeconds"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}}},"br":{}},"The purpose of the data loader in the SA toolkit is to perform recommended operations on the gathered event data before it is loaded into the database. Primarily, the raw data files need to be concatenated, reformatted, translated to key codes, and sorted. In addition, the data loader will also perform statistical calculations on the data for daily \u201croll-up\u201d reports to be loaded into the database.","Body Section","Patroller Data","Performance data from Patroller collectors is in the following text log file format:\n\n","After parsing and reordering, the format is:\n\n","Finally, the element name and metric name must be translated to their corresponding key codes and the date time must be converted to the format consistent with the database:\n\n","Event Correlator and Manager (ECM) Data","Performance data from ECM collectors is in the following text log file format: (note: fields in italics are do not have values for poll data):\n\n","After parsing and reordering, the format is:\n\n","Finally, the element name and metric name must be translated to their corresponding key codes and the date time must be converted to the format consistent with the database:\n\n",{"@attributes":{"id":"p-0169","num":"0359"},"figref":"FIG. 9","b":"900"},"Load Config File ",{"@attributes":{"id":"p-0170","num":"0000"},"ul":{"@attributes":{"id":"ul0031","list-style":"none"},"li":["Inputs: Configuration file.","Description: This subroutine will open the configuration file, read in the required values to three arrays and close the configuration file.","Outputs: Three arrays: @SectionNames, @SectionMarker, @SectionValues. @SectionNames will contain all of the section titles found in the Config file, (SECTIONGENERAL, SECTIONCONCATENATEFILES, SECTIONREORDERFIELDS . . . ); @SectionValues will contain each line from the config file (that isn't a section header, a blank line, or a comment) as a single element; @SectionMarker will contain the index number of the last line of each section. This way, you can pull out just the elements of the @SectionValues array that you need for a given functional block.\n\nConcatenate All Files \n","Inputs: All log files in the directory sa\/prd\/dat\/process\/ECM and sa\/prd\/dat\/process\/Patroller. ECM data will have a .nrc extension, Patroller data will have a .pat extension.","Description: This subroutine will concatenate all files from a given source into one master file. For each file in the directory (\/ECM and\/Patroller), it will read in each line, and:\n    \n    ","Inputs: Master.nrc and master.pat. (Proper order, comma separated, all text).","Description: For each master file, this subroutine will read each line, create an element file for each unique element, and write the line to the appropriate file.","Outputs: The files element1.elemnrc, element2.elemnrc, . . . (for all elements found in master.nrc) and the files element1.elempat, element3.elempat (for all elements found in master.pat).\n\nConvert Date-Time Stamps to Standard \n","Inputs: Element files. (*.elemnrc, *.elempat, proper order, comma separated, all text)","Description:. Convert the current date time stamps to a standard format (e.g. the 1999-07-30 15:42:13 format found in Patroller files would be converted to . . . )","Outputs: Element files.\n\nConvert to Standard Metric Names \n","Inputs: Element files. (*.elemnrc, *.elempat, proper order, comma separated, all text).","Description: For each element file, this function will lookup each metric name in a hash or flatfile. If found, it will convert it to standard. Else, it's already standard.","Outputs: (Expanded) Element files.\n\nSort Element files by Metric Time \n","Inputs: Element files (*.elemnrc, *.elempat, proper order, comma separated, all text).","Description: This subroutine will perform and ordered sort on each element file, sorting first by metric, then by time stamp.","Outputs: Element files.\n\nCalculate Derived Fields \n","Inputs: Element files. (*.elemnrc, *.elempat, proper order, comma separated, all text, sorted by metric and timestamp).","Description: For each element file, this subroutine will read each line and search for all metrics (at a given time) required to calculate derived metrics, calculate the given derived metric, create a new line for this derived metric, and append this line to the end of the file.","Outputs: Element files.\n\nCalculate Statistical Data and create Rollup Files \n","Inputs: Element files. (*.elemnrc, *.elempat, proper order, comma separated, all text, sorted by metric and timestamp, derived metrics at end of file).","Description: For each element file, this subroutine will","1) read each line for a given metric,","2) store each value into a temp array,","3) calculate min, max, mean, standard dev., and sample size,","4) create a new line (<element>, <metric>, <time>, <min>, <max>, <mean>, <stddev>, <n>),","5) write this line to a newly created rollup file and","6) repeat for the next metric.","Outputs: Original element files (unchanged), rollup files stats.elemdailypat, stats.elemdailynrc\n\nConvert all Text Fields to Key Codes \n","Inputs: Element files (*.elemnrc, *.elempat, proper order, comma separated, all text, sorted by metric and timestamp, derived metrics at end of file), and rollup files.","Description: For each file, this subroutine will read each line, convert each text field to a key code (according to a lookup table in a hash or file, except for the time field, which will be calculated), and write the line to a temp file. When all lines have been converted, the source file will be deleted, and the temp file will be moved to the source file."]}},"For each file and for each unique time stamp, create a new line with the new calculated time key cd (<perf timekeycd>, <dt>, <day>, <mon>, <yr>, <hour>, <min>, <sec>, <dow>) and write to a file perfmetrictimetb.dat file. (This file then should be collapsed to remove duplicate time stamps from different elements). \n\n",{"@attributes":{"id":"p-0172","num":"0410"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Metric Names"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"91pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["SNMP",{},{}]},{"entry":["metrics","Patroller metrics","Standard or Derived Metric"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["busyPer","n\/a","CpuBusyPercent"]},{"entry":["ifInOctects,","n\/a","InterfaceUtilizationPercent"]},{"entry":"ifOutOctets,"},{"entry":"ifSpeed"},{"entry":["ifInOctets,","n\/a","InterfaceUtilizationBPS"]},{"entry":"ifOutOctets,"},{"entry":"ifSpeed"},{"entry":["n\/a","CPUCpuUtil","CpuUtilizationPercent"]},{"entry":["n\/a","MEMFreeMem","MemoryFreeBytes"]},{"entry":["n\/a","NETPacketsIn,","NetworkTrafficPPS"]},{"entry":[{},"NETPacketsOut"]},{"entry":["n\/a","DSKPercentBusy","DiskBusyPercent"]},{"entry":["n\/a","CPUprcrProcessorTime","CpuProcessorTimePercent"]},{"entry":[{},"Percent"]},{"entry":["n\/a","MEMmemAvailableBytes","MemoryFreeBytes"]},{"entry":["n\/a","NETniPcktsPerSec","NetworkTrafficPPS"]},{"entry":["n\/a","PDpdDiskTimePercent","DiskTimePercent"]},{"entry":["n\/a","ftpResponseTime","FtpResponseTimeSeconds"]},{"entry":["n\/a","smtpResponseTime","SmtpResponseTimeSeconds"]},{"entry":["n\/a","nntpResponseTime","NntpResponseTimeSeconds"]},{"entry":["n\/a","httpResponseTime","HttpResponseTimeSeconds"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}},"br":{}},"This section describes how to configure the Event Correlator and Manager (UNIX) to collect performance data. It covers the process of adding property groups, creating polls, and building alarms to collect basic performance statistics from CISCO routers. Although the examples are specific to CISCO routers, the concepts and processes introduced are transitive, and can be used to implement collection for other types of SNMP devices.","Accordingly,  depicts an embodiment of the present invention which generates an alarm to indicate a status of a network for service assurance purposes. Such purposes can include identifying errors and faults, monitoring system resources, anticipating problems, etc. Once a parameter of a network that is to be monitored is selected in operation , a triggering level of the parameter is determined in operation . In operation , the parameter for an occurrence of the triggering level is monitored. If the triggering level is reached, an alarm is initiated in operation .","In one aspect of the present invention, the alarm is named for identification purposes. Optionally, the parameter can be adapted to be monitored for a plurality of components of the network. In such an embodiment, a separate alarm notification may be initiated for each of the components upon the monitored occurrence of the triggering level thereon.","As an option, the alarm notification may be stored upon its initiation. Preferably, the alarm notification is stored until the occurrence of a user action.","Assumptions:",{"@attributes":{"id":"p-0177","num":"0000"},"ul":{"@attributes":{"id":"ul0034","list-style":"none"},"li":{"@attributes":{"id":"ul0034-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0035","list-style":"none"},"li":["The ECM MIB definition for your network hardware has been added to the MIB file.\n\nStarting the Client\n","Start the ECM Client as \u2018no\u2019, if it is not already running.","Using the Server\/Connect menu selection, connect to the network management station as (i.e. nsmmwsl6) as \u2018noc\u2019.","Using the Server\/Resync menu selection, resynchronize the ECM database with the platform database containing managed nodes (i.e. HP NNM).\n\nCreate a new \u2018Property Group\u2019\n"]}}}},"Property groups allow categorization of managed devices into groups. The groups can be based on device types, location, priority, supported MIBs, business function, or any other useful characteristic. Polls or alarms can be restricted to the members of one or more property groups.\n\n","Adding properties to an existing property group enables one to take advantage of the flexibility of property groups. Properties may need to be added if it is desired to:\n\n","For the purposes of this example, the \u201clsystem\u201d base object property will be added, defined in the cscoe.asnl MIB definition; as well as a custom property to make the property group unique.\n\n","In the following example, SARouterCollectionGroup, the property groups created in the previous section, will be assigned to a single router.\n\n","Poll lsystemDataPoll",{"@attributes":{"id":"p-0182","num":"0000"},"ul":{"@attributes":{"id":"ul0045","list-style":"none"},"li":{"@attributes":{"id":"ul0045-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0046","list-style":"none"},"li":["Poll rate=15 min","True Trigger=lsystemDataTrigger","Property=SARouterCollectionProperty","Poll condition:","Base object=lsystem","lsystem.avgBusy1 present and","lsystem.avgBusy5 present and","lsystem.busyPer present\n\nCreate a new \u201cAlarm\u201d\n","Open the \u2018Alarm Definitions\u2019 list from the Patroller console using \u2018Admin->Alarm Definitions . . . \u2019 selection.","Select \u2018Add\u2019 from the Alarm window.","Configure the new Alarm.","Select a new name for the Logging alarm.","Select the property of the device group you want to collect data from.","Select the \u2018State Diagram\u2019 button.","Using the \u2018New State\u2019 button, create 2 states called \u2018Ground\u2019 and \u2018Logging\u2019. The \u2018Severity\u2019 of both states should be set to \u2018normal\u2019.","Using the \u2018New Transition\u2019 button, create a transition from \u2018Ground\u2019 to \u2018Logging\u2019. The trigger for this transition should be the name of the \u2018Poll Trigger\u2019 you defined in section 3.1.4. Select \u2018Apply\u2019. Under \u2018Action\u2019 select \u2018Log\u2019 and type the name of the log file where you want the data stored in the \u2018Arguments\u2019 field. Note: use the name of the trigger with a \u2018.log\u2019 extension for the log name. Do not enter a path name as all data is stored in the pre-defined ECM logging directory.","Create the same transition from \u2018Logging\u2019 to \u2018Logging\u2019.","In the \u2018Alarm Configuration View\u2019 select \u2018On\u2019 and \u2018Apply\u2019.\n\nNote\/Caution:\n"]}}}},"When designing a logging alarm based on two states (i.e. ground and logging), be aware that a new 5K instance of the alarm may be instantiated and remain in memory for each object within the defined scope. For example, a subobject scoped alarm with two states, ground and logging, created to collect interfaced data from a router would be instantiated once for each interface on all routers in the target property group. Because this alarm contains two states, ground and logging, the alarm remains in memory until manually stopped as it never returns to the ground state. One method of avoiding this unnecessary overhead is to create the logging alarm with only one state, ground, and a single transition from ground to ground.","Design is Ground to Ground, with a single transition based on the \u2018lsystemDataTrigger\u2019 defined in the example poll above.","Alarm=lsystemDataLogger",{"@attributes":{"id":"p-0185","num":"0000"},"ul":{"@attributes":{"id":"ul0047","list-style":"none"},"li":{"@attributes":{"id":"ul0047-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0048","list-style":"none"},"li":["Property=SARouterCollectionProperty","Scope=node","State List:","Ground\u2014Normal","Transition List:","Ground\u2192Ground Trigger=if DataTrigger","Action=Log to file:","Ifdata.log","Verbose enabled\n\nUpdate the Nerve Center Schema Files\n"]}}}},"The ECM schema file(s) (e.g. ecmschema.def) are used by the SA data management subsystem to define and upload data into SAS datasets.\n\n","TABLE,NCSWRMON,RMONData,NCRMONDataLogger,INDEXED",{"@attributes":{"id":"p-0187","num":"0000"},"ul":{"@attributes":{"id":"ul0051","list-style":"none"},"li":{"@attributes":{"id":"ul0051-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0052","list-style":"none"},"li":"Add a line for each attributed collected. These lines have 5 fields separated by commas.\n\nField 1\u2014Name of the SAS Dataset defined in the \u2018TABLE\u2019 line.\n\nField 2\u2014New name of the attribute. This name must be 7 characters or less.\n\nField 3\u2014Name of the \u2018Poll Trigger\u2019.\n\nField 4\u2014Name of the Attribute being collected by ECM.\n\nField 5\u2014Type of data. (STRING, C2RATE, GAUGE, INT)\n\nSTRING: Alphanumeric string.\n\nC2RATE: If the data is a rising counter, the label will tell SAS to convert it to a rate for the interval in which is was collected.\n\nGAUGE: If the data is already a rate or a percentage. SAS will do no conversion.\n\nINT: If the data is an integer (Ex: Interface number)\n"}}}},"NCSWRMON,INBITS,RMONData,etherStatsDataSource,STRING",{"@attributes":{"id":"p-0188","num":"0000"},"ul":{"@attributes":{"id":"ul0053","list-style":"none"},"li":{"@attributes":{"id":"ul0053-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0054","list-style":"none"},"li":"Add a line to signify the end of the configuration section. This line has 3 fields separated by commas.\n\nField 1\u2014\u2018ENDTABLE\u2019 label\n\nField 2\u2014Name of new SAS dataset.\n\nField 3\u2014Name of the ECM Alarm.\n"}}}},"ENDTABLE,NCSWRMON,NCRMONDataLogger","One embodiment of the present invention, shown in , is used to develop a database. Data is extracted from a source system with an application program in operation . The data is translated into a consistent model in operation . The model contains information selected from one or more of performance metric information, time data, geographic location data, and event data. The modeled data is stored in a database in operation . The data is analyzed in operation  based on the information and the results of the analysis are output. It should be noted that the data may be analyzed before or after storing.","In one aspect of the present invention, the data is extracted using a plurality of application programs. Further, the information may include performance metric information, time data, geographic location data, and event data.","In yet another aspect of the present invention, the results may be outputted by way of reports and charts. Further, identifiers may be assigned to groups of the data. The data can also be stored in a plurality of databases including a first database for development purposes, a second database for testing purposes, and a third database for production purposes.","Refer to the following sections for more detailed information and additional embodiments.","Database Design","The database for the Service Assurance Toolkit can be designed as a data warehouse. This design offers greater performance and flexibility, which will enable the database to evolve in future releases of the Service Assurance Toolkit. The architecture for a successful data warehouse, by which we mean the end-to-end tools and processes, will vary from implementation to implementation. A typical data warehousing architecture should include, as a minimum:\n\n","The design of the SA database should also be independent of any relational DBMS. By doing this the SA toolkit will be more portable across platforms and will allow us to better meet client needs. Also, the design of the database may contain all necessary information to meet the requirements laid out in the reporting requirement document. For the SA toolkit, the data model should contain information such as:\n\n","The design of the database can utilize surrogate keys to uniquely identify records. This will be done to increase query performance as well as to add flexibility to the database design. However, this adds complexity to the data manipulation because look-ups on the surrogate keys will need to take place.","Physical Database","The SA toolkit may be built on the Oracle RDBMS platform. While this is a specific platform, the physical design of the database can be independent of Oracle and portable to the major players in the RDBMS world i.e. Sybase, Informix, DB2, Microsoft, etc.","Development Environment","The database environment will have one database for the entire development process. However, for larger networks, more databases can be installed. For example, three databases may be installed\u2014one database each for the devel, test, and production environments.","The installation and file system structure for the database will follow an Optimal Flexible Architecture (OFA). OFA is a set of 13 guidelines or goals to follow in order to standardize the database environment.","Database Backup\/Recovery","Backups of the SA database will meet the following requirements:\n\n","All database objects (DDL, scripts, code) will be placed under source control. This will be done to allow for versioning when databases for other environments are implemented. This also places these objects in a centralized location for easy access.","Data Management, Retention and Volume","Data Volume","The estimated volume of detailed data is 2,000,000 rows per day. The physical design of the database will be built to handle this volume while remaining flexible enough to handle a large increase in volume.","Data Manipulation","Due to the fact surrogate keys will be used to uniquely identify records, a look-up process needs to occur in the data manipulation process. A perl script will be written to extract surrogate key information from the database to flat files. The data manipulation process will use these files to generate flat files in a format that can be loaded into the database tables.","During the nightly batch window, all the detailed level data will be rolled up into daily summary data.","Data Loading","The detailed records will be loaded in via a perl script which utilizes an SQL*Loader utility. While all of the major RDBMS vendors have some sort of data loading utility, they are all different syntactically. Thus, this script may need to change depending on the type of database. For phase 2, the detailed data may be loaded once a day during the nightly batch run.","Daily rollup data will also be loaded via the load script at the same time the detail records are loaded. This is possible because all of the data manipulation is occurring outside of the RDBMS.","Data Retention","Phase 2 recommends detailed level data to be retained for 40 days and daily rollup data retained for 13 months. A perl script will be written to purge this data once is has expired. This process will run nightly, before the actual loading of the data occurs.","Database Developer","The purpose of this section is to outline the steps taken to install a Database Developer portion of the present invention on a server. The following examples will teach how to install the Database Developer on both a Windows NT Workstation and a HP 9000 Server. This section should also be applicable to install the Database Developer on different servers. \u201cDbse\u201d throughout the description of the present invention denotes a database program.","Minimum System Requirements","The minimum system requirements should be determined before installation of the Database Developer. Exemplary minimum system requirements are:","Each Client Workstation",{"@attributes":{"id":"p-0209","num":"0000"},"ul":{"@attributes":{"id":"ul0061","list-style":"none"},"li":[{"@attributes":{"id":"ul0061-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0062","list-style":"none"},"li":["90 MHz processor","32 Mb RAM, 1 Gb hard disk","60\u2013680 Mb available disk space (depending on the components you choose to install","Windows NT 4.0\/95","SQL*Net Client 2.3.4","TCP\/IP Adapter","SQL*Plus 3.3.4","CD-ROM drive\n\nOn the Server (for each Repository Created).\n","125 Mb in the SYSTEM tablespace","20\u2013330 Mb in other tables for the Repository data","16\u201328 Mb available RAM for the System Global Area\n\nPre-Installation Steps\n","Verify the system requirements are met at each client workstation","Verify the Server is correctly installed and accessible on the network","Verify the database instance you wish to use has been created and functions correctly\n\nClient Installation\n"]}},"1. Log on to the client workstation as a user with administrative privileges but not as an administrator","2. Close all other applications","3. Insert the Database Developer media into a media reading device, (e.g., insert a CD into the CD-ROM drive)","4. In the Installation Settings dialog box:\n    \n    ","5. Select Yes in all Update message boxes to update out-of-date products","6. Select No in all Up to Date message boxes to avoid reinstalling products","7. Select OK in all General Information and System Support Files message boxes to acknowledge message","8. Select OK to acknowledge the products that will be installed","9. Select OK to acknowledge that Installation is complete","10. Configure SQL*Net as follows:\n    \n    ","1. Log on to the UNIX Server that holds the database","2. Start the database instance, if not already running","3. Verify that TNS Listener is running","4. Log onto SQL*Plus as system","5. In SQL*Plus, verify that the procedural option has been installed","a) Execute the following SQL statement:\n\nSQL>create or replace procedure test as x varchar2(10)\n","2 begin","3 if x is null then null","4 end if","5 end","6\/\n\nWarning: Procedure created with compilation errors.\n\nSQL>drop procedure test;\n\nProcedure dropped.\n","b) If the SQL statement returns an error (as above), continue to step c. Otherwise go to step 5.","c) Run the following SQL script to install the option where dbsehome is the location where dbse is installed (C:\\DBSNT):\n\nSQL>@dbsehome\/rdbms\/73\/admin\/catproc.sql\n","6. Create two tablespaces, one for Repository Data and another for Repository Index, of size 100 Mb each","7. Create one tablespace for small rollback segments (recommended four rollback segments @(10 Mb each)","8. Create one large tablespace for the rollback statement used during installation. The size of this rollback segment should be as big as possible (recommended at least 100 Mb). In this tablespace, create one rollback segment and put it online (this rollback segment and tablespace can be removed after install)","9. Take all rollback segments offline except the SYSTEM rollback segment and the one created in step 8","10. Check the size of the SYSTEM tablespace. You will need at least 125 Mb of free space for the installation.","11. Create the Repository owner and grant connection and resource roles","12. Check the settings in the INITxxx.DBA (where xxx is the name of the database) file and change if necessary.","13. If any changes were made to INITxxx.DBA in the previous step, shut down and restart the database. Make sure to close anySQL*Plus windows that are open. Once the database is restarted successfully, exit Server Manager\n\nActivities at the Client\n","1. Log on to the Client Workstation as a user with administrative privileges but not as an administrator","2. Log on to the database using SQL*Plus","3. Create a role called OWNER","a) Execute the following SQL statement where home is the directory where the Database Developer was installed:\n\nSQL>home\\repadm20\\utl\\ckrorole.sql\n","b) Issue all privileges that apply to the Repository owner","4. Grant the role created in step 3 to the Repository owner","5. Close any SQL*Plus windows that are open","6. Start the Repository Administration Utility","7. Connect as the Repository owner","8. Click the View Privileges button and verify the required system privileges and roles are granted for the Repository owner. If privileges and roles are correct, continue by clicking Cancel","9. Click the View Tablespace button to check whether the SYSTEM tablespace is fragmented. If the SYSTEM tablespace is not fragmented, continue by clicking Cancel","10. Click the View Parameters button to verify the parameters are set correctly. If they are correct, continue by clicking Cancel","11. Click the Install button on the Repository Administration Utility window","12. Choose Small, Medium, or Large in the Repository Size box according to the expected initial size of the Repository and click the Estimate button","13. Click the Pre-Check button to view a list of system privileges. Insure all privileges have a check mark under the \u201cHas Privilege?\u201d column. If so, continue by clicking OK","14. Click the Tablespace button to view all available tablespaces. Insure there is sufficient space in each tablespace. If so, continue by clicking Cancel","15. Assign tablespaces for indexes by using the dropdown lists under Index Tablespaces and for tables using the dropdown lists under Table Tablespaces using the tablespaces created in step 6","16. Start installation by clicking on the Start button. NOTE: expect this step to take 2\u20133 hours","17. When you see the message box saying Operation Complete, click OK, then Cancel","18. Examine the log files to ensure that there are no errors and warnings. These files can be deleted if they contain no errors or warnings and all post-installation is procedures run correctly","19. Delete temporary tablespace\/rollback segment","20. Put all other rollback segments online\n\nAutomatic Startup and Shutdown of Database\n"]}},"This section will outline the steps to setup automatic database startup and shutdown procedures on a HP 9000 server. This process is operating system dependent, but a similar procedure should be applicable for other servers. Consult the correct installation guide for the exact process for the particular server you are working with.","Required Files","The following files are required for automatic startup and shutdown. Some of the files will be created in the process, some are already created, while others are symbolic links.","\/sbin\/init.d\/dbse","This file contains the main script for the database startup and shutdown. It can be created from \/sbin\/init.d\/template. This script will start the database with the command su-dbse-c dbstart and shut it down with the command su-dbse-c dbstop.","\/etc\/rc.config.d\/dbse","This file contains assignment statements that will enable automatic startup and shutdown procedures. It will be created during configuration.","\/etc\/rc1.d\/K100dbse->\/sbin\/init.d\/dbse","This file is a link to the \/sbin\/init.d\/dbse script. Depending on the three-digit number after the \u201cK\u201d, the script will be executed in ascending order at shutdown. The value after \u201cK\u201d should be as small as possible so the database is one if the first processes to be shutdown.","\/etc\/rc2.d\/S990 dbse->\/sbin\/init.d\/dbse","This file is a link to the \/sbin\/init.d\/dbse script. Depending on the three-digit number after the \u201cS\u201d, the script will be executed in ascending order at startup. The value after \u201cS\u201d should be as large as possible so the database is one if the first processes to be shutdown.","\/etc\/dbstab","This file defines which databases are started automatically. The dbse installer creates this file. It simply needs to be modified. If the database is created manually, this file needs to be created.","Create \/sbin\/init.d\/dbse script","Make a copy (but do not remove)\/sbin\/init.d\/template and name it \/sbin\/init.d\/dbse.","Create\/etc\/rc.config.d\/dbse file","Create a file named dbse in the \/etc\/rc.config.d\/directory. In this file, include the following assignment statements:","DBSESTART=1","Export DBSESTART","Edit the \/etc\/dbstab File","This file will already be created if the installer program is used to create the database. This file includes all database that are to be started automatically at system boot. An entry for each database instance will be listed in this file in the format where Y indicates automatic startup and shutdown is activated and N indicates it is not activated:","DBSESID:DBSEHOME:{Y\\N}","For each database in which you want to invoke automatic startup and shutdown, make changes as necessary to activate automatic startup and shutdown.","Create a Link from \/sbin\/rc1.d\/Kxxxdbse to \/sbin\/init.d\/dbse","The scripts in the directory \/sbin\/rc1.d are executed when the system is shut down. Scripts are executed in ascending order determined by the three-digit number after the \u201cK\u201d (where the number is xxx of the filename Kxxxdbse). This number defines ordering between all scripts located in the \/sbin\/rc1.d directory. Number the script as low as possible in order to ensure that dbse is shut down before any other processes.","Create a Link From \/sbin\/rc2.d\/Sxxxdbse to \/sbin\/initd\/dbse","The scripts in the directory \/sbin\/rc2.d are executed when the system is started. Scripts are executed in ascending order determined by the three-digit number after the \u201cS\u201d (where the number is xxx of the filename Sxxxdbse). This number defines ordering between all scripts located in the \/sbin\/rc2.d directory. Number the script as high as possible in order to ensure that dbse is shut down before any other processes.",{"@attributes":{"id":"p-0223","num":"0610"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\/sbin\/init.d\/dbse"},{"entry":"#!\/sbin\/sh"},{"entry":"#"},{"entry":"PATH=\/sbin:\/usr\/sbin:\/usr\/bin"},{"entry":"export PATH"},{"entry":"rval=0"},{"entry":"setreturn () {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"x=$?"]},{"entry":[{},"if [ $x -ne 0 ]"]},{"entry":[{},"then"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"echo \u201cEXIT CODE: $x\u201d"]},{"entry":[{},"rval=1"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"fi"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"case $1 in"},{"entry":"startmsg)"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"echo \u201cStart Dbse\u201d"]},{"entry":[{},";;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"stopmsg)"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"echo \u201cStop Dbse\u201d"]},{"entry":[{},";;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"\u2018start)"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"if [ -f\/etc\/rc.config.d\/dbse ]"]},{"entry":[{},"then"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},".\/etc\/rc.config.d\/dbse"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"else"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"echo \u201cERROR: \/etc\/rc.config.d\/dbse MISSING\u201d"]},{"entry":[{},"exit 2"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"fi"]},{"entry":[{},"if [ ${DBSESTART} -eq 1 ]"]},{"entry":[{},"then"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"echo \u201cStarting Dbse\u201d"]},{"entry":[{},"su - dbse -c dbstart"]},{"entry":[{},"setreturn"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"else"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"rval=2"]},{"entry":[{},"fi"]},{"entry":[{},";;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\u2018stop\u2019)"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"if [ -f\/etc\/rc.config.d\/dbse ]"]},{"entry":[{},"then"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},".\/etc\/rc.config.d\/dbse"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"else"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"echo \u201cERROR: \/etc\/rc.config.d\/dbse MISSING\u201d"]},{"entry":[{},"exit 2"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"fi"]},{"entry":[{},"if[ ${DBSESTART} -eq 1 ]"]},{"entry":[{},"then"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"echo \u201cStopping Dbse\u201d"]},{"entry":[{},"su - dbse -c dbshut"]},{"entry":[{},"setreturn"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"else"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"rval=2"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"fi"]},{"entry":[{},";;"]},{"entry":[{},"*)"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"echo \u201cUsage: $0 {start|stop}\u201d"]},{"entry":[{},";;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"esac"]},{"entry":[{},"exit $rval"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}},"br":{}},"This section will outline the processes to start and stop a database on a HP 9000 server. It will also outline the process to start and stop a Listener Service. This process should be applicable for different versions of UNIX and databases on various other types of servers.","Database Startup Procedure","The following steps can be used when starting a database in UNIX version HP UX 10.2. To verify that the database has been started properly, see the section below entitled \u201cVerifying the database is started\/stopped.\u201d\n\n","The following steps can be used when stopping a database in UNIX. To verify that the database has been stopped properly, see section five below.\n\n","It is possible to check if the database is started or stopped after completing the steps above. To do so, follow these steps.\n\n","If you find an entry such as the one above, the database is running. If not, the database is shutdown. If you do not get the expected results, redo the database startup or shutdown procedure set forth above.","Listener","The Listener is a utility that handles database connection requests. It may have a service for all databases. If a database is started while the Listener is already running, it may be necessary to restart the Listener.","a. Check If Listener is Started for the Database Instance","At the UNIX prompt, enter the command lsnrctl status. Under the heading \u201cServices Summary . . . \u201d, check that there is an entry reading \u201cSID has 1 service handler(s).\u201d (where SID is the desired database instance). If there is an entry for the desired SID, then the Listener is started. Otherwise the listener is not started.","b. Start the Listener","To start the listener, type lsnrctl start at the UNIX prompt. After this has completed, verify the listener is started by following the steps above in section 6.1.","c. Stop the Listener","It is recommended to stop the listener when the server is shutdown. To do this type lsnrctl stop at the UNIX prompt.","Database Configuration",{"@attributes":{"id":"p-0233","num":"0636"},"figref":["FIG. 12","FIG. 12"]},{"@attributes":{"id":"p-0234","num":"0637"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"147pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 3"},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Key:","O\/S","Operating system at current location. Values"]},{"entry":[{},{},"include HP-UX, NT."]},{"entry":[{},"Tablespace:","Name of database tablespace"]},{"entry":[{},"Default","Indication of whether tablespace should be on-"]},{"entry":[{},"status:","line\/off-line during normal environment"]},{"entry":[{},{},"operation."]},{"entry":[{},"Physical","Indication of such things as requirements to have"]},{"entry":[{},"requirements:","data vs. index tablespaces on separate system"]},{"entry":[{},{},"disks."]},{"entry":[{},"Related","List of other tablespaces and their relationships to"]},{"entry":[{},"tablespaces\/","the current tablespace. For example, the related"]},{"entry":[{},"relationships:","tablespace might be an index counterpart to the"]},{"entry":[{},{},"current tablespace, or it might be a data"]},{"entry":[{},{},"partitioning counterpart, etc."]},{"entry":[{},"Datafile:","Name of a database datafile which is part of the"]},{"entry":[{},{},"current tablespace."]},{"entry":[{},"Datafile","Size, in MB of the current database datafile."]},{"entry":[{},"size:"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}}}},{"@attributes":{"id":"p-0235","num":"0638"},"tables":{"@attributes":{"id":"TABLE-US-00006","num":"00006"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"4","colwidth":"35pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 4"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"File Descriptors","Default Status","File name(s)","File size"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]}]}}}}},{"@attributes":{"id":"p-0236","num":"0639"},"tables":{"@attributes":{"id":"TABLE-US-00007","num":"00007"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"98pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 5"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Key:","File Descriptors","Description of the file or"]},{"entry":[{},{},{},"file groups which will"]},{"entry":[{},{},{},"reside outside of the"]},{"entry":[{},{},{},"database"]},{"entry":[{},{},"Default status","Condition of file at time"]},{"entry":[{},{},{},"of database startup-"]},{"entry":[{},{},{},"available, off-line"]},{"entry":[{},{},"File name(s)","Name(s) of files to be created"]},{"entry":[{},{},"File size","Size of files to be created"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]}}}},"br":{}},{"@attributes":{"id":"p-0237","num":"0640"},"tables":{"@attributes":{"id":"TABLE-US-00008","num":"00008"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"63pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 6"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]},{"entry":[{},{},"Group Permitted",{}]},{"entry":[{},"Tablespace","Access","Type of Access"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"IPSADAT01","SPSSDEVEL","Unlimited"]},{"entry":[{},{},"ALL","Read-Only"]},{"entry":[{},"IPSAIDX","SPSSDEVEL","Unlimited"]},{"entry":[{},{},"ALL","Read-Only"]},{"entry":[{},"USERS","ALL","Unlimited"]},{"entry":[{},"SYSTEM","DBA","Unlimited"]},{"entry":[{},"TEMP01","ALL","Unlimited"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]},{"entry":[{},"@"]}]}}}}},{"@attributes":{"id":"p-0238","num":"0641"},"tables":{"@attributes":{"id":"TABLE-US-00009","num":"00009"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"140pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 7"},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Key:","Tablespace","Name of database tablespace"]},{"entry":[{},"Group Permitted","Name of security group (see security docu-"]},{"entry":[{},"Access","ment) permitted access to current tablespace."]},{"entry":[{},"Type of Access","Type of access allowed to tablespace, such as"]},{"entry":[{},{},"unlimited, quota per user, etc."]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}}}},{"@attributes":{"id":"p-0239","num":"0642"},"tables":{"@attributes":{"id":"TABLE-US-00010","num":"00010"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"init.dbs Configuration"},{"entry":"dbname = IPSA01"},{"entry":"dbblocksize = 8192"},{"entry":"sortareasize = 102400"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"182pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"35pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["dbfilemultiblockreadcount =32 ","# LARGE"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"168pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"49pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["dbblockbuffers = 10000","# LARGE"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"42pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["sharedpoolsize = 70000000","# X LARGE"]},{"entry":"logcheckpointinterval = 10000"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"161pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"56pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["processes = 100","# MEDIUM"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"nlsdateformat = \u201cDD-Mon-YYYY HH24:MI:SS\u201d"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"168pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"49pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["dmllocks = 200","# MEDIUM"]},{"entry":["logbuffer = 65536","# des 2k"]},{"entry":["opencursors = 400","# des 2k"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"42pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["sequencecacheentries = 10","# SMALL"]},{"entry":["sequencecachehashbuckets = 10","# SMALL"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["maxdumpfilesize 10240","# limit trace file size to 5 Meg each"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"# If using private rollback segments, place lines of the following"},{"entry":"# form in each of your instance-specific init.ora files:"},{"entry":"# rollbacksegments = (name1, name2)"},{"entry":"rollbacksegments = (r01,r02,r03,r04)"},{"entry":"# Global Naming -- enforce that a dblink has same name as the db it"},{"entry":"connects to globalnames = TRUE"},{"entry":"# adversely affect performance. On some non-VMS ports the"},{"entry":"dbblockcache*"},{"entry":"# debugging modes have a severe effect on performance."}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"112pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"105pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{"sub":["\u2014","\u2014","\u2014","\u2014"]},"# memory protect buffers"]},{"entry":"compatible = 7.3.4"},{"entry":"# By default, this is false."},{"entry":"locksharedmemory = true"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"# reads entire SGA into memory on startup. Will take longer to startup"},{"entry":"database"},{"entry":"# define two control files by default"},{"entry":"controlfiles = (\/files0\/ipsa\/vendor\/dbse\/links\/IPSA01\/IPSA01ctrl01.ctl,"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\/files0\/ipsa\/vendor\/dbse\/links\/IPSA01\/IPSA01ctrl02.ctl,"]},{"entry":[{},"\/files0\/ipsa\/vendor\/dbse\/links\/IPSA01\/IPSA01ctrl03.ctl,"]},{"entry":[{},"\/files0\/ipsa\/vendor\/dbs\/links\/IPSA01\/IPSA01ctrl04.ctl)"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"backgrounddumpdest = \/files0\/ipsa\/vendor\/dbse\/admin\/IPSA01\/bdump"},{"entry":"userdumpdest = \/files0\/ipsa\/vendor\/dbse\/admin\/IPSA01\/udump"},{"entry":"coredumpdest = \/files0\/ipsa\/vendor\/dbse\/admin\/IPSA01\/cdump"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}},"br":{}},"This section will describe the required files needed to run coldbackups. It will outline the recommended steps to configure coldbackups (written in Perl) to run on a database. Finally, this section will discuss how to execute the script. The location of the coldbackups script can be anywhere in the database's directory system.","Required Files\/Directories","The following list of files and directories need to be created before coldbackups will run. These files are described bellow and common naming conventions are given. Also, an OFA directory structure location is specified.","System Identification (SID) File","This file should contain a list of one or more system ids, dbse home, and dbse base. Every system id will be shutdown, backed up, and restarted. The values of this file are also used to set the correct environment of the SID. The format of this file must be of the form: SID,DBSEHOME,DBSEBASE. There are no spaces between fields. Also, it is important that there are no blank lines in this file. A common naming convention for this file is coldsids. The file is best housed with other files related to the backup.","SQL*Plus Script File","This script will generate a complete list of files that need to be backed up. A common naming convention is unixscript.sql. This file will be located in the directory specified for sql scripts.","Password Script","The contents of this file can be found in Appendix B or in O:\\Performance\\QoSM\\Product Development\\Database\\Doc\\getpass. This script allows the user's password to be used within the script without hard-coding the password into it. A common naming convention is getpass. This file should be housed in the unix directory. NOTE: the password is not encrypted so it is important that an unauthorized user does not execute this script at the command line. Also, if the password scripts is used within another script it is important the password is not echoed to the screen.","Backup Directory","The backup directory will store the backup files. The naming convention for this directory is {SID}cold where SID is the system id. The file is best housed in the current directory (described below in \u201cCurrent Directory\u201d).","Configuration of Variables","Directory paths and file names are hard coded in the coldbackups script. Therefore it is recommended to configure these variables to suit the file structure of the particular database the backup is to be performed on. The following are variables that need to be specified for the system in which the script is run on. These variables are grouped together at the beginning of the script. Look for the commented section entitled \u201cVariable List\u201d to locate the variables within the script.","Current Directory ($Current Dir)","This variable is set to the directory location in which the backup directory (described above in \u201cBackup Directory\u201d), log file (described below in \u201cLog\u201d), system id file (described above in System Identification (SID) File), and temporary directory (created during execution of the backup and deleted after its completion) are kept. This directory can be placed anywhere.","SID File ($SID File)","This file, described above in System Identification (SID) File, is located in the current directory. This file contains a list of system ids and environment variables for all databases that need to be backed up. The files has a strict format that must be followed for the script to run in the cron.","Script File ($ScriptFile)","This file is described above in \u201cSQL*Plus Script File.\u201d","Log($Log)","This file contains messages and errors generated from coldbackup. A common naming convention is cold.log. The log file is created in the current directory (see section 4.2 above) by coldbackups. The log file will be kept in an archived form, also in the current directory, for one previous backup and it will be named *.old where * represents the filename you designate as the log file.","User ($User)","This variable designates which user has export privileges.","Mail Program ($Mailer)","This variable is set to a command line mail program. The mail program is used to notify the Database Administrator of problems occurred during execution of the backup or to inform the Administrator of a successful backup.","File Mount Point ($Mountpoint)","This variable is set to the directory structure mount point.","DBA ($DBA)","This variable is set to the Database Administrator that is responsible for getting email messages.","How to Execute","Manually","The coldbackups script can be run manually by having a user execute the script. Since the backup requires that the database be shutdown, inform all database users of the downtime. Expect up to fifteen minutes for the backup. In order to run the script manually go to the directory where the script is located. Check the permissions, and set if necessary. At the command line, type coldbackups. The script will run without user interaction. The script is complete when the prompt returns.","Crontab","It is possible to schedule the backup using the UNIX crontab. To create a new crontab or to edit an existing one, type crontab-e at the UNIX command line. To list the entries in the crontab, type crontab-l at the command line. Entries in the crontab file are lines of six fields separated by spaces or tabs. An asterisk (*) in fields one through five indicates all legal values. Values can be separated by commas (for a list of values) or hyphens (for inclusive range). The fields are as follows:",{"@attributes":{"id":"p-0257","num":"0660"},"tables":{"@attributes":{"id":"TABLE-US-00011","num":"00011"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 8"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Field","Acceptable Data"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"1-minute","0\u201359"]},{"entry":[{},"2-hour","0\u201323"]},{"entry":[{},"3-month","1\u201331"]},{"entry":[{},"day"]},{"entry":[{},"4-month","1\u201312"]},{"entry":[{},"5-weekday","0\u20136 (Sunday is 0)"]},{"entry":[{},"6-command","Complete path of executable"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"By using the crontab, it is possible to schedule daily, weekly, or monthly backups during non-peak hours. Since the backup requires that the database be shutdown, inform all database users of the expected downtime. Expect up to fifteen minutes for the backup. Check the permissions of coldbackups before the first backup and set if necessary.",{"@attributes":{"id":"p-0259","num":"0662"},"tables":{"@attributes":{"id":"TABLE-US-00012","num":"00012"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"SQL*Plus Script File"},{"entry":"set echo off"},{"entry":"set heading off"},{"entry":"set embedded on"},{"entry":"set pagesize 1000"},{"entry":"set termout off"},{"entry":"spool & 1"},{"entry":"select name from v$datafile;"},{"entry":"select member from v$logfile;"},{"entry":"select name from v$controlfile;"},{"entry":"spool off"},{"entry":"set termout on"},{"entry":"set heading on"},{"entry":"set feedback on"},{"entry":"set embedded off"},{"entry":"exit"},{"entry":"Password Script"},{"entry":"#!\/bin\/sh"},{"entry":"#------------------------------------------------------------#"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"133pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"84pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["# Scriptname: getpass","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"# Description: This script will be used to retrieve the #"},{"entry":"#\u2003\u2003\u2003\u2003appropriate password from the password #"},{"entry":"#\u2003\u2003\u2003\u2003file. It can be used from the command #"},{"entry":"#\u2003\u2003\u2003\u2003line to retrieve a password or from a #"},{"entry":"#\u2003\u2003\u2003\u2003shell script to eliminate hard coding of #"},{"entry":"#\u2003\u2003\u2003\u2003passwords. The .password file is located #"},{"entry":"#\u2003\u2003\u2003\u2003in $DBSEHOME, with the executable #"},{"entry":"#\u2003\u2003\u2003\u2003located in $DBSEHOME\/bin. \u2003\u2002 #"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"# Dependencies: getpass requires one file, password #"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"#\u2003SIDFILE: Contains a list passwords for #"},{"entry":"#\u2003\u2003\u2003\u2003system, sys, and dbse. \u2003\u2003\u2003#"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"161pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"56pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["# Command syntax: getpass USERNAME","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"#----------------------------------------------------------------------#"},{"entry":"# what shell do we use?"},{"entry":"SHELL=\/usr\/bin\/sh"},{"entry":"# where is our home?"},{"entry":"DBSEHOME=\/files2\/ipsa\/vendor\/dbse\/product\/7.3.4; export"},{"entry":"DBSEHOME"},{"entry":"# what path do we look for?"},{"entry":"PATH=\/usr\/bin:\/bin:${DBSEHOME}\/bin; export PATH"},{"entry":"# who are we retrieving the password for"},{"entry":"if[ $1 ]"},{"entry":"then"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"USER=$1"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"else"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"echo \u201c \u201d"]},{"entry":[{},"echo \u201cUSAGE: getpass \u2018username\u2019\u201d"]},{"entry":[{},"echo \u201c \u201d"]},{"entry":[{},"exit 1"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"fi"},{"entry":"# make sure the .password file exist"},{"entry":"if [ ! -s $DBSEHOME\/.password ]"},{"entry":"then"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"echo \u201c \u201d"]},{"entry":[{},"echo \u201cERROR: this machine does not appear to have a password file\u201d"]},{"entry":[{},"echo \u201c \u201d"]},{"entry":[{},"exit 1"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"fi"},{"entry":"# get the appropriate password"},{"entry":"PASSWORD=\u2018cat $DBSEHOME\/.password|grep -i \u201c${USER}"},{"entry":"\u201d|awk \u2018{print $2}\u2019\u2018"},{"entry":"BADSIDS=\u2018cat $DBSEHOME\/.password|grep -i \u201c${USER}"},{"entry":"\u201c|awk \u2018{print $3}\u2019\u2018"},{"entry":"OLDPASS=\u2018cat $DBSEHOME\/.password|grep -i \u201c${USER}"},{"entry":"\u201c|awk \u2019{print $4}\u2019\u2018"},{"entry":"# if a password was found, print it to the screen"},{"entry":"if [ $PASSWORD ]"},{"entry":"then"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"echo \u201c$ {PASSWORD}\u201d"]},{"entry":[{},"# print a message if passwords appear to not be synced"]},{"entry":[{},"between databases"]},{"entry":[{},"if [ $BADSIDS ]"]},{"entry":[{},"then"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"BADSIDS=\u2018echo ${BADSIDS}|cut -c2-100\u2018"]},{"entry":[{},"echo \u201c\u201d"]},{"entry":[{},"echo \u201cWARNING:\\tThe password for ${USER} may not be"]},{"entry":[{},"synchronized \u201d"]},{"entry":[{},"echo \u201c\\t\\tbetween all databases. The database(s) ${BADSIDS}"]},{"entry":[{},"appear(s) \u201d"]},{"entry":[{},"echo \u201c\\t\\tto use the old password \u2018${OLDPASS}\u2019\u201d"]},{"entry":[{},"echo \u201c\u201d"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"fi"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"else"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"echo \u201c \u201d"]},{"entry":[{},"echo \u201cERROR: ${USER} is not a supported username\u201d"]},{"entry":[{},"echo \u201c \u201d"]},{"entry":[{},"exit 1"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"fi"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"The following is an entry of a crontab. The coldbackups script will be backed up at 2:30 am daily.\n\n","If both fields are specified in an entry, they are cumulative. For example:\n\n","This crontab entry runs at midnight on the first and fifteenth of each month, as well as every Monday. To specify days in only one field, set the other field to asterisk (*). For example:\n\n","This crontab entry runs only on Mondays.","Database Export Backup","This section will describe the files needed to run exportbackups. It will outline the recommended steps to configure exportbackups (written in Perl) to run on a database. Finally, this section will discuss how to execute the script. The location of the exportbackups script should be in admin\/general\/unix (following OFA standards).","The exportbackups script performs a full database export on a database by using an export utility. This script is meant to run daily and the backup files are stored in a cycle that can be configured to suit the needs of the client. For an explanation of the backup cycle and naming convention, see the sections below entitled \u201cConfiguration of Backup Cycle\u201d and \u201cHow to Execute.\u201d","Required Files\/Directories","The following list of files and directories need to be created before exportbackups will run. These files are described bellow and common naming conventions are given. Also an OFA directory structure suggestion is given.","System Identification (SID) File","This file should contain a list of one or more system ids and the corresponding values of dbse home and dbse base. Every system id listed in this file will be backed up using the export utility. The values in this file are also used to correctly set the environment variables. The format of this file will be: SID,DBSEHOME,DBSEBASE. There are no spaces, only commas, separating the fields. Also, it is important that there are no blank lines in this file. A common naming convention for this file is exportsids. The file is best housed in the current directory (described below in \u201cCurrent Directory\u201d).","Day File","This file will contain the current day number of the backup cycle. The backup cycle is commonly four weeks in length but it can be set at any interval (see section five below on configuration of cycle variables). The day file will contain an integer between one and the maximum day number of the cycle (29 for a four-week cycle). It is important that there are no blank lines in this file. The user will need to create this file before the initial execution of the backup and after that the file will update itself. It is a good idea to have the day number correspond to the current weekday. For example, a one in the day file will correspond with Sunday and a four will correspond with Wednesday. A common naming convention is dayfile.dat. This file is best housed in the current directory (described\\-below in \u201cCurrent Directory\u201d).","Password Script","This script needs to be configured for the system. This script allows the user's password to be used within the script without hard-coding the password into it. A common naming convention is getpass. This file should be located in \/admin\/general\/unix. NOTE: the password is not encrypted so it is important that an unauthorized user does not execute this script at the command line. Also, if the password scripts is used within another script it is important the password is not echoed to the screen.","Backup Directory","The backup directory will store the backup files. The naming convention for this directory is {SID}exp where SID is the system id. The file is best housed in the current directory (described below in \u201cCurrent Directory\u201d).","Configuration of Variables","Directory paths and file names are hard coded in the exportbackups script. Therefore it is recommended to configure these variables to suit the file structure of the particular database the backup is to be performed on. The following are variables that need to be specified for the system in which the script is run on. These variables are grouped together at the beginning of the script. Look for the commented section entitled \u201cVariable List\u201d to locate the variables within the script.","Current Directory ($Current Dir)","This variable is set to the directory location in which the backup directory (described above in \u201cBackup Directory\u201d), log file (described below in \u201cLog\u201d), SID file (described above in \u201cSystem Identification (SID) File\u201d), and day file (described above in \u201cDay File\u201d) are kept. This directory can be placed anywhere.","Day File ($DayFile)","This file is described above in \u201cDay File\u201d.","SID File ($SIDFile)","This file is described above in \u201cSystem Identification (SID) File.\u201d","Log ($ExportLog)","This file contains messages and errors generated from exportbackup. A common naming convention is export.log. During execution, the log file is opened and the entries will be appended to the existing file. If the file does not exist, the script will create a new log file with the name you designate here. Old log files will be kept in an archived form, also in the current directory, and will contain the logged entries for an entire backup cycle. The archived file will be named *.yyyymmmdd (as in 2001Dec.31) where * represents the filename you designate as the log file. The archive will occur if the day file contains the last day of the cycle.","User ($ExpUser)","This variable designates which user has export privileges.","Mail Program ($Mailer)","This variable is set to a command line mail program. The mail program is used to notify the Database Administrator of problems occurred during execution of the backup or to inform the Administrator of a successful backup.","DBA ($DBA)","This variable is set to the Database Administrator that is responsible for getting email messages.","Configuration of Backup Cycle","The backup cycle can be changed to suit the particular requirements for the database. There are six cycle variables in the script that need to be configured if the cycle is changed. They are located in the top portion of the script in a section entitled \u201cCycle Variables\u201d immediately following the \u201cVariable List\u201d described above in section four. The values of these variables are used to name the backup file and to determine the schedule for when the backup files rollover.","Maximum Day Files ($maxday)","This variable should be set to the maximum number of daily backup files that are kept minus one. For example, if seven daily backups are kept, this value should be set to six. The naming scheme for the daily backup files is such that day00 is the current day's backup and day06 is six days ago.","Week Ending Day ($week start)","This variable is a string and should be set to the three letter abbreviation of the week day name in which you want the weekly backup files to rollover. For example, if you want the week backup files to roll over on Sundays you would set this variable to \u201cSun\u201d.","Maximum Week Files ($maxweek)","This variable should be set to the maximum number of weekly backup files that are kept minus one. On the week ending date, the weekly backup files will be rolled back and day07 will become week01. For example, if you want to keep four weekly backup files, this variable should be set to three.","Maximnum Cycle Days ($maxcycledays)","This variable should be set to the total number of days in the backup cycle plus one. The value of this variable will be the largest possible value that is in the day file (see section 3.2 above). For a four-week cycle, the maximum cycle days variable should be set to twenty-nine (4 weeks * 7 days per week+1 day=29 cycle days). A value of fifty-seven would represent an eight week cycle (8*7+1=57). When the value in the day file is the same as the maximum cycle days variable the cycle backup will occur.","Cycle Increment ($incvalue)","Weekly backups will be kept in longer cycle increments for long term storage. The value of this variable should be set to the increment value. This variable comes into effect when rolling back the week files (described in section 5.3). For example, if you want to keep backups in four-week intervals (starting at the last weekly backup) you would set this variable to four.","Maximum Cycle Files ($maxcycle)","This variable should be set to the maximum number of backup files that are kept minus the cycle increment value. For example, if you want to keep backup files for fifty-two weeks (one year) and your increment value is four, the value of this variable should be forty-eight. If the day in the day file is equal to the maximum cycle days, the weekly backup files will be rolled back in increments designated by the increment cycle variable. For example, week04 would become week12 if the increment value were eight.","How to Execute","Manually","The exportbackups script can be run manually by having a user execute the script. Since the backup requires that the database be shutdown, inform all database users of the downtime. Expect up to fifteen minutes for the backup. In order to run the script manually go to the directory where the script is located. Check the permissions, and set if necessary. At the command line, type exportbackups. The script will run without user interaction. The script is complete when the prompt returns.","Crontab","It is possible to schedule the backup using the UNIX crontab. To create a new crontab or to edit an existing one, type crontab-e at the UNIX command line. To list the entries in the crontab, type crontab-l at the command line. Entries in the crontab file are lines of six fields separated by spaces or tabs. An asterisk (*) in fields one through five indicates all legal values. Values can be separated by commas (for a list of values) or hyphens (for inclusive range). The fields are as follows:",{"@attributes":{"id":"p-0288","num":"0694"},"tables":{"@attributes":{"id":"TABLE-US-00013","num":"00013"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 9"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Field","Acceptable Data"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"1-minute","0\u201359"]},{"entry":[{},"2-hour","0\u201323"]},{"entry":[{},"3-month","1\u201331"]},{"entry":[{},"day"]},{"entry":[{},"4-month","1\u201312"]},{"entry":[{},"5-weekday","0\u20136 (Sunday is 0)"]},{"entry":[{},"6-command","Complete path of executable"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"By using the crontab, it is possible to schedule daily, weekly, or monthly backups during non-peak hours. Since the backup requires that the database be shutdown, inform all database users of the expected downtime. Expect up to fifteen minutes for the backup. Check the permissions of exportbackups before the first backup and set if necessary.",{"@attributes":{"id":"p-0290","num":"0696"},"tables":{"@attributes":{"id":"TABLE-US-00014","num":"00014"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"Password Script"},{"entry":"#!\/bin\/sh"},{"entry":"#------------------------------------------------------------#"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"133pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"84pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["# Scriptname: getpass","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"# Description: This script will be used to retrieve the #"},{"entry":"#\u2003\u2003\u2003\u2003appropriate password from the .password #"},{"entry":"#\u2003\u2003\u2003\u2003file. It can be used from the command #"},{"entry":"#\u2003\u2003\u2003\u2003line to retrieve a password or from a #"},{"entry":"#\u2003\u2003\u2003\u2003shell script to eliminate hard coding of #"},{"entry":"#\u2003\u2003\u2003\u2003passwords. The .password file is located #"},{"entry":"#\u2003\u2003\u2003\u2003in $DBSEHOME, with the executable #"},{"entry":"#\u2003\u2003\u2003\u2003located in $DBSEHOME\/bin. \u2003\u2003#"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"# Dependencies: getpass requires one file, .password \u2003\u2003#"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"# SIDFILE: Contains a list passwords for \u2003#"},{"entry":"#\u2003\u2003\u2003\u2003system, sys, and dbse. \u2003\u2003\u2003#"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"161pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"56pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["# Command syntax: getpass USERNAME","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"#------------------------------------------------------------#"},{"entry":"# what shell do we use?"},{"entry":"SHELL=\/usr\/bin\/sh"},{"entry":"# where is our home?"},{"entry":"DBSEHOME=\/files2\/ipsa\/vendor\/dbs\/product\/7.3.4 export"},{"entry":"DBSEHOME"},{"entry":"# what path do we look for?"},{"entry":"PATH=\/usr\/bin:\/bin:${DBSEHOME}\/bin; export PATH"},{"entry":"# who are we retrieving the password for"},{"entry":"if[ $1 ]"},{"entry":"then"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"USER=$1"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"else"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"echo \u201c \u201d"]},{"entry":[{},"echo \u201cUSAGE: getpass \u2018usemame\u2019\u201d"]},{"entry":[{},"echo \u201c \u201d"]},{"entry":[{},"exit 1"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"fi"},{"entry":"# make sure the .password file exist"},{"entry":"if [ ! -s $DBSEHOME\/.password ]"},{"entry":"then"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"echo \u201c \u201d"]},{"entry":[{},"echo \u201cERROR: this machine does not appear to have a password file\u201d"]},{"entry":[{},"echo \u201c \u201d"]},{"entry":[{},"exit 1"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"fi"},{"entry":"# get the appropriate password"},{"entry":"PASSWORD=\u2018cat $DBSEHOME\/.password|grep -i \u201c${USER}"},{"entry":"\u201d|awk \u2018{print $2}\u2019\u2018"},{"entry":"BADSIDS=\u2018cat $DBSEHOME\/.password|grep -i \u201cS{USER}"},{"entry":"\u201d|awk \u2018{print $3}\u2019\u2018"},{"entry":"OLDPASS=\u2018cat $DBSEHOME\/.password|grep -i \u201cS{USER}"},{"entry":"\u201d|awk \u2018{print $4}\u2019\u2018"},{"entry":"# if a password was found, print it to the screen"},{"entry":"if [ $PASSWORD ]"},{"entry":"then"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"echo \u201c${PASSWORD}\u201d"]},{"entry":[{},"# print a message if passwords appear to not be synced between"]},{"entry":[{},"databases"]},{"entry":[{},"if  [ $BADSIDS ]"]},{"entry":[{},"then"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"BADSIDS=\u2018echo ${BADSIDS}|cut -c2-100\u2018"]},{"entry":[{},"echo \u201c\u201d"]},{"entry":[{},"echo \u201cWARNTNG:\\tThe password for ${USER} may not be"]},{"entry":[{},"synchronized \u201d"]},{"entry":[{},"echo \u201c\\t\\tbetween all databases. The database(s) ${BADSIDS}"]},{"entry":[{},"appear(s) \u201d"]},{"entry":[{},"echo \u201c\\t\\tto use the old password \u2018${OLDPASS}\u2019\u201d"]},{"entry":[{},"echo \u201c\u201d"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"fi"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"else"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"echo \u201c \u201d"]},{"entry":[{},"echo \u201cERROR: ${USER} is not a supported username\u201d"]},{"entry":[{},"echo \u201c \u201d"]},{"entry":[{},"exit 1"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"fi"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}},"br":{}},"The script dataloader is used to load comma delimited data from a text file into a Database by using SQL*Loader. The script can create a control file for this process if one is needed. This script can be run from the cron to load data into many tables, or it can be run from the command line on a single table. It is also possible to do a data re-load using dataloader. The script performs error checking and reports via email to a specified administrator of success or failure. The script may be written in Perl.","Configuration","Environment Variables","Environment variables relevant to the Database need to be set. Specifically, the following environment variables need to be set: DBSESID, DBSEHOME, DBSEBASE, HOME, and PATH (to include the location of the dbse bin directory and the directory that holds the scripts used by this procedure). To configure these variables, look for the section in the code entitled setting environment variables. Set the values of $SID, $Home, and $Base. Verify that the path is correct when setting the PATH environment variable.","Directory Structure","A directory structure should be set up to house the different types of files required and produced by dataloader. The six types of files required include data files (*.dat), control files (*.ctl), log files (*.log), bad files (*.bad), data definition files (*.ddl), and archived files (files from the previous five categories). \n\nFile Names\n","The files used\/created by the dataloader script should have a standardized format. The log files (.log) and bad files (.bad) are named with a datestamp to make the files unique for archiving purposes. The current format of the datestamp is ddMonYYYY. The value of $Datestamp should be changed to suit the frequency of the data loading. The naming convention should be tablename.datestamp.extension or in the case of the log file generated by the dataloader script dataloader.datestamp.log. The data files (.dat) should be named tablename.dat. However, after loading is complete all data files are copied to the archive directory and renamed with a datestamp as in the manner described above. The control files (.ctl) will be named tablename.ctl and will never have a date stamp because they are not archived. The ddl files should be named indexname.ddl.","SQL Scripts and Stored Procedures","This script uses a variety of SQL scripts and stored procedures. The scripts should be located in their own directory (following the OFA directory structure). Set $SQLdir to this directory location. In order for these scripts to function properly, the table owner must have the ability to select from any table (grant select any table table owner). The SQL scripts and stored procedures used by dataloader are as follows:",{"@attributes":{"id":"p-0296","num":"0702"},"tables":{"@attributes":{"id":"TABLE-US-00015","num":"00015"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"4","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"5","colwidth":"49pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 10"},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}},{"entry":["Script Name","Type","Input","Output","Functionality"]},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["getindex","script","table","tablename.idx","Spool the index"]},{"entry":[{},{},"name",{},"names of the"]},{"entry":[{},{},{},{},"given table to"]},{"entry":[{},{},{},{},"the output file."]},{"entry":[{},{},{},{},"(section 0)"]},{"entry":["dropindexp","procedure","index","none","Drops the"]},{"entry":[{},{},"name",{},"given index"]},{"entry":[{},{},{},{},"(section 0)"]},{"entry":["createctl","script","table","tablename.ctl","Calls the stored"]},{"entry":[{},{},"name",{},"procedure"]},{"entry":[{},{},{},{},"createctlp"]},{"entry":[{},{},{},{},"and spools the"]},{"entry":[{},{},{},{},"controltb"]},{"entry":[{},{},{},{},"table entries to"]},{"entry":[{},{},{},{},"the output file."]},{"entry":[{},{},{},{},"(section 0)"]},{"entry":["createctlp","procedure","table","controltb","Inserts rows"]},{"entry":[{},{},"name",{},"into controltb"]},{"entry":[{},{},{},{},"to create con-"]},{"entry":[{},{},{},{},"trol file"]},{"entry":[{},{},{},{},"(section 0)"]},{"entry":["pexec","procedure","string","none","Executes the"]},{"entry":[{},{},{},{},"SQL command"]},{"entry":[{},{},{},{},"passed as a"]},{"entry":[{},{},{},{},"parameter"]},{"entry":[{},{},{},{},"(section 0)"]},{"entry":["spkillusersp","procedure","none","none","Kills SPSS user"]},{"entry":[{},{},{},{},"processes"]},{"entry":[{},{},{},{},"(section 0)"]},{"entry":["getdirectload","script","table","tablename.dir","Spools the in-"]},{"entry":[{},{},"name","load","dex names that"]},{"entry":[{},{},{},{},"are in direct"]},{"entry":[{},{},{},{},"load state of"]},{"entry":[{},{},{},{},"the given table"]},{"entry":[{},{},{},{},"to the output"]},{"entry":[{},{},{},{},"file (section 0)"]},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}}]}}}},"br":[{},{}],"ul":{"@attributes":{"id":"ul0073","list-style":"none"},"li":{"@attributes":{"id":"ul0073-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0074","list-style":"none"},"li":["tablelist (file containing a list of tables to load\u2014used if no table is indicated at run time)","tablename.dat (comma delimitated file containing data to load into tablename)","indexname.ddl (used to create indexes that were dropped)","tablename.datestamp.dat (copy of tablename.dat after load for archiving purposes)\n\nFiles Generated\n","dataloader.datestamp.log (log file generated by dataloader)","tablename.idx (generated by the SQL script getindex, it is deleted at the end of the script\u2014see section 0)","tablename.ctl (file is generated by SQL script createctl if a \u2018-c\u2019 is indicated at run time\u2014see section 0)","tablename.datestamp.log (log file generated by SQL*Loader\u2014see section 0 for an explanation of the date stamp)","tablename.datestamp.bad (bad file generated by SQL*Loader\u2014see section 0 for an explanation of the date stamp)","tablename.dirload (file generated by SQL script getdirectload, it is deleted if the files has zero size\u2014see section 0 for an explanation)\n\nMessaging\n"]}}}},"The dataloader script will send email to an administrator to report success or failure of the data loading process. Set $Mailer to the text string that will execute the mailer in command line mode. Set $DBA to the email address of the administrator.","Users","The dataloader script will need to log on to SQL*Plus and SQL*Loader a number of times for a variety of purposes. A variable name should be set for each schema name that will be utilized. Do not hard-code the schema password in the script. Instead use getpass.","Options with SQL*Loader","The following options are used with SQL*Loader:\n\n","The following is the procedure the dataloader script follows to load data into a database.",{"@attributes":{"id":"p-0301","num":"0737"},"tables":{"@attributes":{"id":"TABLE-US-00016","num":"00016"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 11"},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Step","Activity\/Action"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"char","char":"."}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["1","Read in and set parameters"]},{"entry":[{},"Set database environment"]},{"entry":[{},"Set directory structure variables"]},{"entry":[{},"Set SQL Script directory"]},{"entry":[{},"Set Mailer program and Administrator"]},{"entry":[{},"Set Failure Flag to false (0)"]},{"entry":["2","For each user, set user name and get password using getpass"]},{"entry":["3","Archive old log files and bad files"]},{"entry":["4","Set the date stamp for load"]},{"entry":[{},"Create dataloader.datestamp.log"]},{"entry":["5","Push the table name to be loaded into an array. Get this"]},{"entry":[{},"information either from a file (tablelist) or from a parameter"]},{"entry":["6","Find the current indexes on the tables to be loaded"]},{"entry":[{},"Drop the indexes that are not on the primary key(s)"]},{"entry":["7","If necessary, create control files for each table that is to be"]},{"entry":[{},"loaded"]},{"entry":[{},"Check that the control file was created successfully"]},{"entry":["8","Alter the database to allow only users with RESTRICTED"]},{"entry":[{},"PRIVLEDGES to log on"]},{"entry":[{},"Kill user processes that are do not have RESTRICTED"]},{"entry":[{},"PRIVLEDGES"]},{"entry":["9","Set the files names of the data file, control file, log file, and"]},{"entry":[{},"bad file"]},{"entry":[{},"Check to insure the input files exist, abort loading if they do"]},{"entry":[{},"not"]},{"entry":["10","Start SQL*Loader"]},{"entry":["11","Check load results by scanning the log file for errors"]},{"entry":[{},"Check if there is a bad file generated by SQL*Loader"]},{"entry":["12","Repeat steps 9\u201311 for all tables to be loaded"]},{"entry":["13","Alter database to allow ALL USERS to log on"]},{"entry":["14","Recreate indexes that were dropped in step 6"]},{"entry":["15","Check to see if there are any indexes on the loaded table that"]},{"entry":[{},"were left in direct load state"]},{"entry":[{},"If there are, send a message to the Administrator"]},{"entry":[{},"If not, delete the generated file"]},{"entry":[{},"Delete the file generated by the getindex SQL script"]},{"entry":["16","Check the value of the failure flag (it will be set to true if any"]},{"entry":[{},"errors occurred at any time during the process above)"]},{"entry":[{},"Email the Administrator to report success or failure"]},{"entry":["17","Archive the data files (if the load is not a re-load) by copying"]},{"entry":[{},"the data file to the archive directory and renaming it to include a"]},{"entry":[{},"date stamp"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}},"br":{}},"The following is the scripts reference above are used by dataloader. The bolded lines should be configured to the particular system being used.",{"@attributes":{"id":"p-0303","num":"0739"},"tables":{"@attributes":{"id":"TABLE-US-00017","num":"00017"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"getpass (Born Shell)"},{"entry":"#!\/bin\/sh"},{"entry":"#---------------------------------------------------------#"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["# Scriptname: getpass","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"105pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"161pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"105pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["# Description: This script will be used to retrieve the","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","appropriate password from the .password","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"119pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","file. It can be used from the command","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","line to retrieve a password or from a","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","shell script to eliminate hard coding of #"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","passwords. The .password file is located","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"119pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","in $DBSEHOME, with the executable","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"133pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","located in $DBSEHOME\/bin.","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"105pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"154pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["# Dependencies: getpass requires one file,.password","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"105pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","SIDFILE: Contains a list passwords for \u2002#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"154pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","system, sys, and dbse.","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"105pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"154pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["# Command syntax: getpass USERNAME","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"#---------------------------------------------------------#"},{"entry":"# what shell do we use?"},{"entry":"SHELL=\/usr\/bin\/sh"},{"entry":"# where is our home?"},{"entry":"DBSEHOME=\/files0\/ipsa\/vendor\/dbse\/product\/7.3.4; export DBSEHOME"},{"entry":"# what path do we look for?"},{"entry":"PATH=\/usr\/bin:\/bin:${DBSEHOME}\/bin; export PATH"},{"entry":"# who are we retrieving the password for"},{"entry":"if[ $1 ]"},{"entry":"then"},{"entry":"\u2003USER=$1"},{"entry":"else"},{"entry":"\u2003echo \u201c \u201d"},{"entry":"\u2003echo \u201cUSAGE: getpass \u2018username\u2019\u201d"},{"entry":"\u2003echo \u201c \u201d"},{"entry":"\u2003exit 1"},{"entry":"fi"},{"entry":"# make sure the .password file exist"},{"entry":"if [ ! -s $DBSEHOME\/.password ]"},{"entry":"then"},{"entry":"\u2003echo \u201c \u201d"},{"entry":"\u2003echo \u201cERROR: this machine does not appear to have a password file\u201d"},{"entry":"\u2003echo \u201c \u201d"},{"entry":"\u2003exit 1"},{"entry":"fi"},{"entry":"# get the appropriate password"},{"entry":"PASSWORD=\u2018cat $DBSEHOME\/.password|grep -i \u201c${USER} \u201d|awk \u2018{print $2}\u2019\u2019"},{"entry":"BADSIDS=\u2018cat $DBSEHOME\/.password|grep -i \u201c${USER} \u201d|awk \u2018{print $3}\u2019\u2019"},{"entry":"OLDPASS=\u2018cat $DBSEHOME\/.password|grep -i \u201c${USER} \u201d|awk \u2018{print $4}\u2019\u2019"},{"entry":"# if a password was found, print it to the screen"},{"entry":"if[ $PASSWORD ]"},{"entry":"then"},{"entry":"\u2003echo \u201c$ {PASSWORD}\u201d"},{"entry":"\u2003# print a message if passwords appear to not be synced between databases"},{"entry":"if [ $BADSIDS ]"},{"entry":"then"},{"entry":"\u2003BADSIDS=\u2018echo ${BADSIDS}|cut -c2-100\u2019"},{"entry":"\u2003echo \u201c \u201d"},{"entry":"\u2003echo \u201cWARNING:\\tThe password for ${USER} may not be synchronized\u201d"},{"entry":"\u2003echo \u201c\\t\\tbetween all databases. The database(s) ${BAD SIDS} appear(s)\u201d"},{"entry":"\u2003echo \u201c\\t\\tto use the old password \u2018${OLDPASS}\u2019\u201d"},{"entry":"\u2003echo \u201c\u201d"},{"entry":"\u2003fi"},{"entry":"else"},{"entry":"\u2003echo \u201c \u201d"},{"entry":"\u2003echo \u201cERROR: ${USER} is not a supported username\u201d"},{"entry":"\u2003echo \u201c \u201d"},{"entry":"\u2003exit 1"},{"entry":"fi"},{"entry":"getindex (PL\/SQL Script)"},{"entry":"SET ECHO OFF"},{"entry":"REM Procedure Name: getindex"},{"entry":"REM"},{"entry":"REM Description: Procedure creates a file with a list of current indexes"},{"entry":"VARIABLE TName varchar2(30)"},{"entry":"SET SERVEROUTPUT OFF"},{"entry":"SET VERIFY OFF"},{"entry":"SET FEEDBACK OFF"},{"entry":"SET FLUSH OFF"},{"entry":"SET TRIMSPOOL ON"},{"entry":"SET TERMOUT OFF"},{"entry":"ACCEPT TName char"},{"entry":"SET PAGES 0"},{"entry":"SET HEADING OFF"},{"entry":"SPOOL \/files6\/ipsa\/dataloads\/&TName..idx"},{"entry":"select indexname from dbaindexes where tablename = UPPER(\u2018&TName\u2019);"},{"entry":"SPOOL OFF"},{"entry":"SET TERMOUT ON"},{"entry":"SET SERVEROUTPUT OFF"},{"entry":"SET VERIFY ON"},{"entry":"SET FEEDBACK ON"},{"entry":"SET ECHO ON"},{"entry":"dropindexp (PL\/SQL Stored Procedure)"},{"entry":"CREATE OR REPLACE PROCEDURE dropindexp (INIndexName IN"},{"entry":"VARCHAR2)"},{"entry":"AS"},{"entry":"\u2003wsstmt \u2003\u2003varchar2(100);"},{"entry":"\u2003wsowner \u2003\u2003varchar2(30);"},{"entry":"CURSOR cindexowner (INIndexName VARCHAR2)"},{"entry":"IS"},{"entry":"SELECT tableowner"},{"entry":"FROM dbaindexes"},{"entry":"WHERE indexname = UPPER(INIndexName);"},{"entry":"BEGIN"},{"entry":"\u2003OPEN cindexowner(INIndexName);"},{"entry":"\u2003FETCH cindexowner INTO wsowner;"},{"entry":"\u2003wsstmt := \u2018DROP INDEX\u2019\u2225wsowner\u2225\u2018.\u2019\u2225INIndexName;"},{"entry":"\u2003pexec (wsstmt);"},{"entry":"\u2003CLOSE cindexowner;"},{"entry":"END dropindexp;"},{"entry":"\/"},{"entry":"show errors;"},{"entry":"createctl (PL\/SQL Script)"},{"entry":"SET ECHO OFF"},{"entry":"REM Procedure Name: createctl"},{"entry":"REM Description: Procedure created control file required by SQL*Loader"},{"entry":"REM \u2003\u2003Uses createctlp.sql to generate control file"},{"entry":"REM Tables Accessed: AllTabColumns (Data Dictionary Table)"},{"entry":"VARIABLE TName varchar2(30)"},{"entry":"SET SERVEROUTPUT OFF"},{"entry":"SET VERIFY OFF"},{"entry":"SET FEEDBACK OFF"},{"entry":"SET TRIMSPOOL ON"},{"entry":"SET TERMOUT OFF"},{"entry":"SET FLUSH OFF"},{"entry":"ACCEPT TName char"},{"entry":"delete controltb;"},{"entry":"commit;"},{"entry":"EXECUTE CREATECTLP(\u2018&TNAME\u2019);"},{"entry":"SET PAGES 0"},{"entry":"SET HEADING OFF"},{"entry":"SPOOL \/files6\/ipsa\/dataloads\/controlfiles\/&TName..ctl"},{"entry":"select linetext from controltb order by linenbr"},{"entry":"SPOOL OFF"},{"entry":"SET TERMOUT ON"},{"entry":"SET SERVEROUTPUT OFF"},{"entry":"SET VERIFY ON"},{"entry":"SET FEEDBACK ON"},{"entry":"SET ECHO ON"},{"entry":"createctlp (PL\/SQL Stored Procedure)"},{"entry":"**Note-there should be a table used specifically for this procedure (controltb)"},{"entry":"with the columns"},{"entry":"\u2003LINENBR number(3) and LINETEXT varchar2(100)."},{"entry":"CREATE OR REPLACE PROCEDURE createctlp"},{"entry":"\u2003(INTableName \u2002IN \u2002usertabcolumns.tablename%TYPE)"},{"entry":"AS"},{"entry":"\u2003WSRecNo \u2003number(2) := 0;"},{"entry":"\u2003WSlinectr \u2002number(3) := 0;"},{"entry":"\u2003WSindexname varchar2(30);"},{"entry":"CURSOR cindexname(INTableName IN usertabcolumns.tablename%TYPE)"},{"entry":"is"},{"entry":"\u2003SELECT indexname"},{"entry":"\u2003FROM sys.dbaindexes"},{"entry":"\u2003WHERE sys.dbaindexes.tablename = UPPER(INTableName)"},{"entry":"\u2003AND sys.dbaindexes.indexname like \u2018PK%\u2019;"},{"entry":"CURSOR cusertabcolumns(INTableName"},{"entry":"usertabcolumns.tablename%type) is"},{"entry":"\u2003SELECT columnname,"},{"entry":"\u2003\u2003datatype,"},{"entry":"\u2003\u2003datalength"},{"entry":"\u2003FROM usertabcolumns"},{"entry":"\u2003WHERE usertabcolumns.tablename = UPPER(INTableName);"},{"entry":"BEGIN"},{"entry":"\u2003OPEN cindexname(INTableName);"},{"entry":"\u2003FETCH cindexname INTO WSindexname"},{"entry":"\u2003insert into controltb values (WSlinectr,\u2018UNRECOVERABLE\u2019);"},{"entry":"\u2003WSlinectr := WSlinectr + 1;"},{"entry":"\u2003insert into controltb values (WSlinectr,\u2018LOAD DATA\u2019);"},{"entry":"\u2003WSlinectr := WSlinectr + 1;"},{"entry":"\u2003insert into controltb values (WSlinectr,\u2018INFILE"},{"entry":"\u2003\u2003\u201c\/files6\/ipsa\/dataloads\/datafiles\/\u2018\u2225INTableName\u2225\u2019.dat\u2019\u201d);"},{"entry":"\u2003WSlinectr := WSlinectr + 1;"},{"entry":"\u2003insert into controltb values (WSlinectr,\u2018APPEND\u2019);"},{"entry":"\u2003WSlinectr := WSlinectr + 1;"},{"entry":"\u2003insert into controltb values (WSlinectr,\u2018INTO TABLE\u2019\u2225INTableName);"},{"entry":"\u2003WSlinectr := WSlinectr + 1;"},{"entry":"\u2003insert into controltb values (WSlinectr,\u2018SORTED INDEXES"},{"entry":"(\u2018\u2225WSindexname\u2225\u2019)\u2019);"},{"entry":"\u2003WSlinectr := WSlinectr + 1;"},{"entry":"\u2003insert into controltb values (WSlinectr,\u2018FIELDS TERMINATED BY\u2019\u2225\u2018\u201c,\u2019\u201d);"},{"entry":"\u2003WSlinectr := WSlinectr + 1;"},{"entry":"\u2003insert into controltb values (WSlinectr,\u2018(\u2019);"},{"entry":"\u2003WSlinectr := WSlinectr + 1;"},{"entry":"\u2003FOR crec in cusertabcolumns(INTableName) LOOP"},{"entry":"\u2003IF WSRecNo = 0 then"},{"entry":"\u2003\u2003IF crec.datatype = \u2018DATE\u2019 THEN"},{"entry":"\u2003\u2003\u2003insert into controltb values (WSlinectr,crec.columnname\u2225"},{"entry":"\u201cDATE \u201cMM\/DD\/YYYY HH24:MI:SS\u201d\u201d);"},{"entry":"\u2003\u2003ELSE"},{"entry":"\u2003\u2003\u2003insert into controltb values (WSlinectr,crec.columnname);"},{"entry":"\u2003\u2003END IF;"},{"entry":"\u2003WSRecNo := 1;"},{"entry":"\u2003ELSE"},{"entry":"\u2003\u2003\u2003IF c_rec.data_type = \u2018DATE\u2019 THEN"},{"entry":"\u2003\u2003\u2003\u2003insert into controltb values (WSlinectr,\u2018,\u2019\u2225crec.columnname\u2225"},{"entry":"\u2018DATE \u201cMM\/DD\/YYYY HH24:MI:SS\u201d\u2019);"},{"entry":"\u2003\u2003ELSE"},{"entry":"\u2003\u2003\u2003\u2003insert into controltb values (WSlinectr,\u2018,\u2019\u2225crec.columnname);"},{"entry":"\u2003\u2003\u2003END IF;"},{"entry":"\u2003\u2003END IF;"},{"entry":"\u2003\u2003WSlinectr := WSlinectr + 1;"},{"entry":"\u2003END LOOP;"},{"entry":"\u2003insert into controltb values (WSlinectr,\u2018)\u2019);"},{"entry":"EXCEPTION"},{"entry":"\u2003WHEN NODATAFOUND THEN"},{"entry":"\u2003\u2003DBMSOUTPUT.PUTLINE(\u2018The table does not exist:\u2019);"},{"entry":"END;"},{"entry":"\/"},{"entry":"show errors"},{"entry":"pexec (PL\/SQL Stored Procedure)"},{"entry":"CREATE OR REPLACE PROCEDURE pexec (INString IN varchar2)"},{"entry":"AS"},{"entry":"\u2003ccursor INTEGER;"},{"entry":"\u2003WSret INTEGER;"},{"entry":"BEGIN"},{"entry":"\u2003ccursor := DBMSSQL.OPENCURSOR;"},{"entry":"\u2003DBMSSQL.PARSE(ccursor, INString, DBMSSQL.V7);"},{"entry":"\u2003WS ret := DBMSSQL.EXECUTE(ccursor);"},{"entry":"\u2003DBMSSQL.CLOSECURSOR(ccursor);"},{"entry":"END;"},{"entry":"\/"},{"entry":"spkillusersp (PL\/SQL Stored Procedure)"},{"entry":"CREATE OR REPLACE PROCEDURE spkillusers01"},{"entry":"AS"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003wssid","number(22);"]},{"entry":["\u2003wsserial#","number(22);"]},{"entry":["\u2003wsstmt","varchar2(100);"]},{"entry":["\u2003oraerrcode","BINARYINTEGER;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"CURSOR ccurrentsessions IS"},{"entry":"\u2003SELECT sid"},{"entry":"\u2003\u2003,serial#"},{"entry":"\u2003FROM sys.v$session"},{"entry":"\u2003WHERE username = \u2018SPSSUSER\u2019"},{"entry":"\u2003\u2003AND status <> \u2018KILLED\u2019;"},{"entry":"BEGIN"},{"entry":"\u2003oraerrcode := 0;"},{"entry":"\u2003IF NOT ccurrentsessions%ISOPEN THEN"},{"entry":"\u2003\u2003OPEN ccurrentsessions;"},{"entry":"\u2003END IF;"},{"entry":"\u2003LOOP"},{"entry":"\u2003\u2003FETCH ccurrentsessions INTO wssid"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},",wsserial#;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003IF ccurrentsessions%NOTFOUND THEN"},{"entry":"\u2003\u2003\u2003IF (ccurrentsessions%ROWCOUNT = 0) THEN"},{"entry":"\u2003\u2003\u2003\u2003RAISE NODATAFOUND;"},{"entry":"\u2003\u2003\u2003END IF;"},{"entry":"\u2003\u2003\u2003CLOSE ccurrentsessions;"},{"entry":"\u2003\u2003\u2003EXIT;"},{"entry":"\u2003\u2003END IF;"},{"entry":"\u2003\u2003wsstmt := \u2018ALTER SYSTEM KILL SESSION \u2019\u201c\u2225wssid\u2225\u2018,\u2019\u2225wsserial#\u2225\u2019\u201d;"},{"entry":"\u2003\u2003pexec (wsstmt);"},{"entry":"\u2003END LOOP;"},{"entry":"\u2003CLOSE ccurrentsessions;"},{"entry":"EXCEPTION"},{"entry":"\u2003WHEN OTHERS THEN"},{"entry":"\u2003\u2003oraerrcode := SQLCODE;"},{"entry":"\u2003\u2003\/* CLOSE ccurrentsessions; causes invalid cursor error*\/"},{"entry":"END spkillusers01;"},{"entry":"\/"},{"entry":"show errors"},{"entry":"getdirectload (PL\/SQL)"},{"entry":"SET ECHO OFF"},{"entry":"REM Procedure Name: getdirectload"},{"entry":"REM Description: Procedure creates a list of files with direct load status"},{"entry":"VARIABLE TName varchar2(30)"},{"entry":"SET SERVEROUTPUT OFF"},{"entry":"SET VERIFY OFF"},{"entry":"SET FEEDBACK OFF"},{"entry":"SET TRIMSPOOL ON"},{"entry":"SET TERMOUT OFF"},{"entry":"SET FLUSH OFF"},{"entry":"ACCEPT TName char"},{"entry":"SET PAGES 0"},{"entry":"SET HEADING OFF"},{"entry":"SPOOL\/files6\/ipsa\/dataloads\/&TName..dirload"},{"entry":"select indexname from dbaindexes where tablename = UPPER(\u2018&TName\u2019)"},{"entry":"\u2003\u2003\u2003\u2003AND status = \u2018DIRECT LOAD\u2019;"},{"entry":"SPOOL OFF"},{"entry":"SET TERMOUT ON"},{"entry":"SET SERVEROUTPUT OFF"},{"entry":"SET VERIFY ON"},{"entry":"SET FEEDBACK ON"},{"entry":"SET ECHO ON"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}},"br":{}},{"@attributes":{"id":"p-0304","num":"0740"},"figref":["FIG. 13","FIG. 14","FIG. 15"]},"Data Loading Archive Cleaner","The script cleanarchives is used to delete files from the archive directory used by the data loading script dataloader. The script can use the Perl Module DataManip to compute the date stamp of the files that are to be deleted. This module can be obtained from the Perl web site (http:\/\/www.perl.com\/pace\/pub). The files put in the archive directory by the data loading script dataloader will have a date stamp in the file name. This script will compute a date x days ago. It will then delete all the files in the archive directory that match that date. Depending on the frequency of data loading, the date stamp may include a time stamp as well. It may be more feasible to delete the archived files that match the day and not the time.","Configuration","Variables",{"@attributes":{"id":"p-0306","num":"0000"},"ul":{"@attributes":{"id":"ul0077","list-style":"none"},"li":{"@attributes":{"id":"ul0077-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0078","list-style":"none"},"li":["$Archivedir (this variable will represent the location where the archive files are located)","$Days (this variable will represent the number of days ago to compute, default is seven)\n\nExecuting cleanarchives\n\ncleanarchives [days]\n","If a number days is a parameter, it will computer days number of days ago and delete those files","If no date is passed, the default of seven days is used\n\nProcedure\n"]}}}},"The following is the procedure the cleanarchives script follows to remove files from the archive directory:",{"@attributes":{"id":"p-0308","num":"0747"},"tables":{"@attributes":{"id":"TABLE-US-00018","num":"00018"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 12"},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Step","Activity\/Action"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["1","Read in and set days parameter, if necessary OR set days to the"]},{"entry":[{},"default"]},{"entry":["2","Computer the date to be deleted"]},{"entry":["3","Open the archive directory and read in the file names"]},{"entry":["4","For each files name, check to see if the date stamp on that file"]},{"entry":[{},"matches the date computed in step 2"]},{"entry":[{},"If it matches, delete the file"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}},"br":{}},"The script purgerecords is used to delete records from a Database. The script runs a PL\/SQL script that deletes records from tables after a certain length of time. This script can be run from the cron or from the command line. The script performs error checking and reports via email to a specified administrator of success or failure. This script may be written in Perl.","Configuration","Environment Variables","Environment variables relevant to the Database need to be set. Specifically, the following environment variables need to be set: DBSESID, DBSEHOME DBSEBASE, HOME, and PATH (to include the location of the dbse bin directory and the directory that holds the scripts used by this procedure). To configure these variables, look for the section in the code entitled setting environment variables. Set the values of $SID, $Home, and $Base. Verify that the path is correct when setting the PATH environment variable.","Directory Structure","A directory structure should be set up to house the files generated by purgerecords. See section  for a list and description of these files. \n","File Names","The files used\/created by the purgerecords script should have a standardized naming format. The log file generated by the purgerecords script will be named purge.log. This file will hold a months worth of log entries. At the first day of the month, it will be renamed purge.logdatestamp. The current format of the $Datestamp is MonYYYY, however $Datestamp can be changed if more frequent archiving of the log file is necessary.","The file generated by the SQL Script is called purge.sql.log. This file is the spooled output of the SQL Script. It will be checked for errors\/exceptions. If none are found, it is deleted. If there are errors found, it is renamed purge.sql.log.datestamp with the date stamp format as described above.","SQL Script","This script uses a SQL script called purgerecords. The scripts should be located in its own directory (following the OFA directory structure). Set $SQLdir to this directory location. The SQL script used bypurgerecords is as follows:",{"@attributes":{"id":"p-0316","num":"0755"},"tables":{"@attributes":{"id":"TABLE-US-00019","num":"00019"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"6"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"4","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"5","colwidth":"63pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 13"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"5","align":"center","rowsep":"1"}}]},{"entry":[{},"Script",{},{},{},{}]},{"entry":[{},"Name","Type","Input","Output","Functionality"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"5","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"purge","script","none","purge.sql.log","Deletes rows"]},{"entry":[{},"records",{},{},{},"of tables that"]},{"entry":[{},{},{},{},{},"are past the"]},{"entry":[{},{},{},{},{},"specified date"]},{"entry":[{},{},{},{},{},"(section 0)"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"5","align":"center","rowsep":"1"}}]}]}}}},"br":[{},{}],"ul":{"@attributes":{"id":"ul0079","list-style":"none"},"li":{"@attributes":{"id":"ul0079-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0080","list-style":"none"},"li":["purge.sql.log (log file generated by SQL scriptpurgerecords)","purge.log (log files generated by this script)\n\nMessaging\n"]}}}},"The purgerecords script will send email to an administrator to report success or failure of the purging process. Set $Mailer to the text string that will execute the mailer in command line mode. Set $DBA to the email address of the administrator.","Users","The purgerecords script will need to log on to SQL*Plus to execute the SQL script purgerecords. A variable name should be set to the schema that owns the tables that are going to be purged. Do not hard-code the schema password in the script. Instead use getpass.","Executing Purgerecords","The purgerecords script does not accept any parameters. It can be run from the command line or from the cron. To execute the script, type purgerecords.","Procedure","The following is the procedure the purgerecords script follows to load data into a database.",{"@attributes":{"id":"p-0321","num":"0762"},"tables":{"@attributes":{"id":"TABLE-US-00020","num":"00020"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 14"},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Step","Activity\/Action"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["1","Set database environment"]},{"entry":[{},"Set directory structure variables"]},{"entry":[{},"Set SQL Script directory"]},{"entry":[{},"Set log file name variables"]},{"entry":["2","Create a new log file purge.log if one does not exist, or open an"]},{"entry":[{},"existing purge.log for appending"]},{"entry":["3","Set the mailer program and administrator's email address"]},{"entry":["4","Set the date stamp for load"]},{"entry":[{},"For the schema owner, set the user name and get password using"]},{"entry":[{},"getpass"]},{"entry":[{},"Set the fail flag to false (0)"]},{"entry":["5","Log onto SQL*Plus"]},{"entry":[{},"Execute the SQL script purge_records"]},{"entry":["6","Check to see if a the SQL script generated a log file"]},{"entry":[{},"If so, scan the log file for errors. If errors are found set the fail"]},{"entry":[{},"flag to true. Print to the log file the number of rows that were"]},{"entry":[{},"deleted"]},{"entry":[{},"If the log file does not exist, the script did not run correctly. Set"]},{"entry":[{},"the fail flag to true."]},{"entry":["7","Check the value of the failure flag (it will be set to true if any"]},{"entry":[{},"errors occurred at any time during the process above)"]},{"entry":[{},"If the flag is false the purge was successful. Delete the log file"]},{"entry":[{},"generated by the SQL script and send an email report to the"]},{"entry":[{},"administrator"]},{"entry":[{},"If the flag is true the purge was unsuccessful. Rename the file"]},{"entry":[{},"generated by the SQL script to include the date stamp and send an"]},{"entry":[{},"email report to the administrator"]},{"entry":["8","If it is the first day of the month, rename purge.log to include"]},{"entry":[{},"the date stamp."]},{"entry":[{},"Otherwise print the date\/time to the log and close it"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}},"br":{}},"The following is the scripts reference above are used by purgerecords. The bolded lines should be configured to the particular system you are using.",{"@attributes":{"id":"p-0323","num":"0764"},"tables":{"@attributes":{"id":"TABLE-US-00021","num":"00021"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"getpass (Born Shell)"},{"entry":"#!\/bin\/sh"},{"entry":"#---------------------------------------------------------#"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["# Scriptname: getpass","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"105pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"161pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"105pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["# Description: This script will be used to retrieve the","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","appropriate password from the .password","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"119pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","file. It can be used from the command","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","line to retrieve a password or from a","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","shell script to eliminate hard coding of #"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","passwords. The .password file is located","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"119pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","in $DBSEHOME, with the executable","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"133pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","located in $DBSEHOME\/bin.","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"105pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"154pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["# Dependencies: getpass requires one file,.password","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"105pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","SIDFILE: Contains a list passwords for \u2002#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"154pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","system, sys, and dbse.","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"105pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"154pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["# Command syntax: getpass USERNAME","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"#---------------------------------------------------------#"},{"entry":"# what shell do we use?"},{"entry":"SHELL=\/usr\/bin\/sh"},{"entry":"# where is our home?"},{"entry":"DBSEHOME=\/files0\/ipsa\/vendor\/dbse\/product\/7.3.4; export DBSEHOME"},{"entry":"# what path do we look for?"},{"entry":"PATH=\/usr\/bin:\/bin:${DBSEHOME}\/bin; export PATH"},{"entry":"# who are we retrieving the password for"},{"entry":"if[ $1 ]"},{"entry":"then"},{"entry":"\u2003USER=$1"},{"entry":"else"},{"entry":"\u2003echo \u201c \u201d"},{"entry":"\u2003echo \u201cUSAGE: getpass \u2018username\u2019\u201d"},{"entry":"\u2003echo \u201c \u201d"},{"entry":"\u2003exit 1"},{"entry":"fi"},{"entry":"# make sure the .password file exist"},{"entry":"if [ ! -s $DBSEHOME\/.password ]"},{"entry":"then"},{"entry":"\u2003echo \u201c \u201d"},{"entry":"\u2003echo \u201cERROR: this machine does not appear to have a password file\u201d"},{"entry":"\u2003echo \u201c \u201d"},{"entry":"\u2003exit 1"},{"entry":"fi"},{"entry":"# get the appropriate password"},{"entry":"PASSWORD=\u2018cat $DBSEHOME\/.password|grep -i \u201c${USER} \u201d|awk \u2018{print $2}\u2019\u2019"},{"entry":"BADSIDS=\u2018cat $DBSEHOME\/.password|grep -i \u201c${USER} \u201d|awk \u2018{print $3}\u2019\u2019"},{"entry":"OLDPASS=\u2018cat $DBSEHOME\/.password|grep -i \u201c${USER} \u201d|awk \u2018{print $4}\u2019\u2019"},{"entry":"# if a password was found, print it to the screen"},{"entry":"if[ $PASSWORD ]"},{"entry":"then"},{"entry":"\u2003echo \u201c$ {PASSWORD}\u201d"},{"entry":"\u2003# print a message if passwords appear to not be synced between databases"},{"entry":"if [ $BADSIDS ]"},{"entry":"then"},{"entry":"\u2003BADSIDS=\u2018echo ${BADSIDS}|cut -c2-100\u2019"},{"entry":"\u2003echo \u201c \u201d"},{"entry":"\u2003echo \u201cWARNING:\\tThe password for ${USER} may not be synchronized\u201d"},{"entry":"\u2003echo \u201c\\t\\tbetween all databases. The database(s) ${BAD SIDS} appear(s)\u201d"},{"entry":"\u2003echo \u201c\\t\\tto use the old password \u2018${OLDPASS}\u2019\u201d"},{"entry":"\u2003echo \u201c \u201d"},{"entry":"\u2003fi"},{"entry":"else"},{"entry":"\u2003echo \u201c \u201d"},{"entry":"\u2003echo \u201cERROR: ${USER} is not a supported username\u201d"},{"entry":"\u2003echo \u201c \u201d"},{"entry":"\u2003exit 1"},{"entry":"fi"},{"entry":"purgerecords (SQL Script)"},{"entry":"SET ECHO ON"},{"entry":"SET FEEDBACK ON"},{"entry":"SET FLUSH OFF"},{"entry":"SET HEADING OFF"},{"entry":"SET SERVEROUTPUT ON"},{"entry":"SET TERMOUT OFF"},{"entry":"SET VERIFY OFF"},{"entry":"SPOOL\/files6\/ipsa\/purge\/purge.sql.log"},{"entry":"REM *Purge records in PERFFACTTB table"},{"entry":"delete from PERFFACTTB where PERFFACTTB.PERFTIMEKEYCD"},{"entry":"in"},{"entry":"(select PERFMETRICTIMETB.PERFTIMEKEYCD"},{"entry":"from PERFMETRICTIMETB"},{"entry":"where"},{"entry":"tochar(PERFMETRICTIMETB.PERFDT, \u2018MM\/DD\/YYYY\u2019)"},{"entry":"<=(select tochar(sysdate - 40, \u2018MM\/DD\/YYYY\u2019) from dual));"},{"entry":"REM *Purge records in EVENTSFACTTB table"},{"entry":"delete from EVENTSFACTTB where"},{"entry":"EVENTSFACTTB.PERFTIMEKEYCD in"},{"entry":"(select PERFMETRICTIMETB.PERFTIMEKEYCD"},{"entry":"from PERFMETRICTIMETB"},{"entry":"where"},{"entry":"tochar(PERFMETRICTIMETB.PERFDT \u2018MM\/DD\/YYYY\u2019)"},{"entry":"<=(select tochar(sysdate - 40, \u2018MM\/DD\/YYYY\u2019) from dual));"},{"entry":"REM *Purge records in PERFFACTDLYTB table"},{"entry":"delete from PERFFACTDLYTB where"},{"entry":"PERFFACTDLYTB.PERFTIMEKEYCD in"},{"entry":"(select PERFMETRICTIMETB.PERFTIMEKEYCD"},{"entry":"from PERFMETRICTIMETB"},{"entry":"where"},{"entry":"tochar(PERFMETRICTIMETB.PERFDT, \u2018MM\/DD\/YYYY\u2019)"},{"entry":"<=(select to char(sysdate - 397, \u2018MM\/DD\/YYYY\u2019) from dual));"},{"entry":"SPOOL OFF"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}},"br":{}},"The script tableextract is used to extract data from a Database table and write it to a flat file in a comma delimitated format. The purpose of this script is to extract the data from non-fact tables. Therefore, there not all tables can be extracted. The script can be configured to extract data from as many tables as required. The script may be written in Perl.","Configuration","Environment Variables","Environment variables relevant to the Dbse Database need to be set. Specifically, the following environment variables need to be set: DBSESID, DBSEHOME, DBSEBASE, HOME, and PATH (to include the location of the dbse bin directory and the directory that holds the scripts used by this procedure). To configure these variables, look for the section in the code entitled setting environment variables. Set the values of $SID, $Home, and $DBase. Verify that the path is correct when setting the PATH environment variable.","Users","The tableextract script will need to log on to SQL*Plus to execute the SQL script tableextract. A variable name should be set to the schema that owns the tables that are going to be extracted. Do not hard-code the schema password in the script. Instead use getpass (see below).","PL\/SQL","For every table that is to be extracted, a corresponding PL\/SQL select statement is required. Determine which columns should be extracted and what, if any, filters are applicable.\n\n","The following is the procedure the tableextract script follows to extract data from a database into a text file.",{"@attributes":{"id":"p-0329","num":"0774"},"tables":{"@attributes":{"id":"TABLE-US-00022","num":"00022"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 15"},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Step","Activity\/Action"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["1","Read in and set parameters (tablename and outputdirectory)"]},{"entry":[{},"Set database environment"]},{"entry":["2","For each user, set user name and get password using getpass"]},{"entry":["3","Log onto SQL*Plus"]},{"entry":[{},"Set SQL system variables"]},{"entry":[{},"Set Spool to be outputdirectory\/tablename.dat"]},{"entry":["4","Execute the correct select statement for tablename, if non exist"]},{"entry":[{},"print out an error"]},{"entry":["5","Log off SQL*Plus"]},{"entry":["6","The output file tablename.dat will now be in a format that has"]},{"entry":[{},"extra spaces between fields."]},{"entry":[{},"Open the file and remove all extra white space"]},{"entry":[{},"Rewrite the file in the correct format"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}},"br":{}},"The following is the script reference above this is used by purgerecords. The bolded lines should be configured to the particular system you are using.",{"@attributes":{"id":"p-0331","num":"0776"},"tables":{"@attributes":{"id":"TABLE-US-00023","num":"00023"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"getpass (Born Shell)"},{"entry":"#!\/bin\/sh"},{"entry":"#---------------------------------------------------------#"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["# Scriptname: getpass","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"105pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"154pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["# Description: This script will be used to retrieve the","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","appropriate password from the .password","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"119pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","file. It can be used from the command","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","line to retrieve a password or from a","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","shell script to eliminate hard coding of #"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","passwords. The .password file is located","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"119pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","in $DBSEHOME, with the executable","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"133pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","located in $DBSEHOME\/bin.","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"105pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"161pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"105pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["# Dependencies: getpass requires one file,.password","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"105pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","SIDFILE: Contains a list passwords for \u2002#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"154pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","system, sys, and dbse.","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"105pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["#","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"154pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["# Command syntax: getpass USERNAME","#"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"#---------------------------------------------------------#"},{"entry":"# what shell do we use?"},{"entry":"SHELL=\/usr\/bin\/sh"},{"entry":"# where is our home?"},{"entry":"DBSEHOME=\/files0\/ipsa\/vendor\/dbse\/product\/7.3.4; export DBSEHOME"},{"entry":"# what path do we look for?"},{"entry":"PATH=\/usr\/bin:\/bin:${DBSEHOME}\/bin; export PATH"},{"entry":"# who are we retrieving the password for"},{"entry":"if[ $1 ]"},{"entry":"then"},{"entry":"\u2003USER=$1"},{"entry":"else"},{"entry":"\u2003echo \u201c \u201d"},{"entry":"\u2003echo \u201cUSAGE: getpass \u2018username\u2019\u201d"},{"entry":"\u2003echo \u201c \u201d"},{"entry":"\u2003exit 1"},{"entry":"fi"},{"entry":"# make sure the .password file exist"},{"entry":"if [ ! -s $DBSEHOME\/.password ]"},{"entry":"then"},{"entry":"\u2003echo \u201c \u201d"},{"entry":"\u2003echo \u201cERROR: this machine does not appear to have a password file\u201d"},{"entry":"\u2003echo \u201c \u201d"},{"entry":"\u2003exit 1"},{"entry":"fi"},{"entry":"# get the appropriate password"},{"entry":"PASSWORD=\u2018cat $DBSEHOME\/.password|grep -i \u201c${USER} \u201d|awk \u2018{print $2}\u2019\u2019"},{"entry":"BADSIDS=\u2018cat $DBSEHOME\/.password|grep -i \u201c${USER} \u201d|awk \u2018{print $3}\u2019\u2019"},{"entry":"OLDPASS=\u2018cat $DBSEHOME\/.password|grep -i \u201c${USER} \u201d|awk \u2018{print $4}\u2019\u2019"},{"entry":"# if a password was found, print it to the screen"},{"entry":"if[ $PASSWORD ]"},{"entry":"then"},{"entry":"\u2003echo \u201c$ {PASSWORD}\u201d"},{"entry":"\u2003# print a message if passwords appear to not be synced between databases"},{"entry":"if [ $BADSIDS ]"},{"entry":"then"},{"entry":"\u2003BADSIDS=\u2018echo ${BADSIDS}|cut -c2-100\u2019"},{"entry":"\u2003echo \u201c \u201d"},{"entry":"\u2003echo \u201cWARNING:\\tThe password for ${USER} may not be synchronized\u201d"},{"entry":"\u2003echo \u201c\\t\\tbetween all databases. The database(s) ${BAD SIDS} appear(s)\u201d"},{"entry":"\u2003echo \u201c\\t\\tto use the old password \u2018${OLDPASS}\u2019\u201d"},{"entry":"\u2003echo \u201c \u201d"},{"entry":"\u2003fi"},{"entry":"else"},{"entry":"\u2003echo \u201c \u201d"},{"entry":"\u2003echo \u201cERROR: ${USER} is not a supported username\u201d"},{"entry":"\u2003echo \u201c \u201d"},{"entry":"\u2003exit 1"},{"entry":"fi"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},{"@attributes":{"id":"p-0332","num":"0777"},"figref":"FIG. 16","b":["1600","1602","1604","1606"]},"In one aspect of the present invention, the step of selecting the report parameters further includes the steps of selecting at least one metric class parameter relating to the activity of the network, selecting a graph type parameter, and selecting at least one report criteria parameter relating to the activity of the network. The generated graph may be of the selected graph type parameter.","In another aspect of the present invention, a selectable list of metrics parameters, a selectable list of graph type parameters, and a selectable list of report criteria may be displayed. Further, the graph type parameter may be dependant upon the selected metric class parameter. The report criteria parameter may also be dependant upon the selected graph type parameter.","In one embodiment, the graph type parameter may be a line graph, a bar graph, a boxplot graph, and\/or a spectrum graph. In addition, the graph may displayed via a browser.","More details follow.","IPSA Batch and Ad hoc Reporting","This section provides an overview of the IPSA reporting process. It sequencially covers the procedures for implementing both batch reporting and web-based ad hoc reporting. The following files and directories are used:\n\n","Adhoc working file with a unique IPSASPSS.exe instance number, <instance>, that is defined in IPSAStartSPSS.cmd (see Configuration).\n\n","To enable report generation, execute IPSAStartSPSS.cmd. Both SPSS and a VB file-polling application are invoked in the form of IPSASPSS.exe, sppssw.exe, and spsswin.exe. These are processes that can be monitored using Window NT Task Manager. With report criteria specified in <SABATCH>IPSABatchQueue.txt, create the file <SAADHOC>IPSAProcessTheBatchQueue.txt. The contents of this file are unimportant, as only its presence is polled for. IPSASPSS.exe reads the contents of IPSABatchQueue.txt and passes it to SPSS. Graphs are generated in <SAWEB>\\Batch\\Daily\\as well as an HTML file that points to the images.","Multiple graphs will be generated if, for example, 100 elements are reported on and the maximum number of elements per axis has been set to 10. In this case, 10 graphs would be generated and the HTML file would link to each of them. To terminate the application, alter <SARPHME>\\InputQueue\\IPSAControlQueue.txt as stated in the \u201cControlling IPSASPSS during execution\u201d section of this document.","Installation","Run SetupVisualBasicRuntime\\Setup.exe to install needed Visual Basic runtime components to your system. The installation directory that you choose must be specified in IPSAStartSPSS.cmd if you plan to use the command file.","Configuration","IPSAStartSPSS.cmd is often used to start the reporting process. This command file changes to the IPSA installation directory and executes IPSASPSS.exe, passing three modifyable parameters:\n\n","Update <SABATCH>IPSABatchQueue.txt with your report criteria. See adhoc.doc for content specification. This file is read by IPSASPSS.exe and the contents sent to SPSS to designate what data is pulled from the database and reported upon. If allfour of the following fields are not specified, defaults are used for allfour.\n\n","In addition, the wildcards \u201c*\u201d and \u201c?\u201d may be used when specifying element names and locations:\n\n","Run IPSAStartSPSS.cmd to start IPSASPSS.exe and instantiate SPSS. Run Windows Task Manager (taskmgr.exe) from Start\/Run . . . to verify that the following Processes are running: IPSASPSS.exe, spssw.exe, and spsswin.exe.","note: An enhancement would be to have IPSASPSS.exe run as a Windows NT Service.","Propagate the Action","The presence of <SAADHOC>\\IPSAProcessTheBatchQueue.txt will notify the IPSASPSS.exe to read <SABATCH>\\IPSABatchQueue.txt and pass the report parameters to SPSS (see the next section, \u201cIPSASPSS Operation\u201d). The content of this file does not matter, as only its presence is checked for. This file is deleted when IPSASPSS.exe has processed it.","note: This is problematic when multiple instances of IPSASPSS.exe exist and all are expected to wait for this file to be created. A possible solution is to have multiple copies of IPSAProcessTheBatchQueue.txt located in separate directories, each being accessed by a single IPSA\\-SPSS.exe process.","IPSASPPS Operation","This process polls for the existence of\n\n","The batch queue could be separate for each instance of this process.","Two places that all instances must access are (1) Ad-hoc queue and (2), web documents dir.","Controlling IPSASPSS during execution","Commands may be issued to IPSASPSS.exe by creating <SARPHME>\\InputQueue\\IPSAControlQueue.txt and entering commands into it. IPSASPSS.exe reads this file (if it exists) and executes the commands contained within.","For example, the following file contents will terminate the SPSS and IPSASPSS.exe processes:\n\n","If this method is not used, the processes must be killed using Windows Task Manager (see 3.4). IPSAControlQueue.txt is deleted after use.","note: Currently the only command that IPSASPSS recognizes is \u201cSAQUIT yes\u201d (see above).","note: This file currently resides in <SARPHME>\\InputQueue\\but can be reconfigured to exist in the queue directory for multiple instances of IPSASPSS.exe.","Output","A table of contents for the generated graphs is created in <SAWEB>\\Batch\\Daily<date>INFO, as well as the graph image files. This table of contents is viewable in a web browser.\n\n","From the Visual Basic IDE, open the IPSASPSS.VBP project file. Make any needed code changes, then create IPSASPSS.EXE from the File menu. Close the IDE. From the Visual Basic program group, start the Application Setup Wizard. Open the IPSAVBSPSS.SWT template file and follow the prompts to create the setup program, answering \u201cno\u201d to all questions related to \u201cremote automation components\u201d. When prompted, choose a destination output directory and create the setup files.","Once the setup program has been created, edit the SETUP.LST file in the destination output directory that you chose. Towards the end of the text, change all solitary occurrences of \u201cSPSS\u201d to \u201cIPSA\u201d (see below). Save and close the file when completed.\n\n","The ad hoc reporting works in a manner practically identical to the batch reporting. A queue file is created with report parameters contained within it and IPSASPSS.exe polls for its presence. Once found, the report parameters are passed to SPSS, where the graphs are created. The only real difference is that the queue file is not created by hand, it is generated from a web-based interface. The presence of the IPSAAdhocQueue.txt file is the trigger for the report generation. This is analogous to the IPSAProcessTheBatchFile.txt file from batch reporting.","Requirements",{"@attributes":{"id":"p-0362","num":"0000"},"ul":{"@attributes":{"id":"ul0102","list-style":"none"},"li":{"@attributes":{"id":"ul0102-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0103","list-style":"none"},"li":["HTML 3.2 compliant web browser (e.g. Netscape Navigator 3.0 or higher, MS Internet Explorer 4.0 or higher).","adhoc.pl file located in the cgi-bin directory of a web server","adhoc.setup.txt file located in the same directory as adhoc.pl (above)\n\nNavigation From the main Ad hoc screen  located at http:\/\/<webserver>\/cgi-bin\/adhoc.pl, choose a metric class from the selection list and click Next  (see ). If multiple graph types  are available for the chosen metric, they are displayed next (see ). After choosing a graph type, enter report criteria into the form (see ). Exemplary fields include Title , Element , Location, etc. Specify multiple elements  or locations  by either typing their name in the entry field or selecting them from the drop-down list and clicking \u201cAdd\u201d. Acceptable wildcards are \u201c*\u201d for \u201call\u201d and \u201c?\u201d for \u201czero or one\u201d. Choose multiple metrics by holding the CTRL key down while selecting each desired metric.\n"]}}}},"Click on Submit to create or update <SAADHOC>\\IPSAAdhocQueue.txt. IPSASPSS.exe reads its contents and pass the parameters to SPSS. The generated graphs are created in <SAWEB>\\Adhoc<date>INFO and returned to the user via the browser. Upon graph generation, IPSA\\-AdhocQueue.txt is deleted.","Reporting Requirements Phase 2","The tables shown in  detail the Batch Reports recommended, the eight generic report types, and the Adhoc requirements. The remainder of this section references these matrices several times. In particular,  illustrates exemplary batch reporting requirements.  lists some of the generic report types.  shows exemplary ad hoc reporting requirements.  illustrates sample metric information.",{"@attributes":{"id":"p-0365","num":"0898"},"figref":"FIGS. 19\u201322"},"Batch Reporting","General Information (Example)",{"@attributes":{"id":"p-0366","num":"0000"},"ul":{"@attributes":{"id":"ul0104","list-style":"none"},"li":{"@attributes":{"id":"ul0104-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0105","list-style":"none"},"li":["Daily batch report processing will be scheduled to occur at 1:00 am using Windows NT WinAT to execute SPSS reporting scripts.","Daily batch processing will include both performance and event reporting operations.","Examples of the eight generic report types referenced in this document and in  can be found in ."]}}}},"Daily performance reporting processing tasks\n\n","Daily event reporting processing tasks\n\n","Other daily processing tasks (applies to both event and performance data)\n\n","A web-based ad-hoc capability is required to produce reports of the same eight generic report types as the batch reports.","The adhoc utility should present a menu hierarchy as shown in the Adhoc Reports table of . In this table, the expressions <element name>, <element location> and <instance> can be input by the user in the following forms:\n\n","Once the online menu\/form is completed by the user, a \u201cSubmit\u201d button should execute a database query with the selected choices. The \u201cSubmit\u201d button should also validate any data that is entered if applicable, for proper format (not for valid content, however).","The query should be able access detail and rolled-up data as recent as midnight the previous day. The previous day's detail and rolled-up data should be available for adhoc queries after 6 am the next day.","Report Type Examples",{"@attributes":{"id":"p-0374","num":"0926"},"figref":"FIGS. 23\u201330"},"Graph Explanations and Requirements","This section is an overview of what the graphs, such as those found in , are and what they do. There will be some tips as to how to change certain properties if needed, how to run the graphs from the script, and other useful information.","Graphs","Running graphs from the script","To run the graph from the script the script (macro) open and the script that passes in the parameters. The pairs that go together are:\n\n","To run these scripts (macros), first you need to have the macro window open (the file with the !name) and go under the menu bar Run> All. This will run a define on the macro. After the processor is done running the define, switch over to the call file (i.e. callxy.sps) and select only the area that has the parameters. (There are little headers in this file that describe what each parameter set will accomplish when sent to the macro) Then under the menu bar Run> Selection. This will then pass the parameters to the macro and produce the graph in an output window.","Exporting graphs manually from the output window","To export a graph using what is in the output window, first click on the graph to select the graph area. Go under the menu File>Export which will bring up a dialog box. Select in the drop down box if you wish to export charts only, the document as a whole, or the document (no charts). If you are just exporting a JPEG, charts only would be a good selection. If you wish to export a Windows Bitrnap (BMP) then select the document as a whole. This will export the HTML file and the BMP. (It is easier to view a BMP in a HTML file because the BMP file will launch a paint program just to view it) Then after deciding on what you are going to export, click on the options button next to the drop down box and here you can make selections as to size, resolution, etc. Those optimal settings will be detailed later for each graph. Click OK to get back to the main dialog box. Next set the path for the exported chart by clicking on Browse. The path to the web server is O:\\ipsa\\product development\\reporting\\Web\\WWWRoot.","Select your path, click OK, and then export the document. It should then be able to be viewed on twmmnt02.","Chart Properties","To change the chart properties (on IGRAPHs) and set it to a CHARTLOOK, double click on the graph in the output viewer. This will activate it into interactive mode. Go up to Format>Chart Properties in the menu bar and make necessary changes in the tabbed dialog box. Some changes include: Text size (the title and subtitle text size seems not to take in the CHARTLOOK option when set here-FYI), Font, Symbol attributes (shape, color, fill, etc), Axis attributes (line width, tick marks), colors (for legends, shapes, etc), and other features that need to be changed. After changing what you want, click Apply to view changes and OK to exit the dialog box. Then go to the menu bar Format>Chartlook and click on Save As with the \u201cas displayed\u201d feature highlighted in the box to the left. Save the chartlook to a location that can be called from the macro. This chartlook should then set the settings for the next graphs run with the \/CHARTLOOK=\u2018file\u2019 subcommand in the IGRAPH syntax.","XY-Line Graph (See )","What it shows","The xy-line graph reports the daily details for CPU Utilization (for routers, Unix, and NT),Interface Utilization and Response Time for routers, Memory Utilization (for Unix and NT), Network I\/O (for Unix and NT), Memory Utilization (Unix and NT), and eventually Reponse time for FTP, SMTP, NNTP, and HTTP.","Parameters","In the parameter call:\n\n","The possible variables to pass in are as follows:\n\n","For optimal output for the xy-line graph these settings should be made: (in the chart options in Export dialog box)\n\n","This graph calls the chartlook line.clo found in the O:\\ipsa\\product development\\reporting\\spss\\templates directory.","Bar Graph (See .)","What it shows","The bar graph reports the daily availability for Network, Services, and Processes.","It calculates the percentage of the availability for all of the elements, representing them as bars with the percentage displayed within the bars.","Parameters","In the parameter call:\n\n","The possible variables to pass in are the same as the xy-line graph except for:\n\n","For optimal output for the bar graph these settings should be made: (in the chart options in Export dialog box)\n\n","This graph calls the chartlook bar.clo found in the O:\\ipsa\\product development\\reporting\\spss\\templates directory.","Boxplot Graph (See .)","What it shows","The boxplot graph reports daily comparisons and monthly trends.","Parameters","In the parameter call:","*************************************","DAILY COMPARISON BOXPLOT","***********************************\n\n","*******************************","MONTHLY TREND BOXPLOT","******************************\n\n","The possible variables to pass in are the same as the xy-line graph except for:\n\n","For optimal output for the bar graph these settings should be made: (in the chart options in Export dialog box)\n\n","***NOTE: The monthly boxplot can be exported with these settings, but will NOT turn out very well. This type of graph will not have readable fonts until (hopefully) the next version of SPSS.","Chartlook","This graph calls the chartlook box.clo found in the O:\\ipsa\\product development\\reporting\\spss\\templates directory.","Exception Text Report (See )","Spectrum Graph (See .)","What it shows","This can make three chart types: Daily exception spectrums (for routers, Unix, and NT), Daily Availability Spectrums (High Level overview) for ALL Network, Service, and Process events, and Daily Availability Spectrums (Low Level overview) for EACH event under Network, Service, and Process detailing the elements that the event occurred upon.","Parameters","In the parameter call:","********************************************","DAILY EVENT EXCEPTION GRAPH:","for elements: RT, LX, NT, etc.","**********************************\n\n","**************************************************************","DAILY EVENT AVAILABILITY GRAPH:","for Network, Service, and Process AS A WHOLE","*******************************************************\n\n","*******************************************","DAILY EVENT AVAILABILITY GRAPH:","for EACH Network, Service, and Process","*********************************************\n\n","The possible variables to pass in are the same as in the graphs detailed earlier, except for:\n\n","For optimal output for the spectrum graph these settings should be made: (in the chart options in Export dialog box)\n\n","The exception graph calls the chartlook exception.clo and the availability graphs call the chartlook avail.clo found in the O:\\ipsa\\product development\\reporting\\spss\\templates directory.","Adhoc Web Demo","The Ad hoc web demo demonstrates an HTML-based front end to the SA reporting tool. It allows the user to submit ad hoc reporting criteria from a user-friendly interface. This data is picked up by SPSS and the generated graph is displayed in the browser.","Requirements:",{"@attributes":{"id":"p-0427","num":"0000"},"ul":{"@attributes":{"id":"ul0136","list-style":"none"},"li":{"@attributes":{"id":"ul0136-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0137","list-style":"none"},"li":["HTML 3.2 compliant web browser (e.g. Netscape Navigator 3.0 or higher, MS Internet Explorer 4.0 or higher).","adhoc.pl file located in the cgi-bin directory of a web server","adhoc.setup.txt file located in the same directory as adhoc.pl (above)","*<wwwroot>\/BatchTest\/directory containing SPSS graphs\n\nOverview:\n"]}}}},"From the main Ad hoc screen, a metric class is chosen and the Next button is clicked. If multiple graph types are available for the chosen metric, they are displayed to the user. After a graph type is chosen, the report criteria can be entered into the form that is displayed. Submitting the data will display a graph for the specified data.","Note: in this demo, only a minimal number of graphs exist, so only strict attention to detail will grant a valid report being displayed. If a report is requested that does not exist, the user will be told that no data points exist for the given criteria. Either use the \u201cback\u201d button to edit your criteria, or follow the hyperlink to create a new report query.","Bar Graph","Choose the Service Availability metric class\n\n","Choose from any of the following three combinations:\n\n","High Level Daily Event Exceptions","Choose the Events metric class","Choose High Level Daily event exceptions from the Occurrence and Availability menu\n\n",{"@attributes":{"id":"p-0435","num":"1116"},"tables":{"@attributes":{"id":"TABLE-US-00024","num":"00024"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 16"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Low Level Daily Event Exceptions"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"105pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["REQUIRED FILES FOR",{}]},{"entry":"REPORTING"},{"entry":["IPSAStartSPSS.cmd","Located anywhere, it is used to start the reporting"]},{"entry":[{},"process (see Configuration). Instantiates two SPSS"]},{"entry":[{},"processes (spssw.exe, spsswm.exe) and"]},{"entry":[{},"IPSASPPS.exe"]},{"entry":["<SABATCH>","Batch queue file location, as specified in the"]},{"entry":[{},"IPSAStartSPSS.cmd file (see Configuration)."]},{"entry":["IPSABatchQueue.txt","Queue file that, if present, is passed to SPSS and"]},{"entry":[{},"contains batch report specifications. This file is deleted"]},{"entry":[{},"after being read by IPSASPSS.exe. See Adhoc.doc"]},{"entry":[{},"and graphs.doc for content explanations."]},{"entry":["<SAADHOC>","Adhoc queue file location, as specified in"]},{"entry":[{},"<SARPHME>\\InputQueue\\IPSAReporting"]},{"entry":[{},"Config.txt(see Configuration)."]},{"entry":["IPSAAdhocQueue.txt","Queue file passed to SPSS that contains ad hoc report"]},{"entry":[{},"parameters. This file is created by the web interface"]},{"entry":[{},"(<WWW ROOT>\\cgi-bin\\adhoc.pl) and deleted after"]},{"entry":[{},"use by IPSASPSS.exe. See Adhoc.doc and"]},{"entry":[{},"graphs.doc for content explanations."]},{"entry":["IPSAAdHocQueueWorking","Adhoc working file with a unique IPSASPSS.exe"]},{"entry":["instance>.txt","instance number, <instance>, that is defined in"]},{"entry":[{},"IPSAStartSPSS.cmd (see Configuration)."]},{"entry":["IPSAProcessTheBatchQueue.txt","The presence of this file notifies IPSASPSS.exe to"]},{"entry":[{},"read <SABATCH>\\IPSABatchQueue.txt and pass it"]},{"entry":[{},"to SPSS. This file is polled for every five seconds."]},{"entry":["<SARPHME>","The reporting home directory, as specified in the"]},{"entry":[{},"IPSAStartSPSS.cmd file (see Configuration). All"]},{"entry":[{},"files needed to generate reports are located within this"]},{"entry":[{},"directory."]},{"entry":["\\InputQueue","IPSASPSS.exe configuration and control files."]},{"entry":["IPSAReportingConfig.txt","IPSASPSS.exe configuration file. Includes database"]},{"entry":[{},"location and login information, output directories and"]},{"entry":[{},"image format specification for the generated graphs"]},{"entry":[{},"(see Configuration)."]},{"entry":["IPSAControlQueue.txt","Contains commands to be issued to IPSASPSS.exe"]},{"entry":[{},"during execution. Used for terminating the process."]},{"entry":["\\Logs","Log files generated from IPSASPSS.exe execution"]},{"entry":["IPSAVBSPSS.log","Error messages from program execution."]},{"entry":["\\SPSS","All SPSS related files."]},{"entry":["\\Macros","SPSS macros"]},{"entry":"!incdef.SPS"},{"entry":["!bargrph.SPS","bar graph"]},{"entry":["!bxgrph.SPS","boxplot"]},{"entry":["!spect.SPS","spectrum graph"]},{"entry":["!xygrph.SPS","xy line graph"]},{"entry":["\\Templates","SPSS chart looks"]},{"entry":["avail.clo","availability graph"]},{"entry":["bar.clo","bar graph"]},{"entry":["box.clo","boxplot"]},{"entry":["exception.clo","exception graph"]},{"entry":["line.clo","xy line graph"]},{"entry":["\\Working Data Files","SPSS macros use this directory for temporary files."]},{"entry":["\\Web\\HtmlTemplates","HTML fragments for use to dynamically produce"]},{"entry":[{},"HTML"]},{"entry":[{},"batch TOC header"]},{"entry":"todaysurlsheadtemplate.txt"},{"entry":[{},"batch TOC report title"]},{"entry":"todaysurlsdetailtemplate.txt"},{"entry":[{},"batch TOC footer"]},{"entry":"todaysurlstailtemplate.txt"},{"entry":[{},"batch\/adhoc list-of-reports header"]},{"entry":"detailurlsheadtemplate.txt"},{"entry":[{},"batch\/adhoc list-of-reports details"]},{"entry":"detailurlsdetailtemplate.txt"},{"entry":["detailurlstailtemplate.txt","batch\/adhoc list-of-reports footer"]},{"entry":["<SAWEB>","The report output home directory, as specified in"]},{"entry":[{},"<SARPHME>\\InputQueue\\IPSAReporting"]},{"entry":[{},"Config.txt(see Configuration)."]},{"entry":["\\Adhoc\\<date>INFO","Adhoc reports issued on the date <date> where <date>"]},{"entry":[{},"is of the form YYYYMMDD. The directory is"]},{"entry":[{},"created by the report generation script."]},{"entry":[{},"the generated adhoc report"]},{"entry":"<adhocreporttitle><date>"},{"entry":"<unique id>.html"},{"entry":["\\Batch\\Daily","Daily batch reports home directory"]},{"entry":["\\<date>INFO","Generated batch reports. <date> is of the form"]},{"entry":[{},"YYYYMMDD, but is the date prior to the date when"]},{"entry":[{},"the report request was issued. This directory is created"]},{"entry":[{},"by the report generation script."]},{"entry":["\\Images","Images for the HTML pages"]},{"entry":["Graph1.gif","list bullet"]},{"entry":["SA1.gif","Service Assurance logo"]},{"entry":["<WEB ROOT>","Root directory of the web server where the reports will"]},{"entry":[{},"be housed."]},{"entry":["bground.gif","background image for the adhoc web pages"]},{"entry":["\\cgi-bin","Adhoc files location. This directory must be accessible"]},{"entry":[{},"from a web browser via HTTP and have \u201cexecute\u201d"]},{"entry":[{},"permission assigned to it."]},{"entry":["adhoc.pl","Perl script used to generate ad hoc reports. This file is"]},{"entry":[{},"accessed via HTTP from a web browser to start the ad"]},{"entry":[{},"hoc report data gathering process."]},{"entry":["adhoc.setup.txt","Setup and configuration file for the adhoc.pl script."]},{"entry":[{},"Contains report types and descriptions."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},"Choose the Events metric class","Choose Low Level Daily event exceptions from the Occurrence and Availability menu\n\n","Choose the Network Element Performance metric class","Choose the Detail XY Line Graph report type\n\n","Located anywhere, it is used to start the reporting process (see Configuration). Instantiates two SPSS processes (spssw.exe, spsswin.exe) and IPSASPPS.exe","<SABATCH>","Batch queue file location, as specified in the IPSAStartSPSS.cmd file (see Configuration).\n\n","Queue file that, if present, is passed to SPSS and contains batch report specifications. This file is deleted after being read by IPSASPSS.exe. See Adhoc.doc and graphs.doc for content explanations.","<SAADHOC>","Adhoc queue file location, as specified in <SARPHME>\\InputQueue\\IPSAReportingConfig.txt (see Configuration).\n\n","Queue file passed to SPSS that contains ad hoc report parameters. This file is created by the web interface (<WWW ROOT>\\cgi-bin\\adhoc.pl) and deleted after use by IPSASPSS.exe. See Adhoc.doc and graphs.doc for content explanations.\n\n","Adhoc working file with a unique IPSASPSS.exe instance number, <instance>, that is defined in IPSAStartSPSS.cmd (see Configuration).\n\n","The presence of this file notifies IPSASPSS.exe to read <SABATCH>\\IPSABatchQueue.txt and pass it to SPSS. This file is polled for every five seconds.","<SARPHME>","The reporting home directory, as specified in the IPSAStartSPSS.cmd file (see Configuration). All files needed to generate reports are located within this directory.\n\n","Contains commands to be issued to IPSASPSS.exe during execution. Used for terminating the process.\n\n","All SPSS related files.\n\n","The report output home directory, as specified in <SARPHME>\\InputQueue\\IPSAReportingConfig.txt (see Configuration).","\\Adhoc<date>INFO","Adhoc reports issued on the date <date>where <date> is of the form YYYYMMDD. This directory is created by the report generation script.\n\n","Adhoc.pl is a CGI utility that builds HTML forms used for gathering ad hoc reporting information. This information is stored in a directory relative to $outputdirroot of the form YYYYMMDDINFO in a text file defined by $outputfile. This text file is opened, locked, and updated then closed and unlocked. A Visual Basic application feeds this queue file to SPSS to generate a report and creates an HTML file with links to the graph(s). The name of this HTML file is determined by appending the unique id generated from &uniqueid onto the end of the report title and storing this in the text file. A link to this file is provided at process completion. Adhoc.pl may be written in Perl.","The report data that is created from this script includes\n\n","In it's current state the script would require a modification to each of its primary subroutines to accommodate a new graph type. The changes are as follows:","The section of the main routine commented as \u201cwrite data to file\u201d would need to have a new elsif block that validated the form values and called a subroutine to print the values to the text file in a format similar to the others.","Add another elsif block to choosemetric that checks the metricclass form value and calls a subroutine to either generate the appropriate HTML form or display a report type selection page\u2014both of which would need to be written.","Add another elsif block to choosereport that calls the subroutine to create the HTML form.","Modify printmetricoptions if a new metric class is needed.","As noted above, create a subroutine to generate the HTML form to gather report data from the user.","Adhoc","Lists, enclosed by parentheses and space delimited, are supported for the ELMNM, ELMLOC, and the METRCNM parameters.","Additionally","Wild cards, the \u201c%\u201d character for matching zero to many characters, and the \u201c\u201d character for matching a single character, are supported for the ELMNM and the ELMLOC parameters",{"@attributes":{"id":"p-0462","num":"1208"},"tables":{"@attributes":{"id":"TABLE-US-00025","num":"00025"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 17"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Parameter descriptions"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["RPTITLE","Any string you want to use to describe your query"]},{"entry":["ELMNM","Any elmntnm column in the networkelmnttb table"]},{"entry":["AVAIL","Logical grouping of related event types; can be set to"]},{"entry":[{},"Network, Service, or Process"]},{"entry":["EVENT","Any eventstringtxt column in the eventsfacttb table"]},{"entry":["ELMTY","Any elmnttypecd column in the networkelmnt"]},{"entry":[{},"tb table"]},{"entry":["ELMLOC","Any elmntcitynm column in the elmntloctb table"]},{"entry":["METRCNM","Any metricnm column in the perfmetrictb table"]},{"entry":["CODE","Identifies a code path through an SPSS macro. Only valid"]},{"entry":[{},"for the !EXCEPT and the !BXGRPH macros. For the"]},{"entry":[{},"!EXCEPT macro, use a value of one (1) for daily event"]},{"entry":[{},"exceptions, a value of two (2) for high level daily event"]},{"entry":[{},"availability, and a value of three (3) for low level daily"]},{"entry":[{},"event availability. For the !BXGRPH macro, use a value of"]},{"entry":[{},"one (1) for daily comparisons, and a value of two (2) for"]},{"entry":[{},"monthly trends"]},{"entry":["STRTYR","Four digit year spec"]},{"entry":["STRTMON","Two digit month spec"]},{"entry":["STRTDAY","Two digit day of the month spec"]},{"entry":["NUMDAYS","Two digit number used to specify a range of days"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},"\u201cadhoc\u201d input queue file","#This is a comment; each request begins with a line that contains only the \u201c@{\u201d characters","#and each request ends with a line that only contains the \u201c}@\u201d characters","# any line beginning with the \u201c#\u201d character is considered a comment line",{"@attributes":{"id":"p-0467","num":"1213"},"tables":{"@attributes":{"id":"TABLE-US-00026","num":"00026"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"@{"},{"entry":"!BARGRPH RPTITLE = \u201cDaily Availability Bar Chart\u201d"},{"entry":"\u2003ELMNM = (gfmmnt03 nsmmrt03 nsmmrt04)"},{"entry":"\u2003EVENT = \u201cDNS Service Failed\u201d ELMLOC = Minneapolis"},{"entry":"\u2003STRTYR = 1999 STRTMON = 06 STRTDAY = 30 NUMDAYS = 1"},{"entry":"}@"},{"entry":"@{"},{"entry":"!BXGRPH RPTITLE = \u201cCPU Utilization Comparison\u201d"},{"entry":"\u2003ELMNM = (nsmmrt03 nsmmrt04 nsmmrt05) ELMTY = RT"},{"entry":"\u2003ELMLOC = Minneapolis METRCNM = CpuBusyPercent"},{"entry":"\u2003STRTYR = 1999 STRTMON = 06 STRTDAY = 30 NUMDAYS = 1"},{"entry":"CODE = 1"},{"entry":"}@"},{"entry":"@{"},{"entry":"!BXGRPH RPTITLE = \u201cCPU Utilization Trend\u201d"},{"entry":"\u2003ELMNM = (nsmmrt05) ELMTY = RT"},{"entry":"\u2003ELMLOC = Minneapolis METRCNM = CpuBusyPercent"},{"entry":"\u2003STRTYR = 1999 STRTMON = 06 STRTDAY = 01 NUMDAYS = 30"},{"entry":"CODE = 2"},{"entry":"}@"},{"entry":"@{"},{"entry":"!EXCEPT RPTITLE = \u201cDaily Event Exception\u201d"},{"entry":"\u2003ELMNM = (nsmmrt03 nsmmrt04 nsmmrt05)"},{"entry":"\u2003ELMTY = RT ELMLOC = Minneapolis"},{"entry":"\u2003CODE = 1 STRTYR = 1999 STRTMON = 06 STRTDAY = 30"},{"entry":"NUMDAYS = 1"},{"entry":"}@"},{"entry":"@{"},{"entry":"!EXCEPT RPTITLE = \u201cDaily Event Availability (High level)\u201d"},{"entry":"\u2003AVAIL = Service ELMLOC = Minneapolis CODE = 2"},{"entry":"\u2003STRTYR = 1999 STRTMON = 06 STRTDAY = 30 NUMDAYS = 1"},{"entry":"}@"},{"entry":"@{"},{"entry":"!EXCEPT RPTITLE = \u201cDaily Event Availability (Low level)\u201d"},{"entry":"\u2003EVENT = \u201cDNS Service Failed\u201d ELMLOC = Minneapolis CODE = 3"},{"entry":"\u2003STRTYR = 1999 STRTMON = 06 STRTDAY = 30 NUMDAYS = 1"},{"entry":"}@"},{"entry":"@{"},{"entry":"!XYGRPH RPTITLE = Daily Detail XY-Line\u201d"},{"entry":"\u2003ELMNM = nsmmrt03 ELMTY = RT ELMLOC = Minneapolis"},{"entry":"\u2003METRCNM = CpuBusyPercent STRTYR = 1999 STRTMON = 06"},{"entry":"\u2003STRTDAY = 30 NUMDAYS = 1"},{"entry":"}@"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"br":{}},"This section outlines the procedure for generating internal alarm and poll reports from the Event Correlator and Manager.","Assumptions:",{"@attributes":{"id":"p-0469","num":"0000"},"ul":{"@attributes":{"id":"ul0153","list-style":"none"},"li":[{"@attributes":{"id":"ul0153-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0154","list-style":"none"},"li":["ECM is installed on NT.","User has Administrator rights on server in question.","Procedure only works on NT versions of ECM\n\nBasic Procedure\n"]}},"a. Turn on ECM client and log in to ECM server in question.","b. Once interface is enabled and client has fully logged into server, click on Admin and then Report List.","c. The Report List dialog will open.","d. Click on NCAlarm Definition Report and then click Run.","e. Once the report is generated click the print icon and the report will be generated at your default printer.","f. Close the NC Alarm Definition Report.","g. Go back to the ECM client and click on the NC Poll Report.","h. Next click Run.","i. Print this report and exit the system.\n\nAnalysis\n"]}},"This process generates line item reports of the user [re]defined alarms\/polls in ECM. These are generated through a proprietary format of Seagate's Crystal Reports, and are possible due to the existence of the database that sits behind the ECM installation on NT systems. These reports can be modified externally through a copy of Crystal Reports, and can be added to through the ECM interface.","IIS (Internet Information Server) 3.0","Start Services",{"@attributes":{"id":"p-0471","num":"0000"},"ul":{"@attributes":{"id":"ul0155","list-style":"none"},"li":[{"@attributes":{"id":"ul0155-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0156","list-style":"none"},"li":["Open the control panel (Start>Settings>Control Panel)","Click on Services","Select \u201cIIS Admin Service\u201d and \u201cWorld Wide Web Publishing Services\u201d and click on the start button.\n\nSet Root Directory\n","Create a folder to be your home directory. (i.e. We set one up called \u2018WWWRoot\u2019 in the path C:\\Data\\WWWRoot)","Open Microsoft Management Console (Start>Programs>Windows NT 4.0 Option Pack>Microsoft Internet Information Server>Internet Service Manager)","Open the Internet Information Server folder and then twmmnt02","Right click on Default Web Site and drag down to Properties","Go into the \u2018Home Directory\u2019 tab and change the \u2018local path\u2019 to the name of the root directory that you created\n\nSettings\n","Open the Microsoft Management Console again","Right click on Default Web Site again and under Properties change these settings:\n\nWeb Site Tab\n"]}},"Change description name as desired (Service Assurance Web Site).\n    \n    ","Check \u2018enable logging\u2019 and under properties change the log file directory (C:\\data\\iislogs)\n\nHome Directory Tab\n","Change local path if you didn't already when setting up the root directory (C:\\data\\wwwroot)","Check \u2018directory browsing allowed\u2019 (if your default document isn't directly in the root directory)\n\nDocuments Tab\n","Check \u2018enable default document\u2019 and change it to \u2018index.html\u2019\n    \n    ","Change local path to desired location (C:\\data\\ftproot)\n\nFTP Site Tab\n","Check \u2018enable logging\u2019 and under properties change the log file directory (C:\\data\\iislogs)","Change description name as desired (Service Assurance FTP Site).\n    \n    ","Check \u2018enable logging\u2019 and under properties change the log file directory (C:\\data\\iislogs)","Change description name as desired (Service Assurance Administration Web Site).\n    \n    "]}},"Go into the Microsoft Management Console and right click on the cgi-bin folder and go into Properties.","Under the Directory Tab change the permissions to \u2018execute\u2019.","SPSS Documentation","Set Up Instructions","Installing SPSS 8.0",{"@attributes":{"id":"p-0474","num":"0000"},"ul":{"@attributes":{"id":"ul0161","list-style":"none"},"li":{"@attributes":{"id":"ul0161-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0162","list-style":"none"},"li":["Follow the setup instructions until you can decide what type of installation you would like. Choose Custom and select all options.","When you encounter the Personal Installation choice . . . choose it.","When prompted to install Adobe Acrobat 3.0, choose yes and follow the installation instructions. This will be helpful to view the online tutorials.\n\nInstalling ODBC 3.5 SDK\n","Go to the http:\/\/www.microsofl.com\/data\/odbc\/download.htm website to download the ODBC 3.5 Software Development Kit (SDK) for Intel. Select \u2018Download the ODBC 3.5 SDK for Intel now\u2019 button. Save it to disk when prompted and follow instructions to download the application.","Go into Windows NT Explorer to find the file (ODBC35IN.exe) that you just saved to disk. Execute it. After done generating your files, find the setup.exe icon. Click on setup.exe to finish the installation process. Choose all options for custom installation choices.\n\nDownloading SPSS 8.0.1 Update Patch\n","Open http:\/\/www.spss.com\/tech\/patches\/SP-061198.htm.","Select 801us.exe (US version).","Save it to disk.","Find the downloaded files on your disk and open 801us.exe, click Yes, and then click on Upgrade SPSS 8.0.","Follow the upgrade instructions.\n\nAssociating a DSN Name With an ODBC Source\n","Open the 32-bit ODBC Administrator.","Programs>Odbc>32-bit ODBC Administrator","Add a new user data source under the user DSN tab by clicking Add.","Select a driver for which you want to set up a data source for.","(In this case\u2014Microsoft ODBC for Dbse)","Click Finish.","Enter the Data Source Name. (make up any name)","Enter the Description. (can be same as Data Source Name)","Enter your User name.","Enter the Server. (In this case\u2014IPSA01)","Once this information is entered you will be brought back to the ODBC Data Source Administrator. Click OK.\n\nAdding a Database Alias\n","Open the SQL Net Easy Configuration.","Programs>Dbse for Windows NT>SQL Net Easy Configuration","Click on Add Database Alias and then OK.","Enter the alias name (In this example: IPSA01)","Choose the network protocol to be used when you connect to a remote database","(In this case it is TCP\/IP) then click OK.","Enter the TCP\/IP host name (ucmmdb02) and the database instance of the particular database you want to access. (In this example: IPSA01)","Confirm that you want to add this Database Alias by Clicking Yes.","This will bring you back to the SQL Net Easy Configuration where you can just click Cancel to exit.\n\nChecking The Alias Setup\n","Find your dbse home (Dbsnt) and open tnsnames.ora through this path: C:\/Dbsnt\/Network\/Admin\/tnsnames.ora. This is a SQL Net Configuration file which will have the names of the aliases that are set up. The one you just added will most likely be found at the end of the file.\n\nGetting Started in SPSS\n\nSPSS Database Capture Wizard\n","In SPSS Data Editor go to Edit>Database Capture>New Query to open the ODBC Wizard.","Choose data source to retrieve data and click Next.","Drag table onto right box to see fields and click Next. (Can also select a subset of fields here)","Limit Retrieved Cases page, click Next. (Can select a subset of cases based on conditional expressions in this dialog box)","Define Variables page, click Next. (Can specify more user friendly variable names here)","Results page. Change column names into SPSS Syntax to desired names. The names to use are located by opening SQL+ and on the command line typing the table name. i.e.>describe spsstest"]}}}},{"@attributes":{"id":"p-0475","num":"0000"},"ul":{"@attributes":{"id":"ul0163","list-style":"none"},"li":["GET CAPTURE ODBC\/CONNECT=\u2018DSN=MSDN:","dbse;UID=solomoj;PWD=solomoj;SERVER=IPSA01;\u2019\/SELECT","\u201cT0\u201d.\u201cMONDT\u201d AS \u201cMONDT\u201d, \u201cT0\u201d.\u201cSYSTEMNM\u201d AS \u201cSYSTEMN\u201d,","\u201cT0\u201d.\u201cFILEREADOPSAMT\u201d AS \u201cFILEREA\u201d,","\u201cT0\u201d.\u201cFILEWRITEOPSAMT\u201d AS \u201cFILEWRI\u201d,","\u201cT0\u201d.\u201cFILECONTROLOPSAMT\u201d AS \u201cFILECON\u201d,","\u201cT0\u201d.\u201cFILEREADBYTESAMT\u201d AS \u201cFILEREA\u201d,","\u201cT0\u201d.\u201cFILEWRITEBYTESAMT\u201d AS \u201cFILEWRI\u201d,","\u201cT0\u201d.\u201cFILECNTRLBYTESAMT\u201d AS \u201cFILECNT\u201d","FROM \u201cSPSSTEST\u201d \u201cT0\u201d."]}},"\u201cT0\u201d.\u201cFILEREADOPSAMT\u201d AS \u201cFILEREA\u201d \/\/This displays the long column name and associates it with the short column name (8 chars). There is a comma and TWO spaces between items in the list. The \u20180\u2019 in \u201cT0\u201d is a zero, not the letter O.","Click on \u201cpaste it into syntax editor\u201d button.","Save query to file with a .spq extension and click Finish.","This should bring you to the syntax editor which should look something like this:\n\n","(Some syntax tips: In the select area, there is a comma and two spaces separating names. The \u20180\u2019 in \u201cT0\u201d is a zero, not the letter \u2018O\u2019. In the variable labels, the short name (8 chars) is listed first with the long name in quotation marks, all separated by one space. The final name ends with one space and a period.)","Save the syntax file. It will have a .SPS extension.","Go to Run>All to execute the script. All warnings and errors will pop up in an output window for you to view. Otherwise the table will be shown in the SPSS Data Editor window with the correct column names and data.","Features of SPSS","Data Editor:",{"@attributes":{"id":"p-0483","num":"0000"},"ul":{"@attributes":{"id":"ul0165","list-style":"none"},"li":[{"@attributes":{"id":"ul0165-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0166","list-style":"none"},"li":["Displays contents of the working data file","Each row is a single case or observation","Each column is a single variable","Can enter and edit data in this editor","Unable to perform calculations or enter formulas here\n\nViewer Window:\n","Displays tables, statistics and charts","Opens automatically when you run a command that produces output","The left pane contains the outline view","The right pane contains statistical tables, charts and text outputs","Click on any item in the outline to go directly to the corresponding table or chart","The open book icon indicates the item is currently visible in the right pane. Double click on the icon to hide the information (closed book icon will appear)","Change chart positions by highlighting the information and dragging it to desired location in the outline\n\nTool Bars:\n","Both toolbars on the data editor and viewer window can be used","Can be moved by clicking on the tool bar (not on a button) and dragging it\n\nDialog Boxes:\n","Used to display information on variables","Click left mouse button on variable name, click right mouse button anywhere on the list and select \u2018Variable Information\u2019 from the pop-up menu","Icons next to variable names describe the variable type: Numeric variables (# icon), Short string variables\u20148 characters or less (\u2018A\u2019 icon with a (<) less than symbol), and Long string variables\u2014greater than 8 characters (\u2018A\u2019 icon with a (>) greater than symbol)\n\nInteractive Chart Dialog Boxes:\n","Three variable types:"]}},"1. Categorical (red, blue, and yellow icon)","2. Scale (yellow ruler icon)","3. Built-in (white ruler with a yellow circle)"]}},"Entering and Manipulating Data","Numeric:",{"@attributes":{"id":"p-0485","num":"0000"},"ul":{"@attributes":{"id":"ul0167","list-style":"none"},"li":{"@attributes":{"id":"ul0167-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0168","list-style":"none"},"li":["Select cell and enter numeric number. It will then appear in the cell editor.","Press Enter to record the data.","If the variable hasn't been named, a unique variable name will be assigned to it.\n\nNon-numeric:\n","Define the variable by double-clicking on the variable name or top of the column. This can also be done by selecting Data>Define Variable in the menu bar.","Click on Type in the dialog box.","Select the data type, click Continue, and then click OK.\n\nDefining Data:\n"]}}}},"You can define descriptive values for data values to be used in statistical reports and charts, i.e. one can associate the number 1 with \u2018male\u2019 and number 2 with \u2018female\u2019.\n\n","Use File>Export to change text and chart export options.","When in the Export Output dialog box, click on the Options button. Then in the JPG Output Filter Setup dialog box, click on the Chart Options button. Some settings to make that will enhance the HTNL output are:\n\n","Viewer output display options affect only new output produced after you change the settings. Output already displayed in the Viewer is not affected by changes in these settings.","Initial Output State controls which items are automatically displayed or hidden each time you run a procedure and how items are initially aligned. You can control the display of the following items: log, warnings, notes, titles, pivot tables, charts, and text output (output not displayed in pivot tables). You can also turn the display of commands in the log on or off. You can copy command syntax from the log and save it in a syntax file for use with the automated production facility.","To change the viewer output display options:",{"@attributes":{"id":"p-0491","num":"0000"},"ul":{"@attributes":{"id":"ul0176","list-style":"none"},"li":{"@attributes":{"id":"ul0176-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0177","list-style":"none"},"li":["Open Edit>Options.","Select the Viewer tab.","In the initial output state box, make sure that the log, warnings, and notes are all bulleted as \u2018contents initially hidden\u2019.","Click Apply.","In the Draft Viewer tab of that same dialog box, make sure that in the \u2018display output items\u2019 box, log, commands in log, warnings, and notes are not selected (checked).","Click Apply."]}}}},"All output items are displayed left-aligned in the Viewer. Only the alignment of printed output is affected by the justification settings. Centered and right-aligned items are identified by a small symbol above and to the left of the item.","All of these viewer options that you change will appear in the output window. If you export the object into HTML using the production facility, everything will be displayed regardless of what you changed in the viewer options.","Chart Templates:","You can apply many of the attributes and text elements from one chart to another. This allows you to modify one chart, save that chart, and then use it as a template to create a number of other similar charts. For example, if the old chart is a clustered bar chart with bar colors modified to yellow and green and the new chart is a multiple line chart, the lines will be yellow and green.","To create a new template:",{"@attributes":{"id":"p-0495","num":"0000"},"ul":{"@attributes":{"id":"ul0178","list-style":"none"},"li":{"@attributes":{"id":"ul0178-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0179","list-style":"none"},"li":["Create a chart as detailed earlier.","Edit the chart to contain the attributes you want to save in a template (text format, color\/fills, titles, subtitles, etc.) by selecting it and using the chart window.","Open File>Save Chart Template from the chart window menu. (double-click on the chart to display the chart window)\n\nTo apply a template to a chart already in a chart window:\n","Select the chart by double-clicking on it to bring up the chart window.","Open Format>Apply Chart Template.","Select a file to use as a template in the dialog box that appears.\n\nTo apply a template using command syntax:\n"]}}}},"By applying a chart template using command syntax, you can modify your chart to the set attributes in the template very quickly and easily. This would be helpful when running syntax files to produce customized output in the production facility as well.\n\n",{"@attributes":{"id":"p-0497","num":"1474"},"tables":{"@attributes":{"id":"TABLE-US-00027","num":"00027"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"259pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"GET CAPTURE ODBC"},{"entry":"\/CONNECT=\u2018DSN=MSDN:\u2019+"},{"entry":"\u2018dbse;UID=solomoj;PWD=solomoj;SERVER=IPSA01;\u2019"},{"entry":"\/SELECT \u201cT0\u201d.\u201cMONDT\u201d AS \u201cMON DT\u201d,"},{"entry":"\u201cT0\u201d.\u201cSYSTEMNM\u201d AS \u201cSYSTEMN\u201d, \u201cT0\u201d. \u201cFILEREADOPSAMT\u201d"},{"entry":"AS \u201cFILEREA\u201d, \u201cT0\u201d. \u201cFILEWRITEOPSAMT\u201d AS \u201cFILEWRI\u201d,"},{"entry":"\u201cT0\u201d.\u201cFILECONTROLOPSAMT\u201d AS \u201cFILECON\u201d,"},{"entry":"\u201cT0\u201d.\u201cFILEREADBYTESAMT\u201d"},{"entry":"AS \u201cFILERBY\u201d, \u201cT0\u201d.\u201cFILEWRITEBYTESAMT\u201d AS \u201cFILEWBY\u201d,"},{"entry":"\u201cT0\u201d.\u201cFILECNTRLBYTESAMT\u201d AS \u201cFILECNT\u201d"},{"entry":"FROM \u201cSPSSTEST\u201d \u201cT0\u201d."},{"entry":"Execute."},{"entry":"VARIABLE LABELS MONDT \u201cMONDT\u201d SYSTEMN \u201cSYSTEMNM\u201d"},{"entry":"FILEWRI \u201cFILEWRITEOPSAMT\u201d FILECON"},{"entry":"\u201cFILECONTROLOPSAMT\u201d"},{"entry":"FILERBY \u201cFILEREADBYTESAMT\u201d FILEWBY"},{"entry":"\u201cFILEWRITEBYTESAMT\u201d"},{"entry":"FILECNT \u201cFILECNTRLBYTESAMT."},{"entry":"PRESERVE."},{"entry":"SET CTEMPLATE = \u201cc:\\spss\\test2.sct\u201d."},{"entry":"*Sequence Charts."},{"entry":"TSPLOT VARIABLES= filerby"},{"entry":"\/ID= mondt"},{"entry":"\/NOLOG"},{"entry":"\/FORMAT NOFILL NOREFERENCE."},{"entry":"RESTORE."},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"br":{}},"A syntax file is a text file that contains commands. You can just type in the commands, but the software can help you build your syntax file by:\n\n","Rules When Editing and Writing Command Syntax","Keep in mind the following simple rules when editing and writing command syntax:\n\n","Most subcommands are separated by slashes (\/). The slash before the first subcommand on a command is usually optional.\n\n","Command syntax is case insensitive, and three-letter abbreviations can be used for many command specifications. You can use as many lines as you want to specify a single command. You can add space or break lines at almost any point where a single blank is allowed, such as around slashes, parentheses, arithmetic operators, or between variable names. For example,",{"@attributes":{"id":"p-0503","num":"1489"},"tables":{"@attributes":{"id":"TABLE-US-00028","num":"00028"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u2032Inputs: The type of item to delete (intDeleteType)"]},{"entry":[{},"\u2032Return Values: None"]},{"entry":[{},"\u2032declare SPSS object variables that will be used in this procedure"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Dim objOutputDoc As ISpssOutputDoc"]},{"entry":[{},"Set objOutputDoc = objSpssApp.GetDesignatedOutputDoc"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\u2032Clear all selections so that some items aren't inadvertently deleted"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"objOutputDoc.ClearSelection"]},{"entry":[{},"\u2032determine what type the parameter refers to"]},{"entry":[{},"\u2032then select all of the items of that type"]},{"entry":[{},"Select Case intDeleteType"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Case SPSSChart"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"objOutputDoc.SelectAllCharts"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Case SPSSLog"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"objOutputDoc.SelectAllLogs"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Case SPSSNote"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"objOutputDoc.SelectAllNotes"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Case SPSSPivot"]},{"entry":[{},"FREQUENCIES"]},{"entry":[{},"VARIABLES=JOBCAT GENDER"]},{"entry":[{},"\/PERCENTILES=25 50 75"]},{"entry":[{},"\/BARCHART."]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"and"]},{"entry":[{},"freq var=jobcat gender \/percent=25 50 75 \/bar."]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}},"ul":{"@attributes":{"id":"ul0188","list-style":"none"},"li":{"@attributes":{"id":"ul0188-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0189","list-style":"none"},"li":"are both acceptable alternatives that generate the same results."}}}},"Creating Command Syntax from Dialog Boxes","The easiest way to build a command syntax file is to make selections in dialog boxes and paste the syntax for the selections into a syntax window. Then in the syntax window, you can run the pasted syntax, edit it, and save it in a syntax file.\n\n","Using Command Syntax from the Output Log","You can copy command syntax from the log that appears in the Viewer.\n\n","Using Command Syntax from the Journal File","All commands executed during a session are recorded in ajournal file named spss.jnl. You can edit the journal file and save it as a syntax file that you can use to repeat a previously run analysis, or you can run it in an automated job with the production facility.\n\n","Save the edited journal file using a different filename (with the extension .sps for a syntax file).","Defining the Working Data File","The file that appears in the Data Editor window is the working data file. When you open a data file, it becomes the working data file. All analysis is performed on the working data file, and most analytical commands are unavailable unless you have a working data file.","The working data file is the data file you build to use in the current session. You can retrieve an SPSS-format data file using GET, which in effect makes a working copy of the specified file. The working data file is not created until SPSS encounters a command (usually a procedure) that causes it to read the data. At this point, SPSS executes all of the preceding data definition and transformation commands and the command that causes the data to be read. The working data file is then available for further transformations and procedures, and it remains available until replaced by a new working data file or until the end of the session.","Any transformations and statistical analyses you request during a session are performed on the working data file. Transformations performed during a session apply to the working data file only. Changes to the file are lost if the working data file is erased or replaced before you have saved it.",{"@attributes":{"id":"p-0515","num":"1514"},"tables":{"@attributes":{"id":"TABLE-US-00029","num":"00029"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"259pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"GET CAPTURE ODBC"},{"entry":"\/CONNECT=\u2018DSN=MSDN:\u2019+"},{"entry":"\u2018dbse;UID=solomoj;PWD=solomoj;SERVER=IPSA01;\u2019"},{"entry":"\/SELECT \u201cT0\u201d.\u201cMONDT\u201d AS \u201cMONDT\u201d,"},{"entry":"\u201cT0\u201d.\u201cSYSTEMNM\u201d AS \u201cSYSTEMN\u201d, \u201cT0\u201d.\u201cFILEREADOPSAMT\u201d"},{"entry":"AS \u201cFILEREA\u201d, \u201cT0\u201d.\u201cFILEWRITEOPSAMT\u201d AS \u201cFILE WRI\u201d,"},{"entry":"\u201cT0\u201d.\u201cFILECONTROLOPSAMT\u201d AS \u201cFILECON\u201d,"},{"entry":"\u201cT0\u201d.\u201cFILEREADBYTESAMT\u201d"},{"entry":"AS \u201cFILERBY\u201d, \u201cT0\u201d.\u201cFILEWRITEBYTESAMT\u201d AS \u201cFILEWBY\u201d,"},{"entry":"\u201cT0\u201d.\u201cFILECNTRLBYTESAMT\u201d AS \u201cFILECNT\u201d"},{"entry":"FROM \u201cSPSSTEST\u201d \u201cT0\u201d."},{"entry":"Execute."},{"entry":"VARIABLE LABELS MONDT \u201cMONDT\u201d SYSTEMN \u201cSYSTEMNM\u201d"},{"entry":"FILEWRI \u201cFILEWRITEOPSAMT\u201d FILECON"},{"entry":"\u201cFILECONTROLOPSAMT\u201d"},{"entry":"FILERBY \u201cFILEREADBYTESAMT\u201d FILE WBY"},{"entry":"\u201cFILEWRITEBYTESAMT\u201d"},{"entry":"FILECNT \u201cFILECNTRLBYTESAMT\u201d."},{"entry":"FREQUENCIES"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"245pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"VARIABLES=filewri filerby filecnt"]},{"entry":[{},"\/ORDER ANALYSIS."]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}}},"(***This includes the GET CAPTURE command that retrieves data from a database and converts them to a format that can be used by program procedures. GET CAPTURE retrieves data and data information and builds a working data file for the current session.)","CONNECT subcommand is required to access any database that has an installed Microsoft ODBC driver. You cannot specify the connection string directly in the syntax window, but you can paste it with the rest of the command from the Results dialog box, which is the last of the series of dialog boxes opened with the Database Capture command from the File menu.","SELECT specifies any SQL select statement accepted by the database you access.","Running Command Syntax",{"@attributes":{"id":"p-0519","num":"0000"},"ul":{"@attributes":{"id":"ul0196","list-style":"none"},"li":{"@attributes":{"id":"ul0196-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0197","list-style":"none"},"li":["Highlight the commands you want to run in the syntax window.","Click the Run button (the right-pointing triangle) on the syntax window toolbar. OR","Open Run>(select command).","1. All\u2014runs all commands in the syntax window","2. Selection\u2014runs the currently selected commands","3. Current\u2014runs the command where the cursor is currently located","4. To End\u2014runs all commands from the current cursor location to the end of the file\n\nThe Scripting Facility\n"]}}}},"The scripting facility allows you to automate tasks, including:\n\n","Many scripts are included with the software. You can use these scripts as they are or you can customize them to your needs. If you want to create your own scripts, you can begin by choosing from a number of starter scripts.","To Create a Script:",{"@attributes":{"id":"p-0522","num":"0000"},"ul":{"@attributes":{"id":"ul0199","list-style":"none"},"li":{"@attributes":{"id":"ul0199-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0200","list-style":"none"},"li":["Open New>Script.","Select a starter script if you want to begin with one.","If you do not want to use a starter script, click Cancel.\n\nTo Edit a Script:\n","Open File>Open.","Look in j:\\myproducts\\spss\\scripts or j:\\myproducts\\spss\\scripts\\starter to find a SPSS Script (*.sbs) to open.","Modify the script. (The starter scripts are helpful in that they are commented with hints on how to customize the script to your particular needs)","Save your new script.\n\nTo Run a Script:\n","To apply a script to a table, click on the table to select it in the Output Viewer window.","Open Utilities>Run Script.","Select the script from the dialog box you wish to execute and click Run."]}}}},{"@attributes":{"id":"p-0523","num":"0000"},"ul":{"@attributes":{"id":"ul0201","list-style":"none"},"li":["File Name: CleanOutput.sbs","Begin Description","End Description","SPSS Autoscript file","Do not edit the text between HeaderBegin and HeaderEnd","HeaderBegin","HeaderEnd"]}},"************************************************************","Use this Starter Script if you want to remove items from the Navigator.","This Starter Script can be modified to delete items based on their type (e.g., Note, Warning, Log, Chart, Pivot, Table, Text, Title, or All)","This is a modified version of the starter script (Delete Navigator 'Items.sbs located in the Starter folder) that will delete the Log, Notes, Text and Warnings from the Navigator for better output when making HTML output items.",{"@attributes":{"id":"p-0528","num":"1553"},"tables":{"@attributes":{"id":"TABLE-US-00030","num":"00030"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2032**********************************************************"},{"entry":"Option Explicit"},{"entry":"Public Const ALLITEMS As Integer = 10"},{"entry":"Sub Main"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Declare variables that will be used in this procedure"]},{"entry":[{},"Dim intTypeToDelete As Integer"]},{"entry":[{},"Dim intTypeToErase As Integer"]},{"entry":[{},"Dim intTypeToDiscard As Integer"]},{"entry":[{},"Dim intTypeToEliminate As Integer"]},{"entry":[{},"Dim strSearchForLabel As String"]},{"entry":[{},"\u2032****Modification to original starter script****"]},{"entry":[{},"\u2032because only one item is allowed to be deleted at a time due to only"]},{"entry":[{},"\u2032one variable declared (intTypeToDelete), by creating separate"]},{"entry":[{},"\u2032variable names for each of the items you wish to delete, you can call"]},{"entry":[{},"\u2032the function several times With the various variables and delete"]},{"entry":[{},"\u2032multiple items within this script."]},{"entry":[{},"\u2032***********************************************"]},{"entry":[{},"intTypeToDelete = SPSSLog"]},{"entry":[{},"intTypeToErase = SPSSNote"]},{"entry":[{},"intTypeToDiscard = SPSSText"]},{"entry":[{},"intTypeToEliminate = SPSSWarning"]},{"entry":[{},"\u2032***Call the DeleteAllByType function for each variable you"]},{"entry":[{},"produced*****"]},{"entry":[{},"Call DeleteAllByType(intTypeToDiscard)"]},{"entry":[{},"Call DeleteAllByType(intTypeToEliminate)"]},{"entry":[{},"Call DeleteAllByType(intTypeToDelete)"]},{"entry":[{},"Call DeleteAllByTpe(intTypeToErase)"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"End Sub"},{"entry":"Sub DeleteAllByType(intDeleteType As Integer)"},{"entry":"\u2032Purpose: Deletes all items that are a specific type, regardless of whether"},{"entry":"\u2032they are selected."},{"entry":"\u2032Assumptions: The items are in the designated output document"},{"entry":"\u2032Effects: Deletes all the items that are a specific type (e.g., Note, \u2032Warning)"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"objOutputDoc.SelectAllTables"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Case SPSSText"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"objOutputDoc.SelectAllText"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Case SPSSTitle"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"objOutputDoc.SelectAllTitles"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Case SPSSWarning"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"objOutputDoc.SelectAllWarnings"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Case ALLITEMS"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"objOutputDoc.SelectAll"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"End Select"]},{"entry":[{},"\u2032Now only those items that should be deleted are selected, so"]},{"entry":[{},"delete them"]},{"entry":[{},"objOutputDoc.Remove"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"End Sub"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}},"br":{}},"To have a script run within a syntax document, use the SCRIPT command.","The syntax is: SCRIPT \u2018filename\u2019 [(quoted string)]","The basic specification is keyword SCRIPT with a filename. The filename is required. The optional quoted string, enclosed in parentheses, can be passed to the script.",{"@attributes":{"id":"p-0532","num":"1557"},"tables":{"@attributes":{"id":"TABLE-US-00031","num":"00031"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"259pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"Example Syntax:"},{"entry":"GET CAPTURE ODBC"},{"entry":"\/CONNECT=\u2018DSN=MSDN:\u2019+"},{"entry":"dbse;UID=solomoj;PWD=solomoj;SERVER=ISPAO 1;\u2019"},{"entry":"\/SELECT \u201cT0\u201d.\u201cMONDT\u201d AS \u201cMONDT\u201d,"},{"entry":"\u201cT0\u201d.\u201cSYSTEMNM\u201d AS \u201cSYSTEM N\u201d, \u201cT0\u201d.\u201cFILEREADOPSAMT\u201d"},{"entry":"AS \u201cFILEREA\u201d, \u201cT0\u201d.\u201cFILEWRITEOPSAMT\u201d AS \u201cFILEWRI\u201d,"},{"entry":"\u201cT0\u201d.\u201cFILECONTROLOPSAMT\u201d AS \u201cFILECON\u201d,"},{"entry":"\u201cT0\u201d.\u201cFILEREADBYTESAMT\u201d"},{"entry":"AS \u201cFILERBY\u201d, \u201cT0\u201d.\u201cFILEWRITEBYTESAMT\u201d AS \u201cFILEWBY\u201d,"},{"entry":"\u201cT0\u201d.\u201cFILECNTRLBYTESAMT\u201d AS \u201cFILECNT\u201d"},{"entry":"FROM \u201cSPSSTEST\u201d \u201cT0\u201d."},{"entry":"Execute."},{"entry":"VARIABLE LABELS MONDT \u201cMONDT\u201d SYSTEMN \u201cSYSTEMNM\u201d"},{"entry":"FILEWRI \u201cFILEWRITEOPSAMT\u201d FILECON"},{"entry":"\u201cFILECONTROLOPSAMT\u201d"},{"entry":"FILERBY \u201cFILEREADBYTESAMT\u201d FILEWBY"},{"entry":"\u201cFILEWRITEBYTESAMT\u201d"},{"entry":"FILECNT \u201cFILECNTRLBYTESAMT\u201d."},{"entry":"FREQUENCIES"},{"entry":"VARIABLES=filecon filewby filewri"},{"entry":"\/ORDER ANALYSIS."},{"entry":"SCRIPT \u2018j :\\myproducts\\spss\\scripts\\cleanoutput.sbs\u2019."},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"(This particular SCRIPT command will call the cleanoutput.sbs script which is coded to remove all unwanted items from the exported output. It is put at the end of the code so it can remove the items generated by the output of the FREQUENCIES command.)","Autoscripts","Autoscripts run automatically when triggered by the creation of a specific piece of output by a given procedure. For example, an autoscript can automatically make the \u2018Totals\u2019 row or column in a table into bold typeface and highlighted in the color blue each time a frequency table is created.","Creating Autoscripts:",{"@attributes":{"id":"p-0535","num":"0000"},"ul":{"@attributes":{"id":"ul0202","list-style":"none"},"li":{"@attributes":{"id":"ul0202-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0203","list-style":"none"},"li":["You create an autoscript by starting with the output object that you want to serve as the trigger. For example, to create an autoscript that runs whenever a frequency table is produced, create a frequency table in the usual manner.","Single-click the table in the Output Viewer to select it.","Right-click and select Create\/Edit Autoscript or use Utilities>Create\/Edit Autoscript from the menu.","(If no autoscript exists for the selected object, a new autoscript is created. If an autoscript already exists, the existing script is displayed).","Type in code.","Open Edit>Options to enable or disable the autoscript under the Script tab.\n\nThe Autoscript File\n"]}}}},"All autoscripts are saved in a single file. Any new autoscripts you create are also added to this file. The name of the current autoscript file is displayed on the Scripts tab in the Options dialog box. The Options dialog box also displays all of the autoscripts in the currently selected autoscript file, allowing you to enable and disable individual scripts. The default autoscript file is autscript.sbs. You can specify a different autoscript file, but only one can be active at a time.","The Production Facility","The production facility helps run programs in an automated mode. It runs unattended and terminates after executing the last command, so you can run other tasks while it runs. This production mode is useful if you often run the same set of analyses like weekly reports.","Running an Automated Production Job\n\n","Production Facility syntax files and INCLUDE Files","For command files run via the Production Facility or the INCLUDE command, the syntax rules are slightly different:\n\n","If you generate command syntax by pasting dialog box choices into a syntax window, the format of the commands is suitable for any mode of operation.","Running Production Jobs From a Command Line","Command line switches enable you to schedule production jobs to run at certain times with scheduling utilities like the one available in Microsoft Plus!. You can run production jobs from a command line with the following switches:\n\n","To get to the command line . . . just open Start>Run. The command line will then appear. Another option is opening up the DOS shell and typing the command in there at the prompt. You should provide the full path for both the production facility (SPSSPROD.EXE) and the production job. Both should be enclosed in quotes with the desired switch last.",{"@attributes":{"id":"p-0545","num":"1586"},"tables":{"@attributes":{"id":"TABLE-US-00032","num":"00032"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"168pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u2003\u201cc:\\program files\\spss\\spssprod.exe\u201d"]},{"entry":[{},"\u201cc:\\spss\\datajobs\\prodjob.spp\u201d-s"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"Changing HTML Output Format","To change what is displayed in the HTML document when it is exported from the automated production facility, several steps need to be followed.\n\n","Make sure that this command is located after all of the commands on the working data file. This will ensure that it will run on all of the output you designated.\n\n","Other starter scripts are available in the J:\\myproducts\\spss\\scripts\\starter directory. Each script supplies code for one or more common procedures and is commented with hints on how to customize the script to your particular needs.","AT Command","The AT command schedules commands and programs to run on a computer at a specified time and date. The Schedule service must be running to use the at command. To check this, go into your control panel and open Services. Scroll down to find the scheduler to check its status.","The syntax for the AT command is as follows.\n\n","Type these command in the command line found by opening Start>Run, or enter it at the prompt in the DOS shell.","Parameters","none","Used without parameters, at lists scheduled commands.","\\\\computername","Specifies a remote computer. If this parameter is omitted, the commands are scheduled on the local computer.","id","Is an identification number assigned to a scheduled command.","\/delete","Cancels a scheduled command. If id is omitted, all the scheduled commands on the computer are canceled.","\/yes","Forces a yes answer to all queries from the system when deleting scheduled events.","time","Specifies the time when command is to run. Time is expressed as hours:minutes in 24-hour notation (00:00 [midnight] through 23:59).","\/interactive","Allows the job to interact with the desktop of the user who is logged on at the time the job runs.","\/every:date[, . . .]","Runs the command on every specified day(s) of the week or month (for example, every Thursday, or the third day of every month). Specify date as one or more days of the week (M,T,W,Th,F,S,Su) or one or more days of the month (using numbers 1 through 31). Separate multiple date entries with commas. If date is omitted, the current day of the month is assumed.","\/next:date[, . . .]","Runs the specified command on the next occurrence of the day (for example, next Thursday). Specify date as one or more days of the week (M,T,W,Th,F,S,Su) or one or more days of the month (using numbers 1 through 31). Separate multiple date entries with commas. If date is omitted, the current day of the month is assumed.","\u201ccommand\u201d","Is the Windows NT command, program (.EXE or .COM file) or batch program (.BAT or .CMD file) to be run. When the command requires a path as an argument, use the absolute path, that is, the entire pathname beginning with the drive letter. If command is on a remote computer, specify the server and sharename, rather than a remote drive letter. You may use quotation marks around the command, whether you are using at at the command line or in a batch file. If the command includes switches that are used by both the command and at, you must enclose command in quotation marks. If the command is not an executable (.EXE) file, you must precede the command with cmd \/c; for example cmd \/c dir>c:\\test.out.","At-Notes","The AT command requires you be a member of the local Administrator group. Also, the AT command does not automatically load cmd, the command interpreter, before running commands. Unless you are running an executable (.EXE) file, you must explicitly load CMD.EXE at the beginning of the command; for example, cmd \/c dir>c:\\test.out.","Viewing Scheduled Commands:","The AT command has two displays. When you use at without options, you see a display similar to the following:",{"@attributes":{"id":"p-0565","num":"1625"},"tables":{"@attributes":{"id":"TABLE-US-00033","num":"00033"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"5","colwidth":"98pt","align":"left"}}],"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}},{"entry":["STATUS","ID","Day","Time","Command Line"]},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["0","Each","F","04:30 PM","net send group leads status due"]},{"entry":["2","Each","M","12:00 AM","chkstor > check.fil"]},{"entry":["3","Each","F","11:59 PM","backup2.bat"]},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}}]}}}}},"When you include the identification number for the command, the display provides information for a single entry and is similar to the following:\n\n","After you schedule a command with at (especially a command that has option variables), check that the command is entered properly by typing at without options. If the information in the \u201cCommand Line\u201d column isn't correct, delete the command and retype it. If it still isn't correct, retype the command with fewer option variables.","Viewing Results:","Commands scheduled with the AT command run as background processes, so no output is displayed on the computer's screen. To redirect output to a file, use the redirection symbol (>). If you redirect output to a file, enclose the name of the command you are scheduling in quotation marks. The current directory for the executing command is the % systemroot % directory.","Changing System Time:","If you change the system time at a computer after scheduling a command to run with at, synchronize the AT scheduler with the revised time by typing at without options.","Storing Commands:","Scheduled commands are stored in the registry, so scheduled tasks are not lost if you have to restart the Schedule service.","Connecting to Network Drives:","Scheduled jobs that access the network should not use redirected drives made by the user. The Schedule service may not be able to access these drives and they may not be present if a different user is logged on at the time the scheduled job runs. Instead, scheduled jobs should use UNC paths. For example,\n\n","If you schedule an AT command that uses a drive letter to connect to a shared directory, you should include an AT command to disconnect the drive when you are finished using it. If the drive is not disconnected, the drive letter assigned will not be available or seen at the command prompt.","At",{"@attributes":{"id":"p-0573","num":"0000"},"ul":{"@attributes":{"id":"ul0224","list-style":"none"},"li":{"@attributes":{"id":"ul0224-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0225","list-style":"none"},"li":["To display a list of commands scheduled on the server MARKETING, type\n        \n        ","To learn more about a command with the identification number 3 on the server CORP, type\n        \n        ","To schedule a net share command to run on the CORP server at 8:00 A.M., and redirect the listing to the server MAINTENANCE, shared directory REPORTS, and file CORP.TXT, type\n        \n        ","To back up the MARKETING server's hard disk to a tape drive at midnight every five days, create a batch program (ARCHIVE.CMD) containing the backup commands. Then schedule the batch program to run by typing\n        \n        ","To cancel all commands scheduled on the current server, clear the at schedule information by typing\n        \n        "]}}}},"Running a Production Job Using AT\n\n","Make a .bat file that contains the command to run the production facility. This command will include the path name to the production facility executable (spssprod.exe)<space> path name to the production job (command.spp)<space> with any switches appended to the end. If any of these commands are located on a different server, use the server and sharename rather than a remote drive letter to specify the path name.\n\n","To run the AT command from the DOS command shell, at the prompt type your at command calling the .bat file using the specified parameters as noted earlier.\n\n","This schedules test.bat to run at 12:40 p.m. on the local computer. To check if it was scheduled correctly, type at (with no parameters) to see a listing of all of the commands scheduled to run, or type at <id>, where \u2018id\u2019 is the identification number given to the scheduled command when you entered it. The latter will just give information on the command specified.","To run the AT command from the Winat.exe application, open up the application. From the menu open Edit>Add. In the dialog box that occurs, enter the time, days, and frequency information and type the \u201cc:\\temp\\test.bat\u201d command into the command line. Click OK and it will appear as a scheduled command.","When the specified time\/times occur, the production facility will run the production job and export the output to the directory that is specified in the production job.","HTML Information","Customizing HTML","You can automatically add customized HTML code to documents exported in HTML format, including:\n\n","To customize HTML documents, you need to create or modify a text file that contains the custom HTML (htmlfram.txt\u2014located in the directory in which SPSS is installed).","Contents and format of the text file for customized HTML:","The HTML code that you want to add automatically to your HTML documents must be specified in a simple text file that contains six fields, each delimited by two open angle brackets on the preceding line (<<):\n\n","Text or code that you want to insert at the top of the document before the <HTML> specification (for example, comments that include document type specifications) <<","Text used as the document title (displayed in the title bar) <<","Meta tags or script code (for example, JavaScript code) <<","HTML code that modifies the <BODY> tag (for example, code that specifies background color) <<","Text and\/or HTML code that is inserted after the exported output (for example, copyright notice) <<","Text and\/or HTM\\IL code that is inserted before the exported output (for example, company name, logo, etc.)","Sample Text file for Customized HTML:",{"@attributes":{"id":"p-0589","num":"1683"},"tables":{"@attributes":{"id":"TABLE-US-00034","num":"00034"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<<"},{"entry":"<!DOCTYPE HTML PUBLIC \u201c-\/\/W3C\/\/DTD HTML 3.2\/\/EN\u201d>"},{"entry":"<<"},{"entry":"NVI, Inc."},{"entry":"<<"},{"entry":"<META NAME=\u201ckeywords\u201d CONTENT=\u201cgizmos, gadgets, gimcracks\u201d>"},{"entry":"<<"},{"entry":"bgcolor=\u201c#FFFFFF\u201d"},{"entry":"<<"},{"entry":"<H4 align=center>This page made possible by..."},{"entry":"<br><br>"},{"entry":"<IMG SRC=\u201cspss2.gif\u201d align=center><\/H4>"},{"entry":"<<"},{"entry":"<h2 align=center>NVI Sales<\/h2>"},{"entry":"<h3 align=center>Regional Data<\/h3>"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"To Use a Different File or Location for Custom HTML Code","If you change the name or location of HTMLFRAM.TXT, you must modify the system registry to use the file in customized HTML output.\n\n",{"@attributes":{"id":"p-0592","num":"1695"},"tables":{"@attributes":{"id":"TABLE-US-00035","num":"00035"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<!DOCTYPE HTML PUBLIC \u201c-\/\/W3C\/\/DTD HTML 3.2\/\/EN\u201d>"},{"entry":"<HTML>"},{"entry":"<HEAD>"},{"entry":"<TITLE>"},{"entry":"NVI Sales, Inc."},{"entry":"<\/TITLE>"},{"entry":"<META NAME=\u201ckeywords\u201d CONTENT=\u201cgizmos, gadgets, gimcracks\u201d>"},{"entry":"<\/HEAD>"},{"entry":"<BODY bgcolor=\u201c#FFFFFF\u201d>"},{"entry":"<h2 align=center>NVI Sales<\/h2>"},{"entry":"<h3 align=center>Regional Data<\/h3>"},{"entry":"[Exported output]"},{"entry":"<H4 align=center>This page made possible by..."},{"entry":"<br><br>"},{"entry":"<IMG SRC=\u201cspss2.gif\u201d align=center><\/H4>"},{"entry":"<\/BODY>"},{"entry":"<\/HTML>"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"br":[{},{}],"ul":{"@attributes":{"id":"ul0247","list-style":"none"},"li":{"@attributes":{"id":"ul0247-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0248","list-style":"none"},"li":["Follow instructions in the install mode up until the dialog box which asks what you wish to install.","Choose \u2018Custom Installation\u2019 and in the new dialog box that appears, highlight the following for installation:","1. Oracle Call Interface","2. SQL+","3. Oracle 7 32 bit ODBC Driver","4. Oracle 7 Utilities","5. Oracle Network Products","6. Oracle Client Configuration Manager","Finish up the installation by following the rest of the dialog boxes.\n\nInserting Data Into a Table\n","To change the date and time configuration for the session:\n        \n        ","*>insert into spsstest values (\u201801-mar-99 00:40:26\u2019, \u2018NSMMNT10\u2019, 0.047, 0.173, 59.468, 51.039, 24.7, 0);"]}}}},"(The values for the table are put inside parentheses in order of the data found in the table. Date\/Time and Character variables are put in single quotes and numeric values can stand alone. Each data entry is separated by a comma)\n\n","This command will show the table with the values.\n\n","Type this command at the end of the session to commit all of the information that you entered into the table.",{"@attributes":{"id":"p-0596","num":"1713"},"tables":{"@attributes":{"id":"TABLE-US-00036","num":"00036"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"4","colwidth":"49pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 18"},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}},{"entry":["SNMP\/PATROL",{},{},{}]},{"entry":["LER METRICS","DESCRIPTION","PLATFORM","UNITS"]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["busyPer","Provides the percent of CPU usage","Router","percentage"]},{"entry":[{},"over the first 5 second period in the"]},{"entry":[{},"scheduler."]},{"entry":["ifInOctets","The total number of octets received","Router Interface","octets"]},{"entry":[{},"on the"]},{"entry":[{},"interface, including framing"]},{"entry":[{},"characters."]},{"entry":["ifOutOctects","The total number of octets","Router Interface","octets"]},{"entry":[{},"transmitted out of the interface,"]},{"entry":[{},"including framing characters."]},{"entry":["ifSpeed","An estimate of the interface's","Router Interface","bits per second"]},{"entry":[{},"current bandwidth in bits per"]},{"entry":[{},"second. For interfaces which do not"]},{"entry":[{},"vary in bandwidth or for those"]},{"entry":[{},"where no accurate estimation can be"]},{"entry":[{},"made, this object should contain the"]},{"entry":[{},"nominal bandwidth."]},{"entry":["CPUCpuUtil","Displays the percentage of CPU","UNIX","percentage"]},{"entry":[{},"utilization."]},{"entry":["MEMFreeMem","Displays the number of pages of","UNIX","pages"]},{"entry":[{},"memory available."]},{"entry":["NETPacketsIn","Displays the total number of","UNIX","packets"]},{"entry":[{},"incoming packets within a sample"]},{"entry":[{},"interval."]},{"entry":["NETPacketsOut","Displays the total number of","UNIX","packets"]},{"entry":[{},"outgoing packets within a sample"]},{"entry":[{},"interval."]},{"entry":["DSKPercentBusy","Displays the percentage of time that","UNIX","percentage"]},{"entry":[{},"the device is busy servicing a"]},{"entry":[{},"transfer request."]},{"entry":["CPUprcrProces-","Displays a percentage of the elapsed","NT","percentage"]},{"entry":["sorTimePercent","time that a processor is busy"]},{"entry":[{},"executing a non-idle thread."]},{"entry":["MEMmemAvaila-","Displays the size of the virtual","NT","megabytes"]},{"entry":["bleBytes","memory currently on the zeroed,"]},{"entry":[{},"free, and standby memory lists."]},{"entry":["NETniPcktsPerSec","Displays the rate that the packets","NT","packets per"]},{"entry":[{},"are sent and received on the",{},"second"]},{"entry":[{},"network."]},{"entry":["PDpdDiskTimePer-","Displays the percentage of elapsed","NT","percentage"]},{"entry":["cent","time that the disk spends servicing"]},{"entry":[{},"read or write requests."]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]}}}}},"Creating Event Correlation Alarms With ECM as the Event Correlator and Manager","Introduction",{"@attributes":{"id":"p-0597","num":"0000"},"ul":{"@attributes":{"id":"ul0254","list-style":"none"},"li":[{"@attributes":{"id":"ul0254-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0255","list-style":"none"},"li":["This section is intended as a lessons-learned encapsulation for ECM environment configurations.","This section is intended as an aid in the creation and modification of event correlation models\/alarm definitions in ECM.","Included in this section are references to event correlation models\/alarm definitions and PERL scripts that were devised in the development of this component of the Service Assurance final phase 2 deliverable. These pieces are included in the phase 2 repository for importation into an install of ECM.\n\nDeclarations\n"]}},"1. Items enclosed in greater\/less than symbols () contain installation dependent data.","2. Items enclosed in single quotes are as seen on the screen.\n\nDefinitions\n","HPOV\u2014Hewlett Packard's OpenView Network Node Manager","IDE\u2014Interactive Development Environment","OID\u2014Object Identifier","ECM\u2014Event Correlator and Manager\n\nECM Event Correlation Components\n\nThe Theory\n"]}},"The various components of ECM allow for the graphical creation of event correlation maps. These maps contain alarms, polls and traps, and inside each given alarm reside various states and transitions.","To fully comprehend the essence of the correlation utilities contained within ECM would require a primer on state transition diagrams. This falls out of the scope of this document, but a brief overview is in order.","Each alarm consists of a separate state transition diagram. The orderly composition of the states and transitions defines the boundaries of the diagram, the actions on the transitions define the outputs, and the SNMP polls and SNMP trap masks define the inputs. Therefore, the masks and polls bring in data for correlation. The data enters an alarm and through its unique course through the diagram (the unique set of states through which it transitions) a specific result is generated. This result consists of the actions that are generated by the transitions that it passes through.","The Components","The theory behind the software generates three distinct functional areas to the diagrarns. These functional areas contain a distinct series of components that are the user-modifiable pieces of ECM. These are as follows:\n\n","Begin by running the ECM client and logging in as appropriate to your designed environment. Open the \u2018Admin\u2019 then the \u2018Poll List\u2019 menu options, and the \u2018<Server Name>: Poll List\u2019 dialog window is opened. At the bottom of this window is a series of buttons. Look for the button labeled \u2018New\u2019 and click on it. A new window will appear with the title reading \u2018<Server Name>: Alarm Definition\u2019.","This window is tabbed with two panels. The lead panel is the \u2018Poll\u2019 with the second tab being the \u2018Poll Condition\u2019. On the \u2018Poll\u2019 panel resides a number of basic interface components. The simplest of these components are obvious in that they are the name, poll rate, enabled, port and the true\/false trigger that is fired when the poll is run. The important thing to realize here is that the triggers can either be reused from elsewhere in the program or else created right here by entering an arbitrary, previously unused, new trigger name. As with the name, these items should be part of a larger naming convention in order to simplify their utilization (i.e. <project name><associated alarm><descriptive poll name>).","More complicated are the \u2018Property\u2019 drop-down and the \u2018Poll Condition\u2019 tab. The property string in this case is important as one of the core tenets that drives ECM is that of the property string and it's relation to the observed node.","The different property groups work as containers. In this way, the string that you choose must have a correspondence with the node(s) being observed. (i.e. the string must either be already inside of the given node's property group, or else added to the property group at a later time).","Lastly is the \u2018Poll Condition\u2019 tab. This is straightforward to use, and consists of choosing the necessary base object and checking the attributes that you would like to monitor. To do the very minimum, and grab variables for entry into logs, you would simply select the attribute in question and select \u2018present\u2019 (if more select \u2018AND\u2019 then select the next attribute and \u2018present\u2019 and so on).","NOTE that the base object that you used in your poll needs to be specified in the property group that is used by your node(s).","Use this last statement as a guideline for developing your polls. Just put any base object used inside the corresponding property group ANY time you use one in a poll used.","Creating New SNMP Trap Masks","New Trap Mask Definitions","Begin by running the ECM client and logging in as appropriate to your designed environment. Open the \u2018Admin\u2019 then the \u2018Mask List\u2019 menu options, and the \u2018<Server Name>: Mask List\u2019 dialog window is opened. At the bottom of this window is a series of buttons. Look for the button labeled \u2018New\u2019 and click on it. A new window will appear with the title reading \u2018<Server Name>: Alarm Definition\u2019.","This window is tabbed with two panels. The lead panel is the \u2018Mask\u2019 with the second tab being the \u2018Trigger Function\u2019. On the \u2018Mask\u2019 panel resides a number of basic interface components. The simplest of these components is the name of the mask. These items should be part of a larger naming scheme in order to simplify their utilization (i.e. <project name><associated alarm><descriptive poll name>).","In the next field comes the \u2018Generic\u2019 trap ID. This is a value from negative one to positive six and represents a number of standardized responses as well as industry\/vendor specific predefined (SNMP) values. In most modified occasions, this is going to be six.","Next comes the \u2018Enterprise\u2019 OID field. Each received trap comes with an SNMP enterprise OD that allows for specificity with regards to the data's base object. This can be found in numerous ways, but one possible way to discover this information is to enable the \u2018TrapLogger\u2019 alarm and its' associated poll. Once activated, this alarm will log all incoming traps to a file predefined to be \u2018alltraps.log\u2019. This can be found in the \/<base directory>\/seasoft\/userfiles\/logs directory, and is in flat text file format (i.e. more or cat will work).","Once the mask is defined, the next test is to define whether you are interested in a simple trigger call or a more complex trigger function. While describing the trigger function falls outside the scope of this paper, one note that can be shared is that the PERL functionality in this release is quite limited. The trigger function is focused on little more than extended \u2018if else\u2019 statements that fire triggers.","If the trigger function is not required then the use of a simple trigger allows for the creation of new or reused triggers. As stated earlier, these triggers should be created under a naming scheme.","Creating New Alarm Models","The New Alarm Canvas\u2014Interface Basics","Begin by mmning the ECM client and logging in as appropriate to your designed environment. Open the \u2018Admin\u2019 then the \u2018Alarm Definition List\u2019 menu options, and the \u2018<Server Name>: Alarm Definition List\u2019 dialog window is opened. At the bottom of this window is a series of buttons. Look for the button labeled \u2018New\u2019 and click on it. A new window will appear with the title reading \u2018<Server Name>: Alarm Definition\u2019.","The basic layout of this window begins in the upper left corner with a four-button toolbar that allows for the creation of new alarm components. Below this is the alarm canvas that usually opens with a single state listed. This state is labeled \u2018Ground\u2019.","Beneath the canvas section are three textbox\/drop-down listboxes. The textbox labeled \u2018Name\u2019 is nothing more than the name chosen for the new alarm. Select a name that is appropriate for your project. It is extremely easy to get lost in the alarm definitions so it is vehemently suggested to keep everything standardized around a naming convention.","The list-box immediately to the right of \u2018Name\u2019 is that of \u2018Property\u2019. This is an extremely important piece of the ECM design puzzle. The property group is termed as being a \u2018container for properties\u2019. While all these kinds of theoretical understandings are important, keep in mind that the individual alarm's property needs to appear in the main property group under which your nodes will appear. It is in this manner that the property groups work as \u201ckeys\u201d to allow various nodes to adhere to various property groups. The more complex the scheme, the more important this understanding becomes.","Our next interface component is that of the \u2018Scope\u2019 which appears immediately to the right of the \u2018Property\u2019 drop-down box. This has three options labeled \u2018Subobject\u2019, \u2018Node\u2019, and \u2018Enterprise\u2019.\n\n","Essentially this scheme allows for \u201cgrading\u201d alarms across the entire installation. Some alarms can be focused on a given router for instance while other alarms may be correlating across multiple nodes.","Below these interface components are various other components, but short of the \u2018Save\u2019, \u2018Cancel\u2019, and \u2018Enabled\u2019 sections, there is nothing of extreme importance.","One final note is that of saving. ANY time a new trigger or a major change is made to the system, save as soon as possible. There are various flaws with the IDE which will appear when you create various new interface pieces (i.e. triggers, state) that don't appear in the choice boxes for implementation until AFTER a save is made.","Building The Alarm","Utilizing the toolbar, building basic new alarms is quite simple, but make sure that the totality of the design is understood before undertaking more extreme alarms. In any case, in this creation phase there are a number of important points to take into account.","Begin with state creation. In the eventuality that ECM is being interfaced with HPOV, the state creation itself becomes important. The color chosen for the state in question is what will appear on the IPMap in HPOV. This again falls into the realm of \u201cprior proper planning\u201d to make the best utilization of the available colors. HPOV has five available, and ECM has many, many more. These must be distilled properly for the interaction to occur.","Transition definition is just as important from a planning perspective. Once the transition trigger has been selected, the actions attached to it should be chosen carefully. Please remember to save frequently (especially if you notice a missing trigger in the drop down list after you just created it).","An important note is that the given transition must be pending for the trigger to be generated. This is what ECM refers to as \u2018Smart Polling\u2019. This design says that the individual poll or trap mask will NOT occur unless the trigger that they generate is waiting on a transition in an active alarm in the product. The polls do not occur unless they could possibly generate a transition. Therefore, even if all the polls were enabled in the product. If they did not have an attached transition waiting to occur, then they would wait idly until a transition necessitated their action.","The actions associated with any given transition fall into two categories. That of PERL subroutines, and then everything else. It is conceivable that whole transitions could consist of vast PERL subroutines that would generate all the triggers and maintain all the correlation required by the product\/installation. PERL subroutines will be considered in a separate section of this document, but their existence as a transition action is of extreme importance in defining your state transition diagrams.","If the use of PERL on the transition seems overkill for your needs then the remaining actions fall into internal and external categories:\n\n","These actions should be examined thoroughly in defining what requirements are set for your alarm in particular.","The Patroller To Event Correlator and Manager Interface\u2014SNMP Method","An Introduction","For application and server monitoring, the patroller is used. This creates a monitoring layer that resides on individual systems in the form of agents. These agents poll for user-defined information on pre-selected intervals and typically push this data up to a central point of control. From this point of control the data can be collated and correlated to provide historical data on the performance of the systems in the environment.","Another possibility with the system is that SNMP traps can be generated. These traps are typically generated in dealing with thresholds that have been defined for their agents, and upon their generation ECM can receive and handle these much like any other trap that would come in.","The Specifics","Remember that ECM has mask definitions. These mask definitions allow \u201cscreens\u201d to be established that observe incoming SNMP trap information and \u201cscreen\u201d out the information that you require. Remember also that there were three important sections to the mask. There was the generic and specific trap ID's as well as the enterprise OID. It is through these specifics that the mask definition is set-up to watch for data that it needs.","Using the generic trap number of \u20186\u2019 and the enterprise OID of 1.3.6.1.4.1.1031, the traps can be received and handled through mask definitions. The actual configuration of the traps to be sent is outside the scope of this document, but the specific trap ID is set during the PATROLLER configuration and implementation. For instance, in the case of the development environment, ID's 41 and 42 were used. Once a mask is configured for these parameters, the traps can be received into ECM for correlation.","As in most cases, it is probably a good idea to enable the \u2018AllTraps\u2019 alarm to receive the traps and write them to log. With the \u2018log to file\u2019 action enabled in the alarm, you can set the action to verbose and actually see the incoming traps as they are written. From these logs you can derive the necessary modifications to the masks that you wish to produce.","The PATROLLER Trap\u2014Handling The Trap","Once the actual trap has been received into the system, the parsing of the trap has to be done through PERL in most cases. There are other means to deal with traps, but PERL is native to ECM. This led to its' use in the phase two development of this product for the Service Assurance project.","ECM has reserved a number of \u201cspecial\u201d variables. These variables allow for interaction with the incoming trap, and provide a means by which to parse the trap without having to resort to all manner of regular expressions or some other form of tawdry pattern matching. Of particular interest is the \u201cVb\u201d series of variables.","Utilizing these \u201cVb\u201d variables, you can get at the variable bindings that are appended to the end of the SNMP trap that was transmitted via PATROLLER. As this is where the actual data resides, these variables make extraction and correlation a breeze. PATROLLER builds its' variable bindings in a single dimension, and to retrieve this data requires nothing more than extraction of the \u2018VbValue(0)\u2019 variable. This comes in as straight text in the form of \u201cApplication:Instance Parameter: State:Value\u201d.","Parsing requires the \u2018split\u2019 function from the PERL libraries, and with some simple logic and variable creation, the values can be parsed quite easily. There are some problems with ECM at this point though. Refer to the section on PERL that is contained in this document for more information.","With the trap parsed in this manner, the values can be easily correlated. This step can be imbedded in a PERL function and reused across multiple alarms with relative ease. One precaution that must be stated again is that of naming conventions. This point can not be belabored enough. Make sure that you put the PERL that is created into some kind of standardized format both by name and by the comments placed within.","PERL-Notes And Addenda","The Pluses","The installation of PERL that comes with ECM has much to offer to the correlation model designer. The flexibility is just about boundless, and with the addition of external PERL modules, the boundaries that do exist are spread even further away.","The PERL variables allow for deep SNMP trap broadcasts. Through the variable bindings that are attached, the extraction of this data is basic. The included functions allow for interaction both with the ECM structure (the FireTrigger and AssignPropertyGroup functions) as well as system level or beyond (limitless PERL modules). In our case we even went to the extreme of handling SNMP outbound traps through a PERL \u2018system\u2019 call to an external trap generation utility.","The Minuses","PERL is gawky and complex to the uninitiated, and the code can be somewhat complex to operate. ECM also has a buggy interpreter that causes some concern with regards to larger scale subroutines. This buggy-ness results in open statements that only work in particular ways (i.e. open(LOG,\u201cfilename\\.log\u201d);).","In addition to the above weaknesses, the lack of a sensible IDE makes for some extremely time consuming code development. Liberal use of \u2018echo\u2019 statements is just about the only way to achieve a solution for broken code.","Also, there is the extreme problem of testability as noted above. Either through the lack of a debugger or the lack of a test environment, this weakness creates some time consuming development of code. Do not attempt to get around this by writing code out of the IDE either. Regular PERL code doesn't work most of the time in ECM. The differences are subtle, but as you experience larger and larger code, the differences become more problematic.","The Reality","Coding can be difficult anywhere. The flexibility that PERL offers within the product seems to outweigh this though. The predefined transition functions will only get you so far. PERL has to pick up the pace and carry models beyond this. One may build in some basic functionality, but without the impetus of an API into the toolset, adaptation of these functions is limited. Some of the more basic features are extremely useful (i.e. FireTrigger and AlarmCounter), but more advanced functionality screams PERL.","Some Notes","There is no native way to get timing. The way that was utilized in phase two design was with the \u2018localtime\u2019 PERL function.","Traps and masks have somewhat different formats (i.e. not trap parameters)","Keep in mind that the namespace\/environment variables are normally global for the entire ECM environment. To this end, any alarm out there can access variables from any other alarm that is in existence with the installation. Liberal use of the \u2018my\u2019 scope limiter will allow for some separation of the variables in theory, but this theory has not been put to the test. The best idea is to logically separate variables through some sort of naming convention. This kind of organization is difficult but recommended.","Loading the Archived Models","The models and associated materials created in the phase 1 and 2 development environments were subsequently exported to two files currently located in the \\\\nsmmnt10\\IPSA\\IProduct Development\\Phase2 Deliverables\\Event Handling System directory. These files are SAPhase2Models.mod and .txt. Below are listings of their contents and instructions on the importation process.","To import the files into your ECM installation.\n\n","A listing of the imported files and attachments (this was derived from the SAPhase2Models.txt file).\n\n","The above contains all of the actual modifications that were made to ECM during phase 2 and 1 of the IPSA development effort. In addition to these files are any tangential pieces that were \u201ctouched\u201d by the modified ECM components (models, polls, et.al.).","External Applications","Trapgen","This is an executable that allows for manual trap generation through either the command line or PERL. The set-up used in phase 2 consists of the following:\n\n","Of particular interest is the \u2018octetstringascii\u2019 option. This allows strings to be collated and passed through the utility. Note that this was being passed across to an HPOV receiver that had to be configured separately.","Establishing this requires some HPOV experience and falls out of the scope of this document, but one heads up would be that you need to go inside the \u2018Event Configuration Utility\u2019 inside HPOV. Once inside, either build a new enterprise instance or adapt an old one. After picking the enterprise though, you need to create an event instance that fits the event id that you choose in your trapgen command line (i.e. the 1.3.6.1.4.1.78.0.3 part of the example above).","Once finished, you should be able to pass events via traps from ECM to HPOV. To observe these events, open the \u2018Events Browser\u2019, and they should be listed in date received order.","MIB Browser","A component of the HPOV toolset is the SNMP MIB browser. This is a useful tool for exploring the base objects that we have access to through ECM. Gain access to this tool from the HPOV manager, and you can use it to explore remote MIB's, and dig through the available MB's for objects of interest.","Remember that the compiled MIB's that are engaged with ECM limit the number of base objects to the ones specified in the ASN.1 file that was specified at compile time. These optional MIB's extend and expand the capabilities of the polls and alarms, thus allowing for more specificity in SNMP data collections.",{"@attributes":{"id":"p-0659","num":"1946"},"tables":{"@attributes":{"id":"TABLE-US-00037","num":"00037"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 19"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Identify and Describe Requirement"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Description:","Provide information regarding the"]},{"entry":[{},"requirements, plan and implementation of"]},{"entry":[{},"Incident Reporting on the SA project"]},{"entry":"Scenarios:"},{"entry":"Type:"},{"entry":"Business Process Flow:"},{"entry":"Overall Rating:"},{"entry":"Business Need Desc:"},{"entry":["Affected Parties:","Service Assurance Team"]},{"entry":["Project Sponsor:","Network Line of Business"]},{"entry":"Existing\/New:"},{"entry":"External Dependencies:"},{"entry":"Method for Verification:"},{"entry":["In Scope:","Service Assurance Internal Initiative (Phase 2)"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}},"br":{}},{"@attributes":{"id":"p-0660","num":"1947"},"tables":{"@attributes":{"id":"TABLE-US-00038","num":"00038"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"147pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 20"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Increment:"]},{"entry":[{},"App\/Subsyst Desc\/Flow:"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},{"@attributes":{"id":"p-0661","num":"1948"},"tables":{"@attributes":{"id":"TABLE-US-00039","num":"00039"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 21"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Required if Modifications are made after the"},{"entry":"Requirement has been signed-off"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"Change Request:"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"br":{}},{"@attributes":{"id":"p-0662","num":"1949"},"figref":"FIG. 31","b":["3100","3102","3104","3106"]},"In one embodiment of the present invention, the step of monitoring the network further comprises: tracking the availability of individual components of network for events, tracking the availability of individual services of the network for events, tracking the availability of individual processes of an operating system of the network for events, tracking the status of agent processes on individual components of the network for events, monitoring the operating system and application performance of network for threshold events, and monitoring traps of the network for events.","In yet another embodiment, the network map is a node level map and\/or an event level map. The node level map displays node responding events, agent not responding events, and\/or node down events. The step of mapping the occurred events and correlating events when the network map comprises the event level map further comprise of additional steps. In particular, the occurred events and correlating events may be filtered based upon predetermined criteria. The filtered events may also be mapped on the event level map. In still yet another embodiment, at least one notification action is generated based upon the occurred events and\/or correlating events.","Availability Events","This section details the three availability events monitored.","Node Up and Node Down\/Interface Up and Interface Down\u2014Tracking an individual network component (such as a router, server, workstation, etc.). This will be tracked using Network Node Manager and ECM. We will track all nodes which we monitor on the test network, including the following: nsmmws16, nsmmws09, twmmnt02, twmmdb02, nsmmrt03, nsmmrt04. When a Node or Interface fails to respond to a ping, a Node or Interface Down event for the specific node will be generated. When a Node or Interface responds to a ping after immediately after failing to respond to a ping, a Node or Interface Up for the specific node event will be generated.","Service Up and Service Down\u2014Tracking an individual network service (FTP, NNTP, POP3, SMTP, DNS, HTTP, and RADIUS (RADIUS is tracked as a probe only)). This will be tracked using the Collector Internet Service Monitor. When a service fails to respond to the ISM a Service Down event for the specific service will be generated. When a Service responds to the ISM immediately after failing to respond to the ISM, a Service Up event for the specific service will be generated.","Process Up and Process Down\u2014Tracking an individual process on a Windows NT or UNIX system. This will be tracked using Patroller Process KMs. When the number of specific processes with a specific name running under a specific owner changes from a preset number, a Process Down event will be generated for the specific process, owner, and number of processes. When the number of specific processes with a specific name running under a specific owner changes back to the preset number from another number, a Process Up event event will be generated for the specific process, owner, and number of processes.","SNMP Agent Up and SMMP Agent Down\u2014Tracking the status of the SNMP agent process on individual nodes. This will be tracked using ECM. When an SNMP agent fails to respond to a ECM SNMP status query, an SNMP Agent Down event will generated for the specific node. When an SNMP agent responds to a ECM SNMP status query after immediately after failing to respond to a SNMP status query, an SMP Agent Up event will be generated for the specific node.","Operating System and Application Performance Threshold Events","This section details the operating system threshold events and the application performance threshold events monitored. Patroller will be used to monitor processes and send a Parameter High event for a specific parameter and node when a parameter crosses a threshold by increasing its value and send a Parameter Low event for a specific parameter and node when a parameter crosses a threshold by decreasing its value.","The following parameters should be monitored for Phase 2. Note that these parameters are for proof of concept only, as parameters can be added or removed very easily.",{"@attributes":{"id":"p-0672","num":"1959"},"tables":{"@attributes":{"id":"TABLE-US-00040","num":"00040"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"168pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"49pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 22"},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Patroller Metrics","UNIX Server"]},{"entry":["(Generic Name)","Parameter"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"49pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["CPU Utilization","CPUprcrProcessorTimePercent","CPUCpuUtil"]},{"entry":"increased to >= n %"},{"entry":["CPU Utilization","CPUprcrProcessorTimePercent","CPUCpuUtil"]},{"entry":"decreased to <n %"},{"entry":["Memory Utilization","MEMmemAvailableBytes","MEMFreeMem"]},{"entry":"increased to >= n %"},{"entry":["Memory Utilization","MEMmemAvailableBytes","MEMFreeMem"]},{"entry":"decreased to <n %"},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}},"br":{}},"This section details the operating system threshold events and the application performance threshold events monitored. ECM will be used to monitor SNMP variables and send a Parameter High event for a specific parameter and node when a parameter crosses a threshold by increasing its value and send a Parameter Low event for a specific parameter and node when a parameter crosses a threshold by decreasing its value.","The following parameters should be monitored and possibly more:",{"@attributes":{"id":"p-0675","num":"1962"},"tables":{"@attributes":{"id":"TABLE-US-00041","num":"00041"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"126pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"77pt","align":"center"}}],"thead":{"row":[{"entry":[{},"TABLE 23"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Patroller Metrics (Generic Name)","SNMP Object Name"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Interface Util increased to >= 20%","?"]},{"entry":[{},"Interface Util decreased to <20%","?"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"This section details the requirements for monitoring any MIB defined trap from any monitored SNMP device. The SNMP trap will by generated asynchronously by any monitored node and will be translated into an event.",{"@attributes":{"id":"p-0677","num":"1964"},"tables":{"@attributes":{"id":"TABLE-US-00042","num":"00042"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"126pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"77pt","align":"center"}}],"thead":{"row":[{"entry":[{},"TABLE 24"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Event Name","SNMP Object Name"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Standard: Cold Start","?"]},{"entry":[{},"Enterprise Specific: Cisco 7500: ?","?"]},{"entry":[{},"Generic Trap sent by NNM's","?"]},{"entry":[{},"sendmsg"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"This section details the requirements for Event Correlation. The architecture will allow arbitrary correlation of any of the above events with regard to each other and time. This means that we will be able to generate new, correlated events based upon any combination of the above events. We will use ECM for all correlation in Phase 2; we may also use Collector for limited non SNMP-correlation in later phases. For Phase 2, we will perform the following correlations: ICMP\/SNMP Status\u2014We will determine the status of both the ICMP and SNMP agent status of nodes. We will then generate one or more events based upon this combined status.","Downstream Suppression\u2014We will suppress node down events from nodes behind a certain network elements (for Phase 2, routers) when the network element is down.","Availability\/Service\/Process Status\u2014Suppress service events and process events when a node is down.","Event Notification","This section details the requirements for Event Notification. Each event must be able to trigger one or more notification actions. A notification action consists of:\n\n","Configuring what actions should be taken as a result of what events will be configurable with pattern matching of Element Names, Event Codes, and schedule (including day and time).","Additionally, actions will not be taken when an Element is listed in Scheduled Downtime table with the same Event Code and occurs within the Downtime window.","Network Maps","This section details the requirements for the network maps. There will be two network maps:\n\n","This section outlines the PERL scripts utilized in the alarm models from the Event Correlator and Manager for phase 2.","The below listed scripts delineate the entirety of the final development effort of the IPSA phase 2 ECM installation. These scripts have been culled together and separated at the version header contained at their beginning. The individual headers begin with # Subroutine: and continue with a number of # separated comments describing the following script. Look for each of these as separators for the individual scripts.",{"@attributes":{"id":"p-0687","num":"1980"},"tables":{"@attributes":{"id":"TABLE-US-00043","num":"00043"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"#"},{"entry":"# Subroutine: SAallTrapsEventCodeScreen"},{"entry":"# Overview: Simple screening mechanism for associating"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["#","event codes with incoming trapped events."]},{"entry":["#","Once the incoming event is matched with a"]},{"entry":["#","corresponding event code, the event is"]},{"entry":["#","wrapped into an SNMP trap variable binding"]},{"entry":["#","and fired into HP OpenView."]},{"entry":"#"},{"entry":["#","Fires \u2018Alarm\u2019 trap into HP OpenView for"]},{"entry":["#","processing using the PERL \u2018system\u2019"]},{"entry":["#","function and the \u2018trapgen\u2019 command."]},{"entry":"#"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"#"},{"entry":"#"},{"entry":"# Configuration Of Variables"},{"entry":"#"},{"entry":"# Instantiate Local Variables"},{"entry":"# - Make the variables (\u201cmy\u201d) local to keep them out of"},{"entry":"#\u2009\u2009the global name space. Single step alarm, so no"},{"entry":"#\u2009\u2009need for global variables."},{"entry":"#"},{"entry":"my @VbVals,$EventCode,$AlarmCode,$SnmpTrapVbValue;"},{"entry":"my $EpochTime=0;"},{"entry":"my @DaysPerMonth=(31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31);"},{"entry":"my $year,$mon,$day,$hour,$min,$sec;"},{"entry":"my $TZAdjust,$DSTAdjust;"},{"entry":"my $ShowDebug,$NumLeapYears,$SecondsThisInterval;"},{"entry":"my $SnmpTrapTimestamp,$SnmpTrapNode;"},{"entry":"# Initialize Date\/Time Variables"},{"entry":"# - 2d line turns year into 4-digit year (i.e. 19xx)"},{"entry":"#\u2009\u2009as localtime function returns year-1900. Timestamp"},{"entry":"#\u2009\u2009design is standard for phase 2 development."},{"entry":"#"},{"entry":"$year = ((localtime( ))[5]);"},{"entry":"$mon = ((localtime( ))[4]);"},{"entry":"$day = ((localtime( ))[3]);"},{"entry":"$hour = ((localtime( ))[2]);"},{"entry":"$min = ((localtime( ))[1]);"},{"entry":"$sec = ((localtime( ))[0]);"},{"entry":"# Determine number of seconds for years"},{"entry":"if ($year < 200) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# year is in two digit form"]},{"entry":[{},"if ($year < 90) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# year is presumably in the 21st century"]},{"entry":[{},"$year += 2000;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"} else {"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# year is presumably in the 20th century"]},{"entry":[{},"$year += 1900;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Do not return negatives \u2212 and if 2100 or later, add to leap year calcs"},{"entry":"if ($year < 1970 || $year >= 2100) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"return 0;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"$year = 1970;"},{"entry":"$SecondsThisInterval = $year * 365 * 24 * 60 * 60;"},{"entry":"# leap year calculations"},{"entry":"$NumLeapYears = int(($year+2)\/4);"},{"entry":"if (($year+2) % 4 \u2550 0) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# this is a leap year (assuming 1970\u20132099)"]},{"entry":[{},"# check if we have hit feb 29 yet:"]},{"entry":[{},"# recall, mon is 0-based"]},{"entry":[{},"if ($mon <= 1) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# we need to subtract a year, as this is jan"]},{"entry":[{},"$NumLeapYears--;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"$SecondsThisInterval += $NumLeapYears * 24 * 60 * 60;"},{"entry":"$EpochTime += $SecondsThisInterval;"},{"entry":"# Determine number of seconds for months so far"},{"entry":"while($mon--) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$EpochTime += $DaysPerMonth[$mon] * 24 * 60 * 60;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Determine number of seconds for days so far"},{"entry":"$EpochTime += ($day \u2212 1) * 24 * 60 * 60;"},{"entry":"# Determine number of seconds for hours so far"},{"entry":"$EpochTime += $hour * 60 * 60;"},{"entry":"# Determine number of seconds for minutes so far"},{"entry":"$EpochTime += $min * 60;"},{"entry":"# Determine number of seconds for seconds so far"},{"entry":"$EpochTime += $sec;"},{"entry":"# Adjust for time zone (which should be of the form \u221212:00 .. 12:00)"},{"entry":"# THIS IS CURRENTLY IMPLEMENETED POORLY, IT SHOULD"},{"entry":"USE ACTUAL TIME ZONE CODES"},{"entry":"$TZAdjust = \u201c5:00\u201d;"},{"entry":"if ($TZAdjust =~ \/{circumflex over (\u2003)}(\u2212?)(\\d):(\\d*)$\/) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# Time Zone adjustment needs to subtract"]},{"entry":[{},"if ($1) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$EpochTime \u2212= ($2 * 60 * 60) + ($3 * 60);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"} else {"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$EpochTime += ($2 * 60 * 60) + ($3 * 60);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Adjust for day light savings time"},{"entry":"$SnmpTrapNode = $A;"},{"entry":"$SnmpTrapVbValue = VbValue(0);"},{"entry":"@VbVals = split \/:\/, $SnmpTrapVbValue;"},{"entry":"# Main Event Code Correlation Loop"},{"entry":"#"},{"entry":"# Event Codes Are Standardized For Phase 2 Development"},{"entry":"# In Local Document In Repository."},{"entry":"#"},{"entry":"if ((ContainsString($VbVals[2] , \u201croot@ named\u201d)) &&"},{"entry":"(ContainsString($VbVals[3] , \u201cALARM\u201d))) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"$EventCode = \u201c1002000\u201d;"]},{"entry":[{},"$AlarmCode = \u201cAlarm\u201d;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"} elsif ((ContainsString($VbVals[2] , \u201croot@named\u201d)) &&"},{"entry":"(ContainsString($VbVals[3] , \u201cOK\u201d))) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"$EventCode = \u201c1002001\u201d;"]},{"entry":[{},"$AlarmCode = \u201cRecover\u201d;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"} elsif ((ContainsString($VbVals[2] , \u201cCPUCpuUtil\u201d)) &&"},{"entry":"(ContainsString($VbVals[3] , \u201cALARM\u201d))) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"$EventCode = \u201c1003000\u201d;"]},{"entry":[{},"$AlarmCode = \u201cAlarm\u201d;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"} elsif ((ContainsString($VbVals[2] , \u201cCPUCpuUtil\u201d)) &&"},{"entry":"(ContainsString($VbVals[3] , \u201cOK\u201d))) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"$EventCode = \u201c1003001\u201d;"]},{"entry":[{},"$AlarmCode = \u201cRecover\u201d;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"} elsif ((ContainsString($VbVals[2] , \u201cCPUprcrProcessorTimePercent\u201d))"},{"entry":"&& (ContainsString($VbVals[3] , \u201cALARM\u201d))) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"$EventCode = \u201c1003000\u201d;"]},{"entry":[{},"$AlarmCode = \u201cAlarm\u201d;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"} elsif ((ContainsString($VbVals[2] , \u201cCPUprcrProcessorTimePercent\u201d))"},{"entry":"&& (ContainsString($VbVals[3] , \u201cOK\u201d))) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"$EventCode = \u201c1003001\u201d;"]},{"entry":[{},"$AlarmCode = \u201cRecover\u201d;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"} elsif ((ContainsString($VbVals[2] , \u201cMEMmemAvailableBytes\u201d)) &&"},{"entry":"(ContainsString($VbVals[3] , \u201cALARM\u201d))) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"$EventCode = \u201c1003002\u201d;"]},{"entry":[{},"$AlarmCode = \u201cAlarm\u201d;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"} elsif ((ContainsString($VbVals[2] , \u201cMEMmemAvailableBytes\u201d)) &&"},{"entry":"(ContainsString($VbVals[3] , \u201cOK\u201d))) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"$EventCode = \u201c1003003\u201d;"]},{"entry":[{},"$AlarmCode = \u201cRecover\u201d;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Fire The Trap Into HP OpenView"},{"entry":"#"},{"entry":"# The 6th value on the trapgen string (right next to"},{"entry":"# the generic trap number (6)) is the specific trap"},{"entry":"# number. This has to be associated with some event"},{"entry":"# configured in HP OpenView. (i.e. 6 3 105 - The \u20183\u2019"},{"entry":"# is the specific trap ID)"},{"entry":"#"},{"entry":"if(ContainsString($AlarmCode, \u201cAlarm\u201d)) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"system(\u201c\/opt\/seasoft\/bin\/trapgen nsmmws16 1.3.6.1.4.1.78"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"$SnmpTrapNode 6 3 105 1.3.6.1.4.1.78.0.3 octetstringascii $EventCode"},{"entry":"1.3.6.1.4.1.78.0.3 octetstringascii $EpochTime 1.3.6.1.4.1.78.0.3"},{"entry":"octetstringascii 5\u201d);"},{"entry":"} else {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"system(\u201c\/opt\/seasoft\/bin\/trapgen nsmmws16 1.3.6.1.4.1.78"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"$SnmpTrapNode 6 4 105 1.3.6.1.4.1.78.0.4 octetstringascii $EventCode"},{"entry":"1.3.6.1.4.1.78.0.4 octetstringascii $EpochTime 1.3.6.1.4.1.78.0.4"},{"entry":"octetstringascii 1\u201d);"},{"entry":"}"},{"entry":"#"},{"entry":"# Subroutine: SACorrEntNotifyHPOV"},{"entry":"# Overview: Fires alarm trap notifying the"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["#","NMS that the enterprise alarm is"]},{"entry":["#","instantiated."]},{"entry":"#"},{"entry":["#","Fires \u2018Alarm\u2019 trap into HP OpenView for"]},{"entry":["#","processing using the PERL \u2018system\u2019"]},{"entry":["#","function and the \u2018trapgen\u2019 command."]},{"entry":"#"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"#"},{"entry":"#"},{"entry":"# Configuration Of Variables"},{"entry":"#"},{"entry":"# Instantiate Local Variables"},{"entry":"# - Make the variables (\u201cmy\u201d) local to keep them out of"},{"entry":"#\u2009\u2009the global name space. Single step alarm, so no"},{"entry":"#\u2009\u2009need for global variables."},{"entry":"#"},{"entry":"my $EpochTime=0;"},{"entry":"my @DaysPerMonth = (31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31);"},{"entry":"my $year,$mon,$day,$hour,$min,$sec;"},{"entry":"my $TZAdjust,$DSTAdjust;"},{"entry":"my $ShowDebug,$NumLeapYears,$SecondsThisInterval;"},{"entry":"my"},{"entry":"$SnmpTrapTimestamp,$SnmpTrapNode,"},{"entry":"$SACorrEntNotifyOvTrapString"},{"entry":";"},{"entry":"# Initialize Date\/Time Variables"},{"entry":"# - 2d line turns year into 4-digit year (i.e. 19xx)"},{"entry":"#\u2009\u2009as localtime function returns year-1900. Timestamp"},{"entry":"#\u2009\u2009design is standard for phase 2 development."},{"entry":"#"},{"entry":"$year = ((localtime( ))[5]);"},{"entry":"$mon = ((localtime( ))[4]);"},{"entry":"$day = ((localtime( ))[3]);"},{"entry":"$hour = ((localtime( ))[2]);"},{"entry":"$min = ((localtime())[1]);"},{"entry":"$sec = ((localtime( ))[0]);"},{"entry":"# Determine number of seconds for years"},{"entry":"if ($year < 200) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# year is in two digit form"]},{"entry":[{},"if ($year < 90) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# year is presumably in the 21st century"]},{"entry":[{},"$year += 2000;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"} else {"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# year is presumably in the 20th century"]},{"entry":[{},"$year += 1900;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Do not return negatives \u2212 and if 2100 or later, add to leap year calcs"},{"entry":"if ($year < 1970 || $year >= 2100) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"return 0;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"$year \u2212= 1970;"},{"entry":"$SecondsThisInterval = $year * 365 * 24 * 60 * 60;"},{"entry":"# leap year calculations"},{"entry":"$NumLeapYears = int(($year+2)\/4);"},{"entry":"if (($year+2) % 4 \u2550 0) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# this is a leap year (assuming 1970\u20132099)"]},{"entry":[{},"# check if we have hit feb 29 yet:"]},{"entry":[{},"# recall, mon is 0-based"]},{"entry":[{},"if ($mon <= 1) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# we need to subtract a year, as this is jan"]},{"entry":[{},"$NumLeapYears--;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"$SecondsThisInterval += $NumLeapYears * 24 * 60 * 60;"},{"entry":"$EpochTime += $SecondsThisInterval;"},{"entry":"# Determine number of seconds for months so far"},{"entry":"while($mon--) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$EpochTime += $DaysPerMonth[$mon] * 24 * 60 * 60;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Determine number of seconds for days so far"},{"entry":"$EpochTime += ($day \u2212 1) * 24 * 60 * 60;"},{"entry":"# Determine number of seconds for hours so far"},{"entry":"$EpochTime += $hour * 60 * 60;"},{"entry":"#Determine number of seconds for minutes so far"},{"entry":"$EpochTime += $min * 60;"},{"entry":"# Determine number of seconds for seconds so far"},{"entry":"$EpochTime +=$sec;"},{"entry":"# Adjust for time zone (which should be of the form \u221212:00 .. 12:00)"},{"entry":"$TZAdjust = \u201c5:00\u201d;"},{"entry":"if ($TZAdjust =~ \/{circumflex over (\u2009)}(\u2212?)(\\d):(\\d*)$\/) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# Time Zone adjustment needs to subtract"]},{"entry":[{},"if ($1) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$EpochTime \u2212= ($2 * 60 * 60) + ($3 * 60);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"} else {"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$EpochTime += ($2 * 60 * 60) + ($3 * 60);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Adjust for day light savings time"},{"entry":"# Fire The Trap Into HP OpenView"},{"entry":"#"},{"entry":"# The 6th value on the trapgen string (right next to"},{"entry":"# the generic trap number (6)) is the specific trap"},{"entry":"# number. This has to be associated with some event"},{"entry":"# configured in HP OpenView. (i.e. 6 3 105 - The \u20183\u2019"},{"entry":"# is the specific trap ID)"},{"entry":"#"},{"entry":"system(\u201c\/opt\/bin\/trapgen nsmmws16 1.3.6.1.4.1.78 nsmmws09 6 3 105"},{"entry":"1.3.6.1.4.1.78.0.3 octetstringascii 5000000 1.3.6.1.4.1.78.0.3"},{"entry":"octetstringascii"},{"entry":"$EpochTime 1.3.6.1.4.1.78.0.3 octetstringascii 5\u201d);"},{"entry":"#"},{"entry":"# Subroutine: SACorrEntPATROLLERID"},{"entry":"# Overview: Stores Environment Variable For Further"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["#","Usage In System Code"]},{"entry":"#"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"#"},{"entry":"$SACorrEntPATROLLERID = $A;"},{"entry":"#"},{"entry":"# Subroutine: SACorrEntRecoverHPOV"},{"entry":"# Overview: Fires recovery trap notifying the"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["#","NMS that the enterprise alarm is"]},{"entry":["#","recovered."]},{"entry":"#"},{"entry":["#","Fires \u2018Alarm\u2019 trap into HP OpenView for"]},{"entry":["#","processing using the PERL \u2018system\u2019"]},{"entry":["#","function and the \u2018trapgen\u2019"]},{"entry":["#","command."]},{"entry":"#"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"#"},{"entry":"#"},{"entry":"# Configuration Of Variables"},{"entry":"#"},{"entry":"# Instantiate Local Variables"},{"entry":"# - Make the variables (\u201cmy\u201d) local to keep them out of"},{"entry":"#\u2009\u2009the global name space. Single step alarm, so no"},{"entry":"#\u2009\u2009need for global variables."},{"entry":"#"},{"entry":"my $EpochTime=0;"},{"entry":"my @DaysPerMonth = (31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31);"},{"entry":"my $year,$mon,$day,$hour,$min,$sec;"},{"entry":"my $TZAdjust,$DSTAdjust;"},{"entry":"my $ShowDebug,$NumLeapYears,$SecondsThisInterval;"},{"entry":"my"},{"entry":"$SnmpTrapTimestamp,$SnmpTrapNode,"},{"entry":"$SACorrEntNotifyOvTrapString"},{"entry":";"},{"entry":"# Initialize Date\/Time Variables"},{"entry":"# - 2d line turns year into 4-digit year (i.e. 19xx)"},{"entry":"#\u2009\u2009as localtime function returns year-1900. Timestamp"},{"entry":"#\u2009\u2009design is standard for phase 2 development."},{"entry":"#"},{"entry":"$year = ((localtime( ))[5]);"},{"entry":"$mon = ((localtime( ))[4]);"},{"entry":"$day = ((localtime( ))[3]);"},{"entry":"$hour = ((localtime( ))[2]);"},{"entry":"$min = ((localtime( ))[1]);"},{"entry":"$sec = ((localtime( ))[0]);"},{"entry":"# Determine number of seconds for years"},{"entry":"if ($year < 200) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# year is in two digit form"]},{"entry":[{},"if ($year < 90) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# year is presumably in the 21st century"]},{"entry":[{},"$year += 2000;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"} else {"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# year is presumably in the 20th century"]},{"entry":[{},"$year += 1900;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Do not return negatives \u2212 and if 2100 or later, add to leap year calcs"},{"entry":"if ($year < 1970 || $year >= 2100) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"return 0;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"$year \u2212= 1970;"},{"entry":"$SecondsThisInterval = $year * 365 * 24 * 60 * 60;"},{"entry":"# leap year calculations"},{"entry":"$NumLeapYears = int(($year+2)\/4);"},{"entry":"if (($year+2) % 4 \u2550 0) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# this is a leap year (assuming 1970\u20132099)"]},{"entry":[{},"# check if we have hit feb 29 yet:"]},{"entry":[{},"# recall, mon is 0-based"]},{"entry":[{},"if ($mon <= 1) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# we need to subtract a year, as this is jan"]},{"entry":[{},"$NumLeapYears--;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"$SecondsThisInterval += $NumLeapYears * 24 * 60 * 60;"},{"entry":"$EpochTime += $SecondsThisInterval;"},{"entry":"# Determine number of seconds for months so far"},{"entry":"while($mon--) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$EpochTime += $DaysPerMonth[$mon] * 24 * 60 * 60;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Determine number of seconds for days so far"},{"entry":"$EpochTime += ($day \u2212 1) * 24 * 60 * 60;"},{"entry":"# Determine number of seconds for hours so far"},{"entry":"$EpochTime += $hour * 60 * 60;"},{"entry":"# Determine number of seconds for minutes so far"},{"entry":"$EpochTime += $min * 60;"},{"entry":"# Determine number of seconds for seconds so far"},{"entry":"$EpochTime += $sec;"},{"entry":"# Adjust for time zone (which should be of the form \u221212:00 .. 12:00)"},{"entry":"$TZAdjust = \u201c5:00\u201d;"},{"entry":"if ($TZAdjust =~ \/{circumflex over (\u2009)}(\u2212?)(\\d):(\\d*)$\/) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# Time Zone adjustment needs to subtract"]},{"entry":[{},"if ($1) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$EpochTime \u2212= ($2 * 60 * 60) + ($3 * 60);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"} else {"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$EpochTime += ($2 * 60 * 60) + ($3 * 60);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Adjust for day light savings time"},{"entry":"# Fire The Trap Into HP OpenView"},{"entry":"#"},{"entry":"# The 6th value on the trapgen string (right next to"},{"entry":"# the generic trap number (6)) is the specific trap"},{"entry":"# number. This has to be associated with some event"},{"entry":"# configured in HP OpenView. (i.e. 6 3 105 - The \u20183\u2019"},{"entry":"# is the specific trap ID)"},{"entry":"#"},{"entry":"system(\u201c\/opt\/bin\/trapgen nsmmws16 1.3.6.1.4.1.78 nsmmws09 6 4 105"},{"entry":"1.3.6.1.4.1.78.0.4 octetstringascii 5000001 1.3.6.1.4.1.78.0.4"},{"entry":"octetstringascii"},{"entry":"$EpochTime 1.3.6.1.4.1.78.0.4 octetstringascii 1\u201d);"},{"entry":"#"},{"entry":"# Subroutine: SACorrEntVerifyNode"},{"entry":"# Overview: Node verification subroutine to keep"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["#","alarm restrained to single node instances."]},{"entry":"#"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"#"},{"entry":"#"},{"entry":"if(ContainsString($SACorrEntBusyPerID,$A)) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"FireTrigger(\u201cSACorrEntRecover\u201d);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"}elsif(ContainsString($SACorrEntPATROLLERID,$A)) {"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"FireTrigger(\u201cSACorrEntPATROLLERRecover\u201d);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"#"},{"entry":"#"},{"entry":"# Subroutine: SAIcmpStatusNotifyHPOV"},{"entry":"# Overview: Fires alarm trap notifying the"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["#","NMS that the enterprise alarm is"]},{"entry":["#","instantiated."]},{"entry":"#"},{"entry":["#","Fires \u2018Alarm\u2019 trap into HP OpenView for"]},{"entry":["#","processing using the PERL \u2018system\u2019"]},{"entry":["#","function and the \u2018trapgen\u2019 command."]},{"entry":"#"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"#"},{"entry":"#"},{"entry":"# Configuration Of Variables"},{"entry":"#"},{"entry":"# Instantiate Local Variables"},{"entry":"# - Make the variables (\u201cmy\u201d) local to keep them out of"},{"entry":"#\u2009\u2009the global name space. Single step alarm, so no"},{"entry":"#\u2009\u2009need for global variables."},{"entry":"#"},{"entry":"my $EpochTime=0;"},{"entry":"my @DaysPerMonth = (31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31);"},{"entry":"my $year,$mon,$day,$hour,$min,$sec;"},{"entry":"my $TZAdjust,$DSTAdjust;"},{"entry":"my $ShowDebug,$NumLeapYears,$SecondsThisInterval;"},{"entry":"my"},{"entry":"$SnmpTrapTimestamp,$SnmpTrapNode,"},{"entry":"$SACorrEntNotifyOvTrapString"},{"entry":";"},{"entry":"# Initialize Date\/Time Variables"},{"entry":"# - 2d line turns year into 4-digit year (i.e. 19xx)"},{"entry":"#\u2009\u2009as localtime function returns year-1900. Timestamp"},{"entry":"#\u2009\u2009design is standard for phase 2 development."},{"entry":"#"},{"entry":"$year = ((localtime( ))[5]);"},{"entry":"$mon = ((localtime( ))[4]);"},{"entry":"$day = ((localtime( ))[3]);"},{"entry":"$hour = ((localtime( ))[2]);"},{"entry":"$min = ((localtime( ))[1]);"},{"entry":"$sec = ((localtime( ))[0]);"},{"entry":"# Determine number of seconds for years"},{"entry":"if ($year < 200) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# year is in two digit form"]},{"entry":[{},"if ($year < 90) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# year is presumably in the 21st century"]},{"entry":[{},"$year += 2000;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"} else {"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# year is presumably in the 20th century"]},{"entry":[{},"$year += 1900;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Do not return negatives \u2212 and if 2100 or later, add to leap year calcs"},{"entry":"if ($year < 1970 || $year >= 2100) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"return 0;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"$year \u2212= 1970;"},{"entry":"$SecondsThisInterval = $year * 365 * 24 * 60 * 60;"},{"entry":"# leap year calculations"},{"entry":"$NumLeapYears = int(($year+2)\/4);"},{"entry":"if (($year+2) % 4 \u2550 0) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# this is a leap year (assuming 1970\u20132099)"]},{"entry":[{},"# check if we have hit feb 29 yet:"]},{"entry":[{},"# recall, mon is 0-based"]},{"entry":[{},"if ($mon <= 1) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# we need to subtract a year, as this is jan"]},{"entry":[{},"$NumLeapYears--;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"$SecondsThisInterval += $NumLeapYears * 24 * 60 * 60;"},{"entry":"$EpochTime += $SecondsThisInterval;"},{"entry":"# Determine number of seconds for months so far"},{"entry":"while($mon--) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$EpochTime += $DaysPerMonth[$mon] * 24 * 60 * 60;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Determine number of seconds for days so far"},{"entry":"$EpochTime += ($day \u2212 1) * 24 * 60 * 60;"},{"entry":"# Determine number of seconds for hours so far"},{"entry":"$EpochTime += $hour * 60 * 60;"},{"entry":"# Determine number of seconds for minutes so far"},{"entry":"$EpochTime += $min * 60;"},{"entry":"# Determine number of seconds for seconds so far"},{"entry":"$EpochTime += $sec;"},{"entry":"# Adjust for time zone (which should be of the form \u221212:00 .. 12:00)"},{"entry":"# THIS SHOULD USE ACTUAL TIME ZONE CODES"},{"entry":"$TZAdjust =\u201c5:00\u201d;"},{"entry":"if ($TZAdjust =~ \/{circumflex over (\u2009)}(\u2212?)(\\d):(\\d*)$\/) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# Time Zone adjustment needs to subtract"]},{"entry":[{},"if ($1) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$EpochTime \u2212= ($2 * 60 * 60) + ($3 * 60);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"} else {"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$EpochTime += ($2 * 60 * 60) + ($3 * 60);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Adjust for day light savings time"},{"entry":"# Fire The Trap Into HP OpenView"},{"entry":"#"},{"entry":"# The 6th value on the trapgen string (right next to"},{"entry":"# the generic trap number (6)) is the specific trap"},{"entry":"# number. This has to be associated with some event"},{"entry":"# configured in HP OpenView. (i.e. 6 3 105 - The \u20183\u2019"},{"entry":"# is the specific trap ID)"},{"entry":"#"},{"entry":"system(\u201c\/opt\/bin\/trapgen nsmmws16 1.3.6.1.4.1.78 $A 6 3 105"},{"entry":"1.3.6.1.4.1.78.0.3 octetstringascii 1000002 1.3.6.1.4.1.78.0.3"},{"entry":"octetstringascii"},{"entry":"$EpochTime 1.3.6.1.4.1.78.0.3 octetstringascii 5\u201d);"},{"entry":"#"},{"entry":"# Subroutine: SAIcmpStatusRecoverHPOV"},{"entry":"# Overview: Fires recovery trap notifying the"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["#","NMS that the enterprise alarm is"]},{"entry":["#","recovered."]},{"entry":"#"},{"entry":["#","Fires \u2018Alarm\u2019 trap into HP OpenView for"]},{"entry":["#","processing using the PERL \u2018system\u2019"]},{"entry":["#","function and the ECM \u2018trapgen\u2019"]},{"entry":["#","command."]},{"entry":"#"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"#"},{"entry":"#"},{"entry":"# Configuration Of Variables"},{"entry":"#"},{"entry":"# Instantiate Local Variables"},{"entry":"# - Make the variables (\u201cmy\u201d) local to keep them out of"},{"entry":"#\u2009\u2009the global name space. Single step alarm, so no"},{"entry":"#\u2009\u2009need for global variables."},{"entry":"#"},{"entry":"my $EpochTime=0;"},{"entry":"my @DaysPerMonth = (31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31);"},{"entry":"my $year,$mon,$day,$hour,$min,$sec;"},{"entry":"my $TZAdjust,$DSTAdjust;"},{"entry":"my $ShowDebug,$NumLeapYear,$SecondsThisInterval;"},{"entry":"my"},{"entry":"$SnmpTrapTimestamp,$SnmpTrapNode,"},{"entry":"$SACorrEntNotifyOvTrapString"},{"entry":";"},{"entry":"# Initialize Date\/Time Variables"},{"entry":"# - 2d line turns year into 4-digit year (i.e. 19xx)"},{"entry":"#\u2009\u2009as localtime function returns year-1900. Timestamp"},{"entry":"#\u2009\u2009design is standard for phase 2 development."},{"entry":"#"},{"entry":"$year = ((localtime( ))[5]);"},{"entry":"$mon = ((localtime( ))[4]);"},{"entry":"$day = ((localtime( ))[3]);"},{"entry":"$hour = ((localtime( ))[2]);"},{"entry":"$min = ((localtime( ))[1]);"},{"entry":"$sec = ((localtime( ))[0]);"},{"entry":"# Determine number of seconds for years"},{"entry":"if ($year < 200) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# year is in two digit form"]},{"entry":[{},"if ($year < 90) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# year is presumably in the 21st century"]},{"entry":[{},"$year += 2000;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"} else {"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# year is presumably in the 20th century"]},{"entry":[{},"$year += 1900;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Do not return negatives \u2212 and if 2100 or later, add to leap year calcs"},{"entry":"if ($year < 1970 || $year >= 2100) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"return 0;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"$year \u2212= 1970;"},{"entry":"$SecondsThisInterval = $year * 365 * 24 * 60 * 60;"},{"entry":"# leap year calculations"},{"entry":"$NumLeapYears = int(($year+2)\/4);"},{"entry":"if (($year+2) % 4 \u2550 0) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# this is a leap year (assuming 1970\u20132099)"]},{"entry":[{},"# check if we have hit feb 29 yet:"]},{"entry":[{},"# recall, mon is 0-based"]},{"entry":[{},"if ($mon <= 1) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# we need to subtract a year, as this is jan"]},{"entry":[{},"$NumLeapYears--;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"$SecondsThisInterval += $NumLeapYears * 24 * 60 * 60;"},{"entry":"$EpochTime += $SecondsThisInterval;"},{"entry":"# Determine number of seconds for months so far"},{"entry":"while($mon--) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$EpochTime += $DaysPerMonth[$mon] * 24 * 60 * 60;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Determine number of seconds for days so far"},{"entry":"$EpochTime += ($day \u2212 1) * 24 * 60 * 60;"},{"entry":"# Determine number of seconds for hours so far"},{"entry":"$EpochTime += $hour * 60 * 60;"},{"entry":"# Determine number of seconds for minutes so far"},{"entry":"$EpochTime += $min * 60;"},{"entry":"# Determine number of seconds for seconds so far"},{"entry":"$EpochTime += $sec;"},{"entry":"# Adjust for time zone (which should be of the form \u221212:00 .. 12:00)"},{"entry":"# THIS SHOULD USE ACTUAL TIME ZONE CODES"},{"entry":"$TZAdjust = \u201c5:00\u201d;"},{"entry":"if ($TZAdjust =~ \/{circumflex over (\u2009)}(\u2212?)(\\d):(\\d*)$\/) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# Time Zone adjustment needs to subtract"]},{"entry":[{},"if ($1) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$EpochTime \u2212= ($2 * 60 * 60) + ($3 * 60);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"} else {"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$EpochTime += ($2 * 60 * 60) + ($3 * 60);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Adjust for day light savings time"},{"entry":"# Fire The Trap Into HP OpenView"},{"entry":"#"},{"entry":"# The 6th value on the trapgen string (right next to"},{"entry":"# the generic trap number (6)) is the specific trap"},{"entry":"# number. This has to be associated with some event"},{"entry":"# configured in HP OpenView. (i.e. 6 3 105 - The \u20183\u2019"},{"entry":"# is the specific trap ID)"},{"entry":"#"},{"entry":"system(\u201c\/opt\/seasoft\/bin\/trapgen nsmmws16 1.3.6.1.4.1.78 $A 6.4 105"},{"entry":"1.3.6.1.4.1.78.0.4 octetstringascii 1000003 1.3.6.1.4.1.78.0.4"},{"entry":"octetstringascii"},{"entry":"$EpochTime 1.3.6.1.4.1.78.0.4 octetstringascii 1\u201d);"},{"entry":"#"},{"entry":"# Subroutine: SAifEntryC2RateUtil"},{"entry":"# Overview: Counter To Rate Conversion Script"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["#","Builds Utilization Percentage And"]},{"entry":["#","Rate For Interface Instances."]},{"entry":"#"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"#"},{"entry":"#"},{"entry":"# Configuration"},{"entry":"#"},{"entry":"# Declare Local Variables."},{"entry":"#"},{"entry":"my $ifSpeed,$OldifInOctets,$OldifOutOctets;"},{"entry":"my $NewifInOctets,$NewifOutOctets;"},{"entry":"my $OldifInOctets,$OldifOutOctets;"},{"entry":"my $DeltaifInOctets,$DeltaifOutOctets;"},{"entry":"my $SummedOctets,$ConvertedToBits;"},{"entry":"my $NewTimestamp,$OldTimestamp,$DeltaTime;"},{"entry":"my $BPS,$UtilizationPercentage;"},{"entry":"my $sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst;"},{"entry":"my $MaximumCounterSize = 4294967295;"},{"entry":"# Construct Initial Time Variables"},{"entry":"($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst) = localtime"},{"entry":"(time);"},{"entry":"# Fix 19xx Year"},{"entry":"$year = 1900 + $year;"},{"entry":"$NewTimestamp = \u201c$year-$mon-$mday $hour:$min:$sec\u201d;"},{"entry":"$OldTimestamp = $SavedTimestamp {$pollkey};"},{"entry":"# Get New Interface Values"},{"entry":"$ifSpeed = ifEntry.ifSpeed;"},{"entry":"$NewifInOctets = ifEntry.ifInOctets;"},{"entry":"$NewifOutOctets = ifEntry.ifOutOctets;"},{"entry":"# Retrieve Old Interface Values"},{"entry":"$OldifInOctets = $SavedifInOctets {$pollkey};"},{"entry":"$OldifOutOctets = $SavedifOutOctets {$pollkey};"},{"entry":"#"},{"entry":"#"},{"entry":"# Data Manipulation"},{"entry":"#"},{"entry":"# Gather And Build ifInOctets Delta"},{"entry":"#"},{"entry":"$DeltaifInOctets = $NewifInOctets \u2212 $OldifInOctets;"},{"entry":"if($DeltaifInOctets < 0) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"$DeltaifInOctets ="]},{"entry":[{},"($MaximumCounterSize \u2212 $OldifInOctets) +"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"$NewifInOctets;"},{"entry":"}"},{"entry":"# Gather And Build ifOutOctets Delta"},{"entry":"#"},{"entry":"$DeltaifOutOctets = $NewifOutOctets \u2212 $OldifOutOctets;"},{"entry":"if($DeltaifOutOctets < 0) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"$DeltaifOutOctets = ($MaximumCounterSize \u2212 $Old"]},{"entry":[{},"ifOutOctets) +"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"$NewifOutOctets;"},{"entry":"}"},{"entry":"# Gather And Build Timestamp Delta"},{"entry":"# - Octets Are Made Of 8 Bits - i.e. The Conversion"},{"entry":"#"},{"entry":"$SummedOctets = $DeltaifInOctets + $DeltaifOutOctets;"},{"entry":"$ConvertedToBits = $SummedOctets * 8;"},{"entry":"$DeltaTime = SubtractTime($OldTimestamp,$NewTimestamp);"},{"entry":"# Do The Math - Create Deliverable Values (Rate And Counter)"},{"entry":"#"},{"entry":"$BPS = $ConvertedToBits\/$DeltaTime;"},{"entry":"$UtilizationPercentage = ($BPS \/ $ifSpeed) * 100;"},{"entry":"#"},{"entry":"#"},{"entry":"# Report Data Findings To Log File"},{"entry":"#"},{"entry":"# Open The Log File And Write The Data To Disk"},{"entry":"#"},{"entry":"open(LOG,\u201c>>\/opt\/seasoft\/userfiles\/logs\/SAifEntryC2RateUtil.dat\u201d);"},{"entry":"if(LOG) {"},{"entry":"printf LOG"},{"entry":"\u201c%s,InterfaceUtilizationPercent,%s,%s,%.3f\\n\u201d,$N,$OI,$New"},{"entry":"Timestamp,$UtilizationPercentage;"},{"entry":"printf LOG"},{"entry":"\u201c%s,InterfaceUtilizationBPS,%s,%s,%.3f\\n\u201d,$N,$OI,$NewTimestamp,"},{"entry":"$BPS;"},{"entry":"close LOG;"},{"entry":"} else {"},{"entry":"#"},{"entry":"# If An Error On Opening The Log File Then Open Error File"},{"entry":"# And Write To Disk"},{"entry":"#"},{"entry":"open(LOG,\u201c>>\/usr\/seasoft\/userfiles\/logs\/SAifEntryC2RateUtil.err\u201d);"},{"entry":"print LOG \u201c$NewTimestamp:Unable To Write To Log"},{"entry":"SAifEntryC2RateUtil.log\u201d;"},{"entry":"close LOG;"},{"entry":"}"},{"entry":"#"},{"entry":"#"},{"entry":"# Update The Global Data Hashes"},{"entry":"#"},{"entry":"$SavedifInOctets {$pollkey} = $NewifInOctets;"},{"entry":"$SavedifOutOctets {$pollkey} = $NewifOutOctets;"},{"entry":"$SavedTimestamp {$pollkey} = $NewTimestamp;"},{"entry":"#"},{"entry":"#"},{"entry":"#"},{"entry":"#"},{"entry":"# Subroutine - Builds Deltas For Use By Main Handler"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["#","Script. Inputs timestamps in form of"]},{"entry":["#","\u2018YYYY-MM-DD hh:mm:ss\u2019 and returns"]},{"entry":["#","delta in form of seconds elapsed."]},{"entry":"#"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"sub SubtractTime {"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# Declare Local Variables"]},{"entry":[{},"my $date1,$date2,$year1,$year2,$months1;"]},{"entry":[{},"my $months2;"]},{"entry":[{},"my $days1,$days2,$time1,$time2,$hours1;"]},{"entry":[{},"my $hours2,$mins1,$mins2,$secs1,$secs2;"]},{"entry":[{},"my $result1,$result2,$DifferenceInSeconds;"]},{"entry":[{},"# assuming YYYY-MM-DD hh:mm:ss format"]},{"entry":[{},"# (24hr representation)"]},{"entry":[{},"# Convert Date\/Time To Seconds"]},{"entry":[{},"($date1,$time1) = split(\u201c\u2009\u201d,$[0]);"]},{"entry":[{},"($year1,$months1,$days1) = split(\u201c\u2212\u201d,$date1);"]},{"entry":[{},"($hours1,$mins1,$secs1) = split(\u201c:\u201d,$time1);"]},{"entry":[{},"$result1 ="]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"$year1*31104000+$months1*2592000+$days1*86400+$hours1*3600+"},{"entry":"$mi ns1*60+$secs1;"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# assuming YYYY-MM-DD hh:mm:ss format"]},{"entry":[{},"# (24hr representation)"]},{"entry":[{},"# Convert Date\/Time To Seconds"]},{"entry":[{},"($date2,$time2) = split(\u201c\u2009\u201d,$[1]);"]},{"entry":[{},"($year2,$months2,$days2) = split(\u201c\u2212\u201d,$date2);"]},{"entry":[{},"($hours2,$mins2,$secs2) = split(\u201c:\u201d,$time2);"]},{"entry":[{},"$result2 ="]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"$year2*31104000+$months2*2592000+$days2*86400+$hours2*3600+"},{"entry":"$mi"},{"entry":"ns2*60+$secs2;"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# Get Delta"]},{"entry":[{},"$DifferenceInSeconds = $result2 \u2212 $result1;"]},{"entry":[{},"return($DifferenceInSeconds);"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"#"},{"entry":"# Subroutine: SANodeMonitorBuildTrap"},{"entry":"# Overview: Trap VarBind Builder"},{"entry":"#"},{"entry":"#"},{"entry":"#"},{"entry":"# Configuration"},{"entry":"#"},{"entry":"# Declare Local Variables"},{"entry":"#"},{"entry":"my $sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst;"},{"entry":"($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst) = localtime"},{"entry":"(time);"},{"entry":"my $Timestamp,$Node;"},{"entry":"# Assign Values To Variables"},{"entry":"#"},{"entry":"$Node = $A;"},{"entry":"$year = 1900 + $year;"},{"entry":"$Timestamp = \u201c$year-$mon-$mday $hour:$min:$sec\u201d;"},{"entry":"# Build The Trap VarBind"},{"entry":"#"},{"entry":"$SANodeMonitorvarBind{$Node} ="},{"entry":"\u201cAlarm|3000000|$Timestamp|$Node\u201d;"},{"entry":"#"},{"entry":"#"},{"entry":"# Subroutine: SANodeMonitorNotifyHPOV"},{"entry":"# Overview: Fires \u2018Alarm\u2019 trap into HP OpenView for"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["#","processing using the PERL \u2018system\u2019"]},{"entry":["#","function and the ECM \u2018trapgen\u2019"]},{"entry":["#","command."]},{"entry":"#"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"#"},{"entry":"#"},{"entry":"# Configuration Of Variables"},{"entry":"#"},{"entry":"# Instantiate Local Variables"},{"entry":"# - Make the variables (\u201cmy\u201d) local to keep them out of"},{"entry":"#\u2009\u2009the global name space. Single step alarm, so no"},{"entry":"#\u2009\u2009need for global variables."},{"entry":"#"},{"entry":"my $EpochTime=0;"},{"entry":"my @DaysPerMonth = (31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31);"},{"entry":"my $year,$mon,$day,$hour,$min,$sec;"},{"entry":"my $TZAdjust,$DSTAdjust;"},{"entry":"my $ShowDebug,$NumLeapYears,$SecondsThisInterval;"},{"entry":"my"},{"entry":"$SnmpTrapTimestamp,$SnmpTrapNode,"},{"entry":"$SACorrEntNotifyOvTrapString"},{"entry":";"},{"entry":"# Initialize Date\/Time Variables"},{"entry":"# - 2d line turns year into 4-digit year (i.e. 19xx)"},{"entry":"#\u2009\u2009as localtime function returns year-1900. Timestamp"},{"entry":"#\u2009\u2009design is standard for phase 2 development."},{"entry":"#"},{"entry":"$year = ((localtime( ))[5]);"},{"entry":"$mon = ((localtime( ))[4]);"},{"entry":"$day = ((localtime( ))[3]);"},{"entry":"$hour = ((localtime( ))[2]);"},{"entry":"$min = ((localtime( ))[1]);"},{"entry":"$sec = ((localtime( ))[0]);"},{"entry":"# Determine number of seconds for years"},{"entry":"if ($year < 200) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# year is in two digit form"]},{"entry":[{},"if ($year < 90) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# year is presumably in the 21st century"]},{"entry":[{},"$year += 2000;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"} else {"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# year is presumably in the 20th century"]},{"entry":[{},"$year += 1900;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Do not return negatives \u2212 and if 2100 or later, add to leap year calcs"},{"entry":"if ($year < 1970 || $year >= 2100) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"return 0;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"$year \u2212= 1970;"},{"entry":"$SecondsThisInterval = $year * 365 * 24 * 60 * 60;"},{"entry":"# leap year calculations"},{"entry":"$NumLeapYears = int(($year+2)\/4);"},{"entry":"if (($year+2) % 4 \u2550 0) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# this is a leap year (assuming 1970\u20132099)"]},{"entry":[{},"# check if we have hit feb 29 yet:"]},{"entry":[{},"# recall, mon is 0-based"]},{"entry":[{},"if ($mon <= 1) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# we need to subtract a year, as this is jan"]},{"entry":[{},"$NumLeapYears--;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"$SecondsThisInterval +=$NumLeapYears * 24 * 60 * 60;"},{"entry":"$EpochTime += $SecondsThisInterval;"},{"entry":"# Determine number of seconds for months so far"},{"entry":"while($mon--) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$EpochTime += $DaysPerMonth[$mon] * 24 * 60 * 60;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Determine number of seconds for days so far"},{"entry":"$EpochTime += ($day \u2212 1) * 24 * 60 * 60;"},{"entry":"# Determine number of seconds for hours so far"},{"entry":"$EpochTime += $hour * 60 * 60;"},{"entry":"# Determine number of seconds for minutes so far"},{"entry":"$EpochTime += $min * 60;"},{"entry":"# Determine number of seconds for seconds so far"},{"entry":"$EpochTime += $sec;"},{"entry":"# Adjust for time zone (which should be of the form \u221212:00 .. 12:00)"},{"entry":"# THIS SHOULD USE ACTUAL TIME ZONE CODES"},{"entry":"$TZAdjust = \u201c5:00\u201d;"},{"entry":"if ($TZAdjust =~ \/{circumflex over (\u2009)}(\u2212?)(\\d):(\\d*)$\/) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# Time Zone adjustment needs to subtract"]},{"entry":[{},"if ($1) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$EpochTime \u2212= ($2 * 60 * 60) + ($3 * 60);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"} else {"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$EpochTime += ($2 * 60 * 60) + ($3 * 60);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Adjust for day light savings time"},{"entry":"# Fire The Trap Into HP OpenView"},{"entry":"#"},{"entry":"# The 6th value on the trapgen string (right next to"},{"entry":"# the generic trap number (6)) is the specific trap"},{"entry":"# number. This has to be associated with some event"},{"entry":"# configured in HP OpenView. (i.e. 6 3 105 - The \u20183\u2019"},{"entry":"# is the specific trap ID)"},{"entry":"#"},{"entry":"system(\u201c\/opt\/seasoft\/bin\/trapgen nsmmws16 1.3.6.1.4.1.78 $A 6 3 105"},{"entry":"1.3.6.1.4.1.78.0.3 octetstringascii 3000000 1.3.6.1.4.1.78.0.3"},{"entry":"octetstringascii"},{"entry":"$EpochTime 1.3.6.1.4.1.78.0.3 octetstringascii 5\u201d);"},{"entry":"#"},{"entry":"#"},{"entry":"# Subroutine: SANodeMonitorRecoverHPOV"},{"entry":"# Overview: Fires \u2018Recover\u2019 trap into HP OpenView for"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["#","processing using the PERL \u2018system\u2019"]},{"entry":["#","function and the ECM \u2018trapgen\u2019"]},{"entry":["#","command."]},{"entry":"#"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"#"},{"entry":"# Variable Declarations"},{"entry":"#"},{"entry":"#"},{"entry":"# Configuration Of Variables"},{"entry":"#"},{"entry":"# Instantiate Local Variables"},{"entry":"# - Make the variables (\u201cmy\u201d) local to keep them out of"},{"entry":"#\u2009\u2009the global name space. Single step alarm, so no"},{"entry":"#\u2009\u2009need for global variables."},{"entry":"#"},{"entry":"my $EpochTime=0;"},{"entry":"my @DaysPerMonth = (31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31);"},{"entry":"my $year,$mon,$day,$hour,$min,$sec;"},{"entry":"my $TZAdjust,$DSTAdjust;"},{"entry":"my $ShowDebug,$NumLeapYears,$SecondsThisInterval;"},{"entry":"my"},{"entry":"$SnmpTrapTimestamp,$SnmpTrapNode,"},{"entry":"$SACorrEntNotifyOvTrapString"},{"entry":";"},{"entry":"# Initialize Date\/Time Variables"},{"entry":"# - 2d line turns year into 4-digit year (i.e. 19xx)"},{"entry":"#\u2009\u2009as localtime function returns year-1900. Timestamp"},{"entry":"#\u2009\u2009design is standard for phase 2 development."},{"entry":"#"},{"entry":"$year = ((localtime( ))[5]);"},{"entry":"$mon = ((localtime( ))[4]);"},{"entry":"$day = ((localtime( ))[3]);"},{"entry":"$hour = ((localtime( ))[2]);"},{"entry":"$min = ((localtime( ))[1]);"},{"entry":"$sec = ((localtime( ))[0]);"},{"entry":"# Determine number of seconds for years"},{"entry":"if ($year < 200) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# year is in two digit form"]},{"entry":[{},"if ($year < 90) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# year is presumably in the 21st century"]},{"entry":[{},"$year += 2000;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"} else {"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# year is presumably in the 20th century"]},{"entry":[{},"$year += 1900;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Do not return negatives \u2212 and if 2100 or later, add to leap year calcs"},{"entry":"if ($year < 1970 || $year >= 2100) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"return 0;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"$year \u2212= 1970;"},{"entry":"$SecondsThisInterval = $year * 365 * 24 * 60 * 60;"},{"entry":"# leap year calculations"},{"entry":"$NumLeapYears = int(($year+2)\/4);"},{"entry":"if (($year+2) % 4 \u2550 0) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# this is a leap year (assuming 1970\u20132099)"]},{"entry":[{},"# check if we have hit feb 29 yet:"]},{"entry":[{},"# recall, mon is 0-based"]},{"entry":[{},"if ($mon <= 1) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# we need to subtract a year, as this is jan"]},{"entry":[{},"$NumLeapYears--;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"$SecondsThisInterval += $NumLeapYears * 24 * 60 * 60;"},{"entry":"$EpochTime += $SecondsThisInterval;"},{"entry":"# Determine number of seconds for months so far"},{"entry":"while($mon--) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$EpochTime += $DaysPerMonth[$mon] * 24 * 60 * 60;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Determine number of seconds for days so far"},{"entry":"$EpochTime += ($day \u2212 1) * 24 * 60 * 60;"},{"entry":"# Determine number of seconds for hours so far"},{"entry":"$EpochTime += $hour * 60 * 60;"},{"entry":"# Determine number of seconds for minutes so far"},{"entry":"$EpochTime += $min * 60;"},{"entry":"# Determine number of seconds for seconds so far"},{"entry":"$EpochTime += $sec;"},{"entry":"# Adjust for time zone (which should be of the form \u221212:00 .. 12:00)"},{"entry":"# THIS SHOULD USE ACTUAL TIME ZONE CODES"},{"entry":"$TZAdjust = \u201c5:00\u201d;"},{"entry":"if ($TZAdjust =~ \/{circumflex over (\u2009)}(\u2212?)(\\d):(\\d*)$\/) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# Time Zone adjustment needs to subtract"]},{"entry":[{},"if ($1) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$EpochTime \u2212= ($2 * 60 * 60) + ($3 * 60);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"} else {"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$EpochTime += ($2 * 60 * 60) + ($3 * 60);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Adjust for day light savings time"},{"entry":"# Fire The Trap Into HP OpenView"},{"entry":"#"},{"entry":"# The 6th value on the trapgen string (right next to"},{"entry":"# the generic trap number (6)) is the specific trap"},{"entry":"# number. This has to be associated with some event"},{"entry":"# configured in HP OpenView. (i.e. 6 3 105 - The \u20183\u2019"},{"entry":"# is the specific trap ID)"},{"entry":"#"},{"entry":"system(\u201c\/opt\/bin\/trapgen nsmmws16 1.3.6.1.4.1.78 nsmmws09 6 4 105"},{"entry":"1.3.6.1.4.1.78.0.4 octetstringascii 3000001 1.3.6.1.4.1.78.0.4"},{"entry":"octetstringascii"},{"entry":"$EpochTime 1.3.6.1.4.1.78.0.4 octetstringascii 1\u201d);"},{"entry":"#"},{"entry":"#"},{"entry":"# Subroutine: SAParametersTestScript"},{"entry":"# Overview: Simple test script to show variable"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["#","values in an ECM environment"]},{"entry":"#"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"#"},{"entry":"open (LOG1,\u201c>\/opt\/userfiles\/logs\/testTmp\u201d);"},{"entry":"print LOG1 \u201cnodeName = $nodeName\\n\u201d;"},{"entry":"print LOG1 \u201ccommunity string of the transition = $COM\\n\u201d;"},{"entry":"print LOG1 \u201cproperty group of the transition's node = $NPG\\n\u201d;"},{"entry":"print LOG1 \u201caddress of the transition's node = $trapPduAgentAddress\\n\u201d;"},{"entry":"print LOG1 \u201cNAL = $NAL\\n\u201d;"},{"entry":"print LOG1 \u201cproperty listed in the alarm definition's property field ="},{"entry":"$APG\\n\u201d;"},{"entry":"print LOG1 \u201cAlarm definition name = $ADN\\n\u201d;"},{"entry":"print LOG1 \u201cState name where transition begins \u2212 the origination state ="},{"entry":"$OSN\\n\u201d;"},{"entry":"print LOG1 \u201cNC severity of the origination state = $OSS\\n\u201d;"},{"entry":"print LOG1 \u201cState name where transition ends \u2212 the dest state = $DSN\\n\u201d;"},{"entry":"print LOG1 \u201cNC severity of the dest state = $DSS\\n\u201d;"},{"entry":"print LOG1 \u201cPlatform sev name for the orig. state = $POSS\\n\u201d;"},{"entry":"print LOG1 \u201cPlatform sev name for the dest. state = $PDSS\\n\u201d;"},{"entry":"print LOG1 \u201cMax NC sev of the orig. state = $MOSS\\n\u201d;"},{"entry":"print LOG1 \u201cMax NC sev of the dest. state = $MDSS\\n\u201d;"},{"entry":"print LOG1 \u201cMax platform sev name for the orig. state = $MPOSS\\n\u201d;"},{"entry":"print LOG1 \u201cMax platform sev name for the dest. state = $MPDSS\\n\u201d;"},{"entry":"print LOG1 \u201cTrigger name = $TRN\\n\u201d;"},{"entry":"print LOG1 \u201cThe trigger's base obj. = $ON\\n\u201d;"},{"entry":"print LOG1 \u201cInstance info of the base obj = $OI\\n\u201d;"},{"entry":"print LOG1 \u201cpollkey = $pollkey\\n\u201d;"},{"entry":"print LOG1 \u201cTrap generic = $TGN\\n\u201d;"},{"entry":"print LOG1 \u201cTrap specific = $TSN\\n\u201d;"},{"entry":"print LOG1 \u201cTrap enterprise = $TEN\\n\u201d;"},{"entry":"print LOG1 \u201cTrap timestamp = $TTN\\n\u201d;"},{"entry":"print LOG1 \u201cTrap community = $TCS\\n\u201d;"},{"entry":"print LOG1 \u201cVbObject = $VbObject(0)\\n\u201d;"},{"entry":"print LOG1 \u201cVbAttrib = $VbAttribute(0)\\n\u201d;"},{"entry":"print LOG1 \u201cVbValue = $VbValue(0)\\n\u201d;"},{"entry":"close LOG1;"},{"entry":"#"},{"entry":"# Subroutine: SASnmpStatusNotifyHPOV"},{"entry":"# Overview: Fires alarm trap notifying the"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["#","NMS that the enterprise alarm is"]},{"entry":["#","instantiated."]},{"entry":"#"},{"entry":["#","Fires \u2018Alarm\u2019 trap into HP OpenView for"]},{"entry":["#","processing using the PERL \u2018system\u2019"]},{"entry":["#","function and the ECM \u2018trapgen\u2019"]},{"entry":["#","command."]},{"entry":"#"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"#"},{"entry":"#"},{"entry":"# Configuration Of Variables"},{"entry":"#"},{"entry":"# Instantiate Local Variables"},{"entry":"# - Make the variables (\u201cmy\u201d) local to keep them out of"},{"entry":"#\u2009\u2009the global name space. Single step alarm, so no"},{"entry":"#\u2009\u2009need for global variables."},{"entry":"#"},{"entry":"my $EpochTime=0;"},{"entry":"my @DaysPerMonth = (31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31);"},{"entry":"my $year,$mon,$day,$hour,$min,$sec;"},{"entry":"my $TZAdjust,$DSTAdjust;"},{"entry":"my $ShowDebug,$NumLeapYears,$SecondsThisInterval;"},{"entry":"my"},{"entry":"$SnmpTrapTimestamp,$SnmpTrapNode,"},{"entry":"$SACorrEntNotifyOvTrapString"},{"entry":";"},{"entry":"# Initialize Date\/Time Variables"},{"entry":"# - 2d line turns year into 4-digit year (i.e. 19xx)"},{"entry":"#\u2009\u2009as localtime function returns year-1900. Timestamp"},{"entry":"#\u2009\u2009design is standard for phase 2 development."},{"entry":"#"},{"entry":"$year = ((localtime( ))[5]);"},{"entry":"$mon = ((localtime( ))[4]);"},{"entry":"$day = ((localtime( ))[3]);"},{"entry":"$hour = ((localtime( ))[2]);"},{"entry":"$min = ((localtime( ))[1]);"},{"entry":"$sec = ((localtime( ))[0]);"},{"entry":"# Determine number of seconds for years"},{"entry":"if ($year < 200) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# year is in two digit form"]},{"entry":[{},"if ($year < 90) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# year is presumably in the 21st century"]},{"entry":[{},"$year += 2000;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"} else {"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# year is presumably in the 20th century"]},{"entry":[{},"$year += 1900;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Do not return negatives \u2212 and if 2100 or later, add to leap year calcs"},{"entry":"if ($year < 1970 || $year >= 2100) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"return 0;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"$year \u2212= 1970;"},{"entry":"$SecondsThisInterval = $year * 365 * 24 * 60 * 60;"},{"entry":"# leap year calculations"},{"entry":"$NumLeapYears = int(($year+2)\/4);"},{"entry":"if (($year+2) % 4 \u2550 0) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# this is a leap year (assuming 1970\u20132099)"]},{"entry":[{},"# check if we have hit feb 29 yet:"]},{"entry":[{},"# recall, mon is 0-based"]},{"entry":[{},"if ($mon <= 1) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# we need to subtract a year, as this is jan"]},{"entry":[{},"$NumLeapYears--;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"$SecondsThisInterval += $NumLeapYears * 24 * 60 * 60;"},{"entry":"$EpochTime += $SecondsThisInterval;"},{"entry":"# Determine number of seconds for months so far"},{"entry":"while($mon--) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$EpochTime += $DaysPerMonth[$mon] * 24 * 60 * 60;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Determine number of seconds for days so far"},{"entry":"$EpochTime += ($day \u2212 1) * 24 * 60 * 60;"},{"entry":"# Determine number of seconds for hours so far"},{"entry":"$EpochTime += $hour * 60 * 60;"},{"entry":"# Determine number of seconds for minutes so far"},{"entry":"$EpochTime += $min * 60;"},{"entry":"# Determine number of seconds for seconds so far"},{"entry":"$EpochTime += $sec;"},{"entry":"# Adjust for time zone (which should be of the form \u221212:00 .. 12:00)"},{"entry":"# THIS SHOULD USE ACTUAL TIME ZONE CODES"},{"entry":"$TZAdjust = \u201c5:00\u201d;"},{"entry":"if ($TZAdjust =~ \/{circumflex over (\u2009)}(\u2212?)(\\d):(\\d*)$\/) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# Time Zone adjustment needs to subtract"]},{"entry":[{},"if ($1) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$EpochTime \u2212= ($2 * 60 * 60) + ($3 * 60);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"} else {"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$EpochTime += ($2 * 60 * 60) + ($3 * 60);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Adjust for day light savings time"},{"entry":"# Fire The Trap Into HP OpenView"},{"entry":"#"},{"entry":"# The 6th value on the trapgen string (right next to"},{"entry":"# the generic trap number (6)) is the specific trap"},{"entry":"# number. This has to be associated with some event"},{"entry":"# configured in HP OpenView. (i.e. 6 3 105 - The \u20183\u2019"},{"entry":"# is the specific trap ID)"},{"entry":"#"},{"entry":"system(\u201c\/opt\/seasoft\/bin\/trapgen nsmmws16 1.3.6.1.4.1.78 $A 6 3 105"},{"entry":"1.3.6.1.4.1.78.0.3 octetstringascii 1001014 1.3.6.1.4.1.78.0.3"},{"entry":"octetstringascii"},{"entry":"$EpochTime 1.3.6.1.4.1.78.0.3 octetstringascii 5\u201d);"},{"entry":"#"},{"entry":"# Subroutine: SASnmpStatusRecoverHPOV"},{"entry":"# Overview: Fires recovery trap notifying the"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["#","NMS that the enterprise alarm is"]},{"entry":["#","recovered."]},{"entry":"#"},{"entry":["#","Fires \u2018Alarm\u2019 trap into HP OpenView for"]},{"entry":["#","processing using the PERL \u2018system\u2019"]},{"entry":["#","function and the ECM \u2018trapgen\u2019"]},{"entry":["#","command."]},{"entry":"#"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"#"},{"entry":"#"},{"entry":"# Configuration Of Variables"},{"entry":"#"},{"entry":"# Instantiate Local Variables"},{"entry":"# - Make the variables (\u201cmy\u201d) local to keep them out of"},{"entry":"#\u2009\u2009the global name space. Single step alarm, so no"},{"entry":"#\u2009\u2009need for global variables."},{"entry":"#"},{"entry":"my $EpochTime=0;"},{"entry":"my @DaysPerMonth = (31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31);"},{"entry":"my $year,$mon,$day,$hour,$min,$sec;"},{"entry":"my $TZAdjust,$DSTAdjust;"},{"entry":"my $ShowDebug,$NumLeapYears,$SecondsThisInterval;"},{"entry":"my"},{"entry":"$SnmpTrapTimestamp,$SnmpTrapNode,$SACorrEnt"},{"entry":"NotifyOvTrapString"},{"entry":";"},{"entry":"# Initialize Date\/Time Variables"},{"entry":"# - 2d line turns year into 4-digit year (i.e. 19xx)"},{"entry":"#\u2009\u2009as localtime function returns year-1900. Timestamp"},{"entry":"#\u2009\u2009design is standard for phase 2 development."},{"entry":"#"},{"entry":"$year = ((localtime( ))[5]);"},{"entry":"$mon = ((localtime( ))[4]);"},{"entry":"$day = ((localtime( ))[3]);"},{"entry":"$hour = ((localtime( ))[2]);"},{"entry":"$min = ((localtime( ))[1]);"},{"entry":"$sec = ((localtime( ))[0]);"},{"entry":"# Determine number of seconds for years"},{"entry":"if ($year < 200) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# year is in two digit form"]},{"entry":[{},"if ($year < 90) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# year is presumably in the 21st century"]},{"entry":[{},"$year += 2000;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"} else {"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# year is presumably in the 20th century"]},{"entry":[{},"$year += 1900;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Do not return negatives \u2212 and if 2100 or later, add to leap year calcs"},{"entry":"if ($year < 1970 || $year > 2100) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"return 0;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"$year \u2212= 1970;"},{"entry":"$SecondsThisInterval = $year * 365 * 24 * 60 * 60;"},{"entry":"# leap year calculations"},{"entry":"$NumLeapYears = int(($year+2)\/4);"},{"entry":"if (($year+2) % 4 \u2550 0) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# this is a leap year (assuming 1970\u20132099)"]},{"entry":[{},"# check if we have hit feb 29 yet:"]},{"entry":[{},"# recall, mon is 0-based"]},{"entry":[{},"if ($mon <= 1) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# we need to subtract a year, as this is jan"]},{"entry":[{},"$NumLeapYears--;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"$SecondsThisInterval += $NumLeapYears * 24 * 60 * 60;"},{"entry":"$EpochTime += $SecondsThisInterval;"},{"entry":"# Determine number of seconds for months so far"},{"entry":"while($mon--) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$EpochTime += $DaysPerMonth[$mon] * 24 * 60 * 60;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Determine number of seconds for days so far"},{"entry":"$EpochTime += ($day \u2212 1) * 24 * 60 * 60;"},{"entry":"# Determine number of seconds for hours so far"},{"entry":"$EpochTime += $hour * 60 * 60;"},{"entry":"# Determine number of seconds for minutes so far"},{"entry":"$EpochTime += $min * 60;"},{"entry":"# Determine number of seconds for seconds so far"},{"entry":"$EpochTime += $sec;"},{"entry":"# Adjust for time zone (which should be of the form \u221212:00 .. 12:00)"},{"entry":"# THIS SHOULD USE ACTUAL TIME ZONE CODES"},{"entry":"$TZAdjust = \u201c5:00\u201d;"},{"entry":"if ($TZAdjust =~ \/{circumflex over (\u2009)}(\u2212?)(\\d):(\\d*)$\/) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"# Time Zone adjustment needs to subtract"]},{"entry":[{},"if ($1) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$EpochTime \u2212= ($2 * 60 * 60) + ($3 * 60);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"} else {"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$EpochTime += ($2 * 60 * 60) + ($3 * 60);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"# Adjust for day light savings time"},{"entry":"# Fire The Trap Into HP OpenView"},{"entry":"#"},{"entry":"# The 6th value on the trapgen string (right next to"},{"entry":"# the generic trap number (6)) is the specific trap"},{"entry":"# number. This has to be associated with some event"},{"entry":"# configured in HP OpenView. (i.e. 6 3 105 - The \u20183\u2019"},{"entry":"# is the specific trap ID)"},{"entry":"#"},{"entry":"system(\u201c\/opt\/bin\/trapgen nsmmws16 1.3.6.1.4.1.78 $A 6 4 105"},{"entry":"1.3.6.1.4.1.78.0.4 octetstringascii 1001015 1.3.6.1.4.1.78.0.4"},{"entry":"octetstringascii"},{"entry":"$EpochTime 1.3.6.1.4.1.78.0.4 octetstringascii 1\u201d);"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}},"br":{}},"This section provides information regarding Collector Process Control.","Collector Process Control is used to start and stop Collector components and monitor their execution. It allows for a single point of control for the components of the system. The process control system contains the following elements:\n\n","The process control agents cooperate automatically and have memory for their configuration.","Configuration","All configuration for Collector Process Control is done in NCOPA.conf. This file is referenced at start-up time to establish configuration information. The file is made up of a number of records each of which contain various attributes and associated val ues. One should edit this file directly to add any new processes or modify configuration information. There are three sections to the NCOPA.conf file:","Processes:\n\n",{"@attributes":{"id":"p-0693","num":"1991"},"tables":{"@attributes":{"id":"TABLE-US-00044","num":"00044"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"ncoprocess \u2018MasterObjectServer\u2019"]},{"entry":[{},"{"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Command \u2018\/opt\/ECM\/bin\/ncoobjserv -name NCOMS -pa"]},{"entry":[{},"NCOPA\u2019 run as 0"]},{"entry":[{},"Host\u2003\u2003\u2002=\u2003\u2003\u2018twmmdb02\u2019"]},{"entry":[{},"Managed\u2003=\u2003\u2003True"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"RestartMsg =\u2003\u2003\u2018Master Object Server running as $ {EUID}"]},{"entry":[{},"has been restored on"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"$ {HOST}.\u2019"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"AlertMsg=\u2003\u2003\u2018Master Object Server running as $ {EUID} has"]},{"entry":[{},"died on $ {HOST}.\u2019"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"RetryCount = 0 ProcessType ="]},{"entry":[{},"PaPAAWARE"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"}"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}},"br":{},"ul":{"@attributes":{"id":"ul0288","list-style":"none"},"li":{"@attributes":{"id":"ul0288-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0289","list-style":"none"},"li":["A service is made up of several processes, which are executed by process control agents.","A service may be configured to start up automatically when the process control agent starts or to wait until the service is started manually.","There are two grades of service: master and non-master. These grades are used when services are automatically started.","A master service will have its processes started before a non-master service.","Service definitions have the following format:"]}}}},{"@attributes":{"id":"p-0694","num":"1997"},"tables":{"@attributes":{"id":"TABLE-US-00045","num":"00045"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"154pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"ncoservice \u2018Core\u2019"]},{"entry":[{},"{"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"112pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"105pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"ServiceType\u2003=\u2003\u2003Master"]},{"entry":[{},"ServiceStart\u2003=\u2003\u2003Auto"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"91pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"process \u2018MasterObjectServer\u2019 NONE"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"154pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Agent Hosts:"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"168pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Used to specify the available hosts to contact"]},{"entry":[{},"Host definitions have the following format:"]},{"entry":[{},"ncorouting"]},{"entry":[{},"{"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"105pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"host \u2018twmmdb02\u2019 \u2018NCOPA\u2019"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"168pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"}"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}},"br":[{},{}],"sub":"\u2014"},"The NCOPAD command is used to begin COllector Process Control. In order to start process control the following comand should be entered:\n\n","This command begins the process agent named NCOPA with a debug option of 1. Error and debug information is listed in the ncopa.log file located in the \/opt\/Collector\/log directory.","Collector Gateway","Description of Use","The Collector Gateway is used to integrate the Collector system with databases. The gateway is made up of three items: readers, writers and routes. The readers extract alerts from the object server, while the writer is used to forward the alerts to the database. Routes create the link between the readers and writers.","Configuration","The configuration information for the Collector Gateway is stored in the COLLECTORGATE.cortf file in the \/opt\/Collector\/etc directory. In this file, mappings are created. The mappings tell the gateway which fields from the Object Server table should be placed in the database and with what name. It is important to make sure that the number of items detailed in the mapping configuration equals the number and name of fields setup in the database. This file also contains configuration information for the readers, writers and routes. Below is an example Gateway configuration file:",{"@attributes":{"id":"p-0699","num":"2003"},"tables":{"@attributes":{"id":"TABLE-US-00046","num":"00046"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"CREATE MAPPING COLLECTORMAP"},{"entry":"("}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u2018ELEMNTKEYCD\u2019 =\u2018@DatabaseElementKey\u2019,"]},{"entry":[{},"\u2018EVENTKEYCD\u2019 =\u2018@EventCode\u2019,"]},{"entry":[{},"\u2018PERFTIMEKEYCD\u2019=\u2018@LastOccurrence\u2019,"]},{"entry":[{},"\u2018EVENTDURATIONVALUE\u2019=\u2018@Duration\u2019,"]},{"entry":[{},"\u2018EVENTSTRINGTXT\u2019=\u2018@Summary\u2019,"]},{"entry":[{},"\u2018EVENTSVRTYCD\u2019 =\u2018@OriginalSeverit\u2019"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":");"},{"entry":"# Start up the reader - connect to the Object Server NCOMS"},{"entry":"CREATE FILTER LOG AS \u2018LoggedToDatabase = 0\u2019;"},{"entry":"START READER COLLECTORREAD CONNECT TO NCOMS"},{"entry":"USING FILTER LOG"},{"entry":"ORDER BY \u2018Serial asc\u2019 AFTER IDUC DO \u2018update alerts.status set"},{"entry":"LoggedToDatabase=1\u2019;"},{"entry":"# Start up the writer"},{"entry":"#"},{"entry":"START WRITER COLLECTORWRITE"},{"entry":"("}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"TYPE = COLLECTOR,"]},{"entry":[{},"REVISION = 1,"]},{"entry":[{},"MAP = COLLECTORMAP,"]},{"entry":[{},"USERNAME = \u2018Collector\u2019,"]},{"entry":[{},"PASSWORD = \u2018Collector\u2019,"]},{"entry":[{},"STATUSTABLE = \u2018EVENTSFACTTB\u2019,"]},{"entry":[{},"FORWARDINSERTS = TRUE,"]},{"entry":[{},"FORWARDUPDATES = TRUE,"]},{"entry":[{},"FORWARDDELETES = TRUE"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":");"},{"entry":"# Add a route from the reader to the writer so the info gets passed"},{"entry":"ADD ROUTE FROM"},{"entry":"COLLECTORREAD TO COLLECTORWRITE;"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}},"br":[{},{}],"sub":"\u2014"},"The NCOGATE command is used to startup the Collector gateway. The syntax of the command is as follows:\n\n","The debug option sends debug and error information to the file opt\/ECM\/log\/COLLECTORGATE.log.","NCOXIGEN","The NCOXIGEN command is used to access the Servers Editor window to edit port and name configuration of the Collector Gateway. The command syntax is as follows:\n\n","You will need to add the Collector Gateway to the Servers Editor window with its own port number in order for the gateway to communicate with the Object Server as well as the Databases.","Environment Variables","In order for the gateway to open and communicate with databases, environment variables must be set before starting the gateway. In order to do this, a wrapper script was created around the ncogate command in order to set the environment variables as well as start the gateway. The wrapper script is located in the directory \/opt\/Collector\/bin. When run from the command line the script sets the needed variables and starts the Collector gateway. The environment variables set within the script are as follows:",{"@attributes":{"id":"p-0705","num":"2011"},"tables":{"@attributes":{"id":"TABLE-US-00047","num":"00047"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"COLLECTORSID=IPSA01"},{"entry":"COLLECTORHOME=\/files0\/ipsa\/vendor\/Collector\/product\/7.3.4"},{"entry":"COLLECTORBASE=\/files0\/ipsa\/vendor\/Collector"},{"entry":"LDLIBRARYPATH=\/files0\/ipsa\/vendor\/Collector\/product\/7.3.4\/lib"},{"entry":"TNSADMIN=\/files0\/ipsa\/vendor\/Collector\/product\/7.3.4\/network\/admin"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"br":{}},"This section will discuss the Service Assurance test environment specific details of the Collector Internet Service Monitors (ISM's) and requirements for a remote installation.","Internet Service Monitors Remote Installation","Location of the Collector ISM's","The remote installation of the ISM's in on nsmmws09. The ISM's are installed in the \/opt\/Collector directory.","Prerequisites for a remote installation of the ISM's","In order to create all of the required directories and shared libraries for the ISM's an installation of Collector must proceed the ISM's installation on the same remote host.","Probes and Process Control should be the only two components selected for the Collector installation on the remote host.","Even if the use of Probes is not required on the remote host, selecting Probes will create the directories required by components that allow the ISM's to run properly (Collector\/etc and Collector\/var directories and required API libraries).","The Collector\/etc directory is where the interfaces file (discussed bellow) will be placed. The Collector\/var directory is where all event data is kept while any Monitors are in Store and Forward mode (when the ObjectServer is off-line).","Process Control will insure that the Monitors are restarted in the event they unexpectedly go down.","Remote Communication Between the ISM's and Collector (Objectserver)","The Collector installation comes with a file (\/opt\/Collector\/etc) that generates interfaces.platform files, where platform is the OS of the machine remote Collector components (software) will be installed on. The interfaces.platform files contain information on where to look for the license server as well as how and were to communicate with the Collector ObjectServer.","The interfaces platform file should be placed in the ECM\/etc directory of the remote installation for use by remote components.","Internet Service Monitoring Configuration","Extended Use of the On-Line Configuration Tool","The on-line configuration tool, if run from a web server, requires the startjava.sh script (\/opt\/Collector\/monitors\/config) to be running. This script has a timeout line, which by default is set to ten minutes (in seconds). If the on-line configuration tool is idle for more than ten minutes, a server error will be generated the next time the tool is requested. Running the script from the command line is required before using the tool again. For a work around, the timeout value has been set to 3600 seconds (one hour) to increase the time the configuration tool can be accessed.","Store and Forward Function","Store and forward is a function that allows monitors and probes to record all event messages to an ObjectServer.store file while the Objectserver is down. This file will be located in the Collector\/var directory.","The store and forward function is set to 0 (off) by default with the ISM's. The store and forward function has been turned on for the ISM's installed on nsmmws09 by using VI to set store and forward to 1 (on). This is done in the monitor.props files (\/opt\/Collector\/monitors\/solaris2).","HTTP Service","The Web Servers on twmmnt02 (Microsoft IIS) and nsmmws09 (Netscape Fast-Track Server) are being monitored. The polling interval is set at fifteen minutes.","A method of sending intentional \u201cServer down\u201d events to Collector is to stop the Fast-Track Server on nsmmws09. This can be done by running the start-admin script in the \/opt\/netscape\/suitespot directory. Then open a Netscape browser and enter http:\/\/nsmmws09:26339 (username: webadmin password: same as noc) which opens the on-line, Fast-Track Server administration page. This page contains an on\/off switch for the server.","FTP Service (file transfer protocol)","FTP service will be tested on nsmmws16. The service is downloading a 3 mb file from nsmmws16 (\/sa\/dev\/dat\/tmp\/ismtestdata) to nsmmws09 (\/opt\/Collector\/ftptestfile)","NNTP Service (network news transport protocol)","Comp.protocols.snmp has been used as the news group to test. The polling interval is set at fifteen minutes.","SMTP Service (simple mail transport protocol)","The polling interval is set at fifteen minutes.","POP-3 Service (post office protocol)","The polling interval is set at fifteen minutes.","Collector Configuration","Object Server Customizations","The customizations to the object server include alterations to the alerts.status tables, custom triggers, and custom automations.","Table Customizations: alerts.status table","The structure of all the object server tables is defined in the file NCOMS.sql. The following table lists all the additional fields added to the object server table alerts.status:",{"@attributes":{"id":"p-0733","num":"2039"},"tables":{"@attributes":{"id":"TABLE-US-00048","num":"00048"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"112pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 25"},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["Field Name","Data Type","Description"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["EventCode","int","Unique event code"]},{"entry":["Duration","int"]},{"entry":["CheckedNotify","int"]},{"entry":["SustainedAlert","int","0 = No regeneration needed"]},{"entry":[{},{},"1 = This event has been regenerated"]},{"entry":[{},{},"2 = This event needs to be"]},{"entry":[{},{},"regenerated"]},{"entry":["NotifyAction","char(255)"]},{"entry":["NotifyPending","int"]},{"entry":["LoggedToDatabase","int","\u22122 = Do not log this event"]},{"entry":[{},{},"\u22121 = Wait"]},{"entry":[{},{},"0 = This event is ready to be logged"]},{"entry":[{},{},"1 = This event has been logged"]},{"entry":["DatabaseElementKey","int"]},{"entry":["DatabaseTimeKey","int"]},{"entry":["OpenTicket","int","0 = Do not open a ticket for this"]},{"entry":[{},{},"event"]},{"entry":[{},{},"1 = Open a ticket for this event"]},{"entry":["TicketNumber","char(64)","Remedy trouble ticket number"]},{"entry":["OriginalSeverity","int"]},{"entry":["AlertType","int","0 = This event is non-paired"]},{"entry":[{},{},"1 = This event is a paired alert start"]},{"entry":[{},{},"2 = This event is a paired alert stop"]},{"entry":["AlertStopTime","int"]},{"entry":["OriginalOccurrence","Int"]},{"entry":["TimeKeyLogged","Int"]},{"entry":["MidnightTime","Int","Time (in epoch seconds) of the first"]},{"entry":[{},{},"previous midnight"]},{"entry":["RegenMidnightTime","Int"]},{"entry":["RegenIdentifier","char(255)"]},{"entry":["TempInt","Int"]},{"entry":["TempChar","char(64)"]},{"entry":["DebugFieldInt","Int"]},{"entry":["DebugFieldChar","char(64)"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}}},"br":{}},{"@attributes":{"id":"p-0734","num":"2040"},"tables":{"@attributes":{"id":"TABLE-US-00049","num":"00049"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"Event Expiration"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Trigger: DeleteClears"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"delete from alerts.status where Severity = 0 and StateChange < (getdate - 129600);"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Action: None"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"Match alert stops"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Trigger: FindAlertStops"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"select * from alerts.status where AlertType = 2;"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Action: RemoveAlertStops"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"update alerts.status set Severity = 0, AlertStopTime = @FirstOccurrence,"},{"entry":"DebugFieldChar = \\\u2018RemoveAlertStops ran\\\u2019 where Severity < > 0 and AlertType = 1"},{"entry":"and Node = \\\u2018@Node\\\u2019 and EventCode = @EventCode \u2212 1 \u2018,\u2019and LastOccurrence <="},{"entry":"@LastOccurrence; delete from alerts.status where Serial = @Serial;"},{"entry":"Duration Calculation"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Trigger: CalculateDuration"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"select * from alerts.status where AlertType = 1 and Severity = 0 and Duration =\u22121;"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Action: SetDuration"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"update alerts.status set LoggedToDatabase = 0,DebugFieldChar = \\\u2018SetDuration just"},{"entry":"ran\\\u2019,Identifier = \\\u2018@Node.@EventCode.@FirstOccurrence\\\u2019,Duration ="},{"entry":"(@AlertStopTime \u2212 @FirstOccurrence) whereSerial = @Serial;"},{"entry":"Regenerate Events"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Trigger1: FindEventsToRegen1"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"select * from alerts.status whereAlertType = 1 andDuration = 0 andFirstOccurrence"},{"entry":"> getdate \u2212 (hourofday*60*60) \u2212 (minuteofhour*60) \u2212 86400 \u2212 60"},{"entry":"andFirstOccurrence < getdate \u2212 (hourofday*60*60) \u2212 (minuteofhour*60) \u2212 60;"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Action1: ModifyAlertToRegen"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"update alerts.statussetDuration = 86400 \u2212 (@FirstOccurrence \u2212 @MidnightTime),"},{"entry":"AlertStopTime = @MidnightTime + 86400, RegenIdentifier = \\\u2018@Node"},{"entry":"@EventCode @MidnightTime\\\u2019, RegenMidnightTime = @MidnightTime + 86400,"},{"entry":"SustainedAlert = 2,\u2018,\u2019 DebugFieldChar = \\\u2018ModifyAlertToRegen\\\u2019 whereSerial ="},{"entry":"@Serial;"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Trigger2: FindEventsToRegen2"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"select * from alerts.status whereSustainedAlert = 2;"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Action2: InsertRegenAlert"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"update alerts.statussetSustainedAlert = 1, Severity 0whereSerial = @Serial;insert"},{"entry":"into alerts.status values(\\\u2018169 RegenIdentifier\\\u2019 ,0 ,\\\u2018@Node\\\u2019 ,\\\u2018@Node Alias\\\u2019"},{"entry":",\\\u2018@Manager\\\u2019 ,\\\u2018@Agent\\\u2019 ,\\\u2018@AlertGroup\\\u2019 ,\u2018,\u2019\\\u2018@AlertKey\\\u2019 ,@Severity"},{"entry":",\\\u2018@Summary\\\u2019 ,0 ,@RegenMidnightTime ,@RegenMidnightTime ,0 ,@Poll"},{"entry":",@Type ,0 ,@Class ,@Grade ,\\\u2018@Location\\\u2019,@OwnerUID ,@OwnerGID"},{"entry":",@Acknowledged ,@Flash ,\\\u2018@S\u2019,\u2018erverName\\\u2019 ,@ServerSerial ,@EventCode ,0"},{"entry":",@CheckedNotify ,1 , \\\u2018@NotifyAction\\\u2019 ,@NotifyPending ,0"},{"entry":",@DatabaseElementKey ,0 ,@OpenTicket ,\\\u2018@TicketNumber\\\u2019 ,@OriginalSeverity"},{"entry":",@AlertType ,0 ,\u2018,\u2019@OriginalOccurrence ,@TimeKeyLogged"},{"entry":",@RegenMidnightTime ,0 ,\\\u2018\\\u2019 ,0 ,\\\u2018\\\u2019 ,0 ,\\\u2018InsertRegenAlert\\\u2019 );"},{"entry":"Logging Time Key"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Trigger: TimeKeyLogged"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"select * from alerts.status where TimeKeyLogged= 0;"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Action: GenerateTimeKey"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"update alerts.status setTimeKeyLogged=1whereSerial=@Serial;"},{"entry":"Notifications"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Trigger: AgetEventsToNotify"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"select * from alerts.status where NotifyPending = 1;"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Action: TakeNotifyAction"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"update alerts.statussetNotifyPending = 0whereSerial = @Serial;"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"AND"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\/opt\/cOLLECTOR\/utils\/notifyspooler.p1 @Node @EventCode @LastOccurrence"},{"entry":"@Summary"},{"entry":"Database logging"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Trigger: SelectLoggedToDbse"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"select * from alerts.status where LoggedToDatabase=0andDatabaseElementKey< >0;"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Action: ChangeLoggedToDbse"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"update alerts.status set LoggedToDatabase=1 whereSerial=@Serial;"},{"entry":"NCOMS.sql"},{"entry":"--"},{"entry":"-- Collector definition file"},{"entry":"--"},{"entry":"--"},{"entry":"create database master;"},{"entry":"use database master;"},{"entry":"create table names"},{"entry":"("}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Name","char(64),"]},{"entry":[{},"UID","int,"]},{"entry":[{},"GID","int,"]},{"entry":[{},"Passwd","char(64),"]},{"entry":[{},"Type","int,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"unique ( Name ),"]},{"entry":[{},"permanent"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":");"},{"entry":"create table profiles"},{"entry":"("}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"UID","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"HasRestrictionint,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Restrict1","char(255),"]},{"entry":[{},"Restrict2","char(255),"]},{"entry":[{},"Restrict3","char(255),"]},{"entry":[{},"Restrict4","char(255),"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"AllowISQL","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"unique ( UID ),"]},{"entry":[{},"permanent"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":");"},{"entry":"create table groups"},{"entry":"("}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Name","char(64),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"GID","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"unique ( Name ),"]},{"entry":[{},"permanent"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":");"},{"entry":"create table members"},{"entry":"("}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"KeyField","char(64),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"UID","int,"]},{"entry":[{},"GID","int,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"unique( KeyField ),"]},{"entry":[{},"permanent"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":");"},{"entry":"--"},{"entry":"-- The following table controls the statistics option"},{"entry":"-- Remove the comments to enable statistics gathering. Currently, this data"},{"entry":"-- is gathered but not used."},{"entry":"--"},{"entry":"-- You can comment out individual fields to stop that statistic being recorded"},{"entry":"-- but the StatTtime must be present for the statistics gather to work"},{"entry":"--"},{"entry":"-- create table stats"},{"entry":"-- ("}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"-- StatTime","time,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"168pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"-- NumClients","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"-- NumRealtime","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"168pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"-- NumProbes","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"-- NumGateways","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"168pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"-- NumMonitors","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"-- NumProxys","int,"]},{"entry":[{},"-- EventCount","int,"]},{"entry":[{},"-- JournalCount","int,"]},{"entry":[{},"-- DetailCount","int,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"-- unique( StatTime ),"]},{"entry":[{},"-- permanent"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"-- );"},{"entry":"create database auto;"},{"entry":"use database auto;"},{"entry":"create table triggers"},{"entry":"("}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Name","char(64),"]},{"entry":[{},"Cond1","char(255),"]},{"entry":[{},"Cond2","char(255),"]},{"entry":[{},"Cond3","char(255),"]},{"entry":[{},"Cond4","char(255),"]},{"entry":[{},"AutoExec","char(64),"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"154pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"DecExec","char(64),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"OwnerUID","int,"]},{"entry":[{},"Active","int,"]},{"entry":[{},"Level","int,"]},{"entry":[{},"EvalPeriod","int,"]},{"entry":[{},"Threshold","int,"]},{"entry":[{},"Hits","int,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"154pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"ProcessAllHits","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Comment1","char(255),"]},{"entry":[{},"Comment2","char(255),"]},{"entry":[{},"Comment3","char(255),"]},{"entry":[{},"Comment4","char(255),"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"unique ( Name ),"]},{"entry":[{},"permanent"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":");"},{"entry":"create table actions"},{"entry":"("}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Name","char(64),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"154pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"HasData","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Data1","char(255),"]},{"entry":[{},"Data2","char(255),"]},{"entry":[{},"Data3","char(255),"]},{"entry":[{},"Data4","char(255),"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"154pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"HasExec","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"ExecPath","char(255),"]},{"entry":[{},"ExecArgs","char(255),"]},{"entry":[{},"ExecHost","char(64),"]},{"entry":[{},"EUID","int,"]},{"entry":[{},"HasPhone","int,"]},{"entry":[{},"PhoneArgs1","char(255),"]},{"entry":[{},"PhoneArgs2","char(255),"]},{"entry":[{},"PhoneArgs3","char(255),"]},{"entry":[{},"PhoneArgs4","char(255),"]},{"entry":[{},"Comment1","char(255),"]},{"entry":[{},"Comment2","char(255),"]},{"entry":[{},"Comment3","char(255),"]},{"entry":[{},"Comment4","char(255),"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"unique ( Name ),"]},{"entry":[{},"permanent"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":");"},{"entry":"create database alerts;"},{"entry":"use database alerts;"},{"entry":"create table status"},{"entry":"("}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Identifier","char(255),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Serial","incr,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Node","char(64),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"168pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"NodeAlias","char(64),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Manager","char(64),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Agent","char(64),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"AlertGroup","char(64),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"AlertKey","char(64),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Severity","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Summary","char(255),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"StateChange","optime,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"FirstOccurrence time,"]},{"entry":[{},"LastOccurrence 1time,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"InternalLast","timestamp,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Poll","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Type","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Tally","opcount,"]},{"entry":[{},"Class","int,"]},{"entry":[{},"Grade","int,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Location","char(64),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"OwnerUID","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"OwnerGID","int,","-- Groups Option"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Acknowledged","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Flash","int,","-- Flash Option"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"ServerName","char(64),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"ServerSerial","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"EventCode","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Duration","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"CheckedNotify","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"SustainedAlert int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"NotifyAction","char(255),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"NotifyPending int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"LoggedToDatabase int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"DatabaseElementKey int,"]},{"entry":[{},"DatabaseTimeKey int,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"OpenTicket","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"TicketNumber char(64),"]},{"entry":[{},"OriginalSeverity int,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"AlertType","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"AlertStopTimeint,"]},{"entry":[{},"OriginalOccurrence int,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"TimeKeyLogged","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"MidnightTime int,"]},{"entry":[{},"RegenMidnightTime int,"]},{"entry":[{},"RegenIdentifier char(255),"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"168pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"TempInt","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"TempChar","char(64),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"DebugFieldInt int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"154pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"DebugFieldChar","char(64),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"unique ( Identifier ),"]},{"entry":[{},"notify on ( change ),"]},{"entry":[{},"iduc on ( Serial ),"]},{"entry":[{},"permanent"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":");"},{"entry":"create table objclass"},{"entry":"("}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Tag","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Name char(64),"]},{"entry":[{},"Icon char(255),"]},{"entry":[{},"Menu char(64),"]},{"entry":[{},"unique ( Tag ),"]},{"entry":[{},"permanent"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":");"},{"entry":"create table objmenus"},{"entry":"("}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Menu","char(64),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Columns","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"unique ( Menu ),"]},{"entry":[{},"permanent"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":");"},{"entry":"create table objmenuitems"},{"entry":"("}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"KeyField","char(255),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Menu","char(64),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Sequence","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Title","char(64),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Command1","char(255),"]},{"entry":[{},"Command2","char(255),"]},{"entry":[{},"Command3","char(255),"]},{"entry":[{},"Command4","char(255),"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"RedirectStdin int,"]},{"entry":[{},"RedirectStdout int,"]},{"entry":[{},"RedirectStderr int,"]},{"entry":[{},"unique ( KeyField ),"]},{"entry":[{},"permanent"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":");"},{"entry":"create table resolutions"},{"entry":"("}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"KeyField","char(255),"]},{"entry":[{},"Tag","int,"]},{"entry":[{},"Sequence","int,"]},{"entry":[{},"Title","char(64),"]},{"entry":[{},"Resolution1","char(255),"]},{"entry":[{},"Resolution2","char(255),"]},{"entry":[{},"Resolution3","char(255),"]},{"entry":[{},"Resolution4","char(255),"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"unique ( KeyField ),"]},{"entry":[{},"permanent"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":");"},{"entry":"create table journal"},{"entry":"("}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"KeyField","char(255),"]},{"entry":[{},"Serial","int,"]},{"entry":[{},"UID","int,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"154pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Chrono","time,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Text1","char(255),"]},{"entry":[{},"Text2","char(255),"]},{"entry":[{},"Text3","char(255),"]},{"entry":[{},"Text4","char(255),"]},{"entry":[{},"Text5","char(255),"]},{"entry":[{},"Text6","char(255),"]},{"entry":[{},"Text7","char(255),"]},{"entry":[{},"Text8","char(255),"]},{"entry":[{},"Text9","char(255),"]},{"entry":[{},"Text10","char(255),"]},{"entry":[{},"Text11","char(255),"]},{"entry":[{},"Text12","char(255),"]},{"entry":[{},"Text13","char(255),"]},{"entry":[{},"Text14","char(255),"]},{"entry":[{},"Text15","char(255),"]},{"entry":[{},"Text16","char(255),"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"unique ( KeyField ),"]},{"entry":[{},"permanent"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":");"},{"entry":"create table conversions"},{"entry":"("}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"KeyField","char(255),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"154pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Colname","char(255),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Value","int,"]},{"entry":[{},"Conversion","char(255),"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"unique ( KeyField ),"]},{"entry":[{},"permanent"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":");"},{"entry":"create table colvisuals"},{"entry":"("}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"154pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Colname","char(255),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Title","char(255),"]},{"entry":[{},"DefWidth","int,"]},{"entry":[{},"MaxWidth","int,"]},{"entry":[{},"TitleJustify","int,"]},{"entry":[{},"DataJustify","int,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"unique ( Colname ),"]},{"entry":[{},"permanent"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":");"},{"entry":"create table details"},{"entry":"("}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"KeyField","char(255),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Identifier char(255),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"AttrVal","int,"]},{"entry":[{},"Sequence","int,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Name","char(255),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Detail","char(255),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"unique ( KeyField ),"]},{"entry":[{},"permanent"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":");"},{"entry":"-- This table is required for the NT desktop"},{"entry":"create table colors"},{"entry":"("}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Severity","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"AckedRed","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"AckedGreen","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"AckedBlue","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"UnackedRed","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"UnackedGreen","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"UnackedBlue","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"unique( Severity ),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"permanent"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":");"},{"entry":"-- The following database and table is required for the additional features"},{"entry":"-- to support the Internet Service Monitors"},{"entry":"create database service;"},{"entry":"use database service;"},{"entry":"create table status"},{"entry":"("}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Name","char(255),","-- Service Name"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"CurrentState","int,","-- Good, Marginal, Bad, Unknown"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"StateChange","time,","-- Time of last service state change"]},{"entry":[{},"LastGoodAt","time,","-- Time service was last good"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"LastBadAt","time,","-- Time service was last bad"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"LastMarginalAt time,","-- Time service was last marginal"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"133pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"LastReportAt","time,","-- Time of last service status report"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"unique ( Name ),"]},{"entry":[{},"permanent"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":");"},{"entry":"-- This database and table support the Java Event List and the Java JELD."},{"entry":"-- It is maintained via the JACE configuration tool."},{"entry":"create database jel;"},{"entry":"use database jel;"},{"entry":"create table jelprops"},{"entry":"("}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"KeyField","incr,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"168pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"ConfigName","char(127),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"PropSet","char(127),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"PropName","char(127),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"PropVal","char(255),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"unique ( KeyField ),"]},{"entry":[{},"permanent"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":");"},{"entry":"-- This database and tables are required for the NT desktop"},{"entry":"create database tools;"},{"entry":"use database tools;"},{"entry":"create table actions"},{"entry":"("}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"ActionID","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Name","char(64),"]},{"entry":[{},"Owner","int,"]},{"entry":[{},"Enabled","int,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Description1","char(255),"]},{"entry":[{},"Description2","char(255),"]},{"entry":[{},"Description3","char(255),"]},{"entry":[{},"Description4","char(255),"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"HasInternal","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"InternalComp1","char(255),"]},{"entry":[{},"InternalComp2","char(255),"]},{"entry":[{},"InternalComp3","char(255),"]},{"entry":[{},"InternalComp4","char(255),"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"HasExternal","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"ExternalComp1","char(255),"]},{"entry":[{},"ExternalComp2","char(255),"]},{"entry":[{},"ExternalComp3","char(255),"]},{"entry":[{},"ExternalComp4","char(255),"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"ForEachSelected int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"HasRemote","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"RemoteComp1","char(255),"]},{"entry":[{},"RemoteComp2","char(255),"]},{"entry":[{},"RemoteComp3","char(255),"]},{"entry":[{},"RemoteComp4","char(255),"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"HasURL","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"URLComp1","char(255),"]},{"entry":[{},"URLComp2","char(255),"]},{"entry":[{},"URLComp3","char(255),"]},{"entry":[{},"URLComp4","char(255),"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Platform","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"JournalText1","char(255),"]},{"entry":[{},"JournalText2","char(255),"]},{"entry":[{},"JournalText3","char(255),"]},{"entry":[{},"JournalText4","char(255),"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"HasForcedJournal int,"]},{"entry":[{},"unique ( ActionID ),"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"permanent"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":");"},{"entry":"create table actionaccess"},{"entry":"("}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"ActionID","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"217pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"GID","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"ClassID","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"ActionAccessID int,"]},{"entry":[{},"unique ( ActionAccessID ),"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"permanent"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":");"},{"entry":"create table menus"},{"entry":"("}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"MenuID","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"217pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Name","char(64),"]},{"entry":[{},"Owner","int,"]},{"entry":[{},"Enabled","int,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"unique ( MenuID ),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"permanent"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":");"},{"entry":"create table menuitems"},{"entry":"("}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"KeyField","char(32), -- menuid:menuitemid"]},{"entry":[{},"MenuID","int,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"MenuItemID","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Title","char(64),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Description","char(255),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Enabled","int,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"InvokeType","int, -- What type of invocation: Action\/Submenu"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"InvokeID","int,"]},{"entry":[{},"Position","int,"]},{"entry":[{},"Accelerator","int,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"unique ( KeyField ),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"permanent"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":");"},{"entry":"NCOMS.auto.triggers.dat"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"(Blank lines added to enhance readability.)"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"use database auto;"},{"entry":"insert into triggers values ( \u2018FindSpecifcSerial\u2019,\u2018select * from alerts.status"},{"entry":"whereSerial >= 4691 andSerial <="},{"entry":"4693;\u2019,\u2033,\u2033,\u2033,\u2018DebugChangeField\u2019,\u2033,10431,0,1,60,0,0,1,\u2033,\u2033,\u2033,\u2033 );"},{"entry":"insert into triggers values ( \u2018DetectUnknownServices\u2019,\u2018select * from service.status"},{"entry":"where LastReportAt < getdate \u2212"},{"entry":"3600;\u2019,\u2033,\u2033,\u2033,\u2018SetServiceUnknown\u2019,\u2033,0,0,0,600,0,0,1,\u2018This trigger detects services"},{"entry":"which have not been reported forthe given period. The associated action sets these"},{"entry":"services intothe unknown state.It is only needed with the Internet Service"},{"entry":"Monitors.\u2019,\u2033,\u2033,\u2033 );"},{"entry":"insert into triggers values ( \u2018CleanDetailsTable\u2019,\u2018delete from alerts.details where"},{"entry":"Identifier not in ((select Identifier from alerts.status));\u2019,\u2033,\u2033,\u2033,\u2033,\u2033,0,1,1,601,0,0,0,\u2018This"},{"entry":"is a standard automation for clearing old entries from the details table.\u2019,\u2033,\u2033,\u2033);"},{"entry":"insert into triggers values ( \u2018DeleteAllEvents\u2019,\u2018delete from alerts.status where Serial <"},{"entry":"4700;\u2019,\u2033,\u2033,\u2033,\u2033,\u2033,10431,0,1,60,0,0,1,\u2033,\u2033,\u2033,\u2033 );"},{"entry":"insert into triggers values ( \u2018AGetEventsToNotify\u2019,\u2018select * from alerts.status where"},{"entry":"NotifyPending = 1;\u2019,\u2033,\u2033,\u2033,\u2018TakeNotifyAction\u2019,\u2033,10431,1,1,1,0,0,1,\u2033,\u2033,\u2033,\u2033 );"},{"entry":"insert into triggers values ( \u2018SelectLoggedToDbse\u2019,\u2018select * from alerts.status where"},{"entry":"LoggedToDatabase=0andDatabaseElementKey< >0;\u2019,\u2033,\u2033,\u2033,\u2018ChangeLoggedToDbse\u2019,\u2033,"},{"entry":"0,0,1,5,0,0,1,\u2033,\u2033,\u2033,\u2033 );"},{"entry":"insert into triggers values ( \u2018EscalateOff\u2019,\u2018update alerts.status set Flash = 0, Grade = 0"},{"entry":"where ((Flash = 1 or Grade > 0) and Acknowledged = 1) or (Severity ="},{"entry":"0);\u2019,\u2033,\u2033,\u2033,\u2033,\u2033,0,0,1,6,0,0,0,\u2018Will set Flash field to 0 (not flashing) and Grade to 0 (not"},{"entry":"escalated in this example) when an event that has previously had the Flash field set"},{"entry":"to 1 or greater is either Acknowledged or Cleared (Severity = 0). \u2019,\u2033,\u2033,\u2033 );"},{"entry":"insert into triggers values ( \u2018TimeKeyLogged\u2019,\u2018select * from alerts.status"},{"entry":"whereTimeKeyLogged=0;\u2019,\u2033,\u2033,\u2033,\u2018GenerateTimeKey\u2019,\u2033,0,1,1,5,0,0,1,\u201899Overview:"},{"entry":"This trigger selects all records from the alertstatus table who have a"},{"entry":"TimeKeyLogged value equal to zero. It then takes these records and runs the script"},{"entry":"TimeKeyGen\u2019,\u2018erator for each row.\u2019,\u2033,\u2033 );"},{"entry":"insert into triggers values ( \u2018FindAlertStops\u2019,\u2018select * from alerts.status where"},{"entry":"AlertType = 2;\u2019,\u2033,\u2033,\u2033,\u2018RemoveAlertStops\u2019,\u2033,0,1,1,1,0,0,1,\u2018Overview:\u2019,\u2033,\u2033,\u2033 );"},{"entry":"insert into triggers values ( \u2018FlashNotAck\u2019,\u2018update alerts.status set Flash = 1, Grade ="},{"entry":"1 where Flash = 0 and Acknowledged = 0 and Severity = 5 and FirstOccurrence <="},{"entry":"(getdate \u2212 600);\u2019,\u2033,\u2033,\u2033,\u2033,\u2033,0,0,1,31,0,0,0,\u2018Will set Flashing on (Flash=1) for events that"},{"entry":"are Critical (Severity=5)and are 10 minutes old but haven\\'t been acknowledged by a"},{"entry":"user yet(Acknowledge = 0). It sets Grade to 1 as a further indication of the events"},{"entry":"escalation status.\u2019,\u2033,\u2033,\u2033 );"},{"entry":"insert into triggers values ( \u2018GenericClear\u2019,\u2018select * from alerts.status where Type = 2"},{"entry":"and Severity > 0;\u2019,\u2033,\u2033,\u2033,\u2018GenericClear\u2019,\u2033,10431,0,1,5,0,0,1,\u2018This is a standard"},{"entry":"Automation for correlating two problem\/resolutionevents, ie correlating a Device Up"},{"entry":"event with a Device Down event.This is done by checking the contents of the"},{"entry":"following fields;Type 1=Problem event, 2=Resolution eventLastO\u2019,\u2018ccurrence ensure"},{"entry":"resolution is more recent then problemAlertGroup same Type of event, ie Device"},{"entry":"Up\/DownManager same source, same Probe reported both eventsNode same device"},{"entry":"reported both eventsAlertKey same sub-device (link, disk pa\u2019,\u2018rtition etc) reported"},{"entry":"both events\u2019,\u2033);"},{"entry":"insert into triggers values ( \u2018MailOnCritical\u2019,\u2018select * from alerts.status where"},{"entry":"Severity = 5 and Grade < 2 and Acknowledged = 0 and LastOccurrence <= (getdate"},{"entry":"\u2212 (60 * 30));\u2019,\u2033,\u2033,\u2033,\u2018MailOnCritical\u2019,\u2033,0,0,1,33,0,0,1,\u2018Finds all events which are"},{"entry":"Critical (Severity=5) that are 30 minutes oldbut still haven\\'t been Acknowledged (or"},{"entry":"escalated to level 2, Grade=2).The \\\u2019via \\\u2018@Identifier\\\u2019\\\u2018 command is used The Action"},{"entry":"sets Grade = 2 to show the new escalation status\u2019,\u2018. The \\\u2019via \\\u2018@Identifier\\\u2019\\\u2018"},{"entry":"command is used for improved lookup performance.The Action then activates the"},{"entry":"external script $OMNIHOME\/utils\/ncomail and passes data from the event to that"},{"entry":"script. The script is a simple script which will insert t\u2019,\u2018he events data into a mail"},{"entry":"message and mail to a user (in this example \\\u2019root\\\u2018 user on the local machine)."},{"entry":"NOTE: This tool is UNIX specific unless an equivalent NT mailer is available.\u2019,\u2033 );"},{"entry":"insert into triggers values ( \u2018FindEventsToRegen1\u2019,\u2018select * from alerts.status"},{"entry":"whereAlertType = 1 andDuration = 0 andFirstOccurrence > getdate \u2212"},{"entry":"(hourofday*60*60) \u2212 (minuteofhour*60) \u2212 86400 \u2212 60 andFirstOccurrence < getdate"},{"entry":"\u2212 (hourofday*60*60) \u2212 (minuteofhour*60) \u2212"},{"entry":"60;\u2019,\u2033,\u2033,\u2033,\u2018ModifyAlertToRegen\u2019,\u2033,10431,1,1,1,0,0,1,\u2033,\u2033,\u2033,\u2033 );"},{"entry":"insert into triggers values ( \u2018FindEventsToRegen2\u2019,\u2018select * from alerts.status"},{"entry":"whereSustainedAlert = 2;\u2019,\u2033,\u2033,\u2033,\u2018InsertRegenAlert\u2019,\u2033,0,1,1,1,0,0,1,\u2033,\u2033,\u2033,\u2033 );"},{"entry":"insert into triggers values ( \u2018CalculateDuration\u2019,\u2018select * from alerts.status where"},{"entry":"AlertType = 1 andSeverity = 0 andDuration = \u2212"},{"entry":"1;\u2019,\u2033,\u2033,\u2033,\u2018SetDuration\u2019,\u2033,0,1,1,1,0,0,1,\u2018Overview:\u2019,\u2033,\u2033,\u2033 );"},{"entry":"insert into triggers values ( \u2018Expire\u2019,\u2018select * from alerts.status where Type > 10 and"},{"entry":"Severity > 0;\u2019,\u2033,\u2033,\u2033,\u2018Expire\u2019,\u2033,10431,0,1,65,0,0,1,\u2018This is a standard Automation for"},{"entry":"finding events that have passed their\\\u2019Expire\\\u2018 time (stored in the Type field). The"},{"entry":"Action sets the events toClear (Severity 0).\u2019,\u2033,\u2033,\u2033 );"},{"entry":"insert into triggers values ( \u2018CleanJournalTable\u2019,\u2018delete from alerts.journal where"},{"entry":"Serial not in ((select Serial from alerts.status));\u2019,\u2033,\u2033,\u2033,\u2033,\u2033,0,1,1,602,0,0,0,\u2018This is a"},{"entry":"standard automation for clearing old entries from the journal table.\u2019,\u2033,\u2033,\u2033);"},{"entry":"insert into triggers values( \u2018DeleteClears\u2019,\u2018delete from alerts.status where Severity ="},{"entry":"0 and StateChange < (getdate \u2212 129600);\u2019,\u2033,\u2033,\u2033,\u2033,\u2033,10431,1,1,67,0,0,0,\u2018This is a"},{"entry":"standard Automation for deleting Cleared events from the ObjectServer. When using"},{"entry":"in conjunction with Internet ServiceMonitors (ISMs) amend the where statement as"},{"entry":"follows;...where Severity = 0 and StateChange < (getdate \u2212 120) and Manage\u2019,\u2018rnot"},{"entry":"like \\\u2019ISM\\\u2018;bloomje:I changed this to remove cleared events after 36 hours of no"},{"entry":"state change, not two minutes\u2019,\u2033,\u2033 );"},{"entry":"set recoverysequence for triggers to 0; -- DO NOT CHANGE OR REMOVE THIS"},{"entry":"LINE !"},{"entry":"NCOMS.auto.actions.dat"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"(Blank lines added to enhance readability.)"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"use database auto;"},{"entry":"insert into actions values ( \u2018InsertRegenAlert\u2019,1,\u2018update alerts.statussetSustainedAlert"},{"entry":"= 1, Severity = 0whereSerial = @Serial;insert into alerts.status"},{"entry":"values(\\\u2019@RegenIdentifier\\\u2018 ,0 ,\\\u2019@Node\\\u2018 ,\\\u2019@NodeAlias\\\u2018 ,\\\u2019@Manager\\\u2018 ,\\\u2019@Agent\\\u2018"},{"entry":",\\\u2019@AlertGroup\\\u2018 ,\u2019,\u2018\\\u2019@AlertKey\\\u2018 ,@Severity ,\\\u2019@Summary\\\u2018 ,0"},{"entry":",@RegenMidnightTime ,@RegenMidnightTime ,0 ,@Poll ,@Type ,0 ,@Class"},{"entry":",@Grade ,\\\u2019@Location\\\u2018 ,@OwnerUID ,@OwnerGID ,@Acknowledged ,@Flash"},{"entry":",\\\u2019@S\u2018,\u2019erverName\\\u2018 ,@ServerSerial ,@EventCode ,0 ,@CheckedNotify ,1 ,"},{"entry":"\\\u2019@NotifyAction\\\u2018 ,@NotifyPending ,0 ,@DatabaseElementKey ,0 ,@OpenTicket"},{"entry":",\\\u2019@TicketNumber\\\u2018 ,@OriginalSeverity ,@AlertType ,0 ,\u2019,\u2018@OriginalOccurrence"},{"entry":",@TimeKeyLogged ,@RegenMidnightTime ,0 ,\\\u2019\\\u2018 ,0 ,\\\u2019\\\u2018 ,0 ,\\\u2019InsertRegenAlert\\\u2018"},{"entry":");\u2019,0,\u2033,\u2033,\u2033,0,0,\u2033,\u2033,\u2033,\u2033,\u2033,\u2033,\u2033,\u2033 );"},{"entry":"insert into actions values ( \u2018GenerateTimeKey\u2019,1,\u2018update alerts.status"},{"entry":"setTimeKeyLogged=1whereSerial=@Serial;"},{"entry":"\u2019,\u2033,\u2033,\u2033,1,\u2018\/opt\/ECM\/bin\/bloomje\/GenerateTimeKey.pl\u2019,\u2018@LastOccurrence\u2019,\u2018twmmdb02\u2019"},{"entry":",0,0,\u2033,\u2033,\u2033,\u2033,"},{"entry":"This script takes the field LastOccurrence and translates it into day, month, year,"},{"entry":"hour, min, seconds.\u2032,\u2033,\u2033,\u2033 );"},{"entry":"insert into actions values ( \u2018DebugChangeField\u2019,0,\u2018update alerts.statussetSummary ="},{"entry":"\\\u2019Blooms @Summary\\\u2018whereSerial = @Serial;\u2019,\u2033,\u2033,\u2033,0,\u2033,\u2033,\u2033,0,0,\u2033,\u2033,\u2033,\u2033,\u2033,\u2033,\u2033,\u2033 );"},{"entry":"insert into actions values ( \u2018ModifyAlertToRegen\u2019,1,\u2018update alerts.statussetDuration"},{"entry":"= 86400 \u2212 (@FirstOccurrence \u2212 @MidnightTime), AlertStopTime ="},{"entry":"@MidnightTime + 86400, RegenIdentifier = \\\u2019@Node @EventCode"},{"entry":"@MidnightTime\\\u2018, RegenMidnightTime = @MidnightTime + 86400, SustainedAlert"},{"entry":"= 2,\u2019,\u2018 DebugFieldChar = \\\u2019ModifyAlertToRegen\\\u2018 whereSerial ="},{"entry":"@Serial;\u2019,\u2033,\u2033,0,\u2033,\u2033,\u2033,0,0,\u2033,\u2033,\u2033,\u2033,\u2033,\u2033,\u2033,\u2033 );"},{"entry":"insert into actions values ( \u2018SetDuration\u2019,1,\u2018update alerts.status set"},{"entry":"LoggedToDatabase = 0,DebugFieldChar = \\\u2019SetDuration just ran\\\u2018,Identifier ="},{"entry":"\\\u2019@Node.@EventCode.@FirstOccurrence\\\u2018,Duration = (@AlertStopTime \u2212"},{"entry":"@FirstOccurrence) whereSerial = @Serial;\u2019,\u2033,\u2033,\u2033,0,\u2033,\u2033,\u2033,0,0,\u2033,\u2033,\u2033,\u2033,\u2033,\u2033,\u2033,\u2033 );"},{"entry":"insert into actions values ( \u2018GenericClear\u2019,0,\u2018update alerts.status set Severity = 0"},{"entry":"where Severity > 0 and Type = 1 and LastOccurrence < @LastOccurrence and"},{"entry":"AlertGroup =\\\u2019@AlertGroup\\\u2018 and Manager =\\\u2019@Manager\\\u2018 and Node = \\\u2019@Node\\\u2018"},{"entry":"and AlertKey = \\\u2019@AlertKey\\\u2018;update alerts.status set Severity = \u2019,\u20180 where Serial ="},{"entry":"@Serial;\u2019,\u2033,\u2033,0,\u2033,\u2033,\u2033,0,0,\u2033,\u2033,\u2033,\u2033,\u2018This is a standard Automation for correlating two"},{"entry":"problem\/resolutionevents, ie correlating a Device Up event with a Device Down"},{"entry":"event.This is done by checking the contents of the following fields;Type 1=Problem"},{"entry":"event, 2=Resolution eventLastO\u2019,\u2018ccurrence ensure resolution is more recent then"},{"entry":"problemAlertGroup same Type of event, ie Device Up\/DownManager same source,"},{"entry":"same Probe reported both eventsNode same device reported both eventsAlertKey"},{"entry":"same sub-device (link, disk pa\u2019,\u2018rtition etc) reported both events\u2019,\u2033);"},{"entry":"insert into actions values ( \u2018MailOnCritical\u2019,1,\u2018update alerts.status via \\\u2019@Identifier\\\u2018"},{"entry":"set Grade = 2;\u2019,\u2033,\u2033,\u2033,1,\u2018$OMNIHOME\/utils\/ncomail\u2019,\u2018@Node @Severity"},{"entry":"NCOMAILMESSAGE root@omnihost \\\u2019@Summary\\\u2033,\u2018omnihost\u2019,0,0,\u2033,\u2033,\u2033,\u2033,\u2033,\u2033,\u2033,\u2033"},{"entry":");"},{"entry":"insert into actions values ( \u2018RegenAlerts\u2019,0,\u2018update alerts.statussetSeverity ="},{"entry":"0,Duration = 86400 \u2212 (@LastOccurrence \u2212 @MidnightTime),AlertStopTime ="},{"entry":"@MidnightTime + 86400,TempChar = \\\u2019@OldIdentifier"},{"entry":"(@MidnightTime)\\\u2018,TempInt = @MidnightTime + 86400,DebugFieldChar ="},{"entry":"\\\u2019Reg\u2018,\u2019enAlerts ran on me\\\u2018whereSerial = @Serial;\u2019,\u2033,\u2033,0,\u2033,\u2033,\u2033,0,0,\u2033,\u2033,\u2033,\u2033,\u2033,\u2033,\u2033,\u2033 );"},{"entry":"insert into actions values ( \u2018SetServiceUnknown\u2019,1,\u2018svc update \\\u2019@Name\\\u2018"},{"entry":"3;\u2019,\u2033,\u2033,\u2033,0,\u2033,\u2033,\u2033,0,0,\u2033,\u2033,\u2033,\u2033,\u2018This action sets the state of the given service to be"},{"entry":"Unknown.It is only needed with the Internet Service Monitors.\u2019,\u2033,\u2033,\u2033);"},{"entry":"insert into actions values ( \u2018TakeNotifyAction\u2019,1,\u2018update"},{"entry":"alerts.statussetNotifyPending = 0whereSerial ="},{"entry":"@Serial;\u2019,\u2033,\u2033,\u2033,1,\u2018\/opt\/ECM\/utils\/notifyspooler.pl\u2019,\u2018\\\u2033@Node\\\u2033 \\\u2033@EventCode\\\u2033"},{"entry":"\\\u2033@LastOccurrence\\\u2033 \\\u2033@Summary\\\u2019\u2033,\u2018twmmdb02\u2019,0,0,\u2033,\u2033,\u2033,\u2033,\u2033,\u2033,\u2033,\u2033 );"},{"entry":"insert into actions values ( \u2018ChangeLoggedToDbse\u2019,0,\u2018update alerts.status set"},{"entry":"LoggedToDatabase=1whereSerial=@Serial;\u2019,\u2033,\u2033,\u2033,0,\u2033,\u2033,\u2033,0,0,\u2033,\u2033,\u2033,\u2033,\u2033,\u2033,\u2033,\u2033 );"},{"entry":"insert into actions values ( \u2018Expire\u2019,1,\u2018update alerts.status set Severity = 0 where"},{"entry":"Serial = @Serial and LastOccurrence < (getdate \u2212"},{"entry":"@Type);\u2019,\u2033,\u2033,\u2033,0,\u2033,\u2033,\u2033,0,0,\u2033,\u2033,\u2033,\u2033,\u2018This is a standard Automation for finding events that"},{"entry":"have passed their\\\u2019Expire\\\u2018 time (stored in the Type field). The Action sets the events"},{"entry":"toClear (Severity 0).\u2019,\u2033,\u2033,\u2033 );"},{"entry":"insert into actions values ( \u2018RemoveAlertStops\u2019,1,\u2018update alerts.status set Severity ="},{"entry":"0; AlertStopTime = @FirstOccurrence, DebugFieldChar = \\\u2019RemoveAlertStops ran\\\u2018"},{"entry":"where Severity < > 0 and AlertType = 1 and Node =\\\u2019@Node\\\u2018 and EventCode ="},{"entry":"@EventCode \u2212 1 \u2019,\u2018and LastOccurrence <= @LastOccurrence; delete from"},{"entry":"alerts.status where Serial = @Serial; \u2019,\u2033,\u2033,0,\u2033,\u2033,\u2033,0,0,\u2033,\u2033,\u2033,\u2033,\u2033,\u2033,\u2033,\u2033 );"},{"entry":"set recoverysequence for actions to 0; -- DO NOT CHANGE OR REMOVE THIS"},{"entry":"LINE !"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}},"br":[{},{}]},"This section is defined to allow for a single point of definition for event codes within the Service Assurance project\\.","These codes are defined for event handling through the Collector network management portion of the toolset.",{"@attributes":{"id":"p-0737","num":"2043"},"tables":{"@attributes":{"id":"TABLE-US-00050","num":"00050"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 26"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Table of Events"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"91pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"91pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"AlertPairs","Asynch"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"91pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Uncorr","1,000,000","2,000,000"]},{"entry":[{},{},"1,999,999","2,999,999"]},{"entry":[{},"Node-Corr","3,000,000","4,000,000"]},{"entry":[{},{},"3,999,999","4,999,999"]},{"entry":[{},"Enter-Corr","5,000,000","6,000,000"]},{"entry":[{},{},"5,999,999","6,999,999"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]}}]}},"br":{}},"These consist of <Event Code>|<Event>|<Severity>.",{"@attributes":{"id":"p-0739","num":"2045"},"tables":{"@attributes":{"id":"TABLE-US-00051","num":"00051"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"28pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 27"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Network",{},{}]},{"entry":[{},"Availability"]},{"entry":[{},"Events"]},{"entry":[{},"1000000","Test Alert Start","1"]},{"entry":[{},"1000001","Test Alert Stop","5"]},{"entry":[{},"1000002","Node Down","5"]},{"entry":[{},"1000003","Node Up","1"]},{"entry":[{},"1000004","Interface Down","5"]},{"entry":[{},"1000005","Interface Up","1"]},{"entry":[{},"Service"]},{"entry":[{},"Availability"]},{"entry":[{},"Events"]},{"entry":[{},"1001000","DNS Service Failed","5"]},{"entry":[{},"1001001","DNS Service Succeeded","1"]},{"entry":[{},"1001002","POP3 Service Failed","5"]},{"entry":[{},"1001003","POP3 Service Succeeded","1"]},{"entry":[{},"1001004","FTP Service Failed","5"]},{"entry":[{},"1001005","FTP Service Succeeded","1"]},{"entry":[{},"1001006","SMTP Service Failed","5"]},{"entry":[{},"1001007","SMTP Service Succeeded","1"]},{"entry":[{},"1001008","NNTP Service Failed","5"]},{"entry":[{},"1001009","NNTP Service Succeeded","1"]},{"entry":[{},"1001010","HTTP Service Failed","5"]},{"entry":[{},"1001011","HTTP Service Succeeded","1"]},{"entry":[{},"1001012","RADIUS Service Failed","5"]},{"entry":[{},"1001013","RADIUS Service Succeeded","1"]},{"entry":[{},"1001014","SNMP Service Failed","5"]},{"entry":[{},"1001015","SNMP Service Succeeded","1"]},{"entry":[{},"Process"]},{"entry":[{},"Availability"]},{"entry":[{},"Events"]},{"entry":[{},"1002000","DNS Process Failed","5"]},{"entry":[{},"1002001","DNS Process Succeeded","1"]},{"entry":[{},"1002002","POP3 Process Failed","5"]},{"entry":[{},"1002003","POP3 Process Succeeded","1"]},{"entry":[{},"1002004","FTP Process Failed","5"]},{"entry":[{},"1002005","FTP Process Succeeded","1"]},{"entry":[{},"1002006","SMTP Process Failed","5"]},{"entry":[{},"1002007","SMTP Process Succeeded","1"]},{"entry":[{},"1002008","NNTP Process Failed","5"]},{"entry":[{},"1002009","NNTP Process Succeeded","1"]},{"entry":[{},"1002010","HTTP Process Failed","5"]},{"entry":[{},"1002011","HTTP Process Succeeded","1"]},{"entry":[{},"1002012","RADIUS Process Failed","5"]},{"entry":[{},"1002013","RADIUS Process Succeeded","1"]},{"entry":[{},"Threshold"]},{"entry":[{},"Events"]},{"entry":[{},"1003000","CPU Util Threshold Warn","5"]},{"entry":[{},"1003001","CPU Util Threshold Normal","1"]},{"entry":[{},"1003002","Mem Util Threshold Warn","3"]},{"entry":[{},"1003003","Mem Util Threshold Normal","1"]},{"entry":[{},"1003004","Interface Util Threshold Warn","3"]},{"entry":[{},"1003005","Interface Util Threshold Normal","1"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]}}}}},{"@attributes":{"id":"p-0740","num":"2046"},"tables":{"@attributes":{"id":"TABLE-US-00052","num":"00052"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 28"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Correlated Paired Events"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"14pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"3000000","SANodeMonitor (Mem\/Cpu-State Failure)","5"]},{"entry":[{},"3000001","SANodeMonitor (Mem\/Cpu-State Recovery)","1"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]}}]}}},{"@attributes":{"id":"p-0741","num":"2047"},"tables":{"@attributes":{"id":"TABLE-US-00053","num":"00053"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 29"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Enterprise Paired Event"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"14pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["5000000","SACorrEnt (PATROLLER\/busyPer-State Failure)","5"]},{"entry":["5000001","SACorrEnt (PATROLLER\/busyPer-State Recovery)","1"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}}},{"@attributes":{"id":"p-0742","num":"2048"},"tables":{"@attributes":{"id":"TABLE-US-00054","num":"00054"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 30"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Uncorrelated Asynchronous Events"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"42pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"2000000","ColdStart","3"]},{"entry":[{},"2000001","WarmStart","3"]},{"entry":[{},"2000002","LinkDown","5"]},{"entry":[{},"2000003","LinkUp","1"]},{"entry":[{},"2000004","AuthFail","5"]},{"entry":[{},"2000005","EgpNeighLoss","5"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]}}]}}},{"@attributes":{"id":"p-0743","num":"2049"},"tables":{"@attributes":{"id":"TABLE-US-00055","num":"00055"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 31"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Correlated Asynchronous Events"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"42pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"4000000","Test Alert Start","5"]},{"entry":[{},"4000001","Test Alert Stop","1"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]}}]}}},{"@attributes":{"id":"p-0744","num":"2050"},"tables":{"@attributes":{"id":"TABLE-US-00056","num":"00056"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 32"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Enterprise Asynchronous Events"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"42pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"6000000","Test Alert Start","5"]},{"entry":[{},"6000001","Test Alert Stop","1"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]}}]}}},{"@attributes":{"id":"p-0745","num":"2051"},"tables":{"@attributes":{"id":"TABLE-US-00057","num":"00057"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"126pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"154pt","align":"right"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["exportAlarmMap contains 10 items:",{}]},{"entry":[{},"alarm SAifEntryLogger is Off"]},{"entry":[{},"alarm SAallTrapsLogger is On"]},{"entry":[{},"alarm SnmpStatus is On"]},{"entry":[{},"alarm IcmpStatus is On"]},{"entry":[{},"alarm SANodeMonitor is On"]},{"entry":[{},"alarm SAlsystemLogger is On"]},{"entry":[{},"alarm SAifEntryC2RateUtil is On"]},{"entry":[{},"alarm SACorrEntFinal is On"]},{"entry":[{},"alarm SACorrEntBusyPerMon is On"]},{"entry":[{},"alarm Test is Off"]},{"entry":"exportPropertyMap contains 23 items:"},{"entry":[{},"property udpEntry"]},{"entry":[{},"property udp"]},{"entry":[{},"property tcpConnEntry"]},{"entry":[{},"property tcp"]},{"entry":[{},"property snmp"]},{"entry":[{},"property ipRouteEntry"]},{"entry":[{},"property ipNetToMediaEntry."]},{"entry":[{},"property ipAddrEntry"]},{"entry":[{},"property egp"]},{"entry":[{},"property atEntry"]},{"entry":[{},"property nl-ping"]},{"entry":[{},"property system"]},{"entry":[{},"property NOPROP"]},{"entry":[{},"property ip"]},{"entry":[{},"property interfaces"]},{"entry":[{},"property icmp"]},{"entry":[{},"property egpNeighEntry"]},{"entry":[{},"property ifEntry"]},{"entry":[{},"property SARouterCollectionProperty"]},{"entry":[{},"property lsystem"]},{"entry":[{},"property SANormalSnmp"]},{"entry":[{},"property SACheckLater"]},{"entry":[{},"property icmpStatus"]},{"entry":"exportPropGroupMap contains 35 items:"},{"entry":[{},"group Icmp"]},{"entry":[{},"group CHIPCOM-MIB"]},{"entry":[{},"group SYNOPTICS-ATM-ETHERCELL-MIB"]},{"entry":[{},"group UNGERMAN-BASS-MIB"]},{"entry":[{},"group SYNOPTICS-LINKSWITCH-MIB"]},{"entry":[{},"group SYNOPTICS-5000-MIB"]},{"entry":[{},"group SYNOPTICS-3000-MIB"]},{"entry":[{},"group RETIX-MIB"]},{"entry":[{},"group ODS-MIB"]},{"entry":[{},"group FIBERMUX-MIB"]},{"entry":[{},"group COMPAQ-MIB"]},{"entry":[{},"group ATT-SMARTHUB-MIB"]},{"entry":[{},"group Mib-II-router-sub1"]},{"entry":[{},"group Mib-II-sub1"]},{"entry":[{},"group Mib-II"]},{"entry":[{},"group HP-UNIX-MIB"]},{"entry":[{},"group CISCO-ROUTER-11.x-MIB"]},{"entry":[{},"group CISCO-ROUTER-10.x-MIB"]},{"entry":[{},"group RFC1289-phivMIB"]},{"entry":[{},"group Router"]},{"entry":[{},"group CISCO-ROUTER-9.x-MIB"]},{"entry":[{},"group XYPLEX-MIB"]},{"entry":[{},"group WELLFLEET-SERIES7-MIB"]},{"entry":[{},"group WELLFLEET-MIB"]},{"entry":[{},"group SUN-MIB"]},{"entry":[{},"group NAT-MIB"]},{"entry":[{},"group EPIX-MIB"]},{"entry":[{},"group DEC-ELAN-MIB"]},{"entry":[{},"group 3COM-ECSV2-MIB"]},{"entry":[{},"group NETLABS-PING-MIB"]},{"entry":[{},"group RFC1213-MIB2-MIB"]},{"entry":[{},"group SARouterCollectionGroup"]},{"entry":[{},"group lesgroup"]},{"entry":[{},"group SANormalSnmp"]},{"entry":[{},"group SACheckLater"]},{"entry":"exportOIDToGroupMap contains 0 items:"},{"entry":"exportPollMap contains 6 items:"},{"entry":[{},"poll SAifEntry is On"]},{"entry":[{},"poll SANodeMonitorfreeMem is On"]},{"entry":[{},"poll SANodeMonitorbusyPer is On"]},{"entry":[{},"poll SAlsystem is On"]},{"entry":[{},"poll SACorrEntbusyPer is On"]},{"entry":[{},"poll Test is Off"]},{"entry":"exportMaskMap contains 2 items:"},{"entry":[{},"mask PatrolTrapsClear is On"]},{"entry":[{},"mask PatrolTrapsAlarm is Off"]},{"entry":"exportTriggerMap contains 34 items:"},{"entry":[{},"trigger NOTRIGGER"]},{"entry":[{},"trigger coldStart"]},{"entry":[{},"trigger warmStart"]},{"entry":[{},"trigger allTraps"]},{"entry":[{},"trigger PatrolNamedFailure"]},{"entry":[{},"trigger PatrolNamedRecovery"]},{"entry":[{},"trigger SACorrEntRecover"]},{"entry":[{},"trigger SACorrEntPATROLLERRecover"]},{"entry":[{},"trigger nodeUp"]},{"entry":[{},"trigger nodeUpFast"]},{"entry":[{},"trigger agentUpFast"]},{"entry":[{},"trigger agentUp"]},{"entry":[{},"trigger SAifEntry"]},{"entry":[{},"trigger SSICMPFailed"]},{"entry":[{},"trigger SACorrEntbusyPerAlarm"]},{"entry":[{},"trigger SACorrEntbusyPerRecovery"]},{"entry":[{},"trigger SAlsystem"]},{"entry":[{},"trigger SANodeMonitorbusyPerRecovery"]},{"entry":[{},"trigger SANodeMonitorfreeMemRecovery"]},{"entry":[{},"trigger SANodeMonitorbusyPerAlarm"]},{"entry":[{},"trigger SANodeMonitorfreeMemAlarm"]},{"entry":[{},"trigger Test"]},{"entry":[{},"trigger ISICMPFailed"]},{"entry":[{},"trigger TestA"]},{"entry":[{},"trigger SACorrEntXOver"]},{"entry":[{},"trigger SACorrEntAlarmFail"]},{"entry":[{},"trigger SANodeMonitorNotifyHPOV"]},{"entry":[{},"trigger SANodeMonitorBuildTrap"]},{"entry":[{},"trigger NODEUNREACHABLE"]},{"entry":[{},"trigger ICMPTIMEOUT"]},{"entry":[{},"trigger NETUNREACHABLE"]},{"entry":[{},"trigger PORTUNREACHABLE"]},{"entry":[{},"trigger SNMPTIMEOUT"]},{"entry":[{},"trigger RESPONSE"]},{"entry":"exportSeverityMap contains 5 items:"},{"entry":[{},"severity Normal"]},{"entry":[{},"severity Critical"]},{"entry":[{},"severity Major"]},{"entry":[{},"severity Minor"]},{"entry":[{},"severity Warning"]},{"entry":"exportRuleMap contains 0 items:"},{"entry":"exportOpcMaskMap contains 0 items:"},{"entry":"exportPerlSubMap contains 16 items:"},{"entry":[{},"perl subroutine Test"]},{"entry":[{},"perl subroutine SAParametersTestScript"]},{"entry":[{},"perl subroutine SANodeMonitorRecoverHPOV"]},{"entry":[{},"perl subroutine SANodeMonitorNotifyHPOV"]},{"entry":[{},"perl subroutine SANodeMonitorBuildTrap"]},{"entry":[{},"perl subroutine SAifEntryC2RateUtil"]},{"entry":[{},"perl subroutine SACorrEntVerifyNode"]},{"entry":[{},"perl subroutine SACorrEntRecoverHPOV"]},{"entry":[{},"perl subroutine SACorrEntPATROLLERID"]},{"entry":[{},"perl subroutine SACorrEntNotifyHPOV"]},{"entry":[{},"perl subroutine SAallTrapsEventCodeScreen"]},{"entry":[{},"perl subroutine PatrolTrapsAlarm"]},{"entry":[{},"perl subroutine SASnmpStatusRecoverHPOV"]},{"entry":[{},"perl subroutine SASnmpStatusNotifyHPOV"]},{"entry":[{},"perl subroutine SAIcmpStautsRecoverHPOV"]},{"entry":[{},"perl subroutine SAIcmpStatusNotifyHPOV"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},"Configuration Strategy Proposal and Prioritization","Some of the problems with Phase 1 are:\n\n","This section addresses proposed solutions for the development of a better configuration facility. These include the utilization of Perl as the scripting language, exclusively. It also includes the use of one runtime configuration file, and common methods across platforms.","Body Section","One Configuration File","Maintainability","Having one file will create an environment that is more easily maintained because all the information will be in one file. There will be no confusion where things reside and where they need to be changed, if necessary.","Configurability","With creating a common file structure (see the file structure below) in one file, the scripts, logs, etc are easily identifiable. Additionally, there is no platform dependency, which therefore, creates an environment that is more easily configurable.","Portability","Again, with one file and a common file structure, the system is more easily portable.","Exemplary File Structure",{"@attributes":{"id":"p-0751","num":"0000"},"ul":{"@attributes":{"id":"ul0297","list-style":"none"},"li":["[Runtime Directories]","LOG=","OUT=","TEMP=","EXEC=","SYS=","[Runtime Extensions]","LOG=LG (may add 0\u20139, A\u2013Z, or both)","IN=IN","OUT=OT","TEMP=TP","[Runtime Extension Sequence]","SEQ=0\u2014Z. . . (0\u20139) or (A\u2013Z) or (0\u2013Z) to be determined","[Application Paths]","APPS=SPSS, HPOVNNM, PATROLLER, ECM, COLLECTOR, WEB","[SPSS]","[HPOVNNM]","[PATROLLER]\n\nCommon Prep Command\n\nConsistency\n"]}},"With the utilization of a common command (e.g. include, source, or require), the potential changes that need to be made will be consistent in each script. Or, if a common command for each platform is needed in each script, it will be a consistent change to activate the appropriate command.","Maintainability","If each script is utilizing the same command, the maintenance is minimal. There will not be a need to make different changes to different scripts.","Portability","With all scripts following the same command script, the only change necessary across platforms may be in the path.","Note:","We could avoid the use of a common command in each script if\\-\n\n","If so, we can set definitions with an environment variable.","Common Code\/Methods","Use common cross-platform items (e.g. environment variables, command line arguments, files, DOS, Unix, NT, and 95 ANSI C compliant).","Through the use of an initiatesetup script we could pull in the configuration file.","Common Scripting Language\u2014Perl","The use of a common scripting language will help contribute to a common prep command if needed. Additionally, the barriers associated with awk, sed, and c-shell scripts will be avoided, providing improved maintainability. Any scripting changes that might.be required cross-platform will be minimized. The knowledge needed to work with the scripts is minimized as well as the time associated with ramp-up, configuration, troubleshooting and testing.","File type\/configuration file type\/file location","This would help with platform independence. The configuration file would reside in a database, like Oracle, as a table. It would then be pulled into a file format. The format would depend on the platform.","Priority","The following priority list is generated by what value each item will bring to the project.\n\n","The IPSA project will gain the greatest value by implementing procedures and changes that make significant improvement over the current situation without jeopardizing deliverable deadlines.","Determination","One configuration file. SACommon.pm located in the \/sa\/usr\/mod directory with a symbolic link from \/usr\/local\/lib\/perl5\/siteperl on twmmdb02, nsmmws09 and nsmmws16. Variables are defined as shown in Table KK. With the use of this module, each script that references it must also contain a \u201cuse\u201d command and each variable must be referenced appropriately. See Table LL.\n\n",{"@attributes":{"id":"p-0764","num":"2106"},"tables":{"@attributes":{"id":"TABLE-US-00058","num":"00058"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 33"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Identify and Describe Requirement"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Description: Development Environment Requirements"]},{"entry":[{},"Scenarios:"]},{"entry":[{},"Type:"]},{"entry":[{},"Business Process Flow:"]},{"entry":[{},"Overall Rating:"]},{"entry":[{},"Business Need Desc:"]},{"entry":[{},"Affected Parties:"]},{"entry":[{},"Project Sponsor:"]},{"entry":[{},"Existing\/New:"]},{"entry":[{},"External Dependencies:"]},{"entry":[{},"Method for Verification:"]},{"entry":[{},"In Scope:"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}},"br":{}},{"@attributes":{"id":"p-0765","num":"2107"},"tables":{"@attributes":{"id":"TABLE-US-00059","num":"00059"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"147pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 34"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Increment:"]},{"entry":[{},"App\/Subsyst Desc\/Flow:"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"Required if Modifications are made after the Requirement has been signed-off",{"@attributes":{"id":"p-0767","num":"2109"},"tables":{"@attributes":{"id":"TABLE-US-00060","num":"00060"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"133pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 35"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Change Request:"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"The SA internal Initiative is using a homegrown version control system that is based on sccs. It is anticipated that future releases will use cccHarvest for both version controlling and configuration management.","Requirements for the Development Environment",{"@attributes":{"id":"p-0769","num":"0000"},"ul":{"@attributes":{"id":"ul0302","list-style":"none"},"li":{"@attributes":{"id":"ul0302-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0303","list-style":"none"},"li":["The ability to check in and check out files so that only one person is editing afile at a time","The following will be tracked on each file that is being version controlled: date of creation, date oflast modification, version, and change history (annotated with date, rev, user, and comments).","The ability to associate revision numbers with development environment (the environment can be set to \u2018dev\u2019, \u2018tst\u2019, or \u2018prd\u2019). This make is it make it possible to develop multiple releases at one time.","The ability to retrieve previous versions of a component or sub-component for either edit or review.","Supportfor multiple development languages.","Ability for users to operate in a separate environment. This includes operations on the users \u2018own\u2019 test data and executables.","Backup and recovery of source code, documentation, test data, etc. . . .","Tools to aid in the debugging of components and sub-components. This would include generation of test data and unit test conditions."]}}}},"Documentation for users on how to use the tools under different conditions and situations.\n\n","From the \/sa directory we will extract the version of each file that has been tagged as production.","Determine Installation Strategy Requirements","Installation of an exemplary Service Assurance Toolkit can be broken down into two parts.\n\n","The directory structure will be stored on ucmmfs02:files5. The directory \/sa will be the mount point to nsmmws09, nsmmws16, and twmmdb02. The binary files for the vcs will need to be added to each users path. This will be done as a modification to each users .cshrc file. All code developing activities should only be done as the developer. In other words DO NOT develop code as the user noc. Each user's .cshrc file will be set up to source a file called sa.cshrc. The sa.cshrc file will be stored in \/sa\/usr. The file sa.cshrc will contain the code needed to switch the user's environment to and from dev, tst, or prd.","dev","This is the primary development environment. All code will be developed and component tested in the \/dev directory. Successful component testing will result in the promotion of the code to the \/tst directory.","tst","This is the primary testing environment. All code once successfully component tested will be migrated to the \/tst directory for assembly level testing. Successful assembly testing will result in the promotion of the code to the \/prd directory. Unsuccessful testing of the code will result in the demotion of the code to \/dev for bug fixes.","prd","This is the primary production directory. All code that has passed both component and assembly testing will be promoted to the \/prd directory. If a bug is found in the production environment the code will be demoted to either \/tst or \/dev for bug fixing.","Determine Implementation Language","Perl is recommended as the implementation language for phase 2. Perl is recommended for the following reasons:\n\n","Change Control requirements include:\n\n","A person should be designated to receive nightly backup confirmations. Two confirmations are sent per machine, one is for full backup and the other is for incremental backup. Incremental backups may be run every night and full backups can be run once a week between Friday evening and Monday morning.","Directory Structure","The following directory structure will be used to store code and configurations on the unix servers. See also , which illustrates an exemplary data structure .",{"@attributes":{"id":"p-0781","num":"2201"},"tables":{"@attributes":{"id":"TABLE-US-00061","num":"00061"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"147pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\/sa"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\/dev"]},{"entry":[{},"\/dat"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"147pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\/archive"]},{"entry":[{},"\/log"]},{"entry":[{},"\/process"]},{"entry":[{},"\/tmp"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\/glueware"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"147pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\/bin"]},{"entry":[{},"\/cfg"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\/prodcfg"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\/prd"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\/dat"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"147pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\/archive"]},{"entry":[{},"\/log"]},{"entry":[{},"\/process"]},{"entry":[{},"\/tmp"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\/glueware"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"147pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\/bin"]},{"entry":[{},"\/cfg"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\/prodcfg"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\/tst"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\/dat"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"147pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\/archive"]},{"entry":[{},"\/log"]},{"entry":[{},"\/process"]},{"entry":[{},"\/tmp"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\/glueware"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"147pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\/bin"]},{"entry":[{},"\/cfg"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\/prodcfg"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\/usr"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\/mod"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\/vcs"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\/bin"]},{"entry":[{},"\/source"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}}},"The Directories \/dev \/prd and \/tst correspond to the build and test environments discussed earlier. Below each environment directory there will be a data directory called \/dat. \/dat will contain the following directories:\n\n","Beneath \/glueware there will be \/bin and \/cfg.\/bin stores the binary \u2018glueware\u2019 files. Glueware is the term for custom scripts to tie together the packaged applications. \/cfg holds any application configuration files. The \/usr directory holds user command as well as the \/mod directory for perl modules.\/vcs holds the \/bin, executables for the version control system, and the \/source directory for storing the version controlled files.",{"@attributes":{"id":"p-0784","num":"2208"},"tables":{"@attributes":{"id":"TABLE-US-00062","num":"00062"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 36"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Identify and Describe Requirement"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"Description: Hardware inventory, Software install locations, and memory\/"},{"entry":"\u2003\u2003\u2003\u2003\u2009disk-space reqs"},{"entry":"Scenarios:"},{"entry":"Type:"},{"entry":"Business Process Flow:"},{"entry":"Overall Rating:"},{"entry":"Business Need Desc:"},{"entry":"Affected Parties: Service Assurance Team"},{"entry":"Project Sponsor: Network Line of Business"},{"entry":"Existing\/New:"},{"entry":"External Dependencies:"},{"entry":"Method for Verification:"},{"entry":"In Scope:"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}},"br":{}},{"@attributes":{"id":"p-0785","num":"2209"},"tables":{"@attributes":{"id":"TABLE-US-00063","num":"00063"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"147pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 37"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Increment:"]},{"entry":[{},"App\/Subsyst Desc\/Flow:"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},{"@attributes":{"id":"p-0786","num":"2210"},"tables":{"@attributes":{"id":"TABLE-US-00064","num":"00064"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 38"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Required if Modifications are made after the Requirement has been"},{"entry":"signed-off"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"Change Request:"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"br":{}},"This section is intended to list the hardware inventory, software instalation locations, and software requirements of the Service Assurance development test network. This section will summarize the detailed findings of an Excel workbook that is accessible in:","Functional Repository\u2192Capability Analysis\u2192Hardware\/Software Expense",{"@attributes":{"id":"p-0789","num":"2213"},"tables":{"@attributes":{"id":"TABLE-US-00065","num":"00065"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"343pt","align":"center"}},"thead":{"row":{"entry":"TABLE 39"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Service Assurance Application Memory and System Requirements"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Suggested Memory",{}]},{"entry":["Program","Requirements","Suggested System Requirements"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["Collector","RAM:","Hardware Requirements:"]},{"entry":[{},"Object Server: 50","SUN Workstations: will run all components of Collector."]},{"entry":[{},"Mbytes per server","SPARC 20 or better, Ultra 1 or better, with appropriate"]},{"entry":[{},"(dependant upon","RAM and disk. (recommended system for desktop only:"]},{"entry":[{},"number of events","SPARC 5 or better."]},{"entry":[{},"in the Object","HP Workstations: will run all components of Collector."]},{"entry":[{},"server)","C110 workstation or better, D230, K210, T520 servers or"]},{"entry":[{},{},"better, with appropriate RAM and disk."]},{"entry":[{},"Desktops:","AIX Workstations: AIX v3.2 will run Generic, NetView"]},{"entry":[{},"10 Mbytes per","and Syslog probes, with appropriate RAM and disk. AIX"]},{"entry":[{},"desktop (standard","4.1.2 and above will run all 3.2.1 components."]},{"entry":[{},"user), 15 Mbytes","NT Workstations: NT probes and EventList at present,"]},{"entry":[{},"per desktop","with appropriate RAM and disk."]},{"entry":[{},"(standard user plus","Disk Space:"]},{"entry":[{},"objective view), 20","The following table lists the amount of disk storage required to"]},{"entry":[{},"Mbytes per","store components of the Collector system. In some cases,"]},{"entry":[{},"desktop (above","further economies may be possible, i.e., by discarding unused"]},{"entry":[{},"plus administrator","probes."]},{"entry":[{},"tools)"]},{"entry":[{},"Probes: 5 Mbytes"]},{"entry":[{},"per probe"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"10"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"4","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"5","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"6","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"7","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"8","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"9","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"10","colwidth":"28pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Gateways: 15",{},"Common",{},"Object","Process","Gate","Probes","JEL"]},{"entry":[{},"Mbytes per","Platform\/OS","Files","Desktop","Server","Control","way","(all)","daemon"]},{"entry":[{},"gateway","SunOS 4.1.x","0.7M","30M","1.8M","\u2002\u20091M","1.5M","19M","7M"]},{"entry":[{},"Java Event List: 5","Sun Solaris","0.9M","12M","2.5M","1.4M","2.0M","23M","7M"]},{"entry":[{},"Mbytes per","2.x"]},{"entry":[{},"daemon","HP-UX 9.07","0.8M","11M","1.9M","\u2002\u20091M","1.6M","18M","7M"]},{"entry":[{},"Web server: 2.5","HP-UX","0.8M","11M","2.0M","\u2002\u20091M","1.6M","16M","7M"]},{"entry":[{},"Mbytes per user","10.10 and"]},{"entry":[{},"(typical web","10.20"]},{"entry":[{},"server, will vary)","AIX","0.8M","\u2014","\u2014","1.5M","\u2014","\u20024M","\u2014"]},{"entry":[{},{},"Windows","\u2014","\u2014","\u2014","\u2014","\u2014","\u20026M","\u2014"]},{"entry":[{},{},"NT"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{},"In addition 10\u201320 Mb should be allowed for logging space on"]},{"entry":[{},{},"systems running Gateways, Object Servers, Probes or Process"]},{"entry":[{},{},"Control."]},{"entry":["Reporter","It is recommended that"]},{"entry":[{},"you run the Collector"]},{"entry":[{},"server with a"]},{"entry":[{},"minimum of 128 MB"]},{"entry":[{},"and a maximum of"]},{"entry":[{},"256 MB of memory."]},{"entry":[{},"These values"]},{"entry":[{},"recommendations but"]},{"entry":[{},"if you have the"]},{"entry":[{},"potential for large"]},{"entry":[{},"amounts of data to"]},{"entry":[{},"report on, this is going"]},{"entry":[{},"to be vital to the"]},{"entry":[{},"efficiency of the"]},{"entry":[{},"application. This"]},{"entry":[{},"section describes what"]},{"entry":[{},"action to take on the"]},{"entry":[{},"server if you do not"]},{"entry":[{},"have these values set"]},{"entry":[{},"and you are getting"]},{"entry":[{},"memory errors while"]},{"entry":[{},"running Collector\/"]},{"entry":[{},"Reporter. See page"]},{"entry":[{},"32 of the Admin\/user"]},{"entry":[{},"guide of Reporter for"]},{"entry":[{},"making adjustments to"]},{"entry":[{},"memory for UNIX."]},{"entry":["PATROL","The","CPU and Operating System Requirements:"]},{"entry":["LERLER","PATROLLERLER","Sun SPARC; Solaris2; Min version 2.4; Solaris2-sun4"]},{"entry":[{},"Console should be run","Sun SPARC; Solaris2; Min version 2.5; Solaris25-sun4"]},{"entry":[{},"on a machine with at","nls is a system prerequisite for Sun O\/S 4.xx installations"]},{"entry":[{},"least 64 MB of","Disk Space:"]},{"entry":[{},"memory.","Each PATROLLERLER Console requires about 20 MB of"]},{"entry":[{},{},"disk space. The Console also requires an additional 31 MB"]},{"entry":[{},{},"of disk space for the supporting files such as icon images"]},{"entry":[{},{},"and online help files. You will need an additional 27 MB"]},{"entry":[{},{},"of disk space if you choose to install the optional"]},{"entry":[{},{},"background images for European country maps."]},{"entry":[{},{},"Each PATROLLERLER Agent requires about 10 MB of"]},{"entry":[{},{},"disk space."]},{"entry":[{},{},"Each PATROLLERLER Event Manager (PEM) Console"]},{"entry":[{},{},"requires about 5 MB of disk space. If the PEM Console is"]},{"entry":[{},{},"installed independently of the PATROLLER Console, then"]},{"entry":[{},{},"an additional 24 MB of disk space is required for the"]},{"entry":[{},{},"supporting files such as icon images and online help files."]},{"entry":[{},{},"PATROLLERLER Module space requirements vary. The"]},{"entry":[{},{},"installation script furnishes an estimate of each module's"]},{"entry":[{},{},"requirements:"]},{"entry":["Event","ii","Hardware Configuration: (minimum UNIX)"]},{"entry":["Correlator","48 MB for the","200 MB disc space color monitor 1024 \u00d7 768"]},{"entry":["and","server","Solaris 2.5.1 or HP\/UX 10.20"]},{"entry":["Manager","32 MB for the","Hardware Configuration: (minimum NT)"]},{"entry":[{},"client","P5-166 Intel Processor, 40 MB disc space, color monitor"]},{"entry":[{},"NT","1024 \u00d7 768"]},{"entry":[{},"32 MB RAM","Microsoft Windows NT 4.0"]},{"entry":[{},{},"Note: Supports the following:"]},{"entry":[{},{},"OpenView Network Node Manager-versions 4.11"]},{"entry":[{},{},"and 5.01"]},{"entry":[{},{},"OpenView IT\/Operations-version 4.0 for HP-UX"]},{"entry":["HP","iii","Unix"]},{"entry":["OpenView",{},"Computer:"]},{"entry":"Unix"},{"entry":["Version","64 Mbytes","Use one of the following computers as the NNM"]},{"entry":["5.01","recommended","Management Station."]},{"entry":["NT","minimum","HP 9000 Series 700"]},{"entry":["Version","32 Mbytes","HP 9000 Series 800, J and K models"]},{"entry":["5.02","minimum for","Sun SPARCstation 5,10,20,2000"]},{"entry":[{},"NNM 250","Sun SPARCclassics"]},{"entry":[{},"Note: The amount of","Sun Servers"]},{"entry":[{},"RAM in your NNM","Graphics Display"]},{"entry":[{},"management station","X Terminal or Workstation graphics display with"]},{"entry":[{},"should be based on the","1280 \u00d7 1024 resolution, 8 color planes (recommended)"]},{"entry":[{},"number of nodes","1024 \u00d7 768 resolution, 6 color planes (minimum)"]},{"entry":[{},"which you wish to","20\u2033 display"]},{"entry":[{},"manage. Additional","Installation Device"]},{"entry":[{},"RAM may also be","CD-ROM drive"]},{"entry":[{},"required to run third-","Disk Space"]},{"entry":[{},"party Open View","The minimal disk space for NNM installation is shown"]},{"entry":[{},"applications on top of","below"]},{"entry":[{},"NNM. See the","HP-UX 9.x\u201385 Mbytes"]},{"entry":[{},"Network Node","HP-UX 10.x\u201385 Mbytes"]},{"entry":[{},"Manager Performance","Solaris 2.x\u2013130 Mbytes"]},{"entry":[{},"and Configuration","Operating System"]},{"entry":[{},"Guide for assistance in","One of the operating systems listed below must be running"]},{"entry":[{},"calculating for the","on the NNM mgmt system."]},{"entry":[{},"optimum amount of","HP-UX 9.0\u20139.07 (9.x)"]},{"entry":[{},"RAM.","HP-UX 10.01, 10.10, and 10.20 (10.x)"]},{"entry":[{},"iv","Solaris 2.4 and 2.5.x"]},{"entry":[{},"32 Mbytes of","Networking Subsystem"]},{"entry":[{},"RAM to manage","The appropriate TCP\/IP networking subsystems (e.g. LAN"]},{"entry":[{},"250 nodes and,","Link, ARPA Services) found within the operating system"]},{"entry":[{},"48 Mbytes of","must be installed and configured to yield TCP\/IP network"]},{"entry":[{},"RAM to manage","connectivity"]},{"entry":[{},"up to 2500 nodes.","Windowing Subsystem"]},{"entry":[{},"Note: You will need","HIP-UX: X Windows\/Motif"]},{"entry":[{},"to have a minimum","Solaris: OpenWindows"]},{"entry":[{},"amount of paging file","SNMP Agent"]},{"entry":[{},"size (available virtual","The NNM management station must be running an SNMP"]},{"entry":[{},"memory) configured.","agent. An SNMP agent is shipped with NNM for HP-UX 9.x"]},{"entry":[{},"If NNM is being","and Solaris systems, and is automatically installed when"]},{"entry":[{},"installed as a remote","installing NNM. HP-UX 10.x systems use the SNMP agent"]},{"entry":[{},"console, Paging Files","shipped with the operating system."]},{"entry":[{},"is checked to be at","NT"]},{"entry":[{},"least 50 Mbytes. If","Operating System"]},{"entry":[{},"this is not a remote","You should be running Windows NT 3.51 or Windows NT"]},{"entry":[{},"console installation,","4.0 for NNM or higher to run successfully"]},{"entry":[{},"60 Mbytes will be the","Graphics Display"]},{"entry":[{},"minimum.","Your screen resolution must be at least 600 \u00d7 800 to"]},{"entry":[{},{},"support NNM display objects."]},{"entry":[{},{},"Networking Subsystem"]},{"entry":[{},{},"You should have TCP\/IP services installed."]},{"entry":["Platinum","v","VCI (important component of CCC\/Harvest)"]},{"entry":["Tech-","Server","Microsoft Windows 95 or Windows NT"]},{"entry":["nology","16 Mb main","Tool that supports Microsoft's Common Source Code"]},{"entry":["CCC\/","memory","Control (SCC) Interface. Following is a partial list of"]},{"entry":["Harvest","It is recommended","SCC-compliant tools:"]},{"entry":[{},"that 2 Mb of","Visual C++ 4.2 and 5.0"]},{"entry":[{},"virtual memory is","Visual Basic 4.0 and 5.0"]},{"entry":[{},"allocated for each","Visual J++ 1.1"]},{"entry":[{},"user","Paradigm Plus 3.5.1"]},{"entry":[{},"Client (Solaris)","PowerBuilder 5.0.03"]},{"entry":[{},"SPARCstation or","Unix"]},{"entry":[{},"SPARCserver","CD-ROM drive, 8 mm tape drive, 4 mm DDS cartridge, or"]},{"entry":[{},"running Solaris 2.5","\u00bc-inch cartridge tape drive"]},{"entry":[{},"(SunOS 5.5) or","Oracle RDBMS version 7.3 or beyond, including the"]},{"entry":[{},"with X-Windows","following options:"]},{"entry":[{},"System Version","SQL*Plus, PL\/SQL, SQL*Loader, Pro-C, SQL*Net"]},{"entry":[{},"11R5.","Note: HP-UX 10 requires Oracle 7.3.4 or beyond."]},{"entry":[{},"Approximately 50","NT"]},{"entry":[{},"MB of disk space","IBM-compatible computer with a 486, or Pentium"]},{"entry":[{},"is required for the","processor"]},{"entry":[{},"installation process","Network connection to a Unix or Windows NT-based"]},{"entry":[{},"of the","server using the TCP\/IP protocol"]},{"entry":[{},"CCC\/Harvest"]},{"entry":[{},"product files."]},{"entry":[{},"vi"]},{"entry":[{},"Server"]},{"entry":[{},"At least 12 Mb of"]},{"entry":[{},"free hard drive"]},{"entry":[{},"space"]},{"entry":[{},"A minimum of 32"]},{"entry":[{},"Mb main memory."]},{"entry":[{},"The Oracle"]},{"entry":[{},"database and"]},{"entry":[{},"CC\/Harvest"]},{"entry":[{},"Broker together"]},{"entry":[{},"require about 14"]},{"entry":[{},"Mb, with an"]},{"entry":[{},"additional 3.5 Mb"]},{"entry":[{},"for each server"]},{"entry":[{},"process."]},{"entry":[{},"Client"]},{"entry":[{},"At least 8 Mb of"]},{"entry":[{},"RAM, 16"]},{"entry":[{},"recommended."]},{"entry":[{},"Win95 or WinNT-"]},{"entry":[{},"minimum of 14"]},{"entry":[{},"Mb of hard disk"]},{"entry":[{},"space"]},{"entry":["TelAlert",{},"SERVERS:"]},{"entry":[{},{},"AIX (IBM RS\/6000)"]},{"entry":[{},{},"AT&T GIS Unix SVR4 MP-RAS (AT&T\/NCR System 3000)"]},{"entry":[{},{},"Digital Unix (Alpha)"]},{"entry":[{},{},"DYNIX\/ptx (Sequent)"]},{"entry":[{},{},"HP-UX (9.x\/10.x Series 300,400,700 and 800)"]},{"entry":[{},{},"Linux"]},{"entry":[{},{},"MIPS ABI"]},{"entry":[{},{},"SCO Unix"]},{"entry":[{},{},"SGI Irix"]},{"entry":[{},{},"Solaris (Sun Sparc)"]},{"entry":[{},{},"SunOS (Sun Sparc)"]},{"entry":[{},{},"Windows NT"]},{"entry":[{},{},"CLIENTS:"]},{"entry":[{},{},"All of the above, as well as:"]},{"entry":[{},{},"MPE\/V (HP 3000)"]},{"entry":[{},{},"MPE\/iX (HP 3000)"]},{"entry":[{},{},"OpenVMS (Alpha)"]},{"entry":[{},{},"OpenVMS (VAX)"]},{"entry":[{},{},"Platforms which are supported for clients, but are not delivered"]},{"entry":[{},{},"on the standard TelAlert distribution include:"]},{"entry":[{},{},"OS\/400"]},{"entry":[{},{},"MVS"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}},"br":{}},{"@attributes":{"id":"p-0790","num":"2214"},"tables":{"@attributes":{"id":"TABLE-US-00066","num":"00066"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 40"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Consoles + Agents\/Modules:"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"4","colwidth":"56pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Host Name","Machine Type","Host ID","IP Address"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]},{"entry":[{},"nsmmws16","Sun Sparc 20","7235a79f","149.122.57.25"]},{"entry":[{},"nsmmws09","Sun Sparc 10","7260a126","149.122.57.56"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]}]}}]}}},{"@attributes":{"id":"p-0791","num":"2215"},"tables":{"@attributes":{"id":"TABLE-US-00067","num":"00067"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 41"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Agents\/KMS only:"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"84pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Host Name","Machine Type","IP Address"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"84pt","align":"char","char":"."}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"nsmmws17","Sun Sparc 5","149.122.57.26"]},{"entry":[{},"nsmmws18","Sun Sparc 5","149.122.57.26"]},{"entry":[{},"nsmmws01","Sun Sparc 5","149.122.57.68"]},{"entry":[{},"nsmmpc56","Compaq LTE5300","*149.122.57.178"]},{"entry":[{},"nsmmpc23","Compaq LTE5300","*149.122.57.247"]},{"entry":[{},"nsmmpd39","Compaq LTE5300","*149.122.57.221"]},{"entry":[{},"nsmmpc39","Compaq XL6150","*149.122.57.180"]},{"entry":[{},"nsmmpd48","Compaq XL6150","*149.122.57.223"]},{"entry":[{},"nsmmpd93","Compaq XL6150","*149.122.57.234"]},{"entry":[{},"mpclc1005","Compaq Proliant","149.122.61.29"]},{"entry":[{},{},"2500"]},{"entry":[{},"mpclc1006","Compaq Proliant","149.122.61.30"]},{"entry":[{},{},"2500"]},{"entry":[{},"nsmmnt01","Compaq Proliant","149.122.61.24"]},{"entry":[{},{},"2500"]},{"entry":[{},"nsmmnt02","Compaq Proliant","149.122.62.12"]},{"entry":[{},{},"2500"]},{"entry":[{},"nsmmnt03","Compaq Proliant","149.122.57.37"]},{"entry":[{},{},"2500"]},{"entry":[{},"nsmmnt04","Compaq Proliant","149.122.57.38"]},{"entry":[{},{},"2500"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]},{"entry":[{},"*Denotes a dynamic (DHCP supplied) IP address"]}]}}]}},"br":{}},"This section will list Service Assurance's responsibilities to an exemplary network to insure timely backup and recovery.","Body Section","Changes to monitoring and backups should be logged as a trouble ticket with the computer related service center.","An individual from the project should be identified to receive backup completion notices. These notices are mailed at the completion of each nightly backup cycle. This person should then verify that all Service Assurance servers were adequately backed up the previous night.","SA Environment Build Index","This section provides an overview of exemplary steps to build the Service Assurance environment. The procedures ate presented as an ordered list, and unless denoted by \u2018*\u2019, should be performed in their respective order. Procedures denoted by \u2018*\u2019are independent, and can be performed out of order with respect to other procedures at their respective level in the hierarchy.","Building the Service Assurance Environment",{"@attributes":{"id":"p-0796","num":"0000"},"ul":{"@attributes":{"id":"ul0317","list-style":"none"},"li":["Network Management Station System Build\n    \n    ","Install HP OpenView Network Node Manager (NNM)","Install Patroller *\n    \n    ","Install ECM","Install SAS *","Telalert Installation & Configuration *","Install Netscape FastTrack Server *","Install Oracle *","Install Perl *","Install Perl Modules *","Install custom scripts","Event Handling System (EHS) setup and configuration","EHS component test","Network Availability (NA) setup and configuration","NA component test","Process Availability (PA) setup and configuration","PA component test","Service Availability (SA) setup and configuration","SA component test","Reporting System (RS) setup and configuration","RS component test (Reporting Test Cases.doc)\n\nMoving \/sa Directory Structure Between Machines\n"]}},"This is a short explanation of the steps and commands recommended to move the \/sa directory structure from one machine to another.","Body Section",{"@attributes":{"id":"p-0798","num":"0000"},"ul":{"@attributes":{"id":"ul0320","list-style":"none"},"li":["Use the unix tar command to create an archive of \/sa\n    \n    ","Copy or FTP the files to the destination machine.","Use the unix tar command to extract the archive for netman and vcs.\n    \n    ","NSF mount the \/sa directory into the root of other directories.","Confirm that the vcs\/bin directory is in the noc users path.\n\nRemote Shell & .rhost Configuration\n"]}},"This section will be a very brief overview of starting a remote shell between unix servers.","Body Section","The .rhosts file is used to control access between unix servers also known as remote authentication (see also \/etc\/hosts.equiv).","The .rhosts file is placed in the root of the noc users home. This will allow noc to rlogin from the specified host without a password.","The .rhosts file on twmmdb02 contains the following line:\n\n","This allows the local noc account on nsmmnm09 to connect to twmmdb02 using rlogin and no password. Also, we could explicitly deny access to the local noc user on nsmmnm09 with the line:\n\n","Depending on the policies in place at the client, the system build and administration will very likely be handled exclusively by their operations group. For this reason guidelines are provided here that should be followed, but specific instructions will not be provided.","This section specifically discusses Sun Solaris 2.x systems. Specifics will be different, but the concepts and processes are similar for HP-UX 10.x and higher.","Body Section","Hardware Requirements","The base requirements to run all of the Service Assurance applications concurrently on one Sun Solaris system are:\n\n","Having a single CPU system should not be considered due to the high number of applications and processes that will be running on the system. Based on prior experience, lower amounts of system memory can severely degrade performance. External disk storage will vary based on the size of the environment being monitored. The 20 GB listed above should be sufficient for a medium sized environment (\u02dc500 monitored nodes).","Hardware Setup & Configuration","As discussed in the requirements section, dual (or more) CPUs and a large amount of physical RAM are crucial to the performance of the system. Mirroring of the system disk is critical for maintaining availability of the Service Assurance system. Mirroring and striping is crucial on the external drives to provide the performance and throughput required by the real-time data gathering portions of the system.","OS Install","Install the Base OS","Install the Solaris 2.x operating system as explained in the Solaris manual or the Teleworks\u2014NSM procedure. You will want to ensure that the system has adequate swap space on the system disks.","Install recommended and security patches","You will want to install any recommended vendor patches so that you have an up to date system.","Install any patches that are required by applications","Some of the applications you will be installing may require specific operating system patches. If this is the case, it is easier to install the patches immediately.","Details of using the Version Control System (VCS)",{"@attributes":{"id":"p-0814","num":"0000"},"ul":{"@attributes":{"id":"ul0329","list-style":"none"},"li":{"@attributes":{"id":"ul0329-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0330","list-style":"none"},"li":["The VCS should only be used on files that use \u2018#\u2019 to denote comments. This is due to the vcs header being framed with \u2018#\u2019.","Ownership of the files will be noc:twsa, twsa is a nis group to which members of the Service Assurance team belongs.","The ability to check in and check out files so that only one person is editing a file at a time. A lock file is created in the \/sa\/vcs\/source which controls usage.","When a file is checked in; its file permissions are 544.","When a file is checked out; its file permissions are 744.","Each time a file is checked out, edited and checked back in; the revision of that file is incremented. For Example, when version 1.9 is checked back in it becomes version 1.10."]}}}},"Applications that will exist as part of the Version Control System","vcsclear","Clears a file lock so the file can be edited or restored by a person other than the person who checked it out. This command should be used rarely and only as required for code maintenance.","vcsedit","This is the primary command for checking afile out (for editing purposes) of the vcs. A lock on the specif tedfile is created andfile permissions are set to allow the user to edit the file. The user must manually call vi (or text editor of choice) to edit the file. This command can also be used to retrieve a previous version of a file.","vcsenv","Provides information on which version of a file belongs to which environment. Also, allows changes to be made to environment\/revision associations.","vcsget","Retrieves a read-only copy of a file for viewing purposes. No lockfile is created. This command can be used to get a copy offile for off-line editing in a user's home directory. This command can also be used to retrieve a previous version of a file or recover when a file has been accidently deleted.","vcsinfo","Provides information on afile that is being version controlled, including name and location of the vcs recordfile as well as whether the file has been locked and who has it locked.","vcsput","This is the primary command for checking afile back into the vcs after editing or when it is first created. The file permissions are reset and the lockfile is removed.","Creating a new file that needs to be version controlled.\n\n","The file is added to the vcs for the first time. User will be prompted for username and a comment. The file permissions are updated and a recordfile is started.\n\n","This creates a lock file for foo.pl and the user can now safely edit the file.","Informational Commands of the vcs\n\n","Indicates whether a record file currently exists and if it is locked or not.\n\n","Indicates which version of a file belongs in which environment. Also, allows the user to make changes to environment and version association.\n\n","A previous user forget to check a file back in after a vcsedit command. This allows the lock file to be cleared so the next user can edit the file. Changes to the file from the previous user are lost.\n\n","A user wishes to work on a copy of a file in their home account for testing purposes. This will create a copy of the latest version of the file in the current directory without locking the file. If the file is later copied back into the development environment care must be taken not overwrite the version of the file already there.","While various embodiments have been described above, it should be understood that they have been presented by way of example only, and not limitation. Thus, the breadth and scope of a preferred embodiment should not be limited by any of the above described exemplary embodiments, but should be defined only in accordance with the following claims and their equivalents."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The invention will be better understood when consideration is given to the following detailed description thereof. Such description makes reference to the annexed drawings wherein:",{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 8","sub":["\u2014","\u2014"]},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 16"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 17A"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 17B"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 18"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 19"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 20"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 21"},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 22"},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 23"},{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 24"},{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 25"},{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 26"},{"@attributes":{"id":"p-0040","num":"0039"},"figref":"FIG. 27"},{"@attributes":{"id":"p-0041","num":"0040"},"figref":"FIG. 28"},{"@attributes":{"id":"p-0042","num":"0041"},"figref":"FIG. 29"},{"@attributes":{"id":"p-0043","num":"0042"},"figref":"FIG. 30"},{"@attributes":{"id":"p-0044","num":"0043"},"figref":"FIG. 31"},{"@attributes":{"id":"p-0045","num":"0044"},"figref":"FIG. 32"}]},"DETDESC":[{},{}]}
