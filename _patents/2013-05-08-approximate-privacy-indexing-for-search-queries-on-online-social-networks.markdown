---
title: Approximate privacy indexing for search queries on online social networks
abstract: In one embodiment, a method includes receiving from a first user of an online social network a search query, searching data stores to identify objects that match the search query, where identifying the objects is also based in part on the privacy setting for each object, determining for each identified object a visibility of the object with respect to the first user, and generating one or more search results corresponding to the search query.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09330183&OS=09330183&RS=09330183
owner: Facebook, Inc.
number: 09330183
owner_city: Menlo Park
owner_country: US
publication_date: 20130508
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["TECHNICAL FIELD","BACKGROUND","SUMMARY OF PARTICULAR EMBODIMENTS","DESCRIPTION OF EXAMPLE EMBODIMENTS"],"p":["This disclosure generally relates to social graphs and performing searches for objects within a social-networking environment.","A social-networking system, which may include a social-networking website, may enable its users (such as persons or organizations) to interact with it and with each other through it. The social-networking system may, with input from a user, create and store in the social-networking system a user profile associated with the user. The user profile may include demographic information, communication-channel information, and information on personal interests of the user. The social-networking system may also, with input from a user, create and store a record of relationships of the user with other users of the social-networking system, as well as provide services (e.g. wall posts, photo-sharing, event organization, messaging, games, or advertisements) to facilitate social interaction between or among users.","The social-networking system may send over one or more networks content or messages related to its services to a mobile or other computing device of a user. A user may also install software applications on a mobile or other computing device of the user for accessing a user profile of the user and other data within the social-networking system. The social-networking system may generate a personalized set of content objects to display to a user, such as a newsfeed of aggregated stories of other users connected to the user.","Social-graph analysis views social relationships in terms of network theory consisting of nodes and edges. Nodes represent the individual actors within the networks, and edges represent the relationships between the actors. The resulting graph-based structures are often very complex. There can be many types of nodes and many types of edges for connecting nodes. In its simplest form, a social graph is a map of all of the relevant edges between all the nodes being studied.","There may be information associated with particular users stored with the system (e.g., in connection with the corresponding user accounts). Each user may upload and submit information to the system. The system may store each user's information on behalf of that user and in association with that user. The user may access his information stored with the system. In addition, the user may choose to grant other users access to his information stored with the system.","In particular embodiments, a user of a social-networking system may search for objects associated with the system using search queries.","In particular embodiments, the social-networking system may improve the indexing process by searching data stores for matching objects that have a privacy setting that is likely to allow the objects to be accessed by a querying user. In response to a search query received from a first user (i.e., the querying user), the social-networking system may access one or more data stores to search for matching objects. Typically, the social-networking system may perform privacy checks using a frontend process that filters out search results just before results are sent to the user. For example, access control using privacy settings may be performed by a frontend PHP process hosed by the social-networking system. After a data store has been searched to identify objects matching the search query, the privacy settings for each identified object may be used to filter out results that are not visible to the user, such that only objects that are visible to the user are sent to the user as search results. However, performing privacy checks at this step may result in a large number of objects that are identified when searching a data store to be filtered out, such that additional indexing must be performed in order to generate an adequate number of search results. The efficiency of the indexing process may be improved by applying privacy filters when querying data stores. In particular embodiments, the privacy check process may be approximated during indexing by searching for objects that both match the search query and also have a privacy setting that would allow the querying user to access the object. In this way, objects that are identified during indexing may effectively be pre-filtered based on privacy settings, such that the identified object are more likely to make it through the frontend privacy checks and be generated as search results. This may allow the social-networking system to reduce the amount of data over-fetching needed to generate search result.",{"@attributes":{"id":"p-0017","num":"0016"},"figref":["FIG. 1","FIG. 1","FIG. 1"],"b":["100","100","130","160","170","110","130","160","170","110","130","160","170","110","130","160","170","110","130","160","170","130","160","170","110","130","160","170","110","100","130","160","170","110"]},"This disclosure contemplates any suitable network . As an example and not by way of limitation, one or more portions of network  may include an ad hoc network, an intranet, an extranet, a virtual private network (VPN), a local area network (LAN), a wireless LAN (WLAN), a wide area network (WAN), a wireless WAN (WWAN), a metropolitan area network (MAN), a portion of the Internet, a portion of the Public Switched Telephone Network (PSTN), a cellular telephone network, or a combination of two or more of these. Network  may include one or more networks .","Links  may connect client system , social-networking system , and third-party system  to communication network  or to each other. This disclosure contemplates any suitable links . In particular embodiments, one or more links  include one or more wireline (such as for example Digital Subscriber Line (DSL) or Data Over Cable Service Interface Specification (DOCSIS)), wireless (such as for example Wi-Fi or Worldwide Interoperability for Microwave Access (WiMAX)), or optical (such as for example Synchronous Optical Network (SONET) or Synchronous Digital Hierarchy (SDH)) links. In particular embodiments, one or more links  each include an ad hoc network, an intranet, an extranet, a VPN, a LAN, a WLAN, a WAN, a WWAN, a MAN, a portion of the Internet, a portion of the PSTN, a cellular technology-based network, a satellite communications technology-based network, another link , or a combination of two or more such links . Links  need not necessarily be the same throughout network environment . One or more first links  may differ in one or more respects from one or more second links .","In particular embodiments, client system  may be an electronic device including hardware, software, or embedded logic components or a combination of two or more such components and capable of carrying out the appropriate functionalities implemented or supported by client system . As an example and not by way of limitation, client system  may include a computer system such as a desktop computer, notebook or laptop computer, netbook, a tablet computer, e-book reader, GPS device, camera, personal digital assistant (PDA), handheld electronic device, cellular telephone, smartphone, other suitable electronic device, or any suitable combination thereof. This disclosure contemplates any suitable client systems . Client system  may enable a network user at client system  to access network . Client system  may enable its user to communicate with other users at other client systems .","In particular embodiments, client system  may include a web browser , such as MICROSOFT INTERNET EXPLORER, GOOGLE CHROME or MOZILLA FIREFOX, and may have one or more add-ons, plug-ins, or other extensions, such as TOOLBAR or YAHOO TOOLBAR. A user at client system  may enter a Uniform Resource Locator (URL) or other address directing the web browser  to a particular server (such as server , or a server associated with third-party system ), and the web browser  may generate a Hyper Text Transfer Protocol (HTTP) request and communicate the HTTP request to server. The server may accept the HTTP request and communicate to client system  one or more Hyper Text Markup Language (HTML) files responsive to the HTTP request. Client system  may render a webpage based on the HTML files from the server for presentation to the user. This disclosure contemplates any suitable webpage files. As an example and not by way of limitation, webpages may render from HTML files, Extensible Hyper Text Markup Language (XHTML) files, or Extensible Markup Language (XML) files, according to particular needs. Such pages may also execute scripts such as, for example and without limitation, those written in JAVASCRIPT, JAVA, MICROSOFT SILVERLIGHT, combinations of markup language and scripts such as AJAX (Asynchronous JAVASCRIPT and XML), and the like. Herein, reference to a webpage encompasses one or more corresponding webpage files (which a browser may use to render the webpage) and vice versa, where appropriate.","In particular embodiments, social-networking system  may be a network-addressable computing system that can host an online social network. Social-networking system  may generate, store, receive, and send social-networking data, such as, for example, user-profile data, concept-profile data, social-graph information, or other suitable data related to the online social network. Social-networking system  may be accessed by the other components of network environment  either directly or via network . In particular embodiments, social-networking system  may include one or more servers . Each server  may be a unitary server or a distributed server spanning multiple computers or multiple datacenters. Servers  may be of various types, such as, for example and without limitation, web server, news server, mail server, message server, advertising server, file server, application server, exchange server, database server, proxy server, another server suitable for performing functions or processes described herein, or any combination thereof. In particular embodiments, each server  may include hardware, software, or embedded logic components or a combination of two or more such components for carrying out the appropriate functionalities implemented or supported by server . In particular embodiments, social-networking system  may include one or more data stores . Data stores  may be used to store various types of information. In particular embodiments, the information stored in data stores  may be organized according to specific data structures. In particular embodiments, each data store  may be a relational, columnar, correlation, or other suitable database. Although this disclosure describes or illustrates particular types of databases, this disclosure contemplates any suitable types of databases. Particular embodiments may provide interfaces that enable client system , social-networking system , or third-party system  to manage, retrieve, modify, add, or delete, the information stored in data store .","In particular embodiments, social-networking system  may store one or more social graphs in one or more data stores . In particular embodiments, a social graph may include multiple nodes\u2014which may include multiple user nodes (each corresponding to a particular user) or multiple concept nodes (each corresponding to a particular concept)\u2014and multiple edges connecting the nodes. Social-networking system  may provide users of the online social network the ability to communicate and interact with other users. In particular embodiments, users may join the online social network via social-networking system  and then add connections (i.e., relationships) to a number of other users of social-networking system  whom they want to be connected to. Herein, the term \u201cfriend\u201d may refer to any other user of social-networking system  with whom a user has formed a connection, association, or relationship via social-networking system .","In particular embodiments, social-networking system  may provide users with the ability to take actions on various types of items or objects, supported by social-networking system . As an example and not by way of limitation, the items and objects may include groups or social networks to which users of social-networking system  may belong, events or calendar entries in which a user might be interested, computer-based applications that a user may use, transactions that allow users to buy or sell items via the service, interactions with advertisements that a user may perform, or other suitable items or objects. A user may interact with anything that is capable of being represented in social-networking system  or by an external system of third-party system , which is separate from social-networking system  and coupled to social-networking system  via a network .","In particular embodiments, social-networking system  may be capable of linking a variety of entities. As an example and not by way of limitation, social-networking system  may enable users to interact with each other as well as receive content from third-party systems  or other entities, or to allow users to interact with these entities through an application programming interfaces (API) or other communication channels.","In particular embodiments, third-party system  may include one or more types of servers, one or more data stores, one or more interfaces, including but not limited to APIs, one or more web services, one or more content sources, one or more networks, or any other suitable components, e.g., that servers may communicate with. A third-party system  may be operated by a different entity from an entity operating social-networking system . In particular embodiments, however, social-networking system  and third-party systems  may operate in conjunction with each other to provide social-networking services to users of social-networking system  or third-party systems . In this sense, social-networking system  may provide a platform, or backbone, which other systems, such as third-party systems , may use to provide social-networking services and functionality to users across the Internet.","In particular embodiments, third-party system  may include a third-party content object provider. A third-party content object provider may include one or more sources of content objects, which may be communicated to client system . As an example and not by way of limitation, content objects may include information regarding things or activities of interest to the user, such as, for example, movie show times, movie reviews, restaurant reviews, restaurant menus, product information and reviews, or other suitable information. As another example and not by way of limitation, content objects may include incentive content objects, such as coupons, discount tickets, gift certificates, or other suitable incentive objects.","In particular embodiments, social-networking system  also includes user-generated content objects, which may enhance a user's interactions with social-networking system . User-generated content may include anything a user can add, upload, send, or \u201cpost\u201d to social-networking system . As an example and not by way of limitation, a user communicates posts to social-networking system  from client system . Posts may include data such as status updates or other textual data, location information, photos, videos, links, music or other similar data or media. Content may also be added to social-networking system  by a third-party through a \u201ccommunication channel,\u201d such as a newsfeed or stream.","In particular embodiments, social-networking system  may include a variety of servers, sub-systems, programs, modules, logs, and data stores. In particular embodiments, social-networking system  may include one or more of the following: a web server, action logger, API-request server, relevance-and-ranking engine, content-object classifier, notification controller, action log, third-party-content-object-exposure log, inference module, authorization\/privacy server, search module, ad-targeting module, user-interface module, user-profile store, connection store, third-party content store, or location store. Social-networking system  may also include suitable components such as network interfaces, security mechanisms, load balancers, failover servers, management-and-network-operations consoles, other suitable components, or any suitable combination thereof. In particular embodiments, social-networking system  may include one or more user-profile stores for storing user profiles. A user profile may include, for example, biographic information, demographic information, behavioral information, social information, or other types of descriptive information, such as work experience, educational history, hobbies or preferences, interests, affinities, or location. Interest information may include interests related to one or more categories. Categories may be general or specific. As an example and not by way of limitation, if a user \u201clikes\u201d an article about a brand of shoes the category may be the brand, or the general category of \u201cshoes\u201d or \u201cclothing.\u201d A connection store may be used for storing connection information about users. The connection information may indicate users who have similar or common work experience, group memberships, hobbies, educational history, or are in any way related or share common attributes. The connection information may also include user-defined connections between different users and content (both internal and external). A web server may be used for linking social-networking system  to one or more client systems  or one or more third-party system  via network . The web server may include a mail server or other messaging functionality for receiving and routing messages between social-networking system  and one or more client systems . An API-request server may allow third-party system  to access information from social-networking system  by calling one or more APIs. An action logger may be used to receive communications from a web server about a user's actions on or off social-networking system . In conjunction with the action log, a third-party-content-object log may be maintained of user exposures to third-party-content objects. A notification controller may provide information regarding content objects to client system . Information may be pushed to client system  as notifications, or information may be pulled from client system  responsive to a request received from client system . Authorization servers may be used to enforce one or more privacy settings of the users of social-networking system . A privacy setting of a user determines how particular information associated with a user can be shared. The authorization server may allow users to opt in or opt out of having their actions logged by social-networking system  or shared with other systems (e.g., third-party system ), such as, for example, by setting appropriate privacy settings. Third-party-content-object stores may be used to store content objects received from third parties, such as third-party system . Location stores may be used for storing location information received from client systems  associated with users. Advertisement-pricing modules may combine social information, the current time, location information, or other suitable information to provide relevant advertisements, in the form of notifications, to a user.",{"@attributes":{"id":"p-0030","num":"0029"},"figref":["FIG. 2","FIG. 2"],"b":["200","160","200","200","202","204","206","200","160","130","170","200","200","200"]},"In particular embodiments, a user node  may correspond to a user of social-networking system . As an example and not by way of limitation, a user may be an individual (human user), an entity (e.g., an enterprise, business, or third-party application), or a group (e.g., of individuals or entities) that interacts or communicates with or over social-networking system . In particular embodiments, when a user registers for an account with social-networking system , social-networking system  may create a user node  corresponding to the user, and store the user node  in one or more data stores. Users and user nodes  described herein may, where appropriate, refer to registered users and user nodes  associated with registered users. In addition or as an alternative, users and user nodes  described herein may, where appropriate, refer to users that have not registered with social-networking system . In particular embodiments, a user node  may be associated with information provided by a user or information gathered by various systems, including social-networking system . As an example and not by way of limitation, a user may provide his or her name, profile picture, contact information, birth date, sex, marital status, family status, employment, education background, preferences, interests, or other demographic information. In particular embodiments, a user node  may be associated with one or more data objects corresponding to information associated with a user. In particular embodiments, a user node  may correspond to one or more webpages.","In particular embodiments, a concept node  may correspond to a concept. As an example and not by way of limitation, a concept may correspond to a place (such as, for example, a movie theater, restaurant, landmark, or city); a website (such as, for example, a website associated with social-network system  or a third-party website associated with a web-application server); an entity (such as, for example, a person, business, group, sports team, or celebrity); a resource (such as, for example, an audio file, video file, digital photo, text file, structured document, or application) which may be located within social-networking system  or on an external server, such as a web-application server; real or intellectual property (such as, for example, a sculpture, painting, movie, game, song, idea, photograph, or written work); a game; an activity; an idea or theory; another suitable concept; or two or more such concepts. A concept node  may be associated with information of a concept provided by a user or information gathered by various systems, including social-networking system . As an example and not by way of limitation, information of a concept may include a name or a title; one or more images (e.g., an image of the cover page of a book); a location (e.g., an address or a geographical location); a website (which may be associated with a URL); contact information (e.g., a phone number or an email address); other suitable concept information; or any suitable combination of such information. In particular embodiments, a concept node  may be associated with one or more data objects corresponding to information associated with concept node . In particular embodiments, a concept node  may correspond to one or more webpages.","In particular embodiments, a node in social graph  may represent or be represented by a webpage (which may be referred to as a \u201cprofile page\u201d). Profile pages may be hosted by or accessible to social-networking system . Profile pages may also be hosted on third-party websites associated with a third-party server . As an example and not by way of limitation, a profile page corresponding to a particular external webpage may be the particular external webpage and the profile page may correspond to a particular concept node . Profile pages may be viewable by all or a selected subset of other users. As an example and not by way of limitation, a user node  may have a corresponding user-profile page in which the corresponding user may add content, make declarations, or otherwise express himself or herself. As another example and not by way of limitation, a concept node  may have a corresponding concept-profile page in which one or more users may add content, make declarations, or express themselves, particularly in relation to the concept corresponding to concept node .","In particular embodiments, a concept node  may represent a third-party webpage or resource hosted by third-party system . The third-party webpage or resource may include, among other elements, content, a selectable or other icon, or other inter-actable object (which may be implemented, for example, in JavaScript, AJAX, or PHP codes) representing an action or activity. As an example and not by way of limitation, a third-party webpage may include a selectable icon such as \u201clike,\u201d \u201ccheck in,\u201d \u201ceat,\u201d \u201crecommend,\u201d or another suitable action or activity. A user viewing the third-party webpage may perform an action by selecting one of the icons (e.g., \u201ceat\u201d), causing client system  to send to social-networking system  a message indicating the user's action. In response to the message, social-networking system  may create an edge (e.g., an \u201ceat\u201d edge) between a user node  corresponding to the user and a concept node  corresponding to the third-party webpage or resource and store edge  in one or more data stores.","In particular embodiments, a pair of nodes in social graph  may be connected to each other by one or more edges . An edge  connecting a pair of nodes may represent a relationship between the pair of nodes. In particular embodiments, an edge  may include or represent one or more data objects or attributes corresponding to the relationship between a pair of nodes. As an example and not by way of limitation, a first user may indicate that a second user is a \u201cfriend\u201d of the first user. In response to this indication, social-networking system  may send a \u201cfriend request\u201d to the second user. If the second user confirms the \u201cfriend request,\u201d social-networking system  may create an edge  connecting the first user's user node  to the second user's user node  in social graph  and store edge  as social-graph information in one or more of data stores . In the example of , social graph  includes an edge  indicating a friend relation between user nodes  of user \u201cA\u201d and user \u201cB\u201d and an edge indicating a friend relation between user nodes  of user \u201cC\u201d and user \u201cB.\u201d Although this disclosure describes or illustrates particular edges  with particular attributes connecting particular user nodes , this disclosure contemplates any suitable edges  with any suitable attributes connecting user nodes . As an example and not by way of limitation, an edge  may represent a friendship, family relationship, business or employment relationship, fan relationship, follower relationship, visitor relationship, subscriber relationship, superior\/subordinate relationship, reciprocal relationship, non-reciprocal relationship, another suitable type of relationship, or two or more such relationships. Moreover, although this disclosure generally describes nodes as being connected, this disclosure also describes users or concepts as being connected. Herein, references to users or concepts being connected may, where appropriate, refer to the nodes corresponding to those users or concepts being connected in social graph  by one or more edges .","In particular embodiments, an edge  between a user node  and a concept node  may represent a particular action or activity performed by a user associated with user node  toward a concept associated with a concept node . As an example and not by way of limitation, as illustrated in , a user may \u201clike,\u201d \u201cattended,\u201d \u201cplayed,\u201d \u201clistened,\u201d \u201ccooked,\u201d \u201cworked at,\u201d or \u201cwatched\u201d a concept, each of which may correspond to a edge type or subtype. A concept-profile page corresponding to a concept node  may include, for example, a selectable \u201ccheck in\u201d icon (such as, for example, a clickable \u201ccheck in\u201d icon) or a selectable \u201cadd to favorites\u201d icon. Similarly, after a user clicks these icons, social-networking system  may create a \u201cfavorite\u201d edge or a \u201ccheck in\u201d edge in response to a user's action corresponding to a respective action. As another example and not by way of limitation, a user (user \u201cC\u201d) may listen to a particular song (\u201cImagine\u201d) using a particular application (SPOTIFY, which is an online music application). In this case, social-networking system  may create a \u201clistened\u201d edge  and a \u201cused\u201d edge (as illustrated in ) between user nodes  corresponding to the user and concept nodes  corresponding to the song and application to indicate that the user listened to the song and used the application. Moreover, social-networking system  may create a \u201cplayed\u201d edge  (as illustrated in ) between concept nodes  corresponding to the song and the application to indicate that the particular song was played by the particular application. In this case, \u201cplayed\u201d edge  corresponds to an action performed by an external application (SPOTIFY) on an external audio file (the song \u201cImagine\u201d). Although this disclosure describes particular edges  with particular attributes connecting user nodes  and concept nodes , this disclosure contemplates any suitable edges  with any suitable attributes connecting user nodes  and concept nodes . Moreover, although this disclosure describes edges between a user node  and a concept node  representing a single relationship, this disclosure contemplates edges between a user node  and a concept node  representing one or more relationships. As an example and not by way of limitation, an edge  may represent both that a user likes and has used at a particular concept. Alternatively, another edge  may represent each type of relationship (or multiples of a single relationship) between a user node  and a concept node  (as illustrated in  between user node  for user \u201cE\u201d and concept node  for \u201cSPOTIFY\u201d).","In particular embodiments, social-networking system  may create an edge  between a user node  and a concept node  in social graph . As an example and not by way of limitation, a user viewing a concept-profile page (such as, for example, by using a web browser or a special-purpose application hosted by the user's client system ) may indicate that he or she likes the concept represented by the concept node  by clicking or selecting a \u201cLike\u201d icon, which may cause the user's client system  to send to social-networking system  a message indicating the user's liking of the concept associated with the concept-profile page. In response to the message, social-networking system  may create an edge  between user node  associated with the user and concept node , as illustrated by \u201clike\u201d edge  between the user and concept node . In particular embodiments, social-networking system  may store an edge  in one or more data stores. In particular embodiments, an edge  may be automatically formed by social-networking system  in response to a particular user action. As an example and not by way of limitation, if a first user uploads a picture, watches a movie, or listens to a song, an edge  may be formed between user node  corresponding to the first user and concept nodes  corresponding to those concepts. Although this disclosure describes forming particular edges  in particular manners, this disclosure contemplates forming any suitable edges  in any suitable manner.",{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 3","b":["160","164","160","200","160"],"sup":["8","10"]},"In particular embodiments, each object may correspond to a particular node of a social graph . An edge  connecting the particular node and another node may indicate a relationship between objects corresponding to these nodes. In addition to storing objects, a particular data store may also store social-graph information relating to the object. Alternatively, social-graph information about particular objects may be stored in a different data store from the objects. Social-networking system  may update the search index of the data store based on newly received objects, and relationships associated with the received objects.","In particular embodiments, each data store  may be configured to store objects of a particular one of a plurality of object-types in respective data storage devices . An object-type may be, for example, a user, a photo, a post, a comment, a message, an event listing, a webpage, an application, a location, a user-profile page, a concept-profile page, a user group, an audio file, a video, an offer\/coupon, or another suitable type of object. Although this disclosure describes particular types of objects, this disclosure contemplates any suitable types of objects. As an example and not by way of limitation, a user vertical P1 illustrated in  may store user objects. Each user object stored in the user vertical P1 may comprise an identifier (e.g., a character string), a user name, and a profile picture for a user of the online social network. Social-networking system  may also store in the user vertical P1 information associated with a user object such as language, location, education, contact information, interests, relationship status, a list of friends\/contacts, a list of family members, privacy settings, and so on. As an example and not by way of limitation, a post vertical P2 illustrated in  may store post objects. Each post object stored in the post vertical P2 may comprise an identifier, a text string for a post posted to social-networking system . Social-networking system  may also store in the post vertical P2 information associated with a post object such as a time stamp, an author, privacy settings, users who like the post, a count of likes, comments, a count of comments, location, and so on. As an example and not by way of limitation, a photo vertical P3 may store photo objects (or objects of other media types such as video or audio). Each photo object stored in the photo vertical P3 may comprise an identifier and a photo. Social-networking system  may also store in the photo vertical P3 information associated with a photo object such as a time stamp, an author, privacy settings, users who are tagged in the photo, users who like the photo, comments, and so on. In particular embodiments, each data store may also be configured to store information associated with each stored object in data storage devices .","In particular embodiments, objects stored in each vertical  may be indexed by one or more search indices. The search indices may be hosted by respective index server  comprising one or more computing devices (e.g., servers). The index server  may update the search indices based on data (e.g., a photo and information associated with a photo) submitted to social-networking system  by users or other processes of social-networking system  (or a third-party system). The index server  may also update the search indices periodically (e.g., every 24 hours). The index server  may receive a query comprising a search term, and access and retrieve search results from one or more search indices corresponding to the search term. In some embodiments, a vertical corresponding to a particular object-type may comprise a plurality of physical or logical partitions, each comprising respective search indices.","In particular embodiments, social-networking system  may receive a search query from a PHP (Hypertext Preprocessor) process . The PHP process  may comprise one or more computing processes hosted by one or more servers  of social-networking system . The search query may be a text string or a search query submitted to the PHP process by a user or another process of social-networking system  (or third-party system ).","More information on indexes and search queries may be found in U.S. patent application Ser. No. 13\/560,212, filed 27 Jul. 2012, U.S. patent application Ser. No. 13\/560,901, filed 27 Jul. 2012, and U.S. patent application Ser. No. 13\/723,861, filed 21 Dec. 2012, each of which is incorporated by reference.","In particular embodiments, one or more of the objects stored in a data store  may be associated with a privacy setting. The privacy settings (or \u201caccess settings\u201d) for an object may be stored in any suitable manner, such as, for example, in association with the object, in an index on the authorization server, in another suitable manner, or any combination thereof. Privacy settings may be managed or enforces via one or more authorization\/privacy servers of social-networking system . A privacy setting of an object may specify how the object or particular information associated with an object can be accessed, viewed, or shared using the online social network. Where the privacy settings for an object allow a particular user to access, view, or share that object, the object may be described as being \u201cvisible\u201d with respect to that user. As an example and not by way of limitation, a user of the online social network may set privacy settings for a user-profile page specifying a set of users that may access the work experience information on the user-profile page, thus excluding other users from accessing the information. In other words, the user-profile page may be not visible to the excluded users. In particular embodiments, the privacy settings may specify a \u201cblocked list\u201d of users that should not be allowed to access, view, or share certain information associated with the object. In other words, the blocked list may specify one or more users or entities for which an object is not visible. As an example and not by way of limitation, a user may specify a set of users that may not access photos albums associated with the user, thus excluding those users from accessing the photo albums (while also possibly allowing certain users not within the set of users to access the photo albums). In particular embodiments, privacy settings may be associated with particular social-graph elements. Privacy settings of a social-graph element, such as a node or an edge, may specify how the social-graph element (or connections between elements), information associated with the social-graph element, or content objects associated with the social-graph element can be accessed or shared using the online social network. As an example and not by way of limitation, a particular concept node  corresponding to a particular photo may have a privacy setting specifying that the photo may only be viewed by users tagged in the photo and their friends. In particular embodiments, an authorization server may allow users to opt in or opt out of having their actions logged by social-networking system  or shared with other systems (e.g., third-party system ), such as, for example, by specifying appropriate privacy settings. In particular embodiments, the privacy settings associated with an object may specify any suitable granularity of permitted access or denial of access. As an example and not by way of limitation, access or denial of access may be specified for particular users (e.g., only me, my roommates, and my boss), users within a particular degrees-of-separation (e.g., friends, or friends-of-friends), user groups (e.g., the gaming club, my family), user networks (e.g., employees of particular employers, students or alumni of particular university), all users (\u201cpublic\u201d), no users (\u201cprivate\u201d), users of third-party systems , particular applications (e.g., third-party applications, external websites), other suitable users or entities, or any combination thereof. In particular embodiments, privacy\/access settings may place additional restrictions on accessing an object or information associated with the objects. Additional restrictions may include, for example, granting access to only users legally allowed to drink alcohol, granting access to only those with shared experiences or shared interests, restricting access to minors, restriction access to content owned by minors, children, or deceased persons, or any combination thereof. Although this disclosure describes using particular privacy settings in a particular manner, this disclosure contemplates using any suitable privacy settings in any suitable manner.","In particular embodiments, one or more authorization\/privacy servers may be used to enforce one or more privacy settings for objects associated with the online social network. The authorization servers may be one or more servers  of social-networking system . In response to a request from a user (or other entity) for a particular object stored in a data store , social-networking system  may send a request to the data store  for the object. The request may identify the user associated with the request and may only be sent to the user (or a client system  of the user) if the authorization server determines that the user is authorized to access the object based on the privacy settings associated with the object. If the requesting user is not authorized to access the object, the authorization server may prevent the requested object from being retrieved from the data store , or may prevent the requested object from be sent to the user. In the search query context, an object may only be generated as a search result if the querying user is authorized to view or access the object. In other words, the object must have a visibility that is visible to the querying user. If the object has a visibility that is not visible to the user, the object may be excluded from the search results. In particular embodiments, the privacy settings for social-graph elements may be storied a data structure that may be represented as a privacy graph having a number of nodes and edges. The privacy graph may represent the visibility of particular social-graph elements with respect to each other based on their connections to each other. When a user requests a specific piece of information stored in data store , the access control of the social-graph element may be verified and validated with respect to the requesting user or entity by dynamically (e.g., in real time) filtering with respect to the privacy graph. Although this disclosure describes enforcing privacy settings in a particular manner, this disclosure contemplates enforcing privacy settings in any suitable manner.",{"@attributes":{"id":"p-0046","num":"0045"},"figref":"FIG. 4","b":["160","450","160","164","202","204","206","160","170"]},"In particular embodiments, social-networking system  may improve the indexing process by searching data stores  for matching objects that have a privacy setting that is likely to allow the objects to be accessed by a querying user. In response to a search query received from a first user (i.e., the querying user), social-networking system  may access one or more data stores  to search for matching objects. In particular embodiments, social-networking system  may perform privacy checks using a frontend process that filters out search results just before results are sent to the user. As an example and not by way of limitation, access control using privacy settings may be performed by a PHP process  hosed by one or more servers  of social-networking system . After a data store  has been searched to identify objects matching the search query, the privacy settings for each identified object may be used to filter out results that are not visible to the user, such that only objects that are visible to the user are sent to the user as search results. However, performing privacy checks at this step may result in a large number of objects that are identified when indexing a data store  to be filtered out, such that additional indexing must be performed in order to generate an adequate number of search results. The efficiency of the indexing process may be improved by applying privacy filters when querying data stores . In particular embodiments, the privacy check process may be approximated during indexing by searching for objects that both match the search query and also have a privacy setting that would allow the querying user to access the object. In this way, objects that are identified during indexing may effectively be pre-filtered based on privacy settings, such that the identified object are more likely to make it through the frontend privacy checks and be generated as search results. This may allow social-networking system  to reduce the amount of data over-fetching needed to generate search result. Although this disclosure describes searching an online social network using approximate privacy indexing in a particular manner, this disclosure contemplates searching an online social network using approximate privacy indexing in any suitable manner.","In particular embodiments, social-networking system  may receive from a querying\/first user (corresponding to a first user node ) a search query. The search query may be a text query and may comprise one or more character strings (which may include one or more n-grams). In general, a user may input any character string comprising one or more characters into query field  to search for objects on social-networking system  that substantially matches the character string. The search query may also be a structured query comprising references to particular nodes or edges from social graph . The structured queries may be based on the natural-language strings generated by one or more grammars, as described previously. As an example and not by way of limitation, the search query \u201cFriends of Stephanie\u201d may be a structured query, where \u201cFriends\u201d and \u201cStephanie\u201d in the search query are references corresponding to particular social-graph elements. The reference to \u201cStephanie\u201d would correspond to a particular user node  (where social-networking system  has parsed the n-gram \u201cmy girlfriend\u201d to correspond with a user node  for the user \u201cStephanie\u201d), while the reference to \u201cFriends\u201d would correspond to friend-type edges  connecting that user node  to other user nodes  (i.e., edges  connecting to \u201cStephanie's\u201d first-degree friends). The search query may be received in any suitable manner, such as, for example, by having the user input the search query into a query field  on a webpage of the online social network. Although this disclosure describes receiving particular queries in a particular manner, this disclosure contemplates receiving any suitable queries in any suitable manner. More information on search queries may be found in U.S. patent application Ser. No. 13\/556,060, filed 23 Jul. 2012, and U.S. patent application Ser. No. 13\/732,175, filed 31 Dec. 2012, each of which is incorporated by reference.","In particular embodiments, social-networking system  may parse the search query received from the first user (i.e., the querying user) to identify one or more n-grams. In general, an n-gram is a contiguous sequence of n items from a given sequence of text or speech. The items may be characters, phonemes, syllables, letters, words, base pairs, prefixes, or other identifiable items from the sequence of text or speech. The n-gram may comprise one or more characters of text (letters, numbers, punctuation, etc.) entered by the querying user. An n-gram of size one can be referred to as a \u201cunigram,\u201d of size two can be referred to as a \u201cbigram\u201d or \u201cdigram,\u201d of size three can be referred to as a \u201ctrigram,\u201d and so on. Each n-gram may include one or more parts from the search query received from the querying user. In particular embodiments, each n-gram may comprise a character string (e.g., one or more characters of text) entered by the first user. As an example and not by way of limitation, social-networking system  may parse the search query \u201call about recipes\u201d to identify the following n-grams: all; about; recipes; all about; about recipes; all about recipes. In particular embodiments, each n-gram may comprise a contiguous sequence of n items from the search query. Although this disclosure describes parsing particular queries in a particular manner, this disclosure contemplates parsing any suitable queries in any suitable manner. In connection with element detection and parsing search queries, particular embodiments may utilize one or more systems, components, elements, functions, methods, operations, or steps disclosed in U.S. patent application Ser. No. 13\/556,072, filed 23 Jul. 2012, U.S. patent application Ser. No. 13\/732,101, filed 31 Dec. 2012, each of which is incorporated by reference.","In particular embodiments, social-networking system  may generate a query command based on a search query received from a querying user. The query command may then be used in a search against objects in one or more data stores  of the social-networking system . In particular embodiments, the query command may be provided for a search using search indices for one or more data stores  of social-networking system . The query command may comprise one or more query constraints. Each query constraint may be identified by social-networking system  based on a parsing of the search query. Each query constraint may be a request for a particular object-type. In particular embodiments, the query command may comprise query constraints in symbolic expression or s-expression. Social-networking system  may parse the search query \u201cPhotos I like\u201d to a query command (photos_liked_by:<me>). The query command (photos_liked_by: <me>) denotes a query for photos liked by a user (i.e., <me>, which corresponding to the querying user), with a single result-type of photo. The query constraint may include, for example, social-graph constraints (e.g., requests for particular nodes or nodes-types, or requests for nodes connected to particular edges or edge-types), object constraints (e.g., request for particular objects or object-types), location constraints (e.g., requests for objects or social-graph entities associates with particular geographic locations), other suitable constraints, or any combination thereof. In particular embodiments, the parsing of the search query may be based on the grammar used to generate the search query. In other words, the generated query command and its query constraints may correspond to a particular grammar (or a sub-tree from a grammar forest). In particular embodiments, a query command may comprise prefix and an object. The object may correspond to a particular node in the social graph , while the prefix may correspond to a particular edge  or edge-type (indicating a particular type of relationship) connecting to the particular node in the social graph . As an example and not by way of limitation, the query command (pages_liked_by:<user>) comprises a prefix pages_liked_by, and an object <user>. In particular embodiments, social-networking system  may execute a query command by traversing the social graph  from the particular node along the particular connecting edges  (or edge-types) to nodes corresponding to objects specified by query command in order to identify one or more search results. As an example and not by way of limitation, the query command (pages_liked_by:<user>) may be executed by social-networking system  by traversing the social graph  from a user node  corresponding to <user> along like-type edges  to concept nodes  corresponding to pages liked by <user>. Although this disclosure describes generating particular query commands in a particular manner, this disclosure contemplates generating any suitable query commands in any suitable manner.","In particular embodiments, social-networking system  may access one or more data stores  in response to a search query received from a user. Each data store  may store one or more objects associated with the online social network. In particular embodiments, social-networking system  may search each accessed data store to identify one or more objects associated with the data store  that substantially match the search query. Social-networking system  may identify matching objects in any suitable manner, such as, for example, by using one or more string matching algorithms to match the character string with a string of characters associated with each of one or more of the objects. As an example and not by way of limitation, in response to a search query \u201cFriends of Mark named Kaiser\u201d, social-networking system  may access one or more users data stores  and search the accessed data stores  to identify objects (e.g., user-profile pages) stored in those data stores  that match the query. Social-networking system  may search each accessed data store using the following query command:",{"@attributes":{"id":"p-0052","num":"0051"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"154pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"(AND (name: \u201ckaiser\u201d)"]},{"entry":[{},"\u2003\u2003\u2003(friends_of: <Mark>))."]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"br":{},"b":["160","330","164","330","160","330","164","330","202","200","202","206","164"]},"In particular embodiments, when identifying objects that match a search query, social-networking system  may identify the objects based in part on a privacy setting associated with the object. Certain objects are unlikely to be visible to the querying user because of the privacy settings associated with the object. As an example and not by way of limitation, an object having privacy settings specifying the object can be accessed by, for example, \u201conly me\u201d or \u201cfriends only\u201d may be likely to not be visible to a querying user doing a global search for particular types of object. Similarly, objects having privacy settings specifying, for example, \u201cpublic\u201d or \u201cfriends of friends\u201d may be likely to be visible to the querying user. In order to reduce the number of identified objects that need to be sent to the frontend (e.g., PHP process ) to generate a sufficient number of search results for the querying user, a coarse privacy index can be used when indexing data stores  to reduce the number of invisible results that are sent to the frontend (which may eventually filter them out). In particular embodiments, in response to a query command requesting objects matching a search query, data store  may access a coarse privacy index listing the privacy settings for each object stored in the data store . This coarse privacy index can then be used to pre-filter results that should be invisible to the querying user (e.g., filter out all objects with an \u201conly me\u201d privacy setting). Thus, when searching a data store  for objects matching a search query, social-networking system  may use the coarse privacy index to determine whether the privacy setting of an object is likely to make the object visible to the querying user. Social-networking system  may then preferentially identify objects having a privacy setting more likely to be visible to the querying user, and not identify (or be less likely to identify) objects having a privacy setting less likely to be visible to the querying user. In particular embodiments, identifying objects based in part on a privacy setting associated with the object may comprise determining whether the privacy setting of an object matches a privacy setting specified in the query command. The query command may be generated such that at least one of the query constraints of the query command request objects having particular privacy settings. In this way, then the query command is executed during the indexing process, the request for objects matching the search query may also specify that the identify object must also match particular privacy settings. As an example and not by way of limitation, continuing with the prior example, in response to a search query \u201cFriends of Mark named Kaiser\u201d, social-networking system  may search each accessed data store  based in part on privacy settings using the following query command:",{"@attributes":{"id":"p-0054","num":"0053"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"168pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"(AND","(name: \u201ckaiser\u201d)"]},{"entry":[{},{},"(friends_of: <Mark>)"]},{"entry":[{},{},"(privacy: (<friends_of_friends> OR <public>)))."]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}},"br":{},"b":["164","202","202","206","310"]},"In particular embodiments, when identifying objects based in part on the privacy settings for the object, social-networking system  may identify a particular number of objects having privacy settings likely to make the object visible to the querying user. As an example and not by way of limitation, the query command used to search a data store  may use a \u201cweak AND\u201d (WAND) or \u201cstrong OR\u201d (SOR) operator to specify a particular number or percentage of object that should be identified as having a particular privacy setting. As an example and not by way of limitation, continuing with the prior example, in response to a search query \u201cFriends of Mark named Kaiser\u201d, social-networking system  may search each accessed data store  based in part on privacy settings using the following query command:",{"@attributes":{"id":"p-0056","num":"0055"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"(WAND (name: \u201ckaiser\u201d)"]},{"entry":[{},"\u2003\u2003(friends_of: <Mark>)"]},{"entry":[{},"\u2003\u2003(privacy: (<friends_of_friends> OR <public>)) :"]},{"entry":[{},"\u2003\u2003optional-weight 0.5)."]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"In particular embodiments, social-networking system  may score the identified objects. The objects may be scored based on one or more factors, such as, for example, social-graph information, social-graph affinity, search history, privacy settings, other suitable factors, or any combination thereof. Objects may also be scored based on advertising sponsorship. In particular embodiments, social-networking system  may score the objects based on a privacy setting associated with the object. Objects having privacy settings that make the object more likely to be visible to the querying user may be scored better than objects having privacy settings that make them less likely to be visible to the querying user. As an example and not by way of limitation, an object having a privacy setting of \u201cpublic\u201d may be scored better than an object having a privacy setting of \u201cfriends-of-friends\u201d. Similarly, an object having a privacy setting of \u201cfriends only\u201d may be scored better than an object having a privacy setting of \u201conly me\u201d. In particular embodiments, social-networking system  may score the objects based on a social-graph affinity associated with the querying user (or the user node  of the querying user). Social-networking system  may determine the social-graph affinity (which may be referred to herein as \u201caffinity\u201d) of various social-graph entities for each other. Affinity may represent the strength of a relationship or level of interest between particular objects associated with the online social network, such as users, concepts, content, actions, advertisements, other objects associated with the online social network, or any suitable combination thereof. In particular embodiments, social-networking system  may measure or quantify social-graph affinity using an affinity coefficient (which may be referred to herein as \u201ccoefficient\u201d). The coefficient may represent or quantify the strength of a relationship between particular objects associated with the online social network. The coefficient may also represent a probability or function that measures a predicted probability that a user will perform a particular action based on the user's interest in the action. Although this disclosure describes scoring objects in a particular manner, this disclosure contemplates scoring objects in any suitable manner. Furthermore, in connection with social-graph affinity and affinity coefficients, particular embodiments may utilize one or more systems, components, elements, functions, methods, operations, or steps disclosed in U.S. patent application Ser. No. 11\/503,093, filed 11 Aug. 2006, U.S. patent application Ser. No. 12\/977,027, filed 22 Dec. 2010, U.S. patent application Ser. No. 12\/978,265, filed 23 Dec. 2010, and U.S. patent application Ser. No. 13\/632,869, field 1 Oct. 2012, each of which is incorporated by reference.","In particular embodiments, when searching data stores  to identify matching objects, social-networking system  may only identify and score up to a threshold number of matching nodes in a particular data store . This threshold number of matching objects may then be scored and ranked by the social-networking system . The threshold number may be chosen to enhance search quality or to optimize the processing of search results. As an example and not by way of limitation, social-networking system  may only identify the top N matching objects (i.e., the number to score) in a users data store  in response to a query command requesting users. The top N objects may be determined by a static ranking (e.g., ranking based on the current social-graph affinity of the user with respect to the querying user) of the objects in a search index corresponding to the users data store . In particular embodiments, the top N identified object may be re-ranked based on the search query itself. As an example and not by way of limitation, if the number to score is 500, the top 500 objects may be identified. These 500 objects may then be ranked based on one or more factors (e.g., match to the search query or other query constraints, social-graph affinity, search history, etc.), and the top M results may then be sent to the frontend to be checked for privacy control before being generated as search results. In particular embodiments, the top results after one or more rounds of rankings may be sent to an aggregator  for a final round of ranking, where identified objects may be reordered, redundant results may be dropped, or any other type of results-processing may occur before presentation to the querying user. Although this disclosure describes identifying particular numbers of objects, this disclosure contemplates identifying any suitable numbers of objects. Furthermore, although this disclosure describes ranking objects in a particular manner, this disclosure contemplates ranking objects in any suitable manner.","In particular embodiments, when generating search results in response to a structured search query, the social-networking system  may filter the search results based on privacy settings associated with particular objects. After a search query is indexed by social-networking system  (e.g., by an index server ) and objects satisfying the search query have been identified, social-networking system  may then perform privacy checks on each identified object (which may also be referred to as a target object). In particular embodiments, social-networking system  may determine for each identified object a visibility of the object with respect to the querying user. Each target object (and more specifically, the target nodes corresponding to the target object) may be associated with privacy settings that specify which other users of the online social network may view or access the content object. As an example and not by way of limitation, particular object (corresponding to particular social-graph elements) may not be visible to the querying user, and thus indexed results including such an object should not be sent to the user as a search result. Consequently, particular target objects may not be displayed in the search results because of the privacy settings associated with that content.  illustrates an example social graph . The social graph  illustrated in  may be referenced in some of the examples below to illustrate how privacy settings are used to filter search results. Although this disclosure describes filtering search results based on privacy settings in a particular manner, this disclosure contemplates filtering search results based on privacy settings in any suitable manner. More information on privacy settings and filtering search results may be found in U.S. patent application Ser. No. 13\/556,017, filed 23 Jul. 2012, which is incorporated by reference.","In particular embodiments, social-networking system  may access the privacy settings associated with each target object (or its corresponding node). The privacy settings for each object may define the visibility of the object, the visibility of the node corresponding to the object, or the visibility of edges connecting to that node to users of the social-networking system . In this way, the ability of users of the online social network (or even users outside the network) may be restricted by limiting their ability to view or access profile-pages (or other related content objects) associated with particular nodes. As an example and not by way of limitation, a first user's privacy settings specify that his profile-page can only be viewed or accessed by \u201cfriends of friends\u201d (i.e., second-degree friends), thereby preventing users who are three or more degrees of separation from the first user from viewing or accessing the first user's profile page. As another example and not by way of limitation, referencing , the privacy settings for user \u201c9\u201d may specify that his educational information is not visible to other users, and therefore the \u201cattended\u201d edge  connecting the user node  for user \u201c9\u201d to the concept node  corresponding to the school \u201cStanford\u201d may not be visible to other users. Thus, the privacy settings for user \u201c9\u201d would prevent references to his user node  (or corresponding user-profile page) from appearing in search results for users that attended Stanford. Although this disclosure describes accessing particular privacy settings in a particular manner, this disclosure contemplates accessing any suitable privacy settings in any suitable manner.","In particular embodiments, social-networking system  may whether an object has a visibility that is visible to the querying user. After indexing a data store  in response to a search query from a querying user, as described previously, social-networking system  may have identified one or more object matching the search query. The identified objects may also have privacy settings that make the object likely to be visible to the querying user. Social-networking system  may then enforce the privacy settings for each identified object by determining whether the privacy settings for a particular object allow it to be accessed by the particular querying user. If the object has a visibility that is visible to the querying user, then social-networking system  may select the object to be included in the generated search result. However, if the object has a visibility that is not visible to the querying user, the social-networking system  may exclude the object from the generated search results. In particular embodiments, social-networking system  may select object corresponding to nodes that are connected to the user node  of the querying user in the social graph  by a series of nodes and edges  that have a visibility that is visible to the querying user. As an example and not by way of limitation, referencing , the structured query \u201cFriends of User 5\u201d may identify the target nodes for user \u201c4\u201d and user \u201c7.\u201d Assuming the querying user can view the node for user \u201c5,\u201d then the privacy settings of users \u201c4,\u201d \u201c5,\u201d and \u201c7\u201d may be accessed to determine whether the edges connecting these users are visible. For example, either users \u201c4\u201d or \u201c5\u201d may have privacy settings that make it so the \u201cfriend\u201d edge  connecting them is not visible to particular other users; if this edge  is visible to the querying user, then the generated search results could include a reference to user \u201c4.\u201d Similarly, either users \u201c5\u201d or \u201c7\u201d may have privacy settings that make it so the \u201cfriend\u201d edge  connecting them is not visible; thus, if this edge  is visible to the querying user, then the generated search results could include a reference to user \u201c7.\u201d In particular embodiments, the user node  for the querying user does not necessarily need to be connected by a visible path to the node corresponding to the identified object; however, there should be at least a path between a node that is visible to the querying user (a source node) and the node. As an example and not by way of limitation, continuing with the prior example, the querying user does not necessarily need to be connected in a path to either user \u201c4\u201d or user \u201c7\u201d; so long as the querying user can view a source node, which may be user \u201c5\u201d in this case, and so long as the querying user can view the path between user \u201c5\u201d and the nodes corresponding to users \u201c4\u201d and \u201c7\u201d, then the nodes corresponding to these users may appear in the search results. The querying user may be able to view the source node, for example, because that node is publicly accessible or within a threshold degree of separation of the querying user. Although this disclosure describes enforcing privacy setting in a particular manner, this disclosure contemplates enforcing privacy setting in any suitable manner.",{"@attributes":{"id":"p-0062","num":"0061"},"figref":["FIG. 5B","FIG. 5B","FIG. 5B","FIG. 5B","FIG. 5B","FIG. 5B"],"b":["160","202","200","160","164","160","206","206","160","160","160","160","206","160","202","160","200"]},"In particular embodiments, in response to a search query received from a querying user, social-networking system  may generate one or more search results, where the search results correspond to the search query. Each search result may correspond to a node of the social graph . Social-networking system  may identify objects (e.g., users, photos, profile pages (or content of profile pages), etc.) that satisfy or otherwise match the search query. A search result corresponding to each identified object may then be generated. As an example and not by way of limitation, in response to the search query \u201cPhotos of Matt and Stephanie\u201d, social-networking system  may identify a photo where the user's \u201cMatt\u201d and \u201cStephanie\u201d are both tagged in the photo. A search result corresponding to this photo may then be generated and sent to the user. In particular embodiments, social-networking system  may generate one or more search result corresponding to objects having a visibility that is visible to the querying user. As discussed above, objects identified during indexing may be filtered based on the privacy settings of the objects. Each search result may correspond to one of the selected objects having a visibility that is visible to the querying user. Similarly, privacy filtering may be used to exclude objects from the search results that have a visibility that is not visible to the querying user. Although this disclosure describes generating search results in a particular manner, this disclosure contemplates generating search results in any suitable manner. More information on generating search results may be found in U.S. patent application Ser. No. 13\/731,939, filed 31 Dec. 2012, which is incorporated by reference.","In particular embodiments, social-networking system  may send one or more search results to the querying user. The search results may be sent to the user, for example, in the form of a list of links on the search-results webpage, each link being associated with a different webpage that contains some of the identified resources or content. In particular embodiments, each link in the search results may be in the form of a Uniform Resource Locator (URL) that specifies where the corresponding webpage is located and the mechanism for retrieving it. Social-networking system  may then send the search-results webpage to the web browser  on the user's client system . The user may then click on the URL links or otherwise select the content from the search-results webpage to access the content from social-networking system  or from an external system (such as, for example, third-party system ), as appropriate. In particular embodiments, each search result may include link to a profile page and a description or summary of the profile page (or the node corresponding to that page). The search results may be presented and sent to the querying user as a search-results page. When generating the search results, social-networking system  may generate one or more snippets for each search result, where the snippets are contextual information about the target of the search result (i.e., contextual information about the social-graph entity, profile page, or other content corresponding to the particular search result). In particular embodiments, social-networking system  may only send search results having a score\/rank over a particular threshold score\/rank. As an example and not by way of limitation, social-networking system  may only send the top ten results back to the querying user in response to a particular search query. Although this disclosure describes sending particular search results in a particular manner, this disclosure contemplates sending any suitable search results in any suitable manner.",{"@attributes":{"id":"p-0065","num":"0064"},"figref":["FIG. 6","FIG. 6","FIG. 6","FIG. 6","FIG. 6","FIG. 6"],"b":["600","610","160","200","620","160","164","164","630","160","164","164","160","640","160","160","160","160","160","650","160"]},{"@attributes":{"id":"p-0066","num":"0065"},"figref":"FIG. 7","b":["700","700","700","700","700"]},"This disclosure contemplates any suitable number of computer systems . This disclosure contemplates computer system  taking any suitable physical form. As example and not by way of limitation, computer system  may be an embedded computer system, a system-on-chip (SOC), a single-board computer system (SBC) (such as, for example, a computer-on-module (COM) or system-on-module (SOM)), a desktop computer system, a laptop or notebook computer system, an interactive kiosk, a mainframe, a mesh of computer systems, a mobile telephone, a personal digital assistant (PDA), a server, a tablet computer system, or a combination of two or more of these. Where appropriate, computer system  may include one or more computer systems ; be unitary or distributed; span multiple locations; span multiple machines; span multiple data centers; or reside in a cloud, which may include one or more cloud components in one or more networks. Where appropriate, one or more computer systems  may perform without substantial spatial or temporal limitation one or more steps of one or more methods described or illustrated herein. As an example and not by way of limitation, one or more computer systems  may perform in real time or in batch mode one or more steps of one or more methods described or illustrated herein. One or more computer systems  may perform at different times or at different locations one or more steps of one or more methods described or illustrated herein, where appropriate.","In particular embodiments, computer system  includes a processor , memory , storage , an input\/output (I\/O) interface , a communication interface , and a bus . Although this disclosure describes and illustrates a particular computer system having a particular number of particular components in a particular arrangement, this disclosure contemplates any suitable computer system having any suitable number of any suitable components in any suitable arrangement.","In particular embodiments, processor  includes hardware for executing instructions, such as those making up a computer program. As an example and not by way of limitation, to execute instructions, processor  may retrieve (or fetch) the instructions from an internal register, an internal cache, memory , or storage ; decode and execute them; and then write one or more results to an internal register, an internal cache, memory , or storage . In particular embodiments, processor  may include one or more internal caches for data, instructions, or addresses. This disclosure contemplates processor  including any suitable number of any suitable internal caches, where appropriate. As an example and not by way of limitation, processor  may include one or more instruction caches, one or more data caches, and one or more translation lookaside buffers (TLBs). Instructions in the instruction caches may be copies of instructions in memory  or storage , and the instruction caches may speed up retrieval of those instructions by processor . Data in the data caches may be copies of data in memory  or storage  for instructions executing at processor  to operate on; the results of previous instructions executed at processor  for access by subsequent instructions executing at processor  or for writing to memory  or storage ; or other suitable data. The data caches may speed up read or write operations by processor . The TLBs may speed up virtual-address translation for processor . In particular embodiments, processor  may include one or more internal registers for data, instructions, or addresses. This disclosure contemplates processor  including any suitable number of any suitable internal registers, where appropriate. Where appropriate, processor  may include one or more arithmetic logic units (ALUs); be a multi-core processor; or include one or more processors . Although this disclosure describes and illustrates a particular processor, this disclosure contemplates any suitable processor.","In particular embodiments, memory  includes main memory for storing instructions for processor  to execute or data for processor  to operate on. As an example and not by way of limitation, computer system  may load instructions from storage  or another source (such as, for example, another computer system ) to memory . Processor  may then load the instructions from memory  to an internal register or internal cache. To execute the instructions, processor  may retrieve the instructions from the internal register or internal cache and decode them. During or after execution of the instructions, processor  may write one or more results (which may be intermediate or final results) to the internal register or internal cache. Processor  may then write one or more of those results to memory . In particular embodiments, processor  executes only instructions in one or more internal registers or internal caches or in memory  (as opposed to storage  or elsewhere) and operates only on data in one or more internal registers or internal caches or in memory  (as opposed to storage  or elsewhere). One or more memory buses (which may each include an address bus and a data bus) may couple processor  to memory . Bus  may include one or more memory buses, as described below. In particular embodiments, one or more memory management units (MMUs) reside between processor  and memory  and facilitate accesses to memory  requested by processor . In particular embodiments, memory  includes random access memory (RAM). This RAM may be volatile memory, where appropriate Where appropriate, this RAM may be dynamic RAM (DRAM) or static RAM (SRAM). Moreover, where appropriate, this RAM may be single-ported or multi-ported RAM. This disclosure contemplates any suitable RAM. Memory  may include one or more memories , where appropriate. Although this disclosure describes and illustrates particular memory, this disclosure contemplates any suitable memory.","In particular embodiments, storage  includes mass storage for data or instructions. As an example and not by way of limitation, storage  may include a hard disk drive (HDD), a floppy disk drive, flash memory, an optical disc, a magneto-optical disc, magnetic tape, or a Universal Serial Bus (USB) drive or a combination of two or more of these. Storage  may include removable or non-removable (or fixed) media, where appropriate. Storage  may be internal or external to computer system , where appropriate. In particular embodiments, storage  is non-volatile, solid-state memory. In particular embodiments, storage  includes read-only memory (ROM). Where appropriate, this ROM may be mask-programmed ROM, programmable ROM (PROM), erasable PROM (EPROM), electrically erasable PROM (EEPROM), electrically alterable ROM (EAROM), or flash memory or a combination of two or more of these. This disclosure contemplates mass storage  taking any suitable physical form. Storage  may include one or more storage control units facilitating communication between processor  and storage , where appropriate. Where appropriate, storage  may include one or more storages . Although this disclosure describes and illustrates particular storage, this disclosure contemplates any suitable storage.","In particular embodiments, I\/O interface  includes hardware, software, or both, providing one or more interfaces for communication between computer system  and one or more I\/O devices. Computer system  may include one or more of these I\/O devices, where appropriate. One or more of these I\/O devices may enable communication between a person and computer system . As an example and not by way of limitation, an I\/O device may include a keyboard, keypad, microphone, monitor, mouse, printer, scanner, speaker, still camera, stylus, tablet, touch screen, trackball, video camera, another suitable I\/O device or a combination of two or more of these. An I\/O device may include one or more sensors. This disclosure contemplates any suitable I\/O devices and any suitable I\/O interfaces  for them. Where appropriate, I\/O interface  may include one or more device or software drivers enabling processor  to drive one or more of these I\/O devices. I\/O interface  may include one or more I\/O interfaces , where appropriate. Although this disclosure describes and illustrates a particular I\/O interface, this disclosure contemplates any suitable I\/O interface.","In particular embodiments, communication interface  includes hardware, software, or both providing one or more interfaces for communication (such as, for example, packet-based communication) between computer system  and one or more other computer systems  or one or more networks. As an example and not by way of limitation, communication interface  may include a network interface controller (NIC) or network adapter for communicating with an Ethernet or other wire-based network or a wireless NIC (WNIC) or wireless adapter for communicating with a wireless network, such as a WI-FI network. This disclosure contemplates any suitable network and any suitable communication interface  for it. As an example and not by way of limitation, computer system  may communicate with an ad hoc network, a personal area network (PAN), a local area network (LAN), a wide area network (WAN), a metropolitan area network (MAN), or one or more portions of the Internet or a combination of two or more of these. One or more portions of one or more of these networks may be wired or wireless. As an example, computer system  may communicate with a wireless PAN (WPAN) (such as, for example, a BLUETOOTH WPAN), a WI-FI network, a WI-MAX network, a cellular telephone network (such as, for example, a Global System for Mobile Communications (GSM) network), or other suitable wireless network or a combination of two or more of these. Computer system  may include any suitable communication interface  for any of these networks, where appropriate. Communication interface  may include one or more communication interfaces , where appropriate. Although this disclosure describes and illustrates a particular communication interface, this disclosure contemplates any suitable communication interface.","In particular embodiments, bus  includes hardware, software, or both coupling components of computer system  to each other. As an example and not by way of limitation, bus  may include an Accelerated Graphics Port (AGP) or other graphics bus, an Enhanced Industry Standard Architecture (EISA) bus, a front-side bus (FSB), a HYPERTRANSPORT (HT) interconnect, an Industry Standard Architecture (ISA) bus, an INFINIBAND interconnect, a low-pin-count (LPC) bus, a memory bus, a Micro Channel Architecture (MCA) bus, a Peripheral Component Interconnect (PCI) bus, a PCI-Express (PCIe) bus, a serial advanced technology attachment (SATA) bus, a Video Electronics Standards Association local (VLB) bus, or another suitable bus or a combination of two or more of these. Bus  may include one or more buses , where appropriate. Although this disclosure describes and illustrates a particular bus, this disclosure contemplates any suitable bus or interconnect.","Herein, a computer-readable non-transitory storage medium or media may include one or more semiconductor-based or other integrated circuits (ICs) (such, as for example, field-programmable gate arrays (FPGAs) or application-specific ICs (ASICs)), hard disk drives (HDDs), hybrid hard drives (HHDs), optical discs, optical disc drives (ODDs), magneto-optical discs, magneto-optical drives, floppy diskettes, floppy disk drives (FDDs), magnetic tapes, solid-state drives (SSDs), RAM-drives, SECURE DIGITAL cards or drives, any other suitable computer-readable non-transitory storage media, or any suitable combination of two or more of these, where appropriate. A computer-readable non-transitory storage medium may be volatile, non-volatile, or a combination of volatile and non-volatile, where appropriate.","Herein, \u201cor\u201d is inclusive and not exclusive, unless expressly indicated otherwise or indicated otherwise by context. Therefore, herein, \u201cA or B\u201d means \u201cA, B, or both,\u201d unless expressly indicated otherwise or indicated otherwise by context. Moreover, \u201cand\u201d is both joint and several, unless expressly indicated otherwise or indicated otherwise by context. Therefore, herein, \u201cA and B\u201d means \u201cA and B, jointly or severally,\u201d unless expressly indicated otherwise or indicated otherwise by context.","The scope of this disclosure encompasses all changes, substitutions, variations, alterations, and modifications to the example embodiments described or illustrated herein that a person having ordinary skill in the art would comprehend. The scope of this disclosure is not limited to the example embodiments described or illustrated herein. Moreover, although this disclosure describes and illustrates respective embodiments herein as including particular components, elements, functions, operations, or steps, any of these embodiments may include any combination or permutation of any of the components, elements, functions, operations, or steps described or illustrated anywhere herein that a person having ordinary skill in the art would comprehend. Furthermore, reference in the appended claims to an apparatus or system or a component of an apparatus or system being adapted to, arranged to, capable of, configured to, enabled to, operable to, or operative to perform a particular function encompasses that apparatus, system, component, whether or not it or that particular function is activated, turned on, or unlocked, as long as that apparatus, system, or component is so adapted, arranged, capable, configured, enabled, operable, or operative."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 5A"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 5B"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 7"}]},"DETDESC":[{},{}]}
