---
title: Method and apparatus for autocorrelation of instant messages
abstract: A text chat messaging system in which messages are displayed in chronological order on a message-by-message basis according to chat participants includes a messaging server (); and a plurality of network clients () defining said chat participants and configured to identify messages () in a chat session according to chat participants and arrange said chat session for display according to a conversation order of participation in said chat session.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07917582&OS=07917582&RS=07917582
owner: Siemens Enterprise Communications, Inc.
number: 07917582
owner_city: Boca Raton
owner_country: US
publication_date: 20040727
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF EMBODIMENTS OF THE INVENTION"],"p":["1. Field of the Invention","The present invention is directed generally to telecommunications systems and, particularly, to improvements in providing instant messaging information.","2. Description of the Related Art","Instant messaging is becoming an increasingly popular mode of communication. In instant messaging systems, users are provided with instant messaging client software, which allows them to communicate via an instant messaging server with other instant messaging users.","During an instant messaging session (referred to as a \u2018chat\u2019), a user types a brief message, then transmits it to the server, which passes it on the other participants in the chat. The messages are typically displayed in a client window on each client device according to chronological order in real time.","When involved in a chat session, one party may type faster than another party. In such a case, it is easy for one person to reply to one answer and type another, while the first person is still answering the first reply. As can be appreciated, even though the user interface at the client displays the messages in chronological order, the messages will no longer be synchronized.","This can lead to confusion in carrying out an ongoing communication as well as difficulty in reading a stored log of the chat.","As such, there is a need for an improved system and method for instant messaging. There is a further need for an improved method for displaying an instant messaging chat session.","These and other drawbacks in the prior art are overcome in large part by a system and method according to embodiments of the present invention.","A text chat messaging system in which messages are displayed in chronological order on a message-by-message basis according to chat participants, according to an embodiment of the present invention, includes a messaging server; and a plurality of network clients defining said chat participants and configured to identify messages in a chat session according to chat participants and arrange said chat session for display according to a conversation order of participation in said chat session. In certain embodiments, the plurality of network clients are adapted to transmit to others of said plurality one or more indicia of a new ordering of said chat session display. In others, plurality of network clients are adapted to transmit to said messaging server one or more indicia of a new ordering of said chat session display.","A text messaging system according to an embodiment of the present invention is configured to identify from a chronological ordering of a chat session a \u201cconversation\u201d order and re-order a display or log of the chat in the conversation order. In operation, an autocorrelation client control unit according to embodiments of the present invention reads time stamps and sender identification on messages associated with a chat. The autocorrelation client control unit then determines if there are consecutive messages by the same user. If so, then it will be bumped down after the next message from the other party to the chat session.","A method for use in a text chat messaging system in which messages are displayed in chronological order on a message-by-message basis according to chat participants includes identifying messages in a chat session according to said chat participants; determining an order of initial participation by said chat participants in said chat session; and arranging a record of said chat session in said order of initial participation. The record may be either a log or an ongoing chat session.","A method for use in a text chat messaging system in which messages are displayed in chronological order on a message-by-message basis according to chat participants includes identifying messages in a chat session according to chat participants; determining if consecutive messages are from same chat participants; inserting a next message by a different chat participant between said consecutive messages; and displaying said chat session after said inserting.","Turning now to the drawings and, with particular attention to , a diagram schematically illustrating a messaging system according to an embodiment of the present invention is shown and generally identified by the reference numeral . The system  includes a messaging server  and a plurality of messaging clients -. In the embodiment illustrated, the messaging system  is implemented as an Instant Messaging system. It is noted, however, that the system  could be implemented as any text-based chat-type system, such Microsoft Instant Messenger, AOL Instant Messenger, or a web-browser based chat system.","The messaging server  includes an instant messaging control unit  and, in certain embodiments, an autocorrelation server unit . The messaging clients -include client messaging control units -. In addition, in the embodiments illustrated, the client messaging control units  include a signal interface unit  for transmitting and receiving messaging signals, an autocorrelation client control unit , and an auto-log unit . In addition, the messaging clients -include graphical user interface  for display of the chat session(s) and\/or logs.","As will be explained in greater detail below, the signal interface unit  receives the respective messaging signals from the messaging server  and provides the signals to the graphical user interface  for display. In addition, the signals may be provided to the auto-log unit  for storage, and to the autocorrelation client control unit . As will be explained in greater detail below, the autocorrelation control unit  is responsive to commands received via the graphical user interface  to correlate incoming messages for improved user control.","More particularly, operation of embodiments of the present invention are illustrated in  by way of example. Shown is an exemplary graphical user interface window  showing a chat session or chat log , including a plurality of sequenced messages, and an autocorrelation control . Each message includes a user identification, a text message, and may also include a time stamp portion.","In particular, the window  displays current users or parties  (User A and User B) to the chat , as well as the text of messages  each user has sent. In addition, the system may maintain a time stamp  for each message. The time stamp may be a real-time stamp or a relative time stamp, as illustrated. The time stamp may or may not be displayed. However, as can be seen, the parties and messages are displayed according to the chronological order of time stamp, that is, according to when the message arrived at the server (Typically, in operation, a message is displayed as soon as it is uploaded). As can be appreciated, this can result in the messages being displayed in an incorrect order. For example, as illustrated, a message from user A is shown; then a message from user B. The next line, of course, should be user A's message . However, for any of a variety of reasons, the message from user B arrives first. As such, it is typically displayed first.","Responsive to activating (e.g., clicking) the control , an autocorrelation client control unit  according to embodiments of the present invention will determine a correlated sequence for a \u201cconversational\u201d ordering of the display of the chat session. An exemplary correlated sequence is shown in . As will be explained in greater detail below, when the display is seen to be out of synchronization, the user can elect an autocorrelation display option. This causes the autocorrelation client control unit  to examine the received messages and arrange them according to the appropriate correlated sequence. As shown, this order is , , , ","This may be done, for example, by determining which party went first and then alternating the messages based on users. Alternatively, the system could identify consecutive messages having a same user and \u201cmove up\u201d the next message by the other user.","For example, with reference to  and , in one embodiment, in response to receipt of the autocorrelate command, the autocorrelation client control unit  will determine which party to a chat session \u201cspoke\u201d first, i.e., an order of initial participation; in the example of , the autocorrelation client control unit  will read the first user identification of message , to determine that user A spoke first. The autocorrelation client control unit  will then arrange the session in an alternating sequence such that user A's messages are displayed in the order received, and user B's messages will be interleaved, but also in the order in which they were received.","Thus, for example, the autocorrelation client control unit  will determine from the time stamps  that user A's messages were delivered in order of , , , and that user B's messages were delivered in order , , , . The autocorrelation client control unit  will then order the messages sequentially by user, but alternating user A and user B's messages. That is, the autocorrelation client control unit  will arrange the messages and cause the GUI to display the first message from user A, then the first message from user B; then the second message from user A, the second message from user B, and so on.","In another embodiment, the autocorrelation client control unit  will read the user identifications  on the selected chat session and determine if there are any sequential messages, i.e., if a same user has two consecutive messages. This may be done, for example, by reading time signatures  and determining that pairs of closest time signatures are associated with the same user. For example, in , the autocorrelation client control unit  would determine that messages , are from the same user, and messages , are from the same user. Because messages , are from the same user, the autocorrelation client control unit will identify the next message from the other user (in this case ) and move it up or insert it between messages and . The autocorrelation client control unit will then proceed similarly with the remaining messages. It is noted that, while described above with reference to two participants, the above discussion is easily extendible to chat sessions involving more than two participants.","The sequencing can be done while the chat session has been stored (i.e., after the fact, in the autolog), or on a line-by-line ongoing basis while the user in on-line (i.e., engaged in a chat). In this case, the chat record window can be \u201crefreshed\u201d on an ongoing basis. That is, typically, a user's message is uploaded and initially displayed in the order received. If it is determined that it is out of conversation order, the screen will be refreshed with the conversation order. If the autocorrelation function is invoked while the user is online, the autocorrelation can be performed on the user side only; via an exchange of messages between both users; or via an exchange of messages with the server.",{"@attributes":{"id":"p-0036","num":"0035"},"figref":["FIG. 3","FIG. 3","FIG. 2","FIG. 4"],"b":["104","104","51","55","57","59","61","61","200","57","63","65"]},{"@attributes":{"id":"p-0037","num":"0036"},"figref":["FIG. 4","FIG. 3"],"b":["104","104","51","59","61","104","101","103","105","107","109","111","113","115","101"]},"The system bus architecture of computer system  is represented by arrows . However, these arrows are illustrative of any interconnection scheme serving to link the subsystems. For example, a local bus could be utilized to connect the central processor to the system memory and\/or display adapter. Computer system  shown in  is but an example of a computer system suitable for use with the invention. Other computer architectures having different configurations of subsystems can also be utilized. In addition, it is noted that implementations of the messaging server  would typically be on a computer system generally similar to computer system .","Turning now to , a flowchart illustrating operation of an embodiment of the present invention is shown. Initially, at a step , a user at a client device  can access the chat log or set up a new chat session. This may be done, for example, by accessing the appropriate controls in the graphical user interface using the appropriate chat software. Once the chat session has been accessed, the chat is displayed in a chat window in the user interface, in a step . Once the chat is displayed, the user can access the autocorrelation client control unit , in a step . Again, as noted above, this may be done via one or more control buttons  () on the user interface. Finally, in step , the autocorrelation client control unit  determines a \u201cconversation\u201d order for the chat and rearranges the entries accordingly. If the chat session is an ongoing one, then the autocorrelation client control unit  can analyze each chat message and determine where in sequence it should be displayed.","Turning now to  and , operation of embodiments of the present invention is illustrated. In particular,  and  illustrate a method for determining a conversation order. In , in a step , the activates the autocorrelate function. In a step , the autocorrelation client control unit  accesses and reads the record (of either a log or an ongoing chat) to determine the order of initial \u201cspeaking,\u201d i.e., who the first, second, etc., speakers are. For example, this can be accomplished by analyzing the user IDs and the associated time stamps. In a step , the system then orders the rest of the chat in same order as the \u201cinitial\u201d order. That is, the next posts by each user are arranged for display as if they had been received in the same initial order. Again, this may be determined through examination of the user IDs and the time stamps.",{"@attributes":{"id":"p-0041","num":"0040"},"figref":"FIG. 6B","b":["660","662","664"]},"In addition to providing for a local-only autocorrelation of the chat session or record, embodiments of the present invention allow communication of the new conversation order, or indicia that allow other clients to determine the order themselves.  is a signaling diagram illustrating operation of such an embodiment of the present invention. In particular, in the embodiment of , a client endpoint can activate his autocorrelation client control unit  to perform the conversation format conversion and also send one or more signals to another client endpoint so that the conversation format is synchronized.","Shown are a client or user A , a messaging server , and a client or user B . Initially, at , the Client A opens his chat software to set up a chat session. His chat software sends the appropriate signaling via signal interface unit  to the messaging server  at . Similarly, the Client B can open his software at  and register at . In the example illustrated, at , the user A activates his autocorrelation client control unit . As discussed above, this causes the display of the chat session to be re-ordered in conversation order, at .","At , the autocorrelation client control unit  causes the signal interface unit  () to send one or more messages to the server  for transmission to the client B, at . The other party client endpoint B receives the signaling at  and can take one or more ordering actions in response, depending on the embodiment or how the software is configured.","In certain embodiments, the endpoint client B simply receives a signal via its own signal interface unit indicating that the sending party endpoint client A has activated his autocorrelation client interface unit. In this case, the endpoint client B then activates its own autocorrelation client control unit and performs an independent re-ordering of its own display, in a manner similar to that discussed above, into the presumed same conversation order.","In other embodiments, the signaling includes an identification of the conversation order, or at least a designation of the initiating party. The receiving endpoint client B can then base its determination of the order on the received signaling. That is, the endpoint client B will receive the initial order determination from the other party.","In still other embodiments, the receiving endpoint client B can cause the graphical user interface to generate a pop-up window (not shown) to display a presumed conversation order. If acceptable, this can be used instead of or in conjunction with the previous window.",{"@attributes":{"id":"p-0048","num":"0047"},"figref":["FIG. 8","FIG. 8","FIG. 1"],"b":["102","108","108"]},"Shown are a client A , a messaging server , and a client B . Initially, at , the user A logs in with his browser chat software to set up a chat session. Similarly, the user B can open his software and register at . At , the server  maintains a chat session. In the example illustrated, at , the user A can select the autocorrelate function. For example, as discussed above, the browser could provide a clickable control.","This causes the server 's display of the chat session to be re-ordered in conversation order, at , in a manner similar to that discussed above. Thus, the display provided to both parties, accessible via their browsers, will be in conversation order.","It is noted, that while a display is typically made of the sender's message as soon as it is uploaded to the server (e.g., in response to the user clicking \u201center\u201d), in certain embodiments, the messages can be temporarily buffered at the server and not displayed until the corresponding message from the other user(s) has arrived in the correct order.","As noted above, the teachings of the present invention can be applied to any instant messaging or chat system. One particular environment in which the teachings of the present invention may be applied is shown in .",{"@attributes":{"id":"p-0053","num":"0052"},"figref":"FIG. 9","b":["1200","1200","1202","1202","1102","1204"]},"The server  may include one or more controllers, such as one or more microprocessors, and memory for storing application programs and data (see, e.g.,  and ). The server  may provide a variety of services to various associated client devices, including telephones, personal digital assistants, text messaging units, and the like. Thus, the server  may implement suite of applications  as well as, or including, a autocorrelation server unit , according to embodiments of the present invention.","Also coupled to the LAN  is a gateway  which may be implemented as a gateway to a private branch exchange (PBX), the public switched telephone network (PSTN) , or any of a variety of other networks, such as a wireless, PCS, a cellular network, or the Internet. In addition, one or more client endpoints such as LAN or IP telephones -and one or more computers -may be operably coupled to the LAN .","The computers -may be personal computers implementing the Windows XP operating system and thus, running Windows Messenger client (It is noted, however, that other Instant Messaging Programs could be implemented.). In addition, the computers -may include telephony and other multimedia messaging capabilities using, for example, peripheral cameras, microphones and speakers (not shown) or peripheral telephony handsets. In other embodiments, one or more of the computers may be implemented as wireless telephones, digital telephones, or personal digital assistants (PDAs). Thus, the figures are exemplary only. The computers -may include one or more processors, such as Pentium-type microprocessors, and storage for applications and other programs. The computers -may implement network application programs  including one or more autocorrelation client control units or browsers  in accordance with embodiments of the present invention. In operation, the autocorrelation client control units or browsers  allow the client endpoints to interact with the autocorrelation and chat messaging service(s) provided by the server , in a manner similar to that discussed above.","Turning now to , a block diagram illustrating a server  according to embodiments of the invention is shown. As shown, the server  implements a autocorrelation server unit  and a server application suite . In the embodiment illustrated, the multimedia server  also provides interfaces, such as application programming interfaces (APIs) to IP phones\/clients , gateways , and software developer toolkits . An exemplary server environment capable of being adapted for use in a system according to embodiments of the present invention is the OpenScape system, available from Siemens Information and Communication Networks, Inc. Such an environment can be implemented, for example, in conjunction with Windows Server, Microsoft Office Live Communications Server, Microsoft Active Directory, Microsoft Exchange and SQL Server.","In the embodiment illustrated, the application suite  includes a personal productivity application , a workgroup application , and a communication broker . The personal productivity application  implements various application modules: priority profiles , word web , self-service portal , chat software\/autocorrelation control , voice portal , personal portal , as well as the instant messaging\/autocorrelation server unit .","The workgroup collaboration application  implements audio conferencing , multimedia conferencing , touch conferencing , instant conferencing , media advance , and a workgroup portal . The communications broker  implements a context manager , configuration unit , telephony features , reports\/data storage , as well as interworking services.","The personal productivity portal and workgroup portal allow a user to access features using a standard Web browser, or via network application plugins.","The priority profiles provide for handling of a user's communications and initiating specified actions, such as voice calls, e-mails and instant messages. It allows the user to configure personal rules for each status such as \u201cIn the Office\u201d, \u201cOn Business Trip\u201d, or \u201cOn Vacation;\u201d and allows use of information such as who is calling and the media type to determine an action. The action may include routing to a specific device, routing to the preferred device at the time, sending a notification, and\/or logging the transaction.","The presence application functions as a contact list control unit and allows, through the use of the contact lists, monitoring the status of contacts (e.g., \u201cIn the Office,\u201d \u201cOn Vacation,\u201d \u201cWorking Remote,\u201d etc.); and monitoring the \u201caggregated presence by media type\u201d for each contact (i.e., whether the contact is accessible by phone, IM, or email).","The Word web provides a Microsoft Word-based scripting for development of telephony applications. The self service portal provides guest access to messaging, calendaring, and document retrieval features, such as Voicemail Functions\u2014leave a message, transfer from voicemail; Calendar Functions\u2014schedule\/cancel\/modify appointments with a subscriber, get email confirmation; and Document Access Functions- authenticate user based on PIN and allow reading, email or fax-back of documents stored in Exchange folders. The voice portal provides user access to groupware features via the telephone. These can include, for example, Calendar Access functions\u2014accept\/decline\/modify appointments, block out time; voicemail, email access functions\u2014Inbox access with message sorting options (List total, retrieve (listen), skip, forward, reply, etc.).","In general, default user rules and actions are provided by the system users to specify custom rules and actions using the Personal Productivity Portal , e.g., an interface to a client browser. During runtime, users can set their Presence State or specify a Preferred Device using either the Personal Productivity Portal or the Voice Portal ","The Workgroup Collaboration Portal , which may be implemented as a browser interface, allows users to initiate audio or multi-media conferencing sessions and view documents that have been checked in to the Workgroup Repository (not shown). The audio conferencing module and the multimedia conferencing module allow the user to set up audio or multimedia conference sessions. The Instant Conference module launches an audio or WebEx multimedia conferencing session, based on contact lists or address book(s). The Touch Conference module allows the user to see the participant list and their presence status. The Media Advance module offers users the point and click option to advance an existing audio conference to a multimedia collaborative session.","The communications broker  provides various communication services. The Context Manager provides user presence\/availability states for users, such as \u201cIn the Office\u201d, \u201cOn Vacation\u201d, \u201cWorking Remote\u201d, etc.; and provides device presence and device context for both SIP registered devices and User defined non-SIP devices. In addition, the context manager provides, across the set of devices for a user, aggregated presence by media type, e.g., voice, IM, and email. For example, if a user is accessible by any phone device such as an office phone, a home phone, or a mobile phone; the aggregated presence for the user would indicate accessibility via the media type \u201ctelephone.\u201d Based on the aggregated presence information for each media type (e.g. available via telephone, not available via IM, available via email), others can choose the best medium of making contact with this user.","The telephony features gives applications access to connection management features via CSTA (e.g. make a call, transfer call, set-up conference, etc.); provides address translation from dialing digits to SIP URL to broker connectivity between telephony devices and soft clients. The Interworking Services provide SIP gateway interworking (e.g., interworking with PSTN and PBX networks). Reports Data Storage provides a repository for system and data reports.","The Context Manager is a service that ties together a view of all users. This view may include the presence and availability of users, the state of users (e.g. in a voice call), each user's collaboration session associations, etc. The result is a detailed view of what the user and their devices are doing at any point in time. This information is used by other network users and system components to make decisions about how to contact the user, as will be described in greater detail below.","The foregoing description of the invention has been presented for purposes of illustration and description. It is not intended to be exhaustive or to limit the invention to the precise form disclosed, and modifications and variations are possible in light of the above teachings or may be acquired from practice of the invention. The drawings and description were chosen in order to explain the principles of the invention and its practical application. The drawings are not necessarily to scale and illustrate the device in schematic block format. It is intended that the scope of the invention be defined by the claims appended hereto, and their equivalents."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The present invention may be better understood, and its numerous objects, features, and advantages made apparent to those skilled in the art by referencing the accompanying drawings. The use of the same reference symbols in different drawings indicates similar or identical items.",{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":["FIG. 2A","FIG. 2B"]},{"@attributes":{"id":"p-0018","num":"0017"},"figref":["FIG. 3","FIG. 4"]},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":["FIG. 6A","FIG. 6B"]},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 10"}]},"DETDESC":[{},{}]}
