---
title: Method and apparatus for javaTV xlets for analog broadcast channels
abstract: One embodiment of the invention provides a method for receiving Java xlets including receiving an analog service identifier and utilizing the analog service identifier to perform a lookup into a lookup structure containing xlet addressing data. Xlet addressing data associated with the analog service identifier is returned and utilized to request an xlet.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07873979&OS=07873979&RS=07873979
owner: Oracle America, Inc.
number: 07873979
owner_city: Redwood Shores
owner_country: US
publication_date: 20041210
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["TECHNICAL FIELD","BACKGROUND","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS"],"p":["The present invention relates to the general field of broadcast television services. More specifically the invention relates to a method and apparatus for receiving JavaTV xlets associated with an analog broadcast, as typically might apply over a cable television system.","JavaTV has had great standardization success in MHP and MHP-derived standards, such as OCAP and ACAP in the United States, and ARIB B.23 in Japan. In the United States, most commercial activity is around the CableLabs OCAP specification, which is tailored to digital cable television. In an OCAP network, Java applications (also referred to as xlets) may be associated with a television service (often referred to as a television channel). These associated Java applications may be referred to as \u201cservice-bound xlets\u201d. For example, a service-bound xlet may be a program specific application such as an application deployed with a game show that allows viewers to play along at home and an application that provides interactive information about a sporting event. Other sample categories of service-bound xlets include advertisement applications, delivery of customized information, and voting\/polling applications.","For digital services, service bound xlets are transported and received using DSMCC object carousel signaling. DSMCC object carousels carry file systems using MPEG packets and are therefore usable only with digital television services. The system software residing on a set-top box identifies and authenticates the presence of the service bound xlets present in the digital television service. In OCAP, this can optionally be mediated by a monitor application provided by the Cable operator. The service bound xlets are launched to provide the desired xlet application.","On many cable networks in the United States, a large number of services are still broadcast as analog services. In addition, analog services continue to be broadcast over-the-air. Although analog services require greater bandwidth than digital services, analog services can be received on legacy analog cable television receivers, including analog cable-ready TV sets and videocassette recorders. As a result, many popular services such as ESPN, MTV, CBS, and NBC are often distributed as an analog service. These popular analog services are also delivered over current hybrid digital\/analog cable systems. In one typical setup, analog\/digital set-top boxes capable of interactive services using OCAP can only provide service-bound xlets for the digital services.","Since JavaTV xlets distributed using DSMCC object carousels cannot be received on analog services, there is therefore a need for improved methods and apparatuses for receiving service bound xlets for analog services.","The present invention provides a solution to the needs described above through an inventive method and apparatus for receiving xlets for associated analog services.","One embodiment of the invention provides a method for receiving Java xlets. The method includes receiving an analog service identifier at a receiver and utilizing the analog service identifier to perform a lookup into a lookup structure containing xlet addressing data. The xlet addressing data associated with the analog service identifier is returned from the lookup. The xlet addressing data is used to request an xlet from an xlet server, and the requested xlet is received from the xlet server.","One embodiment of the invention provides a method for receiving Java xlets including receiving an analog service from a service provider, where the encoded xlet addressing data is carried via the vertical blanking interval (VBI). The xlet addressing data is decoded and used to request an xlet from an xlet server.","Another embodiment of the invention provides a method for receiving Java xlets including receiving an analog service identifier and utilizing the analog service identifier to perform a lookup into a lookup structure containing xlet addressing data. Xlet addressing data associated with the analog service identifier is returned and utilized to request an xlet.","The present invention provides a solution to the needs described above through an inventive method and apparatus for receiving service bound xlets for analog services.","Other embodiments of the present invention will become apparent to those skilled in the art from the following detailed description, wherein is shown and described only the embodiments of the invention by way of illustration of the best modes contemplated for carrying out the invention. As will be realized, the invention is capable of modification in various obvious aspects, all without departing from the spirit and scope of the present invention. Accordingly, the drawings and detailed description are to be regarded as illustrative in nature and not restrictive.","The data structures and code described in this detailed description are typically stored on a computer readable storage medium, which may be any device or medium that can store code and\/or data for use by a computer system. This includes, but is not limited to, magnetic and optical storage devices such as disk drives, magnetic tape, CDs (compact discs) and DVDs (digital video discs), and computer instruction signals embodied in a transmission medium (with or without a carrier wave upon which the signals are modulated). For example, the transmission medium may include a communications network, such as the Internet.",{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 1","b":["100","10","2","4","6","4","28","20","16","18","18","18"]},"In an embodiment of the invention, cable service network  is a two-way hybrid-fiber coaxial (HFC) network capable of delivering both digital and analog services from MSO  to STB  at user end . The invention described herein may also be utilized with other types of cable networks delivering analog and digital services. In a further embodiment, analog services may be delivered over-the-air and received at user end  with a TV receiver antenna. Delivery of services and data communications between master headend  and user end  are performed using RF Cable TV channel , out-of-band (OOB) channel , and TCP\/IP channel , which in an OCAP environment is a Data Over Cable Service Interface Specifications (DOCSIS) protocol transmission.","In an embodiment of the invention, the present invention utilizes a TCP\/IP connection for delivery of xlets. The TCP\/IP channel is established with a DOCSIS cable modem built into STB . In a further embodiment, an external device to STB  is utilized to transmit data using the DOCSIS protocol and coupled to STB  using an Ethernet interface. In a further embodiment, xlets are delivered using an OOB channel  instead of a TCP\/IP connection. OOB channel  provides continuous communication between MSO  and STB . STB  gathers the desired associated xlets from an object carousel broadcast from MSO  on OOB channel . A personal computer may be used in place of STB .",{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 2","b":["4","4","50","52","56","58","54","54","10","20","4","66","64","62","76","4","68","70","72","74","60","16","4"]},"In-band RF tuner  receives the in-band downstream signals from MSO . In-band RF tuner  typically receives fixed frequency broadcast channels. The in-band downstream signal is demodulated by demodulator . The demodulated in-band downstream signal is then forwarded to A\/V decoder  for decoding. From A\/V decoder , the decoded signal is sent to graphics processor  and output to an output interface for display. Out-of-band tuner  receives the out-of-band downstream signal from MSO . The out-of-band downstream signal is demodulated by demodulator . Cable modem  initiates TCP\/IP connections to receive and send IP data.","Central processing unit (CPU)  processes information and instructions used by STB  and interfaces with memory . Memory  is any type of random access memory that can be used to store code and data for CPU . Memory  includes monitor application software  with lookup tables utilized to obtain xlets associated with analog services.","Referring to , the architecture of the software residing on STB  in an embodiment of the invention is illustrated. At the lowest level of the diagram shown in  is STB hardware  on which the software of the present invention is executed. Hardware  executes a real time operating system (RTOS)  which provides the basic functionality of the STB platform. A hardware abstraction layer  comprises software drivers to control the various devices in STB hardware . The particular RTOS  selected should be as independent as possible from the hardware devices. RTOS  functions in a real-time environment and can handle sophisticated tasks in a limited memory environment. Furthermore, STB hardware  may have multiple operating systems to enable the widest range of applications over the cable TV network. A few of the operating systems which may be utilized include Linux, Vx Works, and PowerTV. RTOS  supports Transport Control Protocol\/Internet Protocol (TCP\/IP) . Each STB  can therefore be addressable as a network device.","STB hardware  runs the Java virtual machine . The Java virtual machine  is a software application that executes in the environment of the native operating system and provides a common environment for applications written in the Java programming language. The Java virtual machine is responsible for portability of Java applications. The Java virtual machine  provides a layer of abstraction between the RTOS  and executable Java xlets, providing a Java-to-operating system interface so that xlets written in Java can be executed on a platform running an operating system which would not otherwise support execution of the program. Because Java virtual machines exist for many different platforms, the same Java xlets can be executed on each of these different platforms.","STB hardware  executes JavaTV  on the Java virtual machine . JavaTV  is an application environment specifically designed for interactive television services that run on digital broadcast receivers. JavaTV  includes a subset of core Java application programming interfaces (APIs) and a set of APIs which are directed specifically to features required by interactive television services. The JavaTV APIs provide a high-level, protocol-independent, common set of APIs for applications that are independent of underlying hardware platforms and broadcast network technology on which the applications are deployed. JavaTV implementations require a Java virtual machine, so the Java virtual machine  may therefore be considered part of JavaTV .","The JavaTV API characterizes television programs as services. This is an abstraction that provides a common way to refer to a wide variety of content that may appear in a broadcast environment. For example, a service can refer to a regular TV program with its synchronized audio and video or to an enhanced television broadcast that contains audio, video, and a Java application that is synchronized with the broadcast. The JavaTV API provides a means for selecting services, accessing a database containing service information, controlling a television-specific media player, and accessing data that is broadcast along with a television signal. Content developers can write many types of television-specific applications, or services, including electronic program guides, program-specific applications, stand-alone applications, and advertisements.","A service is a collection of content for presentation on a receiver. This collection is handled as a unit within the Java TV API. Services can be selected for presentation. Television viewers often refer to this concept as a \u201ctelevision channel.\u201d A service may consist of multiple audio and video streams as well as data. Services have characteristic service information (SI), which is stored in the SI database. SI describes the layout and content of an audio\/video\/data stream, such as the MPEG-2 transport stream.","The Java TV API gives programs written in the Java programming language control of broadcast television receivers and set-top boxes. The JavaTV API provides application developers with the ability to easily build applications that are independent of the underlying broadcast network technology on which they will be deployed. For example, many applications need basic information from a service information database, such as a list of the names of services currently available. The Java TV API provides an abstraction that permits applications to obtain this information in a manner independent of the service information protocol currently in use. This allows an application to be written and then reused in a variety of network environments. The Java TV API is designed throughout with a high level of abstraction from hardware and over-wire protocols. Wherever possible, the Java TV API relies on an application environment to provide general purpose APIs. For example, file storage APIs and network communication APIs are provided by the application environment. In some cases, functionality that might be available on a set-top box is exposed with another Java extension.","The present invention utilizes a lookup table , which in an embodiment of the invention, indexes analog service identifiers to URIs. Lookup table  is described further in reference to  below. In an embodiment of the invention, the lookup table  is integrated into monitor application . Monitor application  is an unbound application designed to help manage execution of OCAP applications on an OCAP receiver. Monitor application  continuously runs and manages and controls the resources of STB , and resides on middleware layer .","The OCAP specification is the minimal profile specification for the next generation of middleware software for digital cable set-top boxes and other digital devices to be deployed by cable operators in North America. OpenCable Application Platform 1.0 (OCAP 1.0) was developed by CableLabs with numerous cable operating companies and software firms. OCAP 1.0 is based on the DVB Multimedia Home Platform 1.0.2 (DVB MHP).","According to the OCAP specification, the MSO is responsible for the development, maintenance and delivery of the monitor application. The OCAP specification defines a set of privileged APIs which can be used by monitor applications. The MSO defines the specific role of the monitor application  based on functionality described by the OCAP specification. In an embodiment of the invention, monitor application  is automatically downloaded to STB  from MSO  during boot-up of STB . Once downloaded, monitor application  registers and runs on STB .","In accordance with the OCAP specification, monitor application  may perform such functions as filtering user input events, application filtering, registering unbound applications in the application database, system reboots, and display of closed captioning. In particular, monitor application  may monitor the services selected by a user. Residing above standard API  and JavaTV API  are downloaded executable xlets  that have been requested by monitor application  in response to a user analog service selection.","Referring to , an embodiment of lookup table  utilized by the invention is illustrated. Lookup table  includes an analog service identifier column  and a URI column . The analog service identifier corresponds to the analog service selected for viewing by the user. Each entry in the analog service identifier column  includes a corresponding entry in the URI column  that identifies an associated xlet residing on a server  to be launched when a given analog service is selected. Although an embodiment utilizing a URI is described, other xlet addressing data may be used in lookup table .","In an embodiment of the invention, lookup table  and its contents are established by MSO  and are incorporated into monitor application. In further embodiments of the invention, an application other than the monitor application is utilized to perform lookups and request xlets using lookup table . For example, a continuously running application may be built into the firmware of the STB  residing below the monitor application to perform the processes described in reference to  below.","In an embodiment of the invention, xlets and related resources are packaged in a Java Archive file (JAR) format. The JAR file format was first introduced in version 1.1 of the Java Development Kit, and more recent versions include enhancements to JAR file functionality. URI addresses located in URI column  correspond to a JAR file to be downloaded. Monitor application  utilizes the corresponding URI in URI column  in lookup table  to request and obtain the JAR file associated with the selected analog service. In a further embodiment of the invention, a URI in a file system other than the Internet may be utilized. Each JAR file contains a manifest entry defining the initial xlet class of the xlet to invoke as the entry point when executing the xlet.","In an embodiment of the invention, URI addresses in URI column  utilize Hypertext Transfer Protocol (HTTP) to fetch the xlet file. In a further embodiment of the invention, URI addresses in URI column  utilize File Transfer Protocol (FTP) to fetch the xlet file. Although embodiments have been discussed herein describing HTTP and FTP, the lookup table  may utilize other protocols to fetch desired xlets over TCP\/IP channel .","Referring to , a flowchart illustrating the operation of the invention in an embodiment of the invention is shown. A television viewer at user end  initiates an analog service selection by sending a channel selection command to STB  using user input device . At step , STB  receives the analog service selection. At step , STB  tunes to the selected analog service which has been broadcast over RF Cable TV channel  and displays the selected service on television .","At step , monitor application  receives an analog service identifier corresponding to the selected service name for processing. At step , monitor application  initiates a lookup of xlet addressing data based on the received analog service identifier. In an embodiment of the invention, the xlet addressing data is a URI. At step , monitor application  requests an associated xlet from xlet server .","In an embodiment of the invention, monitor application  opens a TCP\/IP connection transmits the associated URI to initiate download of one or more associated xlets to STB from xlet server  utilizing DOCSIS protocol over TCP\/IP channel . Monitor application  sends the HTTP URI request to xlet server  to fetch the desired xlet resource. Server  receives the HTTP request message, accesses the xlet resource specified in the message, and sends the resource to monitor application . In a further embodiment of the invention, STB  requests download of xlets utilizing OOB channel .","At step , the requested xlet is received at STB . At step , the downloaded xlet is executed on STB  by monitor application . If the television view changes the analog service selection, monitor application  terminates execution of the xlet and repeats the processes set forth in  with respect to the new analog service selection.",{"@attributes":{"id":"p-0045","num":"0044"},"figref":"FIG. 6","b":["10","4","2","60","4","62","4","8","6","64","4","4","66","4","68","28","18","28"]},"The encoded URI points to an associated xlet to be launched when a given analog service is selected. In an embodiment of the invention, xlets and related resources are packaged in a JAR format. The URI address corresponds to a JAR file to be downloaded. Each JAR file contains a manifest entry defining the initial xlet class of the xlet to invoke as the entry point when executing the xlet. In an embodiment of the invention, STB  initiates download from the decoded URI one or more associated xlets to STB over TCP\/IP channel . In a further embodiment of the invention, STB  initiates download of xlets utilizing OOB channel . At step , the requested xlet is received at STB . At step , the downloaded xlet is executed on STB .","Thus, the invention provides improved methods and apparatuses design for receiving service bound xlets for analog services. Although an embodiment has been discussed herein describing using a lookup table, other data structures may be utilized to provide fast correlation between a selected analog service and an associated xlet addressing data. Although reference is made to use of a set-top box throughout the specification, one of ordinary skill in the art will recognize that other architectures could be used within the scope of the invention. For example, any receiver or comparable device having hardware and software similar to the set-top box necessary to perform the functions described herein may be used. Furthermore, a network computer containing such hardware and software may be utilized in place of a television and set-top box.","Having described the invention in terms of a preferred embodiment, it will be recognized by those skilled in the art that various types of components may be substituted for the configuration described above to achieve an equivalent result. It will be apparent to those skilled in the art that modifications and variations of the described embodiments are possible, and that other elements or methods may be used to perform equivalent functions, all of which fall within the true spirit and scope of the invention as measured by the following claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"DESCRIPTION OF THE DRAWINGS","p":["The features and advantages of the apparatus and method of the present invention will be apparent from the following description in which:",{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 6"}]},"DETDESC":[{},{}]}
