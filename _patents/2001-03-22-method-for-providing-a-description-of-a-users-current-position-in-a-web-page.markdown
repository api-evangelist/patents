---
title: Method for providing a description of a user's current position in a web page
abstract: A method, program, and apparatus for providing a description of current position in an electronic document are provided. The invention first comprises parsing the electronic document into a parse tree. When the system receives a command from the user requesting current position in the electronic document, an algorithm performs a walk up the parse tree, from the current position to the root of the document. A position response, containing nodes in the walk up the parse tree, is constructed by the algorithm and reported to the user.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06934907&OS=06934907&RS=06934907
owner: International Business Machines Corporation
number: 06934907
owner_city: Armonk
owner_country: US
publication_date: 20010322
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT"],"p":["1. Technical Field","The present invention relates to computer network environments. More specifically, the present invention relates to accessing the content of a web page when a visual display is not available.","2. Description of Related Art","Information on the World Wide Web is typically made available by structuring the information into a visual presentation. Hypertext Markup Language (HTML) is used by the web author to define the visual structure. The end user is presented with this information by viewing the information on a computer display, after the information has been rendered into a visual format by a web browser (e.g. Netscape Navigator or Microsoft Internet Explorer).","However, the visual presentation of web pages is not accessible by people with vision impairments, nor is the content accessible by users who do not have a visual display device available. A variety of software products are becoming available which enable non-visual access to the HTML pages. These products capture the web page content and then present an audible rendering of the web page. This is generally accomplished by using a text-to-speech (TTS) technology to read the textual content.","In a non-visual web browser, the current position of the TTS \u201ccursor\u201d in the document is called the Point of Regard (POR). In the absence of visual queues, however, it is often difficult for a user of an audible web browser to determine where the POR is within the current web page. For example, a sighted user viewing a web page might page down through a few screens and see that he is in the second paragraph following a header. The user can also use the visual position of a scroll bar to assess the position relative to the entire page. The visually impaired user (or a sighted user without a visual display), by contrast, may have arrived at the same point in the document after pressing the Scroll Down key several times, but he will have no idea what section he is in. It is easy for such a user to get lost within the document after he has been navigating within it for some time. The visually impaired user might lose track of his overall position within a document (top, middle or bottom), as well as what specific section of the document he is currently accessing. The user might also have problems determining what other content is surrounding the specific content being directly accessed.","Prior art in this area involves counting up every item in the web page and announcing the POR as an index within the total number of items on the page. For example, \u201cItem 54 of 206 items\u201d. The running time for this approach is proportional to the number of items on the web page. In addition, the prior art does not provide specific description of the page contents.","Therefore, it would be desirable to have a method for audible description of a user's position in a web page that provides detail concerning web page contents and reduces processing time.","The present invention provides a method, program, and apparatus for providing a description of current position in an electronic document. The invention first comprises parsing the electronic document into a parse tree. When the system receives a command from the user requesting current position in the electronic document, an algorithm performs a walk up the parse tree, from the current position to the root of the document. A position response, containing nodes in the walk up the parse tree, is constructed by the algorithm and reported to the user.","With reference now to the figures,  depicts a pictorial representation of a network of data processing systems in which the present invention may be implemented. Network data processing system  is a network of computers in which the present invention may be implemented. Network data processing system  contains a network , which is the medium used to provide communications links between various devices and computers connected together within network data processing system . Network  may include connections, such as wire, wireless communication links, or fiber optic cables.","In the depicted example, a server  is connected to network  along with storage unit . In addition, clients , , and  also are connected to network . These clients , , and  may be, for example, personal computers or network computers. In the depicted example, server  provides data, such as boot files, operating system images, and applications to clients -. Clients , , and  are clients to server . Network data processing system  may include additional servers, clients, and other devices not shown.","In the depicted example, network data processing system  is the Internet with network  representing a worldwide collection of networks and gateways that use the TCP\/IP suite of protocols to communicate with one another. At the heart of the Internet is a backbone of high-speed data communication lines between major nodes or host computers, consisting of thousands of commercial, government, educational and other computer systems that route data and messages. Of course, network data processing system  also may be implemented as a number of different types of networks, such as for example, an intranet, a local area network (LAN), or a wide area network (WAN).  is intended as an example, and not as an architectural limitation for the present invention.","Referring to , a block diagram of a data processing system that may be implemented as a server, such as server  in , is depicted in accordance with a preferred embodiment of the present invention. Data processing system  may be a symmetric multiprocessor (SMP) system including a plurality of processors  and  connected to system bus . Alternatively, a single processor system may be employed. Also connected to system bus  is memory controller\/cache , which provides an interface to local memory . I\/O bus bridge  is connected to system bus  and provides an interface to I\/O bus . Memory controller\/cache  and I\/O bus bridge  may be integrated as depicted.","Peripheral component interconnect (PCI) bus bridge  connected to I\/O bus  provides an interface to PCI local bus . A number of modems may be connected to PCI bus . Typical PCI bus implementations will support four PCI expansion slots or add-in connectors. Communications links to network computers - in  may be provided through modem  and network adapter  connected to PCI local bus  through add-in boards.","Additional PCI bus bridges  and  provide interfaces for additional PCI buses  and , from which additional modems or network adapters may be supported. In this manner, data processing system  allows connections to multiple network computers. A memory-mapped graphics adapter  and hard disk  may also be connected to I\/O bus  as depicted, either directly or indirectly.","Those of ordinary skill in the art will appreciate that the hardware depicted in  may vary. For example, other peripheral devices, such as optical disk drives and the like, also may be used in addition to or in place of the hardware depicted. The depicted example is not meant to imply architectural limitations with respect to the present invention.","The data processing system depicted in  may be, for example, an IBM RISC\/System 6000 system, a product of International Business Machines Corporation in Armonk, N.Y., running the Advanced Interactive Executive (AIX) operating system.","With reference now to , a block diagram illustrating a data processing system is depicted in which the present invention may be implemented. Data processing system  is an example of a client computer. Data processing system  employs a peripheral component interconnect (PCI) local bus architecture. Although the depicted example employs a PCI bus, other bus architectures such as Accelerated Graphics Port (AGP) and Industry Standard Architecture (ISA) may be used. Processor  and main memory  are connected to PCI local bus  through PCI bridge . PCI bridge  also may include an integrated memory controller and cache memory for processor . Additional connections to PCI local bus  may be made through direct component interconnection or through add-in boards. In the depicted example, local area network (LAN) adapter , SCSI host bus adapter , and expansion bus interface  are connected to PCI local bus  by direct component connection. In contrast, audio adapter , graphics adapter , and audio\/video adapter  are connected to PCI local bus  by add-in boards inserted into expansion slots. Expansion bus interface  provides a connection for a keyboard and mouse adapter , modem , and additional memory . Small computer system interface (SCSI) host bus adapter  provides a connection for hard disk drive , tape drive , and CD-ROM drive . Typical PCI local bus implementations will support three or four PCI expansion slots or add-in connectors.","An operating system runs on processor  and is used to coordinate and provide control of various components within data processing system  in FIG. . The operating system may be a commercially available operating system, such as Windows 2000, which is available from Microsoft Corporation. An object oriented programming system such as Java may run in conjunction with the operating system and provide calls to the operating system from Java programs or applications executing on data processing system . \u201cJava\u201d is a trademark of Sun Microsystems, Inc. Instructions for the operating system, the object-oriented operating system, and applications or programs are located on storage devices, such as hard disk drive , and may be loaded into main memory  for execution by processor .","Those of ordinary skill in the art will appreciate that the hardware in  may vary depending on the implementation. Other internal hardware or peripheral devices, such as flash ROM (or equivalent nonvolatile memory) or optical disk drives and the like, may be used in addition to or in place of the hardware depicted in FIG. . Also, the processes of the present invention may be applied to a multiprocessor data processing system.","As another example, data processing system  may be a stand-alone system configured to be bootable without relying on some type of network communication interface, whether or not data processing system  comprises some type of network communication interface. As a further example, data processing system  may be a Personal Digital Assistant (PDA) device, which is configured with ROM and\/or flash ROM in order to provide non-volatile memory for storing operating system files and\/or user-generated data.","The depicted example in FIG.  and above-described examples are not meant to imply architectural limitations. For example, data processing system  also may be a notebook computer or hand held computer in addition to taking the form of a PDA. Data processing system  also may be a kiosk or a Web appliance.","Turning next to , a block diagram of a browser program is depicted in accordance with a preferred embodiment of the present invention. Browser  includes a user interface , which is a graphical user interface (GUI) that allows the user to interface or communicate with browser . This interface provides for selection of various functions through menus  and allows for navigation through the navigation input . For example, menu  may allow a user to perform various functions, such as saving a file, opening a new window, displaying a history, and entering a URL. Navigation  allows for a user to navigate various pages and to select web sites for viewing. For example, navigation  may allow a user to see a previous page or a subsequent page relative to the present page. Navigation  may also have voice recognition capabilities. Preferences may be set through preferences . Browser  also contains text-to-speech (TTS) , which converts text data into auditory signals.","Communications  is the mechanism with which browser  receives documents and other resources from a network such as the Internet. Further, communications  is used to send or upload documents and resources onto a network. In the depicted example, communication  uses HTTP. However, other protocols are possible. Documents that are received by browser  are processed by language interpretation , which includes an HTML unit , and a parser  which is capable of generating a parse tree associated with an electronic document, as discussed below in reference to FIG. . Language interpretation  will process a document for presentation on graphical display . In particular, HTML statements are processed by HTML unit  for presentation.","Graphical display  includes layout unit , rendering unit , and window management . These units are involved in presenting web pages to a user based on results from language interpretation .","Browser  is presented as an example of a browser program in which the present invention may be embodied. Browser  is not meant to imply architectural limitations to the present invention. Presently available browsers may include additional functions not shown or may omit functions shown in browser . As used herein, the term \u201cbrowser\u201d encompasses any software application used to view or navigate for information or data (e.g. something that assists a user to browse) in a distributed data base where the distributed database is typically the internet or World Wide Web.","The present invention allows users with visual impairments, or those without a visual display, to access the contents of electronic documents. Users without visual displays might include, for example, those accessing the internet via cell phone while driving a car. The present invention is faster than the prior art in this area and provides more descriptive information to the user. The present invention is also applicable to document technologies other than HTML, such as Extensible Markup Language (XML).","Referring to , a flowchart illustrates the general steps of the present invention. When an electronic document, such as a web page, is downloaded by browser , parser  creates a parse tree (step ). The details of the parse tree are described below in reference to FIG. . The system then receives a command from the user requesting information about the cursor's position within the electronic document (step ). This request may be made by means of any input device, such as for example, keyboard or voice command. In response to the user request, the system constructs an audible response by walking up the parse tree (step ). This audible response is then delivered to the user by means of a speaker (step ).","Referring now to , a diagram illustrating an exemplary HTML parse tree is depicted in accordance with the present invention. The present invention describes the cursor position in an electronic document (i.e. web page) by walking the HTML parse tree, from the current TTS position to the root of the document. HTML, which is used to provide a visual structure to the page, can also provide a semantic structure to the page. For example, the HTML markup defines which ranges of text are contained under which heading, or within an item in a list, or within a table. Well known techniques exist for parsing an HTML source file into a parse tree. The various elements and relationships among elements are then apparent from the topology of the parse tree.","The root of the document is the BODY . The body consists of several major sections -, each tagged as a Heading  (H). The second H section is titled \u201cWines\u201d , which consists of three subsections - tagged as Heading Level  (H). One of these H subsections  is titled \u201cCalifornia Wines\u201d. One of the paragraphs - in subsection  contains a table  with the title \u201cCalifornia winemakers\u201d, and so forth. A \u201cWhere Am I\u201d algorithm constructs an audible position identification (using TTS) by walking up the parse tree , from the tree node associated with the current POR to the root  of the document.","Referring to , a flowchart illustrating the algorithm for constructing an audible position identification is depicted in accordance with the present invention. The first step in the algorithm is to determine if cursor is presently positioned at the root node (step ). If the current node is the root node, then the algorithm sets the string variable \u2018resultString\u2019 to \u201cTop of document\u201d or \u201cBottom of document\u201d and the algorithm terminates and \u2018resultString\u2019 contains the \u201cWhere Am I\u201d result (step ). If the current node is not the root node, \u2018resultString\u2019 is initialized to an empty string, and the reference variable \u2018currentNode\u2019 is initialized to the parse tree node associated with the current POR (step ).","The algorithm next constructs a string which describes the tree node which is referenced by the variable \u2018currentNode\u2019 (step ). For example, if \u2018currentNode\u2019 references the node labeled  in , the algorithm could construct a string which prefixes the phrase \u201cTable cell containing:\u201d to the actual contents of that table cell, which is \u201cRobert Mondavi\u201d. For other types of HTML elements, other phrase generating rules could be used. For example, if \u2018currentNode\u2019 is set to the node labeled , a TABLE ROW node, the tree could be traversed to determine which row this node represents in the parse tree. For node , the row represented is the second row. Therefore, the algorithm could construct the string \u201cRow \u201d.","The string constructed in step  is then appended to \u2018resultString\u2019, including an appropriate separator character, such as a period or semicolon (step ). The algorithm then traverses one level in the parse tree (step ). First, a reference to the parent of the node referenced by \u2018currentNode\u2019 is obtained. For example, in , if \u2018currentNode\u2019 references the node labeled , the parentNode would be set to reference the node labeled . After the reference to the parent node is saved in \u2018parentNode\u2019, the algorithm sets \u2018currentNode\u2019 to reference the same node as \u2018parentNode\u2019. The cuurent node reference has now moved up one level in the parse tree.","Again, the algorithm checks if the node referenced by \u2018currentNode\u2019 is currently located at the root node (step ). If the current node is the root node, the algorithm ends and \u2018resultString\u2019 contains the \u201cWhere Am I\u201d result. If the current node is not the root node, the algorithm returns to step .","Therefore, in the present example, the following string might be constructed:","Current POR is:","Table call containing: \u201cRobert Mondavi\u201d.","Row .","In table titled: \u201cCalifornia winemakers by annual production\u201d.","Under Heading  section titled: \u201cCalifornia wines\u201d.","Under Heading  section titled: \u201cWines\u201d.","The \u201cWhere Am I\u201d algorithm would respond to a user request for WAI information. This request may be by means of any input device, such as, for example, voice command or keyboard.","The present invention confers a number of advantages. It is more descriptive and intuitive than the prior art. It accommodates documents which are changed dynamically, whereas the prior art does not. It is very common for the content of web pages to be updated dynamically by active scripting technolgies, such as JavaScript. Current browser technology (i.e. MS IE 5.0+, Mozilla) maintains the parse tree that is associated with the current web page being accessed by the user, and dynamically updates this tree when the web page is changed.","The present invention is also faster than the prior art. A technique which counts every item on the page, such as is found in the prior art, requires a running time which is proportional to the number of items on the page. Web pages can change dynamically. Under prior art, when a WAI request is processed, every element on the page must be visited (and counted) to determine the index of the current POR and the total number of items on the page. If there are \u201cn\u201d items on the page, the running time of the algorithm will be bounded by the function \u201ca*n\u201d, where \u201ca\u201d is some positive real number. Formally, this is called an O(n) performance bound (Reference: , Cormen, Leiserson, and Rivest, ISBN 0-262-53091-0, 1997. Chapter 2, \u201cGrowth of Functions\u201d). The algorithm defined by the present invention does not need to visit every element in the web page to determine WAI. Instead, it visits only a very small number of nodes: each of its ancestor nodes from current position to the root of the tree. This number of nodes is no larger than the height of the tree. As described in the cited . text, Section 13.4. \u201cRandomly built binary search trees\u201d, the height of a randomly built tree is a function of log(n), where \u201cn\u201d is the number of nodes in the tree (which is the same as the number of elements in the web page). Therefore, the present invention improves running time from O(n) to O(log(n)), which is an exponential improvement in speed.","In practice, additional rules of thumb might be appropriate to determine which elements should be announced (and which should not) in the course of the walk from the current POR tree node to the root. For example, elements such as SPAN (which specifies a non-visible formatting division) might not be announced. SPAN is used by HTML authors to identify a block of HTML. As another example, if the current position is in a table with one row and one column, the algorithm could include a rule of thumb that specifies that such tables are not announced.","The present invention is also applicable to any XML or Direct Object Model (DOM) technology. HTML technology has been generalized into a more formal, and more widely applicable technology called Extensible Markup Language (XML). Whereas HTML provides a structure only for visual layout of web pages, XML provides a mechanism for defining the structure and meaning of data in a generalized document definition language. XML is being applied to a wide problem domain, and is applicable wherever information needs to be exchanged between independent information systems. The most recent HTML definitions have redefined HTML as an instance of XML document definition technology. A DOM is the parse tree for an XML document. The present invention for audible description of the position of a document cursor within a HTML document is applicable to any XML document as well. The POR can be constructed by visiting each node in the DOM which is on the path from the current position to the root of the tree. At each node, the XML tag name and value would be announced.","Several versions of a response might be used to further improve the utility of the \u201cWhere Am I\u201d algorithm. A \u201cverbose\u201d response would provide all the information available from a complete walk up the parse tree, from current position to the document root. While this response would be the most informative, it may provide more information than the user wants, particularly if the user queries his position several times from adjacent positions in the document.","A \u201cterse\u201d response would provide an alternative. In this case, position information would be gathered only by examining the first few immediate parents of the current parse tree node. A threshold value might be set by the user, which would control how much of the parse tree would be examined for position information. The position algorithm would only walk up the predefined number of parents in the parse tree, or to the root, whichever comes first.","A \u201cdelta\u201d response provides yet another alternative. Under this approach, the \u201cWhere Am I\u201d facility would maintain variables which track the parse tree location of the last \u201cWhere Am I\u201d query, and the verbose response that would be constructed at that location. When a new \u201cWhere Am I\u201d query arrives, a verbose response is constructed for the new location. Then the responses for the old and new locations are compared, and only those elements which are different are reported to the user. It should be noted that this is a computationally efficient approach, because only the two paths from location to root need to be compared in order to determine which nodes are different.","The example used in describing the present invention has focused primarily on providing the user with an audible position response. However, the present invention need not be limited to an audible announcement of cursor position. The position could be communicated through a tactile feedback mechanism such as a braille display. The present invention might also be used in a visual display that is not a graphical browser. For example, a text-only browser might be used, which does not format or arrange text within a graphical layout, but rather displays the text part of a web page as a character stream.","It is important to note that while the present invention has been described in the context of a fully functioning data processing system, those of ordinary skill in the art will appreciate that the processes of the present invention are capable of being distributed in the form of a computer readable medium of instructions and a variety of forms and that the present invention applies equally regardless of the particular type of signal bearing media actually used to carry out the distribution. Examples of computer readable media include recordable-type media, such as a floppy disk, a hard disk drive, a RAM, CD-ROMs, DVD-ROMs, and transmission-type media, such as digital and analog communications links, wired or wireless communications links using transmission forms, such as, for example, radio frequency and light wave transmissions. The computer readable media may take the form of coded formats that are decoded for actual use in a particular data processing system.","The description of the present invention has been presented for purposes of illustration and description, and is not intended to be exhaustive or limited to the invention in the form disclosed. Many modifications and variations will be apparent to those of ordinary skill in the art. The embodiment was chosen and described in order to best explain the principles of the invention, the practical application, and to enable others of ordinary skill in the art to understand the invention for various embodiments with various modifications as are suited to the particular use contemplated."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The novel features believed characteristic of the invention are set forth in the appended claims. The invention itself, however, as well as a preferred mode of use, further objectives and advantages thereof, will best be understood by reference to the following detailed description of an illustrative embodiment when read in conjunction with the accompanying drawings, wherein:",{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 7"}]},"DETDESC":[{},{}]}
