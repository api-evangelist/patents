---
title: Compressing high resolution images in a low resolution video
abstract: A method for compressing an image as a sequence of video frames, comprising dividing the image into a plurality of tiles and compressing a tile, or part thereof, as a frame in the video sequence.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08467617&OS=08467617&RS=08467617
owner: Human Monitoring Ltd.
number: 08467617
owner_city: Givat HaShlosha
owner_country: IL
publication_date: 20110912
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["RELATED APPLICATIONS","FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF EMBODIMENTS OF THE INVENTION"],"p":["This application is a continuation of U.S. patent application Ser. No. 11\/882,811 filed on Aug. 6, 2007, which claims the benefit of priority under 35 USC 119(e) of U.S. Provisional Patent Application Nos. 60\/878,062 and 60\/878,063, both filed on Jan. 3, 2007.","The contents of all of the above applications are incorporated by reference as if fully set forth herein.","This invention relates to a method and apparatus for compressing and\/or decompressing of images. Some embodiments relate to compressing an image via a video sequence, including an encryption of an image in a video sequence.","Still image compression is one of the most common applications in storing and transfer of pictures, particularly for mobile devices such as cameras, scanners, handsets and other portable devices such as PDAs (Portable Personal Assistant).","The resolution of pictures taken by modern devices have been growing dramatically and the compression of such large resolution still images (e.g. between 1.2 to 12+ Mega Pixels) demands huge computational and memory resources. These limitations call for an efficient compression scheme that will reduce storage while preserving a satisfactory quality for its intended use.","The still and video cameras, like many handheld devices and cellular handsets, capture high resolution images. Typically these devices use the JPEG method for compression of the images. The JPEG format is limited in its compression ratio so that in order to store high quality and\/or high resolution pictures an unacceptable size is needed, (see for example, http:\/\/white.stanford.edu\/\u02dcbrian\/psy221\/reader\/Wallace.JPEG.pdf, http:\/\/www.jpeg.org, the disclosures of which are incorporated herein by reference).","An aspect of some exemplary embodiments of the invention relates to compressing an image by encoding it as a sequence of video frames, employing spatial and\/or temporal compression, and consequent decompressing thereof.","In exemplary embodiments of the invention, the image is divided into sub-images, or \u2018tiles\u2019. The tiles are constructed into a video sequence such that a tile, or its derivation, forms a frame of lower resolution than the image.","In exemplary embodiments of the invention, a plurality of tiles are constructed into one or more groups of frames (GOP\u2014Group or Pictures) in the video sequence. Each group begins with a frame of a spatially compressed tile (I-frame), followed by one or more \u2018intermediate\u2019 frames constructed from other tiles. An intermediate frame comprises a difference between the tile of a preceding frame and the tile of the current frame (P-frame), wherein the difference is spatially and\/or temporally compressed.","An aspect of some exemplary embodiments of the invention relates to a scaleable compression of an image by coding it as a sequence of video frames, employing spatial and\/or temporal compression to a plurality of duplicate tiles, and consequent decompression thereof.","In exemplary embodiments of the invention, duplicate tiles are encoded with different compressions, allowing a restoration to different qualities in a subsequent decoding.","In exemplary embodiments of the invention, a plurality of duplicate tiles are constructed into a GOP in the video sequence. Each group begins with a frame of a spatially compressed tile (I-frame), followed by one or more intermediate frames formed from other duplicate tiles. An intermediate frame comprises a difference between a decoded (decompressed) preceding frame and a duplicate tile (P-frame), wherein the difference is spatially and\/or temporally compressed. A subsequent intermediate frame comprises the difference between a combination of the restored first frame and the restored next frame, wherein the difference is spatially and\/or temporally compressed. Subsequent intermediate frame are constructed similarly, comprising the compressed difference relative to the combination of the previous decompressed frames.","An aspect of some exemplary embodiments of the invention relates to an intermittent compression of an image by coding it as a sequence of video frames, employing spatial and\/or temporal compression, and consequent decompression thereof.","In exemplary embodiments of the invention, a \u2018tile\u2019 comprises a row, or part thereof, of the image, allowing a fast consecutive input for encoding, avoiding random addressing and buffering memory, or requiring only a small buffer relative to a random tile. Optionally, depending on the image organization, a column, rather than a row, is accessed.","With the intermittent compression capability, the encoding may be performed without interrupting other (more critical) operations of the device. Additionally the compression may be performed \u2018on the fly\u2019 (synchronously) such as with a scanner which consecutively provides image lines as the scanning proceeds (e.g. moving head in a flatbed scanner or deflecting ray in laser scanner) without having to store the whole image (or large part thereof).","In exemplary embodiments of the invention, compression comprises a quantization of a brightness or color range into smaller range. Optionally the quantization comprises constructing a set of color indexes with a corresponding palette. Optionally or additionally, the transformation comprises a transformation DFT such as DCT, or a wavelet transformation, or other methods of the art such as vector or fractal compression. Optionally, the coefficients of the transformation (e.g. coefficients of a DCT) are quantized.","In exemplary embodiments of the invention, constructing a frame constructed from a tile comprises a compression that is responsive to contents of the image, such as entropy, entropy deficiency or geometry. Optionally, the compression is responsive to the required compression, for example, in terms of bit rate or quality of a decoded part of the image. Optionally, the compression is based on sub-divisions of a tile (blocks).","In exemplary embodiments of the invention, an intermediate frame comprises a difference (as described above) relative to a previous and subsequent frame (B-frame).","The intermediate frames, comprising a difference, or constructed from a difference, relative to other frames may be considered as pseudo-temporal and\/or pseudo-motion, or representations (hereinafter, in the specifications and claims, \u2018motion\u2019 and \u2018temporal\u2019).","In exemplary embodiments of the invention, an existing video coder, or part thereof, is utilized to encode an image in a video sequence.","In exemplary embodiments of the invention, the video sequence is decoded (decompressed) and the decoded frames are selected and used to construct the image, or part thereof.","In exemplary embodiments of the invention, the decoded image, or part thereof, is displayed. Optionally, the display dimension is smaller than the image or of lower quality. Optionally, a decoded or generated thumbnail is displayed. Optionally or alternatively, the compressed video sequence is stored for later use.","Since portable devices such a wireless (e.g. cellular) phones are frequently equipped with video encoders, the compression scheme does not require additional resources (or only negligible ones), while providing an efficient compression for varying degrees of qualities. A high quality compression thus may be obtained within the capabilities of portable devices in terms of memory, processing and transmission.","In the specifications and claims, unless otherwise specified, the term \u2018encode\u2019 or \u2018code\u2019 implies construction of data into a video sequence and compression of the data, whereas \u2018decode\u2019 implies reconstruction of the data, at least to a certain quality. The term \u2018video\u2019 implies also a pseudo-video sequence, namely, a sequence not necessarily representing a motion of objects.","An exemplary embodiment of the invention comprises a method for compressing an image as a sequence of video frames, comprising:","(a) dividing the image into a plurality of tiles; and","(b) compressing a tile, or part thereof, as a frame in the video sequence.","Optionally, the compression comprises a spatial and\/or temporal and\/or motion compression.","Optionally, the compression is responsive to the geometry and\/or entropy and\/or entropy deficiency of a tile or part thereof.","Optionally, different tiles are compressed in different compression levels.","In exemplary embodiments of the invention, the compression comprises:","(a) dividing a tile into a plurality of blocks;","(b) compressing a one or more blocks in a frame; wherein","(c) a block size and\/or shape is responsive to the compression level of a tile and\/or compression ratio and\/or required bit-rate and\/or contents of the image or part thereof.","Optionally, a block extent parallel to the image dimension. comprises at least one of 1, 2, 4, 8, 16, 32 or 64 pixels.","In exemplary embodiments of the invention, the video sequence comprises metadata comprising information on the correspondence between a frame and a tile in the image.","In exemplary embodiments of the invention, the compression uses an existing equipment and\/or software. Optionally, the equipment comprises a chip-set. Optionally, the equipment comprises a standard codec or part thereof. Optionally, the codec is compatible with a standard video format.","An exemplary embodiment of the invention comprises a method for decoding a compressed image, comprising:","(a) decoding frames of the video sequence as tiles of the image; and","(b) combining the tiles according to their relative positions in the image.","Optionally, the decompression uses an existing equipment and\/or software. Optionally, the equipment comprises a standard codec or part thereof. Optionally, the codec is compatible with a standard video format.","An exemplary embodiment of the invention comprises a method for a scalable compression of an image in a sequence of video frames, comprising:","(a) dividing the image into a plurality of tiles; and","(b) compressing a plurality of duplicate tiles, or part thereof, as frames in a video sequence.","Optionally, the duplicate tiles are compressed as an I-frame and at least one P-frame which comprises a spatial and\/or temporal compression of a difference between a duplicate tile and a decoded I-frame or a difference between a duplicate tile and a combination of preceding reconstructed frames. Optionally, the video sequence comprises metadata comprising information on the correspondence between a frame and a tile in the image.","In exemplary embodiments of the invention, the compression uses an existing equipment and\/or software. Optionally, the equipment comprises a chip-set. Optionally, the equipment comprises a standard codec or part thereof.","An exemplary embodiment of the invention comprises a method for decoding a compressed image, comprising:","(a) decoding frames of the video sequence as tiles of the image; and","(b) combining the tiles according to their relative positions in the image.","Optionally, the image is decompressed responsive to the compression levels of a plurality of compressed duplicate tiles, comprising","(a) determining frames or combination of frames that provide an acceptable or available compressed details;","(b) decoding the determined frames or frames as a tile of an image; and","(c) combining the tile according to its relative position in the image.","Optionally, the metadata is used to locate the relative position of a tile in the image.","In exemplary embodiments of the invention, the decompression uses an existing equipment and\/or software. Optionally, the equipment comprises a standard codec or part thereof.","An exemplary embodiment of the invention comprises a method for an intermittent compression of an image in a sequence of video frames, comprising:","(a) determining a row or column of pixels in the image; and","(b) compressing the pixels in a frame of the video.","Optionally, a row or column comprises one or more rows or columns or part thereof. Optionally, the compression is carried out synchronously with a piece-wise acquisition of the image.","The discussion below is divided into sections with headers which are intended for clarity and readability only.","Rationale","Typically video encoders support lower resolutions than a typical still camera. For example, MPEG-2\/4 and AVC encoders are limited by levels to a practical maximum of 1920\u00d71080 and most of them support only Baseline Profile @ Level 3, which is limited to 720\u00d7576 PAL or 720\u00d7480 NTSC resolution. Since most sensors allow multi-mega pixels, it is not practical to feed such high resolution images to the existing video encoders.","Operation Outline",{"@attributes":{"id":"p-0073","num":"0072"},"figref":["FIG. 7","FIG. 1","FIG. 2"],"b":["102","200"]},"In exemplary embodiments of the invention, image  is divided into tiles  (). A video sequence  is started comprising opening a GOP (). A tile is selected, for example, A () and used to construct an I-frame, the construction comprises a spatial compression of the tile contents. GOP  begins with an I-frame I constructed from A (). Another tile, for example, B, is selected () and constructed in GOP  as a P-frame (intermediate frame) P following I (). The construction of P comprises a difference to frame A, wherein the difference is compressed (temporal\/spatial compression). P-frame Q is similarly constructed from C, the difference comprises a compressed difference to P. If a frame is the last for a GOP (), for example frame Q in GOP , then the GOP is ended (). If there are more tiles  to assemble in video sequence  () the procedure is repeated with a new GOP (), otherwise video sequence  is ended.","in exemplary embodiments of the invention, the compression comprises a scalable compression, wherein the construction of P comprises a difference to a decompressed frame I, and the difference is compressed (temporal\/spatial compression). P-frame Q is similarly constructed from C, the difference comprises a compressed difference to the combination of decompressed A and B (scaleable compression) as discussed later on.","Division of the Image",{"@attributes":{"id":"p-0076","num":"0075"},"figref":"FIG. 1","b":["102","104","106"]},"In exemplary embodiments of the invention, image  dimensions are 640\u00d7480 pixels (VGA) or higher. Optionally, other dimensions and aspects ratios may be used, for example, 1280\u00d7720, 1920\u00d71200 or 3200\u00d72048 pixels. Optionally, image  is of a multi-mega pixels.","The compression outlined in  may be particularly efficient for large images, while maintaining a good visual quality of the decoded image relative to other conventional compression methods.","In exemplary embodiments of the invention, the dimensions of tile  are adapted to the capabilities of the video or video resource. Optionally, dimensions of tile  are responsive to the capabilities of equipment in terms of standards or resources such as memory or processing power or a particular coder or device. Optionally, the dimensions of tile  are 320\u00d7240 pixels. Optionally the dimensions are 720\u00d7576 PAL or 720\u00d7480 NTSC Optionally, other dimensions and aspects rations may be used.","In exemplary embodiments of the invention, the compression of a tile  in a frame  is carried out by compression of blocks  comprised in tile .","In exemplary embodiments of the invention, blocks  are determined by the equipment such as codec used to construct video  (e.g. MPEG 16\u00d716 pixels macro-blocks).","In exemplary embodiments of the invention, the blocks dimensions (extents) are 8\u00d78 pixels. Optionally, the block dimensions are 16\u00d716 pixels. Optionally, the dimensions are 4\u00d74 pixels. Optionally, other dimensions are used. Optionally or additionally, the blocks dimensions may not by identical, such as 8\u00d716, 4\u00d78, 2\u00d732 or 1\u00d764.","In exemplary embodiments of the invention, a tile  is compressed without divisions to blocks in a tile.","Video Sequence","In exemplary embodiments of the invention, the video sequence  comprises one or more groups of frames (GOP) . The number of frames  in a GOP  is responsive to the capabilities of the encoding tools (e.g. a codec). Optionally, the number of frames in a GOP is may vary, optionally by the equipment or tools setup or during operation.",{"@attributes":{"id":"p-0085","num":"0084"},"figref":"FIG. 2","b":["102","104","202","204","200"]},"In exemplary embodiments of the invention, frames  are ordered from the image  in a raster order of tiles , such from top-left to the right and onwards in a next row. Optionally, other orders are used to select tiles , for example, the frames are ordered or related in the video sequence  responsive to similarities between consecutives tiles so that the difference would be smaller relative to other orders and a better compression may be achieved, as discussed below.","In exemplary embodiments of the invention, the determination of tiles  order in video  is responsive to the blocks contents, for example, similarities between blocks entropy, entropy deficiency or geometry, either inside a tile  or between tiles, in order to achieve better compression and\/or decoded image quality due to the similarities between the blocks in exemplary embodiments of the invention, only some of the tiles, or parts thereof, are used for frames  in the video sequence , for example, responsive to a region of interest, while discarding the others. Optionally, some tiles are compressed to a certain level while others compressed to another level, for example, a region of interest (e.g. center region) is compressed lesser extent relative to other regions in order to achieve a better quality in the decoded image for the region of interest.","Spatial Compression & Transformation","In exemplary embodiments of the invention, the initial frame in a GOP  (e.g. A derived from tile A) is spatially compressed. Optionally, a tile, or part thereof, is compressed. Optionally, the tile is compressed by compressing blocks , that is, each or some of the blocks are compressed independently.","In exemplary embodiments of the invention, the compression comprises a quantization of a brightness or color range into a smaller range. For example, assuming the original range in section is 120 values, using a compression of 20 will yield only 6 discrete levels. Optionally, the division is linear, such as uniform binning. Optionally, the division is not linear, i.e. non-uniform binning, optionally responsive to the brightness or color distribution and\/or possible visual effect. For example, a denser distribution of values may be more finely divided than a sparser distribution, a bright range may be divided finer than dim range (which the human eye may not discern the coarser differences). Optionally, the quantization is into a set of color indexes with a corresponding palette (brightness or color lookup table). The resulting 6 indexes may be used to map into a palette to obtain brightness\/color values which may depict the original image more closely than dividing the range. Optionally, the palette is shared by one or more section.","In exemplary embodiments of the invention, a block is quantized independently of other blocks or tiles. Optionally, the quantization is responsive to the contents of a block or a plurality of blocks, for example, having similar contents or entropy.","In exemplary embodiments of the invention, a tile is transformed wherein the transformation comprises a DFT such as DCT, or a wavelet transformation, or other methods of the art such as vector or fractal compression. Optionally, a compressed tile is transformed. Optionally or additionally, the transformed tile is quantized, for example, some of the coefficients of a DCT are eliminated (or quantize), optionally the higher frequency coefficients, optionally similar to the JPEG method.","In exemplary embodiments of the invention, a block is transformed independently of other blocks or tiles. Optionally, the transformation is responsive to the contents of a block or a plurality of blocks, for example, having similar contents or entropy.","Difference and Temporal\/Motion Compression","In exemplary embodiments of the invention, intermediate frame P comprises a difference of its contents relative to the content of tile  (respective to tile I). Optionally, the difference is relative to a compressed initial frame I. Optionally, the difference is relative to decompressed (decoded) frame I. Optionally, the difference is at least compressed as discussed above, the compressed difference comprising a temporal compression. Subsequent frames are, optionally, compressed likewise.","In exemplary embodiments of the invention, a subsequent frame, such as Q, is constructed as a difference to tile B. Optionally, Q is constructed such that it comprises a difference to a combination decompressed I and P. Optionally, the difference is compressed, further comprising a temporal compression. Subsequent frames are, optionally, compressed likewise.","In exemplary embodiments of the invention, the temporal compression comprises a motion compression so that the intermediate frames comprise motion difference relative to a preceding frame (e.g. I-frame or preceding P-frame).",{"@attributes":{"id":"p-0096","num":"0095"},"figref":"FIG. 3","b":["308","202","202","308","306","308","202","302","304","202","302","304","202","202","312","312","306","308","202","302","304","308","202","202","104","104","312","202","202","202","202"]},"Scalable Compression","In exemplary embodiments of the invention, scalable compression is performed, comprising encoding of the same tile (or part thereof) into frames with different compression levels. The scalable compression allows a consequent decoding of the video sequence to reconstruct the image in several quality levels.",{"@attributes":{"id":"p-0098","num":"0097"},"figref":"FIG. 5","b":["502","102","506","102","202","508","104","202","512","514","506","512","502"]},"In exemplary embodiments of the invention, the range  of the levels of tile A are quantized by a factor (40), reducing them to 4 levels , which may be encoded (compressed) more effectively in frame I relative to the original range .","The difference  between the levels  of quantized tile A and the original levels  of tile A shows that the difference range  is smaller  relative to the original range  (finer details).","The difference levels  are quantized  (\u2018Diff-\u2019) with a lower factor (5) than , reducing them into a range of 8. The quantized difference  are encoded into frame P.","When the two quantized differenced  and  are combined (e.g. in a decoding operation), they approximate  the original level , the residues (difference) shown as dark ranges .","A subsequent frame Q may be constructed by obtaining the difference between the levels  of tile A and the combination of quantizations  and , shown as dark levels , quantizing the difference (yielding Diff-) and encoding in the video stream as described above. The difference  is finer than  since the combination of a degree of quantizations progressively approaches original tile A. Subsequent difference frames may be encoded comprising still finer details (Diff-n).","In exemplary embodiments of the invention, in order to find a difference (Diff-j) the preceding frames (I-frame to P-frame-j\u22121) are decoded (decompressed or reconstructed) rather than storing the respective quantized tile A and the quantized P-frames (e.g.  and ).",{"@attributes":{"id":"p-0105","num":"0104"},"figref":"FIG. 4","b":["200","102","202","202","202","204"]},"In exemplary embodiments of the invention, each frame U to W is encoded based on a quantization factor Qnn, shown as Q40, Q30, Q20 for factors 40, 30 and 20, respectively, as described above. The quantization factor Qnn is decreasing in GOP  (from 40 to 20) so that further frames retain finer details as the range of the differences gets smaller, as described above and illustrated in Diff-  relative to Diff- .","In exemplary embodiments of the invention, when video  is decoded, tile A may be obtained by decoding only frame U, yielding a lower quality (ranges ) with respect to decoding and combining frames U and V (ranges ). A still better quality may be obtained by decoding and combining frames U, V and W, and so on.","In exemplary embodiments of the invention, a region of interest (e.g. center region of image ) may be compressed with a scalable compression with finer difference (higher level Diff-n) while the rest of the image is regularly compressed. This allows to obtain a decoded image where the interesting parts are of higher quality than the rest, giving an overall satisfactory quality while reducing the volume of the video sequence.","In exemplary embodiments of the invention, the P-frames are organized in the video sequence according to their compression or quantization level. Optionally, the P-frames are organized as a sub-sequence in the video sequence.","Intermittent Compression","In exemplary embodiments of the invention, an intermittent, or \u2018on the fly\u2019, (synchronous) compression of an image in a video sequence is employed.",{"@attributes":{"id":"p-0111","num":"0110"},"figref":"FIG. 8","b":["102","110","108","110","112"]},"In exemplary embodiments of the invention, instead of using a tile  of image  as described above, the intermittent compression uses row  in image . Row  is \u2018folded\u2019 into a rectangular format (or part thereof) , wherein rectangle  is encoded as a frame  in video sequence  as discussed above. Optionally, the frame is padded with known or special values to distinguish the image contents from the padding. Additionally or alternatively, one or more rows , or part of rows, may be encoded in the same frame .","In exemplary embodiments of the invention, the intermittent compression method allows a fast consecutive input for encoding, avoiding random addressing and buffer memory for tiles, or requiring only a small buffer relative to a random tile. For example, if image  is stored in some compression or encoding, such as JPEG or run length encoding such as PCX or fax, it is not required to decode the whole image or a large part thereof, but, rather, the current candidate rows for compression.","In exemplary embodiments of the invention, the compression may be halted, or paused, to allow other activities of the device in which the compression is taking place, and continued when the resources are available. For example, intermittent encoding in a cellular phone (which typically has limited resources with respect to other devices such as a personal computer) requires negligible buffer memory (e.g. only the pointer to the next row). Additionally, the compression may be started, and if a voice conversation is begins, the compression is paused at the end of row  or its encoding to yield the necessary resources (e.g. processor time) for the conversation, and when the latter is finished, the compression resumes at the next row.","In exemplary embodiments of the invention, the compression may be performed \u2018on the fly\u2019 (synchronously) with a piece-wise acquisition of image . For example, a scanner which consecutively provides image lines as the scanning proceeds (e.g. moving head in a flatbed scanner or deflecting ray in laser scanner) without having to store the whole image (or large part thereof). As rows  are provided from the scanner, the intermittent compression begins, without waiting for the scanner to finish scanning the whole area, and continues as the scanner provides more lines. The intermittent compression may allow other activities in the encoding device while the scanner moves (or a ray deflects) if the latter is slower than the encoding of one or more rows .","In exemplary embodiments of the invention, one or more rows , or part thereof, are compressed to form rectangular format . Optionally, the length of one or more rows , or part thereof, or and dimensions of rectangular format , are responsive to the capabilities and\/or stetting of the encoding tools (e.g. a codec).","In exemplary embodiments of the invention, depending on image  organization and\/or encoding tools, a column , rather than row , is accessed and used to encode a frame .","Coder (Codec)","In exemplary embodiments of the invention, an existing video coder such as a codec (encoder\/decoder), or part thereof comprising the coding part of the codec, is used to compress image , optionally with temporal and\/or motion compression.","In exemplary embodiments of the invention, the coder comprises one or more software modules and\/or libraries. Optionally, the coder comprises hardware and\/or firmware. Optionally, the coder comprises a chip-set with internal or external memory and\/or one or more processors. Optionally, the coder is part of a device.","In exemplary embodiments of the invention, the chipset is used on mobile devices such as cameras or cellular phones or PDAs. Optionally, the coder (or codec) is part of the device.","In exemplary embodiments of the invention, off-the-shelf or proprietary tools for constructing a video sequence are utilized to construct video sequence  from image . Optionally, the tools comprise SDK (software development kit) using techniques such API or procedure calls to construct the video sequence . Optionally or additionally, hardware modules are used. Optionally, a combination of software, hardware or firmware is used.","In exemplary embodiments of the invention, the coder is linked to an imaging sensor. Optionally, the sensor transfers the image to a memory. Optionally, the sensor may be tapped for the image. Optionally, the sensor is a part of the chip-set.","In exemplary embodiments of the invention, processors may be used in coding, such as a general purpose image co-processor (ICP), an application processor or a communications processor. Optionally, the processor is a dedicated processor.","In exemplary embodiments of the invention, the coder may accept operation parameters such as compression level, type of compression, number of frames in a GOP or other parameters such as the required bit rate. For example, by setting a configuration file or using API (application programming interface) to set the parameters.","In exemplary embodiments of the invention, the video sequence may be stored in memory, optionally for subsequent decoding or transfer to another device. Optionally, the video sequence may be \u2018streamed\u2019, that is, transferred as it is constructed.","In exemplary embodiments of the invention, providing a plurality of the same tile (or blocks) to the coder, the coder facilitates a plurality of compression (and fidelity) levels of the same image region by generating a difference Diff-n as described above, wherein the differences are spatially and\/or temporally and\/or motion compressed.","In exemplary embodiments of the invention, the coder is adapted for video standards such as AVC (H.264), MPEG 1\/2\/4 or other formats. Optionally, a coder for non-standard formats is used.","Metadata Etc.","In exemplary embodiments of the invention, metadata defining the arrangement of the frames with respect to image  data in the video sequence for optional subsequent is embedded in the video sequence. Optionally, the metadata comprise information such as the organization and identification of the contents of the video sequence and the frames, or an organization of the image in terms of tiles or blocks embedded or encoded in the frames so that the decoded frames will fit into the respective tiles  (or rows ) of image . Optionally, at least a part of the metadata is encoded inside a frame or frames of the video in the same manner as visual data. Optionally, a part of the metadata is comprised outside the video sequence, but, optionally stored together with it, such as in a file.","Optionally, a frame comprises metadata, for example, the ordinal value of the frame in GOP  or in the video sequence , the location of the respective tile in the image or motion information (e.g. P in ).","In exemplary embodiments of the invention, a one or more thumbnails of the image, or part thereof, is stored and\/or encoded in video sequence , optionally within a frame or frames or GOP . Optionally or alternatively, the thumbnails are not part of the video sequence, but, rather, stored separately or together with the video sequence, optionally as metadata. Optionally, the thumbnails are quantized, for example, as JPEG. Optionally or additionally, the thumbnails are not quantized but comprise a reduced resolution of the original image .","In exemplary embodiments of the invention, the video frames, with optional metadata is structured into a file or a data structure. Optionally, the file or data structure comprise additional information about the image, or metadata, such as in EXIF or DCF.","Overall Outline Flowchart","The scalable compression, as a ingredient in a compression of an image  in video sequence  is schematically summarized in .",{"@attributes":{"id":"p-0133","num":"0132"},"figref":"FIG. 6","b":"626"},"External settings or parameters () are provided (). Optionally, the parameters, or part thereof, are provided by a user such as by configuration file or API. The parameters may comprise the rate (bits per second of the video sequence ) or the quality level (e.g. as the range of luminance or colors relative to the original).","Image  is obtained from a memory store such as internal RAM or SRAM, memory card or right off a sensor (), or, alternatively, from a communication or acquisition stream.","The image is, optionally, separated into channels, such as RGB, YIQ, YUV, etc. (), as described later on.","The image, or a channel thereof, is divided into tiles  at (), optionally the division is virtual, that is, addressing the image to pick up data of a tile.","A tile that starts a GOP (in an I-frame) is fed for initial partitioning for DCT transformation ().","Additionally, and optionally in parallel, the tile is fed for analysis to identify the blocks  responsive to the contents such as color range, quality, complexity or entropy () in order to achieve efficient compression and quality decoded image. Optionally, blocks of different sizes are selected relative to .","The partitions defined in  are refined to match those of , for example the blocks boundaries and\/or sizes (). The partitions, or blocks, of  are analyzed and spatial prediction of one block relative to another is performed and the difference between the prediction and actual contents is obtained () and transformed by DCT (). A brief note on prediction is given later on.","The DCT coefficients are quantized (), i.e. some coefficients (high frequencies) of the transform are reduced or eliminated, optionally responsive to rate settings (). Optionally, the quantization is carried out using a quantization table, and the table is stored for subsequent image restoration. The quantized coefficient are entropy encoded, optionally by arithmetic coding () (such as in JPEG compression)","Up to here the initial frame (I-frame) in a GOP is spatially compressed and encoded (layer ) in the video stream, together with metadata indicating the tile corresponding to the frame ().","Subsequently intermediate frames (e.g. P-frames) as difference layers (Diff-n) are encoded.","The coded I-frame is reconstructed (), or alternatively saved after quantization (), to provide a reference for further differences Diff-n and onwards, as described above with respect to levels  in .","The reconstructed frame is subtracted from the original frame (e.g. the tile corresponding to the frame as shown in ), yielding a difference tile (Diff-) () as illustrated in  of . The difference tile (Diff-) is subsequently spatially compressed as before (-----), forming a temporal compression, and constructed as a P-frame in the video sequence (layer ) (), whereas the metadata of its position in the image is constructed () and stored with the metadata ().","Additionally, optionally the intermediate frame corresponding to Diff- is reconstructed, or alternatively saved after quantization (). Diff- is added to a reconstructed (I-frame or its saved quantization), yielding an approximation of image  (as  in ). The approximation is subtracted from the original initial frame, yielding a second order difference (as shown in ), that is quantized as Diff- and encoded (layer ).","Additionally, optionally more duplicated tiles may be processed as intermediate frames, Diff-n (layer n+1). Optionally or alternatively, a new tile is processed starting another GOP.","In exemplary embodiments of the invention, a thumbnail of the image or part hereof, or of a tile, is constructed () and stored with the frames (, ), optionally, with metadata to indicate the respective position of the tile in the image  (). The thumbnail may be used later on for display preview or display navigation of the decoded image.","Decoding (Decompressing)",{"@attributes":{"id":"p-0149","num":"0148"},"figref":"FIG. 9","b":["102","200"]},"In exemplary embodiments of the invention, video  is opened for access (). A GOP  is opened (accessed) () and an I-frame is decoded (). If the I-frame is the last frame in the GOP () then the metadata is consulted to place the decoded tile in its respective position in image  () and next GOP  is opened (). Otherwise, a subsequent P-frame is decoded () and combined with the preceding frame. If more P-frames are present in GOP  then they are decoded and combined with preceding frames ( & ). If no more frames are present in GOP  () then the metadata is consulted to place the decoded tile in its respective position in image  (). If more GOP  is present the next one is opened and accessed (), otherwise the decoding ends.","In exemplary embodiments of the invention, video  is read () from a streaming video, optionally with some buffering.","In exemplary embodiments of the invention, the metadata is not used for locating the tile, but, rather, a preset order of the frames is used to locate the respective tile  in image .","The combined (\u2018stitched\u2019) tiles comprise a decoded image resembling, or similar to a certain extent, the original image .","Optionally, only a part of the image tiles are extracted and combined to yield only a part respective to the original image . Optionally, tiles are decoded responsive to the display capabilities of the device. For example, if the display is of lower dimensions than the image, tiles of a region of interest that match the display dimensions are decoded. Optionally or alternatively, the image is re-sampled to match the device dimension.","In exemplary embodiments of the invention, an image may be decoded selectively according to the compression levels of a plurality of the same tile (or block), as described above, to obtain a similarity to the original image, or fidelity of the decoded image or part thereof, to a certain degree. Optionally, frames with the required or acceptable compression (or fidelity) are selected, decoded and combined to form an image of part thereof.","In exemplary embodiments of the invention, an image may be decoded responsive to setting or parameters of size and\/or resolution and\/or quality of the resultant decoded image. For example, determining frames such that their decoded information is sufficient for, or approximate to, the quality parameters (e.g. intensity or color ranges or blockiness). Optionally, the combination of the decoded information, such as combination of quantized initial frame and additional difference layers satisfy, or approximate, the parameters of size and\/or resolution and or quality.","In exemplary embodiments of the invention, in order to achieve better quality or fidelity to the original image from the quantized (compressed) frames, some techniques of the art that reduces possible blocky or patchy appearance of the decoded image may be used. For example, dithering of blocks boundaries may be used, that is, mixing pixels about a block boundary.","In exemplary embodiments of the invention, an existing decoder (optionally comprised in a codec), or off-the-shelf or proprietary tools for decoding a video sequence are used to extract tiles  (or blocks ) from the video sequence. Optionally, the tools comprise SDK using techniques such as API or procedure calls. Optionally or additionally, hardware modules are used. Optionally, a combination of software, hardware or firmware is used. Optionally, the hardware and firmware, and optionally memory, comprise a chip-set. Optionally, the chip-set is used on mobile devices such as cameras or cellular phones or PDAs. Optionally, the decoder, or codec, is part of a device.","Optionally, one or more processors may be used in decoding. For example, a general purpose processor, an image co-processor (ICP), an application processor or a communications processor. Optionally, the processor is a dedicated processor.","Encryption","In exemplary embodiments of the invention, the order of frames  in video sequence  are scrambled, that is, shuffled to form a different order so that conventional decoding (e.g. a codec) will not yield the image. Optionally, the metadata that indicate the frame order and\/or position of respective tile  in image  is provided separate of the video sequence to the decoder (or person that employs the decoding). Optionally, the metadata is inserted as frames (or inside frames) and marked so that the decoder will be able to locate and interpret it. Optionally or alternatively, the metadata is encrypted in the video sequence by a method or keys known or provided to the decoder (or person).","Some Variations and Highlights","In exemplary embodiments of the invention, the compression of tiles employs an Entropy Deficiency Quantization strategy, where the quantization levels of the blocks of pixels is set according to the desired bit rate and\/or quality, based on the entropy deficiency (reduction) of the blocks of pixels. Optionally, this method yields substantially smoother, higher fidelity and more realistic image for a human vision system than conventional techniques such as JPEG.","In exemplary embodiments of the invention, image  or part thereof is separated into a plurality of channels, such as RGB, CMYK, HSV (HSB), YIQ, YUV, YCrCb, xvYCC, or their derivatives or variations, or any separation of the art. Optionally, each channel, or a combination of channels, is compressed separately. It should be noted that different channels may be compressed differently, at least partially. For example, chrominance channels may be quantized (compressed) more than the luminance since the luminance is perceived better than chrominance by the human visual system.","In exemplary embodiments of the invention, the difference of a P-frame comprises a prediction of its contents relative to a previous frame or frames (the prediction typically requires small amount of data) and the actual contents of the P-frame is constructed as a difference to the predicted contents. The rest of the operation is as describe above.","In exemplary embodiments of the invention, blocks  of tile  may be constructed and compressed in a frame  wherein the blocks do not form a rectangular format. For example, blocks of \u2018plus\u2019 (+) form that share a similar geometry or entropy for efficient compression.","In the description and claims of the present application, each of the verbs \u201ccomprise\u201d, \u201cinclude\u201d and \u201chave\u201d as well as any conjugates thereof, are used to indicate that the object or objects of the verb are not necessarily a complete listing of members, components, elements or parts of the subject or subjects of the verb.","The present invention has been described using detailed descriptions of embodiments thereof that are provided by way of example and are not intended to necessarily limit the scope of the invention. In particular, numerical values may be higher or lower than ranges of numbers set forth above and still be within the scope of the invention. The described embodiments comprise different features, not all of which are required in all embodiments of the invention. Some embodiments of the invention utilize only some of the features or possible combinations of the features. Alternatively and additionally, portions of the invention described\/depicted as a single unit may reside in two or more separate physical entities which act in concert to perform the described\/depicted function. Alternatively and additionally, portions of the invention described\/depicted as two or more separate physical entities may be integrated into a single physical entity to perform the described\/depicted function. Variations of embodiments of the present invention that are described and embodiments of the present invention comprising different combinations of features noted in the described embodiments can be combined in all possible combinations including, but not limited to use of features described in the context of one embodiment in the context of any other embodiment. The scope of the invention is limited only by the following claims.","All publications and\/or patents and\/or product descriptions cited in this document are fully incorporated herein by reference to the same extent as if each had been individually incorporated herein by reference or if they were reproduced in full herein."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Non-limiting examples of embodiments of the present invention are described with reference to figures listed below. In the drawings which follow, identical or equivalent or similar structures, elements, or parts that appear in more than one drawing are generally labeled with the same numeral in the drawings in which they appear. Dimensions of components and features shown in the figures are chosen for convenience and clarity of presentation and are not necessarily shown to scale.",{"@attributes":{"id":"p-0062","num":"0061"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0063","num":"0062"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0064","num":"0063"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0065","num":"0064"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0066","num":"0065"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0067","num":"0066"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0068","num":"0067"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0069","num":"0068"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0070","num":"0069"},"figref":"FIG. 9"}]},"DETDESC":[{},{}]}
