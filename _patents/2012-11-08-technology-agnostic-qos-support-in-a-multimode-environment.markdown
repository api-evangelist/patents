---
title: Technology agnostic QoS support in a multi-mode environment
abstract: A generic quality of service (QoS) model that is not dependent on network technology is used to support QoS for communication networks utilizing different network technologies. The generic QoS model may include a superset of all QoS parameters for all network technologies being supported, e.g., 3GPP and 3GPP2. An application at a device may specify QoS for a traffic flow based on the generic QoS parameters in the superset. The generic QoS parameters may be converted to QoS parameters that are specific to a serving network. The converted QoS parameters are exchanged with the serving network and are used while exchanging traffic with the serving network.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08879584&OS=08879584&RS=08879584
owner: QUALCOMM Incorporated
number: 08879584
owner_city: San Diego
owner_country: US
publication_date: 20121108
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"p":["The present Application for Patent is a Divisional of U.S. patent application Ser. No. 11\/197,003, entitled \u201cTECHNOLOGY AGNOSTIC QOS SUPPORT IN A MULTI-MODE ENVIRONMENT,\u201d filed Aug. 4, 2005, which issued as U.S. Pat. No. 8,331,375 on Dec. 11, 2012 and which is further assigned to the assignee hereof and hereby expressly incorporated by reference herein in its entirety.","I. Field","The present disclosure relates generally to communication, and more specifically to techniques for supporting quality of service (QoS) in communication networks.","II. Background","Wireless communication networks are widely deployed to provide various communication services such as voice, packet data, and so on. These wireless networks may be multiple-access networks capable of supporting multiple users by sharing the available resources. Examples of such multiple-access networks include Code Division Multiple Access (CDMA) networks, Time Division Multiple Access (TDMA) networks, Frequency Division Multiple Access (FDMA) networks, and Orthogonal Frequency Division Multiple Access (OFDMA) networks.","A user may utilize a wireless device to obtain various communication services. Each service may be satisfactorily provided to the user by ensuring that a specified quality of service (QoS) is achieved for that service. QoS may be quantified by different parameters for different services. For example, a voice service may require a relatively stringent delay and a certain minimum guaranteed data rate whereas a packet data service may require a certain target packet error rate.","A wireless network typically provides the specified QoS for each service in a specific manner, e.g., using specific QoS parameters. Different wireless networks may utilize different QoS parameters for the same or comparable service. The different manners in which different wireless networks provide QoS can be problematic. For example, a wireless user may be roaming and may be handed off from one wireless network to another wireless network while receiving a packet data service. These wireless networks may provide QoS for the packet data service in different ways. The wireless device would then need to be aware of the difference in QoS support by the two wireless networks and request the appropriate QoS parameters from the new wireless network. This complicates the design of the wireless device and hinders roaming.","There is therefore a need in the art for techniques to more seamlessly support QoS across different wireless networks.","Techniques for supporting QoS in communication networks utilizing different network technologies are described herein. A network technology refers to a technology or a combination of technologies used to support communication with a wireless or wireline communication network. A network technology may comprise a radio access technology (RAT), a data network technology, or a combination thereof. RAT refers to the technology used for over-the-air communication. Data network technology refers to the technology used for data transfer among network entities.","In an aspect, a generic QoS model that is not dependent on network technology is used to support QoS. The generic QoS model may comprise a superset of all QoS parameters for all network technologies being supported by a device, with redundant QoS parameters removed. An application at the device may specify QoS for a traffic flow based on the QoS parameters in the superset. The specified QoS parameters may be converted to QoS parameters that are specific to a serving network.","In an embodiment, a first set of QoS parameters for a first QoS model is received from a first entity. The first set of QoS parameters is converted to a second set of QoS parameters for a second QoS model. One or more auxiliary parameters may be defined and used for the conversion between the first and second sets of QoS parameters. The second set of QoS parameters is sent to a second entity. The first entity may be an application at the device, the second entity may be a base station (e.g., in a 3GPP or 3GPP2 network), the first QoS model may be the generic QoS model, and the second QoS model may be a network-specific QoS model (e.g., for 3GPP or 3GPP2). Alternatively, the first entity may be a base station, the second entity may be the application at the device, the first QoS model may be a network-specific QoS model, and the second QoS model may be a generic QoS model.","In another aspect, generic filter parameters that are not dependent on network technology are used for IP packet filtering. The generic filter parameters may be obtained from a superset of all filter parameters for all network technologies being supported. An application may utilize the generic filter parameters to form IP packet filters. The generic filter parameters may be converted to filter parameters that are specific to the serving network.","Various aspects and embodiments of the invention are described in further detail below.","The word \u201cexemplary\u201d is used herein to mean \u201cserving as an example, instance, or illustration.\u201d Any embodiment or design described herein as \u201cexemplary\u201d is not necessarily to be construed as preferred or advantageous over other embodiments or designs.",{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 1","b":["100","110","120","122","110","110"]},"Wireless network  is a 3GPP network that may implement one or more technologies promulgated by a consortium named \u201c3rd Generation Partnership Project\u201d (3GPP). 3GPP network  may implement a RAT such as Wideband CDMA (W-CDMA), Global System for Mobile Communications (GSM), Enhanced Data rates for Global Evolution (EDGE), and so on. 3GPP network  may also implement a data network technology such as General Packet Radio Service (GPRS), and so on. For example, 3GPP network  may be a Universal Mobile Telecommunications System (UMTS) network that utilizes W-CDMA and EDGE. The various technologies promulgated by 3GPP are described in publicly available documents from 3GPP.","3GPP network  includes network entities described by 3GPP. Wireless device  may communicate with a Node B  via an air-link connection. For packet data service, Node B  communicates with a Serving GPRS Support Node (SGSN) , which further communicates with a Gateway GPRS Support Node (GGSN) . SGSN  controls the transmission of data packets between Node B  and GGSN . Node B  and SGSN  are parts of a 3GPP radio access network (RAN). GGSN  supports packet data service for the wireless devices in 3GPP network . GGSN  may couple to the Internet and\/or other data networks (e.g., data network ) and may communicate with other entities (e.g., a remote host ) that couple to these data networks.","Wireless network  is a 3GPP2 network that may implement one or more technologies promulgated by a consortium named \u201c3rd Generation Partnership Project 2\u201d (3GPP2). 3GPP2 network  may implement a RAT such as IS-2000 Releases 0 and A (commonly called CDMA 1x), IS-2000 Release C (commonly called CDMA 1x EV-DV), IS-856 (commonly called CDMA 1x EV-DO), IS-95, and so on. The various technologies promulgated by 3GPP2 are commonly called cdma2000 and are described in publicly available documents from 3GPP2.","3GPP2 network  includes network entities described by 3GPP2. Wireless device  may communicate with a base transceiver station (BTS)  via an air-link connection. For packet data service, BTS  communicates with a Packet Control Function (PCF) , which further communicates with a Packet Data Serving Node (PDSN) . PCF  is a network entity that controls the transmission of packets between BTS  and PDSN . Base station  and PCF  are parts of a 3GPP2 RAN. PDSN  supports packet data service for wireless devices in the 3GPP2 network. For example, PDSN  is responsible for the establishment, maintenance, and termination of Point-to-Point Protocol (PPP) sessions for the wireless devices. PDSN  may also assign dynamic Internet Protocol (IP) addresses to the wireless devices. PDSN  may couple to the Internet and\/or other data networks (e.g., a data network ) and may communicate with other entities that couple to these data networks.","In general, wireless device  may communicate with any number of wireless networks of any network technologies. Each wireless network may be a wireless wide area network (WWAN) (e.g., a 3GPP or 3GPP2 network) or a wireless local area network (WLAN) (e.g., an IEEE 802.11 network or a Bluetooth personal area network (BTPAN)). The techniques described herein may be used for various network technologies. For clarity, these techniques are specifically described for 3GPP and 3GPP2.",{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 2","b":["200","110","170","210","210","220","120","122","222","160","220","120","122","220","230","232","230","110","232"]},"The QoS architecture for 3GPP is described in a document 3G TR 23.907, entitled \u201cQoS Concept and Architecture,\u201d which is publicly available. The QoS architecture for 3GPP2 is described in a document TIA-835-D, entitled \u201ccdma2000\u00ae Wireless IP Network Standard,\u201d which is currently a ballot document that will also be publicly available.","Wireless device  may exchange one or more traffic flows with remote host  at the application layer. These traffic flows may be IP flows or some other types of flow. Each IP flow is a stream of IP packets that matches a set of one or more IP packet filters called a traffic filter template (TFT), as described below. The traffic flows are sent via end-to-end service  and typically require certain QoS for satisfactory performance The 3GPP bearer service supports QoS via one set of QoS parameters. The 3GPP2 bearer service supports QoS via another set of QoS parameters. The QoS parameters may also be called QoS attributes, flow specs, and so on.","In an aspect, a generic QoS model that is not dependent on network technology is used to support QoS for communication. This generic QoS model may also be called a common QoS model, a universal QoS model, and so on. In an embodiment, the generic QoS model includes a superset or a union of all QoS parameters for all network technologies being supported. This superset may be refined by eliminating redundant QoS parameters as well as non-essential QoS parameters that may be derived from other QoS parameters. The superset may also include, without modification, QoS parameters that are specific to a given wireless network and are meaningless to other wireless networks. Each network-specific QoS parameter may be invoked and used only for the applicable wireless network.","An application may specify QoS for a traffic flow based on the QoS parameters in the superset, which are called generic QoS parameters and are not technology dependent. The generic QoS parameters may be converted to QoS parameters that are specific to a serving wireless network, which is the wireless network via which the traffic flow will be sent. The superset includes sufficient QoS parameters to allow the application to specify the desired QoS for each supported network. In general, the generic QoS model may be defined for any number of network technologies and any given network technology. The generic QoS model may be used for wireless wide area networks (WWANs), wireless local area networks (WLANs), wireline wide area networks, wireline local area networks, and so on. For clarity, the following description is for a generic QoS model for 3GPP and 3GPP2.","Table 1 lists key QoS parameters that are applicable for 3GPP and 3GPP2. Table 1 is not exhaustive, and 3GPP and 3GPP2 may define other QoS parameters that are not listed in Table 1.",{"@attributes":{"id":"p-0036","num":"0035"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 1"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"QoS Parameters for 3GPP and 3GPP2"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"91pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"105pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"3GPP QoS Parameter","3GPP2 QoS Parameter"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Traffic class","Traffic class"]},{"entry":[{},"Maximum bit rate","Peak rate"]},{"entry":[{},"Guaranteed bit rate","Token rate"]},{"entry":[{},"Transfer delay","Bucket size"]},{"entry":[{},"Maximum SDU size","Maximum latency"]},{"entry":[{},"SDU error ratio","Maximum delay variation"]},{"entry":[{},"Residual bit error ratio","Maximum allowed packet size"]},{"entry":[{},"Traffic handling priority","Minimum policed packet size"]},{"entry":[{},{},"Maximum loss rate"]},{"entry":[{},{},"Profile ID"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}]}},"br":{}},"Table 2 lists the generic QoS parameters for the generic QoS model. For each generic QoS parameter, an \u201cx\u201d in the 3GPP column indicates that this QoS parameter is applicable for 3GPP, and an \u201cx\u201d in the 3GPP2 column indicates that this QoS parameter is applicable for 3GPP2. Each generic QoS parameter may be applicable for one or both network technologies.",{"@attributes":{"id":"p-0038","num":"0037"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 2"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Common QoS Parameters"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"1","colwidth":"91pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"5","colwidth":"28pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Parameter","Symbol","Unit","3GPP","3GPP2"]},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}},{"entry":["Traffic class","TC","\u2014","x","x"]},{"entry":["Data rate Option 1",{},{},{},{}]},{"entry":["Maximum bit rate","Rmax","bps","x",{}]},{"entry":["Guaranteed bit rate","Rg","bps","x",{}]},{"entry":["Data rate Option 2",{},{},{},{}]},{"entry":["Peak rate","Rp","bps",{},"x"]},{"entry":["Token rate","Rt","bps",{},"x"]},{"entry":["Bucket size","B","bytes",{},"x"]},{"entry":["Latency","L","ms","x","x"]},{"entry":["Latency variation","Lvar","ms",{},"x"]},{"entry":["Maximum allowed packet size","Smax","bytes","x","x"]},{"entry":["Minimum policed packet size","Smin","bytes","x",{}]},{"entry":["Packet error rate","Eper","\u2014","x","x"]},{"entry":["Residual bit error ratio","Erber","\u2014","x",{}]},{"entry":["Traffic handling priority","Ptrf","\u2014","x",{}]},{"entry":["Profile ID","Pid","\u2014","x"]},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}},{"entry":"In Table 2, \u201cbps\u201d denotes bits per second, and \u201cms\u201d denotes milliseconds."}]}}]}}},"The Traffic class (TC) parameter indicates the type of application for which the radio access bearer service is optimized. This parameter conveys certain characteristics of a traffic flow to a wireless network and helps the network set up appropriate physical channels to achieve the desired QoS for the traffic flow. 3GPP defines Conversational, Streaming, Interactive, and Background classes. 3GPP2 defines Conversational, Streaming, Interactive, Background, and Unknown classes. The main distinguishing factor among the various QoS classes is how delay sensitive the traffic is.","The Conversation class is characterized by (1) stringent and low delay (L) because of the conversational nature of the traffic and (2) a limited delay variation (low Lvar) in the traffic flow in order to preserve time relation between information entities of the traffic flow. Some exemplary applications bearing such traffic are voice and video conferencing.","The Streaming class is characterized by a limited delay variation (low Lvar) in the traffic flow in order to preserve the time relation between information entities of the traffic flow. The highest acceptable delay variation is application dependent. An exemplary application bearing such traffic is video streaming.","The Interactive class is characterized by (1) a request\/response pattern of the end-user, (2) a low round trip delay (low L), and (3) preservation of payload contents (low Eper) so that packets are transparently transferred. An exemplary application bearing such traffic is web browsing.","The Background class is characterized by (1) a relatively insensitive delivery time (no specific limit on L) and (2) preservation of payload contents (low Eper). An exemplary application bearing such traffic is background email download.","The data rate parameters define the rate at which data may be sent over the wireless network. Data rate may be specified using Option 1 with rate parameters (used in 3GPP) or Option 2 with token bucket parameters (used in 3GPP2). Option 1 includes two parameters\u2014Maximum bit rate (Rmax) and Guaranteed bit rate (Rg). Maximum bit rate is the maximum number of bits delivered by the wireless network in a given period of time. Guaranteed bit rate is the guaranteed minimum number of bits that can be delivered by the wireless network in a given period of time. For Option 2, packets (or \u201ctokens\u201d) to be transmitted are placed in a buffer (or \u201ctoken buffer\u201d) as they are generated, and packets in the buffer are sent via the wireless network. Option 2 includes three parameters\u2014Peak rate (Rp), Bucket size (B), and Token rate (Rt). Peak rate is the maximum rate at which data may be sent when the token bucket is full. Token rate is the maximum rate at which tokens may be placed in the token bucket. Bucket size determines the maximum number of tokens that may be accumulated at any given moment. Bucket size determines the largest traffic burst size that can be handled. Option 1 more closely represents circuit switched behavior with a guaranteed fixed bandwidth over a certain time duration with no support for bursty traffic. Option 2 more closely represents packet switched behavior with support for bursty traffic.","An application may specify data rate using either Option 1 or Option 2. Regardless of which option is selected for use, all of the parameters in the selected option are specified in order to fully specify data rate. Each wireless network may support one of the options. If the option used by the application is different from the option supported by the wireless network, then the parameters for one option may be converted to the parameters for the other option as described below.","The Latency (L) parameter defines the maximum delay that can be tolerated by an IP packet during transfer through a wireless network. The delay is defined as the time when a request to transfer the IP packet is made by the wireless device to the time when the IP packet is received by the IP gateway at the wireless network, which may be GGSN  or PDSN . The Latency parameter corresponds to the Transfer delay parameter in 3GPP and the Maximum latency parameter in 3GPP2.","The Latency variation (Lvar) parameter defines the difference between the maximum and minimum delay that can be tolerated by an IP packet during transfer through a wireless network. This parameter is essentially the maximum tolerated delay jitter. This parameter is not supported by 3GPP and hence may be ignored if 3GPP network  is the serving network.","The Maximum allowed packet size (Smax) parameter defines the maximum packet size allowed in a traffic flow. The Maximum allowed packet size parameter corresponds to the Maximum SDU size parameter in 3GPP.","The Minimum policed packet size (5 min) parameter defines the minimum packet size that will be policed for QoS guarantees. This parameter is not supported by 3GPP and hence may be ignored if 3GPP network  is the serving network.","The Packet error rate (Eper) parameter defines the maximum packet error rate that can be tolerated by a traffic flow. Packet error rate is the ratio of packets received in error to total packets transmitted. In an embodiment, the Packet error rate is given by two parameters\u2014a multiplier (m) and a negative base 10 exponent (p), or Eper=m\u00d710. In general, the Packet error rate may be defined using a format that allows for specification of any range of values permitted by the supported network technologies. The Packet error rate parameter corresponds to the SDU error ratio parameter in 3GPP and the Maximum loss rate parameter in 3GPP2.","The Residual bit error ratio (Erber) parameter defines the undetected bit error ratio for each traffic flow in delivered packets. This parameter may be specified for each subflow of the traffic flow. However, for equal error protection, only one value may be used for all subflows. If no error detection is requested for a subflow, then the Residual bit error ratio indicates the bit error ratio for delivered packets in that subflow. This parameter is not supported by 3GPP2 and may be ignored for 3GPP2 network .","The Traffic handling priority (Ptrf) parameter defines the relative priority between various subflows of a traffic flow. Within 3GPP, the Traffic handling priority parameter is used for the Interactive class to differentiate between bearer qualities and to allow the wireless network to schedule traffic accordingly. Since priority is an alternative to a guarantee, these two parameter types are not used together for a single bearer. The Traffic handling priority parameter is ignored for the Conversation, Streaming, and Background classes in 3GPP. This parameter is not supported by 3GPP2 and may be ignored for 3GPP2 network .","3GPP defines standard sets of QoS parameter values for specific applications. Each standard set of QoS parameter values is associated with a unique Profile ID value that may be used to conveniently convey the entire set of QoS parameter values. The Profile ID parameter is supported by 3GPP2 but not 3GPP. If an application specifies a Profile ID parameter value and 3GPP2 network  is the serving network, then all other QoS parameters may be ignored, and the Profile ID value may be sent to 3GPP2 network  to request the associated standard set of QoS parameter values. To work seamlessly on networks other than 3GPP2 network , the application may specify the Profile ID value as well as the QoS parameters associated with that Profile ID value. Otherwise, if only the Profile ID value is specified and the serving network is not 3GPP2 network  (e.g., due to handoff to 3GPP network ), then it may not be possible to derive pertinent QoS parameter values for the 3GPP network based on the Profile ID value.",{"@attributes":{"id":"p-0054","num":"0053"},"figref":"FIG. 3","b":["300","110","310","320","110","120","350","122","352"]},"A QoS module  provides a generic QoS interface for applications , a 3GPP QoS interface for 3GPP network , and a 3GPP2 QoS interface for 3GPP2 network . QoS module  performs conversion (1) between the generic QoS interface and the 3GPP QoS interface and (2) between the generic QoS interface and the 3GPP2 QoS interface. QoS module  also performs other functions to support QoS.","Within QoS module , a generic QoS interface  provides an interface via which applications  can specify QoS for traffic flows using generic QoS parameters. If wireless device  is communicating with 3GPP network , then a 3GPP QoS conversion module  performs conversion between the generic QoS parameters and the 3GPP QoS parameters. 3GPP interface  exchanges the 3GPP QoS parameters with 3GPP network . Similarly, if wireless device  is communicating with 3GPP2 network , then a 3GPP2 QoS conversion module  performs conversion between the generic QoS parameters and the 3GPP2 QoS parameters. 3GPP2 interface  exchanges the 3GPP2 QoS parameters with 3GPP2 network . For QoS requests, conversion modules  and  convert generic QoS parameters to network-specific QoS parameters for transmission to the wireless networks. Conversion modules  and  also convert the granted network-specific QoS parameters back to the generic QoS parameters in the format used by the requesting applications.","As shown in , applications  can specify the desired QoS for traffic flows using the generic QoS parameters and do not need to be aware of the QoS parameters that are specific to 3GPP and 3GPP2. 3GPP network  can exchange 3GPP QoS parameters with wireless device  even though applications  use generic QoS parameters. Similarly, 3GPP2 network  can exchange 3GPP2 QoS parameters with wireless device  even though applications  use generic QoS parameters.","Auxiliary parameters may be defined to facilitate the conversion between the generic, 3GPP, and 3GPP2 QoS parameters. These auxiliary parameters include Rate dependent latency (Lr), Constant latency factor (K), Minimum data rate (Rt_min), and Maximum channel rate (C), which are described below.","For the transmit direction, a packet sent from wireless device  to an IP gateway (e.g., GGSN  or PDSN ) typically encounters the following delays:\n\n","The Rate dependent latency (Lr) parameter approximates the total delay resulting from buffering and sending packets at a specific data rate. For the transmit direction, the Rate dependent latency may be given as:",{"@attributes":{"id":"p-0061","num":"0070"},"maths":{"@attributes":{"id":"MATH-US-00001","num":"00001"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mi":"Lr_tx","mo":"=","mrow":{"mrow":[{"mi":["Queuing","delay","at","wireless","device"],"mo":["\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}]},{"mi":["Transmission","delay"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}},{"mi":["Queuing","delay","at"],"mo":["\u2062","\u2062","\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"RAN","mo":"."}}],"mo":["+","+"]}}},{"mrow":{"mi":"Eq","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mrow":{"mo":["(",")"],"mrow":{"mn":"1","mo":"\u2062","mi":"a"}}}}]}}}},"br":{}},{"@attributes":{"id":"p-0062","num":"0071"},"maths":{"@attributes":{"id":"MATH-US-00002","num":"00002"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mi":"Lr_rx","mo":"=","mrow":{"mrow":[{"mi":["Queuing","delay","at","IP","gateway"],"mo":["\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}]},{"mi":["Transmission","delay"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}},{"mi":["Queuing","delay","at"],"mo":["\u2062","\u2062","\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"RAN","mo":"."}}],"mo":["+","+"]}}},{"mrow":{"mi":"Eq","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mrow":{"mo":["(",")"],"mrow":{"mn":"1","mo":"\u2062","mi":"b"}}}}]}}}}},"If the data rate available at a given time instant in a given direction is the Token rate (Rt), then the Rate dependent latency (Lr) at that time instant for that direction may be given as:\n\n\u2003\u2003Eq (2)\n\nwhere B is the bucket size for that direction. The Lr value for each direction is dependent on the Rt and B values for that direction. The Lr value for the transmit direction may be the same as or different from the Lr value for the receive direction.\n","The Constant latency factor (K) parameter approximates the constant delay for a traffic flow. The Constant latency factor (K) for each direction may be given as:\n\n=Propagation delay+Queuing delay in +Processing delay.\u2003\u2003Eq (3)\n\nEach type of delay in equation (3) may have different values for the transmit and receive directions.\n","The actual latency (Lact) for each direction may then be given as:\n\nact=\u2003\u2003Eq (4)\n\nThe values of Lr and K may be different for the transmit and receive directions. Hence, the actual latency may be different for the transmit and receive directions. K is network specific but is not dependent on the current data rate. If K<<L, then K may be ignored, and Lact\u2245Lr.\n","The Latency (L) parameter defines the maximum acceptable latency for an IP packet in a traffic flow. L may be derived based on one of the following:\n\n","If L is the maximum tolerable latency for a traffic flow, then the maximum rate dependent latency (Lr_max), which is the maximum value of Lr, may be given as:",{"@attributes":{"id":"p-0068","num":"0081"},"maths":{"@attributes":{"id":"MATH-US-00003","num":"00003"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mtable":{"mtr":[{"mtd":{"mrow":{"mrow":{"mi":["Lr_max",{}],"mo":["=","\u2062"],"mrow":{"mi":["L","K"],"mo":"-"}},"mo":","}}},{"mtd":{"mrow":{"mo":["\u2245","\u2062"],"mi":{},"mrow":{"mi":["L","if"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}}],"mrow":{"mrow":{"mo":["(",")"],"mrow":{"mi":"K","mo":"\u2062","mrow":{"mo":"<<","mi":"L"}}},"mo":"."}}}}}]},"mo":"\u2003"}},{"mrow":{"mi":"Eq","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mrow":{"mo":["(",")"],"mn":"5"}}}]}}}},"br":{}},{"@attributes":{"id":"p-0069","num":"0082"},"maths":{"@attributes":{"id":"MATH-US-00004","num":"00004"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mtable":{"mtr":[{"mtd":{"mrow":{"mrow":{"mi":["Rt_min",{}],"mo":["=","\u2062"],"mrow":{"mi":["B","Lr_max"],"mo":"\/"}},"mo":","}}},{"mtd":{"mrow":{"mrow":{"mo":["=","\u2062"],"mi":{},"mrow":{"mi":"B","mo":"\/","mrow":{"mo":["(",")"],"mrow":{"mi":["L","K"],"mo":"-"}}}},"mo":","}}},{"mtd":{"mrow":{"mo":["\u2245","\u2062"],"mi":{},"mrow":{"mrow":[{"mi":["B","L"],"mo":"\/"},{"mrow":{"mo":["(",")"],"mrow":{"mi":"K","mo":"\u2062","mrow":{"mo":"<<","mi":"L"}}},"mo":"."}],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}}],"mi":"if"}}}}]},"mo":"\u2003"}},{"mrow":{"mi":"Eq","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mrow":{"mo":["(",")"],"mn":"6"}}}]}}}},"br":{}},"The Maximum channel rate (C) parameter defines the maximum channel rate for wireless device , which is the maximum data rate that the wireless device can support in each direction (e.g., based on hardware limitations). If an application requests a data rate that is higher than the Maximum channel rate, then the wireless device should request the Maximum channel rate from the wireless network even if the wireless network can support higher data rates.","Table 3 shows an exemplary mapping of the generic QoS parameters to 3GPP QoS parameters. If an application specifies data rate using Option 1, then the smaller of the Maximum bit rate (Rmax) and the Maximum channel rate (C) is provided as the Maximum bit rate for 3GPP. If the application specifies data rate using Option 2 and also specifies latency (or L>0), then the larger of the Minimum data rate (Rt_min) and the Peak rate (Rp), constrained by the Maximum channel rate (C), is provided as the Maximum bit rate. If the application specifies data rate using Option 2 but does not specify latency, then the smaller of the Peak rate (Rp) and the Maximum channel rate (C) is provided as the Maximum bit rate. For both Options 1 and 2, the Guaranteed bit rate (Rg) is provided as the Guaranteed bit rate for 3GPP if Rg\u2266C, and an error indication is provided otherwise. The other generic QoS parameters may be mapped directly (or after any necessary conversion) to the corresponding 3GPP QoS parameters.",{"@attributes":{"id":"p-0072","num":"0085"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 3"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Generic QoS parameters 3GPP\u2009 \u2009QoS parameters"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"140pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"77pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Generic QoS Parameter","3GPP QoS Parameter"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Traffic class (TC)","Traffic class"]},{"entry":["If Rate Option 1 specified: use MIN {Rmax, C}","Maximum bit rate"]},{"entry":["If Rate Option 2 specified:",{}]},{"entry":["If (L > 0), then use MIN {MAX [Rt_min, ",{}]},{"entry":["Rp], C}, else use MIN {Rp, C}",{}]},{"entry":["If Rg > C, then indicate Error, else use Rg","Guaranteed bit rate"]},{"entry":["Latency (L)","Transfer delay"]},{"entry":["Max allowed packet size (Smax)","Maximum SDU size"]},{"entry":["Packet error rate (Eper)","SDU error ratio"]},{"entry":["Residual bit error ratio (Erber)","Residual bit error ratio"]},{"entry":["Traffic handling priority (Ptrf)","Traffic handling priority"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},"Table 4 shows an exemplary mapping of the generic QoS parameters to 3GPP2 QoS parameters. The Peak rate for 3GPP2 is set to (1) the smaller of the Maximum bit rate (Rmax) and the Maximum channel rate (C) if Option 1 is used or (2) the smaller of the Peak rate (Rp) and the Maximum channel rate (C) if Option 2 is used. The Guaranteed bit rate (Rg) is provided as the Token rate for 3GPP2 if Rg\u2266C, and an error indication is provided otherwise. The Bucket size for 3GPP2 is set to (1) the smaller of the Maximum bit rate (Rmax) and the Maximum channel rate (C) times the Maximum rate dependent latency (Lr_max) if Option 1 is used or (2) the Bucket size (B) if Option 2 is used. The other generic QoS parameters may be mapped directly (or after any necessary conversion) to the corresponding 3GPP2 QoS parameters. An application may specify a Profile ID as well as the parameters associated with this Profile ID in order to operate seamlessly on networks of different network technologies. The Profile ID may be used for a network that understands this parameter. The parameters associated with the Profile ID may be used for other networks that do not understand the Profile ID.",{"@attributes":{"id":"p-0074","num":"0087"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 4"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Generic QoS parameters 3GPP2\u2009 \u2009QoS parameters"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"147pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"70pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"3GPP2 QoS "]},{"entry":["Generic QoS Parameter","Parameter"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Traffic class (TC)","Traffic class"]},{"entry":["If Rate Option 1 specified: use MIN {Rmax, C}","Peak rate"]},{"entry":["If Rate Option 2 specified: use MIN {Rp, C}",{}]},{"entry":["If Rg > C, then indicate Error, else use Rg","Token rate"]},{"entry":["If Rate Option 1 specified: use MIN {Rmax, C} \u00d7","Bucket size"]},{"entry":["Lr_max",{}]},{"entry":["If Rate Option 2 specified: use Bucket size (B)",{}]},{"entry":["Latency (L)","Maximum latency"]},{"entry":["Latency variation (Lvar)","Maximum delay "]},{"entry":[{},"variation"]},{"entry":["Max allowed packet size (Smax)","Maximum packet size"]},{"entry":["Packet error rate (Eper)","Maximum loss rate"]},{"entry":["Profile ID (Pid)","Profile ID"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},"An application may query for the QoS parameters that are currently applied for a traffic flow. QoS module  in  receives the QoS parameters granted by a wireless network in the format used by that wireless network. The granted QoS parameters may be converted to the generic QoS parameters in the format used previously by the application. For example, if the application has requested data rate using Option 1, then the granted QoS parameters may be converted to the generic QoS parameters for Option 1, even if the wireless network may grant data rate using Option 2. The converted generic QoS parameters in the desired format are then returned to the application.","Table 5 shows an exemplary mapping of the 3GPP QoS parameters (column 1) to the generic QoS parameters (column 3). The generic Bucket size (B) is equal to the Maximum bit rate in 3GPP times the Maximum rate dependent latency (Lr_max). The other 3GPP QoS parameters may be mapped directly (or after any necessary conversion) to the corresponding generic QoS parameters. The generic QoS parameters that are not set by 3GPP QoS parameters are indicated as \u201cNot Set\u201d in column 1.","Table 5 also shows an exemplary mapping of the 3GPP2 QoS parameters (column 2) to the generic QoS parameters (column 3). The generic Maximum bit rate (Rmax) is equal to the larger of the Peak rate in 3GPP2 and the Bucket size in 3GPP2 divided by the Maximum rate dependent latency (Lr_max). The other 3GPP2 QoS parameters may be mapped directly (or after any necessary conversion) to the corresponding generic QoS parameters. The generic QoS parameters that are not set by 3GPP2 QoS parameters are indicated as \u201cNot Set\u201d in column 2.",{"@attributes":{"id":"p-0078","num":"0091"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 5"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"3GPP and 3GPP2 QoS parameters\u2009 \u2009Generic QoS parameters"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"70pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{},"Generic QoS "]},{"entry":["3GPP QoS Parameter","3GPP2 QoS Parameter","Parameter"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["Traffic class","Traffic class","Traffic class (TC)"]},{"entry":["Maximum bit rate","MAX {Peak rate,","Maximum bit rate "]},{"entry":[{},"Bucket size\/Lr_max}","(Rmax)"]},{"entry":["Guaranteed bit rate","Token rate","Guaranteed bit rate "]},{"entry":[{},{},"(Rg)"]},{"entry":["Maximum bit rate","Peak rate","Peak rate (Rp)"]},{"entry":["Guaranteed bit Rate","Token rate","Token rate (Rt)"]},{"entry":["Maximum bit rate \u00d7","Bucket size","Bucket size (B)"]},{"entry":["Lr_max",{},{}]},{"entry":["Transfer Delay","Maximum latency","Latency (L)"]},{"entry":["Not Set","Maximum delay ","Latency variation "]},{"entry":[{},"variation","(Lvar)"]},{"entry":["Maximum SDU size","Maximum packet size","Max allowed packet "]},{"entry":[{},{},"size (Smax)"]},{"entry":["Not Set","Not Set","Min policed packet "]},{"entry":[{},{},"size (Smin)"]},{"entry":["Derive from SDU error","Derive from Maximum","Packet error rate "]},{"entry":["ratio","loss rate","(Eper)"]},{"entry":["Residual bit error ratio","Not Set","Residual bit error ratio "]},{"entry":[{},{},"(Erber)"]},{"entry":["Traffic handling priority","Not Set","Traffic handling "]},{"entry":[{},{},"priority (Ptrf)"]},{"entry":["Not Set","Profile ID","Profile ID (Pid)"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}}},"For a QoS request, the generic QoS parameters requested by the application may be converted to network-specific QoS parameters, and the wireless network may grant these network-specific QoS parameters without any modifications. In this case, if the application queries for the granted QoS parameters, then the generic QoS parameters originally requested by the application may be returned to the application, without having to convert the granted network-specific QoS parameters back to the generic QoS parameters.",{"@attributes":{"id":"p-0080","num":"0093"},"figref":"FIG. 4","b":["400","412","414","416"]},"The first entity may be an application at a wireless device, the second entity may be a base station (e.g., in a 3GPP or 3GPP2 network), the first QoS model may be a generic QoS model, and the second QoS model may be a network-specific QoS model (e.g., for 3GPP or 3GPP2, as indicated in ). Alternatively, the first entity may be a base station (e.g., in a 3GPP or 3GPP2 network), the second entity may be an application at a wireless device, the first QoS model may be a network-specific QoS model (e.g., for 3GPP or 3GPP2), and the second QoS model may be a generic QoS model.","A revised second set of QoS parameters for the second QoS model may be received from the second entity (block ). The revised second set of QoS parameters may be converted to a revised first set of QoS parameters for the first QoS model (block ). The revised first set of QoS parameters may be provided to the first entity (block ). Blocks , , and  may be performed for a QoS request. Blocks , , and  may be performed to report a QoS grant.","The first set of QoS parameters may be converted to a third set of QoS parameters for a third QoS model (block ). The third set of QoS parameters may be sent to a third entity (block ). The second and third sets of QoS models may be network-specific QoS models for different network technologies (e.g., 3GPP and 3GPP2), and the second and third entities may be base stations in different wireless networks. Blocks  and  may be performed, e.g., if the wireless device roams to another wireless network of different network technology.",{"@attributes":{"id":"p-0084","num":"0097"},"figref":"FIG. 5","b":["500","512","514","516","524","526"]},"One or more traffic flows may be exchanged between wireless device  and wireless network  or . The QoS for each traffic flow (or each subflow of a traffic flow) may be defined based on the generic QoS parameters, as described above. Different levels of QoS may be applied to different traffic flows and\/or subflows to achieve the desired performance.","A traffic flow may carry one or more IP flows, where each IP flow is a stream of IP packets. Each IP flow may be defined by (and associated with) a set of one or more IP packet filters that is called a traffic filter template (TFT). An IP packet filter is formed by one or more filter parameters for one or more fields of an IP header and\/or one or more fields of a higher layer header (e.g., a TCP or UDP header). An IP packet matches an IP packet filter if the applicable fields of that IP packet conform to the filter parameters for that IP packet filter. On the transmit direction, outbound IP packets from higher layer applications are filtered with IP packet filters to segregate these IP packets into the appropriate IP flows, which are thereafter sent at the specified QoS to the serving network. On the receive direction, inbound IP packets from the serving network are filtered with IP packet filters to segregate the inbound IP packets into the appropriate IP flows, which are thereafter sent at the specified QoS to the wireless device.","3GPP specifies a set of filter parameters that may be used for IP packet filtering. Similarly, 3GPP2 specifies another set of filter parameters that may be used for IP packet filtering. The filter parameters for 3GPP are not exactly the same as the filter parameters for 3GPP2. Hence, an application may need to be aware of the serving network in order to properly specify IP packet filters.","In another aspect, generic filter parameters that are not dependent on network technology are used to support IP packet filtering. In an embodiment, the generic filter parameters are obtained from a superset of all filter parameters for all network technologies being supported. This superset may be refined by eliminating redundant filter parameters. An application may utilize the generic filter parameters to form IP packet filters. The generic filter parameters used by the application may be converted (if needed) to filter parameters that are specific to the serving network (e.g., 3GPP or 3GPP2). The superset includes sufficient filter parameters to allow the application to specify the desired IP packet filters for each supported wireless network. In general, the generic filter parameters may be defined for any number of network technologies and any given network technology. For clarity, the following description is for generic filter parameters for 3GPP and 3GPP2.","Table 6 lists exemplary generic filter parameters, 3GPP filter parameters, and 3GPP2 filter parameters. Table 6 also shows the mapping (1) between the generic filter parameters and 3GPP filter parameters and (2) between the generic filter parameters and 3GPP2 filter parameters.",{"@attributes":{"id":"p-0090","num":"0103"},"tables":{"@attributes":{"id":"TABLE-US-00006","num":"00006"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 6"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Filter parameters"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"91pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"63pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Generic Filter Parameter","3GPP Filter ","3GPP2 Filter "]},{"entry":[{},"Parameter","Parameter"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["IPv4 source address","Source address","IPv4 source address"]},{"entry":["IPv4 source subnet mask","Subnet mask","Subnet mask"]},{"entry":["IPv4 destination address",{},"IPv4 destination "]},{"entry":[{},{},"address"]},{"entry":["IPv4 destination subnet mask",{},{}]},{"entry":["IPv4 type of service value","IPv4 type of service ","IPv4 type of service "]},{"entry":[{},"value","value"]},{"entry":["IPv4 type of service mask","IPv4 type of service ",{}]},{"entry":[{},"mask",{}]},{"entry":["IPv6 source address","Source address","IPv6 source address"]},{"entry":["IPv6 source prefix length","Subnet mask",{}]},{"entry":["IPv6 destination address",{},"IPv6 destination "]},{"entry":[{},{},"address"]},{"entry":["IPv6 destination prefix length",{},{}]},{"entry":["IPv6 traffic class value","IPv6 traffic class ","IPv6 traffic class "]},{"entry":[{},"value","value"]},{"entry":["IPv6 traffic class mask","IPv6 traffic class ",{}]},{"entry":[{},"mask",{}]},{"entry":["IPv6 flow label","IPv6 flow label","IPv6 flow label"]},{"entry":["Next header protocol","Protocol number\/","Protocol\/Next "]},{"entry":[{},"Next header","header"]},{"entry":["TCP source port",{},"Source port"]},{"entry":["TCP source port range","Source port range","Source port range"]},{"entry":["TCP destination port",{},"Destination port"]},{"entry":["TCP destination port range","Destination port ","Destination port "]},{"entry":[{},"range","range"]},{"entry":["UDP source port",{},"Source port"]},{"entry":["UDP source port range","Source port range","Source port range"]},{"entry":["UDP destination port",{},"Destination port"]},{"entry":["UDP destination port range","Destination port ","Destination port "]},{"entry":[{},"range","range"]},{"entry":["ICMP message type",{},{}]},{"entry":["ICMP message code",{},{}]},{"entry":["IPSec security parameter","IPSec security ","IPSec security "]},{"entry":["index (SPI)","parameter index ","parameter index "]},{"entry":[{},"(SPI)","(SPI)"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}}},"Referring back to , an IP filter module  includes a generic IP filter interface , a 3GPP IP filter conversion module , and a 3GPP2 IP filter conversion module . Generic IP filter interface  provides an interface via which applications  can specify the desired IP packet filters using generic filter parameters. If wireless device  is communicating with 3GPP network , then 3GPP IP filter conversion module  performs conversion between the generic filter parameters and the 3GPP filter parameters to generate 3GPP IP packet filters, which are applied on IP packets exchanged via 3GPP interface . Similarly, if wireless device  is communicating with 3GPP2 network , then 3GPP2 IP filter conversion module  performs conversion between the generic filter parameters and the 3GPP2 filter parameters to generate 3GPP2 IP packet filters, which are applied on IP packets exchanged via 3GPP2 interface .",{"@attributes":{"id":"p-0092","num":"0105"},"figref":"FIG. 6","b":["600","612","614"]},"IP packets exchanged with a first network (e.g., a 3GPP or 3GPP2 network) are filtered based on the first and\/or second sets of at least one IP packet filter. The wireless device may send the second set of at least one IP packet filter to the first network, which may apply the IP packet filter(s) on IP packets sent to the wireless device (block ). The wireless device may apply the first set of at least one IP packet filter on IP packets sent to the first network (block ).","The first set of at least one IP packet filter may be converted to a third set of at least one IP packet filter, which is defined based on a third set of filter parameters for a second network technology (block ). IP packets exchanged with a second network are filtered based on the first and\/or third sets of at least one IP packet filter. The wireless device may send the third set of at least one IP packet filter to the second network, which may apply the IP packet filter(s) on IP packets sent to the wireless device (block ). The wireless device may apply the first set of at least one IP packet filter on IP packets sent to the second network (block ).","The generic QoS parameters and the generic filter parameters described herein provide various advantages. An application may specify QoS and IP packet filters using the generic QoS parameters and the generic filter parameters, respectively. The application does not need to be aware of the technology used by the serving network. This capability supports seamless roaming among networks of different technologies since the generic QoS and filter parameters specified by the application may be converted to network-specific QoS and filter parameters, if and as needed. This conversion may be transparent to the application. The use of generic QoS and filter parameters provides more intuitive, stable, and extensible application programming interface (API) and also allows for development of applications that are not network specific. Such applications may be advantageously used, e.g., in a multi-mode wireless device that supports multiple network technologies (e.g., 3GPP and 3GPP2).",{"@attributes":{"id":"p-0096","num":"0109"},"figref":"FIG. 7","b":["110","110","712","714","722","724","120","122","724","728","728","716","718","712","714","716","718","710"]},"A processor\/controller  directs the operation of various units within wireless device . Processor\/controller  may implement processes ,  and\/or  in ,  and , respectively. A memory unit  stores program codes and data used by processor\/controller  and other units. Memory unit  may store the pertinent QoS parameters and IP packet filters.","The techniques described herein may be implemented by various means. For example, these techniques may be implemented in hardware, software, or a combination thereof. For a hardware implementation, the processing units used to support QoS and IP packet filtering may be implemented within one or more application specific integrated circuits (ASICs), digital signal processors (DSPs), digital signal processing devices (DSPDs), programmable logic devices (PLDs), field programmable gate arrays (FPGAs), processors, controllers, micro-controllers, microprocessors, electronic devices, other electronic units designed to perform the functions described herein, or a combination thereof.","For a software implementation, the techniques may be implemented with modules (e.g., procedures, functions, and so on) that perform the functions described herein. The software codes may be stored in a memory unit (e.g., memory unit  in ) and executed by a processor (e.g., processor ). The memory unit may be implemented within the processor or external to the processor.","The previous description of the disclosed embodiments is provided to enable any person skilled in the art to make or use the present invention. Various modifications to these embodiments will be readily apparent to those skilled in the art, and the generic principles defined herein may be applied to other embodiments without departing from the spirit or scope of the invention. Thus, the present invention is not intended to be limited to the embodiments shown herein but is to be accorded the widest scope consistent with the principles and novel features disclosed herein."],"BRFSUM":[{},{}],"heading":["BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The features and nature of the present invention will become more apparent from the detailed description set forth below when taken in conjunction with the drawings in which like reference characters identify correspondingly throughout.",{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 7"}]},"DETDESC":[{},{}]}
