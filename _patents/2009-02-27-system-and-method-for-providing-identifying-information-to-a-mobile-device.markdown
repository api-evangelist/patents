---
title: System and method for providing identifying information to a mobile device
abstract: A system and method for providing identifying information about the source of an incoming communication to a mobile device is provided. An incoming communication is received by an enterprise network and a connection is established to the mobile device. A DTMF message is sent to the mobile device by the enterprise network. If the source of the incoming communication has an enterprise-assigned number then the DTMF message comprises an identifying key corresponding to the key field of a profile list comprising enterprise-assigned numbers and an identifying information entry for each enterprise-assigned number in the list. If the source of the incoming communication does not have an enterprise-assigned number, the DTMF message comprises an identifying number for the source of the incoming communication. If DTMF is not available on the mobile device, similar logic may be employed using, for example, ANI manipulation.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08676179&OS=08676179&RS=08676179
owner: BlackBerry Limited
number: 08676179
owner_city: Waterloo, Ontario
owner_country: CA
publication_date: 20090227
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD","BACKGROUND","DESCRIPTION OF EXAMPLE EMBODIMENTS"],"p":["The present application relates to generally to mobile communication devices and, more particularly, to systems and methods for providing identifying information about incoming communications to mobile devices.","Mobile communication devices, such as cellular telephones, PDAs and BlackBerry\u00ae devices are often capable of displaying identifying information about the source of an incoming communication. This provides information to the user of the mobile device which may aid the user in deciding whether to accept the communication at that time. Where the communication is received by the mobile device from the source of the communication over a single communications network, as for example over the public switched telephone network (PSTN) or over a public land mobile network (PLMN), this information may be provided, for example, using a caller ID function provided by the common communication carrier. Other communications, however, may be routed to or through a system, such as an enterprise network including a corporate private branch exchange (PBX), which is operated or controlled independently of the network on which the communication originated. In such instances special difficulties may arise in providing the targeted mobile device with identifying information concerning the source of the communication.","Similar reference numerals may have been used in different figures to denote similar components.","In one aspect, there is provided a system for transmitting identifying information about a source of an incoming communication to a mobile device. The system has a communications platform for receiving the incoming communication and initiating a connection between the source of the incoming communication and the mobile device and a DTMF module coupled to the communications platform for generating and transmitting a DTMF message to the mobile device upon receipt of an incoming communication by the communications platform. If the source of the incoming communication has an enterprise-assigned number, the DTMF message comprises an identifying key corresponding to the key field of a profile list comprising enterprise-assigned numbers and an identifying information entry for each enterprise-assigned number in the profile list, and otherwise, the DTMF message comprises an identifying number for the source of the incoming communication.","In another aspect, there is provided a method of transmitting identifying information about a source of an incoming communication to a mobile device connected to an enterprise network. The method comprises, receiving the incoming communication at the enterprise network; initiating a connection between the source of the incoming communication and the mobile device; and generating and transmitting a DTMF message to the mobile device. If the source of the incoming communication has a enterprise-assigned number, the DTMF message comprises an identifying key corresponding to the key field of a profile list comprising enterprise-assigned numbers and an identifying information entry for each enterprise-assigned number in the profile list, and otherwise, the DTMF message comprises an identifying number for the source of the incoming communication.","In another aspect, there is provided a method of displaying identifying information about a source communication device to a user of a mobile device connected to an enterprise network. The method comprises: receiving a notification of an incoming communication from the enterprise network, the notification comprising a DTMF message; using the DTMF message to determine the identifying information of the source communication device; and displaying the identifying information on the mobile device.","Other aspects of the present application will be apparent to those of ordinary skill in the art from a review of the following detailed description in conjunction with the drawings.","Embodiments of the present application are not limited to any particular operating system, mobile device architecture, server architecture, or computer programming language.","The present application relates to the control and management of communications. Although reference may be made to \u201ccalls\u201d in the description of example embodiments below, it will be appreciated that the described systems and methods are applicable to session-based communications in general and not limited to voice calls. It will also be appreciated that the systems and methods may not be limited to sessions and may be applicable to messaging-based communications in some embodiments.","Reference is now made to , which shows, in block diagram form, an example system, generally designated , for the control and management of communications. The system  includes an enterprise or business system , which in many embodiments includes a local area network (LAN). In the description below, the enterprise or business system  may be referred to as an enterprise network . It will be appreciated that the enterprise network  may include more than one network and may be located in multiple geographic areas in some embodiments.","The enterprise network  may be connected, often through a firewall , to a wide area network (WAN) , such as the Internet. The enterprise network  may also be connected to a public switched telephone network (PSTN)  via direct inward dialing (DID) trunks or primary rate interface (PRI) trunks.","The enterprise network  may also communicate with a public land mobile network (PLMN) , which may also be referred to as a wireless wide area network (WWAN) or, in some cases, a cellular network. The connection with the PLMN  may be made via a relay , as known in the art.","The enterprise network  may also provide a wireless local area network (WLAN) featuring wireless access points. Other WLANs  may exist outside the enterprise network . For example, WLAN may be connected to WAN .","The system  may include a number of enterprise-associated mobile devices  (only one shown). The mobile devices  may include devices equipped for cellular communication through the PLMN , mobile devices equipped for Wi-Fi (TRADEMARK) communications over one of the WLANs , or dual-mode devices capable of both cellular and WLAN communications. WLANs  may be configured in accordance with one of the IEEE 802.11 specifications.","In some embodiments, mobile devices  are two-way mobile communication devices having at least voice and data communication capabilities, including the capability to communicate with other digital or analog automatic data processing systems (i.e., computers). Examples of mobile devices  suitable for use in implementing systems and methods disclosed herein include, depending on the functionality provided, data messaging devices, two-way pagers, cellular telephones with data messaging capabilities, wireless Internet appliances, data communication devices (with or without telephony capabilities), a clamshell device, personal digital devices (PDAs) and flip-phones.","It will be understood that the mobile devices  include one or more radio transceivers and associated processing hardware and software to enable wireless communications with the PLMN  and\/or WLAN(s) . In various embodiments, the PLMN  and mobile devices  may be configured to operate in compliance with any one or more of a number of wireless protocols, including GSM, GPRS, CDMA, EDGE, UMTS, EvDO, HSPA, 3GPP, or a variety of others. It will be appreciated that the mobile device  may roam within the PLMN  and across PLMNs, in known manner, as the user moves. In some instances, the dual-mode mobile devices  and\/or the enterprise network  are configured to facilitate roaming between the PLMN  and a WLAN , and are thus capable of seamlessly transferring sessions (such as voice calls) from a connection with the cellular interface of the dual-mode device  to the WLAN  interface of the dual-mode device , and vice versa.","The enterprise network  typically includes a number of networked servers, computers, and other devices. For example, the enterprise network  may connect one or more desktop or laptop computers  (one shown). The connection may be wired or wireless in some embodiments. The enterprise network  may also connect to one or more digital telephone sets  (one shown).","The enterprise network  may include one or more mail servers, such as mail server , for coordinating the transmission, storage, and receipt of electronic messages for client devices operating within the enterprise network . Examples of mail servers suitable for use in implementing systems and methods disclosed herein include the Microsoft Exchange Server\u2122 and the IBM Lotus Domino\u2122 server. Each user within the enterprise typically has at least one user account within the enterprise network . Associated with each user account is message address information, such as an e-mail address. Messages addressed to a user message address are stored on the enterprise network  in the mail server . The messages may be retrieved by the user using a messaging application, such as an e-mail client application. The messaging application may be operating on a user's computer  connected to the enterprise network  within the enterprise. In some embodiments, the user may be permitted to access stored messages using a remote computer, for example at another location via the WAN  using a VPN connection. Using the messaging application, the user may also compose and send messages addressed to others, within or outside the enterprise network . The messaging application causes the mail server  to send a composed message to the addressee, often via the WAN .","The relay  serves to route messages received over the PLMN  from the mobile device  to the corresponding enterprise network . The relay  also pushes messages from the enterprise network  to the mobile device  via the PLMN .","The enterprise network  also includes an enterprise server . Together with the relay , the enterprise server  functions to redirect or relay incoming e-mail messages addressed to a user's e-mail address within the enterprise network  to the user's mobile device  and to relay incoming e-mail messages composed and sent via the mobile device  out to the intended recipients within the WAN  or elsewhere. The enterprise server  and relay  together facilitate \u201cpush\u201d e-mail service for the mobile device  enabling the user to send and receive e-mail messages using the mobile device  as though the user were connected to an e-mail client within the enterprise network  using the user's enterprise-related e-mail address, for example on computer .","As is typical in many enterprises, the enterprise network  includes a Private Branch eXchange (although in various embodiments the PBX may be a standard PBX or an IP-PBX, for simplicity the description below uses the term PBX to refer to both)  having a connection with the PSTN  for routing incoming and outgoing voice calls for the enterprise. The PBX  is connected to the PSTN  via DID trunks or PRI trunks, for example. The PBX  may use ISDN signaling protocols for setting up and tearing down circuit-switched connections through the PSTN  and related signaling and communications. In some embodiments, the PBX  may be connected to one or more conventional analog telephones . The PBX  is also connected to the enterprise network  and, through it, to telephone terminal devices, such as digital telephone sets , softphones operating on computers , etc. Within the enterprise, each individual may have an associated extension number, sometimes referred to as a PNP (private numbering plan), or direct dial phone number. Calls outgoing from the PBX  to the PSTN  or incoming from the PSTN  to the PBX  are typically circuit-switched calls. Within the enterprise, e.g. between the PBX  and terminal devices, voice calls are often packet-switched calls, for example Voice-over-IP (VoIP) calls.","The enterprise network  may further include a Service Management Platform (SMP)  for performing some aspects of messaging or session control, like call control and advanced call processing features. The SMP  may, in some cases, also perform some media handling. Collectively the SMP  and PBX  may be referred to as the enterprise communications platform, generally designated . It will be appreciated that the enterprise communications platform  and, in particular, the SMP , is implemented on one or more servers having suitable communications interfaces for connecting to and communicating with the PBX  and\/or DID\/PRI trunks. Although the SMP  may be implemented on a stand-alone server, it will be appreciated that it may be implemented into an existing control agent\/server as a logical software component. As will be described below, the SMP  may be implemented as a multi-layer platform.","The enterprise communications platform  implements the switching to connect session legs and may provide the conversion between, for example, a circuit-switched call and a VoIP call, or to connect legs of other media sessions. In some embodiments, in the context of voice calls the enterprise communications platform  provides a number of additional functions including automated attendant, interactive voice response, call forwarding, voice mail, etc. It may also implement certain usage restrictions on enterprise users, such as blocking international calls or 1-900 calls. In many embodiments, Session Initiation Protocol (SIP) may be used to set-up, manage, and terminate media sessions for voice calls. Other protocols may also be employed by the enterprise communications platform , for example, Web Services, Computer Telephony Integration (CTI) protocol, Session Initiation Protocol for Instant Messaging and Presence Leveraging Extensions (SIMPLE), and various custom Application Programming Interfaces (APIs), as will be described in greater detail below.","One of the functions of the enterprise communications platform  is to extend the features of enterprise telephony to the mobile devices . For example, the enterprise communications platform  may allow the mobile device  to perform functions akin to those normally available on a standard office telephone, such as the digital telephone set  or analog telephone set . Example features may include direct extension dialing, enterprise voice mail, conferencing, call transfer, call park, etc.","Reference is now made to , which show example embodiments of the enterprise communications system . Again, although references are made below to \u201ccalls\u201d or call-centric features it will be appreciated that the architectures and systems depicted and described are applicable to session-based communications in general and, in some instances, to messaging-based communications.",{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 2","b":["16","18","60","60","16","18"]},"In this embodiment, the SMP  assumes control over both call processing and the media itself. This architecture may be referred to as \u201cFirst Party Call Control\u201d. Many of the media handling functions normally implemented by the PBX  are handled by the SMP  in this architecture. Incoming calls addressed to any extension or direct dial number within the enterprise, for example, are always first routed to the SMP . Thereafter, a call leg is established from the SMP  to the called party within the enterprise, and the two legs are bridged. Accordingly, the SMP  includes a digital trunk interface  and a digital signal processing (DSP) conferencing bridge . The DSP conferencing bridge  performs the bridging of calls for implementation of various call features, such as conferencing, call transfer, etc. The digital trunk interface  may be implemented as a plurality of telephonic cards, e.g. Intel Dialogic cards, interconnected by a bus and operating under the control of a processor. The digital trunk interface  may also be partly implemented using a processor module such as, for example, a Host Media Processing (HMP) processor.","The SMP  may include various scripts  for managing call processing. The scripts  are implemented as software modules, routines, functions, etc., stored in non-volatile memory and executed by the processor of the SMP . The scripts  may implement call flow logic, business logic, user preferences, call service processes, and various feature applications.",{"@attributes":{"id":"p-0041","num":"0040"},"figref":"FIG. 3","b":["14","16","18","18","18"]},"The call control server  is coupled to the PBX , for example through the LAN, enabling packet-based communications and, more specifically, IP-based communications. In one embodiment, communications between the PBX  and the call control server  are carried out in accordance with SIP. In other words, the call control server  uses SIP-based communications to manage the set up, tear down, and control of media handled by the PBX . In one example embodiment, the call control server  may employ a communications protocol conforming to the ECMA-269 or ECMA-323 standards for Computer Supported Telecommunications Applications (CSTA).",{"@attributes":{"id":"p-0043","num":"0042"},"figref":"FIG. 4","b":["14","18","74","74","18","72","76","72","76","72","74"]},"The SIP server  interacts with the media server  using SIP-based media handling commands. For example, the SIP server  and media server  may communicate using Media Server Markup Language (MSML) as defined in IETF document Saleem A., \u201cMedia Server Markup Language\u201d, Internet Draft, draft-saleem-msml-07, Aug. 7, 2008. The media server  may be configured to perform Host Media Processing (HMP).","Other architectures or configurations for the enterprise communications system  will be appreciated by those ordinarily skilled in the art.","Reference is now made to , collectively referred to as , which shows another embodiment of the enterprise communications system  with a Third Party Call Control architecture. In this embodiment, the SMP  is a multi-layer platform that includes a protocol layer , a services layer  and an application layer . The protocol layer  includes a plurality of interface protocols configured for enabling operation of corresponding applications in the application layer . The services layer  includes a plurality of services that can be leveraged by the interface protocols to create richer applications. Finally, the application layer  includes a plurality of applications that are exposed out to the communication devices and that leverage corresponding ones of the services and interface protocols for enabling the applications.","Specifically, the protocol layer  preferably includes protocols which allow media to be controlled separate from data. For example, the protocol layer  can include, among other things, a Session Initiation Protocol or SIP , a Web Services protocol , an Application Programming Interface or API , a Computer Telephony Integration protocol or CTI , and a Session Initiation Protocol for Instant Messaging and Presence Leveraging Extensions or SIMPLE protocol . It is contemplated that the interface protocols - are plug-ins that can interface directly with corresponding servers in the enterprise network , which will be further described below.","For the purposes of this disclosure, SIP  will be utilized, although it is appreciated that the system  can operate using the above disclosed or additional protocols. As known by those of ordinary skill in the art, SIP is the IETF (Internet Engineering Task Force) standard for multimedia session management, and more specifically is an application-layer control protocol for establishing, maintaining, modifying and terminating multimedia sessions between two or more endpoints. As further known by those of ordinary skill in the art, the SIP protocol  includes two interfaces for signaling: SIP-Trunk (hereinafter referred to as \u201cSIP-T\u201d) and SIP-Line (hereinafter referred to as \u201cSIP-L\u201d). Specifically, the SIP-T interface is utilized when the endpoint is a non-specific entity or not registered (i.e., when communicating between two network entities). In contrast, the SIP-L interface is utilized when the endpoint is registered (i.e., when dialing to a specific extension). The specific operation of the system  utilizing SIP  will be described in further detail below.","In the embodiment shown SMP  also includes a plurality of enablers, among other things, a VoIP enabler , a Fixed Mobile Convergence or FMC enabler , a conference services enabler , a presence enabler  and an Instant Messaging or IM enabler . Each of the enablers - are used by corresponding services in the services layer  that combine one or more of the enablers. Each of the applications in the application layer  is then combined with one or more of the services to perform the desired application. For example, a phone call service may use the VoIP or PBX enabler, and an emergency response application may use the phone call service, an Instant Messenger service, a video call service, and email service and\/or a conference service.","The application layer  may include a conference services application  that, together with the conference services enabler , enables multiple communication devices (including desk telephones and personal computers) to participate in a conference call through use of a centralized conference server . As seen in , the conference server  is provided in the enterprise network  and is in communication with the conference services enabler  preferably through the SIP protocol , although it is recognized that additional protocols that control media separate from data may be appropriate, such as the Web Services protocol  or the CTI protocol . As will be described in further detail below, the conference call server  is configured for directing media and data streams to and from one or more communication devices (i.e., mobile devices , telephones , and computers ).","Turning now to , the general operation of the system  using SIP  as the signaling protocol will be discussed, although it is recognized that the present system is not limited to the processes discussed herein. The signaling descriptions that follow are based on Third Party Call Control architecture, such as that illustrated in  or . It will be appreciated that similar but slightly modified signaling may be used in a First Party Call Control architecture, wherein the PBX  will pass media through to the SMP  for direct media handling by the SMP . Variations in the signaling to adapt to various architectures will be appreciated by those ordinarily skilled in the art.",{"@attributes":{"id":"p-0052","num":"0051"},"figref":"FIG. 6A","b":["11","101","16","20","11","101","18","100","12","16","18","11","102","11","16","104","16","18","16","18","106","18","16","108"]},"The SMP  then sets up the outgoing call leg to the destination. It does this by sending an invite over SIP-L to the PBX  with the destination number of the target phone (block ). SIP-L is used so that the call can be correctly attributed to the individual within the organization within any call records that are being maintained by the PBX . When the invite is received, the PBX  dials the destination number to the target phone  (block ), and the target phone  answers the call (block ). When the target phone  is answered, the PBX  sends a 200 OK signal to the SMP  indicating that the target phone  is ready to receive data (block ). The SMP  then sends an invite over SIP-T to the PBX  and shuffles the SDP (Session Description Protocol, as known to those of ordinary skill in the art) to connect the call legs (block ). When the call legs are connected, the PBX  sends a second 200 OK signal to the SMP  (block ), and the users of the device  and target phone  can communicate with each other.","Note that between the cellular call leg being established and the outgoing call leg being answered, the mobile user hears ringing tones. These ringing tones may be provided by the PBX  using the presentation of early media from the outgoing call leg, or they may be generated locally on the device  if early media is not available. In the latter case, it will be necessary to localize the ringing tone to match the tone normally heard with a call through the PBX .","The above description is known as a \u201cmobile initiated\u201d call, because the SMP  provides the mobile device  with the DNIS number into which the mobile device  has called. Alternatively, the mobile originated call could be \u201cPBX initiated\u201d, as shown in . Specifically, in a PBX-initiated call, upon receipt of the mobile originated call request (block ), the SMP  confirms receipt of the call to the mobile device  with an ANI number (block ), which the mobile device uses to identify the incoming call from the PBX . The PBX  then sends an invite over SIP-T to the PBX  with the cellular number of the device and the ANI number that is attached to the outgoing call (block ). Upon receipt of the invite, the PBX  makes a cellular call to the device  (block ), which is answered by the device (block ). The device  checks the ANI number in the incoming call to confirm if the number is actually from the PBX . If the ANI number is stripped for any particular reason, then the device  may be configured to answer the call as a regular cellular call, or it may reject the call as unknown. When the device  answers the PBX-initiated call, the PBX  sends a 200 OK signal to the SMP , indicating that the call leg to the device is established (block ).","In response, the SMP  sends an invite over SIP-L with the destination number of the target phone  to the PBX  (block ). When the invite is received at the PBX , the PBX dials the destination number to the target phone  (block ), the target phone  picks up the call (block ), and a 200 OK signal is sent from the PBX  to the SMP  (block ), indicating that the target phone  is also ready to receive data. In response to the 200 OK, the SMP  sends an invite to the PBX , shuffling the SDP to connect the call legs (block ). Finally, when the call legs are connected, the PBX  sends a second 200 OK signal to the SMP , and the users of the device  and target phone  are able to communicate with each other.","In both instances, the SMP  is performing third party call control of the two call legs, the PBX  remaining in control of the call. The decision of whether to proceed with a mobile-initiated call or a PBX-initiated call can be set by policy. Specifically, the option to select either mobile-initiated or PBX-initiated calls is a feature provided in the SMP , and an administrator for the enterprise network  can determine which setting to use. For example, in some cases it may be more cost effective for the corporation to utilize PBX-initiated calls rather than mobile-initiated calls, and vice versa. However, it is appreciated that the system  is not limited to the above processes.",{"@attributes":{"id":"p-0058","num":"0057"},"figref":["FIGS. 7A and 7B","FIG. 7A"],"b":["80","101","101","16","150","16","16","18","152"]},"In response to the invite, the SMP  sends a call request with the DNIS number and source details to the device  (block ), which is confirmed to the SMP (block ). These source details may be sent via a data connection between the system  and the mobile device , such as that discussed further in relation to . In addition to confirming the call, the mobile device  sends a cellular call to the DNIS number at the PBX  (block ). Again, as the DNIS number is routed in the dialing plans to the SMP , upon receipt of the cellular call, the PBX  sends an invite over SIP-T to the SMP  with the DNIS number (block ). In response to the invite, a \u201c200 OK\u201d signal is sent over SIP-T from the SMP  to the PBX , acknowledging that the call leg to the mobile device  is established (block ). Finally, the initial invite (block ) is acknowledged with the \u201c200 OK\u201d signal with the cellular SDP, at which point the call legs are joined and the target phone  and device  can communicate with each other on the call.","The diagram shown in  illustrates a \u201cmobile-initiated\u201d call, because, as discussed above with respect to , the SMP  presents the mobile device  with the DNIS number at the PBX  into which to call. However, it is also possible to employ a \u201cPBX-initiated\u201d mobile terminated call, as shown in , where the PBX  sends an incoming call to the device  with the ANI number of the target phone .","Specifically, similar to the mobile initiated call described above and shown in , the target phone  sends an incoming call to the destination number of the device, which is received at the PBX  (block ). Upon receipt of the call, the PBX  sends an invite over SIP-L to the SMP  (block ) with the source number of the target phone . In response to the invite, the SMP  sends a call request with the source number to the device  (block ), with the ANI number the device should expect in the incoming call, the call request being confirmed by the device (block ). At this point in the PBX-initiated call, the SMP  sends an invite over SIP-T to the PBX  with the cellular number and ANI number to use (block ), prompting the PBX  to make a cellular call to the device  with the ANI number (block ), prompting the device to ring. The device  answers the call (block ), and a \u201c200 OK\u201d signal is sent from the PBX  to the SMP , acknowledging that the cellular call leg to the device  is established (block ). In response, a \u201c200 OK\u201d signal is also sent from the SMP  to the PBX , acknowledging that the call leg to the target phone  is also established (block ). The SMP  shuffles the SDP to connect the call legs, the call legs are joined, and the target phone  and device  can communicate with each other on the call.","As discussed above with respect to , the SMP  remains in control of the signaling between the target phone  and the mobile device  in both the mobile-initiated and PBX-initiated calls. Again, the decision to proceed with a mobile-initiated call or a PBX-initiated call is based on policy and may be set by a system administrator. In some cases, it may be more efficient or cost effective for the administrator to decide that PBX-initiated calls should be used, and in other cases, it may be more efficient or cost effective for mobile-initiated calls to be utilized. As these policy decisions may vary by organization and are not imperative to the scope of the present application, they will not be discussed in further detail.","Reference is now made to , which shows an embodiment of a method  of providing to a mobile device  identifying information about a source of a communication to the mobile device. Method  is suitable for implementation by, for example, the enterprise server architecture shown in  to which reference will be made where appropriate.","At  in , a communication such as a request to initiate a call intended for a mobile device  is received by PBX server  or other device associated with enterprise network . This corresponds, for example, to block  of  or block  of .","The PBX server  or other device receiving the incoming communication request may be capable of sending and receiving different types or layers of data to and from the mobile device , particularly where mobile device  is a dual-mode device as described above. For example, an auditory layer (or voice channel or voice service) can be used to transfer data representing voice and other auditory information to and from the mobile device . In some embodiments, a data layer (or data channel or data service) can be used to transfer other data, such as non-auditory data, between the enterprise network  and the mobile device . For example, sending the ANI number to the mobile device, as shown in blocks  and  of  respectively, can be done using the data layer.","Identifying information about the source of an incoming communication may be transferred to a mobile device  from the enterprise network  using the data layer. For example, at block  of , source details are sent to the mobile device  from the SMP  using the data layer. Such source details, however, can be sent via the data layer only when and where data service is available.","At , the system , , etc., checks to determine whether data service is available between the mobile device  and the enterprise network . If data service is available, the identifying information is sent to the mobile device using the data layer at block . The identifying information can then be displayed on the mobile device  and the communication may proceed as depicted, for example, in .","In some situations, however, data service may not be available between the enterprise network  and the mobile device . This may occur, for example, when the device is roaming. Alternatively, the mobile device may be an older device or other device with which data service is never available. In such cases, the identifying information about the source of a communication can not be sent using the data layer. In other situations, it may not be desirable to use the data service between the enterprise network  and the mobile device  even where data service is available, for example, where the sending of identifying information does not easily fit into the data service protocol. Where no data service is available or the use of data service is undesirable, other techniques may be used to transfer identifying information to the mobile device  if this information is to be displayed on the device.","At block , the system determines whether dual-tone multi-frequency (DTMF) capabilities are available for the mobile device . If DTMF is available then a DTMF message comprising the identifying information can be generated by the enterprise network  and transmitted to the mobile device . This may be done, for example, using a DTMF module coupled to the communications platform  resident in a memory of the enterprise network  to be executed by a processor of the enterprise network . Dual-tone multi-frequency (DTMF) signaling is used for telephone signaling in the voice-frequency band. Hence, a DTMF message can be sent to the mobile device  regardless of whether or not data service is available between the enterprise network  and the mobile device . Methods of generating and receiving DTMF messages are well known in the art.","The mobile device  may then use information extracted from the DTMF message to identify the source of the communication. The contents of such a DTMF message may depend on any suitable factors, including for example, whether or not the source of the incoming communication is a device known to the enterprise network . For example, the content of the DTMF message may depend on whether or not the assigned telephone number or other address information associated with the source of the communication has been assigned or otherwise recognized by the enterprise network or its administrator(s). A device associated with an enterprise-assigned number is sometimes referred to as a participant in the enterprise network.","If the source of the incoming communication is an enterprise participant (e.g., has an enterprise-assigned or -acknowledged number) then, at block , the DTMF message may contain an identifying key. The identifying key may allow the mobile device  to look up information about the source of the communication in, for example, a profile list stored on the mobile device . The profile list may include a list of all participants (or a specific subset of participants) for the enterprise network  and may be passed to each participant device using the data layer when data service is available or through some other means. Updates to the profile list may be sent to the mobile device  from the enterprise network  periodically on a set schedule or whenever changes occur to the list. The profile list may, for example, be in the form of a spreadsheet and may comprise identifying information entries for each participant in the list including, for example, each participant's name and phone number as well as possibly other information such as a participant's location, department and internal extension. Each entry in the profile list may contain a key field. The length of the profile list may be limited by the length of the key field. In general, the length of the key field may be limited to a size which is practical to be sent using the methods discussed herein. The identifying key contained in the DTMF message may be used by the mobile device  to find the appropriate entry in the profile list with a matching key field. Some or all of the information from the appropriate entry in the profile list may then be displayed on the mobile device . An advantage of the use of such identifying keys is economy and efficiency in the tracking and forwarding of data representing identifying information associated with enterprise participants. This can, for example, lead to increased communications bandwidth and other benefits.","Alternatively, identifying information for a participant can be stored in an address book or other suitably-configured data store associated with or otherwise accessible by the mobile device  with an optionally hidden DTMF key field and Boolean value indicating that the entry is a participant. The mobile device can in such circumstances match the identifying key from the DTMF message to the entry in the address book with a matching DTMF key and extract the identifying information to be displayed.","It will be understood by those skilled in the art that the identifying key could itself be part of the identifying information, such as the user's telephone number, or it could be another number, such as a sequential or random number, assigned specifically for this purpose. The identifying key may be updated periodically for security purposes.","If the source of the incoming communication is a non-participant (i.e. does not have an enterprise-assigned or acknowledged number), at block  the DTMF message may contain or otherwise represent an identifying number (such as the telephone number) or other address information, or other information identifying the source of the communication. Such information can be extracted from the DTMF message and displayed on the mobile device . The mobile device  can also display a message indicating, for example, that the source of the communication is an outside caller.","The DTMF message may also include a security key used by the mobile device  to confirm that the DTMF message originates from the enterprise network . For example, the enterprise network  can maintain a database or other machine-readable store of security numbers (or other information) which it may permit mobile device  to access though the data layer when data service is available or through some other means. Such a store of numbers or other identifiers may be changed or updated periodically, or otherwise as appropriate or desired. When a DTMF message is sent to a mobile device , the message may include such a security identifier. The mobile device  can extract the security identifier and check it against the security identifiers accessible by it via enterprise network . If the security identifier in the message does not appear on the list maintained by enterprise network , the mobile device  may assume there has been a breach in security and terminate the communication. It should be noted that this is only one possible implementation of the use of security identifiers or other keys, and those of skill in the art will recognize that there may be a number of different ways in which such a security key could be implemented.","If the mobile device  for which a communication is intended does not support DTMF, at block  the system can determine whether a caller identification code, such as the automatic number identification (ANI), of the communication can be manipulated. The ANI is a feature of telephony intelligent network services that permits subscribers to display or capture the telephone numbers of calling parties. An ANI may be sent to the mobile device  from the enterprise network  when the call is initiated, for example at block  of . Where an enterprise network  is used to relay a communication to a mobile device, the ANI may be manipulated in order to send information about the source of the communication to the mobile device  such as the number (e.g. telephone number) of the source of the communication. The manipulation of the ANI to include the number of a source communication is sometimes called ANI mangling. If ANI mangling is possible, the ANI will be manipulated at block .","If ANI manipulation is available then, at block , logic similar to that employed in blocks  to  may be utilized. In other words, if the source of the incoming communication is an enterprise assigned number then an identifying key to the profile list described above may be sent to the mobile device, as in block  of method . For example, in order for the enterprise network  to send an identifying key 1111 using ANI manipulation, the ANI may be the following: 992-001-1111. The first three digits, 992, could be used to identify the communication as Enterprise participant communication. The second three digits, 001, could be a security key or type of call identifier. The final four digits, 1111, could represent the identifying key to the same profile list used in DTMF logic described above.","If the source of the information is not an enterprise assigned number (non-participant) then the ANI may contain or otherwise represent an identifying number (such as the telephone number) or other address information, or other information identifying the source of the communication, as in block . For example, for non-participant callers, the ANI could be 993-123-456-7890 where 993 identifies call as an Enterprise communication from non participant with caller id 1234567890.","The transmission of a telephone number, as may be done in block , may be considered less secure than sending an identifying key, as in block , because the actual number of source of the incoming communication is included in the message.","In some jurisdictions, the manipulation of an ANI is not permitted where the resulting number is not a number owned by the system performing the manipulation. For instance, in these jurisdictions, a enterprise network  would not be permitted to manipulate the ANI to include the number of an outside (non-participant) caller. In such a case, the enterprise network  may set aside a number or other identifier which it does own to be used to indicate that an incoming communication is from an outside caller. The ANI can be manipulated at block  to include this dedicated number. When the mobile device  received a call indicating that the source of the communication is the dedicated number, it would recognize the number as an indication that the caller is an outside (non-participant) caller and can display a message to that effect. ANI mangling will normally be available for participant sources even in such jurisdictions because a participant source will, by definition, have a number assigned by the enterprise network . Hence, the number of a participant source will normally be owned by the enterprise network .","While the blocks of method  are shown as occurring in a particular order, it will be appreciated by those skilled in the art that many of the blocks are interchangeable and may occur in different orders that that shown without materially affecting the end results of the method.","While the present disclosure is primarily described as a method, a person of ordinary skill in the art will understand that the present disclosure is also directed to an apparatus for carrying out the disclosed method and including apparatus parts for performing each described method block, be it by way of hardware components, a computer programmed by appropriate software to enable the practice of the disclosed method, by any combination of the two, or in any other manner. Moreover, an article of manufacture for use with the apparatus, such as a pre-recorded storage device or other similar computer readable medium including program instructions recorded thereon, or a computer data signal carrying computer readable program instructions may direct an apparatus to facilitate the practice of the disclosed method. It is understood that such apparatus, articles of manufacture, and computer data signals also come within the scope of the present disclosure.","Certain adaptations and modifications of the described embodiments can be made. Therefore, the above discussed embodiments are considered to be illustrative and not restrictive."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Reference will now be made, by way of example, to the accompanying drawings which show example embodiments of the present application, and in which:",{"@attributes":{"id":"p-0005","num":"0004"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0006","num":"0005"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0007","num":"0006"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":["FIGS. 5A and 5B","FIG. 3"]},{"@attributes":{"id":"p-0010","num":"0009"},"figref":["FIG. 6A","FIG. 5"]},{"@attributes":{"id":"p-0011","num":"0010"},"figref":["FIG. 6B","FIG. 5"]},{"@attributes":{"id":"p-0012","num":"0011"},"figref":["FIG. 7A","FIG. 5"]},{"@attributes":{"id":"p-0013","num":"0012"},"figref":["FIG. 7B","FIG. 5"]},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 8"}]},"DETDESC":[{},{}]}
