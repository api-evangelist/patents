---
title: System and method for gathering ecommerce data
abstract: The techniques introduced here provide a method of gathering ecommerce data. The techniques described here allow a system to return information about a product from several non-related ecommerce sites in response to a single search query. Using the techniques described here, a data mining system determines from the search query a product ID and retrieves from a database one or more product links that correspond to the product ID. Using the product links retrieved from the database, the data mining system traverses the links and parses the web-pages corresponding each of the links to determine up to date product information. The product information can then be returned to the application that initiated the request.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08688534&OS=08688534&RS=08688534
owner: Reno Acquisitions, LLC
number: 08688534
owner_city: Saratoga Springs
owner_country: US
publication_date: 20110311
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["RELATED APPLICATIONS","FIELD OF THE INVENTION","BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["This patent application claims priority to U.S. Provisional Patent Application No. 61\/313,636, entitled Method and System for Finding Prime Uniform Resource Identifiers, filed Mar. 12, 2010, which is incorporated herein in its entirety.","At least one embodiment of the present invention pertains to web extraction, data mining, and data reporting, and more particularly, to extraction, mining, and reporting of ecommerce data.","The rapid growth in computer, the Internet, and telecommunication technology has brought about a change in how product manufacturers sell their goods. While brick and mortar establishments still provide an outlet for goods, running an ecommerce website is relatively inexpensive compared to a brick and mortar establishment and this has led to a large number of online retailers. In order to remain competitive, it can be important for online retailers to monitor competitor's prices and offerings. Manufacturers also have an interest in monitoring the pricing and availability of their products that are sold through online retailers.","Current methods of obtaining pricing comparison data include search engine provided \u201cshopping engines\u201d and price comparison sites, for example. Most of these sites rely on paid-placement programs, a model where merchants pay to have their information listed. The end user therefore, has no way of knowing if data from these engines is complete, timely, or accurate.","The techniques introduced here illustrate a system and method for compiling, and providing access to, a comprehensive repository of ecommerce data. The system, according to one embodiment, includes an application that provides a user with an interface to access the ecommerce data and an acquisition engine that gathers real time data relating to ecommerce products the user is interested in.","In one embodiment, the data mining system receives a search query including a product URL, determines from the product URL a unique product ID associated with the product URL, retrieves from a database one or more product links that correspond to the product ID, scraping the one or more product links to get product information, and returning the product information.","In one embodiment, the data mining system includes a web server coupled with a network to receive from an application a URL associated with a product. The web server can then determine from the URL a unique product ID and return one or more product links that correspond to the unique product ID. The data mining system also includes an acquisition engine that is configured to receive the one or more product links from the web server, to scrape the one or more product links, and to return information relating to the product.","References in this specification to \u201can embodiment,\u201d \u201cone embodiment,\u201d or the like, mean that the particular feature, structure, or characteristic being described is included in at least one embodiment of the present disclosure. Occurrences of such phrases in this specification do not necessarily all refer to the same embodiment.","Those of skill in the art will appreciate that the invention may be embodied in other forms and manners not shown below. It is understood that the use of relational terms, if any, such as first, second, top and bottom, and the like are used solely for distinguishing one entity or action from another in this description, without necessarily requiring or implying any such actual relationship or order between such entities or actions.","In order to organically build databases of ecommerce, reliable indexes of all the \u201cbuy pages\u201d\u2014places where customers can purchase the product\u2014are needed. As is apparent to those of ordinary skill in the art, a high percentage of ecommerce websites are built on templates, i.e., a computer system renders the information about what to buy and how to buy it. This is opposed to completely organic webpages that are hand crafted. Merchants do this so that there is low overhead in selling and listing products online. Therefore, the non-organic nature of ecommerce websites can be leveraged in order to index, i.e., keep a database of, as many buy pages as possible. However, it is extremely difficult for applications to do this in a standardized way.",{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 1","b":["102","104","106","110","114","108","112","112","114","116","116","114","114","112"]},"An example of the data mining system in operation begins with an application  requesting data from the data mining system  through the network . In one embodiment, the request can be for price data relating to a particular product. The data mining system  receives the request and initiates a search to gather information relating to the request. Several sources are available from which the data mining system  can gather data. One source is a dedicated data feed , for example, a CSV (comma-separated values) feed, an RSS (Really Simple Syndication) feed, etc., that is provided by merchants, data aggregators, or other sources. The data mining system  can connect to a data feed  and download information related to the product requested by the application .","Another source of data for the data mining system  is an external data source . Large merchants, shopping sites, and data aggregators, often expose an application programming interface (API) that allows an outside entity to access selected information contained in the merchant's databases. For example, the data mining system  can include an engine which accesses a merchant database through an exposed API  and gathers information related to the product requested by the application .","Yet another source of information which the data mining system  can use to obtain product information for application  is the buy page of a merchant site  that displays a particular product. The data mining system  can connect to the merchant site  through the network . The data mining system  can then parse the information contained on the merchant's product page to gather information relevant to the application's request. In one embodiment, the data mining system  connects to the merchant site  through a proxy server .",{"@attributes":{"id":"p-0024","num":"0023"},"figref":["FIG. 2","FIG. 1","FIG. 2"],"b":["114","114","112","202","204","206","208","116","114","112","202","204","206","116","114"]},"An application  connects to the data mining system  through the web server  to request information. In one embodiment, the web server  provides access to a web-based dashboard that acts as an interface between an end user and the data mining system. In another embodiment, the web server  exposes an API which external entities can utilize to access the data mining system  or data maintained by the data mining system. Regardless of how the data mining system is accessed, when a request for information is received a job request is forwarded from the web server  to the job server .","Job server  maintains a queue of job requests received from web server . Acquisition engine  monitors the job queue maintained by job server . In one embodiment, acquisition engine  is a self-replicating engine which maintains a suitable number of instantiations to process the job requests within the job queue. In one embodiment acquisition engine  stores results from performing a job in the datastore . In another embodiment, the results are also stored in a local copy  of shared memory . The data in the local copy can then be replicated to other local copies in the shared memory so the data is available to all elements of the data mining system.","Datastore  includes a write cache  and a read cache . Because there can be multiple acquisition engines working concurrently, there is potentially a high volume of writes to a database included in datastore  that can happen concurrently. This may cause a bottleneck and slow down the data acquisition process. In order to prevent this bottleneck, write cache  stores the data as the data is returned by the acquisition engines and then the data is written to the database from the cache . The read cache  works in a similar manner except that the data is stored in a cache so there is not a bottleneck created by a large number of reads to the database.",{"@attributes":{"id":"p-0028","num":"0027"},"figref":["FIG. 3","FIGS. 1 and 2"],"b":["320","340","360","380","320","320","322","324","326","328","330"]},"The applications  provide an interface for an end user to access the information provided by the data mining system. For example, in one embodiment, the client application  can be any application provided by an entity outside of the data mining system that accesses the data mining system through an expose API. This application  could be, for example, an in-house product reporting program that uses real time price information gathered by the data mining system. Other applications that can use the data mining system's exposed API should be apparent to one of ordinary skill in the art.","In another embodiment, users can access the information obtained by the data mining system through a web-based application . The web-based interface to the data mining system can be provided for users to access the data mining system information without the need to create a specialized application. The web-based application  includes, for example, a request component where a user can request information relating to a particular product or service. The web-based application  also includes a reporting component to display the gathered information to the user.","A POD application , in one embodiment, is a piece of code, for example Javascript, which is embedded by a webmaster in a webpage. The POD application  provides links to merchant buy pages related to products displayed on the webpage. For example, a computer component manufacturer can include a POD script in the webpage describing a newly released product. When a user visits the site to learn more about the component, they will be presented with a list of merchants selling the product. In one embodiment, the webmaster can select the merchants for which buy pages will be displayed.","An embedded link application , in one embodiment, is also a piece of code running on a web server. The embedded link application  connects to the data mining system and caches a list of reseller domains, which the data mining system can gather data for, on the web server. When content on the web server links to a domain in cached list of resellers, the embedded link application  replaces the URL with a redirector URL that includes a user ID, which identifies the user that installed the application. When a visitor to the website clicks on the link, the embedded link application  receives from the data mining system a redirected location where the user who installed the application can get paid for the click.","Addon application , in one embodiment, is a web browser addon that can be installed by consumers who shop online. The addon  passes an identifier of the product that the consumer is viewing to the data mining system. The data mining system can then return a list of other retailers and the price that they are selling the product for.","The applications  access information stored in the datastore  through an API  exposed by the data mining system. Although the API  is shown as a single API, it should be apparent to one of ordinary skill in the art that the API  can be a collection of various APIs that provide access to the data mining system. In one embodiment, the datastore includes memcache , a database , a screenshot repository , a scrape cache , and a feed cache . Because there can be multiple jobs processing at a given time, and some of those jobs may produce duplicate information, the datastore  provides a location for data obtained by each of the multiple instances of the acquisition engine  to be gathered, integrated, and stored.","Memcache  is a shared caching system which speeds up access to a database  by caching previously used data and objects in order to reduce the number of times the database  must perform a read operation. In one embodiment, along with acquiring pricing information from a website, the acquisition engine takes a screenshot of the website at the time it was visited and stores the screenshot in a repository . The datastore  is populated by acquisition engine  as described below.",{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 4","b":["400","114","400","202","204","206","400","410","400","420","440","450","460"]},"The memory  illustratively comprises storage locations that are addressable by the processor(s) , network adapter , and local cache  for storing software program code and data associated with the techniques introduced here. The processor  and adapters may also comprise processing elements and\/or logic circuitry configured to execute the software code and manipulate the data structures. It will be apparent to those skilled in the art that other processing and memory implementations, including various computer readable storage media, may be used for storing and executing program instructions pertaining to the techniques introduced here.","The network adapter  includes at least one port to couple the system  with other systems over a variety of networks, for example, point-to-point links, wide area networks, virtual private networks implemented over a public network (Internet) or a shared local area network. The network adapter  thus can include the mechanical, electrical and signaling circuitry needed to connect the system  to the network . Illustratively, the network  can be embodied as an Ethernet network or a Fibre Channel (FC) network. Each external system, e.g., merchant site , can communicate with the system  over the network  by exchanging discrete frames or packets of data according to pre-defined protocols, such as TCP\/IP.","The local cache  can store data locally and cooperates with the operating system  to access information requested by applications . The information may be stored on any type of writable storage media, such as magnetic disk or tape, optical disk (e.g., CD-ROM or DVD), flash memory, solid-state drive (SSD), electronic random access memory (RAM), micro-electro mechanical and\/or any other similar media adapted to store information, including data and parity information.",{"@attributes":{"id":"p-0040","num":"0039"},"figref":"FIG. 5","b":["500","500"]},"At , a web server, for example web server  of data mining system , receives a search request from an application. For example, a user that is logged in to a web-based dashboard of the data mining system can enter a search request for up to date pricing of a product from multiple ecommerce retailers. In another example, a computer program designed to track products in ecommerce can initiate a search on a specific product. The search query can include, for example, a URL that points to the product on an ecommerce site, a product stock keeping unit (SKU), or a product\/manufacturer name.","In one embodiment, at , the web server determines a product associated with the search query. The data mining system can maintain a database of products where each product is associated with a product ID. The product database can be part of a relational database, such as an SQL database. The database can include information such as the SKU, product and manufacturer names, part number, a physical description, and other identifying information. Upon receiving the search query, the web server can query the database and return the product ID associated with the product. The database query for definite fields, for example, a product SKU or name, can be a routine database query. However, a query based on a URL is more difficult without maintaining a prohibitively large database of all possible URLs that point to a product. An example process for linking a URL with a product ID according to the techniques introduced here is described in more detail with respect to .","The database can include a table of product links that are related to the product. The product ID can be used as a key to the table of product links. The table of product links can include a link to each of a number of retailers that are set up to sell the product. At , the web server can query the table of product links based on the product ID and return a list of links that point to retailer buy pages. The web server can then create a job request to gather up to date information from each of the links in the list.","At , the web server forwards the job request to a job server where the job server holds the job in a queue for processing. At , an acquisition engine, for example, acquisition engine , that is available to perform the job takes the job from the queue. In one embodiment, if there is not an acquisition engine available to perform the job, a new acquisition engine is instantiated and the new acquisition engine performs the job. The acquisition engine traverses each of the links in the job request and parses the site to obtain up to date information relating to the product being searched.","At  the results of the search are returned to the application that requested the job. The application, for example the web-based dashboard, can then display the information to the user. In addition to returning the data collected by the acquisition engine to the user, the data is indexed and stored in the datastore for future reference. In one embodiment, if the application session times out prior to results being returned, the results are stored in the datastore for future reference.","While the foregoing process is described as being performed by individual server machines, it should be apparent to one skilled in the art that a single server machine, or any number of machines, can carry out the various functions of the servers described above.",{"@attributes":{"id":"p-0047","num":"0046"},"figref":"FIG. 6","b":["600","600"]},"The process begins, at , with a web server receiving a search query that includes a URL of a product page on an ecommerce site. As described above, determining from a URL what product is being listed on a website is not a trivial problem. For example, there can be multiple variations of a URL that all point to a single product page. The variations in the URLs can be due to search engine optimization, referral tags, redirectors, etc. Building a database of all the possible variations of a product page URL is impractical, if not impossible. Thus, a simple lookup table including all possible URLs is not a viable solution.","The process continues, at , with the web server determining from the URL a domain. For example, given the product URL, which has been formatted for this document but can be resolved by one of ordinary skill in the art:",{"@attributes":{"id":"p-0050","num":"0049"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"245pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"amazon.com\/gp\/product\/B001ENOZY4\/ref=s9_simh_gw_p23_t2?pf"]},{"entry":[{},"rd_m=ATVPDKIKX0DER&pf_rd_s=center-"]},{"entry":[{},"2&pf_rd_r=1E6KH6A49ZMVR9KGYEZS&pf_rd_t=101&pf_rd_p=470"]},{"entry":[{},"938631&pf_rd_i=507846"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"At  the process continues with the web server retrieving from a database a base URL and a regular expression associated with the domain. The base URL and the regular expression can be used, along with the domain, to build a unique prime URL from the given URL. A prime URL can be defined as a URL that cannot be expressed in any simpler form and still lead to the same site. A method for building a database including the base URL and regular expression can be found in U.S. patent application Ser. No. 12\/980,669, filed Dec. 29, 2010, which is incorporated herein by reference.","The process continues at  with the web server running the URL through the regular expression. In one embodiment, the web server includes a regular expression processor that examines the text of the URL and returns a result that can be combined with the base URL and domain to create a prime URL. In one embodiment, the Base URI may encapsulate the domain, or the web server may accept permutations of the domain. This can be important for websites that may rely on different URL schemes (https:\/\/vshttp:\/\/). Each prime URL is a unique link, a link to a specific product page provided by a specific retailer.","At  the process continues with the web server querying a database for the prime URL. In one embodiment, each prime URL in the database is associated with a unique link ID. If the query does not return a match, \u2014No, the process continues at  where a response of no match is returned and the process returns to wait for the next query. If the query does return a match, \u2014Yes, then the process continues at  where the unique link ID for the URL is returned to the web server.","At , the web server can query the database to return a product ID that is associated with the product being sold at the unique link. The unique link ID can be used as a key to the product database. The product ID can then be used to determine other unique links where the product is being sold as described above with reference to .","The techniques introduced above can be implemented by programmable circuitry programmed or configured by software and\/or firmware, or they can be implemented by entirely by special-purpose \u201chardwired\u201d circuitry, or in a combination of such forms. Such special-purpose circuitry (if any) can be in the form of, for example, one or more application-specific integrated circuits (ASICs), programmable logic devices (PLDs), field-programmable gate arrays (FPGAs), etc.","Software or firmware for implementing the techniques introduced here may be stored on a machine-readable storage medium and may be executed by one or more general-purpose or special-purpose programmable microprocessors. A \u201cmachine-readable medium\u201d, as the term is used herein, includes any mechanism that can store information in a form accessible by a machine (a machine may be, for example, a computer, network device, cellular phone, personal digital assistant (PDA), manufacturing tool, any device with one or more processors, etc.). For example, a machine-accessible medium includes recordable\/non-recordable media (e.g., read-only memory (ROM); random access memory (RAM); magnetic disk storage media; optical storage media; flash memory devices; etc.), etc.","The term \u201clogic\u201d, as used herein, can include, for example, special-purpose hardwired circuitry, software and\/or firmware in conjunction with programmable circuitry, or a combination thereof.","Although the present invention has been described with reference to specific exemplary embodiments, it will be recognized that the invention is not limited to the embodiments described, but can be practiced with modification and alteration within the spirit and scope of the appended claims. Accordingly, the specification and drawings are to be regarded in an illustrative sense rather than a restrictive sense."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["One or more embodiments of the present invention are illustrated by way of example and not limitation in the figures of the accompanying drawings, in which like references indicate similar elements.","One or more embodiments of the present invention are illustrated by way of example and not limitation in the figures of the accompanying drawings, in which like references indicate similar elements.",{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":["FIG. 3","FIGS. 1 and 2"]},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 6"}]},"DETDESC":[{},{}]}
