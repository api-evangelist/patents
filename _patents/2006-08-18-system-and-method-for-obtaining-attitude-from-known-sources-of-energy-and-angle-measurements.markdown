---
title: System and method for obtaining attitude from known sources of energy and angle measurements
abstract: A system and method of determining an orientation of a spinning object at a known GPS location comprises radially deploying antennae around a plurality of axes of measurement of the spinning object; determining a spin axis of a first end of the spinning object; measuring, using a frequency domain correlation, a roll angle corresponding to the spin axis in relation to a first plane of the GPS location; repeating the measuring process for multiple planes of the GPS location; and generating the orientation of the spinning object by combining all roll angle measurements. The method further comprises determining a sensing vector orthogonal to the spin axis; identifying at least two known GPS locations corresponding to the spinning object; and rotating the sensing vector about the spin axis until two of the known GPS locations become visible or are in the plane of the sensing vector and the spin axis.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07388538&OS=07388538&RS=07388538
owner: Th United States of America as represented by the Secretary of the Army
number: 07388538
owner_city: Washington
owner_country: US
publication_date: 20060818
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS REFERENCE TO RELATED APPLICATION","GOVERNMENT INTEREST","BACKGROUND","SUMMARY","DETAILED DESCRIPTION OF PREFERRED EMBODIMENTS"],"p":["This application claims the benefit of U.S. Provisional Patent Application No. 60\/713,619 filed on Aug. 18, 2005, the complete disclosure of which in its entirety is herein incorporated by reference.","The embodiments described herein may be manufactured, used, and\/or licensed by or for the United States Government without the payments of royalties thereon.","1. Technical Field","The embodiments herein generally relate to navigation systems and methods, and, more particularly, to techniques for determining an orientation of an object.","2. Description of the Related Art","Coordinate adjustment is used within global positioning system (GPS) receivers to process pseudorange measurements. Coordinate adjustment is central to the precise estimation of location. Surveying and geodesy both have contributed to this body of literature. Attitude estimation is a problem in many fields from detecting small shifts in snow to predicting avalanches to aerospace applications. Many systems sole purpose is to estimate the attitude of an object. Methods for attitude determination include combining the sightline vectors of a discovered GPS object together with the fixed boresight vectors of the individual antenna elements of the object. Additionally, other methods are described in Crassidis, J. et al., \u201cA Novel Sensor for Attitude Determination Using Global Positioning System Signals,\u201d American Institute of Aeronautics and Astronautics, AIAA-98-4228, pp. 1-10, 1998, the complete disclosure of which, in its entirety, is herein incorporated by reference. However, notwithstanding the conventional techniques, there remains a need for a new technique for determining an attitude of an object.","In view of the foregoing, the embodiments herein provide a method of determining an orientation of a spinning object at a known GPS location and a program storage device readable by computer, tangibly embodying a program of instructions executable by the computer to perform the method of determining an orientation of a spinning object at a known GPS location, wherein the method comprises radially deploying antennae around a plurality of axes of measurement of the spinning object; determining a spin axis of a first end of the spinning object; measuring a roll angle corresponding to the spin axis in relation to a first plane of the GPS location; repeating the measuring process for multiple planes of the GPS location; and generating the orientation of the spinning object by combining all roll angle measurements.","Preferably, the measuring process occurs using a frequency domain correlation. The method may further comprise determining a sensing vector orthogonal to the spin axis; identifying at least two known GPS locations corresponding to the spinning object; and rotating the sensing vector about the spin axis until two of the known GPS locations become visible or are in the plane of the sensing vector and the spin axis, wherein a first point of rotation of the sensing vector exists when a first known GPS location becomes visible or is in the plane of the sensing vector and the spin axis, and wherein a second point of rotation of the sensing vector exists when a second known GPS location becomes visible or is in the plane of the sensing vector and the spin axis. Also, the method may further comprise calculating a rotational distance between the first point of rotation of the sensing vector and the second point of rotation of the sensing vector. Additionally, the method may further comprise calculating the roll angle corresponding to the spinning object by normalizing the sensing vector at the first point of rotation of the sensing vector and the second point of rotation of the sensing vector. Preferably, the method further comprises corresponding energy sources to the known GPS location.","Another embodiment herein provides a system for determining an orientation of a spinning object at a known GPS location, wherein the system comprises antennae radially deployed around a plurality of axes of measurement of the spinning object; a transceiver on the spinning object and adapted to transmit wireless signals from the spinning object; a receiver adapted to receive the transmitted wireless signals from the transceiver; and a logic component in communication with the receiver and adapted to determine a spin axis of a first end of the spinning object; measure a roll angle corresponding to the spin axis in relation to a first plane of the GPS location; repeat measurements of roll angles for multiple planes of the GPS location; and generate the orientation of the spinning object by combining all roll angle measurements.","Preferably, the measurement of the roll angles occurs using a frequency domain correlation. Moreover, the logic component is preferably adapted to determine a sensing vector orthogonal to the spin axis; identify at least two known GPS locations corresponding to the spinning object; and rotate the sensing vector about the spin axis until two of the known GPS locations become visible or are in the plane of the sensing vector and the spin axis, wherein a first point of rotation of the sensing vector exists when a first known GPS location becomes visible or is in the plane of the sensing vector and the spin axis, and wherein a second point of rotation of the sensing vector exists when a second known GPS location becomes visible or is in the plane of the sensing vector and the spin axis. Furthermore, the logic component may be adapted to calculate a rotational distance between the first point of rotation of the sensing vector and the second point of rotation of the sensing vector; and calculate the roll angle corresponding to the spinning object by normalizing the sensing vector at the first point of rotation of the sensing vector and the second point of rotation of the sensing vector. Preferably, the known GPS location corresponds with energy sources directed towards the spinning object.","These and other aspects of the embodiments herein will be better appreciated and understood when considered in conjunction with the following description and the accompanying drawings. It should be understood, however, that the following descriptions, while indicating preferred embodiments and numerous specific details thereof, are given by way of illustration and not of limitation. Many changes and modifications may be made within the scope of the embodiments herein without departing from the spirit thereof, and the embodiments herein include all such modifications.","The embodiments herein and the various features and advantageous details thereof are explained more fully with reference to the non-limiting embodiments that are illustrated in the accompanying drawings and detailed in the following description. Descriptions of well-known components and processing techniques are omitted so as to not unnecessarily obscure the embodiments herein. The examples used herein are intended merely to facilitate an understanding of ways in which the embodiments herein may be practiced and to further enable those of skill in the art to practice the embodiments herein. Accordingly, the examples should not be construed as limiting the scope of the embodiments herein.","As mentioned, there remains a need for a new technique for determining an attitude of an object. The embodiments herein achieve this by providing a technique for determining the attitude of an object at a known GPS location by using radially deployed antennae around the axes of the object and then using a frequency domain correlation to measure the roll angle on that axis antennae to a GPS satellite plane. Making multiple correlations to multiple satellite planes provides all attitude parameters. Referring now to the drawings, and more particularly to , where similar reference characters denote corresponding features consistently throughout the figures, there are shown preferred embodiments.",{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 1","b":["101","103","105","107","109"]},"Preferably, the measuring process () occurs using a frequency domain correlation. The method may further comprise determining a sensing vector orthogonal to the spin axis; identifying at least two known GPS locations corresponding to the spinning object; and rotating the sensing vector about the spin axis until two of the known GPS locations become visible or are in the plane of the sensing vector and the spin axis, wherein a first point of rotation of the sensing vector exists when a first known GPS location becomes visible or is in the plane of the sensing vector and the spin axis, and wherein a second point of rotation of the sensing vector exists when a second known GPS location becomes visible or is in the plane of the sensing vector and the spin axis. Also, the method may further comprise calculating a rotational distance between the first point of rotation of the sensing vector and the second point of rotation of the sensing vector. Additionally, the method may further comprise calculating the roll angle corresponding to the spinning object by normalizing the sensing vector at the first point of rotation of the sensing vector and the second point of rotation of the sensing vector. Preferably, the method further comprises corresponding energy sources to the known GPS location.","Generally, the embodiments herein provide a technique that determines the attitude of a spin axis from rotational measurements between known locations, which enhances the capabilities of a GPS receiver on a spinning body. With respect to coordinate estimation, angles, recast as inner product measurements, can be used within the umbrella of coordinate adjustment. Determining equations for the measurements in terms of the unknown location establishes the necessary function, wherein the gradient of each of these functions is used as a row in a least squares observation matrix. Using an iterative process the location can be estimated.","GPS receivers have advanced in complexity. Of particular interest is the new SiRF\u00ae III receiver, available from SiRF Technology, Inc., California, USA, which contains over 200,000 correlators. These correlators are used to search the frequency-time delay space and find the GPS signal associated with a given satellite. After satellite positions have been acquired many of these correlators are idle and thus present an unutilized resource. A spinning round will create a Doppler effect on the received GPS signal for a small area or spin axis oriented antenna. Spinning rounds typically use ring antennas to bypass this situation.","For example, a spinning round may use both a ring antenna and a patch or spin axis aligned antenna. The GPS receiver uses the ring antenna to acquire and track the GPS signals; thus the signal tracking information is available within the receiver. The patch antenna has a frequency shift associated with its received signal for its rotation cycle except when it is moving perpendicular to the satellite direction. By using the tracking information from the ring antenna and interrogating the patch antenna the point of alignment can be found.","The idle correlators can be used for this task with the GPS receiver determining the position of each satellite in a frequency time delay space using the ring or main antenna. A secondary antenna with a limited field of view will only have line of sight to the antenna over a portion of its rotational cycle; however, by using the time delay-frequency information from the main antenna it is possible to quickly detect a given satellite in the secondary antenna's signal. The number of correlators assigned to this task is determined based on the available idle correlators. There are many signal parameters that could be used; for example, time of first detection, the time the frequencies on the two antennas are the same, or the time of maximum signal strength, etc. The desired information is the angle or time between these readings for different satellites. Using this information and timing information, roll angles between satellites can be found as further described below in more detail. Through the use of three such measurements of roll angle it is possible, with knowledge of position and direction to each satellite, to find the orientation of the spin axis. Moreover, a directional antenna could be used removing the need for a Doppler shift. More specifically, the directional antenna uses the time of first observation as the important signal parameter.","The above description of the GPS receiver provides an example of a possible implementation of the method provided by the embodiments herein. Preferably, roll angles are determined between known directions corresponding to the spin axis of a rotating object. In order to visualize roll angles consider the half plane of  that is attached to a spin axis. As this plane rotates, points in the containing space enter and leave this plane; the roll angle between two points is the amount of roll between one point leaving this rotating plane and the other point entering the rotating plane.","In  the dotted segment corresponds to the spin axis, the two full segments are the directions to known locations, and the two dashed segments are the components of the two directions orthogonal to the spin axis. The angle between the two dashed segments is the measured roll angle. The rotating half plane attached to the spin axis will contain one of these dashed segments and the corresponding full segment at the same instant of time; thus the angle between the two dashed segments is the roll angle between directions. Due to the geometry the constraints imposed by the roll angles are sufficient to define the orientation or attitude of the spin axis. To further illustrate this concept, the following situations are described.","Given two directions or vectors and the plane formed by them. If the spin axis vector is orthogonal to this plane, then the roll angle between the two directions is the same as the angle between the two directions. If the spin axis is in the same plane between the two directions, then the roll angle is 180 degrees. However, if the spin axis is located in the same plane so that both directions are to one side, the roll angle between the two directions is zero degrees as they are both in the same half plane. Three roll measurements define the attitude of the spin axis; thus four known directions are preferred in accordance with the embodiments herein. For GPS systems four satellites are generally always in view.","Next, nonlinear least squares are described within the context of the embodiments herein. Beginning with the equation:\n\nFX=Y\u2003\u2003(1)\n\nwhere X is the vector of unknown coordinates, Y represents measurements, and F is a matrix model of a known linear relationship. Then, both sides of Equation (1) are projected onto the column space of the matrix F. Next, each side of Equation (1) is multiplied by the transpose of F and then, assuming X is multiplied by a square matrix of full rank, each side of Equation (1) is multiplied by the inverse, whereby the result is:\n\n=()\u2003\u2003(2)\n\nBoth F and Y are known values while X represents the unknown parameters.\n","Next, suppose the functional relationship, \u0192 between the measurements and the coordinates (X) is known. This function is typically nonlinear. To start, the value of X is approximated and is denoted as X. The gradient matrix for the measurements with respect to the coordinates is denoted by F. If Xis reasonably close to X, then the following linearized approximation is valid:\n\n\u0192()=\u0192()+()\u2003\u2003(3)\n","The left side of Equation (3) is the measurement vector while the first term on the right side of Equation (3) is the evaluation of the functional relationship at the point X. Moving this term to the left side allows the interpretation of the left side as the deviation of the measurements from the approximated coordinates. In other words, the function \u0192(X) can now be analyzed. The gradient evaluated at the point is multiplied by the unknown deviation from the approximation of the location. Equation (3) can be written in the form Y=FX as follows:\n\n\u0192()\u2212\u0192()=()\u2003\u2003(4)\n","Linear least squares can be used to solve for the location deviation. After the solution is added to the current approximation (and becomes the new current approximation) the process can be repeated until the left side of Equation (4) approaches zero. Next, the realizations of \u0192 and F for different measurements in terms of coordinates are described. Generally, within the F matrix different types of measurements can be used; however, only roll angles are considered. Each measurement defines a row of the matrix.","Next, with respect to roll angle measurements, first note that all the quantities are vectors on the unit sphere. Additionally, all directions are normalized. The unknown quantity is the vector representing the spin axis. The so-called Gram Schmidt process is a technique for setting up an orthogonal basis for a set of vectors. For two vectors one may use this approach to create two orthogonal vectors. Consider two known directions and a spin axis, the roll angle is the angle between the orthogonal components of the known directions to the spin angle. First, each of these vectors is described, and then their inner product will provide the angle between them. Let X be the unknown coordinates of the spin axis, and let d, dbe two known unit directions. The orthogonal or radial components of each direction are:\n\n\u2003\u2003(5)\n\n\u2003\u2003(6)\n\nwhere the  brackets indicate the inner product function. Assuming these new vectors are normalized using normalization factors nand n, the inner product between these yields the cosine of the angle between them:\n",{"@attributes":{"id":"p-0034","num":"0033"},"maths":{"@attributes":{"id":"MATH-US-00001","num":"00001"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mi":"cos","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"\u03b8"}},{"mrow":[{"mo":["\u2329","\u232a"],"mrow":{"mfrac":[{"mrow":{"msub":{"mi":"d","mn":"1"},"mo":"-","mrow":{"mrow":{"mo":["\u2329","\u232a"],"mrow":{"msub":{"mi":"d","mn":"1"},"mo":",","mi":"x"}},"mo":"\u2062","mi":"x"}},"msub":{"mi":"n","mn":"1"}},{"mrow":{"msub":{"mi":"d","mn":"2"},"mo":"-","mrow":{"mrow":{"mo":["\u2329","\u232a"],"mrow":{"msub":{"mi":"d","mn":"2"},"mo":",","mi":"x"}},"mo":"\u2062","mi":"x"}},"msub":{"mi":"n","mn":"2"}}],"mo":","}},{"mo":["\u2329","\u232a"],"mrow":{"mfrac":[{"mrow":{"msub":{"mi":"d","mn":"1"},"mo":"-","mrow":{"msub":{"mi":"p","mn":"1"},"mo":"\u2062","mi":"x"}},"msub":{"mi":"n","mn":"1"}},{"mrow":{"msub":{"mi":"d","mn":"2"},"mo":"-","mrow":{"msub":{"mi":"p","mn":"2"},"mo":"\u2062","mi":"x"}},"msub":{"mi":"n","mn":"1"}}],"mo":","}}],"mo":"="}],"mo":"="}},{"mrow":{"mo":["(",")"],"mn":"7"}}]}}}},"br":{},"sub":["1 ","2"]},{"@attributes":{"id":"p-0035","num":"0034"},"maths":{"@attributes":{"id":"MATH-US-00002","num":"00002"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mo":"=","mrow":{"mfrac":{"mn":"1","mrow":{"msub":[{"mi":"n","mn":"1"},{"mi":"n","mn":"2"}],"mo":"\u2062"}},"mo":"\u2062","mrow":{"mrow":{"mo":["(",")"],"mrow":{"mrow":[{"mrow":[{"mo":["(",")"],"mrow":{"msub":{"mi":"d","mn":"11"},"mo":"-","mrow":{"msub":[{"mi":"p","mn":"1"},{"mi":"x","mn":"1"}],"mo":"\u2062"}}},{"mo":["(",")"],"mrow":{"msub":{"mi":"d","mn":"21"},"mo":"-","mrow":{"msub":[{"mi":"p","mn":"2"},{"mi":"x","mn":"1"}],"mo":"\u2062"}}}],"mo":"\u2062"},{"mrow":[{"mo":["(",")"],"mrow":{"msub":{"mi":"d","mn":"12"},"mo":"-","mrow":{"msub":[{"mi":"p","mn":"1"},{"mi":"x","mn":"2"}],"mo":"\u2062"}}},{"mo":["(",")"],"mrow":{"msub":{"mi":"d","mn":"22"},"mo":"-","mrow":{"msub":[{"mi":"p","mn":"2"},{"mi":"x","mn":"2"}],"mo":"\u2062"}}}],"mo":"\u2062"},{"mrow":[{"mo":["(",")"],"mrow":{"msub":{"mi":"d","mn":"13"},"mo":"-","mrow":{"msub":[{"mi":"p","mn":"1"},{"mi":"x","mn":"3"}],"mo":"\u2062"}}},{"mo":["(",")"],"mrow":{"msub":{"mi":"d","mn":"23"},"mo":"-","mrow":{"msub":[{"mi":"p","mn":"2"},{"mi":"x","mn":"3"}],"mo":"\u2062"}}}],"mo":"\u2062"}],"mo":["+","+"]}},"mo":"."}}}},{"mrow":{"mo":["(",")"],"mn":"8"}}]}}}}},"Next Equation (8) is expanded and then rearranged into a more concise group of symbols. Temporarily ignoring the normalization factors, each of the terms is multiplied out as follows:",{"@attributes":{"id":"p-0037","num":"0036"},"maths":{"@attributes":{"id":"MATH-US-00003","num":"00003"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mo":"=","mrow":{"mrow":[{"msub":[{"mi":"d","mn":"11"},{"mi":"d","mn":"21"}],"mo":"\u2062"},{"msub":[{"mi":"p","mn":"1"},{"mi":"d","mn":"21"},{"mi":"x","mn":"1"}],"mo":["\u2062","\u2062"]},{"msub":[{"mi":"p","mn":"2"},{"mi":"d","mn":"11"},{"mi":"x","mn":"1"}],"mo":["\u2062","\u2062"]},{"msub":[{"mi":"p","mn":"1"},{"mi":"p","mn":"2"}],"mo":["\u2062","\u2062"],"msubsup":{"mi":"x","mn":["1","2"]}},{"msub":[{"mi":"d","mn":"12"},{"mi":"d","mn":"22"}],"mo":"\u2062"},{"msub":[{"mi":"p","mn":"1"},{"mi":"d","mn":"22"},{"mi":"x","mn":"2"}],"mo":["\u2062","\u2062"]},{"msub":[{"mi":"p","mn":"2"},{"mi":"d","mn":"12"},{"mi":"x","mn":"2"}],"mo":["\u2062","\u2062"]},{"msub":[{"mi":"p","mn":"1"},{"mi":"p","mn":"2"}],"mo":["\u2062","\u2062"],"msubsup":{"mi":"x","mn":["2","2"]}},{"msub":[{"mi":"d","mn":"13"},{"mi":"d","mn":"23"}],"mo":"\u2062"},{"msub":[{"mi":"p","mn":"1"},{"mi":"d","mn":"23"},{"mi":"x","mn":"3"}],"mo":["\u2062","\u2062"]},{"msub":[{"mi":"p","mn":"2"},{"mi":"d","mn":"13"},{"mi":"x","mn":"3"}],"mo":["\u2062","\u2062"]},{"msub":[{"mi":"p","mn":"1"},{"mi":"p","mn":"2"}],"mo":["\u2062","\u2062"],"msubsup":{"mi":"x","mn":["3","2"]}}],"mo":["-","-","+","+","-","-","+","+","-","-","+"]}}},{"mrow":{"mo":["(",")"],"mn":"9"}}]}}}},"br":{}},{"@attributes":{"id":"p-0038","num":"0037"},"maths":{"@attributes":{"id":"MATH-US-00004","num":"00004"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mo":"=","mrow":{"mrow":[{"msub":[{"mi":"d","mn":"11"},{"mi":"d","mn":"21"}],"mo":"\u2062"},{"msub":[{"mi":"d","mn":"12"},{"mi":"d","mn":"22"}],"mo":"\u2062"},{"msub":[{"mi":"d","mn":"13"},{"mi":"d","mn":"23"}],"mo":"\u2062"},{"msub":{"mi":"p","mn":"1"},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":[{"msub":[{"mi":"d","mn":"21"},{"mi":"x","mn":"1"}],"mo":"\u2062"},{"msub":[{"mi":"d","mn":"22"},{"mi":"x","mn":"2"}],"mo":"\u2062"},{"msub":[{"mi":"d","mn":"23"},{"mi":"x","mn":"3"}],"mo":"\u2062"}],"mo":["+","+"]}}},{"msub":{"mi":"p","mn":"2"},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":[{"msub":[{"mi":"d","mn":"11"},{"mi":"x","mn":"1"}],"mo":"\u2062"},{"msub":[{"mi":"d","mn":"12"},{"mi":"x","mn":"2"}],"mo":"\u2062"},{"msub":[{"mi":"d","mn":"13"},{"mi":"x","mn":"3"}],"mo":"\u2062"}],"mo":["+","+"]}}},{"msub":{"mi":"p","mn":"1"},"mo":"\u2062","mrow":{"msub":{"mi":"p","mn":"2"},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msubsup":[{"mi":"x","mn":["1","2"]},{"mi":"x","mn":["2","2"]},{"mi":"x","mn":["3","2"]}],"mo":["+","+"]}}}}],"mo":["+","+","-","-","+"]}}},{"mrow":{"mo":["(",")"],"mn":"10"}}]}}}},"br":[{},{},{},{},{}],"in-line-formulae":[{},{},{},{}],"img":[{"@attributes":{"id":"CUSTOM-CHARACTER-00006","he":"3.13mm","wi":"1.02mm","file":"US07388538-20080617-P00006.TIF","alt":"custom character","img-content":"character","img-format":"tif"}},{"@attributes":{"id":"CUSTOM-CHARACTER-00007","he":"3.13mm","wi":"1.02mm","file":"US07388538-20080617-P00007.TIF","alt":"custom character","img-content":"character","img-format":"tif"}},{"@attributes":{"id":"CUSTOM-CHARACTER-00008","he":"3.13mm","wi":"1.02mm","file":"US07388538-20080617-P00008.TIF","alt":"custom character","img-content":"character","img-format":"tif"}},{"@attributes":{"id":"CUSTOM-CHARACTER-00009","he":"3.13mm","wi":"1.02mm","file":"US07388538-20080617-P00009.TIF","alt":"custom character","img-content":"character","img-format":"tif"}},{"@attributes":{"id":"CUSTOM-CHARACTER-00010","he":"3.13mm","wi":"1.02mm","file":"US07388538-20080617-P00010.TIF","alt":"custom character","img-content":"character","img-format":"tif"}},{"@attributes":{"id":"CUSTOM-CHARACTER-00011","he":"3.13mm","wi":"1.02mm","file":"US07388538-20080617-P00011.TIF","alt":"custom character","img-content":"character","img-format":"tif"}},{"@attributes":{"id":"CUSTOM-CHARACTER-00012","he":"3.13mm","wi":"1.02mm","file":"US07388538-20080617-P00012.TIF","alt":"custom character","img-content":"character","img-format":"tif"}},{"@attributes":{"id":"CUSTOM-CHARACTER-00013","he":"3.13mm","wi":"1.02mm","file":"US07388538-20080617-P00013.TIF","alt":"custom character","img-content":"character","img-format":"tif"}}],"i":["d",",d","\u2212p","d",",x","\u2212p","d",",x","+p","p","\u2225x\u2225.","d",",d","\u2212p","p","\u2212p","p","+p","p"],"sub":["1","2","1","2","2","1","1","2","1","2","1","2","2","1","1","2"]},{"@attributes":{"id":"p-0039","num":"0038"},"maths":{"@attributes":{"id":"MATH-US-00005","num":"00005"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mo":"=","mrow":{"mfrac":{"mrow":[{"mrow":[{"mo":["\u2329","\u232a"],"mrow":{"msub":[{"mi":"d","mn":"1"},{"mi":"d","mn":"2"}],"mo":","}},{"msub":[{"mi":"p","mn":"1"},{"mi":"p","mn":"2"}],"mo":"\u2062"}],"mo":"-"},{"msub":[{"mi":"n","mn":"1"},{"mi":"n","mn":"2"}],"mo":"\u2062"}]},"mo":"=","mrow":{"mfrac":{"mrow":[{"mrow":[{"mo":["\u2329","\u232a"],"mrow":{"msub":[{"mi":"d","mn":"1"},{"mi":"d","mn":"2"}],"mo":","}},{"mrow":[{"mo":["\u2329","\u232a"],"mrow":{"msub":{"mi":"d","mn":"1"},"mo":",","mi":"x"}},{"mo":["\u2329","\u232a"],"mrow":{"msub":{"mi":"d","mn":"2"},"mo":",","mi":"x"}}],"mo":"\u2062"}],"mo":"-"},{"msub":[{"mi":"n","mn":"1"},{"mi":"n","mn":"1"}],"mo":"\u2062"}]},"mo":"."}}}},{"mrow":{"mo":["(",")"],"mn":"14"}}]}}}}},"Accordingly, the relationship between the cosine of the roll angle and the coordinates of the normalized spin axis is established. Using this functional relationship the gradient of the cosine of the roll angle with respect to the coordinates of the unknown spin axis can be determined. Next, an expression for the partial derivative with respect to the ith component of the spin axis is determined:",{"@attributes":{"id":"p-0041","num":"0040"},"maths":{"@attributes":{"id":"MATH-US-00006","num":"00006"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mfrac":{"mrow":{"mo":"\u2202","mrow":{"mo":["(",")"],"mfrac":{"mrow":[{"mrow":[{"mo":["\u2329","\u232a"],"mrow":{"msub":[{"mi":"d","mn":"1"},{"mi":"d","mn":"2"}],"mo":","}},{"mrow":[{"mo":["\u2329","\u232a"],"mrow":{"msub":{"mi":"d","mn":"1"},"mo":",","mi":"x"}},{"mo":["\u2329","\u232a"],"mrow":{"msub":{"mi":"d","mn":"2"},"mo":",","mi":"x"}}],"mo":"\u2062"}],"mo":"-"},{"msub":[{"mi":"n","mn":"1"},{"mi":"n","mn":"2"}],"mo":"\u2062"}]}}},"msub":{"mo":"\u2202","msub":{"mi":["x","i"]}}},"mo":"=","mrow":{"mo":"-","mrow":{"mfrac":{"mrow":[{"mrow":[{"msub":{"mi":"d","mrow":{"mn":"1","mo":"\u2062","mi":"i"}},"mo":"\u2062","mrow":{"mo":["\u2329","\u232a"],"mrow":{"msub":{"mi":"d","mn":"2"},"mo":",","mi":"x"}}},{"msub":{"mi":"d","mrow":{"mn":"2","mo":"\u2062","mi":"i"}},"mo":"\u2062","mrow":{"mo":["\u2329","\u232a"],"mrow":{"msub":{"mi":"d","mn":"1"},"mo":",","mi":"x"}}}],"mo":"+"},{"msub":[{"mi":"n","mn":"1"},{"mi":"n","mn":"2"}],"mo":"\u2062"}]},"mo":"."}}}},{"mrow":{"mo":["(",")"],"mn":"15"}}]}}}}},"This assumes the normalization factors make negligible contributions to the partial derivative. In some situations the extra complexity may be tolerated but, in general, the normalization factors can be treated as constants in the partial derivative. At this point it is possible to form a row in the previously described F matrix that corresponds to the cosine of the observed roll angle. To estimate the three coordinates of the spin axis, a minimum of three rows is used. By dealing directly with the cosine of the angle, the partial derivative is simplified in comparison to the partial derivative of the angle with respect to the coordinates. By doing this, the calculations are simplified considerably, which saves processing time (i.e., computer processing time and computer memory) when implemented in a real time application.","A Matlab\u00ae toolbox, available from The MathWorks, Massachusetts, USA, was designed to simulate the above and verify that the techniques provided by the embodiments herein produce accurate results. After completing this validation a known GPS toolbox is used to test the method provided by the embodiments herein under realistic conditions. In these simulations the orientation of the spin axis is determined. The Appendix provided below describes the computer code used in the simulation. The simulation indicates that the embodiments herein are operable using GPS satellites as known directions.","The embodiments herein provide a technique that estimates attitude from known directions and roll angle measurements wherein if these requirements are met, then accurate estimates of the axis orientation can be made. The embodiments herein may be utilized in a variety of applications including military and commercial use such as artillery systems. For systems already equipped with GPS for position information, the embodiments herein allow the receivers to be extended and also deliver attitude information by using the roll angles and knowledge of the location of the energy source to find the orientation of a body.",{"@attributes":{"id":"p-0045","num":"0044"},"figref":"FIG. 3","b":["200","201","200","202","201","203","201","201","204","203","205","204","206","201","201"]},"Preferably, the measurement of the roll angles occurs using a frequency domain correlation. Moreover, the logic component  is preferably adapted to determine a sensing vector orthogonal to the spin axis; identify at least two known GPS locations corresponding to the spinning object ; and rotate the sensing vector about the spin axis until two of the known GPS locations become visible or are in the plane of the sensing vector and the spin axis, wherein a first point of rotation of the sensing vector exists when a first known GPS location becomes visible or is in the plane of the sensing vector and the spin axis, and wherein a second point of rotation of the sensing vector exists when a second known GPS location becomes visible or is in the plane of the sensing vector and the spin axis.","Furthermore, the logic component  may be adapted to calculate a rotational distance between the first point of rotation of the sensing vector and the second point of rotation of the sensing vector; and calculate the roll angle corresponding to the spinning object by normalizing the sensing vector at the first point of rotation of the sensing vector and the second point of rotation of the sensing vector. Preferably, the known GPS location corresponds with energy sources directed towards the spinning object.","The embodiments herein can take the form of an entirely hardware embodiment, an entirely software embodiment or an embodiment including both hardware and software elements. The software embodiment includes but is not limited to firmware, resident software, microcode, etc.","Furthermore, the embodiments herein can take the form of a computer program product accessible from a computer-usable or computer-readable medium providing program code for use by or in connection with a computer or any instruction execution system. For the purposes of this description, a computer-usable or computer readable medium can be any apparatus that can comprise, store, communicate, propagate, or transport the program for use by or in connection with the instruction execution system, apparatus, or device.","The medium can be an electronic, magnetic, optical, electromagnetic, infrared, or semiconductor system (or apparatus or device) or a propagation medium. Examples of a computer-readable medium include a semiconductor or solid state memory, magnetic tape, a removable computer diskette, a random access memory (RAM), a read-only memory (ROM), a rigid magnetic disk and an optical disk. Current examples of optical disks include compact disk-read only memory (CD-ROM), compact disk-read\/write (CD-R\/W) and DVD.","A data processing system suitable for storing and\/or executing program code will include at least one processor coupled directly or indirectly to memory elements through a system bus. The memory elements can include local memory employed during actual execution of the program code, bulk storage, and cache memories which provide temporary storage of at least some program code in order to reduce the number of times code must be retrieved from bulk storage during execution.","Input\/output (I\/O) devices (including but not limited to keyboards, displays, pointing devices, etc.) can be coupled to the system either directly or through intervening I\/O controllers. Network adapters may also be coupled to the system to enable the data processing system to become coupled to other data processing systems or remote printers or storage devices through intervening private or public networks. Modems, cable modem and Ethernet cards are just a few of the currently available types of network adapters.","A representative hardware environment for practicing the embodiments herein is depicted in . This schematic drawing illustrates a hardware configuration of an information handling\/computer system in accordance with the embodiments herein. The system comprises at least one processor or central processing unit (CPU) . The CPUs  are interconnected via system bus  to various devices such as a RAM , ROM , and an I\/O adapter . The I\/O adapter  can connect to peripheral devices, such as disk units  and tape drives , or other program storage devices that are readable by the system. The system can read the inventive instructions on the program storage devices and follow these instructions to execute the methodology of the embodiments herein. The system further includes a user interface adapter  that connects a keyboard , mouse , speaker , microphone , and\/or other user interface devices such as a touch screen device (not shown) to the bus  to gather user input. Additionally, a communication adapter  connects the bus  to a data processing network , and a display adapter  connects the bus  to a display device  which may be embodied as an output device such as a monitor, printer, or transmitter, for example.","The embodiments herein allow a user to calculate the orientation of a spin or measurement axis. The embodiments herein determine attitude information from a GPS receiver on a spinning body, although many more applications are possible. Furthermore, the embodiments herein can be applied with light, sound, or other types of energy to determine the attitude of a spin axis. Moreover, the embodiments herein could be used, for example, to instrument a range using light or electromagnetic energy. In another application, the attitude of a motor or drill shaft or spacecraft could be determined using the embodiments herein.","The embodiments herein generate a set of equations to be solved using nonlinear least squares. If a spin axis with one end is located at a known location, the orientation or location of the other end is calculated. Next, a vector orthogonal to and rotating about the spin axis is determined. This vector represents a sensor or measurement device and may be referred to as the \u201csensing vector\u201d. Assuming there are two known locations or energy sources, as the sensing vector rotates there is a point of rotation where one of the locations becomes visible or is in the plane of the sensing vector and spin axis. The sensing vector rotates until this becomes true of the other location. The rotational distance between these instances is considered to be the \u201cobservation\u201d. The cosine of the observation is the inner product of the sensing vector's orientation (normalized) as each location becomes visible. The sensing vector at the instant of the observation can be described in terms of the known direction (with respect to the known location) and the spin axis. This allows the generation of an equation that includes variables representing the orientation of the spin axis. In this example, there are three variables used to define orientation, thus three separate equations are provided. It follows that four known locations are utilized. These equations can be used in a nonlinear least squares technique to calculate the orientation of the spin axis to a desired accuracy. Once the spin axis is determined the roll angle can easily be determined based on location crossings and spin information.","The embodiments herein can be used with GPS to solve for the attitude of a spinning round. This could be implemented with a two antenna system, for example. Generally, with GPS it is difficult to quickly lock onto a satellite. By using a ring antenna and a directional antenna the problem can be solved. It is assumed that the ring antenna has been used by the receiver to establish lock. Lock is the knowledge of the receiver's location in the frequency, time-delay space. Using the lock information the directional antenna is queried as to the presence of a specific satellite. After a satellite has been detected the amount of roll until a subsequent satellite becomes visible is recorded as the observation.","Range systems with beacons at known locations being used as known directions may be considered in accordance with the embodiments herein. Lasers, infrared, and other portions of the electromagnetic spectrum can be used as energy sources as well. Additionally, stars could make reliable energy sources. Sound waves and pressure waves of various types can be used as long as the direction to the energy source is known. The ability to monitor the precise attitude of a spinning shaft has uses in commercial applications as well as military applications.","The embodiments herein can be used on test ranges to find the attitude of a body. By using energy sources at known locations and proper receivers the method can be applied to find a body's orientation. Using phased array antennas it would be possible to use the method in non-spinning environments. The embodiments may be implemented with any external transmission source, which, for example, could be terrestrial, spaceborne, or airborne. Additionally, the embodiments herein could be implemented with most current navigation systems (Loran, Navy-omega, GPS, GLONASS) and could be implemented at other wavelengths (for example, acoustic).",{"@attributes":{"id":"p-0059","num":"0058"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Appendix"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"function [dip, num]=ipiter(a,meas)"},{"entry":"%for i=1:n a(:,i)=a(:,i)\/norm(a(:,i)); end"},{"entry":"aipa\u2032*a; %inner products"},{"entry":"[m n]=size(a);"},{"entry":"%sweep the spin axis component from the other vectors"},{"entry":"sa=a;"},{"entry":"for i=2:n"},{"entry":"\u2003sa(:,i)=a(:,i)\u2212aip(1,i)*a(:,1);"},{"entry":"end"},{"entry":"anorm=sqrt(sum(sa.{circumflex over (\u2009)}2)); %norm of the vectors orth to spin axis"},{"entry":"%get the measurements c notes"},{"entry":"num=anorm;"},{"entry":"for i=2:n\u22121"},{"entry":"\u2003num(i)=(aip(i,i+1)\u2212aip(1,i)*aip(1,i+1))\/(anorm(i)*anorm(i+1));"},{"entry":"end"},{"entry":"%c the angular situation"},{"entry":"%acos(num)*180\/pi;"},{"entry":"% find differential"},{"entry":"dip=zeros(n\u22122,3); %initialize"},{"entry":"for j=2:n\u22121"},{"entry":"\u2003denom=anorm(j)*anorm(j+1);"},{"entry":"\u2003for i=1:3"},{"entry":"\u2003\u2003dip(j\u22121,i)=\u2212(a(i,j)*aip(1,j+1)+a(i,j+1)*aip(1,j))\/denom;"},{"entry":"\u2003end"},{"entry":"end"},{"entry":"routine ipconverge"},{"entry":"tst=astart(:,1)\u2032;"},{"entry":"%a(:,1)=[\u2212.2;\u2212.9;.0001];"},{"entry":"it=0;"},{"entry":"[r n"},{"entry":"n_ipc=n_ipc\u22121;"},{"entry":"while (1\u2212abs(tst*a(:,1))>.000001)"},{"entry":"%for i=1:20"},{"entry":"\u2003it=it+1;"},{"entry":"\u2003[dip num]=ipiter(a,meas);"},{"entry":"\u2003y=(meas(2:n_ipc)\u2212num(2:n_ipc)0\u2032;"},{"entry":"\u2003xtx=inv(dip\u2032*dip);"},{"entry":"\u2003yadj=xtx*dip\u2032*y;"},{"entry":"\u2003a(:,1)=a(:,1)+yadj;"},{"entry":"\u2003a(:,1)=a(:,1 )\/norm(a(:,1));"},{"entry":"\u2003if it>100 break; end"},{"entry":"end"},{"entry":"%function y=gpsipsim( )"},{"entry":"close all;"},{"entry":"clear all;"},{"entry":"% -------------------------------------------------------------"},{"entry":"% --- Read ephemeris (RINEX nav-file or YUMA almanac) \u2003\u2003\u2003---"},{"entry":"% --- and delete double occurences of SVN's\u2003\u2003\u2003---"},{"entry":"% -----------------------------------------"},{"entry":"eph = sortrows(rdyuma(\u2018yuma79.txt\u2019));"},{"entry":"% -------------------------------------------------------------"},{"entry":"% --- Station coordinates (WGS84 \/ XYZ) ---"},{"entry":"% -----------------------------------------"},{"entry":"station(1) = 3923625; % Delft (Geodesy-building)"},{"entry":"station(2) = 298462;"},{"entry":"station(3) = 5002803;"},{"entry":"cutoff \u2003= 10; \u2003% Cutoff elevation in degrees"},{"entry":"% -----------------"},{"entry":"% --- Time\/span ---"},{"entry":"% -----------------"},{"entry":"tsat = mktsat (\u201828-FEB-2001 12:00:00\u2019,\u201828-FEB-2001 14:00:00\u2019,300);"},{"entry":"% -------------------------------------------------------"},{"entry":"% --- Compute satellite positions (XYZ WGS84 & AZ\/EL) ---"},{"entry":"% -------------------------------------------------------"},{"entry":"[xsat,ysat,zsat,azim,elev,rotmat]\u2003= cpaziele (tsat,eph,station);"},{"entry":"%get local directions form the rotation matrix"},{"entry":"local_vert=\u2212rotmat(3,:)\u2032;"},{"entry":"local_north=rotmat(1,:)\u2032;"},{"entry":"%pick a random angle to rotate about the local vert"},{"entry":"%make a quaternion rotation about the vert"},{"entry":"%find the new axis by rotating local north about the vert"},{"entry":"d_r=2*pi*rand;"},{"entry":"q_d=q_aa2quat(local_vert,d_r);"},{"entry":"axis=q_rotate(q_d,local_north);"},{"entry":"%follow above procedure choose rotation"},{"entry":"%make rotation quat to rotate about previous horizantal axis"},{"entry":"%calculate new axis by rotaing the verticle axis"},{"entry":"d_r=45*pi\/180;"},{"entry":"q_d=q_aa2quat(axis,d_r);"},{"entry":"s_axis=q_rotate(q_d,local_vert);"},{"entry":"a=zeros(3,29);"},{"entry":"[r n_epochs]=size(tsat);"},{"entry":"con_its=[ ];"},{"entry":"est_err=[ ];"},{"entry":"dxtx=[ ];"},{"entry":"itlist=[ ];"},{"entry":"i_noncon=0;"},{"entry":"for i=1:n_epochs"},{"entry":"\u2003vis_sat =\u2003find (elev(:,i) > cutoff);"},{"entry":"\u2003n_direct=size(vis_sat);"},{"entry":"\u2003for j=1:size(vis_sat)"},{"entry":"\u2003\u2003tmp=[xsat(vis_sat(j),i);ysat(vis_sat(j),i);zsat(vis_sat(j),i)];"},{"entry":"\u2003\u2003tmp=tmp\u2212station\u2032;"},{"entry":"\u2003\u2003tmp=tmp\/norm(tmp);"},{"entry":"\u2003\u2003a(:,j)=tmp;"},{"entry":"\u2003end"},{"entry":"\u2003a=[s_axis a];"},{"entry":"\u2003n=n_direct+1;"},{"entry":"\u2003a=a(:,1:n);"},{"entry":"\u2003aip=a\u2032*a;"},{"entry":"\u2003sa=a;"},{"entry":"\u2003for i=2:n"},{"entry":"\u2003\u2003sa(:,i)=a(:,i)\u2212aip(1,i)*a(:,1);"},{"entry":"\u2003end"},{"entry":"\u2003anorm=sqrt(sum(sa.{circumflex over (\u2009)}2));"},{"entry":"\u2003num=a(1,:);"},{"entry":"\u2003aip=a\u2032*a;"},{"entry":"\u2003for i=2:n_direct"},{"entry":"\u2002\u2003num(i)=(aip(i,i+1)\u2212aip(1,i)*aip(1,i+1))\/(anorm(i)*anorm(i+1));"},{"entry":"\u2003end"},{"entry":"\u2003meas=num;"},{"entry":"\u2003astart=a;"},{"entry":"\u2003d_r=2*pi*rand;"},{"entry":"\u2003q_d=q_aa2quat(s_axis,d_r);"},{"entry":"\u2003axis3=q_rotate(q_d,axis);"},{"entry":"\u2003d_r=10\/180*pi;"},{"entry":"\u2003q_d=q_aa2quat(axis3,d_r);"},{"entry":"\u2003axis_p=q_rotate(q_d,s_axis);"},{"entry":"\u2003a(:,1)=axis_p;"},{"entry":"\u2003ipconverge"},{"entry":"\u2003con_its=[con_its it];"},{"entry":"\u2003err=astart(:,1)\u2212a(:,1);"},{"entry":"\u2003est_err=[est_err err];"},{"entry":"\u2003dxtx=[dxtx det(xtx)];"},{"entry":"\u2003if it>100"},{"entry":"\u2003\u2003\u2003i_noncon=i_noncon+1;"},{"entry":"\u2003\u2003\u2003noncon(i_noncon).a=astart;"},{"entry":"\u2003\u2003\u2003noncon(i_noncon).sa=axis_p;"},{"entry":"\u2003\u2003\u2003noncon(i_noncon).meas=meas;"},{"entry":"\u2003\u2003\u2003i"},{"entry":"\u2003\u2003\u2003xtx"},{"entry":"\u2003\u2003\u2003anorm"},{"entry":"\u2003\u2003\u2003aip"},{"entry":"\u2003\u2003\u2003a"},{"entry":"\u2003end"},{"entry":"end"},{"entry":"example of use"},{"entry":"gpsipsim"},{"entry":"ipinvest"},{"entry":"a=noncon.a"},{"entry":"\u2003ipinvest"},{"entry":"\u2003plot_hs"},{"entry":"\u2003a=noncon.a"},{"entry":"\u2003r_set"},{"entry":"\u2003plot_hs"},{"entry":"\u2003con_its"},{"entry":"\u2003gpsipsim"},{"entry":"\u2003con_its"},{"entry":"\u2003help find"},{"entry":"\u2003find(con_its>100)"},{"entry":"\u2003noncon"},{"entry":"\u2003size(noncon)"},{"entry":"\u2003nonconinv"},{"entry":"\u2003plot_hs"},{"entry":"\u2003pplot_hs"},{"entry":"\u2003plot_hs"},{"entry":"\u2003noncon"},{"entry":"\u2003r_noncon=noncon"},{"entry":"\u2003con_its"},{"entry":"\u2003rotatenocon"},{"entry":"\u2003rotatnocon"},{"entry":"\u2003rotatnoncon"},{"entry":"\u2003noncontemp=noncon"},{"entry":"\u2003noncon=r_noncon;"},{"entry":"\u2003nonconinv"},{"entry":"\u2003plot_hs"},{"entry":"\u2003%function y=ipadjust( )"},{"entry":"\u2003n=5; %n must b more than 3"},{"entry":"\u2003a=randn(3,n);"},{"entry":"\u2003for i=1:n a(:,i)=a(:,i)\/norrn(a(:,i)); end"},{"entry":"\u2003aip=a\u2032*a %inner products"},{"entry":"\u2003%sweep the spin axis component from the other vectors"},{"entry":"\u2003sa=a;"},{"entry":"\u2003for i=2:n"},{"entry":"\u2003sa(:,i)=a(:,1)\u2212aip(1,i)*a(:,1);"},{"entry":"\u2003end"},{"entry":"\u2003anorm=sqrt(sum(sa.{circumflex over (\u2009)}2)); %norm of the vectors orth to spin axis"},{"entry":"\u2003%get the measurements c notes"},{"entry":"\u2003num=anorm;"},{"entry":"\u2003for i=2:n\u22121"},{"entry":"\u2003num(i)=(aip(i,i+1 )\u2212aip(1,i)*aip(1,i+1))\/(anorm(i)*anorm(i+1));"},{"entry":"end"},{"entry":"%c the angular situation"},{"entry":"acos(num)*180\/pi"},{"entry":"% find differential"},{"entry":"dip=zeros(n\u22122,3); %initialize"},{"entry":"for j=2:n\u22121"},{"entry":"\u2003denom=anorm(j)*anorm(j+1);"},{"entry":"\u2003for i=1:3"},{"entry":"\u2003\u2003dip(j\u22121,i)=\u2212(a(i,j)*aip(1,j+1)+a(i,j+1)*aip(1,j))\/denom;"},{"entry":"\u2003end"},{"entry":"end"},{"entry":"%function y=ipconverge_d(d,rotaxis)"},{"entry":"d_r=d\/180*pi"},{"entry":"q_aa2quat(rotaxis,d_r)"},{"entry":"axis=q_rotate(q_d,v)"},{"entry":"a(:,1)=axis"},{"entry":"ipconverge"},{"entry":"y=it"},{"entry":"%function y=ipinvest(a)"},{"entry":"aip=a\u2032*a %inner products"},{"entry":"%sweep the spin axis component from the other vectors"},{"entry":"sa=a;"},{"entry":"[r n]=size(a);"},{"entry":"for i=2:n"},{"entry":"\u2003sa(:,i)=a(:,i)\u2212aip(1,i)*a(:,1);"},{"entry":"end"},{"entry":"anorm=sqrt(sum(sa.{circumflex over (\u2009)}2)); %norm of the vectors orth to spin axis"},{"entry":"%get the measurements c notes"},{"entry":"num=anorm;"},{"entry":"for i=2:n\u22121"},{"entry":"\u2003num(i)=(aip(i,i+1 )\u2212aip(1,i)*aip(1,i+1))\/(anorm(i)*anorm(i+1));"},{"entry":"end"},{"entry":"astart=a;"},{"entry":"meas=num;"},{"entry":"tst=astart(:,1)\u2032;"},{"entry":"a(:,1)=starta"},{"entry":"%"},{"entry":"it=0;"},{"entry":"[r n_ipc]=size(meas);"},{"entry":"n_ipc=n_ipc\u22121;"},{"entry":"seq=[ ];"},{"entry":"while (1\u2212abs(tst*a(:,1))>.000001)"},{"entry":"%for i=1:20"},{"entry":"\u2003it=it+1;"},{"entry":"\u2003[dip num]=ipiter(a,meas);"},{"entry":"\u2003y=(meas(2:n_ipc)\u2212num(2:n_ipc))\u2032;"},{"entry":"\u2003xtx=inv(dip\u2032*dip);"},{"entry":"\u2003yadj=xtx*dip\u2032*y;"},{"entry":"\u2003%af=yadj\u2212yadj\u2032*a(:,1)*a(:,1); this method oscilated toom uch"},{"entry":"\u2003%yadj_1=norm(yadj)*af\/norm(af);"},{"entry":"\u2003temp=a(:,1)+yadj; %method2"},{"entry":"\u2003temp=temp\/norm(temp); %m2"},{"entry":"\u2003t_2=temp\u2212a(:,1); %m2"},{"entry":"\u2003t_2=norm(yadj)\/norm(t_2)*t_2; %m2"},{"entry":"\u2003a(:,1)=a(:,1)1*t_2; %m2"},{"entry":"\u2003a(:,1)=a(:,1)\/norm(a(:,1)); %m2"},{"entry":"\u2003%a(:,1)=temp\/norm(temp); %method 1"},{"entry":"\u2003seq=[seq a(:,1)];"},{"entry":"\u2003if it>100 break; end"},{"entry":"end"},{"entry":"figure;plot3(seq(1,:),seq(2,:),seq(3,:),\u2018\u2212+\u2019)"},{"entry":"grid on;"},{"entry":"hold on;plot3(astart(1,1),astart(2,1),astart(3,1),\u2018ro\u2019)"},{"entry":"plot3(seq(1,1),seq(2,1),seq(3,1),\u2018go\u2019)"},{"entry":"%this was to plot eigenvalues from [d v]=eig(xtx)"},{"entry":"%x=astart(:,1);for iz=1:3 plot3([x(1) x(1)+.02*v(1,iz)],[x(2) x(2)+"},{"entry":".02*v(2,iz)], [x(3)"},{"entry":"x(3).02*v(3,iz)]); end"},{"entry":"%function y=ipstart( )"},{"entry":"ipadjust"},{"entry":"astart=a;"},{"entry":"meas=num"},{"entry":"v=astart(:,1)"},{"entry":"vperp=[v(2);\u2212v(1);0]"},{"entry":"deg=2*pi*rand"},{"entry":"pertaxis=q_aa2quat(v,deg)"},{"entry":"rotaxis=q_rotate(pertaxis,vperp)"},{"entry":"d5=5\/180*pi"},{"entry":"q5=q_aa2quat(rotaxis,d5)"},{"entry":"axis_5=q_rotate(q5,v)"},{"entry":"a(:,1)=axis_5"},{"entry":"ipconverge"},{"entry":"d10=10\/180*pi"},{"entry":"q10=q_aa2quat(rotaxis,d10)"},{"entry":"axis_10=q_rotate(q10,v)"},{"entry":"a(:,1)=axis_10"},{"entry":"ipconverge"},{"entry":"%function y=iptest( )"},{"entry":"n=3; %n must b more than 3"},{"entry":"a=randn(3,n);"},{"entry":"for i=1:n a(:,i)=a(:,i)\/norm(a(:,i)); end"},{"entry":"a;"},{"entry":"a2=a.{circumflex over (\u2009)}2;"},{"entry":"sum(a2)"},{"entry":"aip=a\u2032*a"},{"entry":"ip1=aip(1,3);"},{"entry":"ip2=aip(2,3);"},{"entry":"sa1=a(:,1)\u2212ipl *a(:,3);"},{"entry":"sa1\u2032*a(:,3)"},{"entry":"s_ip=sal\u2032* sa2\/(norm(sa1)*norm(sa2));"},{"entry":"acos(s_ip)*180\/pi"},{"entry":"acos(aip(1,2))*180\/pi"},{"entry":"sa2\u2032*a(:,3)"},{"entry":"ns1=norm(sa1);"},{"entry":"ns2=norm(sa2);"},{"entry":"num=aip(1,2)\u2212aip(1,3)*aip(2,3);"},{"entry":"acos(num\/(ns1*ns2))*180\/pi"},{"entry":"% find differential"},{"entry":"dip=sa1;"},{"entry":"for i=1:3"},{"entry":"\u2003dip(i)=\u2212(a(i,1)*aip(2,3)+a(i,2)*aip(1,3));"},{"entry":"end"},{"entry":"dip=dip\/(ns1*ns2)"},{"entry":"%function y=nonconinv( )"},{"entry":"[r c]=size(noncon);"},{"entry":"for i=1:c"},{"entry":"\u2003a=noncon(i).a"},{"entry":"\u2003starta=noncon(i).sa"},{"entry":"\u2003ipinvest"},{"entry":"end"},{"entry":"%function y=plot_hs( )"},{"entry":"n=20"},{"entry":"theta = pi*(\u2212n:2:n)\/n;"},{"entry":"phi = (pi\/2)*(0:2:n)\u2032\/n;"},{"entry":"X = cos(phi)*cos(theta);"},{"entry":"Y = cos(phi)*sin(theta);"},{"entry":"Z = sin(phi)*ones(size(theta));"},{"entry":"%figure"},{"entry":"\u2003plot3(X,Y,Z,\u2018y\u2019)"},{"entry":"[r,c]=size(Z);"},{"entry":"hold on"},{"entry":"for i=1:r"},{"entry":"\u2003plot3(X(i,:),Y(i,:),Z(i,:),\u2018y\u2019)"},{"entry":"end"},{"entry":"%function y=r_set( )"},{"entry":"ql=q_aa2quat([1;1;0],pi\/4)"},{"entry":"ar=a;for j=1:9 ar(:,j)=q_rotate(q1,a(:,j)); end"},{"entry":"a=ar"},{"entry":"ipinvest"},{"entry":"%function y=rotatnoncon( )"},{"entry":"r_noncon=noncon;"},{"entry":"q1=q_aa2quat([1;1;0],pi\/4); %rotational axis and angular rotation"},{"entry":"[r c]=size(noncon);"},{"entry":"for i=1:c"},{"entry":"\u2003ar=noncon(i).a;for j=1:9 ar(:,j)=q_rotate(q1,a(:,j)); end"},{"entry":"\u2003r_noncon(i).a=ar;"},{"entry":"\u2003r_noncon(i).sa=q_rotate(q1,noncon(i).sa);"},{"entry":"end"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"The foregoing description of the specific embodiments will so fully reveal the general nature of the embodiments herein that others can, by applying current knowledge, readily modify and\/or adapt for various applications such specific embodiments without departing from the generic concept, and, therefore, such adaptations and modifications should and are intended to be comprehended within the meaning and range of equivalents of the disclosed embodiments. It is to be understood that the phraseology or terminology employed herein is for the purpose of description and not of limitation. Therefore, while the embodiments herein have been described in terms of preferred embodiments, those skilled in the art will recognize that the embodiments herein can be practiced with modification within the spirit and scope of the appended claims."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The embodiments herein will be better understood from the following detailed description with reference to the drawings, in which:",{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 4"}]},"DETDESC":[{},{}]}
