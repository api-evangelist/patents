---
title: System and method for correcting artifacts in sequential imagers caused by transient light disturbances
abstract: An example embodiment may include a system and method for correcting luminance disturbances in an imaging device. The example method can detect a luminance level disturbance in the output of an imager and provide a signal to a digital signal processor (DSP) that a luminance disturbance was detected, before the DSP begins processing the output of the imager. The DSP can then correct or adjust the resulting output to compensate for the luminance disturbance.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08451356&OS=08451356&RS=08451356
owner: Sony Electronics Inc.
number: 08451356
owner_city: Park Ridge
owner_country: US
publication_date: 20090223
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS REFERENCE TO RELATED APPLICATIONS","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION"],"p":["This application claims the benefit of U.S. provisional application Ser. No. 61\/195,861, filed on Oct. 9, 2008, the entire contents of which are hereby incorporated by reference.","1. Field of the Invention","This invention relates generally to CMOS imaging devices, and more particularly to a device and method for correcting lighting artifacts caused by transient light, such as light strobes or flashes, in images captured by CMOS imagers.","2. Description of the Related Art","CMOS imagers are on form of light sensors or transducers that convert optical images into electric signals for digital storage or transmission. CMOS imagers are rapidly becoming the preferred imager over CCD for video and still digital cameras of all resolutions. CMOS devices are preferred over CCD devices largely due to their benefits over CCD devices with respect to cost, ease of manufacture, lower power consumption, and lower heat.","Conventional CMOS imagers provide a sequential output, whereby pixels are read from top to bottom of the device, line by line. In this sense, a CMOS imager operates similar to a flatbed scanner, reading a line at a time. This behavior makes the CMOS susceptible to time sensitive disturbances. For example, when using a conventional CMOS imaging device, a quick luminance disturbance may only appear on the portion of a frame that corresponds to the pixel rows that were captured during the time of the disturbance. This means that quick disturbances, such as strobe lights or flashes, will only be visible in a portion of a given frame, or may begin in the middle of one frame and end in the middle of another frame.","This phenomenon is not visible in images taken with CCD devices. CCD imagers capture and output a complete image at a time. Therefore, in CCD imagers, a sudden luminance disturbance, such as a flash, affects a whole frame or picture at a time.","This image artifact or disturbance, whereby a flash only affects a portion of a frame, has been accepted by the professional users of CMOS imaging devices. However, end-users object to this artifact. Most end-users are more familiar with flash used in conjunction with CCD imagers where, when taking pictures, the entire frame brightens. Therefore, end-users have been neither comfortable nor familiar with the behavior of CMOS imaging devices. Software exists that addresses this behavior in video in post-production. The software eliminates the artifacts by comparing the previous frame or the following frame with the current frame, and then replacing the brightened frame with the previous or following frame. As such, multiple flashes result in picture freezing. This introduces a whole new set of motion artifacts due to the variance between the current frame and the previous or following frame.",{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 1","b":["1","4","6","8","5","10","5","10"]},"As explained above, CMOS luminance disturbances are not limited to only a single frame. A luminance disturbance may span more than one frame. In such a case, the first and last frames in the span will have one portion appear at regular luminance levels while the rest of the frame may have heightened luminance levels.",{"@attributes":{"id":"p-0012","num":"0011"},"figref":["FIG. 2","FIG. 1"],"b":["1","8","1","4","6","8","5","40","20","30"]},"There is currently no compensation for this CMOS artifact\/phenomenon in any cameras. As such, absent software correction, images captured by CMOS imaging devices may show frames where a portion of the image is brightened by the luminance disturbance.","The present invention provides a system and method for correcting artifacts in sequential imagers caused by luminance disturbances.","An example embodiment of the present invention may include a method for correcting artifacts caused by luminance disturbances in an imaging device. The example method may include reading output from an imager, detecting a luminance level disturbance in the output of the imager, providing a signal to a digital signal processor (DSP) that a luminance disturbance was detected in the output of the imager before the DSP begins processing the output of the imager, and correcting the output of the DSP to compensate for the luminance disturbance.","The imager may capture images by sequentially capturing pixels of an image. For example, the imager may be a CMOS imager or any imager that sequentially captures rows of pixels of an image.","Detecting the luminance disturbance may include matching the luminance levels of the output of the imager against a predetermined pattern. Alternatively, detecting the luminance disturbance may include identifying a predetermined change in luminance levels in the output of the imager over a predetermined period of time.","Another example embodiment may include an apparatus for capturing images that compensates for luminance disturbances. The apparatus embodiment may include an imager that captures image frames by sequentially capturing pixels of a frame, a detection unit coupled to the imager that monitors the output signal of the imager for a luminance disturbance, and a digital signal processor (DSP) coupled to the imager and detection unit that processes the output of the imager to produce digital images and corrects the output of the DSP to compensate for luminance disturbances based on a signal provided by the detection unit. The example embodiment may also include memory that stores a predetermined flash pattern. Furthermore, the DSP may include a luminance scaling component that changes the output from the imager based on a signal from the detection unit.","The present invention can be embodied in various forms, including business processes, computer implemented methods, computer program products, computer systems and networks, user interfaces, application programming interfaces, cameras, hardware, and the like, but not limited thereto.","In the following description, for purposes of explanation, numerous details are set forth, such as flowcharts and system configurations, in order to provide an understanding of one or more embodiments of the present invention. However, it is and will be apparent to one skilled in the art that these specific details are not required in order to practice the present invention.",{"@attributes":{"id":"p-0030","num":"0029"},"figref":["FIG. 3A","FIG. 3B"],"b":["100","100","105","110","120","125","105","110","120","120","125","125","110","105","330","105","340","110"]},"The imager  may be a CMOS imager or may alternatively be any image capture device that employs a sequential image capture mechanism. Alternatively, the imager  may be any imaging device that captures different portions of the picture frame over discrete periods of time.","The flash pulse detection unit  pattern matches the output of imager  to a known pattern associated with a luminance disturbance, such as a flash or light strobe. For example, flash pulse detection unit  may analyze the output of the imager  for changes in luminance that exceed a predetermined level within a predetermined time period. The flash pulse detection unit  may monitor the imager  output for level changes in the luminance levels of 50% or greater within one frame or less. Alternatively, the flash pulse detection unit  may monitor the output of imager  for any gain greater than 30%, 50%, or 70% of the pre-existing luminance level or maximum luminance levels. Furthermore, the minimum gain and time periods may be manually or automatically adjusted based on the ambient conditions, such as location, lighting, or frame rate. Finally, or alternatively, the flash pulse detection unit  may analyze the output of the imager  for changes in the black level that exceed a predetermined level within a predetermined time period.","Similarly, the flash pulse detection unit  may detect the end of a luminance disturbance by identifying changes in luminance that exceed a predetermined loss within a predetermined time period. For example, flash pulse detection unit  may monitor the output of imager  for a loss of 50% or more of the pre-existing luminance level or maximum luminance level. Furthermore, the luminance loss may also need to occur within a minimum period of time, such one frame or less. Alternatively, the flash pulse detection unit  may seek to identify any loss in the luminance levels of 33% or greater one frame or less, after an identified gain indicating a luminance disturbance. Similarly to the gain, the minimum loss and predetermined time period may be manually or automatically adjusted based on the ambient conditions, such as location, lighting, or frame rate.","Alternatively, or as a contingency, the flash pulse detection unit  may detect the end of a luminance disturbance when the imager provides any output having a luminance level below a minimum threshold. For example, a luminance level of less than, but not limited to, 30% may indicate the end of the luminance disturbance regardless of the time frame.","Furthermore, flash pulse detection unit  may detect luminance disturbances by comparing the output of the imager  against one or more pre-defined patterns associated with known luminance disturbances, such as a flash, light strobe, or lightening strike.","These pre-defined patterns and range values may be stored on a memory device within the flash pulse detection unit  or coupled to the flash pulse detection unit  (not shown).","In the example embodiment, a signal provided by the flash pulse detection unit  may reach the DSP  before the DSP  processes the output of imager . This may occur due to a processing delay in the DSP  (usually about one field or more) and the high-speed detection by the flash disturbance detector circuit . Alternatively, the output of imager  may be more intentionally delayed by buffering the image until the DSP  receives a signal from flash pulse detection unit  indicating that the flash pulse detection unit  has processed the frame.","After receiving both the output of imager  and the signal from flash pulse detection unit , the DSP  processes the frame and compensates for any identified luminance disturbances. Thereafter, the DSP  outputs the processed image.","Computing devices, such as those discussed herein generally, such as DSP  and\/or flash pulse detection unit , may each include instructions executable by one or more processors. Computer-executable instructions may be compiled or interpreted from computer programs created using a variety of programming languages and\/or technologies known to those skilled in the art, including, without limitation, and either alone or in combination, Java\u2122, C, C++, Assembly, etc. In general, a processor (e.g., a microprocessor) receives instructions, e.g., from a memory, a computer-readable medium, etc., and executes these instructions, thereby performing one or more processes, including one or more of the processes described herein. Such instructions and other data may be stored and transmitted using a variety of known computer-readable media.","Similarly, the output of image , DSP , and flash pulse detection unit  may also produce output that may be stored on a computer readable medium or transmitted via a transmission medium.","A computer-readable medium includes any medium that participates in providing data (e.g., instructions or images), which may be read by a computer. Such a medium may take many forms, including, but not limited to, non-volatile media, volatile media, and transmission media. Non-volatile media include, for example, optical or magnetic disks and other persistent memory. Volatile media include dynamic random access memory (DRAM), which typically constitutes a main memory. Transmission media include coaxial cables, copper wire and fiber optics, including the wires that comprise a system bus coupled to the processor. Transmission media may include or convey acoustic waves, light waves and electromagnetic emissions, such as those generated during radio frequency (RF) and infrared (IR) data communications. Common forms of computer-readable media include, for example, a floppy disk, a flexible disk, hard disk, magnetic tape, any other magnetic media, a CD-ROM, DVD, any other optical media, punch cards, paper tape, any other physical media with patterns of holes, a RAM, a PROM, an EPROM, a FLASH-EEPROM, any other memory chip or cartridge, a carrier wave as described hereinafter, or any other medium from which a computer can read.",{"@attributes":{"id":"p-0042","num":"0041"},"figref":["FIG. 4","FIG. 2"],"b":["105","125","400","105","400","125","105","5","40","125","105","210"]},"In one embodiment, the output signal of the flash pulse detection unit  may only indicate the beginning and end of the luminance disturbance. In this case, the DSP  may need to analyze the output of the imager  to identify the proper level of compensation necessary to correct the image. Alternatively, flash pulse detection unit  may indicate the beginning and end of the luminance disturbance, as well as the intensity levels of the luminance disturbance. In this case, the DSP  may use the provided intensity levels to adjust the luminance levels of the screen.","Flash pulse detection unit  may detect the beginning of the luminance disturbance by identifying a sudden gain in luminance over a short time period. Inversely, the loss in luminance over a short time period following the luminance disturbance may serve to indicate the end of the luminance disturbance. The net change in luminance levels caused by the luminance disturbance may serve as a basis for adjusting frame . The detected luminance levels, as well as its corresponding time and amplitude, may be provided to the DSP .","The DSP may adjust the luminance levels of the frame exhibiting the luminance disturbance by adjusting the portion or portions of the frame that are not affected by the luminance disturbance. Modifying the portion or portions of the frame that are not affected by the luminance disturbance may be accomplished by scaling the luminance levels of the unaffected portions to match the luminance levels from the portions of the frame exhibiting the luminance disturbance.",{"@attributes":{"id":"p-0046","num":"0045"},"figref":["FIG. 5","FIG. 2","FIG. 5"],"b":["100","125","1","4","6","8","5","110"]},{"@attributes":{"id":"p-0047","num":"0046"},"figref":["FIG. 6","FIG. 1","FIG. 6"],"b":["100","100","5","5"]},{"@attributes":{"id":"p-0048","num":"0047"},"figref":"FIG. 7","b":"700"},"At step , the imaging device  may capture an image or frame of a video using imager .","At step , the luminance levels of the output of imager  may be analyzed by detection unit  to identify luminance disturbances.","Based on the analysis in step , at step , the detection unit  may output a detection signal that is provided to DSP .","Finally, at step , the DSP  processes the output of imager  based on the detection signal provided by detection unit , and thereby address any artifacts caused by any luminance disturbances.","The example embodiment overcomes the artifacts caused by luminance disturbances that may be objectionable to end-users of CMOS devices. The present invention accomplishes this by causing the imaging device to behave similarly to CCD devices. As such, the end-users may become more receptive the use of CMOS based imaging devices, or any imaging device with sequential pixel capture.","While embodiments herein are discussed primarily with respect to a system embodiment, apparatus embodiment, and method that is applied generally to CMOS imaging devices, the present invention is not limited thereto. Various embodiments discussed herein are merely illustrative, and not restrictive, of the invention. For example, any image capture technology that employs sequential image capture may employ a similar mechanism as that disclosed to compensate for luminance disturbances. Furthermore, the technology may also benefit any imaging device that does not capture entire picture frames at once.","In the description herein, numerous specific details are provided, such as examples of components and\/or methods, to provide a thorough understanding of embodiments of the present invention. One skilled in the relevant art will recognize, however, that an embodiment of the invention can be practiced without one or more of the specific details, or with other apparatuses, systems, assemblies, methods, components, materials, parts, and\/or the like. In other instances, well-known structures, materials, or operations are not specifically shown or described in detail to avoid obscuring aspects of embodiments of the present invention.","Thus, embodiments of the present invention produce and provide a system and method for correcting artifacts in sequential imagers caused by luminance disturbances, such as, for example, light strobes or flashes. Although the present invention has been described in considerable detail with reference to certain embodiments thereof, the invention may be variously embodied without departing from the spirit or scope of the invention. Therefore, the following claims should not be limited to the description of the embodiments contained herein in any way."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["These and other more detailed and specific features of the present invention are more fully disclosed in the following specification, reference being had to the accompanying drawings, in which:",{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 3A"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 3B"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 7"}]},"DETDESC":[{},{}]}
