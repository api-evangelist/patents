---
title: Migrating virtual machines
abstract: Example methods, apparatus and articles of manufacture to migrate virtual machines are disclosed. A disclosed example method includes identifying via a processor a first virtual machine to be migrated from a first host to a second host to improve a performance of the first virtual machine, determining that a frequency threshold associated with the first virtual machine will not be exceeded if the first virtual machine is migrated, determining a reliability rating for the first virtual machine, and migrating the first virtual machine to the second host based on the frequency threshold and the reliability rating.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09594579&OS=09594579&RS=09594579
owner: Hewlett Packard Enterprise Development LP
number: 09594579
owner_city: Houston
owner_country: US
publication_date: 20110729
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND","DETAILED DESCRIPTION"],"p":["Many computing processes are virtualized to enable efficient partitioning of remote host resources among multiple users. The resources of a host are partitioned into respective system and\/or process-based virtual machines. Some virtual machines may be statically provisioned to service an organization (e.g., a business, a corporation, a government entity, a school, etc.) while other virtual machines may be dynamically provisioned to service individual users, Oftentimes, virtual machines have to be migrated between different hosts. For example, a virtual machine may be migrated when a host is operating close to capacity, when a host experiences an operational issue, or when a host needs to be deactivated for servicing. In these examples, operators of the migrated virtual machines attempt to reduce a time the virtual machines are offline and\/or unavailable to users.","Virtual machines are instances of applications operating on a host in a virtual environment and which are only accessible to designated users. Many virtual machines are implemented on hosts (e.g., servers, blade servers, server racks, processors, computers, microprocessors, etc.) that are remote and\/or centrally located in relation to users. The remoteness of virtual machines enables clients and\/or customers to lease and\/or purchase processing capacity and\/or bandwidth allocated among at least one host instead of purchasing and\/or leasing physical devices. In these instances, a virtual machine is instantiated to operate for the client and\/or customers using allocated partitions of one or more hosts. These virtual machines also enable clients and\/or customers to access data and\/or use proprietary processes from any location and\/or from any device (e.g., cloud computing).","Data center operators frequently migrate virtual machines between hosts for various reasons including, for example, to alleviate performance issues, to improve capacity allocations, and\/or to support maintenance tasks. Some known methods of migrating virtual machines include procedures to reduce a downtime of the virtual machines by increasing a speed at which the virtual machines are migrated. Other known methods include using rule sets specified by clients and\/or customers that describe which servers and\/or physical locations can host a virtual machine. In yet other known methods, virtual machines are migrated based on manual selections by data center operators.","The migration of virtual machines can incur security risks. For example, a virtual machine migration can be disturbed by malicious competition for networking and\/or processing resources of components (e.g., switches, servers, processors, etc.) used to migrate the virtual machines. In other examples, virtual machine migration provides access to a virtual machine state which includes, for example, sensitive application data (e.g., user identification, passwords), application states, an operating system kernel memory, etc. These potential security risks may deter some customers and\/or clients from wanting their virtual machines migrated.","Additionally, different virtual machines can have different costs to migrate. For example, some virtual machines may utilize more memory, thereby requiring a relatively longer migration time that consumes relatively more bandwidth. Some virtual machines may have frequently updated memory, which makes completing the migration process more difficult because memory states have to be transmitted more frequently. In yet other examples, some virtual machines may require specialized provisioning to accommodate a unique application, thereby increasing a time to migrate and provision a virtual machine on a new host. In many known methods, data center operators do not quantify these costs when determining which virtual machines to migrate.","Further, customers and\/or clients who own and\/or lease virtual machines may want to limit how frequently the virtual machines are migrated to reduce an impact on business services. For example, a client who leases a virtual machine may not want virtual machines operating a customer-facing storefront application to be migrated more than three times per week to reduce an amount of time the storefront is unavailable to customers. Additionally, customers and\/or clients may want to specify during what times and\/or on which days virtual machines may be migrated. While some known methods consider customer and\/or client preferences, these known methods only consider the affects of migrating virtual machines associated with one client and\/or customer.","Example systems, methods, apparatus, and articles of manufacture disclosed herein address at least some these problems by determining an impact of migrating differing numbers of virtual machines between hosts based on a combination of virtual machine performance, host capacity, known security preferences, quantifications of migration cost, and\/or estimations of migration risk. The example systems, methods, apparatus, and articles of manufacture disclosed herein enable customers and\/or clients of virtual machines to specify security criteria, performance thresholds, and\/or frequency thresholds that a data center operator uses to determine which virtual machines should be migrated. This enables customers and\/or clients to have confidence that any migrations of their virtual machines should not adversely affect hosted operators and\/or services.","The example systems, methods, apparatus, and articles of manufacture disclosed herein also provide direction for data center operators as to which virtual machines can be migrated based on capacity conditions of hosts and\/or measured performance of the virtual machines. The example data center operators use the example systems, methods, apparatus, and articles of manufacture disclosed herein to determine how many migrations of virtual machines are needed to achieve certain capacity savings among hosts and\/or to overcome performance issues among at least some of the hosted virtual machines. For example, instead of determining that performance of one virtual machine may be improved with one migration, the example systems, methods, apparatus, and articles of manufacture disclosed herein coordinate migrations of multiple virtual machines to improve capacity among hosts while maintaining and\/or improving performance among the virtual machines.","Additionally, the example systems, methods, apparatus, and articles of manufacture disclosed herein migrate virtual machines operating similar applications to hosts that have hardware, firmware, software and\/or other resources that are specifically configured for the applications, thereby improving performance of the virtual machines while improving efficiency among the hosts. In this manner, capacity on hosts can be improved by consolidating virtual machines on hosts with similar applications, services, and\/or operating systems so that each host does not have to be configured to operate different types of applications, services, and\/or operating systems. Further, consolidating similar types of virtual machines helps improve logistics and\/or operations of data centers.","The example systems, methods, apparatus, and articles of manufacture disclosed herein also help data centers maintain satisfaction among clients and\/or customers by only migrating virtual machines based on conditions specified by the clients and\/or customers. For example, in many known data centers, virtual machines are migrated based on capacity constraints of hosts resulting from increases in traffic from customers and\/or clients. However, migrating a frequently used virtual machine may cause a service disruption during a time when the virtual machine is used most often and may expose the virtual machine to security risks. The example systems, methods, apparatus, and articles of manufacture disclosed herein enable these customers and\/or clients to specify that a slight performance reduction is acceptable instead of temporarily removing a virtual machine from service during migration and exposing the virtual machine to possible security threats.","While the example systems, methods, apparatus, and articles of manufacture disclosed herein are described in conjunction with migrating virtual machines among hosts including, for example servers, the example systems, methods, apparatus and articles of manufacture disclosed herein may migrate virtual machines among processors, network switches, controllers, memories, databases, computers, etc. Further, while the example systems, methods, apparatus and articles of manufacture disclosed herein are described in conjunction with migrating virtual machines provisioned for an organization, the example systems, methods, apparatus and articles of manufacture disclosed herein may be implemented for network providers, service providers, cloud computing operators, government agencies, individual users, etc.",{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 1","b":["100","102","102","104","106","104","106","104"]},"In the illustrated example, the data center  includes hosts , , and . The example hosts - include any type of server, blade server, processor, computer, memory, database, controller, and\/or network switch that can operate virtual machines -. In some examples, the data center  is located in a single physical location. Alternatively, the data center  may represent different physical locations where the hosts - are geographically separate from each other. In other examples, the data center  can include additional hosts, fewer hosts, additional virtual machines, and\/or fewer virtual machines.","The example data center  of  is managed by a data center operator . The example data center operator  provisions the hosts - for the virtual machines - based on information provided by, for example, a client administrator . The example data center operator  also routes and\/or switches communications between the workstations  to the virtual machines - operating on the respective hosts -. The data center operator  may use any router, switch, and\/or server for routing the communications within the data center . The example data center operator  also maintains tables that identity which virtual machine - is located on which host -.","The example client administrator  includes any customer and\/or client who requests from the data center  one or more of the virtual machines - to host, for example, an application, data, service, etc. The example client administrator  may be associated with an organization that includes, for example, the virtual machine users . For example, the client administrator  may include an Internet Technology (IT) department of a company and the virtual machine users  are employees and\/or contractors of the company. In other examples, the client administrator  may include a service provider and the virtual machine users  subscribe to access a virtual machine. For example, the client administrator  leases the virtual machine . In this example, the virtual machine users  subscribe to the client administrator  to access applications and\/or data hosted by the virtual machine . In other examples, the client administrator  may include a company with an online storefront hosted by the virtual machine . In these other examples, the virtual machine users  access a webpage hosted by the virtual machine  to purchase services and\/or goods provided by the client administrator .","The client administrator  provides requirements for hosting a virtual machine including an amount of bandwidth, Internet Protocol (IP) addresses to be associated with a virtual machine, geographic preferences for the virtual machine, an operating system type supported by the virtual machine, applications to be operated by the virtual machine, memory to be available for the virtual machine, data storage capacity, etc. Additionally, the example client administrator  can specify minimum performance thresholds for a virtual machine, a security risk ranking to be associated with a virtual machine, and\/or an allowed migration frequency for a virtual machine. Further, the example client administrator  may provide logistic information including billing information.","To process requests from the example client administrator  and\/or to manage the example virtual machines - within the data center , the example system  includes a virtual machine manager . The example virtual machine manager  provisions the hosts - based on information provided by the example client administrator . The virtual machine manager  provisions the hosts - by allocating processing and\/or memory capacity from among the hosts - for the virtual machines - and\/or configuring hardware, firmware, software, and\/or any other resources on the hosts - to operate the virtual machines -. The example virtual machine manager  also updates routing tables within the data center  so communications from, for example, the workstations  are routed to the appropriate virtual machines -.","In the illustrated example, the virtual machine manager  is shown external to the data center , in this example, the example virtual machine manager  may be operated by an entity separate from the data center . In these examples, the virtual machine manager  may also migrate virtual machines among hosts included in different data centers. Alternatively, the virtual machine manager  and the data center  may be operated and\/or managed by the same entity. In these alternative examples, the virtual machine manager  may be included within the data center .","The example virtual machine manager  of  uses provisioning and\/or management information provided by, for example, the client administrator  to determine which of the virtual machines - can be migrated among the hosts -. In this manner, the example virtual machine manager  coordinates operation of the virtual machines - within the example data center . The example virtual machine manager  includes monitors that determine capacity of the hosts - and measure performance (e.g., a Quality of Service (QoS)) provided by the virtual machines -. The example virtual machine manager  determines if there are any capacity and\/or performance issues by comparing measured capacity of the hosts - to known capacity constraints and comparing measured performance of the virtual machines - to client specified performance thresholds.","The example virtual machine manager  of the illustrated example determines to migrate the virtual machines - if capacity approaches and\/or exceeds capacity limits and\/or performance approaches and\/or exceeds the thresholds. To determine which of the virtual machines - to migrate, the example virtual machine manager  determines an impact on capacity and\/or performance as a result of moving each of the virtual machines -. For example, the virtual machine manager  initially determines an impact on capacity of the hosts - based on migrating the virtual machine . The example virtual machine manager  also determines an impact on performance by migrating the virtual machine  to either of the hosts  and . In some examples, the virtual machine  may be migrated only if the impact of migrating the virtual machine is less than an impact threshold.","Additionally, the example virtual machine manager  determines security risks for migrating each of the virtual machines -. The security risks may be specified by, for example, the client administrator . In the example of , the virtual machine manager  may determine that either of the virtual machines  and  should be migrated to the host . The virtual machine manager  then determines that the virtual machine  has a relatively low security risk (e.g., a security risk less than a first threshold security risk) while the virtual machine  has a relatively high security risk (e.g., a security risk greater than the first security risk and\/or a second security risk). In some examples, the virtual machine manager  determines the security risk of the virtual machines ,  by looking up respective security rankings and\/or security values placed on the virtual machines ,  by their respective client(s), owner(s), lessor(s), and\/or user(s). Any other past, present, and\/or future method(s) to determine the security risk associated with the virtual machines may additionally or alternatively be used. Based on the security risks, the virtual manager  determines that the virtual machine  with the relatively low security risk should be migrated to the host . In some instances where, for example, the capacity of the host  is significantly exceeded, the virtual machine manager  may determine that migrating the virtual machine  to reduce capacity on the host  outweighs the security risks. In other examples, the virtual machine manager  may determine initially which of the virtual machines - are associated with relatively high security risks and identify only low security risk virtual machines to migrate.","In addition to determining security risks, the example virtual machine manager  of  determines migration frequencies and\/or reliability ratings of the virtual machines -. The migration frequency and\/or the reliability rating may be specified by, for example, the client administrator . Alternatively, the reliability rating may be determined based on previous observed difficulties of migrating a virtual machine. In some instances, the virtual machine manager  may use migration frequency and\/or the reliability rating to rank which of the virtual machines - should be migrated. In other instances, the severity of capacity and\/or performance issues may cause the virtual machine manager  to migrate the virtual machines - regardless of an allowed migration frequency and\/or reliability rating.","Prior to migrating the virtual machines -, the example virtual machine manager  determines if any of the identified virtual machines to be migrated will exceed a specified (e.g., allowed) migration frequency, For example, the virtual machine manager  may determine that the virtual machine  with a migration frequency of two moves per  hour time period has already been migrated twice in the past day. In this example, the virtual machine manager  determines that the virtual machine  is currently not available to migrate and selects another of the virtual machines - to migrate, Alternatively, the example virtual machine manager  may initially filter out which of the virtual machines - to migrate based on current migration frequency before determining which virtual machines should be migrated to resolve capacity\/performance issues.","The example virtual machine manager  of  uses reliability ratings to determine which of the virtual machines - to migrate. The reliability ratings describe the difficulty of migrating a virtual machine including, for example, provisioning time, migration time, operator supervision, provision validation procedures, and\/or application or service complexity. In some instances, the reliability rating may be based on a time of day and\/or configurations of hosts receiving the virtual machine. For example, if the hosts  and  are configured for a UNIX operating environment and the host  has a Windows operating environment, the virtual machine manager  may determine that migrating the virtual machine  to the host  has a relatively better reliability rating compared to migrating the virtual machine  to the host .","The example virtual machine manager  of the illustrated example migrates the virtual machines - after identifying which virtual machines should not be migrated based on security risks, migration frequencies, and\/or reliability ratings. In some instances, the example virtual machine manager  may determine that the virtual machine  can be migrated to the host . In these instances, the example virtual machine manager  then iteratively determines any additional capacity savings and\/or performance improvements from migrating any of the other virtual machines - concurrently and\/or subsequently to migrating the virtual machine . Thus, in some examples, the virtual machine manager  determines a total capacity savings and total performance improvement based on concurrently migrating a group and\/or set of virtual machines.",{"@attributes":{"id":"p-0032","num":"0031"},"figref":["FIG. 2","FIG. 1"],"b":["130","128","1","130","202","202","128","114","124","128","202","202","128"]},"The example client interface  of  stores the provisioning and\/or migration information to a virtual machine database . The example virtual machine database  also stores locations of the virtual machines - and\/or routing information to reach the virtual machines -. The example virtual machine database  further stores permission information that specifies which virtual machines - the virtual machine users  of  can access. The permission information may also specify which of the users  have read access, write access, and\/or subscribe access to services and\/or data provided by the virtual machines -. The virtual machine database  may he implemented by, for example, storage disk(s) disk array(s), tape drive(s), volatile and\/or non-volatile memory, compact disc(s) (CD), digital versatile disc(s) (DVD), floppy disk(s), read-only memory (ROM), random-access memory (RAM), programmable ROM (PROM), electronically-programmable ROM (EPROM), electronically-erasable PROM (EEPROM), optical storage disk(s), optical storage device(s), magnetic storage disk(s), magnetic storage device(s), cache(s), and\/or any other storage media in which data is stored for any duration.","The example client interface  of the illustrated example enables, for example, the client administrator  to access associated information within the virtual machine database . For example, the client administrator  uses the client interface  to modify a security risk, a migration frequency threshold, a performance threshold, and\/or a reliability rating of a virtual machine. In other instances, the client administrator  specifies, via the client interface , a time of day and\/or a day of the week that a virtual machine is allowed to be migrated.","To determine which of the virtual machines - to migrate, the example virtual machine manager  of  includes a migration processor  (e.g., a consolidation analysis engine). The example migration processor  analyzes capacity measurements of the hosts - and performance measurements of the virtual machines - to determine which virtual machines to migrate. The example migration processor  receives virtual machine performance information from a performance monitor  and capacity information from a capacity monitor .","The example performance monitor  of  measures performance metrics of the virtual machines - The example performance monitor  measures, for example, memory utilization, bandwidth usage, and\/or central processing unit operations per a time period for the virtual machines -. The example performance monitor  may also measure performance of the virtual machines - using QoS metrics including, for example, service violations. The example performance monitor  transmits measured performance data to the migration processor  for analysis.","The example capacity monitor  measures an amount of capacity utilized by each of the hosts -. The example capacity monitor  determines capacity based on, for example, an amount of resources of the hosts - utilized by each of the virtual machines -. The example capacity monitor  transmits capacity data to the migration processor  for analysis.","The example migration processor  uses the capacity and\/or performance data to determine any performance and\/or capacity issues. For example, the migration processor  determines that the virtual machine  is operating at a performance level (e.g., a QoS) below a threshold specified by the client administrator . In other examples, the migration processor  may determine which of the hosts - are operating at capacity and\/or beyond capacity In both of these examples, the migration processor  determines which of the virtual machines - can be migrated to reduce the performance and\/or capacity issues.","The example migration processor  of the illustrated example also uses the capacity and\/or performance data from the respective monitors  and  to determine performance and\/or capacity impacts of migrating the virtual machines -. For example, the migration processor  may use the data to determine how total capacity of the data center  can be reduced by migrating some of the virtual machines - to different hosts (e.g., migrating the virtual machine  to the host  to enable the virtual machine manager  to deactivate the host , thereby reducing energy consumption). In other examples, the migration processor  may use the data to determine how an average performance of the virtual machines - can be improved by migrating some of the virtual machines -.","In some examples, the migration processor  of  uses algorithms, routines, and\/or functions to predict and\/or estimate capacity and\/or performance changes of migrating the virtual machines -. For example, an unused capacity on the host  (e.g., A) is expressed in example equation (1) where max_shares is the maximum capacity of the host  and peak_shares_used is the amount of capacity utilized by the host .\n\n=max_shares\u2212peak_shares_used\u2003\u2003(1)\n","The example migration processor  determines a capacity savings Sbased on migrating the virtual machine  to the host  using an example equation (2). The capacity savings is related to moving the workload v from the virtual machine  to the host .\n\n\u2003\u2003(2)\n","The example migration processor  also calculates capacity savings and\/or decreases in capacity based on migrating the other virtual machines - to determine which of the virtual machines - should be migrated to best utilize capacity among the hosts -. In some instances, the example migration processor  predicts future capacity and\/or performance of the virtual machines - based on historical trace data of previous virtual machine performance. The historical trace data is stored in, for example, the virtual machine database .","The example migration processor  of  also deter which of the identified virtual machines - can be migrated based on security ranks, reliability ratings, and\/or migration frequency thresholds. To determine a security rank and\/or level for each of the virtual machines -, the example migration processor  accesses a security manager . The example migration processor  provides the security manager  with identifiers of the virtual machines -. The example security manager  uses the identifiers to retrieve a corresponding security rank from the virtual machine database . The example security manager  then transmits the security ranks of the virtual machines - to the migration processor  to determine which of the virtual machines - are restricted from being migrated.","To determine a migration frequency threshold, for the virtual machines -, the example migration processor  accesses a migration permission manager . The example migration permission manager  uses identifiers of the virtual machines - to retrieve a corresponding migration frequency threshold and\/or a current migration frequency for each of the virtual machines - The migration permission manager  then transmits tie threshold and\/or current migration frequency to the migration processor . The example migration permission manager  also tracks which of the virtual machines - are migrated and updates the corresponding current migration frequency to reflect the most recent migration. Further, the migration permission manager  updates the current migration frequency for each of the virtual machines - for each time period.","To determine a reliability index for the virtual machines -, the example migration processor   accesses a migration complexity manager . The example migration complexity manager  uses identifiers of virtual machines to retrieve a corresponding reliability rating from the virtual machine database . The example migration complexity manager  transmits the reliability ratings to the migration processor .","The example migration complexity manager  of the illustrated example also creates and\/or modifies the reliability ratings each time the corresponding virtual machines - are migrated. For example, the migration complexity manager  may monitor an amount of time to migrate and provision the virtual machine  on the host  and update a reliability rating to reflect the monitored time. The example migration complexity manager  may also create a reliability rating for each of the virtual machines - for different times of a day or different days of a week. In this manner, the example migration processor  may use this dayitime information to schedule virtual machine migrations when reliability ratings are relatively high (e.g., a low expected difficulty to migrate the virtual machines).","In other examples, the migration complexity manager  may modify the reliability ratings stored in the virtual machine database  based on a number and\/or amount of resources needed to achieve a virtual machine migration. For example, larger memory sizes and\/or more supervision to migrate a virtual machine may cause the migration complexity manager  to calculate a lower reliability rating. In other examples, the migration complexity manager  may interface with the performance monitor  to calculate a reliability rating based on an initial QoS of a newly migrated virtual machine.","After receiving security ranks, reliability ratings, and\/or migration frequency information, the example migration processor  selects which virtual machines - to migrate. The example migration processor  selects the virtual machines to migrate by determining if any of the information restricts any of the virtual machines from being migrated. For example, virtual machines with a relatively high security rank, a relatively low reliability rating, and\/or a frequency migration that exceeds an allowed migration frequency may be removed from planned migration by the migration processor . The migration processor  then migrates the remaining virtual machines using the capacity and\/or performance impact calculations for the corresponding virtual machines.","Alternatively, the example migration processor  may calculate a migration score for each of the virtual machines - identified to be migrated. The migration score corresponds to an average weighted average, sum, etc. of a security rank, a reliability rating, a migration frequency, a performance impact, and\/or a capacity savings. For example, the migration processor  may calculate a migration score for the virtual machine  moving to the host  based on a high reliability (e.g., a value of 3), a low security rank (e.g., a value of 3), a low number of current migrations (e.g., a value of 2), a moderate performance improvement (e.g., a value of 2), and a low capacity savings (e.g., a value of 1). In this example, the migration score is a sum of the values (e.g., a value of 9). The migration processor  then determines if the virtual machine  can be migrated if the calculated value is greater than a predetermined threshold value of \u20185.\u2019 In this instance, the migration processor  determines that the virtual machine  can be migrated to the host .","In these alternative examples, the migration processor  of  calculates migration scores for each of the virtual machines - migrating to each of the hosts - and uses a routine (e.g., an optimization algorithm) to determine which combination of virtual machine migrations generates the highest total migration score for the data center . In these examples, the performance and\/or capacity considerations may outweigh other factors causing the migration processor  to migrate relatively more risky virtual machines. For example, if there is a significant capacity issue, a significant capacity savings (e.g., a value of 5) may provide enough weight to determine that a virtual machine is to be migrated regardless of other values for other factors. In these other examples, the migration processor  may remove from migration consideration any of the virtual machines - that, for example, have a high security ranking or a migration frequency that is above a specified threshold.","After determining which of the virtual machines - to migrate and which of the hosts - will receive the virtual machines -, the example migration processor  of  sends migration instructions to a host interface . The example host interface  coordinates the migration of the virtual machines - among the hosts -. For example, the host interface  sends instructions to the host  to allocate resources to operate the virtual machine . The instructions may include an amount of resources to allocate and\/or any support software and\/or firmware needed to be configured within the host  to operate the virtual machine .","In this example, the host interface  of  sends instructions to the host  to begin transferring memory and\/or data states of the virtual machine  to the newly allocated portions of the host . The example host interface  may then coordinate pausing the virtual machine  on the host , transferring a final memory and\/or data state to the host  and beginning operation of the virtual machine  on the host . The example host interface  may also update routing and\/or forwarding tables within the data center  to reflect the migration of the virtual machine  to the host . Further, the example host interface  may update the virtual machine database  with the new locations of the migrated virtual machine  and inform the migration complexity manager  to update a current migration frequency of the virtual machine .","In examples where the example host interface  of  is to concurrently migrate multiple virtual machines -, the example host interface  determines an order in which the virtual machines - are to be migrated so that capacity of the hosts - is not exceeded during the migration. In some instances, the host interface  migrates one or more virtual machines to a temporary location to facilitate multiple migrations. For example, to migrate the virtual machine  to the host  and the virtual machine  to the host , the example host interface  first migrates the virtual machine  to the host  to create space for the virtual machine  to be migrated to the host . The host interface  then migrates the virtual machine  to the host .","While an example manner of implementing the example virtual migration manager  has been illustrated in , one or more of the elements, processes and\/or devices illustrated in  may be combined, divided, re-arranged, omitted, eliminated and\/or implemented in any other way. Further, the example client interface , the example virtual machine database , the example migration processor , the example performance monitor , the example capacity monitor , the example security manager , the example migration permission manager , the example migration complexity manager , the example host interface  and\/or, more generally, the example virtual machine manager  of  may be implemented by hardware, software, firmware and\/or any combination of hardware, software and\/or firmware. Thus, for example, any or all of the example client interface , the example virtual machine database , the example migration processor , the example performance monitor , the example capacity monitor , the example security manager , the example migration permission manager , the example migration complexity manager , the example host interface  and\/or, more generally, the example virtual machine manager  could be implemented by one or more circuit(s), programmable processor(s), application specific integrated circuit(s) (ASIC(s)), programmable logic device(s) (PLD(s)) and\/or field programmable logic device(s) (FPLD(s)), etc. When any of the appended apparatus or system claims are read to cover a purely software and\/or firmware implementation, at least one of the example client interface , the example virtual machine database , the example migration processor , the example performance monitor , the example capacity monitor , the example security manager , the example migration permission manager , the example migration complexity manager , and\/or the example host interface  are hereby expressly defined to include a computer readable medium such as a memory, DVD, CD, Blu-ray disc, etc. storing the software and\/or firmware. Further still, the virtual machine manager  of  may include one or more elements, processes and\/or devices in addition to, or instead of, those illustrated in , and\/or may include more than one of any or all of the illustrated elements, processes and devices.",{"@attributes":{"id":"p-0055","num":"0054"},"figref":["FIGS. 3-7","FIG. 3","FIG. 1"],"b":["206","1","2","114","124","108","112","302","114","120","108","112","122","124"]},"The example table  shows that the host  has a total capacity of 10 GHz and the hosts  and  each have a total capacity of 6 GHz. The example table  also shows that the host  includes the virtual machines  and , the host  includes the virtual machine , and the host includes the virtual machine . The example table  also indicates that the host  has 5 GHz of capacity (e.g., resources) available, the host  has no capacity available, and the host  has 1 GHz of capacity available. In other examples, the table  may include information specifying an amount of memory used and\/or available on the hosts - or, alternatively, an amount of processor space used and\/or available on the hosts -.","The example migration processor  of  retrieves the example table  from the virtual machine database  to determine a current configuration of the virtual machines -. The example migration processor  also uses the table  to identify capacity and\/or performance issues detected by, for example, the monitors  and . For example, the migration processor  determines that the virtual machines - should be rearranged among the hosts - to improve capacity on the host .","An example table  shows a calculated performance by the example migration processor  of the effects of migrating the virtual machine  (e.g. VM B1) to the host . The \u20181\u2019 value in the table  indicates that the host  would need 1 GHz of additional capacity to accommodate the migration of the virtual machine  (e.g., the total capacity of the virtual machines - would be 11 GHz). The \u20181\u2019 value also indicates that the virtual machine  would suffer adverse performance from a lack of capacity at the host . The \u2018X\u2019 values in the table  indicate that the migration processor  has not computed the effects of migrating the virtual machines - to the hosts -.","The example table  of  shows a \u20180\u2019 value indicating that no additional capacity would be needed to migrate the virtual machine  (e.g., VM A3) to the host . The example migration processor  uses this information to determine the virtual machine  is a candidate to be migrated to the host . The example migration processor  continues to analyze capacity and\/or performance impacts of migrating each of the virtual machines - until each of the \u2018X\u2019 values is replaced with a numeric value, as shown in table . The example migration processor  also calculates performance and\/or capacity impacts of migrating different combinations of the virtual machines -. In some instances, the different combinations may correspond to calculated combinations of the values in the example table . The example migration processor  then determines which combinations of migrations results in capacity and\/or performance improvements.","In other examples, the migration processor  utilizes other methods for determining performance a and\/or capacity impacts. For example, the migration processor  may calculate performance using QoS violations and\/or weighted performance based on an importance of workloads, In other examples, the migration processor  determines capacity impacts as a function of virtual machine performance.",{"@attributes":{"id":"p-0061","num":"0060"},"figref":"FIG. 4","b":["402","114","120","206","204","212","402","206","114","120","402"]},"In the example table  of , the \u2018Low\u2019 security ranking corresponds to a migration that would have a relatively low impact on a business if the virtual machine was compromised and\/or disrupted. The \u2018Low\u2019 ranking may also correspond to a risk impact of 0% and a migration policy of allow. The \u2018Medium\u2019 security ranking corresponds to a medium impact on a business if a virtual machine is compromised and\/or disputed during migration. The \u2018Medium\u2019 ranking may also correspond to a 25% risk impact and a migration policy of allow. Further, the \u2018High\u2019 security ranking corresponds to a relatively severe impact on a business if a virtual is compromised and\/or disrupted during a migration. The \u2018High\u2019 security rank corresponds to a migration policy of deny and\/or restrict.","The example risk impact indicates under which conditions it is acceptable for the migration processor  to migrate a virtual machine. In this example, the risk impact of 25% indicates that the virtual machine  can be migrated if the effective cost and\/or quantity of resources used to host the virtual machine  is reduced by 25%. In other words, the virtual machine  can be migrated if capacity is improved by 25%. or performance is improved by 25%.","The example migration processor  uses the security rankings in the example table  to determine that the virtual machines  and  cannot be migrated because of the \u2018High\u2019 security rank. The migration processor  then determines whether to migrate the virtual machines  and  based on the \u2018Medium\u2019 and \u2018Low\u2019 security rankings. In some examples, the migration processor  may use the table  to determine initially which virtual machines cannot be migrated prior to determining performance and\/or capacity impacts, as described in ",{"@attributes":{"id":"p-0065","num":"0064"},"figref":["FIG. 5","FIG. 1"],"b":["502","114","120","128","214","114","120","120","120","120"]},"The example migration processor  uses the example table  to determine which of the virtual machines - may be migrated. Using the information in the table  of , the migration processor  in this example only has to determine if the virtual machines  and  are permitted to be migrated because the virtual machines  and  are associated with \u2018High\u2019 security rankings. In the illustrated example, the migration processor  determines that the virtual machine  is allowed to be migrated one time per hour and has currently not been migrated within the past hour. Additionally, the migration processor  determines that the virtual machine  is permitted to be migrated one time every two hours and has only been migrated once in the past four hours. As a result, the migration processor  determines that the virtual machines  and  may be migrated based on the data within table .",{"@attributes":{"id":"p-0067","num":"0066"},"figref":"FIG. 6","b":["602","216","128","602","602","114","120","602"]},"The example migration processor  uses the example table  to determine which of the virtual machines - can be migrated. Based on the determinations in conjunction with , the example migration processor  only has to determine if the virtual machines  and  are capable of being migrated. In this example, the virtual machine  has a reliability rating of \u20183\u2019 and the virtual machine  has a reliability rating of \u20182.\u2019 The example migration processor  determines that both of the virtual machines  and  may be migrated based on the relatively high reliability ratings.",{"@attributes":{"id":"p-0069","num":"0068"},"figref":"FIG. 7","b":["702","108","112","206","114","112","108","110","110","206","114","112","114","120","112","114","120","112"]},"An example table  shows a revised performance and capacity impact of the hosts - based on a planned migration of the virtual machines -. The example migration processor  uses the performance and\/or capacity impacts in conjunction with the information in the tables , , and  to determine which of the virtual machines - can be migrated to further improve performance and\/or capacity. Thus, the example migration processor  can iteratively determine virtual machines to migrate based on the example methods described on conjunction with .","In other instances, the migration processor  may determine the performance and\/or capacity impacts shown in table  at some predetermined time after migrating the virtual machine . Alternatively, the example migration processor  determines which of the virtual machines - to migrate based on a detected performance and\/or capacity issue. In this manner, the example migration processor  determines periodically if the virtual machines - should be migrated to compensate for different usages (e.g., peak usages) during different times of a day and\/or different days of a week.","Flowcharts representative of example machine readable instructions for implementing the virtual machine manager  of  and are shown in . In this example, the machine readable instructions comprise a program for execution by a processor such as the processor P shown in the example processor platform P discussed below in connection with . The program may be embodied in software stored on a computer readable medium such as a CD, a floppy disk, a hard drive, a DVD, Blu-ray disc, or a memory associated with the processor P, but the entire program and\/or parts thereof could alternatively be executed by a device other than the processor P and\/or embodied in firmware or dedicated hardware. Further, although the example program is described with reference to the flowcharts illustrated in , many other methods of implementing the example virtual machine manager  may alternatively be used. For example, the order of execution of the blocks may be changed, and\/or some of the blocks described may be changed, eliminated, or combined.","As mentioned above, the example machine readable instructions of  may be implemented using coded instructions (e.g., computer readable instructions) stored on a tangible computer readable medium such as a hard disk drive, a flash memory, a ROM, a CD, a DVD, a Blu-ray disc, a cache, a RAM and\/or any other storage media in which information is stored for any duration (e.g., for extended time periods, permanently, brief instances, for temporarily buffering, and\/or for caching of the information). As used herein, the term tangible computer readable medium is expressly defined to include any type of computer readable storage and to exclude propagating signals. Additionally or alternatively, the example processes of  may be implemented using coded instructions (e g., computer readable instructions) stored on a non-transitory computer readable medium such as a hard disk drive, a flash memory, a read-only memory, a compact disk, a digital versatile disk, a cache, a random-access memory and\/or any other storage media in which information is stored for any duration (e g., for extended time periods, permanently, brief instances, for temporarily buffering, and\/or for caching of the information). As used herein, the term non-transitory computer readable medium is expressly defined to include any type of computer readable medium and to exclude propagating signals.","The example machine-readable instructions  of  begin when the example monitors  and  of  measure or monitors host capacity and\/or performance of virtual machines on the hosts (block ). The example migration processor  then determines from the measured data if there is a performance and\/or capacity issue (block ). If there are no issues, the example migration processor  determines if there are performance and\/or capacity utilization improvement opportunities (block ). The example migration processor  determines if there are any opportunities for improvement by determining capacity and\/or performance impacts of migrating one or more virtual machines to other hosts as described in conjunction with .","If the migration processor  determines there are no opportunities to improve capacity and\/or performance, the example monitors  and  continue to measure and record host capacity and\/or virtual machine performance (block ). If there are opportunities for better utilization and\/or there is at least one capacity and\/or performance issue, the example migration processor  calculates performance impacts of migrating each virtual machine (block ). The example migration processor  also calculates host capacity changes of migrating each virtual machine (block ). Based on the determined performance impacts and\/or capacity changes, the example migration processor  determines which virtual machines should be migrated (block ).","The example migration processor  next accesses the security manager  to determine if security rankings indicate that one or more of the virtual machines should not be migrated (block ). For each virtual machine with a security ranking that prevents the virtual machine from being migrated, the example migration processor  removes the virtual machine from the group and\/or set of virtual machines to be migrated (block ). The example migration processor  then accesses the migration permission manager  to determine if migration frequencies indicates the respective virtual machines should not be migrated (block ). If the migration frequency restricts a virtual machine from being migrated, the example migration processor  removes the virtual machine from migration consideration (block ). The example migration processor  next accesses the migration complexity manager  to determine if reliability ratings indicates the respective virtual machines should not be migrated (block ). If the reliability rating restricts a virtual machine from being migrated, the example migration processor  removes the virtual machine from migration consideration (block ).","The example migration processor  then migrates the remaining virtual machines to the corresponding hosts (block ). In some examples, the migration processor  may determine which virtual machines should be migrated after determining which virtual machines cannot be migrated. In yet other examples, the migration processor  uses an average and\/or weighted score of security rank, migration frequency, reliability rating, performance improvement, and\/or capacity savings to determine which virtual machines to migrate. After migrating the virtual machines, the example monitors  and  return to monitoring host capacity and\/or virtual machine performance (block ).","The example machine-readable instructions  of  begin when the example monitors  and  of  measure host capacity and\/or performance of virtual machines on the hosts (block ). The example migration processor  then determines from the measured data if there is a performance and\/or capacity issue (block ). If there are no issues, the example migration processor  determines if there are performance and\/or capacity utilization improvement opportunities (block ).","If the migration processor  determines there are no opportunities to improve capacity and\/or performance, the example monitors  and  continue to measure and record host capacity and\/or virtual machine performance (block ). If there are opportunities for better utilization and\/or there is at least one capacity and\/or performance issue, the example migration processor  calculates performance impacts of migrating each virtual machine (block ). To determine which virtual machines to migrate, the example migration processor  via the managers  and  and\/or the monitors  and  calculates an average and\/or weighted score of security rank, migration frequency, reliability rating, performance improvement, and\/or capacity savings (block ).","The example migration processor  determines which virtual machines correspond to a calculated score that is above a threshold and\/or identify the virtual machines with the greatest score to determine which virtual machines can be migrated (block ). The example migration processor  also determines which virtual machines have a security ranking, migration frequency, and\/or reliability rating that prevent the virtual machines from being migrated (block ). For the virtual machines that cannot be migrated, the example migration processor  removes the virtual machines from among the virtual machines to be migrated (block ). The example migration processor , via the host interface , then migrates the remaining virtual machines with scores above a predefined threshold (block ). After migrating the virtual machines, the example monitors  and  return to monitoring host capacity and\/or virtual machine performance (block ).","The example machine-readable instructions  of  begin by the example migration processor  identifying a virtual machine to be migrated from a first, host to a second host to improve performance of the virtual machine (block ). The example migration processor  via the security manager  then determines there is a low security risk associated with migrating the virtual machine (block ). The example migration processor  via the migration permission manager  next determines a frequency threshold associated with the virtual machine will not be exceeded if the virtual machine is migrated (block ). The example migration processor  then migrates the virtual machine to the second host if the migration complexity manager  determines a reliability rating associated with the virtual machine is below a reliability threshold (block ). The example machine-readable instructions  then terminate.",{"@attributes":{"id":"p-0082","num":"0081"},"figref":["FIG. 11","FIGS. 8A, 8B, 9, and 10"],"b":["100","800","900","1000","100"]},"The processor platform P of  includes at least one programmable processor P. The processor P may implement, for example, the example client interface , the example virtual machine database , the example migration processor , the example performance monitor , the example capacity monitor , the example security manager , the example migration permission manager , the example migration complexity manager , the example host interface  and\/or, more generally, the example virtual machine manager  of . For example, the migration processor  identifies a first virtual machine to be migrated from a first server to a second server to improve a performance of the first virtual machine and migrates the first virtual machine to the second host if a reliability rating associated with the first virtual machine is below a reliability threshold. Additionally, the security manager  determines if there is a low security risk associated with migrating the first virtual machine. Further, the migration permission manager  determines a frequency threshold associated with the first virtual machine will not be exceeded if the first virtual machine is migrated.","The processor P executes coded instructions P and\/or P present in main memory of the processor P (e.g., within a RAM P and\/or a ROM P) and\/or stored in the tangible computer-readable storage medium P. The processor P may be any type of processing unit, such as a processor core, a processor and\/or a microcontroller. The processor P may execute, among other things, the example interactions and\/or the example machine-accessible instructions , , and\/or  of , and\/or  to migrate virtual machines, as described herein, Thus, the coded instructions P, P may include the instructions , , and\/or  of , and\/or .","The processor P is in communication with the main memory (including a ROM P and\/or the RAM P) via a bus P, The RAM P may be implemented by dynamic random access memory (DRAM), synchronous dynamic random access memory (SDRAM), and\/or any other type of RAM device, and ROM may be implemented by flash memory and\/or any other desired type of memory device. The tangible computer-readable memory P may be any type of tangible computer-readable medium such as, for example, compact disk (CD), a CD-ROM, a floppy disk, a hard drive, a digital versatile disk (DVD), and\/or a memory associated with the processor P. Access to the memory P, the memory P, and\/or the tangible computer-medium P may be controlled by a memory controller. In some examples, the coded instructions P are part of an installation pack and the memory is a memory from which that installation pack can be downloaded (e.g., a server) or a portable medium such as a CD, DVD, or flash drive. In some examples, the coded instructions are part of installed software in the RAM P, the ROM P, and\/or the computer-readable memory P.","The processor platform P also includes an interface circuit P. Any type of interface standard, such as an external memory interface, serial port, general-purpose input\/output, etc. may implement the interface circuit P. One or more input devices P and one or more output devices P are connected to the interface circuit P.","Although the above described example systems, methods, apparatus and articles of manufacture including, among other components, software and\/or firmware executed on hardware, it should be noted that these examples are merely illustrative and should not be considered as limiting. For example, it is contemplated that any or all of the hardware, software, and firmware components could be embodied exclusively in hardware, exclusively in software, or in any combination of hardware and software. Accordingly, while the above described example systems, methods, apparatus, and articles of manufacture, the examples provided herein are not the only way to implement such systems, methods, apparatus, and articles of manufacture. For example, while the example systems, methods, apparatus, and articles of manufacturer have been described in conjunction with virtual machines, the example systems, methods, apparatus, and\/or article of manufacture may operate within any structure that hosts virtual machines.","Although certain example systems, methods, apparatus and articles of manufacture have, been described herein, the scope of coverage of this patent is not limited thereto. On the contrary, this patent covers all systems, methods, apparatus and articles of manufacture fairly falling within the scope of the claims of this patent either literally or under the doctrine of equivalents."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0003","num":"0002"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0004","num":"0003"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0005","num":"0004"},"figref":["FIGS. 3-7","FIGS. 1 and 2"]},{"@attributes":{"id":"p-0006","num":"0005"},"figref":["FIGS. 8A, 8B, 9, and 10","FIGS. 1 and 2"]},{"@attributes":{"id":"p-0007","num":"0006"},"figref":["FIG. 11","FIGS. 8A, 8B, 9, and 10"]}]},"DETDESC":[{},{}]}
