---
title: High-level interface for QoS-based mobile multimedia applications
abstract: The present invention generally relates to the field of mobile multimedia middleware, quality-of-service, shared resource reservation mechanisms, distributed processing systems, handheld computers, computer networking and wireless communication. Particularly, the present invention describes a processing system and pieces of software for one or more communication networks, with middleware comprising an application programming interface () cast over a data model describing quality-of-service contracts and quality-of-service adaptation paths specified by quality-of-service aware mobile multimedia applications () using said programming interface, in order to manage quality-of-service and mobility-aware for managing network connections with other applications. The present invention hereby relates to a corresponding data model as well as the necessary architecture.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07814184&OS=07814184&RS=07814184
owner: Sony Deutschland GmbH
number: 07814184
owner_city: Cologne
owner_country: DE
publication_date: 20011206
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"p":["The invention presented generally relates to the field of mobile multimedia middleware, Quality of Service (QoS), shared-resource reservation mechanisms, distributed processing systems, handheld computers, computer networking, and wireless communication. The present invention particularly relates to a processing system for a one or more communication networks and to pieces of software for the one or more communication networks, being loadable in one or more memory means of one or more processing devices or nodes of the communication networks.","This patent application extends the concepts introduced by the EP 00 111 191.3, which is hereby incorporated by reference.","As of this writing, the author is aware of the following technologies, which are related to the topic hereby presented:",{"@attributes":{"id":"p-0005","num":"0004"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"112pt","align":"left"}}],"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":[{},"IP Owner",{}]},{"entry":[{},"Organizations and\/",{}]},{"entry":["Technologies","or Companies","Comment"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["GQoS","Microsoft Corp.","The hereby-presented high level,"]},{"entry":[{},{},"platform- and network-independent"]},{"entry":[{},{},"API is not bound to any socket"]},{"entry":[{},{},"concepts rather can build on top of"]},{"entry":[{},{},"that for dealing with networking"]},{"entry":[{},{},"issues."]},{"entry":["QuickTime","Apple Computer, Inc.","The hereby-presented API does"]},{"entry":[{},{},"provide high level abstractions,"]},{"entry":[{},{},"which do not necessarily require any"]},{"entry":[{},{},"preferential multimedia framework,"]},{"entry":[{},{},"rather can be accommodated on"]},{"entry":[{},{},"various state of the art frameworks"]},{"entry":[{},{},"for dealing with multimedia"]},{"entry":[{},{},"component management."]},{"entry":["RealPlayer","RealNetworks"]},{"entry":"RealServer"},{"entry":["Java Beans","Sun Microsystems"]},{"entry":["Java Media","Inc."]},{"entry":"Framework"},{"entry":["DCOM","Microsoft Corp."]},{"entry":"Media Player SDK"},{"entry":"Media Format SDK"},{"entry":["QML [S. Frolund,","Hewlett-Packard","The hereby-presented API extends"]},{"entry":["J. Koistinen, QML: A",{},"QML concepts and uses an object"]},{"entry":["Language for Quality of",{},"model rather than a modeling"]},{"entry":["Service Specification,",{},"language. This invention proposes"]},{"entry":["HP-Lab Technical",{},"also the use of hysteresis thresholds."]},{"entry":"Reports, HPL-98-10,"},{"entry":"980210"},{"entry":"(http:\/\/www.hpl.hp."},{"entry":"com\/techreports\/98\/"},{"entry":"HPL-98-10.html]"},{"entry":["QDL [J. P. Loyall et","BBN Technologies","The hereby-presented API extends"]},{"entry":["al., Qos Aspect","GTE Interworking","QDL concepts and de-couples QoS"]},{"entry":["Languages and their",{},"contracts from and QoS policies."]},{"entry":["Runtime Integration, in",{},"This invention distinguishes among"]},{"entry":["Lecture Notes in",{},"Negotiable and Controllable QoS"]},{"entry":["Computer Science,",{},"States instead of negotiated and"]},{"entry":["Vol. 1511, Springer-",{},"control regions."]},{"entry":"Verlag]"},{"entry":["QoS Adaptation State","Saleem N. Bhatti,","Define State Machines for QoS"]},{"entry":["Machine [S. N. Bhatti,","Graham Knight","Adaptation, but not in a"]},{"entry":["G. Knight, Qos","University College","hierarchical structure as"]},{"entry":["Assurance vs. Dynamic","London","proposed in this invention. This"]},{"entry":["Adaptability for",{},"invention furthermore defines"]},{"entry":["Applications, Computer",{},"the FSM structure based on a"]},{"entry":["Science Department,",{},"data model that can be even"]},{"entry":["University College",{},"specified by using markup"]},{"entry":["London], [S. N. Bhatti,",{},"languages like XML."]},{"entry":["G. Knight, Enabling",{},"Define mechanisms (based on"]},{"entry":["QoS adaptation",{},"fuzzy logic) for triggering"]},{"entry":["decisions for Internet",{},"transitions in the FSM only"]},{"entry":["applications, Computer",{},"when the corresponding"]},{"entry":["Science Department,",{},"conditions are constantly met"]},{"entry":["University College",{},"over a given period of time. This"]},{"entry":["London]",{},"invention uses similar concept of"]},{"entry":[{},{},"guard timers associated with the"]},{"entry":[{},{},"Monitored Parameters"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}}}},"This patent application extends the concepts introduced in EP 00 111 191.3, more specifically the present patent application develops the Interface Type D introduced by the aforementioned EPA.","As indicated in EP 00 111 191.3, most of state of the art QoS-aware, elastic applications need to embed proprietary QoS adaptation logic, to the detriment of fast time-to-market and interoperability. Developers must be skilled in the art of QoS specification, management, and control. Furthermore, deep knowledge of the underlying platform is required. As a side effect, applications are thus complex and fat.","Streams originated by different sources cannot be homogeneously treated with respect to QoS adaptation issues.","Architectures are extensible based only on functional requirements, without taking QoS constraints into account.","The processing system for one or more communication networks according to the present invention is claimed in claim  and comprises middleware with an application programming interface describing quality-of-service contracts and quality-of-service adaptation paths specified by quality-of-service aware multimedia applications for managing network connections with other applications. Hereby, the processing system according to the present invention can consist of distributed processing devices in the communication networks. The processing system or the processing devices are e.g. servers, computers, and the like and comprise the middleware offering the respective functionalities. The communication networks can be wired and\/or wireless networks.","The pieces of software for one or more communication networks according to the present invention are claimed in claim . The pieces of software are loadable in one or more memory means of one or more processing devices or nodes of the one or more communication networks and comprise middleware with an application programming interface describing quality-of-service contracts and quality-of-service adaptation paths specified by quality-of-service aware multimedia applications for managing network connections with other applications. Thus, the software according to the present invention presents the middleware which can be implemented in processing devices, such as service, computers and the like of the communication networks.","Advantageous features are claimed in the respective subclaims.","Advantageously, the adaptation paths are expressed as hierarchical finite state machines based on quality-of-service contexts. In this case, a quality-of-service context advantageously identifies an arrangement of quality-of-service specifications to be enforced throughout a given set of streams. The hierarchical finite state machines advantageously comprise controllable states in the context of streams at the lowermost level. Advantageously, quality-of-service synchronisation is provided so as to ensure that some user's given constraints are enforced throughout a given set of streams (e.g. guaranteeing) that the aggregate quality-of-service for a number of streams is not below a minimum threshold; or that streams belonging to a given group can be assigned more or less quality-of-service out of a bulk resource reservation, based on a priority scheme that can be even altered at run time by the user and\/or the communication system. The specification of the quality-of-service contracts advantageously comprises hysteresis parameters for the transition between quality-of-service states. Further advantageously, the specification of the quality-of-service contracts comprises utility parameters defining user's perceived utility factors associated with the respective quality-of-service contract.","The high Level Application Programming Interface (API) according to the present invention provides QoS-aware mobile multimedia applications with the possibility to establish, use, and release network connections with other applications, using QoS guarantees. These guarantees being enforced by having the applications specifying QoS Contracts and Adaptation Paths to the middleware offering said API, and by delegating QoS adaptation tasks to said middleware. Said applications being solely interested in events forwarded by said API only when the given user-specified QoS Contract and Adaptation Path cannot be fulfilled. The middleware offering said API being able to translate user's specifications and requests into a strategy for selecting, configuring, managing, and releasing multimedia software and\/or hardware components, in cooperation with the peer middleware. This API merges the concept of declarative interface (i.e. describing what tasks the user wants to be done and not how said tasks should be accomplished) with some concepts of Aspect Oriented Programming (AOP) (i.e. addressing crosscutting QoS concerns in a modular way).","Advantageously, the application programming interface according to the present invention is offered by an application handler unit.","Advantageously, the application handler unit registers requests for notification events from applications and generates such events whenever the corresponding triggering conditions occur. Further advantageously, the application handler unit operates on the basis of a data model comprising streams, quality-of-service context and quality-of-service associations. In this case, the application handler unit advantageously creates for each unidirectional stream an instance of a chain controller for handling data plane and quality-of-service control plane related issues. Further, the chain controller can in this case compare the quality-of-service requirements of a user with external values of monitored parameters and configures a chain of multimedia components accordingly. Hereby, the chain controller advantageously creates and manages a transport service interface socket, whereby the multimedia components directly exchange data through the transport service interface socket.","Advantageously, the chain controller monitors and controls the local resources required to process the given stream by using resource managers.","Further advantageously, a quality-of-service broker is provided for managing overall local resources by managing the whole set of streams via the chain controllers. Hereby, the quality-of-service broker can manage system-wide resources via resource controllers. The quality-of-service broker can control end-to-end-quality-of-service negotiation by using a session manager. Further advantageously, the quality-of-service broker includes further functionality for downloading plug-ins corresponding to a given version of a data model which cannot be handled by the application handler unit.","Hereby, the quality-of-service broker and the plug-ins are forming a quality-of-service broker cluster.","Advantageously, the application handler unit and the various instances of the chain controller are forming an application handler cluster. Hereby, the application handler cluster and the quality-of-service broker cluster are included in one open distributed processing capsule. Alternatively, the application handler cluster and the quality-of-service broker cluster are included in separate open distributed processing capsules. In the latter case, the application handler cluster being included in one open distributed processing capsule can be installed on a given local node and the quality-of-service broker cluster being included in separate open distributed processing capsules can be installed on a separate open distributed processing node, whereby a proxy quality-of-service broker is installed on the given local node.","The advantageous functionalities of the present invention are:\n\n","The following table 1 gives the definitions of terms used in the present description.",{"@attributes":{"id":"p-0030","num":"0037"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 1"},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Term","Definition"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Adaptation","Mechanisms altering the application behavior"]},{"entry":[{},"so much as to compensate any fluctuation and\/"]},{"entry":[{},"or even dramatic change in data transmission"]},{"entry":[{},"and\/or processing quality, based on some user"]},{"entry":[{},"requirements specifying said quality."]},{"entry":[{},"These mechanisms can be included in the appli-"]},{"entry":[{},"cation, or provided by some external entity"]},{"entry":[{},"(e.g. middleware)."]},{"entry":["Aspect Oriented","Aspect-oriented programming is a new"]},{"entry":["Programming","programming methodology that enables the"]},{"entry":[{},"modularization of crosscutting concerns. Many"]},{"entry":[{},"concerns are difficult to modularize using"]},{"entry":[{},"standard procedural or object-oriented tech-"]},{"entry":[{},"nology. Examples include:"]},{"entry":[{},"the exception handling policy for an entire"]},{"entry":[{},"system"]},{"entry":[{},"the protocol of interaction among a set of"]},{"entry":[{},"objects that collaborate to perform a larger task"]},{"entry":[{},"the synchronization constraints among groups"]},{"entry":[{},"of objects in a multi-threaded system"]},{"entry":[{},"performance optimizations like caching or"]},{"entry":[{},"specialization"]},{"entry":[{},"the mechanism that implements a security"]},{"entry":[{},"policy"]},{"entry":[{},"Quality of Service issues"]},{"entry":[{},"Instead of being well modularized, the code for"]},{"entry":[{},"these concerns tends to be spread out in many"]},{"entry":[{},"places across the system. We say that these"]},{"entry":[{},"concerns crosscut the system's modularity."]},{"entry":[{},"In practice, crosscutting concerns present a"]},{"entry":[{},"significant problem to developers. Because they"]},{"entry":[{},"are spread out, they are harder to find, change,"]},{"entry":[{},"or replace than well modularized concerns. A"]},{"entry":[{},"typical experience is that making a concep-"]},{"entry":[{},"tually simple change will require searching to"]},{"entry":[{},"find all the occurrences of a nearly identical"]},{"entry":[{},"code fragment. Unfortunately, the search"]},{"entry":[{},"doesn't usually find all of them on the"]},{"entry":[{},"first try, which leads to debugging problems."]},{"entry":[{},"A new unit of software modularity, called an"]},{"entry":[{},"aspect, appears to provide a better handle on"]},{"entry":[{},"managing crosscutting concerns. Like objects,"]},{"entry":[{},"aspects are intended to be used in both design"]},{"entry":[{},"and implementation. During design the concept"]},{"entry":[{},"of aspect facilitates thinking about cross-"]},{"entry":[{},"cutting concerns as well-defined entities."]},{"entry":[{},"During implementation, aspect-oriented"]},{"entry":[{},"programming languages make it possible to"]},{"entry":[{},"program directly in terms of design aspects,"]},{"entry":[{},"just as object-oriented languages have made it"]},{"entry":[{},"possible to program directly in terms of design"]},{"entry":[{},"objects [Xerox-PARC's Aspect Oriented"]},{"entry":[{},"Programming Web-Site: http:\/\/www.parc."]},{"entry":[{},"xerox.com\/csl\/projects\/aop\/]."]},{"entry":["Association 301","Any grouping of streams leading to a well de-"]},{"entry":[{},"fined logical destination endpoint (thereinafter"]},{"entry":[{},"the peer), used for enforcing time synchroniza-"]},{"entry":[{},"tion among the various grouped elements with"]},{"entry":[{},"respect to a reference one. A peer identifies an"]},{"entry":[{},"actor (which might be a called party in a con-"]},{"entry":[{},"versational service or a server in an information"]},{"entry":[{},"retrieval service), which can be represented by"]},{"entry":[{},"one or multiple transport protocol addresses"]},{"entry":[{},"(one for each individual stream). Associations"]},{"entry":[{},"can be prioritized, in order to let the QoS"]},{"entry":[{},"Broker 106 decide the best strategy for coping"]},{"entry":[{},"with QoS changes."]},{"entry":["Declarative Interface","Communications of the description of goals,"]},{"entry":[{},"facts, and relations between a service user and"]},{"entry":[{},"a service provider. The latter analyses the"]},{"entry":[{},"description and then does whatever is necessary"]},{"entry":[{},"to carry out the requested task. Said description"]},{"entry":[{},"does not directly specify what mechanisms the"]},{"entry":[{},"service provider shall use to carry out the given"]},{"entry":[{},"tasks."]},{"entry":["Adaptation Path","A list of alternative QoS contracts, each associ-"]},{"entry":[{},"ated with a specific set of altered conditions"]},{"entry":[{},"with respect to the reference QoS requirements"]},{"entry":[{},"originally specified by the user. This list is used"]},{"entry":[{},"by QoS Brokers in order to degrade (or up-"]},{"entry":[{},"grade) the QoS in a controlled manner."]},{"entry":["Elastic Application","Application featuring adaptation, either through"]},{"entry":[{},"some built in capabilities, or thanks to some"]},{"entry":[{},"external means. An application capable of"]},{"entry":[{},"dealing with mutated networking and com-"]},{"entry":[{},"puting conditions in a controlled manner."]},{"entry":["Quality of Service,","The collective effect of service performance"]},{"entry":["QoS","which determines the degree of satisfaction of a"]},{"entry":[{},"user of the service"]},{"entry":["QoS Broker 106","Software unit orchestrating local, remote, and"]},{"entry":[{},"network resources, in order to provide and"]},{"entry":[{},"maintain a given level of QoS, as requested by"]},{"entry":[{},"all the cooperating parties. More specifically,"]},{"entry":[{},"the QoS Broker coordinates resource manage-"]},{"entry":[{},"ment across the various software and hardware"]},{"entry":[{},"units used within the system. To this extent, the"]},{"entry":[{},"QoS Broker manages QoS parameter trans-"]},{"entry":[{},"lation, admission test, and negotiation. There-"]},{"entry":[{},"fore, the QoS Broker acts as an intermediary,"]},{"entry":[{},"dispensing cooperating entities from being"]},{"entry":[{},"aware of operational details concerning with"]},{"entry":[{},"other entities."]},{"entry":["QoS Context 205","Represents a collection of information and be-"]},{"entry":[{},"havior characteristics shared by a group of"]},{"entry":[{},"controllable entities like e.g. user subscriptions,"]},{"entry":[{},"SW applications, groups of telecommunication"]},{"entry":[{},"connections. QoS Contexts are associated with"]},{"entry":[{},"own QoS Contracts 504 and Adaptation Paths"]},{"entry":[{},"in order to enforce QoS constraints on all the"]},{"entry":[{},"grouped elements (the hereby-introduced con-"]},{"entry":[{},"cept of QoS-Synchronization). QoS Contexts"]},{"entry":[{},"can be prioritized, in order to let the QoS"]},{"entry":[{},"Broker 106 decide the best strategy for coping"]},{"entry":[{},"with QoS changes."]},{"entry":["QoS Contract 504","Agreement between a user and a given service"]},{"entry":[{},"provider, specifying QoS requirements and"]},{"entry":[{},"constraints, as well as the policies required to"]},{"entry":[{},"keep track about QoS during all phases of said"]},{"entry":[{},"service."]},{"entry":["QoS Contract Type 505","Represents a QoS Category: it captures the"]},{"entry":[{},"structure of a class of QoS Contracts, by identi-"]},{"entry":[{},"fying how individual QoS Contracts specify the"]},{"entry":[{},"QoS properties over a given set of QoS param-"]},{"entry":[{},"eter types (also known as dimensions in"]},{"entry":[{},"[S. Frolund, J. Koistinen, QML: A Language"]},{"entry":[{},"for Quality of Service Specification, HP-Lab"]},{"entry":[{},"Technical Reports, HPL-98-10, 980210"]},{"entry":[{},"(http:\/\/www.hpl.hp.com\/techreports\/98\/HPL-"]},{"entry":[{},"98-10.html)]. Each parameter type consists of"]},{"entry":[{},"a name and a domain of values. QoS specifi-"]},{"entry":[{},"cations can be simply intended as a set of con-"]},{"entry":[{},"straints over said domains, one per parameter"]},{"entry":[{},"type."]},{"entry":["QoS Specification","General term for identifying set of QoS param-"]},{"entry":[{},"eters and constraints specified by a user."]},{"entry":["QoS State 503","The association of a given QoS Context with a"]},{"entry":[{},"given QoS Contract, within the context of an"]},{"entry":[{},"adaptation path, modeled as a hierarchical FSM"]},{"entry":[{},"[G. Booch, J. Rumbaugh, I. Jacobson, The"]},{"entry":[{},"Unified Modeling Language User Guide,"]},{"entry":[{},"Addison Wesley Longman, 1999, ISBN 0-201-"]},{"entry":[{},"57168-4]. QoS States can be classified into"]},{"entry":[{},"Negotiable and Controllable QoS States, the"]},{"entry":[{},"difference being that formers are associated"]},{"entry":[{},"with actions that the peer QoS Brokers 106"]},{"entry":[{},"must negotiate upon."]},{"entry":["Streams 302","Model the continuous unidirectional flow of"]},{"entry":[{},"information."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},"The following table 2 gives a list of abbreviations used in the present description.",{"@attributes":{"id":"p-0032","num":"0039"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"168pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 2"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"AH","Application Handler"]},{"entry":[{},"API","Application Programming Interface"]},{"entry":[{},"ChC","Chain Controller"]},{"entry":[{},"COTS","Commercial Off-The-Shelf"]},{"entry":[{},"EPA","European Patent Application"]},{"entry":[{},"FSM","Finite State Machine"]},{"entry":[{},"GUI","Graphical User Interface"]},{"entry":[{},"HW","Hardware"]},{"entry":[{},"IP","Internet Protocol"]},{"entry":[{},"PDA","Personal Data Assistant"]},{"entry":[{},"QDL","Quality Description Languages"]},{"entry":[{},"QMe-","QoS- and Mobility-enabled Transport Service Interface"]},{"entry":[{},"TSI","[EP 00 111 191.3, hereby incorporated by reference]"]},{"entry":[{},"QML","QoS Modeling Language"]},{"entry":[{},"QoS","Quality of Service"]},{"entry":[{},"SW","Software"]},{"entry":[{},"UML","Unified Modeling Language"]},{"entry":[{},"XML","Extended Markup Language"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"As indicated in EP 00 111 191.3, hereby incorporated by reference, QoS-aware mobile multimedia applications  can be more easily and quickly developed by delegating QoS concerns to QoS Brokers  and by allowing the users to simply specify what type of networking connections shall be created, managed, and released, with respect to chosen QoS specifications.","With this type of thin applications , called application type D in EP 00 111 191.3, one can leverage component-based QoS middleware \/, which is able to adapt to violations of QoS contracts  on behalf of the applications . The component-based nature of such middleware allows modularity and extensibility.",{"@attributes":{"id":"p-0035","num":"0042"},"figref":"FIG. 1","b":["102","104","102","101","104"]},"The AH  creates for each unidirectional stream an instance of a Chain Controller (ChC)  and delegates the core QoS adaptation logic (including the interpretation of the aforementioned data model) to the QoS Broker  (cf. EP 00 111 191.3, hereby incorporated by reference), which in turn delegates stream-level QoS adaptation logic to the ChC's .","Each ChC  handles for the given stream both Data Plane and QoS Control Plane related issues. With respect to the latter, the ChC  compares the QoS requirements of the user with the actual values of monitored parameters , and configures a chain of multimedia components \/\/ accordingly. The ChC  monitors and controls the local resources required to process the given stream by using Resource Managers  (cf. EP 00 111 191.3). The ChC  creates and manages a QMe-TSI socket  (cf. EP 00 111 191.3), whereas said component chain \/\/ directly exchanges data through said socket .","The QoS Broker  manages the overall local resources by managing:\n\n","The QoS Broker  also deals with End-to-End QoS negotiation issues by using the Session Manager  abstraction for using whatever session layer protocol is available (e.g. SIP (cf. EP 00 111 191.3)).","The QoS Broker  can be extended to include additional functionality, by using the concept of QoS Broker plug-ins . Whenever the QoS Broker  determines that it is not able to deal with a given version of the API  data model (see \u00a7II.), the QoS Broker can (either autonomously or via user interaction) decide to download a plug-in corresponding to the given version of the data model.","The AH  and the various instances of ChC's  (along with their chains \/\/ and Resource Managers ) can be clustered together , according to the ISO Open Distributed Processing (ODP) engineering viewpoint concept of clusters.","Similarly, the QoS Broker  and its plug-ins  can be clustered together in a QoS Broker ODP cluster .","Applications  can thus be configured in various modes:\n\n","This modular architecture provides flexibility, insofar as it can enable various state of the art and future scenarios. The core QoS Broker  functionality can in fact be eventually embedded in the network (in a hierarchical structure of Network QoS Brokers), with Proxy QoS Broker located in the user's computing units and acting as agents on behalf of said Network QoS Brokers.","One should note that the user may be enabled to retrieve, customize, manage, and store personal policies\/preferences, through specific GUI like e.g. a QoS Broker GUI  and units like profile manager entities and profile databases. Such information shall capture for instance in an XML-document the description of the instance of the API Data Model (see next paragraph) that a user may want to later reuse.","II. API Data Model","This invention refines the information viewpoint described in EP 00 111 191.3, by introducing additional levels of abstractions, and by defining qualitatively the QoS-related aspects of each abstraction.",{"@attributes":{"id":"p-0047","num":"0059"},"figref":["FIG. 2","FIG. 3","FIG. 4","FIG. 5"],"b":"201"},"To this extent, this invention introduces the concept of Streams , QoS Context , and QoS Associations .","II.1 The Stream Concept","Streams  model the continuous unidirectional flow of information. Different types of streams may exists: audio, video, data, text, or any combination thereof. A given party may act as a pure stream source (i.e. it exclusively sends out information), as a pure stream sink (i.e. it collects streamed information from the other party), or as both source and sink (typical of a conversational mode).","Streams  can multiplex Layers , where each Layer enhancing incrementally the level of detail relative to the base information (carried by the so-called base layer). This means that adding Layers can progressively increase the level of detail of the base information. Example: MPEG-2.","The QoS Broker  uses the Stream  concept as the elemental unit of control while performing QoS provision and management tasks, but the QoS Broker can be also programmed to work:\n\n","A QoS Context  identifies an arrangement of QoS specifications that shall be enforced throughout a given set of Streams . In this way, the QoS Context  concept can be used for enforcing the aforementioned QoS-synchronization requirement throughout said set of streams. This means that whatever the QoS specification of each stream may be, the QoS Context forces a set of QoS constraints to be applied to the all streams belonging to said set.","For instance, electronic game applications and\/or media-rich interactive applications offer other examples of multi-streams applications, where bundles of audio and video streams are associated with objects to be presented to the user. For example, a moving and\/or rotating cube can be displayed on a monitor with its faces textured with images from video streams; and different audio streams, each associated with a cube face, can be played whenever the corresponding face is oriented to a certain direction.","To this extent, this type of applications shall be able to guarantee not only that related streams are played within given temporal relationships (time-synchronization), but also that the aggregate QoS experienced by the streams is not below a minimum threshold (QoS-synchronization).","For instance, just continuing the game application example, it could make no sense to have some facets of the cube being textured as black and white movies, and others as high quality color still images, even though the images were completely synchronized from a sheer temporal perspective. It would make more sense to have all facets displaying black and white movies, thus avoiding the pointless consumption of resources to get color images to the detriment of the frame rate at which said images would be displayed.","Of course the decision of what level of correlation should be enforced at QoS level among a set of streams is left to the developers'and even to the user's discretion.","Furthermore, QoS-synchronization can address QoS constraints that might need to be enforced on the QoS specifications of each Stream  belonging to the given QoS Context . Following the definitions set forth in [ITU-T Recommendation X.641 (12\/97) \u00a6 ISO\/IEC 13236:1998, Information Technology\u2014Quality of Service: Framework] QoS parameters (thereinafter, the QoS characteristics) identify measurable QoS-related quantities and can be further classified into generic, specialized, and derived ones:\n\n","Even derived QoS characteristics can be specialized the same way as with the generic ones. Therefore, specialization and derivations can be regarded as orthogonal transformations of QoS characteristics. However, it must be noted that derivation may involve more than one generic\/derived\/specialized QoS characteristic (e.g. availability is a function of reliability and maintainability).","QoS Contexts  can thus capture (in an associated QoS Contract ) also those QoS parameters derived from the QoS specifications of the Streams  that belong to said QoS Context. For example, the total amount of memory or the average bandwidth used by the given set of streams.","Finally, QoS Contexts  can also address specific QoS parameters that indirectly affect to all the underlying streams (e.g. system-level reliability issues). To sum up, QoS Contexts  deal with QoS-synchronization issues, and more specifically with:\n\n","The QoS Context  concept can be further refined in various ways. This invention presents a default model, which is considered to be sufficiently detailed to take into account the many aspects of the given problem domain. The QoS Broker Plug-in  concept, along with the specific introduction of QoS Contract Type  concepts, allow in any case the possibility to extend or even define alternative models.","The hereby-presented model includes three types of QoS Contexts : the User Context , the Application Context , and the Session Context .\n\n","By following the aforementioned logical relationships among user, applications, and sessions, any given Session Context  can be nested in an Application Context , and the latter can be nested in a User Context . This means that the QoS parameters of a given QoS Context  can be derived from those of nesting QoS Contexts , and\/or be indirectly applicable to the nested QoS Contexts .","Furthermore, each QoS Context  can be assigned a priority, which the QoS Broker  can use to determine the relative importance of siblings QoS Contexts, should some corrective actions required (e.g. preempt an application due to heavy load of the given computing unit).","Each QoS Context  can be associated with a Finite State Machine (FSM), as it will be described later.","II.3 The Association Concept","Streams  (and eventually Bi-directional Streams ) can be grouped by using various criteria. The basic stream-grouping concept can be abstracted in the Association  concept. The Association  is any type of user-specified grouping of unidirectional flows of information originating from the given computing unit and leading to a given peer party within the given session. Therefore the Association  shall include an identifier of said peer party (e.g. a URL, a phone number, a pair of IP address and TCP port number).","QoS Associations  define time-synchronization constraints on a multiplicity of related Streams , all originating from a terminal device and leading to the same endpoint.","Associations are mainly useful for representing bundles of Streams, which the QoS Broker  can handle as whole when trading off quality to resource availability among a multiplicity of equivalent bundles. To this extent, like for QoS Contexts  also Associations  can be assigned priorities, so as to allow the QoS Broker  to devise the best strategy for coping with a changed QoS scenario (e.g. dropping or degrading the quality of a whole Association ).","Each Association  can be further specialized in various types of Streams grouping. Similarly to the case of QoS Contexts, this invention presents a default model, which is considered to be sufficiently detailed to take into account the many aspects of the given problem domain. The QoS Broker Plug-in  concept, along with the specific introduction of QoS Contract Type  concepts, allow in any case the possibility to extend or even define alternative models.\n\n","The definition of these roles (with the exception of the Any Role ) is therefore reflecting the QoS Context model described in the previous paragraph. More specifically one can note that:\n\n","QoS Contexts  differ from QoS Associations  insofar as the formers specify QoS parameters that should be enforced throughout the whole set of Streams  belonging to one or multiple QoS Associations, as indicated in  (UML class diagram).","II.5 QoS- and Synchronisation-Specification Model",{"@attributes":{"id":"p-0072","num":"0104"},"figref":"FIG. 5","ul":{"@attributes":{"id":"ul0019","list-style":"none"},"li":{"@attributes":{"id":"ul0019-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0020","list-style":"none"},"li":["QoS specifications are modeled as QoS Contracts . QoS Contracts are instantiations of QoS Contract Types , which\u2014differently from the original QML specification\u2014are de facto used to catch multiple QoS Aspects . A QoS Aspect groups a certain number of QoS parameters related to a specific cross-cutting QoS concern (see definition of Aspect Oriented Programming in \u00a71.3). QoS Contract Types can be sub-typed and can be standardized, so that the QoS Broker  can interpret the semantics of a QoS Contract and decide whether it has enough capability to enforce such contract or not. In the latter case, the QoS Broker is designed to be able to eventually select and remotely access or download a component (i.e. QoS Broker Plug-in ), which is specifically designed to handle the given QoS Contract.","Time-synchronization is modeled by identifying a reference Stream  in a given Association , and by associating each Stream belonging to the given Association with Synchronization Information . The latter specifies the maximum delay and maximum jitter of a given Stream with respect to the reference Stream.","QoS-synchronization is modeled by defining for each QoS Context  a given QoS Contract ."]}}}},"The QoS Broker  shall ensure the consistency of the QoS Specifications with respect to both time- and QoS-synchronization constraints, and raise exceptions to the Application  (via the HA ) should any incongruity be detected.\n\n",{"@attributes":{"id":"p-0074","num":"0116"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"196pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"myContract = ReliabilityContractType contract {"]},{"entry":[{},"\u2002Reliability.numberOfFailures < 10 no\/year"]},{"entry":[{},"\u2002Reliability.availability {\/*NEW: marginal utility*\/"]},{"entry":[{},"\u2003utility 30 = 0.9"]},{"entry":[{},"\u2003utility 40 = 0.75"]},{"entry":[{},"\u2003utility 90 = 0.68"]},{"entry":[{},"\u2003utility 60 = 0.42"]},{"entry":[{},"\u2003utility 10 = 0.20"]},{"entry":[{},"\u2002}"]},{"entry":[{},"\u2002Performance.delay { \/*NEW: marginal utility*\/"]},{"entry":[{},"\u2003utility 20 < 150"]},{"entry":[{},"\u2003utility 80 == (150, 340]"]},{"entry":[{},"\u2003utility 0 > 340"]},{"entry":[{},"\u2002}"]},{"entry":[{},"\u2002Performance.throughput == (0.5, 4]\/*NEW: continuous"]},{"entry":[{},"\u2002interval *\/"]},{"entry":[{},"}"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"Based on the definitions set forth in the previous paragraphs, this invention ultimately proposes a data model that defines generic data containers for specifying application-specific QoS parameters, along with adaptation policies.","More specifically, adaptation policies shall identify well-defined adaptations of the basic QoS specification to a set of alternate degraded QoS specification (i.e. lower levels of QoS), in correspondence to well-defined sets of QoS changes, as monitored by the overall middleware \/ and the Resource Controllers  (cf. EP 00 111 191.3).","Due to the hierarchical structure of QoS Context  and Associations , which reflects the way such adaptation policies are structured, it is hereby envisioned that the right model to address this complex issue is to model policies as hierarchical Finite State Machines (FSM) [G. Booch, J. Rumbaugh, I. Jacobson, The Unified Modeling Language User Guide, Addison Wesley Longman, 1999, ISBN 0-201-57168-4].","Each State  of such hierarchical FSM uniquely identifies the one-to-one relationship between a given QoS Contract  and a QoS Context .","States  can be classified into two Types of States :\n\n","More specifically, Controllable States are yet another level of inner states embedded within the Negotiable States and are defined and used exclusively by the middleware \/ for handling the internal mechanisms associated with the use of the Multimedia Components , , .","Each Transition  of such hierarchical FSM describes a peculiar QoS change, which the system shall react to. The Transitions  are triggered whenever specific predicates (i.e. the comparison of values of Monitored Parameters  against QoS contracts statements) evaluate to true. Transitions  are associated eventually with high level Actions  (e.g. drop Streams \u2014Drop action \u2014or start new Stream\u2014Add action ). These actions can be eventually cause the AH  to generate events to the application  (e.g. the generation of an event to the user indicating a temporary out of service condition due to a hand-off occurrence). The AH enables the triggering of these events by inserting armed Triggers  in correspondence of given Transitions .\n\n","As aforementioned, Transitions  involving Controllable States  trigger only control mechanisms, which however are not specified through this Data Model (it is up to the QoS Broker  to figure out the correct action to take). This means that these Transitions are associated with QoS changes which do not force the operative point (i.e. the set of values of all the parameters specified in the given QoS Contract Type ) to move outside of the bounds set by the Negotiable States .","Differently from QDL [J. P. Loyall, et al., QoS Aspect Languages and their Runtime Integration, in Lecture Notes in Computer Science, Vol. 1511, Springer-Verlag], the specifications of the QoS Contract , States , Transitions , and the Actions  to be taken upon Transitions occurrence are de-coupled as indicated in . This introduces modularity and thus flexibility to the design: one can combine a given QoS Contract with different adaptation policies, and adaptation policies can be configured with different hierarchical FSMs. At the bottom of this hierarchical structure, named States and Transitions can be finally directly applied to individual Streams .","II.6.1 Negotiation of the Adaptation Path","So far only the negotiation of QoS Contracts  in specific QoS Contexts  and, eventually, of multimedia components (like e.g. codes) has been taken into account.","However, before ever going to that level of details, the various communicating peers using the mechanisms described in the previous paragraphs need to share a common knowledge of adaptation path, that is the structure of the hierarchical FSM must be agreed by all said communicating peers.","Also in this case negotiation schemes derived from those defined in [ITU-T Recommendation X.641 (12\/97)|ISO\/IEC 13236:1998, Information technology\u2014Quality of Service: Framework] can be used, whereby however the negotiated entity is not a parameter or a contract, rather the adaptation policies themselves. This means that the peers need to negotiate the various QoS Contracts  describing degraded levels of QoS along with the rules describing when and how transitions among the various degraded levels should occur.","This form of negotiation therefore implies the aforementioned ones: by negotiating the hierarchical FSM one necessarily has to negotiate also the individual Negotiable States  only.","The negotiation process typically involves an initiator and one or multiple responders, and can be performed in one shot or on an iterative basis [ITU-T Recommendation X.641 (12\/97)|ISO\/IEC 13236:1998, Information technology\u2014Quality of Service: Framework]. The initiator offers a bid to the responders, who examine it and return a counteroffer to the initiator. The latter collects the counteroffers and determines the one (if any) which satisfies the requirements of all the involved parties. Once such optimal counteroffer has been sorted out, the initiator sends it as a new bid to each responder. In an iterative scheme, the process could at this point restart, should one of the responder still do not accept the new bid. The iterative approach must however be constrained with an upper limit of iteration, and it is in any case quite complex and not efficient. Therefore this invention focuses only on the basic, non-iterative scheme.","The idea introduced in EP 00 111 191.3 basically consists in running a non iterative negotiation process at start-up time, i.e. when an initiator peer starts communicating with other peers (e.g. at session invitation time), with respect to adaptation paths. The initiator will propose a hierarchical FSM (i.e. a specific adaptation path), and each responder will validate the bid against its own adaptation policies, and respond accordingly with a counteroffer. This invention limits the scope of the counteroffers to the definition of a subset of the original bid (in order to limit the complexity level of the problem). This translates at responder level into:\n\n","One must note that whenever a new communicating peer joins a group of already communicating peers, the new peer act as initiator of a new negotiation process at Session Context level, following the same mechanisms described above. Furthermore, any ad hoc (i.e. not already taken into account in the negotiated adaptation path) creation, modification, or removal of QoS Contexts  and\/or Streams  after that the negotiation process has been successfully completed, would trigger once again a new instance of the negotiation process.","Since the negotiation process is quite expensive (and exactly for this reason the idea proposed in EP 00 111 191.3 is to limit it only at start-up time), successive re-negotiation as described above can cause inefficiencies. To this extent one must however note that:\n\n","Finally, one must note that the user her\/himself might deliberately cause a QoS change on an already running multimedia application, for example in order to increase or decrease the overall level of QoS, or some part of it only. This negotiation would reflect in a change in the QoS Contracts associated with the adaptation path, but could also reflect on the structure of adaptation path itself.\n\n","Said QoS Context  priority shall be able to be reassigned at run time, so that the user can choose (e.g. by moving the mouse cursor from one video stream window to another) which stream at any given time shall be assigned the highest share of total booked QoS Context resources. Continuing the aforementioned example, the video stream window selected by the user by pointing the mouse cursor onto it, will render the video content at the highest level of QoS possible, to the detriment of the other streams rendered on the other windows.","III. API Description","This invention proposes the definition of an API compliant with the definition of Interface Type D, as described in EP 00 111 191.3.","The main goal of this API is to enforce the model described in \u00a7II., in such a way that the underlying middleware \/ is able to leverage existing or new multimedia frameworks. By using COTS multimedia frameworks, the middleware can thus autonomously assemble and manage chains of multimedia components according to the QoS specifications and the measured levels of monitored QoS parameters.","The API shall therefore be based on an object model that reflects the aforementioned logical model. The following pseudo-code (written in Java-style), shows how an implementation of said API can look like, with respect to the creation, management, and disposal of communications links among QoS-aware peer applications.","To this extent two reference scenarios are taken into account: Interactive Service Scenario and Information-Retrieval Service Scenario. The former describes typical cases of multiparty communication like a videoconference. The latter focuses instead on cases of web-based audio\/video streaming like video on demand.","III.1 Interactive Service Scenario","The following pseudo-code snippet gives the idea of how an initiator can set up a videoconference with a set of parties. For the sake of simplicity, Layers  and Controllable States  are not addressed in this example.\n\n",{"@attributes":{"id":"p-0099","num":"0152"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"abstract public class Transition {"},{"entry":"\u2002private Hashtable monitors = new Hashtable( );"},{"entry":"\u2002private Hashtable actions = new Hashtable( );"},{"entry":"\u2002private QoSContractType contract;"},{"entry":"\u2002public Transition (QoSContractType contract) {"},{"entry":"\u2003this.contract = contract;"},{"entry":"\u2002}"},{"entry":"\u2002public void addMonitor(String name, Object monitorRef)"},{"entry":"\u2003monitors.put(name, monitorRef);"},{"entry":"\u2002}"},{"entry":"\u2002public boolean removeMonitor(String name, Object"},{"entry":"monitorRef)"},{"entry":"\u2003return (monitors.remove(name, monitorRef) != null);"},{"entry":"\u2002}"},{"entry":"\u2002public Object getMonitor(String name, Object monitorRef)"},{"entry":"\u2003return monitors.get(name, monitorRef);"},{"entry":"\u2002}"},{"entry":"\u2002public void addAction(String name, Object monitorRef)"},{"entry":"\u2003actions.put(name, monitorRef);"},{"entry":"\u2002}"},{"entry":"\u2002public boolean removeAction(String name, Object"},{"entry":"monitorRef)"},{"entry":"\u2003return (actions.remove(name, monitorRef) != null);"},{"entry":"\u2002}"},{"entry":"\u2002public Object getAction(String name, Object monitorRef)"},{"entry":"\u2003return actions.get(name, monitorRef);"},{"entry":"\u2002}"},{"entry":"\u2002abstract public boolean evaluate( );"},{"entry":"} \/* End of Transition *\/"},{"entry":"abstract class MonitoredParameter {"},{"entry":"\u2002private Object mon;"},{"entry":"\u2002abstract public Object getValue( );"},{"entry":"} \/* End of MonitoredParameter *\/"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"ul":{"@attributes":{"id":"ul0037","list-style":"none"},"li":{"@attributes":{"id":"ul0037-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0038","list-style":"none"},"li":"The users through a proper GUI (or the developer programmatically), shall first of all identify themselves with the system. This allows to either retrieve or create\/customize a user general service profile, specifying e.g. privileges, general preferences, quotas, etc. along with adaptation policies (e.g. how to react to a case when the user exceeds her\/his quota). This information is modeled as a User Context ."}}}},{"@attributes":{"id":"p-0100","num":"0154"},"tables":{"@attributes":{"id":"TABLE-US-00006","num":"00006"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"class MyQoSForUserContractType extends QoSContractType {"},{"entry":"\u2002public String privileges;"},{"entry":"\u2002public int quota;"},{"entry":"} \/* End of MyQoSForUserContractType *\/"},{"entry":"MyQoSForUserContractType userContract1 ="},{"entry":"\u2003new MyQoSForUserContractType(privilege, quota);"},{"entry":"MyQoSForUserContractType userContract2 ="},{"entry":"\u2003new MyQoSForUserContractType(less_privilege,"},{"entry":"less_quota);"},{"entry":"class NormToLowTransition extends Transition {"},{"entry":"\u2002private int down_hysteresis_threshold;"},{"entry":"\u2002public NormToLowTransition(MyQoSForUserContractType"},{"entry":"contract,"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"119pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"int down_hysteresis_threshold)"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"{"},{"entry":"\u2003super(contract);"},{"entry":"\u2003this.down_hysteresis_threshold = 1 \u2212"},{"entry":"down_hysteresis_threshold;"},{"entry":"\u2002}"},{"entry":"\u2002public boolean evaluate ( ) {"},{"entry":"\u2003MonitoredParameter mon;"},{"entry":"\u2003return ((mon = (monitors.get(\u201cquota\u201d) != null)) &&"},{"entry":"\u2003\u2003(mon.getValue( ).intValue() <="},{"entry":"\u2003\u2003(contract.quota * down_hysteresis_threshold)));"},{"entry":"\u2002}"},{"entry":"} \/* End of NormToLowTransition *\/"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}},"ul":{"@attributes":{"id":"ul0039","list-style":"none"},"li":{"@attributes":{"id":"ul0039-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0040","list-style":"none"},"li":"create transition NORMAL to LOW with 30% hysteresis threshold. The concept of hysteresis and the specification of monitors is totally application-specific"}}}},{"@attributes":{"id":"p-0101","num":"0156"},"tables":{"@attributes":{"id":"TABLE-US-00007","num":"00007"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"NormToLowTransition normToLow ="}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"new NormToLowTransition (userContract1,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"0.3);"},{"entry":"normToLow.addMonitor(\u201cquota\u201d, quota_monitor_ref);"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}},"ul":{"@attributes":{"id":"ul0041","list-style":"none"},"li":{"@attributes":{"id":"ul0041-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0042","list-style":"none"},"li":"build outermost FSM, with respect to the user: user1. For the sake of simplicity, only one transition is shown"}}}},{"@attributes":{"id":"p-0102","num":"0158"},"tables":{"@attributes":{"id":"TABLE-US-00008","num":"00008"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"UserContext user1 = ApplicationHandler.createUser(userName);"]},{"entry":[{},"user1.addState(NORMAL, userContract1);"]},{"entry":[{},"user1.addState(DEGRADED, userContract2);"]},{"entry":[{},"user1.addTransition(NORMAL, DEGRADED, normToLow);"]},{"entry":[{},"\/\/ Set initial state"]},{"entry":[{},"user1.setDefState(NORMAL);"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"ul":{"@attributes":{"id":"ul0043","list-style":"none"},"li":{"@attributes":{"id":"ul0043-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0044","list-style":"none"},"li":"Creates FSM associated with the Application Context "}}}},{"@attributes":{"id":"p-0103","num":"0160"},"tables":{"@attributes":{"id":"TABLE-US-00009","num":"00009"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"class MyQoSForApplicationContractType extends"},{"entry":"QoSContractType {"},{"entry":"\u2002public String privileges;"},{"entry":"\u2002public int sched_frequency;"},{"entry":"} \/* End of MyQoSForApplicationContractType *\/"},{"entry":"MyQoSForApplicationContractType applContract1 ="},{"entry":"\u2002new MyQoSForApplicationContractType (privilege, freq);"},{"entry":"MyQoSForApplicationContractType applContract2 ="},{"entry":"\u2002new MyQoSForApplicationContractType (more privilege,"},{"entry":"more_freq);"},{"entry":"class MedToMaxApplTransition extends Transition {"},{"entry":"\u2002private int up_hysteresis_threshold;"},{"entry":"\u2002public MedToMaxApplTransition(MyQoSForUserContractType"},{"entry":"contract,"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"91pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"int up_hysteresis_threshold) {"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2002super(contract);"},{"entry":"\u2002this.up_hysteresis_threshold = 1 +"},{"entry":"up_hysteresis_threshold;"},{"entry":"\u2002}"},{"entry":"\u2002public boolean evaluate ( ) {"},{"entry":"\u2003MonitoredParameter mon;"},{"entry":"\u2003return ((mon = (monitors.get(\u201cfreq\u201d) != null)) &&"},{"entry":"\u2003\u2003\u2003\u2003(mon.getValue() >= (contract.sched_frequency *"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"91pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"up_hysteresis_threshold)));"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2002}"},{"entry":"} \/* End of MedToMaxApplTransition *\/"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}},"ul":{"@attributes":{"id":"ul0045","list-style":"none"},"li":{"@attributes":{"id":"ul0045-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0046","list-style":"none"},"li":"create transition MEDIUM to MAXIMUM with 25% hysteresis threshold"}}}},{"@attributes":{"id":"p-0104","num":"0162"},"tables":{"@attributes":{"id":"TABLE-US-00010","num":"00010"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"MedToMaxApplTransition medToMaxApplTr ="}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"new"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"MedToMaxApplTransition(applContract1, 0.25);"},{"entry":"medToMaxApplTr.addMonitor(\u201cfreq\u201d, frequency_monitor_ref);"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}},"ul":{"@attributes":{"id":"ul0047","list-style":"none"},"li":{"@attributes":{"id":"ul0047-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0048","list-style":"none"},"li":"build inner FSM, with respect to the user: user and application: application. For the sake of simplicity, only one transition is shown"}}}},{"@attributes":{"id":"p-0105","num":"0164"},"tables":{"@attributes":{"id":"TABLE-US-00011","num":"00011"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"ApplicationContext application1 ="},{"entry":"\u2002ApplicationHandler.createApplication(applicationName);"},{"entry":"application1.addState(MEDIUM, applContract1);"},{"entry":"application1.addState(MAXIMUM, applContract2);"},{"entry":"application1.addTransition(MEDIUM, MAXIMUM, medToMaxApplTr);"},{"entry":"\/\/ Set initial state"},{"entry":"application1.setDefState(MEDIUM);"},{"entry":"\/\/ Nest this FSM into the outer"},{"entry":"ApplicationHandler.nest(user1.getState(NORMAL),"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"application1.getState(MEDIUM));"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"ApplicationHandler.nest(user1.getState(NORMAL),"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"application1.getState(MAXIMUM));"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}},"ul":{"@attributes":{"id":"ul0049","list-style":"none"},"li":{"@attributes":{"id":"ul0049-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0050","list-style":"none"},"li":"Creates FSM associated with the Session Context "}}}},{"@attributes":{"id":"p-0106","num":"0166"},"tables":{"@attributes":{"id":"TABLE-US-00012","num":"00012"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"class MyQoSForSessionContractType extends QoSContractType {"},{"entry":"\u2002public String privileges;"},{"entry":"\u2002public int total_bandwidth;"},{"entry":"} \/* End of MyQoSForSessionContractType *\/"},{"entry":"MyQoSForSessionContractType sessContract1 ="},{"entry":"\u2002new MyQoSForSessionContractType (privilege, bandwidth);"},{"entry":"MyQoSForSessionContractType sessContract2 ="},{"entry":"\u2002new MyQoSForSessionContractType (more_privilege, more"},{"entry":"bandwidth);"},{"entry":"class MedToMaxSessTransition extends Transition {"},{"entry":"\u2002private int up_hysteresis_threshold;"},{"entry":"public MedToMaxSessTransition(MyQoSForSessionContractType"},{"entry":"contract,"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"int up_hysteresis_threshold) {"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003this.up_hysteresis_threshold = 1 +"},{"entry":"up_hysteresis_threshold;"},{"entry":"\u2002}"},{"entry":"\u2002public boolean evaluate ( ) {"},{"entry":"\u2003MonitoredParameter mon;"},{"entry":"\u2003return ((mon = (monitors.get(\u201ctotal_BW\u201d) != null)) &&"},{"entry":"\u2003\u2003\u2003\u2003(mon.getValue( ).intvalue( ) >="},{"entry":"\u2003\u2003\u2003\u2003(contract.total_bandwidth *"},{"entry":"up_hysteresis_threshold)));"},{"entry":"\u2002}"},{"entry":"} \/* End of MedToMaxSessTransition *\/"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}},"ul":{"@attributes":{"id":"ul0051","list-style":"none"},"li":{"@attributes":{"id":"ul0051-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0052","list-style":"none"},"li":"create transition MEDIUM to MAXIMUM with 25% hysteresis threshold"}}}},{"@attributes":{"id":"p-0107","num":"0168"},"tables":{"@attributes":{"id":"TABLE-US-00013","num":"00013"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"MedToMaxSessTransition medToMaxSessTr ="}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"new"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"MedToMaxSessTransition(sessContract1, 0.25);"},{"entry":"medToMaxSessTr.addMonitor(\u201ctotal_BW\u201d, total_BW_monitor_ref);"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}},"ul":{"@attributes":{"id":"ul0053","list-style":"none"},"li":{"@attributes":{"id":"ul0053-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0054","list-style":"none"},"li":"build inner FSM, with respect to the user: user and application: application and session: session. For the sake of simplicity, only one transition is shown"}}}},{"@attributes":{"id":"p-0108","num":"0170"},"tables":{"@attributes":{"id":"TABLE-US-00014","num":"00014"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"SessionContext session1 ="}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"ApplicationHandler.createSession(priority);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"session1.addState(MEDIUM, sessContract1);"},{"entry":"session1.addState(MAXIMUM, sessContract2);"},{"entry":"session1.addTransition(MEDIUM, MAXIMUM, medToMaxSessTr);"},{"entry":"\/\/ Set initial state"},{"entry":"session1.setDefState(MEDIUM);"},{"entry":"\/\/ Nest this FSM into the outer"},{"entry":"ApplicationHandler.nest(application1.getState(MAXIMUM),"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"session1.getState(MEDIUM));"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"ApplicationHandler.nest(application1.getState(MAXIMUM),"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"session1.getState(MAXIMUM));"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}},"ul":{"@attributes":{"id":"ul0055","list-style":"none"},"li":{"@attributes":{"id":"ul0055-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0056","list-style":"none"},"li":"Creates a Per Session Role  Association  within the Session Context  session. The Association  identifies the peer: this means that an association should always be created to identify the peer of any given stream. Eventually, an association can be created for just one stream."}}}},{"@attributes":{"id":"p-0109","num":"0172"},"tables":{"@attributes":{"id":"TABLE-US-00015","num":"00015"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Association association1 ="]},{"entry":[{},"ApplicationHandler.createAssociation(calledPartyName,"]},{"entry":[{},"associationPriority);"]},{"entry":[{},"PerSessionRole role = new PerSessionRole(session1);"]},{"entry":[{},"association1.setRole(role);"]},{"entry":[{},"session1.addAssociation(association1);"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"ul":{"@attributes":{"id":"ul0057","list-style":"none"},"li":{"@attributes":{"id":"ul0057-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0058","list-style":"none"},"li":"Create a Stream : to this extent one has first to specify the transport address of the destination endpoint, the type of stream (audio, video, control, data) and the type of endpoint the initiator peer is acting as for such stream (stream source or stream sink). The stream must then be bound to the remote endpoint by specifying the association"}}}},{"@attributes":{"id":"p-0110","num":"0174"},"tables":{"@attributes":{"id":"TABLE-US-00016","num":"00016"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"182pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Stream stream1 ="]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"168pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"ApplicationHandler.createStream(calledParty"]},{"entry":[{},"Address,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"streamType,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"168pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"endPointType);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"association1.addStream(stream1);"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}},"ul":{"@attributes":{"id":"ul0059","list-style":"none"},"li":{"@attributes":{"id":"ul0059-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0060","list-style":"none"},"li":"Create FSM associated with a Stream  by specifying an adaptation path for the Stream itself."}}}},{"@attributes":{"id":"p-0111","num":"0176"},"tables":{"@attributes":{"id":"TABLE-US-00017","num":"00017"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"class MyQoSForStreamContractType extends QoSContractType {"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"public int frame_rate;"]},{"entry":[{},"public int image_quality;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}\/*End of MyQoSForStreamContractType *\/"},{"entry":"MyQoSForStreamContractType streamContract1 ="}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"new MyQoSForStreamContractType (fRate, imageQuality);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"MyQoSForStreamContractType streamContract2 ="}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"new MyQoSForStreamContractType (higher_FRate,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"more_ImageQuality);"},{"entry":"class MedToMaxStreamTrans extends Transition {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"private int up_hysteresis_threshold;"]},{"entry":[{},"public MedToMaxStreamTrans(MyQoSForSessionContractType"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"contract,"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"int up_hysteresis_threshold) {"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"this.up_hysteresis_threshold = 1 +"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"up_hysteresis_threshold;"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"}"]},{"entry":[{},"public boolean evaluate ( ) {"]},{"entry":[{},"MonitoredParameter mon;"]},{"entry":[{},"return ("]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"((mon = (monitors.get(\u201cframe_rate\u201d) != null)) &&"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"(mon.getValue( ).intValue( ) >="]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"(contract. frame_rate *"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"up_hysteresis_threshold)))"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"&&"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"((mon = (monitors.get(\u201cimage_quality\u201d) !="]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"null)) &&"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"(mon.getValue( ).intValue( ) >="]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"133pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"contract.image_quality))"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},");"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"} \/* End of MedToMaxStreamTrans *\/"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}},"ul":{"@attributes":{"id":"ul0061","list-style":"none"},"li":{"@attributes":{"id":"ul0061-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0062","list-style":"none"},"li":"create transition MEDIUM to MAXIMUM with 15% hysteresis threshold"}}}},{"@attributes":{"id":"p-0112","num":"0178"},"tables":{"@attributes":{"id":"TABLE-US-00018","num":"00018"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"182pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"MedToMaxStreamTrans medToMaxStrTr ="]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"168pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"new MedToMaxStreamTrans(streamContract1,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"0.15);"]},{"entry":[{},"medToMaxStrTr.addMonitor(\u201cframe_rate\u201d,"]},{"entry":[{},"frame_rate_monitor_ref);"]},{"entry":[{},"medToMaxStrTr.addMonitor(\u201cimage_quality\u201d,"]},{"entry":[{},"image_quality_monitor_ref);"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}},"ul":{"@attributes":{"id":"ul0063","list-style":"none"},"li":{"@attributes":{"id":"ul0063-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0064","list-style":"none"},"li":"create adaptation path for the stream: stream, that is build inner FSM, with respect to the user: user and application: application and session: session and stream: stream. For the sake of simplicity, only one transition is shown. This is the innermost FSM of the overall hierarchical FSM."}}}},{"@attributes":{"id":"p-0113","num":"0180"},"tables":{"@attributes":{"id":"TABLE-US-00019","num":"00019"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"stream1.addState(MEDIUM, sessContract1);"]},{"entry":[{},"stream1.addState(MAXIMUM, sessContract2);"]},{"entry":[{},"stream1.addTransition(MEDIUM, MAXIMUM, medToMaxStrTr);"]},{"entry":[{},"\/\/ Set initial state"]},{"entry":[{},"stream1.setDefState(MEDIUM);"]},{"entry":[{},"\/\/ Nest this FSM into the outer"]},{"entry":[{},"ApplicationHandler.nest(session1.getState(MEDIUM),"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"stream1.getState(MEDIUM));"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"ApplicationHandler.nest(session1.getState(MEDIUM),"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"stream1.getState(MAXIMUM));"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}},"ul":{"@attributes":{"id":"ul0065","list-style":"none"},"li":{"@attributes":{"id":"ul0065-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0066","list-style":"none"},"li":"Specify a Drop  action at session level for the transition medToMaxSessTr, with respect to stream: stream"}}}},{"@attributes":{"id":"p-0114","num":"0182"},"tables":{"@attributes":{"id":"TABLE-US-00020","num":"00020"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"medToMaxSessTr.addAction(\u201cdrop_stream\u201d, stream1);"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"ul":{"@attributes":{"id":"ul0067","list-style":"none"},"li":{"@attributes":{"id":"ul0067-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0068","list-style":"none"},"li":"Specify a Create  action at session level for the transition maxToMedSessTr (not shown above), with respect to association: association"}}}},{"@attributes":{"id":"p-0115","num":"0184"},"tables":{"@attributes":{"id":"TABLE-US-00021","num":"00021"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"medToMaxSessTr.addAction(\u201ccreate_association\u201d,"]},{"entry":[{},"association1);"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"ul":{"@attributes":{"id":"ul0069","list-style":"none"},"li":{"@attributes":{"id":"ul0069-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0070","list-style":"none"},"li":"Finally, activate the overall FSM. Additional QoS Contexts, Associations, and Streams can be later specified and activated. This however would imply a re-negotiation process."}}}},{"@attributes":{"id":"p-0116","num":"0186"},"tables":{"@attributes":{"id":"TABLE-US-00022","num":"00022"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"ApplicationHandler.activate(user1);"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"ul":{"@attributes":{"id":"ul0071","list-style":"none"},"li":{"@attributes":{"id":"ul0071-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0072","list-style":"none"},"li":["At this point the middleware has collected the information necessary to\n        \n        ","Synchronization issues: assumed that another Stream  stream has been defined similarly to stream, the following code snippet shows how the two streams can be synchronized within the context of the Association association"]}}}},{"@attributes":{"id":"p-0117","num":"0195"},"tables":{"@attributes":{"id":"TABLE-US-00023","num":"00023"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"SynchronizationInformation syncInfo1 = new"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"SynchronizationInformation(aLag,"]},{"entry":[{},"aJitter);"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"association1.setSyncReference(stream1);"]},{"entry":[{},"association1.synchronize(stream2, syncInfo1);"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}},"ul":{"@attributes":{"id":"ul0074","list-style":"none"},"li":{"@attributes":{"id":"ul0074-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0075","list-style":"none"},"li":"Ad hoc disposal of any QoS Context, Association, or Stream, i.e. any not a priori known decision of any of the involved parties, will be translate in instructions used for pruning the original hierarchical FSM. This operation, will trigger re-negotiations as necessary. Example:"}}}},{"@attributes":{"id":"p-0118","num":"0197"},"tables":{"@attributes":{"id":"TABLE-US-00024","num":"00024"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"association1.dispose(stream2);"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"ul":{"@attributes":{"id":"ul0076","list-style":"none"},"li":{"@attributes":{"id":"ul0076-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0077","list-style":"none"},"li":"Annunciation of any incoming request from a remote peer to establish communications will typically involve application-level actions or even user interactions (e.g. to specify whether to accept or not such request). This process is part of the negotiation process. To this extent, the Application  shall be able to catch any of such events generated by the middleware \/ through the API . Example:"}}}},{"@attributes":{"id":"p-0119","num":"0199"},"tables":{"@attributes":{"id":"TABLE-US-00025","num":"00025"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"ApplicationHandler.registerForAnnunciation(listener_ref);"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"ul":{"@attributes":{"id":"ul0078","list-style":"none"},"li":{"@attributes":{"id":"ul0078-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0079","list-style":"none"},"li":"To this extent, the Application  shall therefore be able to intercept annunciation events (inluding those indicating the request of disposal of given Streams) by implementing a specific event listener interface like:"}}}},{"@attributes":{"id":"p-0120","num":"0201"},"tables":{"@attributes":{"id":"TABLE-US-00026","num":"00026"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"public interface Annunciation {"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"public void newStream(NewStreamEvent);"]},{"entry":[{},"public void disposeStream(DisposeStreamEvent);"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"}"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}},"br":{}},"Substantially this scenario differs from the one described in the previous paragraph, insofar as in this case one of the peers will prepare a data model where all the possible details are already taken into account. This means that the adaptation path is static after the negotiation process is over. No new QoS Contexts, Associations, or Streams are created after start-up, unless described in the negotiated adaptation path (i.e. in the hierarchical FSM).","IV. The Main Advantageous Differences Between the Invention and State of the Art are the Following:",{"@attributes":{"id":"p-0122","num":"0203"},"tables":{"@attributes":{"id":"TABLE-US-00027","num":"00027"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"189pt","align":"left"}}],"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["ID","Subject","Description"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["1","Declarative Interface","Since this invention moves QoS adaptation issues to the"]},{"entry":[{},{},"middleware, applications get thin and simple."]},{"entry":[{},{},"The middleware can eventually be split between thin mobile"]},{"entry":[{},{},"client middleware and proxy solutions."]},{"entry":[{},{},"This invention allows the transparent use of various multimedia"]},{"entry":[{},{},"frameworks"]},{"entry":["2","Data Model","This data model can be used to implement document-based"]},{"entry":[{},{},"applications"]},{"entry":[{},{},"Addresses QoS adaptability combined with synchronization of"]},{"entry":[{},{},"streams originated by different sources."]},{"entry":["3","QoS-steered extensible","Allows retrieval of QoS Broker plug-ins and multimedia"]},{"entry":[{},"architecture","components at run-time, in an open manner, based on QoS"]},{"entry":[{},{},"constraints."]},{"entry":["4","QoS Contract","QoS Contract Types can be derived from pre-existing ones in a"]},{"entry":[{},"Sub-typing","hierarchical scheme, so that the middleware offering the"]},{"entry":[{},{},"hereby-described API can automatically grab components and"]},{"entry":[{},{},"plug-ins, based on the given QoS Contract Types or on any of"]},{"entry":[{},{},"the super-types of the latter."]},{"entry":["5","Modular architecture","Full code reuse, and delegation: scalable solution."]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}}}},"As indicated in , not only Applications Type D as defined in EP 00 111 191.3 can effectively and efficiently use this invention, but also enhanced web-browsers can benefit from this API. In fact, web-browser programs designed so as to use said API (either natively or through the use of a proper plug-in), can interpret XML documents describing the data model presented in \u00a7II.","In this way, application design is even more simplified to a simple document preparation, that is a fully declarative programming language.","Furthermore, Applications Type D can be even totally unaware of the Interface Type D, but still be QoS-aware (in the sense that these specific applications can still allow the use QoS-enabled communication links). This can be achieved by using an external QoS Broker GUI, a program that can be used to interactively establish and change QoS for registered applications. For more detail, please refer to EP 00 111 191.3, hereby incorporated by reference.","A statechart representing an example of instantiation of the hierarchical FSM is presented in , where QoS Contexts , ,  are put in evidence with respect to the States , , . For the sake of simplicity, each QoS Context is shown as associated with a unique instance of a FSM (e.g. the given User Context  is associated with only one hierarchical FSM, each state of which contains only one nested FSM). By using the concurrency concept of statecharts [G. Booch, J. Rumbaugh, I. Jacobson, The Unified Modeling Language User Guide, Addison Wesley Longman, 1999, ISBN 0-201-5718-4] one can easily model more complicated scenarios where, e.g. a user may have two applications running (for instance a videoconference one and a video-on-demand one) and each featuring its own hierarchical FSM.","At the lowest level of the hierarchical FSM are inner FSM features composed of only Controllable State , one within each QoS State associated with a given Stream.","Such FSM composed of only Controllable State can be either specified ad-hoc through the API  or can simply be general purpose ones used across the hierarchical FSM."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"p":["The present invention is explained in more detail in the following description in relation to the enclosed drawings, in which",{"@attributes":{"id":"p-0023","num":"0030"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0024","num":"0031"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0025","num":"0032"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0026","num":"0033"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0027","num":"0034"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0028","num":"0035"},"figref":"FIG. 6"}]},"DETDESC":[{},{}],"heading":"V. EXAMPLE"}
