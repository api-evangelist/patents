---
title: IPTV session management
abstract: A session management involves registering at least one IPTV application () in a registration table () so that the registration table () comprises at least a respective identifier of the IPTV applications (). The IPTV applications () are invokable at a set top box () and can be so-called embedded applications and/or browser-based applications. An event requiring the invocation of an IPTV application () at the set top box () is detected and triggers a look-up in the registration table (). The registration table () is, thus, used as source to indicate those IPTV applications that are potentially available and can be launched at the set top box (). One of the registered applications () and is launched for the purpose of handling the detected event.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08490143&OS=08490143&RS=08490143
owner: Telefonaktiebolaget L M Ericsson (publ)
number: 08490143
owner_city: Stockholm
owner_country: SE
publication_date: 20090422
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["TECHNICAL FIELD","BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["The present embodiments generally relates to Internet Protocol Television (IPTV), and in particular to session management in connection with IPTV.","IPTV is an emerging system where digital television and multimedia services are delivered to set top boxes present in a home environment using IP over a network infrastructure. Today, IPTV is most often associated with Video on Demand (VoD) and live TV services. However, IPTV can also provide Internet services, such as web access and Voice over IP (VoIP). Another feature of IPTV is the opportunity for integration and convergence with other multimedia services. This opportunity is affected mainly by the IP Multimedia Subsystem (IMS), providing an architectural framework for delivering IP multimedia serves in the IPTV environment. Such IMS-based services that can be used with the set top boxes include chats and different messaging services allowing IPTV users to communicate with each other.","Today, set top boxes are generally pre-equipped with IPTV-related applications that are to be invoked during IPTV sessions and include, for instance, audio players, video players, chat applications, etc. The set top boxes can further be enhanced by downloading such applications after installation at the set top boxes in the IPTV home network. In either case, the set top boxes are therefore mainly configured to effectively handle such locally installed applications, denoted embedded or native applications within the technical field. There is, though, a general need for handling other types of applications besides traditional embedded applications in the set top boxes. The set top boxes of today are, however, not configured to be able to handle such other types of applications in an efficient manner.","There is, thus, a need for a technique allowing set top boxes to handle and invoke also other types of applications besides embedded applications locally installed in the set top boxes. There is specially a need to enable identification of applications available at a set top box and can be invoked therein.","It is an objective to provide an efficient session management in an IPTV home network.","It is a particular objective to provide a technique for facilitating IPTV application selection and invocation in an IPTV session.","These and other objectives are met by embodiments as defined by the accompanying claims and further disclosed herein.","Briefly, a session managing method involves registering available IPTV-related applications in a registration table accessible to a set top box. These IPTV-related applications registered in the registration tables are applications that are available at the set top box and can be launched if necessary. The IPTV-related applications can be so called browser-based or web applications that are not installed in the set top box but rather run in a web browser. Alternatively, or additionally, the applications can be embedded applications that are installed in the set top box. The registration table preferably comprises as complete information set as possible of those IPTV-related applications that are either installed in the set top box or otherwise available as browser-based applications at the set top box.","The session managing method also comprises the detection of an IPTV-related event at the set top box requiring the invocation and activation of an IPTV-related application to handle the event. The registration table is then used as a look-up table by identifying those IPTV-related applications that are available for selection. Consequently, an IPTV-related application registered in the registration table is selected and preferably invoked at the set top box to manage the detected IPTV-related event.","Embodiments also relate to a session manager adapted for arrangement in a set top box. The session manager comprises an application register for registering IPTV-related applications available at the set top box in the registration table. An event detector is implemented for detecting any IPTV-related event requiring the invocation of an IPTV-related application. The event detector triggers an application selector implemented for selecting an IPTV-related application, which is registered by the application register and can be invoked to manage the event detected by the event detector.","The relevant IPTV-related event could be the reception of an unsolicited message or some other unplanned and unscheduled event that requires the activation of an IPTV-related application. A further non-limiting example is the need of a currently running IPTV-related application to activate another IPTV-related application to handle one or more tasks during an ongoing session.","The registration table of the embodiments constitutes an information source that allows a set top box and its included applications and functionalities to become aware of which IPTV-related applications are available at the set top box, in particular the so-called browser-based applications that are not locally installed in the set top box but run in a web browser. The registration table enables IPTV-related applications to activate and launch each other and further provides an efficient tool for handling unsolicited messages and other unexpected events that the set top box does not expect and consequently does not have any running and waiting application that are expecting the message or event.","Throughout the drawings, the same reference numbers are used for similar or corresponding elements.","Embodiments relates to the Internet Protocol Television (IPTV) and in particular to session management in an IPTV system or network.",{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 1","b":["1","2","2","2","2","70","50","1","70"]},"The media is generally available to the home network  through one or more IPTV providers  and access providers . The former represents the network-implemented entity that provides IPTV services to the user of the IPTV system, whereas the latter provides the actual transport and access to the provided services to the home network .","The global network  illustrated in  should merely be seen as an illustrative example of a global network portion of an IPTV system. Other network solutions comprising more or less network entities than the ones illustrated in the figure can alternatively be used without any impact on the teachings of the embodiments. For instance, in some networks a single operator or server can take the role of all or some of the functionalities; content provider , IPTV provider  and access provider .","The home network , sometimes denoted as residential network or consumer network, can, in some embodiments, be based on Ethernet or one of the existing wire home networking technologies, such as Home Phoneline Networking Alliance (HomePNA) or the Telecommunication Standardization Sector (ITU-T) G.hn standard, which provides a possibility of creating high-speed local area network using existing home wiring.","The devices - of the home network  are generally interconnected to the global network  through a gateway (GW)  providing an interface between the two networks , . This gateway  operates in a similar way to a router in terms of forwarding data from the home network , such as user generated IPTV service requests, to the global network  and forwarding data from the global network , such as IPTV services and associated media, to the home network .","The home network  may optionally comprise a Home IP Multimedia Subsystem (IMS) gateway (HIGA)  generally managing IMS termination and interworking within the home network . The HIGA  can consequently have a wired or wireless connection to one or more IMS-capable devices , , non-limitedly represented by a mobile telephone  and a computer\/laptop  in the figure.","The home network  further comprises one or more set top boxes (STB)  that are devices capable of processing and rendering the IPTV media. There is a vast number of different user equipment and user devices that can take the role of a set top box  in the home network . Some non-limiting examples include a decoder, computer, etc. having the capability of receiving media data from the IPTV provider  and gateway  and processing, i.e. decoding and rendering, the media data on an included or connected display screen . In contrast to traditional decoders and set top boxes in digital TV systems, in an IPTV system, the set top box  provides two-way communications on an IP network and allows for decoding streamed media. Also mobile devices, wirelessly communicating with the gateway , can operate as set top boxes according to the embodiments.","In the following, set top box  is used to denote any user equipment or device capable of being provided in a home network  and running applications for the purpose of providing IPTV services to one or more users and having functionality of processing IPTV-related media for display on a connected display screen , such as for the media form of video, images, text, etc., and\/or play back by a connected loudspeaker, such as for the media form of audio.","IPTV should be interpreted broadly to encompass multimedia services, such as television, video, audio, text, graphics, data delivered over IP based networks to user equipment in a home network, where local processing, i.e. rendering and\/or play back of the media is effected.","A set top box  generally comprises or is capable of running various IPTV-related applications providing IPTV services to the users. In traditional IPTV systems, these IPTV-related applications have mainly been in the form of embedded or native applications. Such embedded applications are locally installed in and run at the set top box . The set top box  can then be pre-equipped with such installed embedded applications or the application can be downloaded to the set top box  after installation in the home network . Examples of such embedded IPTV-related applications include chat applications, Electronic Program Guide (EPG) and Local Personal Video Recorder (IPVR) applications.","The trend in the field of IPTV is to complement or even possibly exchange the embedded applications with so called browser-based or web applications, often denoted as Declarative Application Environment (DAE) applications within the IPTV field. In clear contrast to an embedded application, a browser-based application is accessed via a web browser over a network, such as the Internet or an intranet. The browser-based application is generally a software application coded in a browser-supported language, such as HyperText Markup Language (HTML), JavaScript, Java, ECMAscript, etc. The browser-based application is reliant on a web browser to render the application executable.","A major advantage of browser-based applications over embedded applications is the ability to update and maintain the applications without distributing and installing software on each and every set top box  in the IPTV system.","Browser-based IPTV-related applications include, among others, chat applications and Network Personal Video Recorder (nPVR) applications.","Generally almost every IPTV application type can be provided both in the form of a browser-based application and as an embedded application. The latter type is typically pre-installed in the set top box and may originate from the manufacturer of the set top box or one of its partners. Browser-based applications generally have no connection to the manufacturer of the set top box but are rather more related to the IPTV service provider.","These varying types of IPTV-related applications put new demands on the set top boxes , in particular for cases where the same type of IPTV-related application, such as a chat application, can be available as an embedded application and as a browser-based application in the same set top box . Embodiments as disclosed herein effectively handle such challenges for the set top boxes .",{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 2","b":"1"},"IPTV-related applications registered in the registration table in step S are IPTV-related applications that can be invoked at the set top box to provide services to a user. Non-limiting examples of such IPTV-related applications include:\n\n","The above presented examples of application types are defined by the Open IPTV Forum, release , but should merely be seen as illustrative examples of IPTV-related applications as defined by the invention. Thus, also other types of embedded or browser-based (DAE) applications currently not defined by the Open IPTV Forum can also be used in connection with the embodiments.","An IPTV-related application can generally be invoked and run during an ongoing IPTV session. For instance, a user watching video during a VoD session can receive a chat message from one of his\/her friends during the VoD session. Alternatively, such a chat message could indeed be received and handled at the set top box outside an ongoing IPTV session by then starting a chat session, i.e. a new IPTV session, at the set top box.","The application registration in step S enters respective identifiers of the IPTV-related applications in the registration table. The registration table will consequently list the different IPTV-related applications that are available at the set top box, regardless of whether they are implemented locally in the set top box, i.e. embedded applications, or available in the form of browser-based applications.","The registration of the applications is advantageously conducted upon start up of the set top box or at least upon initiation of an IPTV session. Embedded applications are already present in the set top box and can consequently be registered in the registration table as a part of the firmware initialization sequence. Browser-based applications are only available once they are run in the browser environment. A registration thereof can consequently be performed by including a registration script in the initial web page, such as HTML\/ECMAScript page, of the accessed application.","In a preferred embodiment, step S is performed as a dynamic operation implying that the registration table is updated when new applications, in particular browser-based applications, become available or older applications are no longer available at the set top box. Thus, the registration table is preferably not a static list but is dynamically updated to reflect the current set of browser-based and embedded applications that can be invoked by the set top box.","In a particular embodiment, the application registration of step S can be conducted by an Open IPTV Terminal Function (OITF) Application Programming Interface (API) present in the step top box. In a functional language, the OITF API runs the function ID registerOITFApplication (OITFApplication) to register an IPTV-related application in the registration table. Each IPTV-related application can then be handled as a so-called OITFApplication object defined, in a particular embodiment, below.\n\n",{"@attributes":{"id":"p-0047","num":"0069"},"figref":"FIG. 3","b":["170","170"]},"Returning to , once at least one application has been registered in the registration table, this table can be used for managing an IPTV session as disclosed by steps S and S. The next step S detects an IPTV-related event requiring invocation or launching of an IPTV-related application at the set top box. Thus, the event detected in step S necessitates the activation of an inactive IPTV-related application or the launch or callback of an already active IPTV-related application at the set top box.","The detection in step S triggers the next step S that selects, based on and in response to the detected IPTV-related event, an IPTV-application using the registration table compiled in step S. The application selected in step S is, thus, one of the IPTV-related applications registered in the registration table in step S.","The detection of the IPTV-related event in step S consequently indicates the need for invoking an IPTV-related application at the set top box. In the prior art, the set top box had no indication of the different applications that were available for use on an IPTV-related event, in particular for an unsolicited or unexpected event. Furthermore, browser-based applications, possibly excluding a currently running browser-based application, would be unknown to the set top box. The prior art set top box were, in the case of a detected unsolicited event, limited to usage of any currently running IPTV-related application but had no information of any idle or inactive applications that could be invoked at the set top box.","The registration table of the embodiments solves these problems by providing a complete, relevant information source listing all active and inactive applications, preferably of both browser-based and embedded type, that can be invoked in response to the detected IPTV-related event. The registration table can, thus, be seen as a catalogue of available applications that can be selected to handle the IPTV-related event at the set top box. The particular application that is selected in step S can be a browser-based application or an embedded application, depending on the particular IPTV-related event and, as is further described herein, application and user preferences.","The IPTV-related application selected in step S based on the registration table is preferably invoked in the optional step S for the purpose of handling the detected IPTV-related event. The method then ends.",{"@attributes":{"id":"p-0053","num":"0075"},"figref":["FIG. 4","FIG. 2","FIG. 1"],"b":["2","1","10"]},"Unsolicited messages are typically IMS messages, such as chat requests or messaging services. These messages generally originate from another IPTV user that wants to initiate a communication session with the current user using the IPTV system.","A next step S extracts information in the form of application identifier from the unsolicited message, typically from the header portion thereof. This extracted information enables identification of the application type that should be invoked to process the message. The information useful as application identifier can, thus, be the previously described appid, icsi, iari and\/or messagetypes attributes. Other types of information that can be used for identifying an application, in particular for non-IMS applications, include the appName and type data fields mentioned above.","The extracted application identifier is then compared in step S to corresponding application identifiers and information present in the registration table. Preferably one or more registered applications suitable for processing the unsolicited message are identified and one of them is selected in step S of .","The registration table is consequently used as a look-up table in connection with reception of unsolicited messages or upon detection of other unsolicited IPTV-related events requiring the invocation of an IPTV-related application. The registration table therefore comprises all the information that is required in order to verify what IPTV-related applications are potentially available at the set top box and what application or which applications are suitable for handling the received unsolicited message or the detected IPTV-related event.","In some cases there might be a conflict between multiple registered IPTV-related applications that potentially could be invoked upon detection of an IPTV-related event. For instance and with reference to , a chat request might have been received at the set top box and consequently requires the launching of a chat-based IMS-application. With the set top box having the registration table  illustrated in , two such chat applications have previously been registered. A first application is an embedded application whereas the second one is a browser-based application. There is, thus, a conflict between two different IPTV-related applications that both could be invoked in order to handle the chat request. A similar situation can of course also arise if multiple embedded and\/or multiple browser-based applications are registered in the registration table  and these applications can be used to process a same IPTV-related event.","An embodiment solves this problem by introducing the previously mentioned invoker priority as a parameter or field in the registration table . The invoker priority can be regarded as policies or rules defining a preferred invocation order for multiple conflicting IPTV-related applications. Thus, if it is concluded that there are multiple available registered applications that could potentially be invoked in order to process a detected IPTV-related event, the invoker priorities for these applications are investigated and compared. The IPTV-related application meeting the requirements for invocation in response to the detected event and being most prioritized as determined from the comparisons of invoker priorities is then selected and invoked to handle the event.","Different types of invoker priorities can be used and are within the scope of the embodiments. For instance, simple numerical values in the form of integers can be used as illustrated in . In an embodiment, the lower the priority value, the higher priority the application has. Alternatively, more prioritized applications have higher priority values. As an example, a priority value of 0 could indicate low priority, 1 indicates medium priority and 2 indicates high priority. It is anticipated that at least two priority levels are preferably present, such as high versus low, although more than two different priority levels can indeed be used.","The invoker priorities for the registered IPTV-related applications can be determined according to various embodiments. In a first example, each application has a pre-defined default invoker priority that may be set by the manufacturer or distributor of the application. These default invoker priorities are then entered in the registration table  when registering the corresponding applications.","Alternatively, or in addition, the user of the set top box can set invoker priorities for at least some of the IPTV-related applications available through the set top box. The user can then choose which application that should be used for different types of IPTV-related event by giving higher priority to the preferred application or applications and\/or setting lower priority to less preferred applications.","The user-conducted setting or change of priorities can preferably be conducted any time to thereby give possibilities of changing previously set invoker priorities. In an embodiment, the user could be urged to give an invoker priority the first time an IPTV-application is launched or implemented in the set top box. The set priority value is then stored together with the other application specific information for the IPTV-related application. The user, though, preferably has the possibility, as mentioned above, to change previously set invoker priorities.","If an IPTV-related application does not have any default invoker priority and the user has not yet set any priority for the application, the IPTV-related application could be given a pre-defined invoker priority once registered in the registration table . Such pre-defined invoker priority preferably corresponds to a medium or low priority.","The registration table can not only be used in order to select IPTV-related application to be invoked upon reception of unsolicited messages and detection of other unplanned\/unscheduled IPTV-related events. A currently running IPTV-related application can use the registration table as an information source for finding a suitable application to launch in order to handle some of the processing in a current IPTV session. For instance, during an ongoing IPTV session displaying an electronic program guide to a user, audio media is required to be played out for the user. An audio player should thereby be invoked to handle this sub-process of the IPTV session. The EPG application can request information from the registration table in order to see whether any audio player has been registered and is therefore available at the set top box. An example could be to use the function Array of OITFApplication listOITFApplications( ) which returns an array of the registered IPTV-related applications. This array is reviewed and a suitable application is selected typically based on ID, appName, type, appid, icsi, iari and\/or messagetypes and launched, for instance by the following function Boolean launchOITFApplication(ID), which launches the application having the entered application identifier ID.","The registration table can even allow an embedded application to invoke or launch a browser-based application to perform certain tasks during an IPTV session. Correspondingly, a browser-based application can use the registration table to identify and launch embedded applications.","These features have up to now not been possible in the art as a currently running IPTV-related application has not been aware of any other IPTV-related applications that are available and can be activated and invoked at the same set top box.",{"@attributes":{"id":"p-0068","num":"0090"},"figref":["FIG. 5","FIG. 2"],"b":["4","20","20"]},{"@attributes":{"id":"p-0069","num":"0091"},"figref":"FIG. 6","b":["50","50","52","52","52","50","54","50","56","50"]},"A session manager  of an embodiment is implemented in the set top box  for managing the registration table  that is being stored in a connected memory . The operation of this session manager  is further described in connection with .",{"@attributes":{"id":"p-0071","num":"0093"},"figref":"FIG. 6","b":"50"},"The units  and  of the set top box  may be implemented in hardware, software or a combination of hardware and software.",{"@attributes":{"id":"p-0073","num":"0095"},"figref":["FIG. 7","FIG. 3"],"b":["100","100","110","100","100","110","110"]},"An event detector  is preferably present in the session manager  for the purpose of detecting an IPTV-related event requiring invocation of an IPTV-related application at the set top box. This detected event can advantageously be the reception of an unsolicited message from a global network connected to the home network comprising the set top box and the session manager . A further example is the detection of the need of a currently running IPTV-related application for launching another IPTV-related application during an ongoing session. The event detector  triggers an application selector  to look-up the registration table maintained by the application register  in order to select a registered IPTV-related application that can be invoked in order to handle the detected IPTV-related event.","An optional but preferred application invoker or launcher  is provided for invoking the IPTV-related application selected by the application selector  among the once registered in the registration table.","The session manager  optionally comprises an identifier extractor  arranged for processing unsolicited messages. The identifier extractor  in particular extracts an application identifier or any other information from the unsolicited message that can be used for the purpose of identifying a suitable IPTV-related application to invoke to handle the unsolicited message. The extracted application identifier is forwarded to an optional identifier comparator  implemented for comparing the extracted application identifier with corresponding identifiers or information present in the registration table. The application selector  identifies and selects the IPTV-related application from the registration table based on the comparison conducted by the identifier comparator .","The application register  preferably comprises or is connected to a priority register  arranged for registering invoker priorities for the IPTV-related applications in the registration tables. The priority register  conducts this registration based on input information, such as user input manually entered by the user by means of a suitable input device of or connected to the set top box, e.g. a remote control, a key board, a mouse, a touch sensitive screen, etc. Alternatively, or in addition, IPTV-applications can have associated default invoker priorities in the descriptive information relating to the applications. The priority register  then fetches the information there from and enters it in the registration table. Additionally, if no input information is available for an IPTV-related application, the priority register  can be pre-configured to set a pre-defined invoker priority value to that particular application.","The entered invoker priorities are used by the application selector  in the case of multiple alternative applications that could be invoked in response to an IPTV-related event detected by the event detector  as previously described.","The units  to  of the session manager  may be implemented in hardware, software or a combination of hardware and software. The units  to  may all be implemented in the IPTV session manager . Alternatively, a distributed implementation with at least one of the units provided elsewhere in the set top box comprising the IPTV session manager  is also possible.","For a software implemented embodiment, the session managing functionality may be embodied on a computer-readable medium or memory, such as a hard drive of a computer or other set top box, ROM, RAM.","The embodiments described above are to be understood as a few illustrative examples of the present invention. It will be understood by those skilled in the art that various modifications, combinations and changes may be made to the embodiments without departing from the scope of the present invention. In particular, different part solutions in the different embodiments can be combined in other configurations, where technically possible. The scope of the present invention is, however, defined by the appended claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The embodiments, together with further objects and advantages thereof, may best be understood by making reference to the following description taken together with the accompanying drawings, in which:",{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 7"}]},"DETDESC":[{},{}]}
