---
title: System and method for feature based message routing in a dynamic modular system architecture
abstract: A flexible, extensible, and dynamically configurable Advanced IP Messaging Server (AIMS) facility that among other things may leverage various pools of data—including for example routing data, location and presence data, Mobile Subscriber profile data, etc.—to expeditiously process and route, through the use of among other things Feature Tags, a wide range of information including among other things conventional Short Message Service, Multimedia Message Service, IP Multimedia Subsystem, etc. messaging; E-Mail messaging; Instant Messaging communications; Voice Over IP and other (e.g., video conference, etc.) data streams; Session Initiation Protocol-addressed artifacts; etc.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08914447&OS=08914447&RS=08914447
owner: Sybase 365, Inc.
number: 08914447
owner_city: Reston
owner_country: US
publication_date: 20110517
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"p":["This patent application claims the benefit of U.S. Provisional Patent Application Ser. No. 61\/345,758, filed on 18 May 2010, which is herein incorporated by reference in its entirety.","A portion of the disclosure of this patent document contains material which is subject to copyright protection. The copyright owner has no objection to the facsimile reproduction by anyone of the patent document or the patent disclosure as it appears in the Patent and Trademark Office patent file or records, but otherwise reserves all copyright rights whatsoever.","Computer Program Listing Appendix under Sec. 1.52(e): This application includes a transmittal under 37 C.F.R. Sec. 1.52(e) of a Computer Program Listing Appendix. The Appendix, which comprises text file(s) that are IBM-PC machine and Microsoft Windows Operating System compatible, includes the below-listed file(s). All of the material disclosed in the Computer Program Listing Appendix can be found at the U.S. Patent and Trademark Office archives and is hereby incorporated by reference into the present application.\n\n","1. Field of the Invention","The present invention relates generally to telecommunications services. More particularly, the present invention relates to capabilities that enhance substantially the value and usefulness of various communication paradigms including, inter alia, Short Message Service (SMS), Multimedia Message Service (MMS), Internet Protocol (IP) Multimedia Subsystem (IMS), Wireless Application Protocol (WAP), Electronic Mail (E-Mail), Instant Messaging (IM), etc.","2. Background of the Invention","As the \u2018wireless revolution\u2019 continues to march forward through various flavors of 2G, 3G, 4G, and beyond, the importance to a Mobile Subscriber (MS)\u2014for example a user of a Wireless Device (WD) that is serviced by possibly inter alia a Wireless Carrier (WC)\u2014of their WD grows substantially. Examples of WDs include, possibly inter alia, mobile telephones, handheld computers, Internet-enabled phones, pagers, radios, TVs, audio devices, car audio (and other) systems, recorders, text-to-speech devices, bar-code scanners, net appliances, mini-browsers, personal data assistants (PDAs), etc.","One consequence of such a growing importance is the resulting ubiquitous nature of WDs\u2014i.e., MSs carry them at almost all times and use them for an ever-increasing range of activities. For example, MSs employ their WDs to, possibly inter alia.","1) Exchange messages with other MSs (e.g., \u201cLet's meet for dinner at 6\u201d) through Peer-to-Peer, or P2P, messaging.","2) Secure information (such as, for example, weather updates, travel alerts, news updates, sports scores, etc.), participate in voting initiatives (such as, for example, with the television show American Idol\u00ae), interact with social networking sites, etc. through various of the available Application-to-Peer, or A2P, based service offerings.","3) Engage in Mobile Commerce (which, broadly speaking, encompasses the buying and selling of merchant-supplied products, goods, and services through a WD) and Mobile Banking (which, broadly speaking, encompasses performing various banking activities through a WD).","Coincident with the rapid growth of WDs has been the desire of WCs, and other entities within a mobile ecosystem, to offer to MSs a continuing stream of new and interesting products and services that, possibly inter alia, attract new MSs and retain existing MSs, leverage or exploit the continually increasing features and capabilities of new WDs, incrementally increase the volume of messaging traffic (and the revenue that is associated with same) that flows through a mobile ecosystem, etc.","Implementation of the various product\/service offerings that were referenced above may raise a host of processing, routing, performance, billing, etc. issues which an existing telecommunication infrastructure, which may have originated during the days of voice-only landline communication and which may have evolved incrementally over time to handle aspects of wireless communication, may be incapable of handling and which, as a consequence of the resulting void, may impact or preclude the delivery of such products or services.","Aspects of the present invention fills the lacuna that was noted above by (1) providing enhanced communication processing capabilities through among other things an Advanced IP Messaging Server (AIMS) facility that among other things may leverage various pools of data (e.g., routing data, location and presence data, MS profile data, etc.) to expeditiously process and route a wide range of information (including conventional SMS, MMS, etc. messaging; Voice Over IP [VoIP] and other data streams; Session Initiation Protocol [SIP]-addressed artifacts; etc.) while (2) addressing, in new and innovatory ways, various of the not insubstantial challenges that are associated with same.","In one embodiment of the present invention there is provided a server-based method for directing a quanta of data towards a WD of a MS that includes possibly among other things (1) receiving the quanta of data at a gateway, the quanta of data comprising an originating indicia, a destination indicia, and a content, and (2) performing a plurality of processing steps including at least creating an Internal Message Object (IMO), characterizing aspects of the quanta of data, generating one or more Feature Tags (based on at least an indicator of the type of the quanta of data, an indicator of the size of the quanta of data, a version number, the originating indicia, and the destination indicia), and preserving aspects of the Feature Tags in the IMO.","In another embodiment of the present invention there is provided a processor-based system on a server for directing a quanta of data towards a WD of a MS that includes possibly among other things (1) a gateway configured to receive the quanta of data (the quanta of data comprising an originating indicia, a destination indicia, and a content) and (2) workflow modules configured to perform various processing steps including at least creating an IMO, characterizing aspects of the quanta, generating one or more Feature Tags (based on at least an indicator of the type of the quanta of data, an indicator of the size of the quanta of data, a version number, the originating indicia, and the destination indicia), and preserving aspects of same in the IMO.","These and other features of the embodiments of the present invention, along with their attendant advantages, will be more fully appreciated upon a reading of the following detailed description in conjunction with the associated drawings.","It will be understood that the drawings depict embodiments of the invention. Variations of these embodiments will be readily apparent to persons skilled in the relevant art(s) based on the teachings contained herein.","In the discussion below aspects of AIMS (see for example ) are described and illustrated as residing within a centrally-located, full-featured MICV facility. Reference is made to U.S. Pat. No. 7,154,901 entitled \u201cINTERMEDIARY NETWORK SYSTEM AND METHOD FOR FACILITATING MESSAGE EXCHANGE BETWEEN WIRELESS NETWORKS,\u201d and its associated continuations, for a discussion of the concept of a MICV, a summary of various of the services\/functions\/etc. that may be performed by a MICV, and a discussion of the numerous advantages that may arise from same.","In the discussion below aspects of AIMS are described and illustrated as being offered by a Service Provider (SP). A SP may, for example, be realized through any combination of, possibly inter alia, any one or more of (1) an element of a WC, an element of a landline carrier, an element of a MICV, or multiple such elements working together; (2) a Third-Party (3P) such as possibly inter alia a merchant, a Content Provider (CP, such as for example a news organization, an advertising agency, a brand, etc.), or a financial institution; (3) multiple 3P entities working together; (4) a 3P service bureau; etc.","As illustrated in  and reference numeral , under one particular arrangement a MICV  is disposed between, possibly inter alia, multiple WCs (WC, WC\u2192WC) and multiple SPs (SP\u2192SP) and thus \u2018bridges\u2019 all of the connected entities. A MICV  thus, as one simple example, may offer various routing, formatting, delivery, value-add, etc. capabilities that provide, possibly inter alia:","1) A WC \u2192 (and, by extension, all of the MSs \u2192, \u2192, \u2192 that are serviced by the WC \u2192) with ubiquitous access to a broad universe of SPs \u2192 (and other entities that nay be connected to the MICV), and","2) A SP \u2192 (and other entities that may be connected to the MICV) with ubiquitous access to a broad universe of WCs \u2192 (and, by extension, to all of the MSs \u2192, \u2192, \u2192 that are serviced by the WCs \u2192).","Generally speaking a MICV may have varying degrees of visibility (e.g., access, etc.) to the (MS\u2190\u2192MS, MS\u2190\u2192SP, etc.) messaging traffic:","1) A WC may elect to route just their out-of-network messaging traffic to a MICV. Under this approach the MICV would have visibility (e.g., access, etc.) to just the portion of the WC's messaging traffic that was directed to the MICV by the WC.","2) A WC may elect to route all of their messaging traffic to a MICV. The MICV may, possibly among other things, subsequently return to the WC that portion of the messaging traffic that belongs to (i.e., that is destined for a MS of) the WC. Under this approach the MICV would have visibility (e.g., access, etc.) to all of the WC's messaging traffic.","For purposes of illustration,  and reference numeral  depict a possible logical implementation of aspects of a MICV  under one particular arrangement. The figures depict among other things Gateways ( and  that for example provide information\/data receipt and dispatch capabilities across possibly inter alia different application-level communication protocols), Queues ( and  that for example provide interim storage and buffering capabilities), a Message Highway (MH , that for example provides interconnection capabilities), and MPEs \u2192.",{"@attributes":{"id":"p-0061","num":"0062"},"figref":"FIG. 3","b":["300","302","304","314","306","316","310","320","308","318","312","322","326"],"sub":["1 ","a ","1 ","b ","1 ","d ","1 ","c ","1 ","e "]},"A dynamically updateable set of one or more Receivers (Rx\u2192Rx in the diagram) \u2018get\u2019 messages from a MICV MH and deposit them on an intermediate or temporary Queue (Q\u2192Q in the diagram) for subsequent processing.","A dynamically updateable set of one or more Queues (Q\u2192Q and Q\u2192Q in the diagram) operate as intermediate or temporary buffers for incoming and outgoing messages.","A dynamically updateable set of one or more WorkFlows (WorkFlow\u2192WorkFlow in the diagram) remove incoming messages from an intermediate or temporary Queue (Q\u2192Q in the diagram), perform all of the required operations on the messages, and deposit the processed messages on an intermediate or temporary Queue (Q\u2192Q in the diagram). The WorkFlow component will be described more fully below.","A dynamically updateable set of one or more Transmitters (Tx\u2192Tx in the diagram) remove processed messages from an intermediate or temporary Queue (Q\u2192Q in the diagram) and \u2018put\u2019 the messages on a MICV MH.","An Administrative Engine  provides a linkage to all of the different components of a MPE so that a MPE, along with all of the different components of a MPE, may be fully and completely administered or managed .","While portions of the discussion below will reference a MICV, it will be readily apparent to one of ordinary skill in the relevant art that numerous other arrangements are equally possible and indeed are fully within the scope of the present invention.","Under one possible implementation paradigm aspects of an AIMS environment may be physically realized through the Java-based OSGi dynamic component model (see for example ). Under such an approach various of the aspects of the present invention may be realized through possibly inter alia one or more of the following components (see for example ):","1) Process Bundle\u2014e.g., an executable entity that supports some processing activity such as inter alia routing, billing, reporting, etc.","2) Service Bundle\u2014e.g., an aggregation of application-level services that may be realized (implemented) through other bundles.","3) Object Bundle\u2014e.g., a set of Java classes that may be accessed or leveraged by other bundles.","4) System Bundle\u2014e.g., a collection that offers core or key services.","For purposes of illustration, under such a paradigm  illustrates the possible interaction or collaboration between a hypothetical collection of bundles that might take place during the processing of a SIP-based SMS message that is dispatched to a legacy platform (SMS Exchange\/MMS Exchange) for final delivery.","Under different implementation paradigms the \u2018boundary\u2019 between various AIMS components may be realized through possibly inter alia queues (e.g., in-memory, via disk drives, etc.), through shared memory regions, through files, through application-level communication protocols, etc. and information may be passed across such boundaries as possibly inter alia proprietary data structures, Java Message Service (JMS) messages or objects, etc.","In portions of the discussion below reference is made to messages that are sent, for example, between a MS and a SP. As set forth below, a given \u2018message\u2019 sent between a MS and a SP may actually comprise a series of steps in which the message is received, forwarded and routed between different entities, including possibly inter alia a MS, a WC, a MICV, and a SP. Thus, unless otherwise indicated, it will be understood that reference to a particular message generally includes that particular message as conveyed at any stage between an origination source, such as for example a MS, and an end receiver, such as for example a SP. As such, reference to a particular message generally includes a series of related communications between, for example, a MS and a WC; a WC and a MICV; a MICV and a SP; etc. The series of related communications may, in general, contain substantially the same information, or information may be added or subtracted in different communications that nevertheless may be generally referred to as a same message. To aid in clarity, a particular message, whether undergoing changes or not, is referred to by different reference numbers at different stages between a source and an endpoint of the message.","Aspects of AIMS may \u2018plug into\u2019 different layers\/levels of legacy, current, and\/or future technology and among other things may for example facilitate interoperation between such technologies. For example, looking just at an IMS context:","1)  and reference numeral  illustrate IMS' three logical planes:","a) Services Plane . For example, one or more Application Server (AS) instances , Billing facilities , Reporting facilities , etc.","b) Control Plane . For example, a Home Subscriber Server (HSS) capability , a Call Session Control Function (CSCF) capability , one or more Media Gateway (MG) instances , etc.","c) Network or Transport Plane . Support, interfaces, etc. for, possibly inter alia, VoIP , WiFi , Public Land Mobile Network (PLMN) , Public Switched Telephone Network (PSTN) , etc.","2)  and reference numeral  depict how the different functional elements of an entity (e.g., carriers such as C\u2192C, etc.) within an IMS ecosystem may plug in to AIMS' single access\/connection point \u2014e.g., elements of carrier Ca's  Control Plane and Network or Transport Plane may plug in to AIMS' single access\/connection point \u2192, elements of carrier Cb's  Services Plane may plug into AIMS' single access\/connection point . Similar access points may be realized at \u2192.","3)  and reference numeral  illustrate how the single access\/connection point  serves much like a fa\u00e7ade, behind which connected entities (e.g., carriers such as C\u2192C, etc.) may access one or more of the virtual implementations of IMS' logical planes \u2192.","Thus, for example, as a carrier's environment grows and changes, as a carrier's business needs and models change and evolve, as a carrier deploys new service offerings, etc. it can, possibly among other things, plug into (and thus take advantage of the features and functions that are offered by) different combinations of the virtual implementations of IMS' logical planes all through the single access\/communication point.","Additionally, placing the virtual planes behind a single fa\u00e7ade allows for, possibly among other things, ongoing and dynamic changes, updates, etc. to the physical implementation of a plane without any impact on, or interruptions to, any of the connected entities.","4)  and reference numeral  depict one particular IMS-centric arrangement that is possible through aspects of the present invention\u2014Networks A , B , and C  represent hypothetical IMS-enabled or IMS-capable carriers; Network D  represents a hypothetical non-IMS-enabled carrier that offers, possibly inter alia, MMS services; and Network E  represents a hypothetical fixed (e.g., landline) carrier that offers, possibly inter alia, Digital Subscriber Line (DSL) services. AIMS  may among other things tie together the different (disparate, natively incompatible, etc.) environments. The depicted arrangement is illustrative only and it will be readily apparent to one of ordinary skill in the relevant art that numerous other arrangements are easily possible and indeed are fully within the scope of the present invention.","Central to the operation of AIMS is the unit of information within AIMS that is received, manipulated or otherwise operated on, dispatched, etc. Unlike prior environments that might operate just on, and thus potentially be limited just to, a SMS message or a MMS message, the unit of information within AIMS is a more general quanta of data. Accordingly AIMS is natively capable of operating on inter alia an SMS message, a MMS message, an IMS message, an E-Mail message, a VoIP data stream, IM data, a video conference data stream, etc.","Within AIMS a flexible, extensible, and dynamically configurable IMO (see for example  and ) may be employed as an internal representation of a received quanta of data. An IMO ( and ) may logically contain possibly inter alia one or more headers ( and ), a body ( and ), etc. within which for example aspects of a received quanta of data may be preserved (\u2192 and \u2192). An IMO may physically be realized through any combination of possibly inter alia proprietary data structures, JMS messages or objects, flat files, database entries, in-memory constructs, etc.","For purposes of illustration, within an SMS context AIMS may support the receipt and dispatch of information through possibly inter alia Short Message Peer-to-Peer (SMPP) via Transmission Control Protocol (TCP)\/IP and Mobile Application Part (MAP) via SS7. Under such a context:","1)  and reference numeral  depict an exemplary incoming SMS message received via for example SMPP with for example the data elements associated with the SMS message \u2192 encapsulated within a SMPP Protocol Data Unit (PDU 2) encapsulated within a TCP Segment  encapsulated within an IP Packet .","2)  and reference numeral  depict an exemplary incoming SMS message received via for example MAP with for example the data elements associated with the SMS message encapsulated within a Message Signal Unit (MSU )","3)  and reference numeral  depict a hypothetical IMO  that is possible in support of an SMS message received via for example SMPP, and","4)  and reference numeral  depict a hypothetical IMO  that is possible in support of an SMS message received via for example MAP.","It will be readily apparent to one of ordinary skill in the art that numerous alternative arrangements, in connection with for example different contexts (such as inter alia MMS, VoIP, etc.) and different communication protocols, are easily possible.","AIMS includes among other elements a vertically and horizontally scalable Protocol Engine (PE) layer (see for example reference point  in ) through which information may be received and\/or transmitted using any combination of one or more of the supported communication protocols including inter alia SS7, TCP\/IP, User Datagram Protocol (UDP)\/IP, Really Simple Syndication (RSS), SMPP, Simple Mail Transfer Protocol (SMTP), HyperText Transfer Protocol (HTTP), Extensible Messaging and Presence Protocol (XMPP), MM4, MM7, SIP, etc.","A PE layer may house a dynamically updateable set of one or more PEs (PE\u2192PE in the ). A PE may, for example, leverage a body of flexible, extensible, and dynamically updateable configuration information as it completes its tasks, including possibly inter alia:","A) Receiving incoming and sending outgoing traffic using any combination of the supported communication protocols, paradigms, etc.","B) Performing various extraction, validation, editing, formatting, conversion, etc. operations on the elements of an incoming and\/or outgoing data stream\u2014e.g., source address, destination address, encoding indicators or flags, payload or body, etc. The specific elements that were just described are illustrative only and it will be readily apparent to one of ordinary skill in the relevant art that numerous other elements are easily possible and indeed are fully within the scope of the present invention.","C) Encapsulating various elements of an incoming data stream within an IMO and\/or un-encapsulating various elements of an outgoing data stream from an IMO.","The catalog of PE processing steps that was described above is illustrative only and it will be readily apparent to one of ordinary skill in the relevant art that numerous other processing steps are easily possible and indeed are fully within the scope of the present invention.","A PE layer may be quickly and easily scaled either vertically (to for example add additional capacity in response to increases in demand [e.g., message volume]), horizontally (to for example add support for a new application-level communication protocol), or both.","AIMS includes among other elements a flexible, extensible, and dynamically configurable WorkFlow-based PRS layer (see reference numeral  in  along with  and reference numeral ). The WorkFlow elements of the PRS layer may be \u2018glued\u2019 together by a Message Routing Language (MRL, a full-featured scripting language that is based in part on the disclosures found in U.S. Pat. No. 6,735,586 entitled \u201cSystem and Method for Dynamic Content Retrieval\u201d and U.S. Pat. No. 7,240,067 entitled \u201cSystem and Methodology for Extraction and Aggregation of Data from Dynamic Content\u201d) and may support among other things:","1) Processing. For example, the automatic and dynamic determination of the type of content (e.g., an SMS message, a VoIP data stream, etc.) in a received quanta of data and the preservation of same in for example an IMO; content transcoding operations; billing activities (including possibly pricing\/rating events); data logging and collection in support of reporting; the generation of a Feature Tag; etc.","2) Routing. For example, the authoritative resolution of destination and\/or source addresses; the examination of available routes and the application of various criteria (possibly including for example MS WD location information, least cost routing rules, MS profile and preference information, route loadings, aspects of a Feature Tag, attributes of a received quanta of data [e.g., data type, size, etc.], Quality of Service [QoS] constraints, billing and revenue constraints, etc.) to available routes to arrive at a specific route selection; etc.","3) Switching. For example, directing (switching) based on a selected route data to an appropriate outbound delivery channel (see for example reference number  in ).","The catalog of activities that was described above is illustrative only and it will be readily apparent to one of ordinary skill in the relevant art that numerous other activities are easily possible and indeed are fully within the scope of the present invention.","The billing activities within the Processing portion of a PRS layer may make use of a PS. A PS is a self-contained framework for capturing all of the particulars associated with cost and may include, possibly among other things, elements such as:","1) Descriptive Information. A range of descriptive or identifying information that may include, possibly inter alia, a unique identifier, a description (that may be displayed, that may be conveyed to an Operator for inclusion in a line-item on a MS monthly statement, etc.), effective dates\/times, etc.","2) Interval. The starting point (e.g., the first of each month) and the duration (e.g., one calendar month) of the interval or cycle during which cost is accumulated.","3) Pre Amounts. Zero, one, or more fixed (e.g., $5.00) or variable (e.g., $0.05 times the number of items processed) amounts that contribute to an interval's overall or aggregate cost amount. A Pre Amount may be either a charge (a positive amount) or a discount (a negative amount) and may include, possibly inter alia, set-up fees, monthly service charges, etc.","4) Base Amount. The particulars that are applied to each event to rate, or determine the cost of, an event. Numerous plans or models are available to select from, including inter alia Static\u2014Flat Rate\u2014Basic (e.g., a single, fixed price), Static\u2014Flat Rate\u2014Tiered (e.g., price is derived from, inter alia, volume through defined thresholds or plateaus), etc. It is important to note that the preceding catalog of plans is illustrative only; it will be readily apparent to one of ordinary skill in the relevant art that other plans may be easily added.","5) Post Amounts. Zero, one, or more fixed (e.g., $1.00) or variable (e.g., 2% of the aggregate interval cost) amounts that contribute to an interval's overall or aggregate cost. A Post Amount may be either a charge (a positive amount) or a discount (a negative amount).","For purposes of illustration, consider the hypothetical PS  that is illustrated in  (and reference number ) which includes three (3) Pre Amounts (\u2192), one (1) Base Amount , and two (2) Post Amounts (\u2192).","It should be noted that the specific PS that was just presented is illustrative only. It will be readily apparent to one or ordinary skill in the relevant art that the inclusion of different elements and\/or alternative arrangements of the elements are easily possible.","One or more PSs may be associated with a Contract. A Contract may contain, possibly inter alia, descriptive information (e.g., a unique identifier, a description, etc.), all applicable terms and conditions (e.g., including support for one or more levels of optional taxation by, possibly inter alia, geography, national entity, etc.), etc.","One or more Contracts may be associated with an Operator, Merchant, etc. through a CS. For purposes of illustration consider the hypothetical CS  that is presented in . The depicted CS  employs a flexible and extensible ontology that easily supports multiple contracts (, , ) per Operator\/Merchant\/etc . A contract may include a Pricing Scheme\u2192Pricing Scheme(, , ). Descriptive material  may also be associated with a given Operator\/Merchant .","The billing activities within the PRS layer may also make use of a URE. As illustrated in  and reference numeral  a hypothetical URE  may accept as input a raw (or unrated) event ; leverage a pool of flexible, extensible, and dynamically configurable definitional \u2192 and configuration  information; and produce as output a processed (or rated) event .","The different billing activities may yield among other things a billing transaction. A billing transaction may take any number of forms and may involve different external entities (e.g., a carrier billing system, a carrier billing system service bureau, a credit or debit card clearinghouse, a financial institution, etc.). A billing transaction may include, possibly inter alia:","1) The appearance of a line item charge on the bill or statement that a MS receives from her WC.","2) The charging of a credit card or the debiting of a debit card.","3) The (electronic, etc.) transfer of funds.","4) The generation of an invoice, statement, etc.","The Processing portion of a PRS layer may optionally generate, and possibly preserve in for example an IMO, one or more Feature Tags. A Feature Tag (see  and reference numeral ) is effectively a compact digest of key data elements, thus providing inter alia a representation of or an alias for or a \u2018fingerprint\u2019 of those data elements, and may be based on possibly inter alia (a) attributes of a received quanta of data (e.g., data type, size, etc.), (b) routing and switching attributes (e.g., a selected route, the current loading on that route, QoS and other Service Level Agreement [SLA] requirements, etc.), (c) MS and\/or WD characteristics, preferences, etc. (such as for example time-of-day, day-of-week, or other \u2018follow me\u2019 directives; defined contact or delivery windows and quiet [no contact] periods; physical location; etc.), (d) billing attributes, etc. Once generated, a Feature Tag may be quickly referenced by other elements of an AIMS environment as those elements complete their processing activities. (See for example U.S. Pat. No. 7,240,067 entitled \u201cSystem and Methodology for Extraction and Aggregation of Data from Dynamic Content\u201d and pending U.S. patent application Ser. No. 12\/140,478 entitled \u201cSystem and Method for Enhanced Message Routing\u201d for a discussion of aspects of a Feature Tag). Feature Tags will be discussed further below.","The Routing portion of a PRS layer may support, and may include as it makes a route determination, among other things information on the current physical location of a MS' WD (as received for example from possibly inter alia the WC that services the WD). For purposes of illustration, a portion of an exemplary data model is illustrated in  and reference numeral  and hypothetical contents of such a data model are presented in  and reference numeral .","The Routing portion of a PRS layer may also leverage a comprehensive, flexible, scalable, etc. lookup facility (indicated, albeit at a very high level, as Routing Data  in ) to support, possibly inter alia, its routing operations. Such a lookup facility may provide authoritative answers to inquiries like \u201cAt this moment in time what carrier services the Telephone Number (TN) 1-703-555-1212?\u201d, \u201cWhat entity services the SIP addresss sip:john.doe@bigcompany.com?\u201d, etc. Among other things such a lookup facility may address (1) the complexities that are associated with all of the different TN numbering plans, schemes, etc. that exist around the world; (2) the complexities that arise with worldwide Mobile Number Portability (MNP) regimes; etc. A more detailed depiction of such a lookup facility is presented in  and reference numeral . Such a lookup facility may consist of, possibly inter alia:","A) An Electronic Numbering (ENUM) fa\u00e7ade  through which possibly inter alia various PRSEs (E\u2192E in ) may connect, submit routing inquiries, receive routing responses, etc.","B) A dynamically updateable set of one or more In-Memory Databases (In-Memory Database\u2192In-Memory Database in the diagram) that optionally house or host selected data (including, possibly inter alia, data from a Composite Routing Database [CRD] ) to provide, as one example, optimal performance.","C) A Real-Time Query Facility (RTQF)  through which inquiries may be dispatched real-time to authoritative bodies (such as, for example, TN assignment administrators) around the world. A RTQF  may support multiple communication channels, paradigms, protocols, etc. (such as, possibly inter alia, SS7 , TCP\/IP , UDP\/IP, SMPP , etc.).","D) A CRD  containing comprehensive routing information for, possibly inter alia, TNs within all of the different TN numbering plans, schemes, etc. that exist around the world. A CRD  may receive updates (e.g., dynamically, on a scheduled basis, etc.) from any number of sources or feeds including, possibly inter alia, domestic  (such as, for example, from a Local Exchange Routing Guide [LERG], from one or more Number Portability Administration Centers [NPACs], etc.) and international  (such as, for example, from Hong Kong, from the United Kingdom, etc.).","A lookup facility as described above may support a wide range of address types including among others a TN (such as 703-555-1234), a Short Code (SC, such as 46625), a SIP Uniform Resource Identifier (URI, such as sip:mark@mydomain.com), a Tel URI (such as tel:+19257652333), a Uniform Resource Locator (URL), etc.","The Routing portion of a PRS layer may during various of its activities combine, compare, etc. one or more Feature Tags with inter alia a range of supporting data. For example, for each supported WC a number of delivery routes may be defined based on various criteria such as for example service (SMS, MMS, IMS, IM, etc.), WC preferences, infrastructure needs, etc. One or more Feature Tags may be combined, merged, etc. with such supporting data to possibly inter alia generate a routing plan and then select from a routing plan a specific delivery route.","The Routing portion of a PRS layer may be physically realized through any number of technologies, arrangements, etc. As just one example,  and reference numeral  illustrate how aspects of the Routing portion of a PRS layer might be realized using a Java-based OSGi dynamic component model (see for example paragraphs 56\u219261 above).","For purposes of illustration, the flowchart that is presented in  and reference numeral  depict various of the activities that may take place under a hypothetical PRS layer that is possible through aspects of the present invention.","The Databases , , \u2192, \u2192 that are depicted in  are a logical representation of the possibly multiple physical repositories that may be implemented to support, inter alia, configuration, routing, profile, monitoring, logging, reporting, etc. information. The physical repositories may be implemented through any combination of conventional Relational Database Management Systems (RDBMSs), through Object Database Management Systems (ODBMSs), through in-memory Database Management Systems (DBMSs), or through any other equivalent facilities.","The Administrator  that is depicted in  provides management or administrative control over all of the different components of an environment through, as one example, a World Wide Web (WWW)-based interface. It will be readily apparent to one of ordinary skill in the relevant art that numerous other interfaces (e.g., a data feed, an Application Programming Interface [API], etc.) are easily possible.","As noted above, a Feature Tag is effectively a compact digest of key data elements, thus providing inter alia a representation of or an alias for or a \u2018fingerprint\u2019 of those data elements.","Feature Tags may follow an organized naming scheme and the naming scheme may incorporate an encoding model (e.g., the name \u2018SIP-PSI\u2019 might indicate a SIP message that has a Person endpoint, is of type SIP SIMPLE, and has an Indeterminate or unknown domain), may be organized in any number of ways (including for example alphabetically, nested, hierarchically, etc.), and may be searched or matched against in numerous ways (including for example sequentially, through wildcards, etc.).","For purposes of illustration, consider a simple Feature Tag model that is designed to support the processing, routing, etc. of SMS messages. Under such a model a hypothetical Feature Tag might be SP0TDTPMAAb and consist of:","1) A message type indicator. For example, \u2018S\u2019 for SMS.","2) A content type indicator. For example, \u2018P\u2019 for plain text, \u2018B\u2019 for binary data, etc.","3) A version number. For example, 0, 1, 2, etc. to allow for possibly inter alia future expansion, backwards compatibility, etc.","4) An originating address identifier. For example, \u2018T\u2019 for telephone number, \u2018S\u2019 for SC, etc.","5) An originating entity identifier. For example, \u2018U\u2019 for unknown, \u2018D\u2019 for a WC that is reachable directly, \u2018P\u2019 for a WC that is reachable indirectly through for example a peering partner, etc.","6) A destination address identifier. For example, \u2018T\u2019 for telephone number, \u2018S\u2019 for SC, etc.","7) A destination entity identifier. For example, \u2018U\u2019 for unknown, \u2018D\u2019 for a WC that is reachable directly, \u2018P\u2019 for a WC that is reachable indirectly through for example a peering partner, etc.","8) A content size indicator. For example, \u2018S\u2019 for small, \u2018M\u2019 for medium, for large, etc.","9) A spam assessment indicator. For example, \u2018A\u2019 for no spam found, \u2018Z\u2019 for spam found, etc.","10) An advertising assessment indicator. For example, \u2018A\u2019 for no advertising found, \u2018Z\u2019 for advertising found, etc.","11) A size indicator. For example, \u20189\u2019 for a total size of 9, \u2018b\u2019 for a total size of 11, \u2018h\u2019 for a total size of 17, etc.","It will be readily apparent to one of ordinary skill in the relevant art that numerous other arrangements are possible within the illustrative model that was presented above. As one example, the originating entity portion and the destination entity portion of the above Feature Tag model might be extended to include:","5a) A three-character originating entity, route, etc. identifier. For example, \u201803a,\u2019 \u2018F2P,\u2019 \u20183eZ,\u2019 etc.","7a) A three-character destination entity, route, etc. identifier. For example, \u201829g,\u2019 \u2018G2Q,\u2019 \u2018J8k,\u2019 etc.","where a hypothetical Feature Tag might be SP3TD3eZTPJ8kMAAh.","As another example, to support the processing, routing, etc. of MMS messages the message type indicator could be extended to include \u2018M\u2019 for MMS; the content type indicator could be extended to include different media types (such as \u2018I\u2019 for image, \u2018V\u2019 for video, \u2018A\u2019 for audio, etc.); the originating address identifier and the destination address identifier could be extended to include different address types (such as \u2018E\u2019 for E-Mail, etc.); etc.",{"@attributes":{"id":"p-0154","num":"0155"},"figref":"FIG. 31","b":"3102"},"It will be readily apparent to one of ordinary skill in the relevant art that numerous other Feature Tag models, beyond the illustrative models that were presented above, are easily possible.","As noted previously, a collection of Feature Tags may optionally be organized in any number of ways including inter alia hierarchically, in a nested fashion, alphabetically, by size, etc.","Aspects of the processing, searching, matching, etc. of Feature Tags may optionally employ wild card characters. For purposes of illustration, under the illustrative Feature Tag model that was presented above with the hypothetical Feature Tag SP0TDTPMAAb any number of searches, comparisons, etc. may be quickly completed using wild cards:","1) SP*. Just plain text SMS messages.","2) S?0*. Just version 0 Feature Tags.","3) S???D?D*. Just SMS messages that were received from a WC that is reachable directly and that were delivered to a WC that is reachable directly.","4) Etc.","It will be readily apparent to one of ordinary skill in the relevant art that numerous other Feature Tag processing, searching, matching, etc. mechanisms are easily possible including inter alia regular expressions, formal grammars, etc.","Beyond the Processing portion of a PRS layer, the other portions of a PRS layer (i.e., the Routing portion and the Switching portion) may as they complete various of their operations update one or more existing Feature Tags and\/or generate, and optionally preserve, one or more new Feature Tags. For example, as the Routing portion of a PRS layer completes an address resolution operation it may update one or more existing Feature Tags and\/or generate one or more new Feature Tags.","For purposes of illustration,  and reference numeral  depict various of the interactions that might take place during the generation of a Feature Tag under one particular implementation of aspects of the present invention. For example:","1) A Metrics Generator  may identify key constructs, attributes, etc. from a supplied piece of content. Multiple Metrics Generator bodies may be defined, one for (i.e., applicable to) a particular type of content.","2) A Metrics Parser  may analyze different constructs, attributes, etc. to identify inter alia the \u2018type\u2019 (e.g., SMS text, etc.) of a piece of content, the \u2018size\u2019 of a piece of content, etc. A Metrics Generator  may optionally act on the output of (the results returned by) a Metrics Parser  to complete further of its processing activities.","3) A Feature Extractor  may generate one or more defined features.","4) A Feature Strategy  may leverage a Feature Parser  to process, rate, etc. each of the defined features.","5) A Feature Parser  may iterate through, and evaluate, a particular portion of the structure of a piece of content.","An AIMS environment may maintain one or more repositories (e.g., \u2192 and \u2192 in ) into which selected details of all administrative, analytical, processing, routing, etc. activities; Transaction Detail Records (TDRs); the results of Extraction-Transformation-Load (ETL) operations; etc. may be recorded. Among other things, such repositories may be used to support:","1) Scheduled (e.g., daily, weekly, etc.) and\/or on-demand reporting with report results delivered through SMS, MMS, etc. messages; through E-Mail; through a WWW-based facility; etc.","2) Scheduled and\/or on-demand data mining initiatives (possibly leveraging or otherwise incorporating one or more external data sources) with the results of same presented through Geographic Information Systems (GISs), visualization, etc. facilities and delivered through SMS, MMS, etc. messages; through E-Mail; through a WWW-based facility; etc.",{"@attributes":{"id":"p-0173","num":"0174"},"figref":["FIGS. 26","FIG. 12","FIG. 12"],"i":["a ","d "],"b":["26","1220","1232"]},{"@attributes":{"id":"p-0174","num":"0175"},"figref":["FIGS. 27","FIG. 12","FIG. 12"],"i":["a ","e "],"b":["27","1220","1232"]},"Various aspects of the present invention can be implemented by software, firmware, hardware, or any combination thereof.  illustrates an example computer system  in which the present invention, or portions thereof, such as described in the paragraphs above can be implemented as computer-readable code. Various embodiments of the invention are described in terms of this example computer system . After reading this description, it will become apparent to a person skilled in the relevant art how to implement the invention using other computer systems and\/or computer architectures.","Computer system  includes one or more processors, such as processor . Processor  can be a special purpose processor or a general purpose processor. Processor  is connected to a communication infrastructure  (for example, a bus or a network).","Computer system  also includes a main memory , preferably Random Access Memory (RAM), containing possibly inter alia computer software and\/or data .","Computer system  may also include a secondary memory . Secondary memory  may include, for example, a hard disk drive , a removable storage drive , a memory stick, etc. A removable storage drive  may comprise a floppy disk drive, a magnetic tape drive, an optical disk drive, a flash memory, or the like. A removable storage drive  reads from and\/or writes to a removable storage unit  in a well known manner. A removable storage unit  may comprise a floppy disk, magnetic tape, optical disk, etc. which is read by and written to by removable storage drive . As will be appreciated by persons skilled in the relevant art(s) removable storage unit  includes a computer usable storage medium  having stored therein possibly inter alia computer software and\/or data .","In alternative implementations, secondary memory  may include other similar means for allowing computer programs or other instructions to be loaded into computer system . Such means may include, for example, a removable storage unit  and an interface . Examples of such means may include a program cartridge and cartridge interface (such as that found in video game devices), a removable memory chip (such as an Erasable Programmable Read-Only Memory [EPROM], or Programmable Read-Only Memory [PROM]) and associated socket, and other removable storage units  and interfaces  which allow software and data to be transferred from the removable storage unit  to computer system .","Computer system  may also include an input interface  and a range of input devices  such as, possibly inter alia, a keyboard, a mouse, etc.","Computer system  may also include an output interface  and a range of output devices  such as, possibly inter alia, a display, one or more speakers, etc.","Computer system  may also include a communications interface . Communications interface  allows software and\/or data  to be transferred between computer system  and external devices. Communications interface  may include a modem, a network interface (such as an Ethernet card), a communications port, a Personal Computer Memory Card International Association (PCMCIA) slot and card, or the like. Software and\/or data  transferred via communications interface  are in the form of signals  which may be electronic, electromagnetic, optical, or other signals capable of being received by communications interface . These signals  are provided to communications interface  via a communications path . Communications path  carries signals and may be implemented using wire or cable, fiber optics, a phone line, a cellular phone link, a Radio Frequency (RF) link or other communications channels.","As used in this document, the terms \u201ccomputer program medium,\u201d \u201ccomputer usable medium,\u201d and \u201ccomputer readable medium\u201d generally refer to media such as removable storage unit , removable storage unit , and a hard disk installed in hard disk drive . Computer program medium and computer usable medium can also refer to memories, such as main memory  and secondary memory , which can be memory semiconductors (e.g. Dynamic Random Access Memory [DRAM] elements, etc.). These computer program products are means for providing software to computer system .","Computer programs (also called computer control logic) are stored in main memory  and\/or secondary memory . Computer programs may also be received via communications interface . Such computer programs, when executed, enable computer system  to implement the present invention as discussed herein. In particular, the computer programs, when executed, enable processor  to implement the processes of aspects of the present invention, such as the steps discussed in the above paragraphs. Accordingly, such computer programs represent controllers of the computer system . Where the invention is implemented using software, the software may be stored in a computer program product and loaded into computer system  using removable storage drive , interface , hard drive  or communications interface .","The invention is also directed to computer program products comprising software stored on any computer useable medium. Such software, when executed in one or more data processing devices, causes data processing device(s) to operate as described herein. Embodiments of the invention employ any computer useable or readable medium, known now or in the future. Examples of computer useable mediums include, but are not limited to, primary storage devices (e.g., any type of random access memory), secondary storage devices (e.g., hard drives, floppy disks, Compact Disc Read-Only Memory [CD-ROM] disks, Zip disks, tapes, magnetic storage devices, optical storage devices, Microelectromechanical Systems [MEMS], nanotechnological storage device, etc.), and communication mediums (e.g., wired and wireless communications networks, local area networks, wide area networks, intranets, etc.).","It is important to note that the hypothetical examples that were presented above, which were described in the narrative and which were illustrated in the accompanying figures, are exemplary only. They are not intended to be exhaustive or to limit the invention to the specific forms disclosed. It will be readily apparent to one of ordinary skill in the relevant art that numerous alternatives to the presented examples are easily possible and, indeed, are fully within the scope of the present invention.","The following list defines acronyms as used in this disclosure.",{"@attributes":{"id":"p-0188","num":"0189"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Acronym","Meaning"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["A2P","Application-to-Peer"]},{"entry":["AIMS","Advanced IP Messaging Server"]},{"entry":["API","Application Programming Interface"]},{"entry":["AS","Application Server"]},{"entry":["CD-ROM","Compact Disc Read-Only Memory"]},{"entry":["CP","Content Provider"]},{"entry":["CRD","Composite Routing Database"]},{"entry":["CS","Contract Scheme"]},{"entry":["CSCF","Call Session Control Function"]},{"entry":["DBMS","Database Management System"]},{"entry":["DRAM","Dynamic Random Access Memory"]},{"entry":["DSL","Digital Subscriber Line"]},{"entry":["E-Mail","Electronic Mail"]},{"entry":["ENUM","Electronic Numbering"]},{"entry":["EPROM","Erasable Programmable Read-Only Memory"]},{"entry":["ETL","Extraction-Transformation-Load"]},{"entry":["GIS","Geographic Information System"]},{"entry":["HSS","Home Subscriber Server"]},{"entry":["HTTP","HyperText Transfer Protocol"]},{"entry":["IM","Instant Messaging"]},{"entry":["IMO","Internal Message Object"]},{"entry":["IMS","IP Multimedia Subsystem"]},{"entry":["IP","Internet Protocol"]},{"entry":["JMS","Java Message Service"]},{"entry":["LERG","Local Exchange Routing Guide"]},{"entry":["MAP","Mobile Application Part"]},{"entry":["MEMS","Microelectromechanical Systems"]},{"entry":["MG","Media Gateway"]},{"entry":["MH","Message Highway"]},{"entry":["MICV","Messaging Inter-Carrier Vendor"]},{"entry":["MMS","Multimedia Message Service"]},{"entry":["MMSC","Multimedia Message Service Center"]},{"entry":["MNP","Mobile Number Portability"]},{"entry":["MPE","Message Processing Engine"]},{"entry":["MRL","Message Routing Language"]},{"entry":["MS","Mobile Subscriber"]},{"entry":["MSU","Message Signal Unit"]},{"entry":["NPAC","Number Portability Administration Center"]},{"entry":["ODBMS","Object Database Management System"]},{"entry":["P2P","Peer-to-Peer"]},{"entry":["PCMCIA","Personal Computer Memory Card International Association"]},{"entry":["PDA","Personal Digital Assistant"]},{"entry":["PDU","Protocol Data Unit"]},{"entry":["PE","Protocol Engine"]},{"entry":["PLMN","Public Land Mobile Network"]},{"entry":["PROM","Programmable Read-Only Memory"]},{"entry":["PRS","Processing, Routing, and Switching"]},{"entry":["PS","Pricing Scheme"]},{"entry":["PSTN","Public Switched Telephone Network"]},{"entry":["QoS","Quality of Service"]},{"entry":["RAM","Random Access Memory"]},{"entry":["RDBMS","Relational Database Management System"]},{"entry":["RF","Radio Frequency"]},{"entry":["RSS","Really Simple Syndication"]},{"entry":["RTQF","Real-Time Query Facility"]},{"entry":["SC","Short Code"]},{"entry":["SIP","Session Initiation Protocol"]},{"entry":["SLA","Service Level Agreement"]},{"entry":["SMPP","Short Message Peer-to-Peer"]},{"entry":["SMS","Short Message Service"]},{"entry":["SMSC","Short Message Service Center"]},{"entry":["SMTP","Simple Mail Transfer Protocol"]},{"entry":["SP","Service Provider"]},{"entry":["SS7","Signaling System Seven"]},{"entry":["3P","Third Party"]},{"entry":["TCP","Transmission Control Protocol"]},{"entry":["TDR","Transaction Detail Record"]},{"entry":["TN","Telephone Number"]},{"entry":["UDP","User Datagram Protocol"]},{"entry":["URE","Universal Rating Engine"]},{"entry":["URI","Uniform Resource Identifier"]},{"entry":["URL","Uniform Resource Locator"]},{"entry":["VoIP","Voice Over IP"]},{"entry":["WAP","Wireless Application Protocol"]},{"entry":["WC","Wireless Carrier"]},{"entry":["WD","Wireless Device"]},{"entry":["WWW","World-Wide Web"]},{"entry":["XMPP","Extensible Messaging and Presence Protocol"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}}],"BRFSUM":[{},{}],"heading":["COPYRIGHT STATEMENT","APPENDIX DATA","BACKGROUND","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION"],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0019","num":"0020"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0020","num":"0021"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0021","num":"0022"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0022","num":"0023"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0023","num":"0024"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0024","num":"0025"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0025","num":"0026"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0026","num":"0027"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0027","num":"0028"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0028","num":"0029"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0029","num":"0030"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0030","num":"0031"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0031","num":"0032"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0032","num":"0033"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0033","num":"0034"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0034","num":"0035"},"figref":"FIG. 16"},{"@attributes":{"id":"p-0035","num":"0036"},"figref":"FIG. 17"},{"@attributes":{"id":"p-0036","num":"0037"},"figref":"FIG. 18"},{"@attributes":{"id":"p-0037","num":"0038"},"figref":"FIG. 19"},{"@attributes":{"id":"p-0038","num":"0039"},"figref":"FIG. 20"},{"@attributes":{"id":"p-0039","num":"0040"},"figref":"FIG. 21"},{"@attributes":{"id":"p-0040","num":"0041"},"figref":"FIG. 22"},{"@attributes":{"id":"p-0041","num":"0042"},"figref":"FIGS. 23 and 24"},{"@attributes":{"id":"p-0042","num":"0043"},"figref":"FIG. 25"},{"@attributes":{"id":"p-0043","num":"0044"},"figref":"FIGS. 26","i":["a ","d "],"b":"26"},{"@attributes":{"id":"p-0044","num":"0045"},"figref":"FIGS. 27","i":["a ","e "],"b":"27"},{"@attributes":{"id":"p-0045","num":"0046"},"figref":"FIG. 28"},{"@attributes":{"id":"p-0046","num":"0047"},"figref":"FIG. 29"},{"@attributes":{"id":"p-0047","num":"0048"},"figref":"FIG. 30"},{"@attributes":{"id":"p-0048","num":"0049"},"figref":"FIG. 31"},{"@attributes":{"id":"p-0049","num":"0050"},"figref":"FIG. 32"},{"@attributes":{"id":"p-0050","num":"0051"},"figref":"FIG. 33"}]},"DETDESC":[{},{}]}
