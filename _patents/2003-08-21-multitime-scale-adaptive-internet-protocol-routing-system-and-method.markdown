---
title: Multi-time scale adaptive internet protocol routing system and method
abstract: Method and apparatus for implementing multi-time scale adaptive routing in an IP network are described. One embodiment is a packet router that supports multi-time scale resource management. The packet router comprises a management agent that manages differentiated services policy information database operable to store policies on forwarding packets in the packet router; a resource server system that controls forwarding of packets in the packet router based on adaptive selections of policies from the policy information database; a flow measurement system that monitors packet flows through the packet router and generates statistic reports which affect the resource server systems selection of control; and a hardware forwarding engine that receives and forwards packets in response to the resource server system controls.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07889644&OS=07889644&RS=07889644
owner: Alcatel Lucent
number: 07889644
owner_city: Paris
owner_country: FR
publication_date: 20030821
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE DRAWINGS"],"p":["1. Technical Field of the Invention","The present invention generally relates to internet protocol (\u201cIP\u201d) routers. More particularly, and not by way of any limitation, the present invention is directed to an architecture for implementing multi-time scale adaptive IP routers.","2. Description of Related Art","The deployment of complex value-added services on the Internet requires support for appropriate time-scale resource management and control on an on-going basis after the initial setup time of the network. Frequent interaction between services and the network calls for identification and implementation of sophisticated mechanisms that can allocate resources (e.g., links, switch capacity, etc.) optimally, isolate or dynamically share resources in a controlled fashion among various users, and change the use and allocation of resources in response to changes in conditions of the network and user requirements over time.","For QoS adaptation, the most developed adaptive resource allocation in IP is based on end-to-end feedback systems, such as TCP and ATM congestion control. In end-to-end feedback systems, the receiver must inform the sender that there is a problem when it arises. The main drawback to such systems is that often by the time adaptation has occurred, the condition might already have changed. Accordingly, such systems are typically not sufficiently fast.","Adaptation of the switching node behavior on the basis of DiffServ, Per-Hop Behaviors (\u201cPHBs\u201d), and variants of Random Early Detection (\u201cRED\u201d) are commercially available. With these, policies and priorities are associated with the packets. When congestion occurs, packets are selected for dropping based on these policies and priorities. However, these are neither measurement-based nor are they designed to work in a coordinated fashion at multi-time scale.","IEEE has proposed a standard (IEEE 1520) that brings layering of IP router functionality for programmability and adaptation. This standard defines an overall infrastructure, but not a method or system for performing adaptation. The ForCES working group in IETF has proposed ideas that separate the control elements from forwarding elements in a way that can help introduce dynamic behavior at the node level. Also, network equipment manufacturers are currently beginning to support measurement-based adaptation. However, none of the foregoing solutions support implementation of a multi-time scale adaptive router.","Accordingly, the present invention advantageously provides an architecture for implementing multi-time scale adaptive IP routers. One embodiment is a packet router that supports multi-time scale resource management. The packet router comprises a management agent that manages differentiated services policy information database operable to store policies on forwarding packets in the packet router; a resource server system that controls forwarding of packets in the packet router based on adaptive selections of policies from the policy information database; a flow measurement system that monitors packet flows through the packet router and generates statistics reports which affect the resource server systems selection of control; and a hardware forwarding engine that receives and forwards packets in response to the resource server system controls.","Another embodiment is a system for supporting multi-time scale resource management in a packet router. The system comprises means for managing a differentiated services policy information database that stores policies on forwarding packets in the packet router; means for controlling forwarding of packets in the packet router based on adaptive selections of policies from the policy information database; means for monitoring packet flows through the packet router; means for generating statistic reports that affect the resource server systems selection of control; and means for receiving and forwarding packets in response to the resource server system controls.","Another embodiment is a method of providing multi-time scale resource management in a packet router. The method comprises managing a differentiated services policy information database that stores policies on forwarding packets in the packet router; controlling forwarding of packets in the packet router based on adaptive selections of policies from the policy information database; monitoring packet flows through the packet router; generating statistic reports that affect the forwarding of packets in the packet router; and receiving and forwarding packets in response to the forwarding of packets in the packet router.","In the drawings, like or similar elements are designated with identical reference numerals throughout the several views thereof, and the various elements depicted are not necessarily drawn to scale.",{"@attributes":{"id":"p-0021","num":"0020"},"figref":["FIG. 1A","FIG. 1A","FIG. 2"],"b":["100","100","100","100","102","103","104","106","107","108","109","100","100"]},"In the case of DiffServ QoS, the MA  performs DiffServ PIB management functionality. The RSS  on the control plane  controls IP packets through the data plane  based on a PIB table. The FMS  monitors packet flows through the HFUs  on the data plane . The elements , , , and , will be described in greater detail below with reference to , , and .",{"@attributes":{"id":"p-0023","num":"0022"},"figref":["FIG. 1B","FIG. 1A"],"b":["150","152","154","156","156","152","154"]},"The routers , , are interconnected via links . Additionally, the edge routers  may be connected to end systems . The core routers  support data level adaptations, the edge routers  support flow level adaptations, and the CS  supports network level adaptations.",{"@attributes":{"id":"p-0025","num":"0024"},"figref":["FIG. 2","FIG. 2"],"b":["104","104","200","202","204","206","208","202","200","202","210"]},"The RALL  of the SC  has an open architecture with a library of router and resource management algorithms (e.g., classifier, meter, queue) selected by the TCB. The RALL  provides control to a Hardware Forwarding Manager (\u201cHFM\u201d)  of the HICC  via a Logical Hardware Abstraction Layer (\u201cLHAL\u201d) . The RALL  contains only the algorithms that have no contents of the physical layer hardware. The LHAL  contains only the logical hardware elements (i.e., the finest units to compose the network element resources and service function behaviors), which are monitored by the MDC () of the DC . The HICC , in turn, contains the HCU , which is connected through an interface driver  to the RALL , and the HFM , which is connected through an interface driver  to the LHAL  and the DC . The HCU  of the HICC  controls the HFU  packets via the HFM . The RALL  of the SC  can bypass the HCU  and directly control the HFM  via the LHAL . Generally, the vendor's line cards with interface driver software will support the HICC . The advantages of such an architecture for the RSS  are described in detail below.",{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 3A","b":["106","106","210","300","302","210","304","306","308","210","302","300"]},"The MRC  receives interpreted SLA from the PPIB  and produces Observation Domain Blocks (ODBs) () in terms of a sequence of MRAL  elements (i.e. Metering Process, Selection Criteria for Flow Export, Export Process, and Data Collector). By executing ODB sequence elements, an FMS system is performed at line speed, broader bandwidth with open software architecture and open hardware architecture.","The MRAL  acts as a real-time monitor executive to collect and aggregate data sources (\u201cDS\u201d) statistics, prepare DS statistics reports, distribute protocols, relocate hardware resources, adjust an AQoS scaler\/loop, and determine data collection sampling rates. The MRAL  also controls the HFM  of the RSS  via the Interface Driver . A connection loop from the MRAL  to the HFM , from the HFM  to the HFUs , from the HFUs  to the MDC  and from the MDC  back to the MRAL  forms a dynamic adaptive scalable closed loop, which is based on FMS SLA and is dynamically controlled by real-time traffic flows. The MRAL  is an open architecture design; it allows FMS algorithm insertion\/deletion to the system without disturbing system software or hardware performances. The MRAL  includes a DS Monitor SLA Interpretation and Statistics Reporting group, a Counter Aggregation control group, a Capabilities group, a Computer Resource group, an AQoS Scaler\/Loop Gain Adjuster group, a Data Collector group, and an IP Flow and Measuring group.","The DS Monitor SLA Interpretation and Statistics Reporting group communicates with a Policy Provision Agent and performs SLA interpretation to modify a Service Component Policy Information Base (PIB) table based on the dynamic resource management of the Capabilities and Computing Resource groups in order to meet the SLA requirements. It also reports the DS statistics, Protocol statistics, Network Protocol Host statistics, and Application Protocol Matrix statistics by invoking the Counter Aggregation Control and Data Collection groups.","The Counter Aggregation control group controls how individual DiffServ codepoint counters are aggregated in data collections. The Capabilities group describes the groups that are supported by the agent on at least one data source and includes the following modules: (1) total capability calculation; (2) effective bandwidth determination; and (3) minimized cost based on traffic weight class.","The Computer Resource group comprises the computer or hardware resources that can be dynamically allocated to meet the SLA requirements through invoking the Capabilities group module. The AQoS Scaler\/Loop Gain Adjuster group is based on invoking of IP Flow Monitor & Measuring group module to determine the sampling rate, bandwidth, loop gain, and stability. It is a real-time adaptive closed loop control, which is based on IP DiffServ SLA, IP flow measurement requirements (from measurement SLA), and observation points.","The Data Collector group controls how individual statistical collections are maintained by the agent and reported to management applications. The Data Collection group collects DS statistics, Protocol statistics, Network Protocol Host statistics and Application Protocol Matrix statistics. The IP Flow Monitor & Measuring group provides a standard way of exporting information related to IP flows for monitoring and measuring and includes the following modules: (1) Flow Classification; (2) Packets Selection Criteria: (3) Metering Process; (4) Selection Criteria for Flow Export; (5) Flow Expiration, (6) Packet Counter and Dropper Counter; (7) Time Stamping; (8) Sampling Method; (9) Exporting Process; (10) Collecting Process; and (10) Effective Bandwidth Measurement.",{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 3B","b":["350","352","354","356","358","360","362","364","366"]},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 4","b":["308","308","400","108","108","109","400","302","304","402","404","406","1","406","407","306","306","212","104","218"],"i":"k"},"The MRAL -HFM -HFU -MDCL -MRAL  connection forms a dynamic adaptive scalable closed loop. The IP flow MRAL library  is an open architecture design allowing real-time flow measurement algorithm insertion\/deletion without disturbing system software or hardware. Again, in the case of DiffServ QoS, the MRC  receives interpreted SLA from the PPIB  and produces ODBs in terms of a sequence of MRAL  elements (i.e., the metering process, section criteria for flow export, export process, data collector, etc.). By executing ODB sequence elements, the FMS  performs at line speed and broader bandwidth with open software architecture and open hardware architecture.","A flowchart illustrating an example of a typical operational scenario that is supported by the adaptive router  in an IP network is set forth in . In step , the overall resource configuration of the network is be set up by a centralized unit, such as the CS  (), and passed onto each router's configuration through the MA . In step , traffic monitors embedded in the enhanced routers, such as the router , measure the real-time traffic loads per a prescribed set of policy rules. In step , individual nodes trigger actions on the basis of preset conditions at data, flow, and network (reporting to the centralized unit) time scales. In step , the controller in the nodes and the centralized unit will then adjust service rates to match the requirements of the user and the network conditions in a coordinated manner.","Several advantages over the prior art are realized by the embodiments described herein. Such advantages include that the connection in the MRAL-HFM-HFU-MDU, along with the reporting capability of the node  to the centralized controller forms feedback mechanisms for enabling an adaptive control system at multiple time scales. In addition, the layered architecture of the RS and FMS affords the advantages set forth below.\n\n","Based upon the foregoing Detailed Description, it should be readily apparent that the present invention advantageously provides an architecture for implementing multi-time scale adaptive IP routers.","It is believed that the operation and construction of the present invention will be apparent from the Detailed Description set forth above. While the exemplary embodiments of the invention shown and described have been characterized as being preferred, it should be readily understood that various changes and modifications could be made therein without departing from the scope of the present invention as set forth in the following claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["A more complete understanding of the present invention may be had by reference to the following Detailed Description when taken in conjunction with the accompanying drawings wherein:",{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 1A"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":["FIG. 1B","FIG. 1A"]},{"@attributes":{"id":"p-0015","num":"0014"},"figref":["FIG. 2","FIG. 1A"]},{"@attributes":{"id":"p-0016","num":"0015"},"figref":["FIG. 3A","FIG. 1A"]},{"@attributes":{"id":"p-0017","num":"0016"},"figref":["FIG. 3B","FIG. 1A"]},{"@attributes":{"id":"p-0018","num":"0017"},"figref":["FIG. 4","FIG. 1A"]},{"@attributes":{"id":"p-0019","num":"0018"},"figref":["FIG. 5","FIG. 1A"]}]},"DETDESC":[{},{}]}
