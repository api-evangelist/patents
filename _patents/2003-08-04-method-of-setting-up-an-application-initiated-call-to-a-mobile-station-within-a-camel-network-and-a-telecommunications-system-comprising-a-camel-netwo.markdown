---
title: Method of setting up an application initiated call to a mobile station within a CAMEL network, and a telecommunications system comprising a CAMEL network
abstract: A method is provided of setting up a call connection to a mobile station operative to communicate with a Customised Application for Mobile Enhanced Logic (CAMEL) telecommunications network. The call is initiated by an Open Service Architecture (OSA) application, which causes a message to be produced which indicates to the network that the mobile station is now available to make a ring back call connection. The network setting up the call connection in response to the message.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07050811&OS=07050811&RS=07050811
owner: Lucent Technologies Inc.
number: 07050811
owner_city: Murray Hill
owner_country: US
publication_date: 20030804
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["CROSS REFERENCE TO RELATED APPLICATION","TECHNICAL FIELD","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION","DETAILED DESCRIPTION OF THE MAPPINGS"],"p":["This application claims priority of European Application No. 02255512.2 filed on Aug. 7, 2002.","The present invention relates to a method of setting up a call connection to a mobile station operative to communicate with a Customised Application for Mobile Enhanced Logic CAMEL telecommunications network, and to a wireless telecommunications system comprising a CAMEL network.","It is known that, in wireless networks, an Open Service Architecture (OSA) Call Control service capability feature (SCF) provides for application-initiated calls. An application is an entity (usually software) that provides a service to a subscriber. As an example, in an alarm call indication, the user sets the time to be woken up and at the appropriate time, the application calls the user with a predetermined announcement. OSA application-initiated calls are provided by means of a method known as createCall( ) which occurs in the IpCallControlManager interface. In wireless networks supporting Customised Application for Mobile Enhanced Logic CAMEL phase 3 (or lower), the functionality for an application to initiate calls is not provided, as there is no \u2018Call Party Handling\u2019 feature as occurs in CAMEL phase 4, in particular no InitiateCallAttempt operation. Although this operation is known to be proposed in Intelligent Networks Capability Set 2 (IN CS-2) for the purpose of network-initiated calls, it will not be implemented in CAMEL networks until CAMEL Phase 4 (Release ). Instead, in CAMEL phase 3 networks, the mechanism of service properties P_OPERATION_SET described in section 6.5.2 of Third Generation Partnership Project 3GPP technical specification TS 29.198-04 is used to inform the Open Service Architecture OSA client application of this lack of support in a CAMEL service environment CSE, during a service discovery phase.","CCBS (Call Completion to Busy Subscriber) Functionality","A general description of CCBS (call completion to busy subscriber) procedures, referring to , is as follows. As shown in , the CCBS (call completion to busy subscriber) service allows a calling subscriber A (mobile station MS-A), after finding that destination B (mobile station MS-B) is NDUB (Network Determined User Busy), to be notified of when destination B becomes idle (i.e available to receive the call). If subscriber A so desires, the network then automatically generates a CCBS (call completion to busy subscriber) call to destination B. This is often referred to as \u201cringback\u201d and is as described in Third Generation Partnership Project 3GPP technical specification TS 23.093 CCBS (call completion to busy subscriber) Stage 3. When subscriber A receives a busy treatment (i.e message) from subscriber B, a prolonged call clearing procedure takes place whereby subscriber A invokes a CCBS (call completion to busy subscriber) Activation request. Among other things, this results in the original SETUP message used by subscriber A to setup a call to subscriber B being stored in the home location register (HLR) of subscriber A. As soon as the network detects that subscriber B is available again, the home location register (HLR) of subscriber B (HLR-B) notifies the home location register (HLR) of subscriber A (HLR-A) of this event. Home location register of subscriber A (HLR-A) then sends a mobileapplication part (MAP) Remote User Free (RUF) message (i.e a CCBS (call completion to busy subscriber) remote user free (RUF) message) to the switch (mobile switching centre (MSC)\/visitor location register (VLR-A)), currently serving subscriber A. This remote user free (RUF) operation contains the original stored SETUP message. The mobile switching centre (MSC)\/visitor location register VLR-A then starts a Network Initiated Mobile Originated (NIMO) process, in which over the radio signalling link, the original SETUP message is sent back to subscriber A (mobile station MS-A) in the CCBS (call completion to busy subscriber) Call Info message. By sending the CCBS (call completion to busy subscriber) Recall message to mobile station MS-A, the network (mobile switching centre (MSC)\/visitor location register VLR-A) triggers the mobile station MS-A to initiate the CCBS (call completion to busy subscriber) recall. The original SETUP message is used to setup this CCBS (call completion to busy subscriber) recall to the previously busy subscriber B. Call processing proceeds from here on in a similar way as for normal call processing, i.e. an Initial Address Message (IAM) is sent to the Gateway mobile switching centre GMSC, etc. The home location register HLR-A is notified of the successful setup of the CCBS (call completion to busy subscriber) recall, by means of the CCBS (call completion to busy subscriber) Call Report message from mobile switching centre MSC\/visitor location register VLR-A. The reader is referred to the CCBS (call completion to busy subscriber) specifications for a more elaborate background description, namely Third Generation Partnership Project 3GPP technical specifications TS 22.093, TS 23.093, and TS 24.093.","The present invention provides a method of setting up a call connection to a mobile station operative to communicate with a Customised Application for Mobile Enhanced Logic CAMEL telecommunications network, the call being initiated by an Open Service Architecture OSA application causing a message to be produced which indicates to the network that the mobile station is now available to make a ring back call connection, the network setting up the call connection in response to the message.","In preferred embodiments, a mechanism is thus provided to support Open Service Architecture OSA application initiated calls in CAMEL phase 3 networks or in networks with lower CAMEL capability (e.g. CAMEL phase 2). The mechanism is preferably to support application-initiated calls by means of reusing the Completion of Calls to Busy Subscriber (CCBS) Remote User Free (RUF) procedure in the home location register (HLR) and the CCBS (call completion to busy subscriber) Network Initiated Mobile Originated (NIMO) process in the switch (mobile switching centre (MSC)\/visitor location register (VLR)). These CCBS (call completion to busy subscriber) procedures allow the home location register (HLR) to instruct the switch to initiate a sequence whereby a call to a specified party is set up.","Preferably the message is a Completion of Calls to Busy Subscriber CCBS Remote User Free RUF message.","Preferably the network sets up the call connection using Completion of Calls to Busy Subscriber CCBS network-initiated mobile-originated NIMO procedures.","Preferably in the network comprising a home location register HLR of the mobile station and a visited mobile switching centre VMSC\/visited location register VLR with which the mobile station is currently associated, the home location register HLR constructs the message, and instructs the visited mobile switching centre VMSC\/visited location register VLR to make a Completion of Calls to Busy Subscriber CCBS Re-call so as to setup the call connection in response to the message. Furthermore preferably the home location register HLR constructs a SETUP message for use in call setup comprising call setup information. Furthermore preferably the SETUP message is constructed using parameters from routeReq methods for the mobile station.","The present invention also provides a method of controlling a call to a mobile station operative to communicate with a Customised Application for Mobile Enhanced Logic CAMEL telecommunications network comprising the above method of setting up the call connection, and the OSA application controlling the call connection after call connection setup.","In some preferred embodiments, a mechanism is thus also provided to support Open Service Architecture (OSA) application initiated calls in CAMEL phase 2 networks and phase 3 networks, with application control after call setup. Preferably use is made of the remote user free (RUF) and network initiated mobile originated (NIMO) procedures for setting up application initiated calls, and, in addition, make use of existing CAMEL procedures to perform subsequent control over the call.","Preferably the home location register HLR or visited mobile switching centre VMSC\/visited location register VLR with which the mobile station is currently associated is provided with CAMEL subscription information CSI so as to enable said controlling the call connection after call connection setup.","Preferably the home location register updates the visited mobile switching centre VMSC\/visited location register VLR with CAMEL subscription information CSI, in the absence of which pseudo\u2014CAMEL subscription information CSI is sent instead which is deleted upon the call connection being set up.","Preferably the visited mobile switching centre VMSC\/visited location register VLR is operative to check the CAMEL subscription information CSI or pseudo\u2014CAMEL subscription information CSI and if the information is found acceptable an initial detection point InitialDP is sent to a call control server including an identifier that the OSA application may have control over the call connection. The call control server can be a service control point acting as an OSA Gateway.","Preferably the visited mobile switching centre VMSC\/visited location register VLR responds to the message by sending to the call control server an acknowledgement including an identifier field which matches that in the initial detection point, the server being operative to check whether the two identifiers match and if so notify the OSA application of its control of the call connection after call connection setup.","Furthermore preferably the call control server enables notification to the OSA application of subsequent events in processing the call at the visited mobile switching centre VMSC\/ visited location register VLR so as to enable call connection control operations by the OSA application.","The present invention also provides corresponding wireless telecommunication systems. For example, the present invention also provides a wireless telecommunications system comprising a Customised Application for Mobile Enhanced Logic CAMEL telecommunications network, and a mobile station, the network being operative to set up a call connection to the mobile station, the call being initiated by an Open Service Architecture OSA application causing a message to be produced which indicates to the network that the mobile station is now available to make a ring back call connection, the network being operative to set up the call connection in response to the message.","Two systems are described in turn below. The first involves using CCBS (call completion to busy subscriber) procedures for application initiated calls. The second additionally involves control by the application after call setup also.","Using CCBS (Call Completion to Busy Subscriber) Procedures for Application Initiated Calls","The basic idea presented in this section is to make use of the existing remote user free (RUF) and network initiated mobile originated (NIMO) procedures described above in order to support application initiated calls for the Open Service Architecture (OSA) createCall( ) application programming interface (API) method. As shown in , an interface is introduced between the Open Service Architecture (OSA) Call Control Service Capability Server (SCS) and the home location register (HLR), and createCall( ) and routeReq( ) methods (i.e messages) mapped onto the mobile application part (MAP) Remote User Free operation (i.e message) by the HLR. This requires processing on the home location register (HLR) in order to construct a SETUP message, telling the network that a CCBS (call completion to busy subscriber) target (subscriber B) is available, and instructing the network to setup a CCBS (call completion to busy subscriber) Recall, even though a CCBS (call completion to busy subscriber) activation request was not issued by subscriber A. The basic mechanism is depicted in .","The mechanism depicted in  involves the home location register (HLR) to setup the call. It is however not possible for the home location register (HLR) to control the call. Therefore, after application initiated call setup, the application has no control over the call anymore, although it is still possible for the application to receive call event reports. Processes in the home location register (HLR) are required to:","(1) Perform a mapping (translation) from the \u201cCCBS (call completion to busy subscriber) remote user free RUF Ack\u201d mobile application part (MAP) operation (i.e message) to the routeRes( ) method (i.e message), with the CallReportType field of the responseRequested parameter of the routeRes( ) method set to P_CALL_REPORT_UNDEFINED. This may be interpreted as the CAMEL Event analyzedlnformation, signalling an origination call attempt.","(2) Perform a mapping (i.e translation) from the \u201cCCBS (call completion to busy subscriber) Call Report\u201d mobile application part (MAP) operation to the routeRes( ) method, with the CallReportType field of the responseRequested parameter set to P_CALL_REPORT_ANSWER.","(3) Override the CCBS (call completion to busy subscriber) supplementary service settings for the subscriber. In the case that the subscriber is not provisioned with CCBS (call completion to busy subscriber), the home location register (HLR) overrides this. In the case that the subscriber is provisioned with CCBS (call completion to busy subscriber), no change in the subscription data for this particular subscriber is required.","The CCBS (call completion to busy subscriber) SETUP Container information element is defined in Third Generation Partnership Project 3GPP technical specification TS 24.008. The routeReq( ) method and the data types of the parameters within it are defined in Third Generation Partnership Project 3GPP technical specification TS 29.198-04, and are as shown in .","The following table, namely Table 1, shows the mapping from the Open Service Architecture OSA application programming interface (API) method routeReq( ) parameters and data types in order to populate the SETUP message to be sent in the mobile application part (MAP) remote user free (RUF) operation. The SETUP message data fields for which no mappings exist are populated with default values.",{"@attributes":{"id":"p-0034","num":"0033"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 1"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Open Service Architecture (OSA) routeReq(\u2009) to SETUP Mapping"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"112pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"105pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["SETUP Information Element","routeReq(\u2009) Method"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Call control Protocol discriminator","No mapping"]},{"entry":["Transaction identifier","No mapping"]},{"entry":["Setup Message type","No mapping"]},{"entry":"BC repeat indicator"},{"entry":["Bearer capability 1","appInfo (TpCallAppInfo)"]},{"entry":[{},"CallAppBearerService"]},{"entry":[{},"(TpCallBearerService)"]},{"entry":["Bearer capability 2","appInfo (TpCallAppInfo)"]},{"entry":[{},"CallAppBearerService"]},{"entry":[{},"(TpCallBearerService)"]},{"entry":["Facility","No mapping"]},{"entry":["Progress indicator","No mapping"]},{"entry":["Signal","No mapping"]},{"entry":["Calling party BCD Number","originatingAddress"]},{"entry":["Calling party sub- Address","originatingAddress (TpAddress)"]},{"entry":[{},"SubAddressString"]},{"entry":["Called party BCD Number","originalDestinationAddress"]},{"entry":["Called party sub- Address","originalDestinationAddress"]},{"entry":[{},"(TpAddress)"]},{"entry":[{},"SubAddressString"]},{"entry":["Redirecting party BCD number","redirectingAddress"]},{"entry":["Redirecting party sub-address","redirectingAddress (TpAddress)"]},{"entry":[{},"SubAddressString"]},{"entry":["LLC repeat indicator","No mapping"]},{"entry":["Low layer Compatibility I","No mapping"]},{"entry":["Low layer Compatibility II","No mapping"]},{"entry":["HLC repeat indicator","No mapping"]},{"entry":["High layer Compatibility I","No mapping"]},{"entry":["High layer Compatibility II","No mapping"]},{"entry":["User-user","No mapping"]},{"entry":["Priority","No mapping"]},{"entry":["Alert","appInfo (TpCallAppInfo)"]},{"entry":[{},"CallAppAlertingMechanism"]},{"entry":["Network Call Control Capabilities","No mapping"]},{"entry":["Cause of No CLI","No mapping"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},"The routeRes( ) method-and the data types of the parameters are defined in Third Generation Partnership Project 3GPP technical specification TS 29.198-04 and are as shown in .","Table 2 presented below shows the mapping (i.e. translation) from the mobile application part (MAP) operation \u201cCCBS (call completion to busy subscriber) remote user free RUF Ack\u201d to the Open Service Architecture (OSA) application programming interface (API) method routeRes( ) parameters and data types.",{"@attributes":{"id":"p-0037","num":"0036"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 2"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Mobile application part (MAP) CCBS (call completion"},{"entry":"to busy subscriber)"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Multiple application part MAP",{}]},{"entry":"CCBS RUF Ack"},{"entry":["(RemoteUserFreeRes)","routeRes"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["No Mapping","callSessionID"]},{"entry":["Ruf-Outcome","EventReport"]},{"entry":[{},"CallReportType"]},{"entry":["accepted (0),","P_CALL_REPORT_UNDEFINED"]},{"entry":["rejected (1),","P_CALL_REPORT_ROUTING"]},{"entry":[{},"FAILURE"]},{"entry":["noResponseFromFreeMS (2), -","P_CALL_REPORT_NO_ANSWER"]},{"entry":"T4 Expiry"},{"entry":["noResponseFromBusyMS (3), -","P_CALL_REPORT_NO_ANSWER"]},{"entry":"T10 Expiry"},{"entry":["udubFromFreeMS (4),","P_CALL_REPORT_BUSY"]},{"entry":["udubFromBusyMS (5),","P_CALL_REPORT_BUSY"]},{"entry":["No Mapping","CallLegsessionID"]},{"entry":["extensionContainer","No Mapping"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}},"br":{}},"Table 3 presented below shows the mapping (i.e translation) from the mobile application part MAP operation \u201cCCBS (call completion to busy subscriber) Call Report\u201d to the Open Service Architecture OSA application programming interface API method routeRes( ) parameters and data types.",{"@attributes":{"id":"p-0039","num":"0038"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 3"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Mobile application part MAP CCBS (call completion"},{"entry":"to busy subscriber) Call Report to Open Service Architecture"},{"entry":"OSA routeRes( ) Mapping"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Multiple application part",{}]},{"entry":["MAP CCBS Call Report",{}]},{"entry":["(StatusReportArg)","routeRes"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["No Mapping","callSessionID"]},{"entry":["Imsi","No Mapping"]},{"entry":["EventReportData","No Mapping"]},{"entry":["callReportData","EventReport"]},{"entry":["callOutcome","CallReportType"]},{"entry":["success (0)","P_CALL_REPORT_ANSWER"]},{"entry":["failure (1)","P_CALL_REPORT_ROUTING_FAILURE"]},{"entry":["busy (2)","P_CALL_REPORT_BUSY"]},{"entry":["extensionContainer","No Mapping"]},{"entry":["No Mapping","CallLegsessionID"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}},"br":{}},"An overview of the network architecture is shown in  as described previously.  shows the functional network entities involved, and identifies where new processing was required. As is depicted, new processing was required only on centralized entities in the network, i.e. the Open Service Architecture (OSA) service capability server (SCS) and the home location register (HLR), minimizing the impact on the network (i.e. the mobile switching centre (MSC)\/visitor location register (VLR)) and its operations (i.e. the network initiated mobile originated (NIMO) procedure).","The Open Service Architecture (OSA) application that makes use of the application initiated call functionality is executed on the Open Service Architecture (OSA) Application Server. The Open Service Architecture (OSA) Application Server communicates with the Open Service Architecture (OSA) Service Capability Server, over the Open Service Architecture (OSA) application programming interface (API)interfaces. The mobile subscriber is served by an mobile switching centre (MSC) that supports the CCBS (call completion to busy subscriber) network initiated mobile originated (NIMO procedure (Network Initiated Mobile Originated). No control software updates are required for the mobile switching centre MSC\/visitor location register VLR or for the network initiated mobile originated (NIMO) procedure.","From the point of view of the Open Service Architecture (OSA)Application Server, it is irrelevant that the CCBS (call completion to busy subscriber) procedures are being used to realize the functionality for the Open Service Architecture (OSA) createCall( ) method. The Open Service Architecture (OSA) application is not concerned with details of network functionality. From the point of view of the mobile switching centre (MSC)\/visitor location register (VLR), it is irrelevant that the CCBS (call completion to busy subscriber) message exchange over the mobile application part (MAP) interface is required to support Open Service Architecture (OSA) application initiated calls. As far as the mobile switching centre (MSC)\/visitor location register (VLR) is concerned, it is engaged in normal CCBS (call completion to busy subscriber) processing, i.e. the modifications in the home location register (HLR) and the Open Service Architecture (OSA) service capability server (SCS) have no impact on the rest of the network entities.","In this case, the fact that application initiated calls can only be setup by the application somewhat restricts the possible applications that can be deployed. The application can setup the call, but has no further control over it. This is known as monitor mode whereby events pertaining to a call in progress can be monitored (in particular by receiving event notifications) but not influenced. This is often acceptable, for instance for setting up large numbers of pushed advertisement calls where an announcement is played to the subscribers.","Including Application Control After Call Setup Where Supporting Open Service Architecture (OSA) Application Initiated Calls in CAMEL Phase 1 Phase 2 or Phase 3 Networks.","The mechanism described above supports application initiated calls, where the application can only set up the call, but not exercise any control over it during the lifetime of that call. This limited functionality is caused by the fact that the home location register (HLR) cannot control a call; the home location register (HLR) can only request its setup","In order to perform subsequent control over the call, the switch (i. e mobile switching centre (MSC)) needs to be involved in the process.","The idea underlying the further system now described is basically to make use of the existing remote user free (RUF) and network initiated mobile originated (NIMO) procedures of the CCBS (call completion to busy subscriber) service for setting up application initiated calls and also to make use of existing CAMEL procedures to perform subsequent control over the call.","The mechanism is depicted below in . For control over the call initiated by an Open Service Architecture (OSA) application, the served subscriber (i.e. to whom the call is being made) needs to be provisioned with CAMEL Subscription Information (CSI). Generally, CAMEL subscription information (CSI) is part of the subscriber data that is stored in the home location register (HLR) of the user's home network and several CSIs may exist for a CAMEL subscriber as documented in 3GPP TS 23.078. For our purposes, two CSIs are relevant, namely the Originating CAMEL subscription information CSI (O-CSI) and the Dialled Services CAMEL subscription information CSI (DS-CSI). The CAMEL subscription information CSI associated with a mobile originated call (O-CSI and the DS -CSI) are transferred from the home location register (HLR), during the location update procedure, to the visited mobile switching centre (VMSC)\/visitor location register (VLR) associated with the area in which the subscriber is currently located. Associated with each CAMEL subscription information CSI are the criteria that have to be fulfilled and for every call attempt by a subscriber, these CAMEL subscription information (CSI) are checked to determine if CAMEL interaction should take place. In the context of Open Service Architecture (OSA), CAMEL messages are translated to methods (i.e messages) in the Call Control Service Capability Feature (as described in the 3GPP technical report TR 29.998).","The application does not explicitly arm a trigger in the network to be notified of call origination attempts (as would be achieved by invoking say an enableCallNotification method). Rather, the application requests the creation of a call object in the Call Control service capability server (SCS), by invoking the createCall method. As a result, a callReference is returned. The application then invokes the routeReq method to request the call to be setup in the network. The responseRequested parameter is populated with event detection points of which the application would like to be notified for the remainder of this call, and the Call Control service capability server (SCS) temporarily stores these event detection points. At this point the Call Control service capability server (SCS) perform the behaviour-equivalent of a enableCallNotification method in order to arm a trigger in the network, without that method actually being invoked. This way, the application does not need to be aware of the CCBS (call completion to busy subscriber) solution to setting up application-initiated calls.","In order to ensure that the application can subsequently control the call, the necessary CAMEL triggers need to be set. If the served subscriber is not currently provisioned with an O-CSI or a DS-CSI, the home location register (HLR) needs to create a temporary \u2018pseudo\u2019 O-CSI or DS-CSI for the user, which is only valid until the Open Service Architecture (OSA) application initiated call is established. This temporary \u2018pseudo\u2019 CAMEL subscription information CSI (DS-CSI or O-CSI) is sent to the Visited mobile switching centre (MSC) from the home location register (HLR) using a mobile application part (MAP) operation Insert Subscriber Data. The mobile switching centre (MSC)\/visitor location register VLR-A is not aware about the temporary nature of the \u2018pseudo\u2019 CAMEL subscription information CSI. The home location register (HLR) subsequently requests the mobile switching centre (MSC)\/visitor location register VLR-A to delete this \u2018pseudo\u2019 CAMEL subscription information (CSI) after the Open Service Architecture (OSA) initiated call has been established.","If the served subscriber is already provisioned with an O-CSI or DS-CSI, then the home location register (HLR) needs to check if any updates to the CSIs are required to ensure subsequent triggering for the Open Service Architecture (OSA) initiated call. If updates to the CAMEL subscription information CSI are required, then the home location register (HLR) informs the mobile switching centre (MSC)\/visitor location register VLR-A using the existing mobile application part (MAP) Insert Subscriber Data operation. If no updates are required no such action is taken.","In a separate parallel process, the routeReq method is mapped to the  \u201cCCBS (call completion to busy subscriber) Remote User Free (RUF)\u201d mobile application part (MAP) operation, as described previously above. As per currently standardised CCBS (call completion to busy subscriber) call processing, the terminal of subscriber A sends a CCBS (call completion to busy subscriber) Set-up message to the mobile switching centre (MSC)\/visitor location register VLR-A. This SETUP message results in a \u201cCCBS (call completion to busy subscriber) remote user free (RUF) Ack\u201d mobile application part (MAP) operation (i.e message) to the home location register (HLR). When the SETUP message is received at the mobile switching centre (MSC)\/visitor location register VLR-A, the CSIs for the served subscriber are checked and the result here is that CAMEL procedures are invoked (since as described earlier the home location register (HLR) ensured that this would take place by verifying the CSIs). This results in an initial detection point \u201cInitialDP\u201d CAMEL application part (CAP) operation to a global-system-for-mobiles service control function gsmSCF (acting as the Open Service Architecture (OSA) gateway). Processing is required in the mobile switching centre (MSC)\/visitor location register VLR-A in order to map the callReferenceNumber field of the \u201cInitialDP\u201d into a field (specifically the extensionContainer parameter) of the \u201cCCBS (call completion to busy subscriber) remote user free (RUF) Ack\u201d so that they match. This will allow the Call Control service capability server (SCS) later on to correlate these two messages. The home location register (HLR) then forwards a message to the Call Control service capability server (SCS) as a result of the \u201cCCBS (call completion to busy subscriber) remote user free (RUF) Ack\u201d and then a global-system-for-mobiles service control function gsmSCF forwards a message to the Call Control service capability server (SCS) as a result of the \u201cInitialDP\u201d. The initial detection point \u201cInitialDP\u201d indicates that the application may have further control over the call (e.g. to re-route the call under No Answer or Busy conditions).","As explained in the last paragraph, the Call Control service capability server (SCS) correlates the two messages and as the fields match hence deduces that the initial detection point \u201cInitialDP\u201d was fired for the application-initiated call. The Call Control service capability server (SCS) will then invoke the callEventNotify method (as a result of the initial detection point \u201cInitialDP\u201d and the CCBS (call completion to busy subscriber) remote user free (RUF) Ack messages including the same callReferenceNumber) so as to notify to the application that the application has full control over the call. To do this the Call control service capability server (SCS) must use the callReference parameter of the call process that was already created in the Call Control service capability server (SCS) from the initial createCall. (For comparison, normal Call Control service capability server (SCS) behaviour, according to Third Generation Partnership Project 3GPP technical specification TS 29.198-04, would have been to create instead a new call process once an initial detection point \u201cInitialDP\u201d is received.)","To control the call, the Call Control service capability server (SCS), by means of a message, instructs the a global-system-for-mobiles service control function gsmSCF to send a CAMEL application part CAP \u201cRequestReportBSCM\u201d message, (where BSCM denotes basic call state model), so as to enable notification to the application of subsequent events in processing the call at the mobile switching centre (MSC). A CAMEL application part (CAP) \u201cContinue\u201d operation or CAMEL application part (CAP) \u201cconnection\u201d operation may then follow. A CAMEL application part (CAP) \u201ccontinue\u201d operation is to allow the call to proceed with the original setup parameters. A CAMEL application part (CAP) \u201cconnection\u201d operation is to modify the destination address of the call (e.g. for rerouting).","This approach, where an application-initiated call can subsequently also be controlled by the application, is suited to, for example, a wake-up\/alarm call application, where it is important that the application has the ability to perform alternative behavior in case the call is not terminated at the B subscriber, e.g. to perform re-direction in the case of a Busy or No Answer message being returned."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Preferred embodiments of the present invention will now be described by way of example and with reference to the drawings, in which:",{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 6"}]},"DETDESC":[{},{}]}
