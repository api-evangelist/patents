---
title: Storing and accessing data in a mobile device and a user module
abstract: The invention relates to methods for storing and accessing user data () and configuration data () in a mobile device () that is connected to a user module (). According to a first aspect of the invention, the user data () is stored in the mobile device () at least partially in encrypted form, and is decrypted, in access operations, using a decrypting function () of the user module (). According to a second aspect of the invention, the configuration data () is stored in the user module (). The configuration data () indicates whether, or to what extent, an application program () is allowed to be executed by the mobile device (). Security and protection against unauthorised access to user data () and application programs () in the mobile device () are increased by the invention.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07962762&OS=07962762&RS=07962762
owner: Giesecke & Devrient GmbH
number: 07962762
owner_city: MÃ¼nchen
owner_country: DE
publication_date: 20021202
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["CROSS REFERENCE TO RELATED APPLICATIONS","FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF EMBODIMENTS OF THE INVENTION"],"p":["This application is a National Stage of International Application No. PCT\/EP02\/13627, filed Dec. 2, 2002.","The invention relates generally to the technical field of storing and accessing data in mobile devices, as well as in user modules for devices of this type. Mobile devices that provide the user with both telecommunications functions (for example, the transfer of speech and\/or data via a telecommunications network) and application programs (for example, an appointment scheduler or a text editor) are a preferred area of application of the invention. Mobile devices of this type may, in particular, be configured as powerful mobile telephones or as PDAs (personal digital assistants).","German laid-open application DE 197 24 901 A1 discloses a mobile telephone to the GSM standard (GSM=global system for mobile communication). The mobile telephone comprises a control unit, a device memory and an interface for a subscriber identity module (SIM). User data, such as address lists, turnover data or price lists, for example, may be loaded into the device memory via a line connection to a computer. It is also possible to load programs (not described in greater detail) into the device memory via the line connection, and subsequently to execute them through the mobile telephone. Data may be transferred in an integrity-assured or encrypted form.","When GSM mobile telephones are switched on, there is generally an authorisation check, wherein the user has to enter a personal secret number (PIN=personal identification number). The full user interface, including the option to access the user data stored in the mobile telephone, is only enabled if the secret number is entered correctly. Most confidential user data is therefore secure to a certain degree. There is, however, the problem that sufficiently devoted criminals are able to get round this security. Memory components of mobile telephones may, for example, be read out directly at hardware level using appropriate devices.","It is particularly beneficial to store user data in a mobile device if the mobile device is also set up to execute application programs for processing this user data. Powerful GSM mobile telephones and PDAs nowadays have this functionality. Because of the high transfer speeds of mobile devices of the 2.5th and 3rd generations, such as, for example, devices for the GPRS (general packet radio service), EDGE, UMTS (universal mobile telecommunications system) and WCDMA (wideband code-division multiple access) networks, application programs may be loaded and\/or updated from a service provider into the mobile device via the air interface.","Said mobile devices are beset with problems and require improvement in numerous respects. In the first place, it should be possible to prevent unauthorised access to application programs. It should therefore be ensured that only the authorised user may call an application program, or individual secured functions of the application program. Secondly, it would be desirable to be able to offer the user a selection of functions that was tailored as closely as possible to his requirements. Thirdly, the provided functions should be as device-independent as possible.","An object of the invention is to solve said problems, completely or in part. A further object of the invention is to increase, in particular, security and protection against unauthorised access to user data and application programs in a mobile device. Yet a further object in preferred configurations of the invention is to provide a high degree of user convenience. Yet a further object in preferred configurations of the invention is that the invention is capable of being implemented cost-effectively.","According to a first aspect of the invention, the above objects are achieved, completely or in part, by a method for storing and accessing user data in a mobile device, the mobile device comprising a device memory and being connected to a user module via an interface, wherein the user data is stored in the device memory of the mobile device at least partially in encrypted form, and at least the decryption of the user data in access operations is performed using a decrypting function, which is provided by the user module and which is executed, at least in part, by a processor unit of the user module.","Further according to the first aspect of the invention, the above objects are achieved, completely or in part, by a mobile device comprising a device memory and an interface for connecting a user module, the device memory comprising at least one region for storing user data in at least partially encrypted form, wherein the mobile device is set up to use a decrypting function at least for decrypting the user data in access operations, the decrypting function being provided by the user module and being executed, at least in part, by a processor unit of the user module.","Further according to the first aspect of the invention, the above objects are achieved, completely or in part, by a user module comprising a processor unit and being set up to be connected to a mobile device via an interface, the mobile device comprising a device memory having at least one region for storing user data in at least partially encrypted form, wherein the user module is set up to provide the mobile device via the interface with a decrypting function at least for decrypting the user data in access operations, the decrypting function being executed, at least in part, by the processor unit of the mobile device.","According to a second aspect of the invention, the above objects are achieved, completely or in part, by a method for storing and accessing configuration data and for executing at least one application program in a mobile device, the mobile device comprising a device memory for the application program and being connected, via an interface, to a user module comprising a module memory, wherein the configuration data concerns at least the availability of the application program, or of individual functions thereof, and the configuration data is stored in the module memory and is read out therefrom, in order to determine whether, or to what extent, the application program will be executed.","Further according to the second aspect of the invention, the above objects are achieved, completely or in part, by a mobile device comprising a device memory for an application program and being connected, via an interface, to a user module comprising a module memory, wherein configuration data, which concern at least the availability of the application program, or of individual functions thereof, may be read out from the module memory via the interface, and wherein the mobile device is set up to determine, depending on the configuration data read out from the module memory, whether, or to what extent, the application program will be executed.","Further according to the second aspect of the invention, the above objects are achieved, completely or in part, by a user module comprising a module memory and being set up to be connected via an interface to a mobile device, the mobile device comprising a device memory for an application program, wherein the user module is set up to store configuration data in the module memory, the configuration data concerning at least the availability of the application program, or of individual functions thereof, and wherein the user module is set up to allow the mobile device to read out the configuration data via the interface in order to determine whether, or to what extent, the application program will be executed.","The invention starts from the basic idea of meeting the above-mentioned security requirements by storing user data and configuration data, respectively, in a suitable manner.","The first aspect of the invention relates to storing user data. Said data is stored, according to the invention, in encrypted form in the device memory of the mobile device. Corresponding functions, which are provided by the user module, are used at least to decrypt (and, in preferred configurations, also to encrypt) the user data.","Because all of the user data in the memory of the mobile device is in encrypted form only, said data is protected from prying eyes even if an unauthorised user bypasses the normal user interface of the mobile device to access the content of the device memory. The device memory, which is generally quite large, may be used to store user data without concerns for security, whereby relatively large amounts of data and complex data structures may be carried in the mobile device.","The user data to be stored according to the invention may be any data that the user desires. Preferably, it is data that may also be processed by an application program that runs on the mobile device, such as, for example, appointment and address lists for processing by an appointment scheduler having an address book function, business tables for processing, for example, by spreadsheet programs, speech data generated, for example, by dictation recording programs, or general texts for processing by text editors. It may also be desirable to store user data for which there is no appropriate application program available in the mobile device. In this case, the mobile device acts as a secure data carrier for exchanging user data between the workplace and a home office, for example.","In preferred configurations, the encrypting and decrypting functions are executed, completely or in part, by a processor unit of the user module, wherein the processor unit accesses key data that is contained in a module memory. The key data does not need to leave the user module in these configurations, allowing a particularly high degree of security to be obtained. This is the case, in particular, if the key data is also generated within the user module and written into the module memory. There are, however, also configurations of the invention wherein at least the encrypting, and optionally also the decrypting, of the user data is\/are executed, completely or in part, by a processor unit of the mobile device, to which the encrypting and\/or decrypting functions provided by the user module are transferred.","Preferably, an asymmetrical encrypting method, such as, for example, the RSA (Rivest-Shamir-Adleman) method is used. In this case, the key data comprises a public key and a private key. There are, however, also configurations wherein symmetrical encryption methods are used. In conceptual terms, reference is made to \u201cencrypting and decrypting functions\u201d in these configurations also, even though the same calculation steps are executed in both cases.","According to the invention, the user module is required at least for executing the decrypting steps. This in itself provides a certain degree of protection, as the user module and the mobile device may be kept separate. In preferred embodiments, it is, however, provided that at least the decrypting function is not enabled until a password (passphrase) has been entered and\/or a biometric test, such as, for example, verification of a finger print or speech analysis, has been carried out. Through this measure, data security is ensured even if both the mobile device and the user module are mislaid.","The second aspect of the invention relates to the use of configuration data when executing an application program in the mobile device. This aspect is based on the basic idea of indicating, by means of the configuration data, the availability of the entire application program, or of individual functions of the application program. The configuration data is stored in the user module, while the application program is contained in the mobile device. The application program is executed only if, or to the extent that, it is indicated by the configuration data.","The teaching according to the invention offers protection against unauthorised execution of the application program or of individual program functions, because, in addition to the mobile device, the user module, with the corresponding configuration data allowing the program to be executed, is also always required. The invention also creates the technical basis for providing a program configuration that is tailored precisely to the requirements of the user. This is important, in particular, if there is a fee, which is dependent on the functionality provided, to be paid for using the program, as is the case, for example, with ASP schemes (ASP=application service providing). As the configuration data is stored, according to the invention, in the user module, the user may set up the configuration that he desires in any compatible mobile device, simply by plugging in the user module.","The term \u201capplication program\u201d, as it is used here, refers, in particular, to programs that execute data processing functions with regard to the above-mentioned user data. If the mobile device is a device with telecommunication functions, the application programs are preferably independent of these telecommunication functions, or may at least also be used for other purposes. Examples of typical application programs include appointment schedulers, address books, text editors, spreadsheet programs, databases, dictation recording programs, etc. The term \u201capplication programs\u201d, as it is used here, also includes programs that only provide user interfaces for the above-mentioned or similar applications (while the actual data processing is executed through the server of an ASP provider). In some configurations, browsers and viewers are also provided for displaying documents, in a formatted manner, as application programs. Application programs may, however, also be playback programs for multimedia content\u2014in MP3 format, for example.","In order to further increase protection against unauthorised execution of the application programs, the read-out of the configuration data is preferably protected by a password and\/or a biometric test, such as a voice or fingerprint analysis, for example. In this case, the user module only releases the configuration data, and thus allows the corresponding application program or the corresponding program function to be executed, if the user has provided sufficient evidence of his identity through the password and\/or his biometric data.","The functionality according to the invention may also be used with mobile devices that contain one or more fixedly stored application programs. The configuration data is, however, preferably also used to control the loading of application programs, or at least of parts thereof, into the mobile device. In mobile devices that comprise powerful functions for wireless data transfer, in particular, the application programs or the required program modules may be loaded from an external service provider via the air interface. This option is particularly advantageous in conjunction with ASP schemes. It is considerably more convenient for the user if he may initiate automatic loading of the required application programs corresponding to his configuration, simply by using the user module on any compatible mobile device. Non-proprietary loading of application programs is supported by using programming languages that operate independently of the computer platform, as is the case, for example, with Java\u00ae.","A combination of said two aspects of the invention is particularly advantageous, as this provides protection against unauthorised access to user data and protection against unauthorised execution of application programs.","In preferred configurations of the above-mentioned two aspects, the mobile device is a telecommunications device, in particular a mobile telephone or a personal digital assistant (PDA) having telephone functions. The user module is preferably a subscriber identity module (SIM), as is required for logging into a telecommunications network. A user module may, in particular, be provided that is protected from manipulation as a so-called trusted device or tamper-resistant device, so that encrypting and decrypting functions, or encrypted data, or confidential configuration data is\/are protected from prying eyes. A subscriber identity module may be used even if the mobile device does not have any telephone functions or the module is not registered with a telephone provider, as modules of this type are produced in large numbers and may therefore be obtained relatively cheaply.","The mobile device and the user module are preferably further developed with features that correspond to the above-described features and\/or further features.",{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 1","b":["10","12","14","10","12","10","18","16","10"]},"In a manner known per se, the mobile device  comprises a high-frequency component , which sends and receives radio waves via an antenna . A digital signal processor (DSP)  is used to process the transmitted or received signal. The digital signal processor  also processes low-frequency signals, which are directed to a loudspeaker  via a low-frequency component , or are sent from a microphone , via the low-frequency component , to the digital signal processor . A processor unit  coordinates all of the operations taking place in the mobile device . The processor unit  is connected to the interface , the digital signal processor , a display , configured here as a graphic-capable LCD display, a keyboard  and a device memory . The device memory  may be configured in a fixedly installed or removable manner\u2014in the form of a memory card, for example.","The device memory  is implemented by means of a plurality of semiconductor chips in various memory technologies. In the conceptual representation of , the device memory  comprises a read-only region  (implemented, for example, as a mask-programmed ROM) and a writable region , implemented, for example, as a RAM or EEPROM or FLASH memory. The read-only region  of the device memory  contains, in particular, operating programs , which are executed by the processor unit  as the basic operating system of the mobile device , as well as for implementing telecommunication functions. Application programs  and user data  are loaded into the writable region .",{"@attributes":{"id":"p-0034","num":"0033"},"figref":["FIG. 1","FIG. 1","FIG. 1"],"b":["46","46","1","46","2","48","1","46","1","48","2","46","2","48","46","32","48","48","38"]},"The user module  is configured as an SIM (subscriber identity module) for the telecommunications network , and the interface  also corresponds mechanically and electrically to the standards provided for this telecommunications network . The user module  comprises a processor unit , which is configured as a microcontroller and is integrated with a module memory  on a single chip. The module memory  is sub-divided, by various memory technologies, into a read-only region  and a writable region .","The module memory  contains control programs and data, which, firstly, provide basic operating system functions for the user module  and, secondly, allow the log-in and the telecommunications operation of the mobile device  with regard to the telecommunications network . For the sake of clarity, these control programs and data are not shown separately in . Cryptographic functions  in the read-only region  of the module memory , and key data  and configuration data  in the writable region , are particularly relevant for the aspects according to the invention of the embodiment described here, and are therefore shown in .","The cryptographic functions  include an encrypting function , a decrypting function  and a key generating function . The key data  is divided into a public key  and a private key . The configuration data  comprises a corresponding configuration data record for each application program  provided in the mobile device , i.e. in the embodiment described here, a configuration data record . for the appointment scheduler . and a configuration data record . for the text editor ..","In operation, the system shown in  provides the conventional telecommunication functions corresponding to the respective standards, in the present case GSM and GPRS. In addition, the user may start the application programs , and process the user data  or other data therewith.","In order to provide the application programs , the mobile device  accesses the configuration data  in the user module  when the mobile device  is switched on or, at the latest, when the user wishes to start an application program . This access takes place via the processor unit  of the user module , which, in turn, requires that a password is entered before it allows the access. The password request is displayed on the display  of the mobile device , and the user enters the corresponding password via the keyboard . The processor unit  checks that the password entered is the correct one.","If the user has entered the correct password, the user module  transfers the requested configuration data  (either all of the configuration data  or only the data record ., . provided for the respective application program ., .) to the mobile device . The processor unit  then checks whether, according to the transferred configuration data , ., ., it is permissible to execute application programs  or the specifically requested application program ., .. If so, the program execution is allowed.","If the desired application program ., . is already located in the device memory , the program may be started immediately. Otherwise, the required program or user data, for which a fee may be charged, is loaded into the device memory  via the air interface  and the telecommunications network  from a server of an ASP provider. This download process also has to be authorised by the user module , which acts as a so-called gatekeeper. Even if the desired application program ., . is already contained in the device memory , a request may nevertheless be placed with the ASP service provider, via the air interface , firstly to transfer billing data and secondly to import any program updates, which may be available, into the mobile device .","In the embodiment described here, the configuration data  concerns not only the basic user authorisations, but also preferred settings of the application programs , such as, for example, preset file paths, language settings, menu configurations and other user preferences. These settings are made accessible to the started application program , so that the user always works with the program configuration that he desires. This is true even if the user connects his user module  to a new or different mobile device .","If application programming interfaces (APIs) become sufficiently standardised, as is expected in the medium term using the programming language Java\u00ae, for example, ASP providers will be able to offer application program services that are individually tailored to each user and are independent of the mobile device  used. A high level of security will also be obtained, as all of the application programs  may only be called if the user module  is present and the password has been entered. In order to prevent the mobile device  from being misused, in the event of it being stolen when switched on (after the user has entered the password), it may be provided that, after the user has been inactive for a predetermined length of time, it is requested that the password is re-entered, as is already known per se with screen savers for office computers that are not in use, for example.","In the embodiment described hitherto, an application program  was considered as the smallest unit for the authorisation mechanism and optionally the loading process via the air interface . Depending on the programming technology employed, a finer level of granularity may, however, also be used. The configuration data  may thus relate to the authorisation of the user to execute individual program functions or individual program modules, for example, and these program functions or program modules may, if required, be loaded individually via the air interface . This approach allows, firstly, long loading times to be avoided and, secondly, even more precise tailoring to user preferences. Also, in updating application programs  via the air interface , preferably only program modules that have actually changed relative to the version already in the mobile device  are transferred.","The user data  processed by the application programs  are stored in the device memory , either completely or at least partially in encrypted form. The user may, for example, be provided with a file system for storing user data , wherein individual folders or individual drives are selectively set for encrypted or unencrypted data storage. A similar functionality for stationary office computers, which does not employ a user module, is already known from the product PGPdisk\u00ae, from the manufacturer Network Associates, Inc.","If an application program  were to store user data  in a region of the file system provided for encryption, this data is transferred from the processor unit  via the interface  to the user module . The processor unit  of the user module  executes the encrypting function , wherein the public key  contained in the key data  is used. The encrypted user data  is written into the device memory  via the interface  and the processor unit .","User data  that has been stored in an encrypted form is accessed in a corresponding manner. Here too, the processor unit  of the user module  performs the actual decryption using the decrypting function  and the private key . Before this, however, the processor unit  requests that the user enters a passphrase. Only if the correct passphrase is entered on the keyboard  (or the user is correctly biometrically identified in another manner), is the decrypting process enabled.","In the embodiment described here, encryption and decryption are carried out according to an asymmetrical RSA method. In alternative configurations, in contrast, other asymmetrical or symmetrical encryption and decryption methods, or hybrid forms thereof, such as symmetrical encryption using an asymmetrically encrypted key, are provided. In symmetrical methods, there is no need to distinguish between the public key  and the private key .","In summary, the proposed technology ensures that the encrypted user data  may only be read out or used if the user module  of the authorised user is connected to the interface , and the user has correctly identified himself\u2014by using the passphrase, for example.","In the present embodiment, the entire encryption and decryption procedure is carried out by the processor unit  of the user module , the key data  never leaving the user module . There are, however, alternative configurations, wherein the encrypting function  and the public key , which does not need to be kept secret, are transferred to the mobile device , so that the encryption process may be carried out by the, generally more powerful, processor unit  of the mobile device . In some alternative configurations, the processor unit  may also be used for the decryption process, provided that the security of the private key  is not thereby compromised.","In the present embodiment, the key generating function , which is also executed by the processor unit  of the user module , is used to generate the key data . In a manner known per se, this program calculates a pair of public key  and private key . This measure ensures a particularly high degree of data security, as the private key  does not leave the user module  even when the key is being generated.","The embodiment described here is limited neither to a single encrypted region for the user data , nor to a single encryption method. Assuming that appropriate proof of identity has been furnished, by means of the passphrase, an encrypted region may, for example, be deactivated at any time, and thus rendered freely accessible. The region may also be encrypted again with the same or a different user module . A plurality of encrypted regions, optionally with different key pairs and\/or of different sizes, may also be established and managed.","In the present configuration, in particular, which provides an ASP provider, the encrypted user data  may, in addition to being stored in the mobile device , also be transferred via the air interface  to a server of the ASP provider, and be stored there. The user data  that is stored on both sides may be synchronised each time an application program  performs a write access, or if a user session is ended, or if explicitly requested by the user. The user then has, on the one hand, rapid access to the locally stored user data  and is, on the other hand, independent of the mobile device  used, as he may also retrieve the user data  that is stored with the ASP provider using any other mobile device.","In some configurations, it may also be provided to leave a component of the key with the network operator or the ASP provider. After the mobile device  has been successfully logged into the telecommunications network , this component of the key is transferred via the air interface , so that the network operator or ASP provider shares control of certain user data  stored in the mobile device  with the user."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":"Further features, advantages and objects of the invention will emerge from the following detailed description of an embodiment of the invention and of a plurality of alternative configurations. Reference will be made to the drawing, in which  shows a block diagram of essential functional units of a system according to the embodiment of the invention that is described herein."},"DETDESC":[{},{}]}
