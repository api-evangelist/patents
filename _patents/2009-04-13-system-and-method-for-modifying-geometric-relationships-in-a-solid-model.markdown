---
title: System and method for modifying geometric relationships in a solid model
abstract: A system, method, and computer program for modifying a solid model representation that is manipulated in a computer having software instructions for design, comprising: a computer system, wherein the computer system includes a memory, a processor, a user input device, and a display device; a computer generated geometric model stored in the memory in the memory of the computer system; and wherein the computer system receives user input and accesses at least one data file having a plurality of geometric model definitions that define a geometric model; converts the geometric model definitions into a geometric representation of the geometric model; calculates a plurality of geometric conditions between at least one geometry identified by a user and the geometric model to create a set of constraints; and calculates a modified geometric model with a modified geometry according the set of constraints to display to the user; and appropriate means and computer-readable instructions.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08896597&OS=08896597&RS=08896597
owner: Siemens Product Lifecycle Management Software Inc.
number: 08896597
owner_city: Plano
owner_country: US
publication_date: 20090413
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","TECHNICAL FIELD","BACKGROUND","SUMMARY","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS"],"p":["This application claims priority to Provisional U.S. Application Ser. No. 61\/044,612, filed on Apr. 14, 2008.","The system of the innovations described herein relates generally to computer-aided design software applications. More specifically, the system relates to recognizing geometric relationships in a solid model representation.","In today's world of computer-aided design (CAD) applications, parts are commonly designed in one of two ways: history-based or history-less. A history-based system is commonly characterized by the parametric modeling paradigm that emerged in the mid-1980s. In parametric modeling systems, a recipe, or history tree, is created to reflect how things are related to one another. When a change is made to one original item, all items created later in time from the original item are updated. In this way, for example, two faces may remain coplanar, because they were designed with such a relationship captured during the design process and simply \u201creplayed\u201d during the update process. -illustrate a trimetric projection of a three-dimensional block. Referring to , a C block  in three-dimension (\u201c3D\u201d) is viewable to a user on a computer display and is in need of a modification by a user by altering a bottom leg , a top leg , or both the bottom leg  and the top leg . In a history-based system, how easily the user modifies the C block  depends upon how it was originally designed in the CAD application system, such as SolidEdge by Siemens Product Lifecycle Management Software Inc. Commonly, an original designer creates and\/or designs a part that is later modified by a modify designer who maybe completely unfamiliar to the original designer. For example, if the original designer, i.e., the person that originally designed the C block , had the design method intent to constrain the faces related to the bottom leg  and the top leg  as coplanar, then the modification action illustrated in is easy to accomplish using known parametric\/history-based modeling techniques that are basic to one skilled in the art of 3D model design, but for simple explanation because the two faces are constrained to be coplanar, moving one face will cause the other face to move as well. If on the other hand, the modify designer intends to move only the face associated with the bottom leg  while leaving the top leg  alone, e.g., , then several additional steps must transpire to remove the coplanar constraint requiring several additional steps that begins with understanding how the two legs of the C block  were created if the modify designer was not the original designer. Furthermore, if the original designer of the C block  did not model the bottom leg  and the top leg  to be coplanar but modeled the legs by some other method such as a distance or a formula, then to modify both as seen in would increase the difficulty to a point where the modify designer may as well model the C block  from scratch.","On the other hand, modifying the C block  in a history-less or the body-based approach taken by companies like CoCreate, IronCAD, and Kubotek, for example, fails to maintain the history-tree made popular by the parametric modeling paradigm. In the history-less approach, changes are made explicitly for each item on a solid model. If the original designer of the C block  intended that the faces on the bottom leg  and the top leg  maintain a coplanar relationship, later modifications require the manual selection of the faces for edit to ensure the desired result, which is difficult if the original designer's intent is unknown or unascertainable. For example, the modify designer can make either change illustrated in or FIG. simply be selecting the one face or individually select all of the other coplanar faces, which happens to be a small number in this example but could be in the hundreds in a complex assembly model. Alternatively, some software applications could allow the modify designer to \u201cmake faces coplanar\u201d and permanently capture a design intent after the fact at time of edit, but this can also be cumbersome particularly with very large models. The design intent is the intent of the original designer of the solid model in how the model was designed. Alternatively the design intent could reflect the intent of the modification designer of the solid model. This later alteration would make the modification see in difficult at a later date particularly since now the design intent may be baked into the model contrary to design intent.","The issue with the history-based approach is that design intent is incorporated and fixed at the time of model creation, which can complicate making changes later-on that were not anticipated at the time of model creation. In contrast, the history-less systems are flexible about change at a later date, but capture very little intelligence about how things are related. If modify designers determine to manually capture such intelligence at a later point in time, then, like history-based systems, that intelligence is incorporated and fixed thereby limiting further flexibility.","The inventors have advantageously recognized a need for a system and method to provide direct edit capabilities on a solid model where the current geometry is examined and joined with various model constraints so that dependencies are localized in real-time.","To address the identified need and related problems, a system provides a system for modifying a solid model representation that is manipulated in a computer having software instructions for design, comprising a computer system, wherein the computer system includes a memory, a processor, a user input device, and a display device; a computer generated geometric model stored in the memory in the memory of the computer system; and wherein the computer system receives user input and accesses at least one data file having a plurality of geometric model definitions that define a geometric model; converts the geometric model definitions into a geometric representation of the geometric model; calculates a plurality of geometric conditions between at least one geometry identified by a user and the geometric model to create a set of constraints; and calculates a modified geometric model with a modified geometry according to set of constraints to display to the user. The system, wherein the computer system further saves a modified geometric representation of the modified geometric model into the at least one data file. The system, wherein the computer system further removes the set of constraints from the geometric model. The system, wherein the at least one data file is one of a geometric modeler transmit file, a modeling toolkit information file, and a solid model part file. The system, wherein the geometric representation is in a boundary representation format. The system, wherein the geometric model is a solid model. The system, wherein the plurality of geometric conditions are calculated in a recursive manner to at least one level of recognition.","Other features of the system are set forth in part in the description and in the drawings that follow, and, in part are learned by practice of the system. The system will now be described with reference made to the following Figures that form a part hereof. It is understood that other embodiments may be utilized and changes may be made without departing from the scope of the system.","1. Introduction","A method and system for modifying geometric relationships in a solid model are described. In the following description, for the purposes of explanation, numerous specific details are set forth in order to provide a thorough understanding of the system. It will be apparent, however, to one skilled in the art that the system may be practiced without these specific details. In other instances, well-known structures and devices are shown in block diagram form in order to avoid unnecessarily obscuring the system.",{"@attributes":{"id":"p-0020","num":"0019"},"figref":["FIG. 2","FIG. 2"],"b":["200","205","205","205","205","225"]},"Once the solid model is determined to be in a suitable form comporting to the original design requirements, it is preferably tested using a computer-aided engineering (CAE) application  such as NX CAE or FEMAP offered by Siemens Product Lifecycle Management Software Inc by a CAE user for part fault-tolerance tests and a variety of other engineering tests. If the CAE user determines that the solid model has to be modified to successfully pass the fault-tolerance tests the solid model is returned to the CAD user for modification in the CAD application . This iteration between the CAD application  and the CAE application  and the respective users is recursive until the solid model successfully passes necessary design requirements and engineering test.","Following successful completion, the solid model in its final design form is further designed for physical manufacture in a computer-aided manufacturing (CAM) application  such as NX CAM or CAM Express both offered by Siemens Product Lifecycle Management Software Inc. By using the CAM application , a CAM user will model how numerical control programs, molds, tools and dies manufacture a physical product . The CAM user may have additional modifications to comport to the original design requirements, for example, using electro-discharge machining (EDM) may require different techniques depending if a wire-cut EDM or die-sinking EDM is used to manufacture the physical product . To virtually mill a part, the CAM application  defines the preferably electrode path of the orbit for the EDM process. The CAM user may determine that in order to comport to design and engineering requirements, the solid model requires a subtle modification in dimensions, for example following a cool-down to allow for hardening of the material comprising the physical product .","Following the successful virtual designing, engineering, and manufacturing of the product, a manufacturer can link all manufacturing disciplines with product engineering related to the product including: process layout and design, process simulation\/engineering, and production management utilizing a digital factory application  such as Tecnomatix offered by Siemens Product Lifecycle Management Software Inc. The manufacturer may find the need to modify the physical product  because the CAM users modeled the product with, for example, an EDM system that is outdated and requires the manufacturer to use a 5-axis turning machine to create the necessary blank or the manufacturer has shifted to injection molding rather than compression molding to form the parts that comprise the physical product . For example, the solid model has to be modified to comport to the final requirements to manufacture the physical product .","Throughout the virtual product development described above, the product design flowed for example from the customer request to the CAD user to the CAE user to the CAD user, back to the CAE user, to the CAM user, and then to the Manufacturer for physical production of the physical product . With each edit to the solid model, geometric relationships are also modified so as to comport to the necessary design changes by the CAD user, the CAE user, the CAM user, and the Manufacturer, for example. Further as each of the CAD\/CAE\/CAM users modify the solid model, a data model that defines the solid model is also modified to properly account for the changes discussed above and properly stored in the solid model data files . The manufacturer then proceeds to produce the physical product  according to the original design specifications and subsequent engineering modifications. The virtual product development occurs in a system, where the system and method for modifying geometric relationships in a solid model is executable in a variety of software applications resident in memory on a variety of hardware systems, described in more detail below.","2. Computer Program Product","Turning now to a hardware system,  is a block diagram of a computer system in which the system may be practiced.  and the following discussion are intended to provide a brief, general description of a suitable hardware system and computing environment in which the embodiment may be implemented. The embodiment may be performed in any of a variety of known computing environments.","Referring to , an exemplary computer system includes a computing device in the form of a computer , such as a desktop or laptop computer, which includes a plurality of related peripheral devices (not depicted). The computer  includes a central processing unit (CPU)  and a bus  employed to connect and enable communication between the central processing unit  and a plurality of components of the computer  in accordance with known techniques. The operation of the CPU  is well understood in the art that is preferably an electric circuit that can execute computer programs having computer-executable instructions encoded thereon, such as program modules, which are executed by the computer . Generally, program modules include routines, programs, objects, components, data structures, etc., that perform particular tasks or implementation particular data types. Preferably the program modules include a file processing module , a data display module , a logic processing module , and a method processing module . The logic processing module  sends requests to the file processing module , the data display module  and the method processing module  to operate according to the computer-executable instructions. Likewise the logic processing module receives requests from the file processing module , the data display module  and the method processing module  to operate according to the computer-executable instructions. That said the bus  also enables communication among the various program modules and the plurality of components. The bus  may be any of several types of bus structures including a memory bus or memory controller, a peripheral bus, and a local bus using any of a variety of bus architectures. The computer  typically includes a user interface adapter , which connects the central processing unit  via the bus  to one or more interface devices, such as a keyboard , mouse , and\/or other interface devices , which can be any user interface device, such as a touch sensitive screen, digitized pen entry pad, etc. The bus  also connects a display device , such as an LCD screen or monitor, to the central processing unit  via a display adapter . The bus  also connects the central processing unit  to a memory , which can include ROM, RAM, etc.","The computer  further includes a drive interface  that couples at least one storage device  and\/or at least one optical drive  to the bus. The storage device  can include a hard disk drive, not shown, for reading and writing to a disk, a magnetic disk drive, not shown, for reading from or writing to a removable magnetic disk drive. Likewise the optical drive  can include an optical disk drive, not shown, for reading from or writing to a removable optical disk such as a CD ROM or other optical media. The aforementioned drives and associated computer-readable media provide non-volatile storage of computer readable instructions, data structures, program modules, and other data for the computer  that is accessible by the file processing module  according to instructions received by the logic processing module  in the method described by instructions provided by the method processing module .","The computer  can communicate via a communications channel  with other computers or networks of computers. The computer  may be associated with such other computers in a local area network (LAN) or a wide area network (WAN), or it can be a client in a client\/server arrangement with another computer, etc. Furthermore, the embodiment may also be practiced in distributed computing environments where task instructions provided by the logic processing module  in the method described by instructions provided by the method processing module  and are performed by remote processing devices that are linked through a communications network. In a distributed computing environment, the program modules may be located in both local and remote memory storage devices. All of these configurations, as well as the appropriate communications hardware and software, are known in the art.","Turning now to the program modules in more detail, -illustrate a general concept of a software programming code embodied in a software application. Referring further to , the program modules will be described in more detail below in the context of the embodiment where a software application  contains accessible program modules as those discussed above. The software application  may be in the form of a solid modeling application such as the aforementioned CAD application , the CAE application  or CAM application . Further it is contemplated that the software application  is provided by a third party vendor with particular API (\u201capplication programming interface\u201d) call features for access and utilization. Continuing, as the user interacts with the software application , certain modification events trigger interaction with a variational modeling toolkit , to be discussed in greater detail below. The software application  and the variational modeling toolkit  together or individually utilize the logic processing module  in the method described by instructions provided by the method processing module  to call a low-level geometric modeling kernel to accomplish the certain modification events of the solid model according to the commands selected by the user and executed by the software application , as generally understood in the art of solid modeling, but also discussed in more detail below. The low-level geometric modeling kernel is commonly a collection of at least a three-dimensional (3D) geometric modeler  like Parasolid licensed by Siemens Product Lifecycle Management Software Inc and a collection of geometric software component libraries  like the 3D DCM product offered by Siemens Product Lifecycle Management Software Inc.","Put another way, referring to , the variational modeling toolkit  operates on variational edit commands communicated from the software application . Additionally, the software application  communicates non-variational modeling calls to the 3D geometric modeler , and the 3D geometric modeler  utilizes the collection of geometric software component libraries  as normally understood in the art of geometric modelers. With regard to the variational modeling toolkit , and to be discussed in greater detail below, several operations occur related to the variational edit that involve find, edit, solve and apply. It is commonly understood in the art of solid modeling that the collection of geometric software component libraries above provides modeling functionality such as geometric constraint solving, variational design, parametric design, motion simulation, collision detection, clearance computations, topology location, topology move solution, and hidden line removal, for example. It is also contemplated to be within the scope of this embodiment that the 3D geometric modeler  and the component libraries  are components of the same application rather than separate components, or combinations thereof. Having described the computer program product, more detail is now provided with regard to a model modification system.","3. A Model Modification System","Turning now to the model modification system,  is a box diagram of a general view of a method employed by the embodiment. Referring to , the embodiment discloses the logic processing module  using the method described by instructions provided by the method processing module , where the described method is a method for modifying geometric relationships in a solid model representation that is manipulated in a computer having software instructions for design, generally depicted at . The following steps are mentioned to provide an overview of the embodiment described in the system having details that are subsequently discussed. The system accesses at least one data file having a plurality of geometric model definitions that define a geometric model (Step ). The system converts the geometric model definitions into a geometric representation of the geometric model (Step ). The system calculates a plurality of geometric conditions between at least one geometry identified by a user and the geometric model to create a set of constraints (Step ). The system calculates a modified geometric model with a modified geometry feature according to the set of constraints to display to the user (Step ).",{"@attributes":{"id":"p-0032","num":"0031"},"figref":["FIG. 6","FIG. 6"],"b":["400","400","355","600","225","400","405","410","415","400","605","308","225","610","600","410","405","605","605","610","600","410","605","610","405","615","600","620","405","600"]},"4. Model Modification Method","The initialization of the interaction, where there may be more than one interaction, begins when the solid modeling application  creates an interaction object  and ends when the interaction object  is destroyed. The solid modeling application  preferably populates the interaction object  in a model state with part instances, existing constraints and dimensions that are not available directly from the part, e.g., intra-part, and also specifies which dimensions are hard intent dimensions\u2014those that can be floated and those that can be broken as defined by the user of the solid modeling application . The solid modeling application  preferably populates the interaction object  in the model state with a change topology, where that topology is a face, edge, or vertex (\u201cFEV\u201d that also includes not only the change topology, but also a FEV set that changes with a modification operation provided by the solid modeling application . Further the solid modeling application  preferably populates the interaction object  in the model state with additional information relevant to the solid model and not directly available, e.g., search scope options such as distance and neighborhood that define the environment. The solid modeling application  communicates the above by known communication methods such as procedure or API calls to the variational modeling toolkit .","The variational modeling toolkit  receives the interaction information from the solid modeling application  and calculates an intent of the interaction object  by searching for geometric relationships between the change topology and other FEVs not in the change topology, by use of known entity searching mechanisms commonly used in the solid modeling application , for example coplanar, coaxial, equal radius, tangent and symmetric. The variational modeling toolkit  communicates the searched information back to the solid modeling application  for selection by preferably the user. Alternatively, selection can occur automatically according to a predefined selection scheme or other known identification method. The solid modeling application  optionally recursively searches for geometric relationships between the change topology and other FEVs in an iterative manner in a first level, a second level, up to an n-level of recognition. For example, a first level of recognition applies to those FEVs related to the change topology by one degree, which is to say those searched FEVs that share a feature with the change topology.","Continuing with the intent, the solid modeling application  specifies which topology feature in the determined geometric relationships is to be a rigid or a non-rigid feature. The rigid feature is defined by topology whose geometric definition is independent from the host solid model topology. Conversely, the non-rigid feature is defined by topology whose geometric definition is dependent upon the host solid model topology. The variational modeling toolkit  provides the above information to the component libraries , e.g., a three-dimension dimensional constraint manager (3D DCM) that provides dimension driven, constraint-based design functionality to a range of applications that enables the efficient use of dimensions and constraints to position parts in assemblies and mechanisms, to control the shape of parts and to produce 3D sketches. Further, the user of the solid modeling application  indicates the operation type to perform on the change topology, for example change a distance value, drag a feature, or create an offset. Regarding the available operations types, the user may also specify an option to include such as Autodimensioning disclosed and described in \u201cSYSTEM AND METHOD FOR AUTO-DIMENSIONING BOUNDARY REPRESENTATION MODEL\u201d filed on Dec. 18, 2006 with United States Publication Number 2008\/0143708. The solid modeling application  supplies the selected values for modification to the interaction object  taking into account the operation supplied to determine a set of constraints, where the constraints are either inferred or defined or both. The variational modeling toolkit  provides the recognized and accepted constraints and dimensions to the 3D DCM, and adds minimal connectivity constraints to hold the sold model together where necessary.","The modification occurs and is applied to the solid model during an update. The solid modeling application  modifies the change topology according to the design intent while conforming to the set of constraints by changing a dimension value or the FEV set position by a specified distance, for example. When offsetting face topology it is preferable to pre-calculate the new geometry using the 3D geometric modeler . During the update, the variational modeling toolkit  solves the constraints and dimensions to determine new FEV locations values, including radii. The update involving the variational modeling toolkit  is split into the 3D geometric modeler  and solid model part position transforms that are applied to the instance, which can be queried by the solid modeling application . The system calculates the geometric model with the modified edit feature for display to the user. In doing so, the variational modeling toolkit  preferably applies solved changes to the models represented by the 3D geometric modeler , as well as checking for constraint violations caused by the solution provided by the solid modeling application . In the case of dragging a FEV set, the software application  can repeatedly apply the change set values in a loop by preferably using a rollback procedure to avoid hysteresis. Further the solid modeling application  can make further procedure calls to different operations that share the same basic data and form part of the same interaction. The solid modeling application  preferably requests any consumed topology faces, updates mapping information for changed faces, part positioning transforms to display the modified solid model to the user, and subsequently destroys the interaction object .","5. Application Workflow Examples",{"@attributes":{"id":"p-0037","num":"0036"},"figref":["FIG. 7","FIG. 7"],"b":["700","705","605","335","605","700","710","405","405","715","710","605","605","715","405","720","715","710","710","715","715","720","725","710","605","710","725"]},{"@attributes":{"id":"p-0038","num":"0037"},"figref":["FIG. 8","FIG. 8"],"b":["800","605","335","800","405","805","405","405","400","805","405","805","405","605","405","805","405","810","605","335"]},"6. Conclusion","The embodiment may be implemented in digital electronic circuitry, or in computer hardware, firmware, software, or in combinations thereof. An apparatus of the embodiment may be implemented in a computer program product tangibly embodied in a machine-readable storage device for execution by a programmable processor; and method steps of the embodiment may be performed by a programmable processor executing a program of instructions to perform functions of the embodiment by operating on input data and generating output.","The embodiment may advantageously be implemented in one or more computer programs that are executable on a programmable system including at least one programmable processor coupled to receive data and instructions from, and to transmit data and instructions to, a data storage system, at least one input device, and at least one output device. The application program may be implemented in a high-level procedural or object-oriented programming language, or in assembly or machine language if desired; and in any case, the language may be a compiled or interpreted language.","Generally, a processor will receive instructions and data from a read-only memory and\/or a random access memory. Storage devices suitable for tangibly embodying computer program instructions and data include numerous forms of nonvolatile memory, including by way of example semiconductor memory devices, such as EPROM, EEPROM, and flash memory devices; magnetic disks such as internal hard disks and removable disks; magneto-optical disks; and CD-ROM disks. Any of the foregoing may be supplemented by, or incorporated in, specially-designed ASICs (application2-specific integrated circuits).","A number of embodiments have been described. It will be understood that various modifications may be made without departing from the spirit and scope of the embodiment. Therefore, other implementations are within the scope of the following claims."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["A system will hereinafter be described in conjunction with the appended drawings, wherein like designations denote like elements, and:",{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIGS. 1","i":["a","c "],"b":"1"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIGS. 4","i":["a","b "],"b":"4"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 8"}]},"DETDESC":[{},{}]}
