---
title: Method and system of publishing campaign data
abstract: One embodiment of the invention provides a method of publishing campaign metadata from a database to a plurality of channel systems, the method includes: querying the database to select campaign metadata ready for publishing to a target channel system; selecting the target channel system from a plurality of channel systems based on an target indicating attribute of the campaign metadata; determining whether the target channel system has a SOAP enabled webservice API or whether the target channel system only accepts HTTP posts; if the target channel system has a SOAP enabled webservice API, packaging the campaign metadata as an XML message object; if the target channel system only accepts HTTP posts, packaging the campaign metadata as an HTML request; and transferring the packaged campaign metadata to the target channel system.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09454770&OS=09454770&RS=09454770
owner: eBay Inc.
number: 09454770
owner_city: San Jose
owner_country: US
publication_date: 20141117
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["PRIORITY","TECHNICAL FIELD","BACKGROUND","DETAILED DESCRIPTION"],"p":["This application is a continuation of and claims the benefit of priority under to U.S. patent application Ser. No. 11\/583,563, filed on Oct. 19, 2006, which is hereby incorporated by reference herein in its entirety.","The present application relates generally to the technical field of data publishing, and more particularly, to systems for publishing marketing campaign data from a database to campaign distribution systems.","With the development of network technologies, business users may use networks and communication links to carry marketing campaigns to prospective customers.","Campaign generation systems allow business users to create, edit and save or store campaign metadata. Channel systems such as, for example, email, direct mail, website advertising placements, website email, and outbound call systems are normally used by business users to distribute campaign information to potential customers. The channel systems can be owned and managed by different facilities.","Current campaign generation systems may have insufficient integration capabilities to send both campaign user lists and campaign information, which often includes offer metadata to downstream channel systems or content editing systems. Because of this, a business user may have to create campaign related information in the campaign generation system, and then login to the downstream systems, recreate the campaign related information, and then trigger the distribution of the campaigns to the targeted customers. Improved systems would eliminate duplicate data entry, prevent data errors, increase productivity of business users and shorten delays in campaign delivery to target customers.","Example methods and systems to publish campaign and related user lists to potential customers are described. In the following description, for purposes of explanation, numerous specific details are set forth in order to provide a thorough understanding of example embodiments. It will be evident, however, to one skilled in the art that the embodiments of the invention may be practiced without these specific details.","Embodiments of the invention can publish campaign related metadata created by marketer business users to potential customers. As used herein, \u201ccampaign information\u201d is marketing material sent to segmented customers with the goal of influencing the segmented customers' behavior, e.g. attracting the segmented customers to buy a manufacturer's specific products. As used herein, \u201cmetadata\u201d is data that defines other data. As used herein, \u201cuser lists\u201d are lists that uniquely identify customers targeted for marketing campaigns.","The embodiments of the invention can determine how to package the campaign metadata based on the configurations and requirements of the target channel systems. Embodiments of the invention can also be used to validate the user lists which will be sent to potential customers.",{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 1","b":"100"},"In an embodiment, the campaign publishing system  communicates over direct connections or networked connections to a campaign generation system  and several channel systems . While embodiments of the present invention are described within the context of the campaign generation system  and several content editing systems and channel systems , it will be appreciated by those skilled in the art that embodiments of the invention include many different types of campaign generation systems, channel systems, and content management systems.","In some embodiments, the campaign generation system  is a system, which is available in the market, for example, \u201cUnica Affinium Campaign\u201d of Unica Co. Channel systems  are systems for distribution of email and direct mail, eBay website advertising placement on eBay.com, and eBay MyMessages on eBay.com, which may be available in the market or have been custom built by eBay.com. In an embodiment, the channel system  is a CRM (Customer Relationship Management) system used to track and manage inbound and outbound phone calls, which is a product of SaleForce.com. In another embodiment, the channel system  is a CRM system used to track and manage inbound and outbound phone calls, e.g. Siebel CRM and Oracle CRM.","In an embodiment, the campaign publishing system  may access a database  as shown in . The campaign publishing system  reads from and writes to the database , which includes tables . The campaign publishing system  also creates and writes to flat files . In some embodiments, flat files  are stored in the campaign generation system . In some other embodiments, flat files  are stored in the database . Tables  are used to store metadata of a marketing campaign, for example, offer details, user information, and user campaign contact history. A flat file  is used to store customer data, e.g. potential target customer information for a marketing campaign.","Preparation for Publishing Campaign Metadata and Related User Lists","Before publishing the campaign metadata and user lists to a plurality of systems via the campaign publishing system , a campaign marketer may prepare marketing campaign related data by utilizing a campaign generation system . The campaign marketer may log into the campaign generation system  through a client computer , which communicates with the campaign generation system  through networks (not shown). For example, the campaign marketer may enter, update, and save campaign and offer metadata to relevant tables  in the database .","For instance, assume that a campaign marketer wants to create a new marketing campaign, which is to be sent to all eBay customers who have purchased a toy on eBay.com in the last 3 months. The marketing campaign is to be sent through an eBay channel system, for example, one which is responsible for sending email campaigns to eBay customers. In some embodiments, the marketing campaign is also intended to be sent to an external company responsible for sending postal direct mail campaigns to eBay customers. In some embodiments, the campaign is to be sent to customer support systems for use in outbound telephone calls to eBay customers. In some embodiments, the campaign is to be displayed as marketing advertisements to targeted customers on eBay.com.","The campaign marketer may create a new campaign by using a campaign creation page in the campaign generation system , and then save the campaign in a campaign table . After the creation of the metadata for the campaign, in some circumstances, the campaign marketer may update it by changing the status of a campaign from \u201cNew\u201d to \u201cReady to Publish\u201d and saving the campaign.",{"@attributes":{"id":"p-0027","num":"0026"},"figref":["FIG. 2","FIG. 2"],"b":"200"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 3","b":["200","10","200"]},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 5"},"In some embodiments, the campaign marketer may use the campaign generation system  to create and save a flowchart  in the campaign generation system . A flowchart  corresponds to a query or series of consecutive queries to the database , which can be performed by using conventional DBMS skills to meet certain business requirements. For example, in some embodiments, the campaign marketer may choose to build a flowchart  which contains a query to the user information table. In some embodiments, the campaign marketer may select all buyers who have opted out of email communications. The campaign marketer may merge the two selects together, so the resulting output is the intersect of all toys buyers minus all who have opted out. After that, the campaign marketer may feed this result into a sample box, which will allow for segmenting and uniquely tracking members of a \u201choldout\u201d population who are eligible but will not be sent the communication in order for the business to calculate changes in customer behavior due to a campaign.","In some embodiments, the campaign generation system  may allow a campaign marketer to create user lists and to merge different customer segments (e.g. all customers who bought in the Toys category on eBay with all customers who live in California) as well as exclude segments (e.g. remove all customers who bought in the Apparel category) to generate a final list of customers and their email addresses. The user list can be the output of the campaign generation system .",{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 6","b":["500","400","300"]},"In an embodiment, at , the method  initiates the process of publishing campaign metadata. In an embodiment, for all campaigns, the campaign marketer initiates the process of publishing campaign metadata by saving a campaign with an attribute of \u201cready to publish\u201d. The campaign is saved in the database  and the campaign generation system . In an embodiment, a campaign flowchart  is saved in the campaign generation system .","In an embodiment, a campaign flowchart  is run once from the campaign generation system . In another embodiment, an external system calls the campaign generation system  by using an exposed API of the campaign generation system  to run the campaign flowchart . In an embodiment, the call is done daily for a campaign, for example, \u201cWelcome new eBay users\u201d campaign, which is sent to all newly registered users each night.","In an embodiment, metadata is published by saving the campaign and setting the channel attribute (e.g. email, mail, phone) to \u201cready to publish\u201d. The publishing is only done once per campaign, unless it is intended to update metadata, e.g. to change the end date of the campaign.","At , the campaign publishing system  queries a campaign table  in the database  to select campaign metadata with status \u201cready to publish\u201d. Each campaign metadata includes a channel indicator attribute to indicate a target channel system , thus the campaign publishing system  knows to which one of the channel systems  to publish the selected campaign metadata.","At , the campaign publishing system  selects a target channel system  from a plurality of channel systems  based on the target indicator attribute of the campaign metadata.","At , the campaign publishing system  determines whether the target channel system  has a SOAP (Simple Object Access Protocol) enabled webservice API (Application Programming Interface) or whether the target channel system  only accepts HTTP (Hypertext Transfer Protocol) posts.","At , if the campaign publishing system  determines that the target channel system  has a SOAP enabled webservice API, then at the campaign publishing system  packages the campaign metadata as an XML message object. \u201cXML\u201d is Extensible Markup Language.","Otherwise, at , if the campaign publishing system  determines that the target channel system  only accepts HTTP posts, then at the campaign publishing system  packages the campaign metadata as an HTML request. \u201cHTML\u201d is Hypertext Markup Language.","At , the campaign publishing system  transfers all the packaged campaign metadata to the target channel systems . In some embodiments, the campaign publishing system  transfers the XML message object to the target channel system  using SOAP over HTTP protocol. In some embodiments, the campaign publishing system  transfers the HTML request to the target channel system  over HTTP protocol.","At , the process of publishing the campaign metadata stops.","In an embodiment, after , the campaign publishing system  aggregates one or more offers and corresponding metadata to the selected campaign and campaign metadata. In an embodiment, the campaign publishing system  handles system errors of each step by sending email alerts to a support team and logging system errors to log files.","In an embodiment, after the campaign metadata has been transferred successfully, the campaign publishing system  updates the status of all the transferred campaign metadata in the database  to \u201csuccessful\u201d to identify that such campaign metadata has been transferred successfully.",{"@attributes":{"id":"p-0046","num":"0045"},"figref":"FIG. 7","b":["600","400","300"]},"In an embodiment, for a one-time campaign sent only once to customers, at , the campaign marketer initiates the process of publishing user lists for a marketing campaign by running a flowchart . In some embodiments, the flowchart  is saved in the campaign publishing system . In other embodiments, the flowchart  is saved in the database .","In another embodiment, at , for a recurring campaign, the process of publishing user lists for a marketing campaign is initiated by a cron job in a constant period of time, e.g. weekly, daily, or every 5 minutes. In an embodiment, the cron job is located within campaign publishing system . In another embodiment, the cron job is located in an external system, e.g. campaign generation system .","At , the campaign publishing system  queries the database  to obtain user lists of customer data meeting certain business requirements. In an embodiment, the user list obtained is associated to a campaign which has campaign metadata. The campaign metadata includes a channel indicator attribute, e.g. \u201cKC1\u201d to indicate a target channel system , accordingly the campaign publishing system  uses this channel indicator attribute to identify which of the channel systems  to publish a selected user list.","At , the campaign publishing system  selects a target channel system  based on the channel indicator attribute included in the campaign metadata.","At , the campaign publishing system  uses internal configuration properties to determine whether or not the target channel system  has a SOAP enabled webservice API.","If it is SOAP enabled, the campaign publishing system  writes the user list to an XML file  at , validates the XML file  at , and transfers the packaged user list to the target channel system  at using SOAP over HTTP protocol.","If it is not SOAP enabled, the campaign publishing system  writes the user list to a flat file  at , validates the flat file  at , validates the associated campaign metadata at , and transfers the user list to the target channel system  by copying the flat file  to the target channel system  via SCP at . \u201cSCP\u201d is Secure Copying Protocol.","At and mentioned above, the campaign publishing system  validates the XML file and the flat file . In some embodiments, the publishing process will be aborted and an email alert will be sent to a system administrator, if the campaign publishing system  finds any of the following cases exists: (1) The XML file or flat file  is empty; (2) The XML file or flat file  does not contain all required fields for the targeted channel system; and (3) Any of the required fields in the XML file or flat file  is not in valid format. For example, no spaces or invalid characters exist in the following fields of the XML file or flat file : email address, address (city, state, address1, and address2), offer version, Segment_ID. In an embodiment, if any of the invalidations in the XML file or flat file  is found, the campaign publishing system  will stop the publishing process and will send errors to an administrator.","In an embodiment, at mentioned above, the campaign publishing system  validates if the metadata of the flat file  matches the metadata of the associated campaign which has been successfully published to the target channel system . If they do not match, in an embodiment, the campaign publishing system  will send errors to an administrator.","At , after transferring the user list to the target channel system , the campaign publishing system  writes the user list to a contact history table. In some embodiments, the contact history table is saved in the marketing database  for reporting and for customer suppression in subsequent marketing campaigns.","At , the process of publishing the user lists to the target channel system stops.",{"@attributes":{"id":"p-0058","num":"0057"},"figref":"FIG. 8","b":"700"},"The example computer system  includes a processor  (e.g., a central processing unit (CPU) a graphics processing unit (GPU) or both), a main memory  and a static memory , which communicate with each other via a bus . The computer system  may further include a video display unit  (e.g., a liquid crystal display (LCD) or a cathode ray tube (CRT)). The computer system  also includes an alphanumeric input device  (e.g., a keyboard), a cursor control device  (e.g., a mouse), a disk drive unit , a signal generation device  (e.g., a speaker) and a network interface device .","The disk drive unit  includes a machine-readable medium  on which is stored one or more sets of instructions (e.g., software ) embodying any one or more of the methodologies or functions described herein. The software  may also reside, completely or at least partially, within the main memory  and\/or within the processor  during execution thereof by the computer system , the main memory  and the processor  also constituting machine-readable media.","The software  may further be transmitted or received over a network  via the network interface device .","While the machine-readable medium  is shown in an example embodiment to be a single medium, the term \u201cmachine-readable medium\u201d should be taken to include a single medium or multiple media (e.g., a centralized or distributed database, and\/or associated caches and servers) that store the one or more sets of instructions. The term \u201cmachine-readable medium\u201d shall also be taken to include any medium that is capable of storing, encoding or carrying a set of instructions for execution by the machine and that cause the machine to perform any one or more of the methodologies of the present invention. The term \u201cmachine-readable medium\u201d shall accordingly be taken to include, but not be limited to, solid-state memories, optical and magnetic media, and carrier wave signals.","Below is a specific example to illustrate how to use an embodiment of the campaign publishing system  to publish a marketing campaign to potential customers.","A campaign marketer logs in to the campaign generation system , navigates to a campaign created earlier, opens the campaign flowchart and selects \u201cEdit\u201d. Then, the marketer edits the flowchart. For example, the campaign marketer builds customer segments via a query to the user_information table according to the business requirements for certain marketing purposes. The campaign marketer also selects all buyers who have opted out of email communication. The campaign marketer merges the two selects together, so the resulting output is intersects of all ebay.com toys buyers minus all opt outs. The campaign marketer feeds this result into a sample box, which allows the marketer to segment out a holdout population. The holdout population is a group of customers who are selectively removed from the campaign in order for eBay to evaluate the effectiveness of the campaign, e.g. the amount of purchases by customers who were eligible and did receive the campaign versus the amount of purchases by customers that were eligible but did not receive campaign. The campaign marketer selects two mail list boxes and in the first, named \u201cemail output\u201d, assigns the previously created email offers to the Toys customer segment. The campaign marketer uses the second titled \u201cpostal output\u201d, and assigns the postal offer to the same segment of Toys customers. The campaign marketer uses a third mail list box to represent the \u201chold out\u201d segment, and assigns the Holdout offer to the holdout segment.","At this point the flowchart  is built, and when run, will query the database for the customer segment according to requirements. The flowchart  will assign offers to resulting segments, output the segments to the contact history table, and create flat files  for the email and direct mail user lists. The campaign marketer saves the flowchart  and returns to the campaign summary page. On the campaign summary page, the campaign marketer changes the EMS (eBay Marketing System) Publish Trigger from \u201cNew\u201d to \u201cReady for Publish\u201d and saves the campaign. This updates the data from \u201cNew\u201d to \u201cReady\u201d in a table, which can be used to trigger to publish a campaign, for example, the table UAC_CAMPAIGN.EMS_PUBLISH_TRIGGER.","The campaign publishing system  is called every 5 minutes by a \u201ccron job\u201d process. The process calls the campaign publishing system  which queries the database and reads from the UAC_CAMPAIGN.EMS_PUBLISH_TRIGGER field for all records that are \u201cReady\u201d, (campaigns in a status of \u201cReady for Publish\u201d). In this case, it will find the above campaign in a status of \u201cready\u201d, and campaign publishing system  will follow logic specific to an eBay Marketing System, in order to build the related Campaign and Offer metadata and send using XML over SOAP to the external EMS system. The campaign marketer is able to see the transfer was successful by refreshing their browser on the campaign summary page. If successful, campaign publishing system  will write a status message to a field of a table (for example, UAC_CAMPAIGN), which is read by a campaign generation system  and displayed on the campaign summary page in the EMS success message field, for example \u201cEMS Transfer Successful\u201d.","EMS is used for email content creation, and an EMS user updates a Program created by the campaign metadata sent over from campaign publishing system . For example, the Program name will be created with Campaign Name, the start date and end date will be as indicated in the campaign metadata. In addition, the Offers sent from campaign publishing system  will appear as codes which can be appended to the URLs within the campaign content. Using the descriptive Offer Names, the EMS user knows to assign the US_ToysNewHotItem_08162006_JP offer code to the links specific to the Toy's Content or image. Same for the Apparel content or image. The EMS user will finalize the email content, save and send to the Email channel systems using FTP (File Transfer Protocol) for subsequent launch.","Now that the content is ready, all pre-steps have been completed the user can transfer the campaign metadata to the email and postal channel and run the campaign (e.g. run the flowchart ). The user will login to the campaign generation system  and navigate to the US_ToysMonthlyBuyer_08162006_JP campaign and select edit. On the campaign summary page, the user will change the value of Kana Publish Trigger from \u201cNew\u201d to \u201cReady to Publish\u201d and select Save. This will change a corresponding value in the field from New to Ready.","A \u201ccron job\u201d is constantly running, calling the campaign publishing system  to scan the UAC_CAMPAIGN.Kana_Publish_trigger table for all Kana_publish_trigger=\u201cready\u201d. If found, the campaign publishing system  will query for all related metadata and package the corresponding xml for the channel. In this case, channel is \u201cKC1\u201d (eBay.com has three email systems: KC1, KC2, KC3). The campaign publishing system  will initiate a Web Service call passing the metadata as well formed XML to the email system's Web Service API. The user is able to see the transfer was successful by refreshing their browser on the campaign summary page. If successful, the campaign publishing system  will write a status message to the UAC_CAMPAIGN.KANA_SUCCESS_MESSAGE field which is read by campaign generation system  and displayed on the campaign summary page in the Kana Success Message Field, for example \u201cKana Successful Transfer\u201d.","The campaign marketer user can then navigate to the campaign flowchart and select \u201cRun\u201d. This will cause the campaign generation system  to run the flowchart , which executes the pre-built queries against the database tables, pulls the matching users, and writes the user list to a flat file for Email and a different flat file for Postal as well as to the UAC_CONTACT_HISTORY table. Upon completion, the campaign generation system  will make a call to the channel publishing system  to do two things. First, validate the content of the flat files meets business requirements. Second, transfer the validated flat files to the corresponding channel systems.","The campaign publishing system  performs validation on both flat files , making sure that the flat files  are not empty, there are no abnormal characters in the fields, the flat files  are delimited correctly, and the metadata in the flat files  matches the metadata associated to the campaign. If all these checks pass, the flat files  are transferred using Secure Copy Protocol (SCP) from the server of campaign publishing system  to the KC1 email server and to the Postal server, respectfully.","At this point, the user may navigate to the email system , find the corresponding campaign, associate the finished campaign content sent earlier from EMS, and launch the campaign. This causes the email system to send out email content to all customers on the campaign user list. Concurrently, an external postal catalog publisher may take the campaign publishing system postal flat file and use the corresponding customer name and addresses in this file for an eBay Catalog. The content of the catalog may be provided by a external vendor, and the postal catalog publisher will use their processes to associate customer name and address to catalog and send via postal mail. Thus, the campaign will be published to the potential customers.","Thus, a method and a system to publish campaign metadata related to marketing campaigns and customer user lists to channel systems  has been described. Although the present invention has been described with reference to specific embodiments, it will be evident that various modifications and changes may be made to these embodiments without departing from the broader spirit and scope of the invention. Accordingly, the specification and drawings are to be regarded in an illustrative rather than a restrictive sense."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Some embodiments are illustrated by way of example and not limitation in the figures of the accompanying drawings in which:",{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 8"}]},"DETDESC":[{},{}]}
