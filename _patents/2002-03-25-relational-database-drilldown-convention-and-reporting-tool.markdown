---
title: Relational database drill-down convention and reporting tool
abstract: A system generates linked sets of drill-down-enabled reports of increasing levels of detail from one or more databases. Linking relationships between reports are defined using the query language of the databases. Result sets are obtained that includes (1) the sought-after data, and (2) metadata that identifies drill-down reports to be generated if related report elements are selected. When the query is executed, the system passes the sought-after data to a reporting application programming interface, which generates a report (e.g., a pie chart, 3-D bar chart, cross-tabbed table). If an end-user selects one of the report elements (e.g., a bar on the chart), the system maps the reported event to the associated data of the result set. If the associated data has corresponding meta-data containing a drill-down directive, the system then generates the report identified by the drill-down directive.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06993533&OS=06993533&RS=06993533
owner: BIF Technologies Corp.
number: 06993533
owner_city: San Antonio
owner_country: US
publication_date: 20020325
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF INVENTION","SUMMARY OF INVENTION","DETAILED DESCRIPTION"],"p":["This invention relates generally to information processing, and, more particularly, to methods and apparatuses for generating and distributing reports from a relational database.","Graphical reports are commonly used to visually express information about selected properties or characteristics of various entities. For example, a report may contain a pie chart to express the relative profitability or expenses of various corporate divisions, where each division is represented by a slice of the pie. Typically, the information needed to generate a report is derived from a relational database that may contain, for example, a table showing the expenses and revenues of each division in a corporation. Detailed breakdowns of the expenses of each division might also be provided in other tables in the database.","When displaying a report, such as a pie chart, about certain properties or characteristics of various entities, it is often desirable to allow the user to select one of the slices (using, for example, a point-and-click device such as a computer mouse) in order to \u201cdrill down\u201d to more detailed information about that particular slice. Continuing the pie chart example described above, one might configure the report so that if one selected one of the slices representing a corporate division, the computer would generate a new report displaying two more pie charts that broke down the profits and expenses of the division into separate categories.","Drill down capabilities can already be found in several retail applications. For example, the popular financial tracking application known as Quicken\u00ae, made by Intuit Inc., provides several built-in reports that enable a user to drill-down to more detailed reports. While Quicken\u00ae provides a familiar illustration of drill-down reports, its capabilities are provided specifically only for the specialized database that comes with the application. Moreover, that specialized application does not, and is not intended to, provide a reporting tool and drill-down convention by which an end-user or customer can define the reports to be generated and customize the drill-down relationships between them.","There are a variety of conceivable situations in which a company may want to develop its own set of inter-related reports from its own database, add drill-down capabilities, and also define what report(s) is\/are displayed when a given pie slice, 3-D bar, or cross-tab cell is selected. There are some database reporting tools on the market that are designed to give a customer such power, including, for example, Cognos, Inc.'s \u201cImproptu\u201d\u00ae, and Crystal Decisions Co.'s \u201cCrystal Reports.\u201d\u00ae Unfortunately for the customer, typical drilldown-capable reporting tools are not intuitively, dynamically, or easily implemented. Rather, typical drilldown-capable reporting tools require the customer to write additional code blocks in languages other than in the database query language (\u201cDQL\u201d) used to interrogate the relational databases, in order to link one report to another. Typically, a separate block of programming code in a second language such as PL\/SQL, Visual Basic, C++, Java, or JavaScript, has to be written, tested, debugged, and compiled for each report-to-report relationship. Alternatively, the programmer may have to use one of the vendor's specialized data structures. This makes report building a tedious, technically difficult, time-consuming, and expensive task.","U.S. Pat. Nos. 5,603,025 and 5,787,416, both to Tabb et al., which are herein incorporated by reference, describe a system that automatically recognizes related information by looking for primary keys that uniquely identify records in a given table. The system also automatically generates hyperlinked reports, as illustrated by  of those patents, that enable an end-user to drill down to increasing levels of detail. As suggested by column 3, lines 17\u201325, the Tabb et al. inventions are intended to completely bypass the need for an end-user to use computer programming languages to create reports with drill-down functions. While the Tabb et al. patents describe a system with considerable utility, the automation and ease of use comes at the expense of the customer's ability to customize relationships between reports.","There is a need a system for specifying drill-down relationships between reports that is neither overly complex nor overly restrictive. In particular, there is a need for an intuitive, DQL-based or DQL-consistent reporting convention and\/or tool that does not require the writing, debugging, and compiling of code blocks to define drill-down relationships between reports, where the code blocks are separate from the DQL queries that are used to generate the result set from which the report is generated. There is also a need for a reporting convention and\/or tool that does not require multi-lingual implementation (e.g., structured query language and a complementary procedural programming language such as Microsoft Corporation's Visual Basic\u00ae).","A summary and detailed description of the invention is provided below. But first, for the benefit of readers having little or no familiarity with relational databases or related concepts, a very brief introduction to relational databases and relational database terminology is provided.","A relational database is, in the abstract, a collection of \u201crelations.\u201d For most purposes, however, a relational database is better understood as a collection of tables. A relation (e.g., a table) comprises one or more entities (e.g., rows, a.k.a. \u201crecords\u201d or \u201ctuples\u201d) that are identified by certain characteristics, properties, or attributes (e.g., columns, a.k.a. \u201cfields\u201d). A table in a relational database has the following intuitive properties: each column describes a given characteristic, property, or attribute; each column is distinctly named; all values of a given column are of the same type; each row in the table is unique; and the relational properties of the database are not affected by column or row order. Moreover, the number of rows and columns in a table need not be fixed. In this respect, a table is distinguishable from a matrix or array, which have fixed row and column dimensions.","Typically, a relational database contains a plurality of tables that can be interrelated with each other because one or more properties in one table matches one or more properties in other tables. , for example, provides an example of a relational database structure  having five different relations. The \u201cProducts\u201d relation  is shown with five properties labeled \u201cProductID,\u201d \u201cProductName,\u201d \u201cCategoryID,\u201d \u201cQuantityPerUnit,\u201d and \u201cUnitPrice.\u201d The \u201cOrderDetails\u201d relation  is shown with four properties labeled \u201cOrderID,\u201d \u201cProductID,\u201d \u201cQuantity,\u201d and \u201cUnitPrice.\u201d Relations  and  each share a common property \u201cProductID.\u201d Likewise, the Orders relation  shares the property \u201cOrderID\u201d with the OrderDetails relation , the Employees relation  shares the property \u201cEmployeeID\u201d with the Orders relation ; and the Categories relation  shares the property \u201cCategoryID\u201d with the Products relation .","A database built in accordance with the relation  of  would typically contain 5 tables corresponding with each of the relations , , , , and . The table corresponding to relation , for example, would have five columns. The first row would contain the headings for the columns, that is, \u201cProductID,\u201d \u201cProductName,\u201d \u201cCategoryID,\u201d \u201cQuantityPerUnit,\u201d and \u201cUnitPrice.\u201d Below the first row would be a plurality of rows describing different products in accordance with the column headings. The other tables would also have column headings corresponding to each of the properties of the associated relation, and rows below them describing various orders, order details, product categories, employees, and so on.","Relational databases are designed to be powerful, flexible ways of storing, categorizing, and associating data. The power of a relational database is illustrated by the following example. Using the relational database structure described in , suppose someone wanted to find out how many Widget Class products, a special category of products listed in the Categories relation , that a particular Employee had sold in a given year. To do so, one would use the Employees relation  to identify the EmployeeID associated with that particular employee. Then that EmployeeID, along with the specified year, would be used to filter out all the OrderIDs listed in the Orders relation  that had the same EmployeeID and an OrderDate falling within the specified year. Similarly, the Categories relation  would be used to identify the CategoryID associated with the Widget Class category of products. Then the Products relation  would be used to filter out all of the ProductIDs associated with the identified CategoryID. Next, the OrderDetails relation  would be used to identify all the orders that had both one of the OrderIDs identified above, and one of the ProductIDs identified above. From this final subset of orders, the sum of the products of Quantity times UnitPrice would be computed to determine the result.","A relational database management system (RDBMS) is an interface between a user and a relational database that allows the user to create, modify, update, and delete relations such as those shown in , as to well as to retrieve information like that described above by linking various relations together. In the past two decades, the software industry has largely standardized the syntax used to create, manipulate, delete, and update information in a relational database. This most widely accepted set of query language standards is \u201cstructured query language,\u201d also known by its acronym SQL. Those skilled in the art are familiar with many alternative database query languages, each having its own particular syntax. For example, query language syntax standards have been proposed for Extensible Markup Language (\u201cXML\u201d).","This invention is directed to, but not limited by, one or more of the following objects, separately or in combination:\n\n","Before proceeding further with the \u201csummary\u201d of the invention, the reader (perhaps a judge or a juror) is forewarned that the following summary is intended merely to recite, in almost word-for-word fashion, the language of the appended claims. This is a common convention employed by patent agents and attorneys to ensure that all of the subject matter of the claims finds explicit support and \u201cantecedent basis\u201d in the specification. Unfortunately, such summaries are frequently difficult to read and comprehend. The summary that follows is no exception. It is suggested that those looking for a brief overview of the present invention read the abstract. Those seeking to enrich their understanding further should read the detailed description. Those simply wanting to know what is claimed should read the claims themselves, because the formatting of the claims is generally easier to follow than the summary recital that follows.","Accordingly, a method is provided to specify drill-down relationships between a first report and one or more other reports in a computer language that includes query language syntax operable to interrogate one or more computer databases, the method comprising the following actions: specify a first expression in the query language syntax of the computer language, the first expression operable to retrieve information from the one or more computer databases, the information being operable to be displayed in the first report; communicate the first expression to a relational database management system; and specify a second expression in the computer language to define one or more drill-down relationships between the information operable to be retrieved by the first expression and the one or more other reports; wherein the first and second expressions are specified in a computer application operable to interface with a relational database management system; and wherein the first expression comprises a column expression operable to retrieve a column or an operation on a set of columns from the one or more computer databases; and wherein the second expression is specified in the query language syntax of the computer language; and wherein the second expression comprises a column expression operable to generate a column of character strings.","Also, a method is provided to generate a first report having one or more drill-down relationships with one or more other reports, where the first report displays information retrieved from at least one computer database, the method comprising the following actions: in response to a first database query language expression specified in a block of source code, retrieve data from the at least one computer database, where the data is operable for use in generating the first report; in response to a second expression in the same block of source code, establish the one or more relationships between the data and the one or more other reports. More specific embodiments of this method include one or more of the following actions: providing a relational database management system to manage the at least one computer database; provide a reporting application to communicate with the relational database management system; interrogating the relational database management system with the database query language expression; retrieving a result set of data from the relational database management system; and transferring a result set of data from the relational database management system to the reporting application. The action of establishing the one or more relationships between the data and the one or more other reports may be performed by the reporting application.","A further method is provided to specify a drill-down relationship between a first report and a second report using a query language having predefined syntax for interrogating databases, the method comprising the following actions: specify a first expression in the query language syntax, the first expression being operable to retrieve data from a database into a result set operable to be used to generate the first report; and specify a second expression in the query language syntax, the second expression being operable to generate metadata to incorporate into the result set, where the metadata establishes the drill-down relationship between the first report and the second report. More specific embodiments of this method comprise specifying a third expression in query language syntax, the third expression being operable to retrieve data from the database into a second result set operable to be used to generate the second report; providing an object that encapsulates the third expression; and specifying a name for the object. The metadata may comprise a character string that identifies the name of the object that encapsulates the third expression. Also, the first and second query language expressions may comprise column expressions. Further, the metadata may comprise at least one column of a table, where the column is labeled with a predefined keyword that identifies the column as containing drill-down metadata. Also, the first report may have characteristics, where the method further comprises specifying a fourth query language expression operable to create additional metadata that defines characteristics of the first report. The retrieved data may comprise one or more columns, and the additional metadata may specify one or more of the columns to display in the first report. The first report may also include formatting characteristics, where the additional metadata also specifies one or more of those formatting characteristics.","Yet another method is provided to generate a set of linked reports comprising the steps of: executing a first query language statement to generate a first result set comprising data and metadata, where the metadata defines a relationship between the data and a drill-down report; binding the data to a first template operable to display a first graphical object on a graphical user interface, where the first graphical object comprises a plurality of distinctly visible elements corresponding to a plurality of distinct relational database entities, and where the interface is operable to generate an event if a user selects any one of the plurality of distinctly visible elements, whereby the particular element selected can be identified; publishing a report containing the first graphical object on the graphical user interface; and if the user makes a selection, then identifying the selected element by mapping it to the corresponding data and metadata; processing the metadata to identify the drill-down report to which the data is related; executing a second query language command corresponding to the identified drill-down report, where the second query language command generates a second result set comprising further data; binding the further data to a second template operable to display a second graphical object on the graphical user interface; and publishing the drill-down report on the graphical user interface, where the drill-down report contains the second graphical object.","A yet further method is provided to produce linked first and second reports to a user, the second report being provided in response to the user's selection of an element of a first report, the method comprising the actions of: retrieve a first object that defines characteristics of the first report, the first object including a first query language statement operable to retrieve a first data set from a relational database, the first object also including a linking instruction that specifies a linking relationship between at least a portion of the first data set and the second report, the first object further specifying a first report template to which the first data set is operable to be bound; transmit the first query language instruction to a relational database management system; retrieve the first data set from the relational database management system in response to the first query language instruction; bind at least a portion of the first data set to the first report template; publish the first report; wait for the user to select an element of the first report; if the user selects an element of the first report, map the user's selection to a corresponding portion of the first data set; if the linking instruction specifies a linking relationship between the second report and the portion of the first data set corresponding to the user's selection, then retrieve a second object that defines characteristics of the second report, the second object including a second query language instruction operable to retrieve a second data set from a relational database, the second object further specifying a second report template to which the second data set is operable to be bound; retrieve the second data set from the relational database management system in response to the second query language instruction; bind the second data set to the second report template; and publish the second report. In a more specific embodiment of this method, the linking instruction also includes a parameter to pass to the second object and to modify the second query language instruction therein, the method further comprising translating the second query language instruction to incorporate the parameter passed by the linking instruction if the action of retrieving the second object is performed.","In addition to these methods, a reporting apparatus is provided for a relational database comprising: a computer; a plurality of report pattern objects residing on the computer, each object defining the characteristics of a report, including a query language statement operable to retrieve a result set from the relational database; a data retrieving module operable to retrieve the result set specified by the query language statement; a result set handling module operable to identify drill-down-report-specifying metadata in the result set; and an event handling module operable to retrieve, in response to user requests, report pattern objects corresponding to drill-down reports specified in the metadata of the result set. The reporting apparatus further comprises an editing module operable to enable the editing of the report pattern objects; a translating module operable to incorporate parameters passed by the event handling module into the query language expressions of report pattern objects retrieved in response to user requests for drill-down reports; a reporting module operable to generate report code corresponding to the result set on a user interface; and a presentation handler operable to display reports in accordance with the report code generated by the reporting module. In one embodiment, the data retrieving module comprises at least a portion of a relational database management system.","Also, a computer system is provided, on which a relational database application is running, the computer system comprising: a plurality of linked report pattern objects containing query instructions operable to generate a result set constructed at least in part with data from a relational database; a first logic circuit created by the relational database application, the first logic circuit being operable to retrieve one or more of the plurality of report pattern objects; a second logic circuit created by the relational database application, the second logic circuit being operable to identify drill-down-report-specifying metadata in a result set obtained from a relational database; and a third logic circuit created by the relational database application, the third logic circuit being responsive to user requests for drill-down reports, whereby the computer system is operable, in response to user requests, to retrieve report pattern objects corresponding to the drill-down reports specified in the metadata of the result set. The computer system further comprises a fourth logic circuit created by the relational database application, the fourth logic circuit being operable to enable the editing of report pattern objects; a fifth logic circuit created by the relational database application, the fifth logic circuit operable to incorporate parameters specified in the drill-down-report-specifying metadata into the query language instructions of report pattern objects retrieved in response to user requests for drill-down reports; and a sixth logic circuit operable to publish a report corresponding to the result set on a user interface.","Furthermore, a system is provided for generating linked reports comprising: means for specifying drill-down relationships between reports; means for publishing reports based on underlying data, where the reports contain a plurality of user-selectable graphical elements; means for mapping user selections of graphical elements in published reports to a corresponding portion of the underlying data; and means for identifying the drill-down relationships between reports.","These and other objects, features, and advantages of the present invention will be readily apparent to those skilled in the art from the following detailed description taken in conjunction with the annexed sheets of drawings, which illustrate the invention.","The principles of the present invention can be most easily understood by referring to  and the accompanying specification. Those figures and the accompanying specification provide a specific illustration of a preferred convention and method to generate reports and to define the drill-down relationships between those reports. It is suggested that those who wish to quickly comprehend the ingenuity of the present invention skip to those sections of the specification. But not all aspects of the present invention are intended to be limited to that specific illustration.  provide a \u201cbig picture\u201d overview of one aspect of the present invention the structural and functional interrelationships between one or more computers and a plurality of software modules that implement the drill-down convention.  are included first because they provide some of the fundamental elements of many of the claims that follow. (Of course, this statement should not be meant to imply its converse that all of the elements illustrated in  are critical, or even fundamental, to the invention).",{"@attributes":{"id":"p-0040","num":"0051"},"figref":"FIGS. 10\u201313"},"Turning now to , a block diagram of a computer system  is shown on which the invention may be implemented. The computer system  comprises a central processor or logic circuit  that, via a motherboard and bus system , accesses, interprets, and manipulates bits of data dynamically or statically stored on a memory system  and a storage system . In response to various interpreted commands, the central processor  receives bits (e.g., streams of electrons, holes, or photons, etc.) from a pointing device  and keyboard  via controllers  and , respectively, and transmits bits to a sound card  connected to speakers , a video card  connected to a display , and a slot  connected to an expansion slot . Of course, it will be understood that while the invention described herein may be implemented wholly on a single computer system , in many instances different aspects of the invention will be implemented on multiple computer systems , each having their own central processors , where each computer system  is in communication with, or capable of being in communication with (e.g., via a local area network and\/or the Internet), the other computer systems  on which the invention is implemented.",{"@attributes":{"id":"p-0042","num":"0053"},"figref":"FIG. 2","b":["200","220","230","210","250","270","200","200","220","230","220"]},"The third component of the software system  is the reporting API , which provides report templates  for producing reports such as bar charts, pie charts, and cross tab charts. The reporting API  is preferably capable of publishing such reports into a variety of formats, such as hypertext markup language (HTML), extensible markup language (XML), Adobe Acrobat PDF\u00ae, rich text format, or Microsoft Excel\u00ae format. A preferred embodiment utilizes the Style Report\u00ae API made by InetSoft Technology Corp.\u00ae One of the advantages of the Style Report\u00ae API is that it is based on Java,\u00ae making it platform-independent.","The reporting API  is preferably capable of incorporating hyperlinks into its reports. The reporting API  also preferably acts as an intermediary between an end user  (e.g., a corporate executive or client) seeking reports and the rapid reporting tool . The reporting API  generates the code for publishing a requested report and transmits it via a computer bus, computer network, or the Internet  to the end user's workstation (of which only the display device  and pointing tool  are shown). At the user's workstation, a presentation handler , such as an Internet browser, word processor, spreadsheet, or PDF file reader, translates the code into a readable format. The report is then published on the display device  for the benefit of the end user . If the end user  requests a drill-down report by selecting some element (e.g., a pie slice from a pie chart, a bar from a bar chart, or a row from a cross tab report) of the report, then the presentation handler  transmits the user request event back to the reporting API .","The fourth component of the software system  is the rapid reporting tool , which provides an intuitive, DQL-compatible convention and interface for defining reports and specifying the drill-down relationships between them. The rapid reporting tool  is a combination of different modules, including a report pattern editor , a report pattern translator , a result set metadata handler , and an event handler and mapping module . The preferred embodiment of the rapid reporting tool  is the MoreBetter Reports\u00ae product recently introduced to market by BIF Technologies, Inc., of San Antonio, Tex., the assignee of the present invention. The MoreBetter Reports\u00ae product incorporates many, but not all, of the aspects of the present invention. As of the time this application is being drafted, the product is described on BIF Technologies\u201d website, http:\/\/www.morebettersolutions.com.","The report pattern editor  provides an interface with which a DQL programmer  can define the parameters  of a report. The interface provides the DQL programmer  with fields to specify the report name, the report title and subtitle, the name of the report template  that provides the graphical framework for the report, and the DQL query to generate the data set on which the report will be based. After the DQL programmer finishes specifying the report pattern parameters , they are stored in a custom report patterns database . (It should be noted that the custom patterns database  may optionally be a subset of the database ).","The report pattern translator  intercepts any request received by the software system  to publish a report, retrieves the parameters  of the requested report, parses the DQL query, and substitutes special elements, if any, in the query (e.g., scripts embedded in curly brackets such as element  of ) with arguments passed with the request for the report. After performing this \u201ctranslation,\u201d the rapid reporting tool  is ready to submit the query  to the DBMS .","The result set handler  intercepts the result set  returned by the DBMS  in response to a query  and parses it in search of \u201cmetadata.\u201d Metadata is definitional data that describes the context, quality, and characteristics of the non-metadata data of the result set . For example, the metadata may define drill-down relationships between individual records of the result set and other reports identified in the metadata. The metadata may also define formatting characteristics of the intended report. An example of result set metadata is illustrated the two right-most columns of . The specific lines  and  of the DQL query  used to generate that illustrative metadata are depicted in . Preferred conventions for creating this metadata are discussed later, in conjunction with . After parsing and interpreting the metadata, if any, the result set handler  binds part or all of the non-metadata data  to the report templates  of the reporting API .","The event handler and mapping module  intercepts user request events  for drill-down reports from the reporting API , and maps that event to the metadata associated with the graphical element that the end user  selected. The module  then parses the metadata to identify the name of the selected drill-down report and any arguments that should be passed to the selected report. The rapid reporting tool  then retrieves the parameters  of the requested drill-down report from the custom report patterns database . Then, the cycle repeats itself. The report pattern translator  translates the drill-down report parameters  by incorporating the passed arguments, if any, and submits the query to the DBMS . The result set handler  parses the result set for metadata, and so on.","Preferably, the rapid reporting tool  is written in a platform-independent language such as Java, so that it can be combined with any backend DBMS and easily ported to a variety of different computer architectures and operating systems.",{"@attributes":{"id":"p-0051","num":"0062"},"figref":["FIG. 2","FIG. 2"],"b":["225","227","210","230","225","227","230","225","210","210"]},"Before moving on to , it is important to realize that the various components of the software system  could be arranged differently, or combined in whole or in part, without departing from the written description of the present invention. For example, existing DBMSs  or reporting APIs  may be enhanced to incorporate some or all of the modules of the rapid reporting tool  of . A fully featured DBMS  could be created to incorporate the rapid reporting tool  and the reporting API . Likewise, the components of software system  could be broken into discrete parts themselves. The result set handler , event handler and mapping module , report pattern , and report pattern translator  may exist as independent modules or subcombinations of modules. It will be understood that the present invention, as described and explained, literally extends to these embodiments as well.","While  focused on the structural interrelationships between different functional components of one embodiment of the present invention,  focuses on the functional flow itself. The description that follows restates and amplifies the functional concepts already explained in connection with .",{"@attributes":{"id":"p-0054","num":"0065"},"figref":"FIG. 3","b":["310","315","320","325","330","335","340","345","350","355","360","365","315"]},"The functions of  have been described as \u201cblocks\u201d rather than \u201csteps\u201d because the order in which the functions are performed is not necessarily critical. While it will be apparent that some of the steps should be performed in the order displayed, some steps may be interchanged without departing from the literal scope of the invention. For example, the function described in block  could be done after the function of block , or even combined with the function of block .",{"@attributes":{"id":"p-0056","num":"0067"},"figref":["FIG. 4","FIGS. 5 through 9","FIG. 4"]},{"@attributes":{"id":"p-0057","num":"0068"},"figref":["FIG. 5","FIG. 4"],"b":["500","500"]},"The interface  illustratively provides the following fields in which information related to defining and presenting a report can be specified: a name field  to identify the name of the report; a title field  and subtitle field  to be published with report; a header logo field  to specify a logo to publish with the report; header and footer fields  and , respectively; a template identifier field  to identify a report template (such as a bar chart, pie chart, cross tab chart, or some combination of like charts) to graphically display the data; a query field  to specify a query for the data to be displayed; and a data source field  to specify the database from which to retrieve the data. The identified fields are not intended to be all-inclusive. The interface  may well provide fields for entering other specifications.","The query field  depicts the familiar SQL commands \u201cSELECT\u201d, \u201cFROM\u201d, \u201cWHERE\u201d, \u201cAND\u201d, and \u201cGROUP BY\u201d. In this illustrative example, the query requests that a result set be retrieved from the \u201cMoreBetterTradersDatabase.db\u201d (line ) containing a row for each employee in the \u201cEmployees\u201d table (line ). Lines , , and  specify that each row should include the \u201cEmployeeID,\u201d \u201cFirstName,\u201d and \u201cLastName\u201d fields from the \u201cEmployees\u201d table. Furthermore, the \u201cAS\u201d expressions specify that the first three columns of the result set should be labeled \u201cEmployee ID,\u201d \u201cFirst Name,\u201d and \u201cLast Name.\u201d Line  requests that another column, labeled \u201cTotal Sales,\u201d be included in this result set. The values in the \u201cTotal Sales\u201d column are to contain the summation of all the products of the \u201cQuantity\u201d and \u201cUnitPrice\u201d fields of the \u201cOrderDetails\u201d tables (see line ), where the following two conditions are met: the \u201cOrderID\u201d of the \u201cOrderDetails\u201d table matches the \u201cOrderID\u201d of the \u201cOrders\u201d table (lines , ); and the \u201cEmployeeID\u201d of the \u201cEmployees\u201d table matches the \u201cEmployeeID\u201d of the \u201cOrders\u201d table (line ). These portions of the query are readily understandable to those familiar with SQL and similar query languages.","For purposes of this illustration, the most important lines depicted in the query field are lines  and . Significantly, these lines instruct the DBMS to include two additional columns, containing strings of characters, to the result set. These strings of characters constitute \u201cmetadata,\u201d that is, definitional data used to describe the context, quality, and relational characteristics of the non-metadata data of the result set. In accordance with the present invention, it is by constructing a DQL query to create metadata that the DQL programmer defines linking relationships between the report to be generated by the parameters of , and other drill-down reports (whose parameters are specified elsewhere, for example, as shown in ).","In this example, line  instructs the DBMS to include a fifth column labeled \u201cmbchart\u201d in the result set. It also instructs the DBMS to include, in the fifth field of each record in the result set, the following string:\n\n","Indeed, the reader will note that this very string repeatedly appears in the fifth column of .","Likewise, line  instructs the DBMS to include a sixth column labeled \u201cmbdrilldown\u201d in the result set. Unlike line , this line instructs the DBMS to include unique strings in the sixth field of each row in the result set. These strings each specify a drill-down report and two arguments (i.e., the employee ID and the employee name), at least one of which is unique, to pass to that report. The content of these strings is depicted in the sixth, or right-most column of . The manner in which these particular metadata strings are interpreted is explained later, in connection with .","To make it clear that the fifth and sixth columns of the result set will contain metadata, lines  and  illustratively instruct the DBMS to label those columns with unique labels such as \u201cmbchart\u201d and \u201cmbdrilldown,\u201d which, it is hoped, are not already being used by the database designer or user to describe real data. In this connection, it will typically be the case that predefined metadata labels should be used, so that the reporting tool  () (i.e., the tool that processes the result set before binding the real data to the report template) can distinguish the metadata from the real data. In the alternative, it would of course be possible to standardize a simpler term, like \u201cdrilldown,\u201d as a reserved word and to configure the reporting tool  or DBMS  () to recognize such labels as referring to metadata. Such alternative conventions are discussed later in connection with .","Before turning to , the curly brackets in line  should be noted. These particular curly brackets, and the arguments contained therein, instruct the reporting tool  to substitute the page number of the report for {P}, the total number of pages in the report for {N}, the date the report was created for {D}, and the time the report was created for {T}. The significance of the curly brackets will be further illustrated and described in connection with line  of .",{"@attributes":{"id":"p-0066","num":"0078"},"figref":["FIG. 6","FIG. 5","FIG. 5"],"b":["610","620","630","640","554","556","558","560","562","564","650","660","660","650","650","660"],"sub":["\u2014","\u2014","\u2014","\u2014","\u2014"]},{"@attributes":{"id":"p-0067","num":"0079"},"figref":["FIG. 7","FIG. 5","FIG. 5","FIG. 5"],"b":["700","522","700","710","720","512","514"]},"Inspection of the 3-D bar chart also reveals the significance of the \u201cmbchart\u201d metadata generated by query line . The \u201cmbchart\u201d metadata specifies the titles of the x- and y-axes. (It will, of course, be understood that the invention could be implemented to specify the same information in separate parameter fields like the title and subtitle fields  and  already provided.) The \u201cmbchart\u201d metadata also instructs the system implementing the invention (see ) to pull the labels for the x-axis from the 3column (identified by the number \u201c2\u201d because it is the third number one counts when starting from 0). Finally, the \u201cmbchart\u201d metadata instructs the system to pull the y-values of the 3-D bar chart from the 4column (identified by the number \u201c3\u201d). It will be understood that the syntax employed in the mbchart metadata is illustrative. Provided the reporting tool  can understand it, other syntax may be employed.","The data depicted in the 3-D chart  is also depicted, but with further detail, in table . The reader will notice the correspondence between the headings and data in the four columns of table  and the query lines , , , and  that generated them.",{"@attributes":{"id":"p-0070","num":"0082"},"figref":["FIG. 8","FIG. 5","FIG. 6"],"b":["800","810","564","812","822","850","890"],"sub":["\u2014","\u2014","\u2014","\u2014","\u2014","\u2014","\u2014"]},"Notably, the query in  does not instruct the DBMS to generate any \u201creport metadata\u201d columns. This signifies that the report is a \u201cterminal\u201d report. It does not have a drill-down relationship to a yet more detailed report. The query, of course, could be modified in accordance with the present invention to include drill-down metadata, like the query shown in . But in order to preserve the simplicity of this illustration, such extensions are not depicted here.","Also notably, query line  depicts an argument \u201cemployeeid\u201d enclosed in curly brackets. This signals the reporting tool  () to substitute this argument with the value for \u201cemployeeid\u201d passed by the drill-down reference to the report. Referring back to , it will be observed that the value passed for the argument \u201cemployeeid\u201d by the drill-down references of the sixth column increase incrementally from row to row.","Likewise, it will be observed that field  shows an argument called \u201cemployeename\u201d enclosed in curly brackets. As with the argument of line , the argument in field  signals the reporting tool  () to substitute this argument with the value for \u201cemployeename\u201d passed by the drill-down reference to the report. Referring again back to , it is seen that the value passed for the argument \u201cemployeename\u201d also varies from row to row. In the second row, it is \u201cNancy Davolio.\u201d In the third, it is \u201cAndrew Fuller.\u201d  is a bitmap screenshot  of a drill-down report generated in accordance with the report parameters of , in response to the selection of the 3D-bar or row corresponding with \u201cAndrew Fuller\u201d in . As suggested by the selection identified in the template field  of , the screenshot  depicts a cross tab chart . As indicated by the title field , the title of the chart  is \u201cEmployee Sales Details.\u201d Notably, the subtitle of the chart  is \u201cAndrew Fuller,\u201d because, after all, this illustration assumes that the \u201cAndrew Fuller\u201d 3D-bar or row of  was selected. Moreover, this illustration assumes that the reporting tool  mapped the selection of the \u201cAndrew Fuller\u201d3D-bar or row of  to the corresponding row of . Furthermore, this illustration assumes that the reporting tool  substituted the parameters of the drill-down metadata field of the Andrew Fuller row of  for the corresponding curly bracketed arguments depicted in field  and query line  of . Thus, the subtitle is \u201cAndrew Fuller,\u201d and the data depicted in the chart  corresponds with Andrew Fuller's sales by category by year.","Taken together,  illustrate a preferred convention and method to generate reports and to define the drill-down relationships between those reports. They also illustrate how easy this invention makes it for someone skilled only in a single database query language, but not skilled in other procedural languages such as C, C++, or Java, to specify drill-down relationships between reports. A further advantage of this invention is that any reports generated by this method and convention can use the most current data from the customer's database. In this sense, the reports are dynamically driven.",{"@attributes":{"id":"p-0075","num":"0087"},"figref":["FIGS. 10 through 13","FIGS. 10 and 11","FIGS. 4\u20139"],"b":["1000","1010","1020","1030","1020"]},"Window  depicts a suggested syntax for the drill-down expression. This syntax will generally be unimportant to the DBMS  () which will generate whatever string it is asked to generate. But the syntax is important to the reporting tool , which recognizes the drilldownmetadatacolumnheading  as identifying a column containing drill-down metadata and parses strings produced by the DBMS for that column in order to identify the drill-down report and any arguments to pass to the drill-down report. In window , the suggested syntax for the drill-down expression is the keyword \u201creportname=\u201d followed by the actual name of the report optionally followed by (the square brackets signify optional matter) the character \u201c&\u201d followed by the name of a parameter followed by the character \u201c=\u201d followed by the value of the parameter optionally followed by yet more ampersands, parameter names, equal signs, and parameter values. The suggested syntax is identical to syntax commonly employed in HTTP requests.",{"@attributes":{"id":"p-0077","num":"0089"},"figref":"FIG. 12"},"It would of course be possible to incorporate and standardize, at least in part, the concepts of the present invention by extending existing database query language standards or incorporating these extensions into a public or proprietary dialect of an existing database query language.  suggests a possible standard that involves the creation of four new reserved SQL or XML words \u201cREPORT,\u201d \u201cDEFINE,\u201d \u201cDRILLDOWN,\u201d and \u201cEND REPORT\u201d as depicted in lines , , , and . Line  suggests a naming and argument-passing convention for a report. The title, subtitle, and other elements of the report could be defined or specified in the manner depicted by line . Drill-down relationships to other reports would be specified in the form of a function call as suggested in line . For example, a DRILLDOWN statement may specify one of the columns identified in the SELECT statement as an argument in the function call. The DRILLDOWN statement would then pass the particular row value for that column corresponding to the graphical element (e.g., a pie slice) selected by the end user.","Although the foregoing specific details describe a preferred embodiment of this invention, persons reasonably skilled in the art will recognize that various changes may be made in the details of the method and apparatus of this invention without departing from the spirit and scope of the invention as defined in the appended claims. Therefore, it should be understood that, unless otherwise specified, this invention is not to be limited to the specific details shown and described herein."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF DRAWINGS","p":[{"@attributes":{"id":"p-0026","num":"0037"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0027","num":"0038"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0028","num":"0039"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0029","num":"0040"},"figref":["FIG. 4","FIGS. 5 through 9"]},{"@attributes":{"id":"p-0030","num":"0041"},"figref":["FIG. 5","FIG. 4"]},{"@attributes":{"id":"p-0031","num":"0042"},"figref":["FIG. 6","FIG. 5"]},{"@attributes":{"id":"p-0032","num":"0043"},"figref":["FIG. 7","FIG. 5"]},{"@attributes":{"id":"p-0033","num":"0044"},"figref":["FIG. 8","FIG. 5","FIG. 7"]},{"@attributes":{"id":"p-0034","num":"0045"},"figref":["FIG. 9","FIG. 8","FIG. 7"]},{"@attributes":{"id":"p-0035","num":"0046"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0036","num":"0047"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0037","num":"0048"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0038","num":"0049"},"figref":"FIG. 13"}]},"DETDESC":[{},{}]}
