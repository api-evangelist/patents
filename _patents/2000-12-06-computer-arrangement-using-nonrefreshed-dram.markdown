---
title: Computer arrangement using non-refreshed DRAM
abstract: A computer arrangement with a processor () and at least one memory unit () connected to the processor () and including dynamic random access memory (), wherein the computer arrangment is arranged to use but not to refresh at least part of the dynamic random access memory () while running a program.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07020740&OS=07020740&RS=07020740
owner: Sun Microsystems, Inc.
number: 07020740
owner_city: Santa Clara
owner_country: US
publication_date: 20001206
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","PRIOR ART","OBJECTIVES","DESCRIPTION OF THE INVENTION","DESCRIPTION OF THE PREFERRED EMBODIMENT"],"p":["The present invention relates to a computer arrangement comprising a processor and at least one memory unit connected to the processor and comprising dynamic random access memory having a predetermined retention time, the computer arrangement being arranged for running a predetermined program on the processor while temporarily storing data during a storage time in at least part of the dynamic random access memory.","EP-A-0 917 152 discloses a semiconductor circuit and a method of controlling such a circuit. The circuit comprises dynamic random access memory (DRAM). The object is to decrease the frequency of times of refreshing operations of such DRAM in order to achieve power consumption. This object is obtained refreshing only those rows in the DRAM that contain valid data used by the logic portion of the circuit. DRAM portions that do not contain valid data are not refreshed thus saving time and power.","Similar techniques of refreshing only those portions of DRAM that contain valid data are disclosed by U.S. Pat. Nos. 5,1148,546, 5,283,885, and 5,469,559.","The general objective of the present invention is to provide a method and arrangement that provide an even more effective use of DRAM and, ultimately, avoid any refreshment of DRAM.","Traditionally, all smart cards have chips which are implemented with static random access memory (RAM) cells. By using memory array imaging techniques it may be possible to maliciously extract data from such RAM. Therefore, in an embodiment, it is an objective of the invention to apply such DRAM in smart cards to reduce the risk of maliciously break-in into RAM cells by scanning data retained therein.","Therefore, in accordance with the invention the storage time is shorter than the retention time and the computer arrangement is arranged to use but not to refresh the at least part of the dynamic random access memory comprising the data during the running of the program.","The invention is based on the observation that in specific fields of use, notably (contactless) smart cards, the inherent time requirements are such that limited retention without refresh of data by DRAM cells is no longer an obstacle to effective use thereof.","A DRAM cell typically utilizes a single (MOS) transistor whereas a traditional RAM cell of the static type requires four or more (MOS) transistors. In accordance with the invention, part of the DRAM is not refreshed while running a program. Since no refresh operation is used the time that data is retained in the DRAM cells depends on the electrical capacity of the DRAM cell. The retention time depends on the design parameters of the cell. In many smart card applications, processing of data must be completed in less than 150 ms. DRAM cells having a retention time of for instance a few hundreds of ms can easily be designed.","Thus, data necessary for carrying out some computations can be retained long enough in DRAM cells properly designed. Since after the retention time, all data will be lost, the invention provided improves security by increasing the difficulty of maliciously extracting data from the memory.","One way in which the invention may be implemented is by not connecting the at least part of the dynamic random access memory to refresh circuitry. An alternative is to disable a refresh function of existing refresh circuitry for the at least part of the dynamic random access memory.","Since a single DRAM cell requires less space on a silicon chip than does one static RAM cell, using the same size of chip area results in having a larger memory capacity. Alternatively, the same number of necessary memory cells results in a smaller silicon area required. This is especially important for smart cards where RAM is typically the relatively largest area component. Therefore, the present invention also results in the possibility of reducing costs of smart card chips.","Therefore, the present invention also relates to a smart card provided with a computer arrangement as defined above.","However, the invention does not only relate to smart cards or the like but also to further computers like terminals arranged to communicate with such cards.","To that end the present invention relates to a terminal provided with a terminal processor and a terminal communication interface connected to said terminal processor and arranged for communicating with a computer arrangement comprising a processor, a communication interface and at least one memory unit, said communication interface and said at least one memory unit being connected to said processor, said at least one memory unit comprising memory for storing a computer program with a predetermined sequence of instructions and dynamic random access memory, said computer arrangement being arranged to use but not to refresh at least part of said dynamic random access memory while running said program, wherein said terminal processor is arranged to carry out the following steps:\n\n","It is observed that in this definition the term \u201cterminal\u201d is to be interpreted broadly, as including any type of computer arrangement arranged to communicate with the computer arrangement comprising the DRAM memory as defined above. Moreover, the term \u201cterminal processor\u201d is not intended to limit this processor to one single processor. It may include several parallel processing and communicating sub-processors, some of which are even allowed to be physically located outside the terminal.","By using such a further computer arrangement, it is certain that data to be stored by the program to be carried out by the processor need not be retained longer in the DRAM cells than the retention time of the DRAM cells. Thus, indeed no refresh circuitry is necessary for the processor to carry out its computer program.","In a further embodiment, the invention relates to a method of running a program on a computer arrangement comprising a processor and at least one memory unit connected to said processor and comprising dynamic random access memory having a predetermined retention time, the method comprising the step of running a predetermined program on said processor while temporarily storing data during a storage time in at least part of said dynamic random access memory, wherein said storage time is shorter than said retention time and said method further comprises the step of using but not refreshing said at least part of said dynamic random access memory comprising said data during said running of said program.","Moreover, the invention relates to a computer program comprising instructions executable on a computer arrangement comprising a processor and at least one memory unit connected to said processor and comprising dynamic random access memory having a predetermined retention time, the computer program while running on said computer arrangement comprising the step of temporarily storing data during a storage time in at least part of said dynamic random access memory, wherein said storage time is shorter than said retention time and said computer program further comprises the step of using but not refreshing said at least part of said dynamic random access memory comprising said data during said running of said program.","Finally, the invention relates to a computer readable medium comprising a computer program as defined above.","The present invention will be illustrated with reference to a smart card application. However, it is to be understood that the concept of the present invention can be used outside the field of smart cards.",{"@attributes":{"id":"p-0029","num":"0032"},"figref":["FIG. 1","FIG. 1","FIG. 1"],"b":["1","3","3","3","2","1","2","4","3","1"]},"The terminal  comprises a processor  connected to the communication interface . Through its communication interface , the processor  is able to communicate with the processor (not shown in ) of the smart card .","The processor  is shown to be one block. However, if preferred, the processor  may be implemented as several sub-processors communicating with one another each dedicated to perform a predetermined task. One or more of said sub-processors might be located outside the terminal . Preferably, the processor  is (or the sub-processors are implemented as a computer with suitable software. However, if desired, they may be implemented as dedicated digital circuits.","As shown in , the communication interface  of the smart card  is connected to a processor . In accordance with the invention, the processor  is connected to at least a first memory area  comprising DRAM (Dynamic Random Access Memory) cells.","In accordance with one embodiment of the present invention, at least part of the DRAM  is not connected to refresh circuitry. If the logic arrangement shown in  is used in smart card applications, preferably no refresh circuitry is applied at all. This saves space and circuitry in such a single chip computer. Of course, also in other applications one may decide to apply no refresh circuitry at all.","The DRAM  may be connected to a separate logic circuit , the operation of which will be explained hereinafter. The logic circuit  is connected to either a computing unit  or the communication interface . However, it is also possible that the logic circuit  is connected to both the computing unit  and the communication interface . Actually, processor , logic circuit  and computing unit  may be implemented as one processing unit. Moreover, all of the different units shown in  may be implemented as a single integrated chip.","The processor  is, preferably, also connected to a second memory area  comprising SRAM (Static Random Access Memory) cells.","Preferably, non-volatile memory such as EEPROM  connected to the processor  is also present. In most applications, also ROM (Read Only Memory)  connected to the processor  is provided.","If present, the computing unit  is, preferably, also connected to the ROM , the EEPROM , and the SRAM .","The ROM  and possibly the SRAM  and the EEPROM  contain the computer program that determines the behavior of the processor , and possibly also of the computing unit , when the processor  is used as a responding component in inter-computer communications through interface . In smart card applications, such inter-computer communications typically consist of command and response exchanges, which are constraint to a very short duration. For a contactless smart card, the time available for communication is typically in the order of 150 ms. In that short time period the smart card  receives one or more data transmissions that function as commands. The processor  processes the commands which typically include cryptographic computations and instructions to update the non-volatile memory . At the end of its processing, the processor  sends its response.","So far, the use of DRAM cells has not seriously been considered for smart card applications. They were considered to be too unreliable due to their inherent limited retention time and not to be cost-effective due to the necessary additional on-chip refresh logic circuitry to compensate for the limited retention time.","Now, contrary to the prior art, the arrangement according to the invention comprises DRAM cells  of which, in a preferred embodiment, at least part is not connected to refresh circuitry. Due to the field of application, the timing constraints are such that refresh circuitry is superfluous. Such timing constraints are most prominent in contactless smart card applications where due to field strength fluctuations experienced by the smart card chip, as it is moved by its user across a communication range of a terminal, all data exchange and processing must be completed in less than 150 ms.","However, also in other fields than contactless smart card applications the invention may advantageously be applied. In general, in accordance with the invention, a predetermined program is running on the processor that needs data to be temporarily stored on the dynamic random access memory  during a necessary storage time. This storage time for all portions of valid data during running the program, i.e., carrying out consecutive program steps, is such that it is shorter than the retention time of the dynamic random access memory  used. Thus, no refresh cycles for the DRAM are necessary anymore and refreshment will not be used anymore.","In practice, chips implemented according to the invention will remain having a limited RAM storage implemented with static cells to store data such as the return stack or essential security or program state values, the RAM consisting of, e.g., 128 bytes. As the basic memory cell of a DRAM is typically at least four times smaller than the basic memory cell of a SRAM, a chip in accordance with the invention can in average provide four times more memory at equal costs.","A further advantage of the present invention can be obtained by realizing the DRAM  not as a single controlled array but as two or more independently controlled simultaneously accessible banks (), (), (), (), as shown in .  shows four such banks, however, it is to be understood that the number of banks may be different. Using a number of different banks would facilitate the use of additional logic circuitry on a single chip computer arrangement. Such additional logic circuitry may relate to a coprocessor in the form of an additional computing unit  which is arranged to carry out additional cryptographic computations while using only one of the banks, e.g., bank ().","To that end all banks () . . . () are connected to an address bus, a data bus and read and write lines (see ). The signals carried by these different lines are known to a person skilled in the art. By means of the address bus, the computing unit  is able to address memory cells in bank () whereas these memory cells are, then, not accessible to processor . By providing a separate computing unit , computations can be carried out simultaneously, thus, ensuring that a process can be carried out in the required timing constraints of e.g. 150 ms.","It is observed that  is very schematic. The arrangement is such that at least one of the memory banks () . . . () can be selected independently from the other memory banks. This can be done by multiplexing techniques on the address bus, data bus, read and write lines. However, this may also be done by providing separate address busses, data busses, read and write lines for each independent memory bank, as is known to persons skilled in the art.","Instead of or in addition to using a computing unit , which accesses the DRAM  through the logic circuit , a DMA (Direct Memory Access) communication procedure can be provided for. To that end, the logic circuit  is, then, connected to the communication interface  such that an external processor (e.g., processor  of the terminal ) is able to directly access DRAM . Preferably, through such a DMA communication procedure, the external processor is only able to obtain access to one of the banks () . . . (). This all could increase the speed of execution and allow for reduced power consumption. Non-traditional CPU design, e.g. RISC (=Reduced Instruction Set Computer), might also benefit from multi-banked RAM.","As customary, the DRAM cells may be organized into a rectangular structure consisting of a number of word-lines, each containing a number of bit memory cells to store data for a multiple of bytes. One such word-line is schematically shown in . To safeguard against unexpected longer storage periods than the maximum retention time of the individual DRAM cells which might result in using data incorrectly retrieved from the DRAM cells, each word-line in the memory area may comprise one or more \u201cwitness\u201d storage cells.  shows a situation in which four such \u201cwitness\u201d storage cells at the right-hand side of the word-line are used. As shown in step  of , these four storage cells, at the outset of a write action into the word-line, are provided with a predetermined pattern of data: in  this pattern is 0 1 1 0. Of course, an other pattern of predetermined logic values may be used. Also, the number of \u201cwitness\u201d storage cells may differ. As shown in step  of , the \u201cwitness\u201d cells are read each time data stored in the word-line cells is read by processor  or by any other additional logic processor, such as computing unit  (not shown in ). Checking logic  connected to processor  (or any other additional processor present) is arranged to check whether the data pattern read from the \u201cwitness\u201d cells still equals the predetermined logic pattern; step  in . If the predetermined logic pattern is not present anymore, the checking logic  will send a warning signal to the processor  (or any other processor concerned); step . Such a warning signal will, then, be interpreted as a failure of any data read by the processor  (or any other processor concerned). An appropriate execution exception then prevents normal completion of the actual program. If no failure has been detected, the actual program can continue running. This mechanism may be deployed to fend off attacks against the chip's integrity which might be mounted by artificially elongating the processing time to cause incorrect data to be used in computations.","Although, in , the checking logic  is shown as a separate unit it is to be understood that the checking logic  may be part of the processor  (or any other processor).","The \u201cwitness\u201d storage cells may be part of the normally designed word-line. However, alternatively, a normally designed word-line may be extended by such \u201cwitness\u201d storage cells. In one embodiment, these \u201cwitness\u201d storage cells are designed such that their data retention times are significantly shorter, e.g. 5\u201310%; than the data retention times of the other memory cells on the same word-line. Thus, upon detecting that the content of the \u201cwitness\u201d storage cells is correct it is even more likely that the content of the other storage cells of the same word-line is still correct by the time of reading.","In a further alternative embodiment, after having manufactured the DRAM cells it is tested which memory cells in a word line show the shortest retention times. One or more of these cells may then be used as \u201cwitness\u201d cells.","To support obtaining the benefits of the invention and to ascertain conformance to the timing constraints of the DRAM , the software loaded in e.g. ROM  or EPROM  may be preprocessed and optimized with respect to storage timing by processor  of terminal . The processor  is arranged to compile that software. During pre-processing, the processor  analyzes the time period necessary for the processor  to carry out each instruction of the software and all retention times necessary for the processor  (or any other processor like the computing unit  using the DRAM ) to temporarily store data in the DRAM  during running the software.",{"@attributes":{"id":"p-0052","num":"0055"},"figref":"FIG. 6","b":["6","60","6","62","64","6","13","13","66","13","68"]},"Above, the invention has been illustrated with reference to an embodiment in which the Dram  is physically not connected to a refresh circuitry. However, the principles of the invention may also be applied by disabling the refresh functionality of an existing computer arrangement comprising a refresh circuitry. In such an embodiment, existing refresh circuitry need not be taken away."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The invention will be explained with reference to some drawings which are only intended to illustrate the present invention and not to limit its scope which is only limited by the appended claims.",{"@attributes":{"id":"p-0022","num":"0025"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0023","num":"0026"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0024","num":"0027"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0025","num":"0028"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0026","num":"0029"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0027","num":"0030"},"figref":"FIG. 6"}]},"DETDESC":[{},{}]}
