---
title: Efficient implementation of a noise removal filter
abstract: A method for noise removal filtering is provided. The method includes selecting a characteristic of a test pixel, such as brightness, and comparing the brightness of the test pixel to the brightness of an adjacent pixel. The noise removal filtering is terminated if the test pixel brightness is equal to the adjacent pixel brightness, such that it can be determined that the test pixel has not been corrupted with noise data.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07127121&OS=07127121&RS=07127121
owner: ESS Technology, Inc.
number: 07127121
owner_city: Fremont
owner_country: US
publication_date: 20020320
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY","DETAILED DESCRIPTION"],"p":["1. Field of the Invention","The invention relates generally to image processing and, more particularly, to an efficient implementation of a noise removal filter for image data.","2. Related Art","It is known in the art to filter image data to correct pixels that have been corrupted by noise. One drawback with such image data filtering is that it requires a significant amount of processor capacity. For example, it is usually necessary to perform a large number of operations using pixel data of a test pixel and adjacent pixels. These operations are performed regardless of whether the test pixel has actually been corrupted by noise.","In accordance with the present invention, a system and method for noise removal filtering are provided that overcome known problems with systems and methods for noise removal filtering.","In particular, a system and method for noise removal filtering are provided that stop noise removal filtering for a pixel as soon as it is determined that the pixel data has not been corrupted by noise.","In accordance with an exemplary embodiment of the present invention, a method for noise removal filtering is provided. The method includes selecting a characteristic of a test pixel, such as brightness, and comparing the brightness of the test pixel to the brightness of an adjacent pixel. The noise removal filtering is terminated if the test pixel brightness is equal to the adjacent pixel brightness, such that it can be determined that the test pixel has not been corrupted by noise.","The present invention provides many important technical advantages. One important technical advantage of the present invention is a system and method for noise removal testing that allow testing for a pixel to be stopped as soon as it is determined that the pixel data has not been corrupted with noise, such as by comparing the pixel to adjacent pixels and stopping testing when it is determined that the pixel data is equal to or bounded by adjacent pixel data.","Those skilled in the art will further appreciate the advantages and superior features of the invention together with other important aspects thereof on reading the detailed description that follows in conjunction with the drawings.","The present invention provides for an efficient noise removal filter that optimizes the processing requirements for performing noise filtering of image data. In one exemplary embodiment, if it is determined that a characteristic of a test pixel is equal to a characteristic of one of two or more adjacent pixels, such as brightness, the noise removal filter process terminates for that pixel.",{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 1","b":["100","100"]},"Horizontal filter  is a system stage where a horizontal median of three points process is performed. The horizontal median of three points process includes determining whether the characteristic of the test pixel is equal to or falls within the characteristic of each of two horizontally adjacent pixels, in which case the analysis of the test pixel terminates, as a test pixel having a characteristic that falls within or is equal to the characteristic of an adjacent pixel will not generate image \u201cnoise,\u201d even if the characteristic of that pixel is in fact the product of noise. For example, when the pixel characteristic is brightness, if the brightness of the test pixel is not less than the minimum brightness of a horizontally-adjacent pixel and is not greater than the maximum brightness of a horizontally-adjacent pixel, then the test pixel brightness will not appear as noise and subsequent noise filter processing can be suspended for the test pixel. If the characteristic of the test pixel is greater than the maximum of the characteristic of the two horizontally-adjacent pixels, or is less than the minimum of the characteristic of the two horizontally-adjacent pixels, then it is necessary to perform additional analysis to determine whether noise removal processing for the test pixel is required. A data value indicating that the characteristic of both of the horizontally-adjacent pixels were either lesser or greater than the characteristic of the test pixel can also be output by horizontal filter , such as a \u201c0\u201d if both were less and a \u201c1\u201d if both were greater, the least or greatest characteristic value, or other suitable data values.","Vertical filter  is a system stage where a vertical median of three points process is performed. The vertical median of three points process can be performed in parallel with the horizontal median of three points process performed by horizontal filter , can be performed after completion of processing at horizontal filter , or in other suitable manners. If the characteristic of the test pixel is brightness and is not less than the minimum of the characteristic of a vertically-adjacent pixel and is not greater than the maximum of the characteristic of a vertically-adjacent pixel, then the test pixel characteristic will not appear as noise and subsequent noise filter processing can be suspended for the test pixel. If the characteristic of the test pixel is greater than the maximum of the characteristic of the two vertically-adjacent pixels, or is less than the minimum of the characteristic of the two vertically-adjacent pixels, then it is necessary to perform additional analysis to determine whether noise removal processing for the test pixel is required. A data value indicating that the characteristic of both of the vertically-adjacent pixels were either lesser or greater than the characteristic of the test pixel can also be output by vertical filter , such as a \u201c0\u201d if both were less and a \u201c1\u201d if both were greater, the least or greatest characteristic value, or other suitable data values.","First diagonal filter  performs a median of three points process, such as in a first of two possible diagonal directions. The first diagonal median of three points process can be performed in parallel with horizontal filter  and vertical filter , respectively, can be performed after completion of other filtering, or in other suitable manners. If the characteristic of the test pixel is brightness and is not less than the minimum of the characteristic of the first two diagonally-adjacent pixels and is not greater than the maximum of the characteristic of the first two diagonally-adjacent pixels, then the test pixel characteristic will not appear as noise and subsequent noise filter processing can be suspended for the test pixel. If the characteristic of the test pixel is greater than the maximum of the characteristic of the first two diagonally-adjacent pixels, or is less than the minimum of the characteristic of the first two diagonally-adjacent pixels, then it is necessary to perform additional analysis to determine whether noise removal processing for the test pixel is required. A data value indicating that the characteristic of both of the first two diagonally-adjacent pixels were either lesser or greater than the characteristic of the test pixel can also be output by first diagonal filter , such as a \u201c0\u201d if both were less and a \u201c1\u201d if both were greater, the least or greatest characteristic value, or other suitable data values.","Second diagonal filter  also performs a median of three points process, such as in a second of two possible diagonal directions. The second diagonal median of three points process can be performed in parallel with horizontal filter , vertical filter , and first diagonal filter , can be performed after completion of other filtering, or in other suitable manners. If the characteristic of the test pixel is brightness and is not less than the minimum of the characteristic of the second two diagonally-adjacent pixels and is not greater than the maximum of the characteristic of the second two diagonally-adjacent pixels, then the test pixel characteristic will not appear as noise and subsequent noise filter processing can be suspended for the test pixel. If the characteristic of the test pixel is greater than the maximum of the characteristic of the second two diagonally-adjacent pixels, or is less than the minimum of the characteristic of the second two diagonally-adjacent pixels, then it is necessary to perform additional analysis to determine whether noise removal processing for the test pixel is required. A data value indicating that the characteristic of both of the second two diagonally-adjacent pixels were either lesser or greater than the characteristic of the test pixel can also be output by second diagonal filter , such as a \u201c0\u201d if both were less and a \u201c1\u201d if both were greater, the least or greatest characteristic value, or other suitable data values.","Horizontal\/vertical filter  performs a median of three points process on the test pixel and the output pixels from horizontal filter  and vertical filter . If the test pixel characteristic is brightness and is not less than the minimum of the characteristic of the output pixels from horizontal filter  and vertical filter  and is not greater than the maximum of the characteristic of the output pixels from horizontal filter  and vertical filter , then the test pixel characteristic will not appear as noise and subsequent noise filter processing can be suspended for the test pixel. If the test pixel characteristic is greater than the maximum of the characteristic of the output pixels from horizontal filter  and vertical filter , or is less than the minimum of the characteristic of the output pixels from horizontal filter  and vertical filter , then it is necessary to perform additional analysis to determine whether noise removal processing for the test pixel is required. A data value indicating that the characteristic of all of the vertically- and horizontally-adjacent pixels were either lesser or greater than the characteristic of the test pixel can also be output by horizontal\/vertical filter , such as a \u201c0\u201d if all were less and a \u201c1\u201d if all were greater, the least or greatest characteristic value, or other suitable data values.","First\/second diagonal filter  performs a median of three points process on the test pixel and the output pixels of the first diagonal filter  and second diagonal filter . If the test pixel characteristic is brightness and is not less than the minimum of the characteristic of the output pixels of the first diagonal filter  and second diagonal filter  and is not greater than the maximum of the characteristic of the output pixels of the first diagonal filter  and second diagonal filter , then the test pixel characteristic will not appear as noise and subsequent noise filter processing can be suspended for the test pixel. If the test pixel characteristic is greater than the maximum of the characteristic of the output pixels of the first diagonal filter  and second diagonal filter , or is less than the minimum of the characteristic of the output pixels of the first diagonal filter  and second diagonal filter , then it is necessary to perform additional analysis to determine whether noise removal processing for the test pixel is required. A data value indicating that the characteristic of all of the diagonally-adjacent pixels were either lesser or greater than the characteristic of the test pixel can also be output by first\/second diagonal filter , such as a \u201c0\u201d if all were less and a \u201c1\u201d if all were greater, the least or greatest characteristic value, or other suitable data values.","All adjacent filter  performs a median of three points process on the test pixel and the output pixels of the horizontal\/vertical filter  and the first\/second diagonal filter . If the test pixel characteristic is brightness and is not less than the minimum of the characteristic of the output pixels of the horizontal\/vertical filter  and the first\/second diagonal filter  and is not greater than the maximum of the characteristic of the output pixels of the horizontal\/vertical filter  and the first\/second diagonal filter , then the test pixel characteristic will not appear as noise and subsequent noise filter processing can be terminated. If the test pixel characteristic is greater than the maximum of the characteristic of the output pixels of the horizontal\/vertical filter  and the first\/second diagonal filter , then noise on the test pixel is detected and removed by replacing the test pixel characteristic to the maximum of the characteristic of the output pixels of the horizontal\/vertical filter  and the first\/second diagonal filter . Likewise, if the test pixel characteristic is less than the minimum of the characteristic of the output pixels of the horizontal\/vertical filter  and the first\/second diagonal filter , then noise on the test pixel is detected and removed by replacing the test pixel characteristic to the minimum of the characteristic of the output pixels of the horizontal\/vertical filter  and the first\/second diagonal filter . The noise removal filtering process for the test pixel is terminated after the noise is removed.","In operation, noise removal filter  optimizes noise removal processing of pixel data by stopping the filter analysis for a test pixel when it is determined that the test pixel has not been affected by noise. Comparison of a test pixel to each of the adjacent pixels is only performed in a statistically-small number of cases, such that noise removal filter processing requirements are minimized.",{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 2","b":["200","200","202","204","206","208","210"]},"First test pixel compare system  compares the test pixel characteristic, such as brightness, to the first adjacent pixel characteristic, such as with first adjacent pixel system , and generates a first output if the test pixel characteristic is equal to the first adjacent pixel characteristic. The first output can then be used to terminate the noise filter process for the current test pixel and to select the next test pixel. If the characteristic of the test pixel is not equal to the first adjacent pixel, a first flag is generated that indicates whether the first adjacent pixel was greater than or lesser than the test pixel. In one exemplary embodiment, a bubble sorting mechanism can be used to implement system , where the values of the test pixel and the adjacent pixels are swapped in a data buffer, or other suitable processes can be used.","Second test pixel compare system  receives the first flag and performs a comparison with the second adjacent pixel if the first flag is received. In this exemplary embodiment, if the first flag is not received, then processing by second test pixel compare system  is not performed. Second test pixel compare system  compares the test pixel characteristic with the characteristic of the second adjacent pixel, and generates a second output if the characteristic is equal. Otherwise, a second flag is generated that indicates whether the characteristic of the second adjacent pixel is greater than or lesser than the characteristic of the test pixel.","Adjacent compare system  receives the first and second flags and determines whether they are equal. In one exemplary embodiment, a \u201c0\u201d can be generated as a flag when the adjacent pixel characteristic is less than the test pixel characteristic, and a \u201c1\u201d can be generated as a flag when the adjacent pixel characteristic is greater than the test pixel characteristic. In this manner, if the first flag and the second flag are equal, then it can be determined that the characteristic of both adjacent pixels were either greater or lesser than the characteristic of the test pixel. Adjacent compare system  can then set the third output to equal the value of the two flags, the lesser or greater characteristic value of the two adjacent pixels, or other suitable data. If the flag values are not equal, this indicates that the test pixel characteristic value was between the characteristic value of the first and set adjacent pixel, in which the third output can be used to indicate that noise reduction filtering can be stopped. Adjacent compare system  can also be used in a stand-alone mode to perform the functions of horizontal\/vertical filter , first\/second diagonal filter , and all adjacent filter , such as where the inputs to those filters are flags indicating whether the test pixel characteristic at an earlier stage was greater than or lesser than the adjacent pixels.","In operation, system  is used to generate a filter stage output, such as for horizontal filter , vertical filter , first diagonal filter , second diagonal filter , horizontal\/vertical filter , first\/second diagonal filter , all adjacent filter , or other suitable filters. The output of system  can either be an indicator that noise removal filtering should be terminated, or a value for subsequent filtering.",{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 3","b":["300","300","302","304"]},"At , it is determined whether the test pixel characteristic is bounded by or equal to the characteristics of the adjacent pixels. If the characteristic of the test pixel is bounded or equal, then the method proceeds to  and the noise reduction filtering process is terminated for that pixel. Likewise, if the comparison performed at  was in series, the method can return to  for a second comparison. Otherwise, the method proceeds to  where one of the two adjacent pixel characteristics are selected for a second determination of whether the test pixel is bounded by the adjacent pixels. In one exemplary embodiment, a flag can be generated that indicates whether the adjacent pixel characteristics are both greater than or lesser than the test pixel characteristic, the lesser or greater of the two adjacent pixel characteristics can be used, or other suitable data can be used. The method then proceeds to .","At , it is determined whether the test pixel characteristic is bounded by the characteristics of the adjacent pixels. In one exemplary embodiment, a flag can be received for two sets of adjacent pixels that indicates whether both of the pixels in either set were greater than or lesser than the test pixel. In this manner, it can be determined that the test pixel was bounded if the value of the flags is different, such as where the characteristics of both of one set of adjacent pixels were greater than the test pixel, and where the characteristics of both of the other set were less than the test pixel. Likewise, one of the two characteristic values from each set of adjacent pixels can be used, such as the pixel having the greatest characteristic value from each set, the pixel having the least characteristic value from each set, the pixel having the greatest characteristic value from one set and the least characteristic value from the second set, or other suitable data. If it is determined at  that the test pixel is bounded, then the method proceeds to  and the noise removal process for the pixel is terminated. Otherwise, the method proceeds to .","At , one of the four adjacent pixel characteristics is selected for a second determination of whether the test pixel is bounded by the adjacent pixels. In one exemplary embodiment, a flag can be generated that indicates whether the adjacent pixel characteristics are all greater than or lesser than the test pixel characteristic, the lesser or greater of the four adjacent pixel characteristics can be used, or other suitable data can be used. The method then proceeds to .","At , it is determined whether the test pixel characteristic is bounded by the characteristics of the adjacent pixels. In one exemplary embodiment, a flag can be received for two sets of adjacent pixels that indicates whether all four of the pixels in either set were greater than or lesser than the test pixel. In this manner, it can be determined that the test pixel was bounded if the value of the flags is different, such as where the characteristics of all four of one set of adjacent pixels were greater than the test pixel, and where the characteristics of all four of the other set were less than the test pixel. Likewise, one of the four characteristic values from each set of adjacent pixels can be used, such as the pixel having the greatest characteristic value from each set, the pixel having the least characteristic value from each set, the pixel having the greatest characteristic value from one set and the least characteristic value from the second set, or other suitable data. If it is determined at  that the test pixel is bounded, then the method proceeds to  and the noise removal process for the pixel is terminated. Otherwise, the method proceeds to  and noise removal filtering is performed.","In operation, method  allows noise removal filtering to be performed in a manner where the noise removal filtering is terminated as soon as it is determined that the test pixel has not been corrupted by noise. Method  compares the test pixel to sets of adjacent pixels, by first using sets of two adjacent pixels, and then by consolidating the sets into increasing numbers of pixels until all adjacent pixels can be compared to the test pixel. In this manner, testing for a test pixel that has not been corrupted by noise can be terminated prior to testing of each pixel in most cases.",{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 4","b":["400","400","402","404","406","408"]},"At , a flag is set indicating whether the first adjacent pixel characteristic is greater or lesser than the test pixel characteristic. In one exemplary embodiment, the flag can be \u201c0\u201d if the adjacent pixel characteristic is less than the test pixel characteristic, and \u201c1\u201d if the adjacent pixel characteristic is greater than the test pixel characteristic. Other suitable values can likewise be used. The method then proceeds to , where the test pixel characteristic is compared to a second adjacent pixel characteristic. The method then proceeds to , where it is determined whether the test pixel characteristic is equal to the second adjacent pixel characteristic. If the test pixel is equal, then the method proceeds to  and noise removal filtering for that pixel is terminated. Otherwise, the method proceeds to .","At , a flag is set indicating whether the second adjacent pixel characteristic is greater or lesser than the test pixel characteristic. In one exemplary embodiment, the flag can be \u201c0\u201d if the adjacent pixel characteristic is less than the test pixel characteristic, and \u201c1\u201d if the adjacent pixel characteristic is greater than the test pixel characteristic. Other suitable values can likewise be used. The method then proceeds to , where the first flag is compared to the second flag. The method then proceeds to  where it is determined whether the flags are equal. If the flags are not equal, this indicates that the test pixel characteristic was between the first adjacent pixel characteristic and the second adjacent pixel characteristic. The method then proceeds to  and the noise removal filtering processes terminates for the test pixel. Otherwise, an adjacent pixel indicator is selected, such as where additional sets of adjacent pixels will be analyzed to determine whether the test pixel should be filtered. These additional sets can be analyzed using a process similar to method , except that an additional comparison of flags or other process indicators is performed, such as that at  through , except that the output at  will be a pixel filter control if it is determined that the test pixel characteristic is greater than or lesser than the characteristic of all other adjacent pixels.","In operation, method  allows a test pixel to be compared to adjacent pixels to determine whether noise filtering should be performed on the pixel. Method  allows good pixels to be detected prior to comparison with all adjacent pixels, thus decreasing the amount of processing required for noise removal filtering of image data or other types of data that may be amenable to such filtering techniques.","While various embodiments of the invention have been described, it will be apparent to those of ordinary skill in the art that many more embodiments and implementations are possible that are within the scope of this invention."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The components in the figures are not necessarily to scale, emphasis instead being placed upon illustrating the principles of the invention. In the figures, like reference numerals designate corresponding parts throughout the different views, and wherein:",{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 4"}]},"DETDESC":[{},{}]}
