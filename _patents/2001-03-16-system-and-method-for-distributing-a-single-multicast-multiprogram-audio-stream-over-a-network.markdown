---
title: System and method for distributing a single multicast multi-program audio stream over a network
abstract: A system and method for distributing multi-program audio over a network includes the use of a Local Area Network, Wide Area Network, an Intranet and the Internet. The system includes a network audio source, a network distribution system and end devices. The method, for distributing multi-program audio over a network includes creating a network audio frame from a plurality of blocks of data from at least one audio program, placing each network audio frame within a transport structure for transport across the network and assigning an address to the transport structure prior to delivering the transport structure to a physical media.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06970940&OS=06970940&RS=06970940
owner: 3Com Corporation
number: 06970940
owner_city: Marlborough
owner_country: US
publication_date: 20010316
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF PREFERRED EMBODIMENTS"],"p":["This present invention relates to audio distribution systems. More specifically, it relates to a system and method for distributing multi-program audio over a network.","People are increasingly utilizing Local Area Networks (LANs) in their residences to connect devices residing in disparate rooms within their residences. In addition, companies are also looking at utilizing LANs within vehicles to enable passengers to access information or entertainment while in a vehicle. The presence of LANs in a residential arena provides the opportunity to utilize this distribution network for non-traditional LAN applications. One such application is LAN audio. With the widespread presence of digital audio material, for example Moving Pictures Experts Group Layer-3 (MP3), LANs become an excellent transport network for the distribution of audio material throughout the home.","Current residential audio distribution systems typically take one of two following forms, excluding placing standard audio wiring throughout the home. The first system uses wireless technology to provide a tetherless connection between an audio source and a headset, or a speaker system. This type of system does not support multiple simultaneous audio programs on the system, and is generally not designed as a network distribution system but instead is intended to eliminate the need for wires or wiring. In addition, the wireless interface is typically integrated with the end-user device. The second system uses the Transmission Control Protocol\/Internet Protocol (TCP\/IP) protocol suite to distribute audio over a LAN. This is typically implemented with an audio server as a source device, and a personal computer with an audio card as the end device. Internet Protocol (IP) multicast is used along with Realtime Transport Protocol (RTP) to enable end devices to join a multicast service. RTP is an Internet Engineering Task Fork (IETF) standard for streaming realtime multimedia over IP in packets. It supports transport of realtime data like interactive voice and video over packet switched networks. Within the RTP protocol, currently only a single audio program and audio encoding type is supported per multicast stream. Therefore to support multi-program audio, multiple multicast streams must be created with each stream supporting a separate audio program and potentially audio encoding type. The user would, at the end device, select the desired multicast stream from the group of multicast audio programs. This also means that the end device must learn or acquire the addresses of all of the multicast streams.","Therefore, it is desirable to provide a method and system which distributes multi-program audio over a network such as, for example, LAN within a single multicast stream, and which supports multiple audio encoding types.","The system and method of the present invention provides for the distribution of multi-program audio over a network. The network may include a Local Area Network (LAN), Wide Area Network, an Intranet and a public network such as the Internet.","In accordance with one aspect of the present invention, a system for distributing multi-program audio over a network includes a network audio source, a network distribution system, and at least one end device. In a particular embodiment, the network distribution system is a wired system such as, but not limited to, IEEE 802.3, IEEE 802.5, IEEE 1394, and Home Phone Network Alliance (HPNA). In another particular embodiment, the network distribution system includes, a wireless system and includes, but is not limited to, IEEE 802.11, Bluetooth, HomeRF and IrDA. The end device provides a standard interface to a sound-producing device such as speakers or headphones.","In accordance with another aspect of the present invention, a method for distributing multi-program audio over a network includes receiving audio data blocks, encapsulating the audio data blocks into frames, building a network model layer, such as an Open Systems Interconnection (OSI) model layer protocol packet and stack, building a network transport structure and header, assigning a multi-cast address and then delivering the packet to the physical media. In one particular embodiment of the method of the present invention, the network transport structure is placed within an OSI layer  frame such as a Medium Access Control frame. In another particular embodiment, an Internet Protocol\/User Datagram Protocol\/Realtime Transport Protocol of the OSI layers is used to transport the audio data across the network.","The present invention is directed to a system and method for distributing multi-program audio over a network. The network preferably is a Local Area Network (LAN) but may include, and is not limited to, a Wide Area Network (WAN) or an Intranet or the Internet.","In a preferred embodiment, the system of the present invention includes a software application or a device that packages the audio material and places it on the network. It additionally consists of a remote device which accesses the network, retrieves the specific audio program, and converts the audio material back to an analog format that can be used by standard audio devices such as headphones and speakers. The system in accordance with a preferred embodiment also provides the physical interface for these standard audio devices. With such a system a user can access audio from any location where the network is present, utilizing either a physical, or a wireless connection. In addition, a user can program a preferred selection for the material to be made available on the network, and can select which material is to be decoded at the receiving end device. Such a preferred embodiment of the system in accordance with the present invention can be used within a residence or a vehicle with the end device being transportable between the two. It may also be used in commercial applications where multi-program audio is utilized such as, for example, airplanes, and office complexes.","System Overview",{"@attributes":{"id":"p-0019","num":"0018"},"figref":["FIG. 1","FIG. 1"],"b":["10","14","10","12","16","20","12","12","14","12","14","18","22","10","16","20","16","20"]},"A preferred embodiment of the present invention uses the IEEE 802.11 high speed wireless protocol at the physical level. The IEEE 802.11 Wireless LAN specification was developed to provide wireless connectivity to automate machinery, equipment, or stations that require rapid deployment, or stations that require rapid deployment, which may be portable or handheld, or which may be moving within a local area. The 802.11 devices operate in the 2.4 GHz Industrial, Scientific, and Medical (ISM) band at rates of up to 2 Mbps and distances up to 100 meters. Both frequency-hopping and direct sequence spread spectrum are supported by the specification. Frequency-hopping spread spectrum is implemented using Gaussian Frequency Shift Keying (GFSK) with 1 or 2 bits per symbol, and 1 MHz channels. The hop size is 6 MHz, and in the United States up to 79 channels are available in the ISM band. Direct sequence spread spectrum is implemented using Differential Binary Phase Shift Keying (DBPSK) with 1 or 2 bits per symbol and 25 MHz channels. Further, three to six direct sequence channels are available in the ISM band depending on whether there is channel overlap.","The 802.11 system provides a point-to-point connection (two stations communicating directly), or a point-to-multipoint connection. In such a multipoint arrangement, a channel is shared among multiple 802.11 devices. With a station in each system acting as an access point, multiple systems may be connected to form a distribution system. If a device in a system acts as a portal, a system and\/or a distribution system may be connected to a non-802.11 system such as an 802.3 wire line Ethernet LAN via the portal device. For more information on the IEEE 802.11 Wireless LAN specification see the Institute of Electrical and Electronic Engineers (IEEE) standard for Wireless LANs incorporated herein by reference. IEEE standards can be found on the World Wide Web at the Universal Resource Locator (URL) www.iee.org.","Another preferred embodiment of the system to distribute multi-program audio over a network uses Bluetooth technology. Bluetooth is a short-range radio link intended to replace the cable(s) connecting portable and\/or fixed electronic devices. Bluetooth technology features low power, robustness, low complexity and low cost. It operates in the 2.4 GHz Industrial, Scientific and Medical (ISM) band. Devices equipped with Bluetooth are capable of exchanging data at speeds up to 720 kbps at ranges up to 10 meters. It should be noted that higher power devices than typical Bluetooth enabled devices, such as, for example, a Network Access Point, may communicate via Bluetooth with an RF enabled device over a greater range, such as, for example, approximately 100 meters.","A frequency hop transceiver is used to combat interference and fading. A shaped, binary FM modulation is applied to minimize transceiver complexity. A slotted channel is applied with a nominal slot length of 625 \u03bcs. For full duplex transmission, a Time-Division Duplex (TDD) scheme is used. On the channel, information is exchanged through packets. Each packet is transmitted on a different hop frequency. A packet nominally covers a single slot, but can be extended to cover up to five slots.","The Bluetooth protocol uses a combination of circuit and packet switching. Slots can be reserved for synchronous packets. Bluetooth can support an asynchronous data channel, up to three simultaneous synchronous (voice) channels, or a channel which simultaneously supports asynchronous data and synchronous voice. Each voice channel supports a 64 kb\/s synchronous (voice) channel in each direction. The asynchronous channel can support maximal 723.2 kb\/s asymmetric, or 433.9 kb\/s symmetric.","The Bluetooth system consists of a radio unit, a link control unit, and a support unit for link management and host terminal interface functions. The link controller carries out the baseband protocols and other low-level link routines.","The Bluetooth system provides a point-to-point connection (only two Bluetooth units involved), or a point-to-multipoint connection. In the point-to-multipoint connection, the channel is shared among several Bluetooth units. Two or more units sharing the same channel form a piconet. One Bluetooth unit acts as the master of the piconet, whereas the other units act as slaves. Up to seven slaves can be active in a piconet.","System Operation","As is known in the art, networks have their own hardware and software to interface with the physical media that carry the signals, and the network software must interface with the operating system software. The processing units communicate with each other using a set of rules called a protocol. A group of protocols, all related to the same model are called a protocol suite. To encourage open systems, a common model called Open Systems Interconnection (OSI) was developed by the International Standards Organization. OSI engendered a protocol suite which allows computers of all sizes and capabilities the world over to communicate using a common set of rules.","The OSI model consists of seven layers of software including from lowest to highest, a physical, data-link, network, transport, session, presentation and application layer. Each of the layers makes different functionality available to computers communicating using this model. Each layer in the model deals with specific computer communication functions. A preferred embodiment of the system  of the present invention uses one or more layers of the protocol stack defined by the OSI model. The physical layer is the lowest layer and specifies the rules for transmission of signals across the physical media (i.e., the electrical, mechanical and functional control of data circuits). The physical media is analogous to interface ports. The physical layer transmits bits over a communication link.","The data link layer or media abstraction, deals with transmission of data between devices on the same network. In addition to describing how a device accesses the physical media, this layer also provides some measure of error detection and control. This layer is thus concerned with procedures and protocols for operating the communications lines. Local Area Network (LAN) technologies such as, Ethernet, Token Ring and Fiber Distributed Data Interface (FDDI) operate at this layer. Data link addresses are implemented at this layer, and provide each device connected to the network a unique identifier by which packets may be sent to it. The data link layer includes the Medium Access Control (MAC) layer. As is known in the art, the MAC layer controls access to a transmission medium via the physical layer.","The network layer deals with transfer of data between devices on different networks. The network layer adds the notion of network addresses which are specific identifiers for each intermediate network between a data source and a destination. For example, in the network layer there is an Internet Protocol (IP) layer. This IP layer roughly corresponds to the OSI layer , the network layer, but is typically not defined as part of the OSI model. As is known in the art, the IP layer is a routing protocol designed to route traffic within a network or between networks. More information on IP may be obtained from the Internet Engineering Task Force (IETF) Request for Comments (RFC), RFC-791 incorporated herein by reference.","The remaining layers, the transport layer, the session layer , the presentation layer and application layer are called the higher layers. These layers deal with communication between message source and message destination. The transport layer defines the rules for information exchange and manages end-to-end delivery of information within and between networks, including error recovery and flow control. For example, a User Datagram Protocol layer (UDP) may be present in the transport layer. The UDP layer roughly corresponds to OSI layer , the transport layers, but is typically not defined as part of the OSI model. As is known in the art, UDP provides a connectionless mode of communications with datagrams. More information on UDP may be obtained from RFC-768 incorporated herein by reference.","The session layer is concerned with dialog management. The presentation layer provides transparent communications services by masking the difference of varying data formats between dissimilar systems. The application layer contains functions for particular applications services, such as, file transfer, remote file access and virtual terminals.","Within the OSI model, the user presents data through application programs, such as, the User Interface Application Programming Interface, to the highest layer the application layer. This data is then passed downward through the hierarchy of layers with each layer adding addressing and\/or control information. The OSI layer Application Programming Interfaces (APIs) pass data between the OSI model layers. When the data reaches the physical layer, and to the physical interfaces, it is sent to a device or network system. Conversely, received data at the physical interfaces is passed up through the layers with each layer stripping address or control information.","The system and method for distributing multi-program audio over a network may use other communication protocols beside the OSI model. These include, but are not limited to, Transmission Control Protocol\/Internet Protocol (TCP\/IP), User Datagram Protocol\/Internet Protocol (UDP\/IP), Hyper Text Transfer Protocol (HTTP), Trivial File Transfer Protocol (TFTP), File Transfer Protocol (FTP), and the Bootstrap Protocol (BootP). The TCP\/IP protocol is a networking protocol that provides communications across interconnected networks, between computers with diverse hardware architectures and various operating systems. The UDP\/IP is part of the TCP\/IP protocol suite. UDP\/IP provides for exchange of datagrams without acknowledgements or guaranteed delivery. HTTP is the actual protocol used by the Web server and the Client browser, for moving documents around the Internet. The TFTP is a simplified version of the File Transfer Protocol (FTP) that transfers files but does not provide password protection or user-directory capability. TFTP is associated with the TCP\/IP family of protocols and depends on the connectionless datagram delivery service, UDP. More information on TFTP is available from RFC-1350 incorporated herein by reference. FTP lets users quickly transfer text and binary files to and from a distant or local personal computer, list directories, delete and rename files on the foreign host and perform wildcard transfers between hosts. The distant or local personal computer may be a local area network or a phone line across the world or connected to the Internet. The BootP is a TCP\/IP protocol which allows an Internet node to discover certain startup information such as, its IP address.","Another suitable protocol that may be used to transport the audio data is the Realtime Transport Protocol (RTP), which itself is carried inside of UDP (User Datagram Protocol). RTP is described in H. Schulzrinne et al., \u201cRTP: A Transport Protocol for Real-Time Applications,\u201d IETF RFC 1889, January 1996, which is incorporated herein by reference.","The operating environment for the system  of the present invention includes a processing system with at least one Processing Unit such as a Central Processing Unit (CPU) and a memory system. In accordance with the practices of persons skilled in the art of computer programming, the present invention is described below with reference to acts and symbolic representations of operations that are performed by the processing system, unless indicated otherwise. Such acts and operations are sometimes referred to as being \u201ccomputer-executed\u201d, or \u201cCPU executed.\u201d","It will be appreciated that the acts and symbolically represented operations include the manipulation of electrical signals by the CPU. An electrical system with data bits causes a resulting transformation or reduction of the electrical signal representation, and the maintenance of data bits at memory locations in the memory system to thereby reconfigure or otherwise after the CPU's operation, as well as other processing of signals. The memory locations where data bits are maintained are physical locations that have particular electrical, magnetic, optical, or organic properties corresponding to the data bits.","The data bits may also be maintained on a computer readable medium including magnetic disks, optical disks, organic disks, and any other volatile or non-volatile mass storage system readable by the CPU. The computer readable medium includes cooperating or interconnected computer readable media, which exist exclusively on the processing system or is distributed among multiple interconnected processing systems that may be local or remote to the processing system.","There are at least two preferred embodiments for the network audio protocol. A first preferred embodiment is based on a MAC layer implementation that eliminates the need for the higher layer IP\/UDP\/RTP protocols. This preferred embodiment reduces the overhead of each audio packet and enables a lower cost end device since processing and memory requirements of a MAC layer implementation are much lower than higher layer implementations.","The second preferred embodiment is based on an IP\/UDP\/RTP implementation with a modification to RTP to enable multi-program audio and multiple encoding types within a single multicast stream. This increases the complexity of the end device but enables the introduction of additional IP based capabilities such as a Real Time Control Protocol (RTCP) which is a part of RTP, eXtensible Markup Language (XML), HyperText Markup Language (HTML), and Service Location Protocol (SLP). In general, the capabilities of the two preferred embodiments rely on the introduction of a LAN audio frame which enables the multi-program audio and multiple encoding type capabilities within a single multicast stream.","The network, and in a preferred embodiment, the LAN audio source sequentially takes a block of data from a user defined number of audio programs, and encapsulates each block of audio data in a network, or in one embodiment, in a LAN audio frame. A preferred method of the present invention includes the source device then placing each LAN audio frame in a separate transport structure, assigning a common multicast address, and then streaming the data onto the network or preferably the LAN. Each transport structure frame contains audio information from a single program, each of which could be of a different audio encoding type, such as, for example, but not limited to, Moving Pictures Experts Group Layer-3 (MP3) and Wave File (WAV) which is a Microsoft Windows proprietary format for encoding sound. Consecutive transport frames may contain audio data from different programs, however, all frames are addressed by a single multicast address as described herein below. To enable this flexibility, each LAN audio frame includes a LAN audio header that is pre-pended to the audio data contained within the LAN audio frame. For one of the preferred embodiment which uses RTP, this is considered an extension to the RTP protocol. The LAN audio header provides the end devices with the information they need to extract a specific program from the single multicast stream. The header includes some combination of the following items, which are dependent on the preferred embodiments: version number of the network, or more particularly, in one embodiment, the LAN audio protocol, size of the payload, number of programs in the multicast stream, program number, encoding type (MP3, WAV, etc.) within the payload, packet sequence (per program), fragmentation (standard or proprietary), and program descriptor.","To enable multi-program audio within a single multicast stream, addressing of the network audio data is based on a single specific multicast address that conforms to the particular network or preferably, but not limited to, LAN implementation. For example, with an Institute of Electrical and Electronics Engineers (IEEE) LAN, such as IEEE 802.3, or IEEE 802.11, the address originates from the locally administered multicast pool as defined by the IEEE. Other LAN implementations, such as Home Phone Network Alliance (HPNA), and Bluetooth may utilize a specific address fitting within their particular addressing scheme. End devices specifically look for this address and ignore all other data without this address. By using a single, and locally known and administered multicast address for all LAN audio frames, the end device does not need to learn and store multiple addresses as is required with the current RTP specification. In addition, by using a single locally administered address, there is no conflict with other global multicast services.","The final format of a LAN audio frame for two preferred embodiments, based on an Ethernet implementation, are shown in .  is a diagram illustrating a LAN audio frame  using a MAC layer in accordance with a preferred embodiment of the present invention while  is a diagram illustrating a LAN audio frame  using an IP\/UDP\/RTP protocol in accordance with another preferred embodiment of the present invention.","In  the ethernet frames ,  of audio data are reformatted to a network audio frame such as the LAN audio frame , . The ethernet audio frame ,  includes the following fields: a preamble , ; Start of Frame Delimiter (SFD) , ; MAC Destination Address (DA) , ; MAC Source Address (SA) , ; Type\/length field , ; Data Unit ,  and Frame Check Sequence (FCS) , . In , the LAN audio header  follows the Type\/Length field  while in  with the RTP implementation, it follows the RTP header .","The LAN audio frame  resulting from the preferred MAC layer embodiment includes the following fields: LAN audio version , program number, count, and\/or descriptor , encoding type , payload size , packet number , fragmentation enabled or disabled , and audio data . Since the IP\/UDP\/RTP headers  already have provisions for payload size, fragmentation, and packet sequence, and since IP enables the use of other higher layer protocols to provide program mapping and descriptions, these items are not needed in the LAN audio header  for the embodiment illustrated in . The LAN audio frame  resulting from the preferred embodiment using the higher network layer protocols includes the following fields: LAN audio version , program number , encoding type  and audio data .","When the end device receives a LAN audio frame, it processes the LAN audio header ,  to determine the program number , . If it matches the program number as set by the user, it then passes the data on to be processed, such as, for example, but not limited to, decoding, and digital to analog conversion. If the program number does not match, then the data is discarded. The end device can also use the program count to limit the channel selection available to the user to the value of the program count. If the end device has display capabilities, it can also process the program descriptor field and display the information associated with the program. Since the RTP embodiment illustrated in  may have both greater processing and display capabilities, this information may be obtained by alternate means such as RTCP and\/or SLP.",{"@attributes":{"id":"p-0048","num":"0047"},"figref":"FIG. 4","b":["140","140","152","142","154","144","154","146","148","162","150","162","156"]},{"@attributes":{"id":"p-0049","num":"0048"},"figref":"FIG. 5","b":["180","180","182","200","184","184","200","186","206","188","208","190","210","192","212","194","214","214","196","214","202"]},"It should be understood that the programs, processes, methods and systems described herein are not related or limited to any particular type of computer or network system (hardware or software), unless indicated otherwise. Various types of general purpose or specialized computer systems may be used with or perform operations in accordance with the teachings described herein.","In view of the wide variety of embodiments to which the principles of the present invention can be applied, it should be understood that the illustrated embodiments are exemplary only, and should not be taken as limiting the scope of the present invention. For example, the steps of the flow diagrams may be taken in sequences other than those described, and more or fewer elements may be used in the block diagrams. While various elements of the preferred embodiments have been described as being implemented in software, in other embodiments hardware or firmware implementations may alternatively be used, and vice-versa.","It will be apparent to those of ordinary skill in the art that methods involved in the system and method for distributing multi-program audio over a network may be embodied in a computer program product that includes a computer usable medium. For example, such a computer usable medium can include a readable memory device, such as, a hard drive device, a CD-ROM, a DVD-ROM, or a computer diskette, having computer readable program code segments stored thereon. The computer readable medium can also include a communications or transmission medium, such as, a bus or a communications link, either optical, wired, or wireless having program code segments carried thereon as digital or analog data signals.","The claims should not be read as limited to the described order or elements unless stated to that effect. Therefore, all embodiments that come within the scope and spirit of the following claims and equivalents thereto are claimed as the invention."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"p":["The foregoing and other features and advantages of the system and method for distributing multi-program audio over a network will be apparent from the following more particular description of preferred embodiments of the system and method as illustrated in the accompanying drawings in which like reference characters refer to the same parts throughout the different views.","Preferred embodiments of the present invention are described with reference to the following drawings, wherein:",{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 5"}],"heading":"BRIEF DESCRIPTION OF THE DRAWINGS"},"DETDESC":[{},{}]}
