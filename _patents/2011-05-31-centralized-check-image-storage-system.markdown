---
title: Centralized check image storage system
abstract: Centralized check image storage system. The present invention provides for sharing check images stored in a substantially centralized storage system between and/or among banks in support of the check collection process. In some embodiments, check images are received from the capture bank via a landing zone at the centralized storage facility. These images and information supporting the check collection process can be in the form of load file. A cross-reference file including information supporting the check clearing process such as unique handles identifying the check images is received from a paying bank, possibly also via a landing zone. Check images can be identified based on these unique handles, so that the check images can be made accessible to both the capture bank and the paying bank from the substantially centralized storage system.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08296236&OS=08296236&RS=08296236
owner: Viewpointe Archive Services, LLC
number: 08296236
owner_city: Charlotte
owner_country: US
publication_date: 20110531
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATION","BACKGROUND","SUMMARY OF INVENTION","DETAILED DESCRIPTION"],"p":["This application is a continuation of and claims priority from commonly owned, copending application Ser. No. 10\/711,550, filed Sep. 24, 2004, entitled, \u201cCentralized Check Image Storage System,\u201d which in turn claims priority from co-pending provisional patent application Ser. No. 60\/481,419, filed Sep. 25, 2003, and the entire disclosures of both of these prior applications are incorporated herein by reference.","Financial institutions have established various associations and processing relationships under a set of mutually agreed to methods, processes and time limitations that are directly related to the exchange of documents evidencing monetary transactions. These transactions are generally referred to as magnetic ink character recognition (MICR) debits and credits. These documents are in the form of checks, deposits, drafts, and adjustments and are theoretically presented by delivery of a physical document. For purposes of discussion herein, any such documents may be referred to as \u201cchecks.\u201d This practice has been in effect for many years. There is a well-defined and well-known process within the banking system of the United States and within the systems of other countries that supports the exchange of these items. This process is known as the check clearing process or check clearing system. This process begins with the presentation of a MICR document to a financial institution. Financial institutions must present millions of these items each day within their own franchise as well as to other financial institutions. Presentment can be accomplished through clearing house arrangements.","As consumer demand for expedited funds availability and faster settlement of accounts has grown, and legislation has been passed to accommodate this consumer demand, methods have been created to allow earlier posting of checks to drawer accounts at a paying bank. These methods most typically involve the advance presentment of a \u201ccash letter\u201d from a depositary bank to a paying bank, the cash letter containing MICR data read from checks. Settlement occurs based on the cash letter, but reconciliation with paper checks is still required once the paper checks have been presented. Additionally, both banks typically keep either physical or electronic copies of checks for archival purposes.","The shipment of cash letters must meet rigid time schedules that can be impacted by bad weather, traffic problems or emergency situations. As a result, the requirement that the cash letter be a physical document has, at least between some banks, been eliminated and an electronic cash presentment (ECP) file is used. ECP files are formatted according to accepted industry standards. Either paper cash letters or electronic cash presentment files can be sent directly between financial institutions, but more often, they are sent through clearing agents.","Reconciliation processes based on the paper checks are subject to numerous exceptions as a result of paper handling and due to late delivery of work and work not being received. Additionally, each bank maintains its own redundant copies of checks for archival purposes. Some banks maintain these copies only in physical (paper or microfiche) form, others maintain them in electronic image form, and others maintain both. Additionally, some banks contract out their check archiving to a archiving services vendor, but each bank still maintains an independent archive.","The present invention, in example embodiments, provides for sharing check images stored in a substantially centralized storage system between and\/or among banks involved in the transactions to which the checks are related. The invention can be used to eliminate the physical shipment of checks between depositary and paying banks, to speed reconciliation, and to reduce on-site image archive storage needs of banks.","In some embodiments, a method of centralizing check images for access by both a capture bank and a paying bank includes receiving check images and index information from the capture bank. The capture bank is typically a depositary bank. These images and information can be in the form of a load file, for example, a common import format file (CIFF) or an indexing reference file. The index information includes unique handles identifying the check images, and can include additional information supporting check collection and the check clearing process. The check images can be stored in the centralized storage system. A cross-reference file comprising information to support and\/or enable check collection as part of a check clearing process, including the unique handles identifying the check images, is received from the paying bank. Check images can be identified through use of the cross-reference file based at least in part on these unique handles, so that the check images can be rendered to the paying bank. Thus, the check images are accessible by at least two banks, typically, the capture bank and the paying bank, from a substantially centralized storage system based on, or using information supporting check collection which has been acquired from one of or both of the banks. In some example embodiments, electronic cash presentment files can also be received from the capture bank and centrally stored so that the paying bank can access an electronic cash presentment information. The electronic cash presentment file can also be used to create a permissions database for verifying the accessibility of the images by the paying bank based on the cross-reference file.","In some embodiments, a first storage area in the centralized system is used by the capture bank, and a second storage area is used by the paying bank. In some embodiments, the images are stored in different formats in the two storage areas. However, in some embodiments a centralized storage system can store one copy of an image for use by two or more banks. The unique handles, in some embodiments, can be check image management system (CIMS) keys.","In example embodiments, a computer program product that includes computer program instructions or computer program code can implement at least portions of the invention. These computer program code instructions can be embodied in computer usable media or transferred over a network, and control the operation of various servers, routers, network connections, and data stores and associated storage hardware to provide the means to carry out the invention. In example embodiments, the computer program instructions control the operation of a system that can include a landing zone operable to receive the check images and index information. A storage layer is present in some embodiments and is operable to store at least the check images and the unique handles and to manage any required databases. These databases can include an image interchange database, a profiling database, and a permissions database. A daemon process can be operatively connected to the landing zone, and can identify files in the landing zone and instantiate parsing processes. In some embodiments, a matching component identifies and merges the check images based on the unique handles and possibly also on other information related to the check collection and clearing process. A loading process can load the check images into the storage layer. In example embodiments, a cross-reference file is used to identify images to be shared between the banks. The cross-reference file includes at least one index detail record, which can further include a cross-reference return code and a unique handle for an image. The cross-reference file can also include header and trailer records, and an index definition record.","The present invention will now be described in terms of specific, example embodiments. It is to be understood that the invention is not limited to the example embodiments disclosed. It should also be understood that not every feature of the methods and systems described is necessary to implement the invention as claimed in any particular one of the appended claims. Various elements and features of various embodiments are described to fully enable the invention. It should also be understood that throughout this disclosure, where a process or method is shown or described, the steps of the method may be performed in any order or simultaneously, unless it is clear from the context that one step depends on another being performed first.","At least some of the drawings, which are used to illustrate the inventive concepts, are not mutually exclusive. Rather, each one has been tailored to illustrate a specific concept or concepts being discussed. In at least some cases, the elements or steps shown in a particular drawing can co-exist with others shown in a different drawing, but only certain elements or steps are shown in each drawing for clarity. In some cases, additional elements or steps are discussed in detail in the text to more fully describe embodiments of the invention. It should also be understood that with respect to flowcharts, block diagrams, and data structures, not every possible signal flow, data path, or index element is shown. Rather, for clarity, only those important to the inventive concepts being discussed may be illustrated, although others may be discussed in this description.","The meaning of certain terms as used generally in the context of this disclosure should be understood as follows. The term \u201ccheck\u201d can refer to any document evidencing a financial transaction. In this context, a \u201ccheck\u201d includes the typical draft, which orders a bank to pay a certain sum to the order of another individual or entity. Indeed, this is what is commonly thought of as a \u201ccheck\u201d by consumers and business persons alike. However, the term \u201ccheck\u201d can also include other documents evidencing financial transactions related to banking. For example, in the context of this disclosure, a deposit, adjustment, or similar document that evidences change to an account can also be thought of and referred to as a \u201ccheck.\u201d","The terms \u201ccapture bank\u201d and \u201cpaying bank\u201d as used herein refer to the two banks that are typically involved in financial transactions, for example, the processing of checks. The \u201ccapture bank\u201d is typically the bank that first captures an image of a completed check. In most cases, this is the bank where a check is deposited for payment, and might also be referred to in traditional commercial paper parlance as the \u201cdepositary bank.\u201d The \u201cpaying bank\u201d is the bank that owns the account to which the check pertains, in the case of a draft, typically, the bank in which the funds to pay the draft reside. This is typically the bank where a check writer has an account. However, the invention can be applied between any financial institutions that desire to share images captured by one of the institutions. Information is exchanged that supports the check clearing process, so that the institutions can, if they so desire, implement an electronic check collection or clearing process and truncate paper checks, although check truncation is not required to implement the invention. Thus, the terms \u201ccapture bank\u201d and \u201cpaying bank\u201d are used herein only in the context of example embodiments. Note that even the term \u201cbank\u201d is used herein in its broadest sense. Financial institutions that process transactions of the type discussed can include stock brokerages and other types of institutions that are not strictly \u201cbanks\u201d in the historical sense. The use of the term \u201cbank\u201d herein is meant to encompass such possibilities.","In traditional banking, a draft type of check is presented to the paying bank for payment. It should be noted that in some circumstances, the capture bank and the paying bank might be the same bank. For example, the check process might be carried out between different branches, divisions, facilities, etc., of the same financial institution. The terms paying bank and capture bank are intended to encompass this possibility.","At various places throughout this disclosure, reference is made to the term \u201cunique handle\u201d in discussing index records and various types of files. The term \u201cunique handle\u201d is meant to refer to a value stored in an index record which uniquely identifies an electronic image of a check. Thus, the term \u201cunique\u201d is not meant to imply that the value is unique throughout the world, or even in a given system, but merely that the value is unique enough to specifically identify an electronic image from among the images stored in the same file, data store, or whatever environment it is necessary to be able to determine which image is which. The term \u201chandle\u201d is simply meant to refer to a value which allows a computing system to specifically identify and retrieve an image from an electronic file.","The term \u201crender\u201d and its variants such as \u201crendering\u201d are intended to encompass various accepted definitions of the term, both within and outside the imaging art. The term encompasses the meaning \u201cto make available to\u201d or \u201cto provide\u201d and thus, is meant to refer to making a file or images available to a party such as one of the banks. However, the term may also encompass the imaging meaning as in to produce or \u201crender\u201d an image. In some embodiments of the invention, images are made available to different banks by creating a copy of the image in storage for each bank. However, in other embodiments, a single image can be used by multiple banks. Thus, in this later case, the term \u201crender\u201d simply refers to the act of making an image available through computerized means. The term \u201crender\u201d can also mean to \u201cpresent\u201d as in to present items for collection to a bank, since if the invention is used to enable check truncation, presentment takes place by way of rendering a check image to a paying bank. The term \u201csubstantially centralized\u201d refers to a storage system or archive from which images are rendered or made available to banks as necessary. By use of the term \u201csubstantially\u201d the disclosure is meant to encompass the possibility that multiple physical locations may be used in conjunction to provide images to banks. Thus, the term \u201csubstantially centralized\u201d simply means that images are stored at a location or a plurality of related locations to be accessed by multiple banks.","There are several file formats and file formatting standards discussed throughout this disclosure. These file types, with the exception of the \u201ccross-reference file,\u201d are intended to refer to industry standards that are well known in the banking technology arts. Thus, detailed explanations are not required. The \u201cbinary large object\u201d (BLOB) format is a known format for storing large numbers of images together in a single file. The \u201cmixed object document content architecture\u201d (MOD:CA, or simply \u201cMODCA\u201d) is a standard file format which was originally developed by and used for data processing systems produced by the International Business Machines Corporation. This format has been used for years to provide data to large scale printers, and a publication describing the standard can be obtained from the IBM Corporation by ordering IBM Publication SC31-6802-05, April, 2001. With MODCA format, image information is stored in an \u201cout file\u201d and information to identify the imaging information is stored in an \u201cindex file\u201d. This format has been well known in the information technology industry and will not be discussed in a high level of detail.","Additional references herein are made to well known, financial industry technologies. \u201cCheck image export\u201d (CIE) refers to a system and file formats for imaging checks and tracking the images. With CIE, check images and index information referring to the check images can be stored in a single file, commonly referred to as a \u201ccommon import format file\u201d (CIFF) data set. CIE has been used for many years by many banks to archive check images for their own internal use. As previously mentioned, sometimes this archiving is provided by a contractor.","CIE data sets can be managed by a type of data processing system, which is well known, and is commonly referred to as a \u201ccheck image management system\u201d (CIMS). CIMS provides for the management of repositories for images within a bank. CIMS was created by the International Business Machines Corporation to manage and output CIE information and CIFF files. Images can be referred to in a CIMS system by a \u201cCIMS key\u201d which tags an image with the date on which the image was scanned and a sequence number assigned by the scanner. CIE and CIMS are designed to incorporate MICR data into index records for check images. Again, these systems have been used for many years by banks to archive checks for their own purposes, are well known, and thus will not be discussed in great detail.","References are also made herein to an \u201cindexing reference file.\u201d An indexing reference file is a file type specified by IBM for use in their OnDemand(product, which is discussed in greater detail at the end of the description of  of this disclosure. The indexing reference file format is well-known to those of skill in the banking information technology arts, but more information about it can be found in the IBM publication, , Version 7.1, IBM Publication Number SC27-0842-00, March 2001.","It should be understood that these file formats and image standards are disclosed by way of example embodiments of the invention. One of ordinary skill in the art could readily develop a system based on different standards and formats, but that would not depart from the spirit and scope of the claims appended to this disclosure.",{"@attributes":{"id":"p-0028","num":"0027"},"figref":["FIG. 1","FIG. 1","FIGS. 1A and 1B","FIG. 1"],"b":["100","102","104","106"]},"Block  represents a decision point where the type of processing that occurs depends on the type of file found. If the file found is an ECP file, it is used to create a permissions database at block . It may be then stored for reference at block . The ECP file may also be retrieved by the paying bank, so that the paying bank can ascertain handles and other information from the capture bank which will then be used to create a cross-reference file as discussed below. Optionally, a capture bank can forward an ECP file directly to the paying bank, or provide it through an agent or contractor. Thus, the storage of the ECP file for the paying bank in the system implementing the invention is not necessarily required.","As previously mentioned the ECP file provided by the capture bank can also be used to develop a permissions database at block . Upon receipt of the cross-reference file from the paying bank, each item referenced in the cross-reference should be found in the permissions database to be included in the items made accessible to the paying bank. Any exceptions can be reported to the paying bank as part of the error reporting process.","If the file is found to be a capture bank \u201cload file\u201d at decision block , it will normally contain images and information from a capture bank. The capture bank load file is parsed at block  to obtain the images and the information at least some of which can support the check collection\/clearing process. A determination is made at block  as to whether the file has errors. This determination involves verifying the index information with the images present. Images that are missing, corrupt, or misidentified, are repaired at exception process block . The exception process can involve communicating with the capture bank to correct the information in the capture bank load file. If necessary, the capture bank can correct the errors and regenerate the load file. Once a load file with no errors has been retrieved and parsed, index information, including unique handles identifying the images, and possibly other information supporting the check clearing process, is stored in a database layer at block . A load file can be any file that stores both images and information about the images. In one embodiment, a CIFF file as previously discussed can be used. In another embodiment, an indexing reference file can be used.","In the example embodiment of , the images can be merged into a single BLOB file or a number of BLOB files for storage in a storage layer in the substantially centralized storage system. The images are merged at block . In this embodiment, the index and other information can be stored in a database, which operates on conventional database principles. For purposes of this disclosure, this database is referred to as the \u201cimage interchange\u201d or II database. In the illustrated embodiments, the images are stored for the capture bank at block . In at least some embodiments, images can be stored in a BLOB format in a \u201ctransit folder\u201d which is assigned to the capture bank. In other embodiments, images can be stored in a exchange zone for some period of time.","Returning to decision point  in , a file retrieved from the landing zone may be a cross-reference (Xref) file, which is received from a paying bank. It should be noted that although the cross-reference file would typically be received after the load file is received from the capture bank, the cross-reference file can be received in advance of the capture bank load file, and stored until the capture bank load file is received. The cross-reference file includes information used to identify the specific images intended for the paying bank. It can also contain additional information supporting the check collection and clearing process, such as paying bank specific index data, which would typically also be included in the capture bank load file and\/or the ECP file by agreement between the banks. Thus, the centralized storage system acquires information used in the check collection or clearance process from at least one, but typically from both of the banks. The cross-reference file is parsed at block . Images are looked up in the database layer based on their unique handles at block . As part of this look-up process, information in the cross-reference file is checked by a matching process against information in the permissions database to verify the accessibility of the check images to the paying bank. This look-up also involves accessing index information in the II database. A determination is made at block  as to whether there is an image mismatch, permissions error, or other errors. If errors are found, an exception process is initiated at block . This exception process again may involve communication with the paying bank, to have the cross-reference file regenerated, or the cross-reference file can be corrected locally by reference to the load file, index information, or an ECP file.","With some embodiments, once a correct cross-reference file has been received, it is used to build a load file for the paying bank at block  of . A copy of the images specifically for the paying bank is then loaded into an \u201con us\u201d folder in the storage layer at block . Index information in the II database is updated at block . In this example embodiment, this update includes the writing of an Xref return code into a copy of the cross-reference file which is maintained in the II database. It should be noted that steps in processing a cross-reference file as illustrated in  are specific to certain embodiments of the invention. In other embodiments, separate images for the paying bank and the capture bank may not be maintained. Rather, index information can be organized such that the capture bank's images are loaded into a exchange zone, then into the on us folder so that eventually each bank can access the same images from the on us folder. In such a case, both banks access a single image of each item, but a separate index is maintained for each bank. Also in such a case, images are eventually deleted from the exchange zone at block . In any case, once the process is complete, images are rendered to the paying bank for reconciliation, and are kept in a centralized archive for access by both the paying bank and the capture bank. Thus, check images are accessible by both the capture bank and the paying bank from a substantially centralized storage system. As previously discussed, an electronic cash presentment file representing the transactions covered by the images can also be stored and made accessible to the banks.","As previously mentioned, in one example embodiment shown in the drawings, the capture bank's copy of the images is stored in a BLOB file, and the paying bank's copy of the images is stored in MODCA format. Each bank's images are stored in a bank's own storage area, thus there is a first storage area and a second storage area contained within the storage layer. As previously discussed, these specifics are not required to implement the invention, but are presented as details of example embodiments. As an alternative to MODCA, tagged image file format (TIFF) wrappers can also be used to load and store images.",{"@attributes":{"id":"p-0036","num":"0035"},"figref":["FIG. 2","FIG. 1","FIG. 2","FIGS. 2A and 2B"],"b":["200","200","202","204","204"]},"In the example of , business layer  performs various services involved with implementing core functionality of system . Daemon process  polls landing zone  for the various file types. Daemon process  invokes parsing processes , which are used to parse the various files. Parsing processes  can call merging component  to verify image details and direct loading process  to load images into a storage layer, . Business layer  also includes an exception process, , cross-referencing process , and an image retrieval process .","System  of  includes messaging layer . The messaging layer helps all of the other modules, processes, and objects in the system communicate with each other. Messaging layer  can also temporarily store event and status information. In some embodiments, every other module and process in a system can send notification messages through a messaging layer to other components within the system.","Storage layer  has been previously mentioned. In this embodiment, storage layer  includes database layer . Database layer  can include various databases. In this example, it includes the information interchange (II) database . This database contains index information for the images, and a copy of the cross-reference file, including unique handles  which are used to identify the images so that they can be used by both a capture bank and a paying bank. Database layer  can also include a profiling database, . Profiling database  defines specific operating parameters for a bank. These parameters can include the specific index data values provided by the paying bank, used to determine how to parse the cross-reference file and how to build a paying bank specific index for loading of the data. Other profiling data can also be contained in the profiling database to define how the archives, discussed below, operate when errors are detected, the location of landing zones and work areas, and the specifics for loading data into folders for the paying banks, as described below.","In this example, database layer  also includes a billing database, , and the permissions database, . Permissions database  has been previously discussed. In this example embodiment, the permissions database, , can be erased once the cross-reference file has been processed and the images are made available to the paying bank. The billing database, , is used to maintain information by which customer banks can be billed for image sharing services. In this example, database layer  can be implemented using \u201cDB2\u201d database technology, which is well known to those of ordinary skill in the data processing arts.","Storage layer , in the example of , includes an \u201cOnDemand\u201d archive, . \u201cOnDemand\u201d refers to a well-known archiving solution available from the IBM Corporation referred to as Content Management OnDemand(. The OnDemand archive, , can include a transit folder, , an \u201con us\u201d folder, , and a exchange zone, . In one embodiment, transit folder  is a first storage area which includes images for the capture bank in BLOB format, and on us folder  is a second storage area which includes images for the paying bank in MODCA format. In other embodiments, one copy of the images can be included in OnDemand archive  and accessed by both banks. In addition to MODCA and BLOB, other file formats can be used, for example, TIFF wrappers. In a particular embodiment illustrated in , discussed below, images in on us folder  are eventually used by both banks, with exchange zone  serving as temporary storage for the capture bank, and no transit folder is used. In still other embodiments, different file formats can be used. Note that in this example, loading process  loads the images into the OnDemand archive . Note also that in the illustrated embodiment, loading process  also loads images into express archive . In this example OnDemand archive  operates as both the short term and long term archive. The express archive, , is used to meet high-speed retrieval requirements. Express archive  is a redundant archive to the OnDemand archive. If the cross-reference file delivered by the paying bank contains an express archive indicator, following the loading of an image to on us folder  the same image is loaded to express archive . Express archive  is used for production of optical or other removable media and image statements.","Notwithstanding the fact that OnDemand is well-known in the art, it may be helpful for the reader to have some additional understanding of the way the term \u201cfolders\u201d is used in the context of this description. In OnDemand the concept of a folder is a logical representation of the data in the archive. The physical storage of the indexes and image data is controlled by an application group. For example, an application group defines the columns in the database index, the retention period on disk, and the retention period on long term (for example, tape) media. For every bank there will typically be at least one on us application group. In at least some embodiments, at least some banks will also have a transit application group. A bank can direct that its on us data be split into more than one application group to provide additional levels of service. For example, a bank may wish that images pertaining to private banking accounts be stored on disk for 365 days, and images pertaining to normal accounts be stored on disk for 60 days. The logical concept of a folder maps to one or more application groups. For example, the transit folder maps to the transit application group. The on us folder maps to one or more on us application groups. A folder for \u201call items\u201d can map to both the transit and on us application groups.","As previously mentioned, the Daemon process  of  polls for and locates files in landing zone . After a file is located, it is moved to a processing area and the Daemon process, , initiates an appropriate parser which runs as part of parsing processes . After parsing, necessary file details are inserted into II database  in database layer . An ECP file is parsed by an ECP parser. Such a file can be formatted according to an agreed standard, such as ANSI X9.37 2003, a well-known standard within the banking industry promulgated by the American National Standards Institute (ANSI). Such a format typically includes header records, detail records, and control records. CIFF files are parsed by a CIE archive (CIEA) parser. This parser can create an index file based on the information in the CIFF file. This index information can be included in a file detail table. In such a case, the file detail table containing the index details is stored in the II database, . In this case, II database  contains all the indexed field values for all of the index detail records separated by delimiters. The order of the records can be dictated by the capture bank. Similarly, an indexing reference file can be parsed by an indexing reference file parser.","Cross-reference files are parsed according to a cross-reference file format. Cross-reference files and some example formats for such files will be discussed in detail later in this disclosure. Daemon process  instantiates any necessary parsing process to parse the files. Matching component  uses unique handles from the files as arguments in order to check for the existence of image records and match the image records with the unique handles.","In the example of , retrieval process  retrieves images from the exchange zone, . A retrieval process could also retrieve images from elsewhere in the storage layer. These images are retrieved by the paying bank for reconciliation. The images may also be retrieved for future reference by the capture bank. Retrieval process  can use media manager application programming interfaces. Various mechanisms can be provided to render images to a bank for retrieval. In some embodiments, an adhoc layer based on extensible mark up language (XML) web server technology is created and a bank can access the images via a VPN connection using standard web type interfaces. Communication in such a case is directly from firewall  to the other layers of the system as shown by communication link . A batch mode can also be provided where items are placed in landing zone  for retrieval by a bank. It is also possible to set up a system that provides a choice of these two and possibly other retrieval methods to a customer bank on a case-by-case basis.","Loading process  creates generic index files for loading into the folders in OnDemand archive . As previously discussed, files can be stored in the archive in some embodiments, in a MODCA format. In MODCA, an \u201cout\u201d file contains the images, and an index file contains data for locating the images and matching them up to index information contained in II database . Thus, the standard MODCA format actually specifies two files. Also as previously mentioned, TIFF wrappers can be used.",{"@attributes":{"id":"p-0047","num":"0046"},"figref":["FIG. 3","FIG. 3A","FIG. 3B","FIG. 3"]},"In , capture bank (CB)  sends an ECP file to system  via a network. ECP information is copied to permissions database (perm.) . The paying bank (PB), , can retrieve the ECP file and queue it for its normal internal processing. At some point, capture bank  sends a load file containing the images referenced by the ECP file. The images are loaded into transit archive . Index information from the load file is used to create a capture bank index, , which is used to manage access to the transit archive. Copies of images are loaded into exchange zone . Exchange zone  serves as temporary storage until a cross-reference file is received from the paying bank, . Paying bank  then sends index information, in example embodiment in the form of the cross-reference file, after processing the ECP file against its account records. The index information in the cross-reference file is used to populate paying bank index . This information is then used to load the appropriate images from exchange zone  into the paying bank's on us archive, . Once the process is complete, the images can optionally be deleted from exchange zone . The capture bank index controls access to the capture bank's image copies in the transit archive, , and the paying bank index controls access to the paying bank's image copies in the on us archive, .","In , capture bank (CB)  sends an ECP file to system  via the network. ECP information is copied to permissions database (perm.) . The paying bank (PB), , will receive the ECP file and queue it for its normal internal processing. Arrangements can be made to have a copy of the ECP forwarded to the paying bank on the capture bank's behalf, or it can be sent directly from the capture bank to the paying bank via external means. At some point, capture bank  sends a load file containing the images referenced by the ECP file. Index information in the load file is used to create capture bank index . The images are stored in exchange zone  temporarily. Images can be retrieved from there for use by paying bank  if necessary. Paying bank  then sends index information, in example embodiments in the form of the cross-reference file, after processing the ECP file against its account records. Since images are to be shared in this case, the cross-reference file can also be referred to as a shared index file. The index information in this file is used to populate paying bank index . This information is then used to load the appropriate images from exchange zone  into the on us archive, . Once the process is complete, the images can optionally be deleted from exchange zone . The capture bank index controls the capture bank's access to the images, and the paying bank index controls the paying bank's access to the images in on us archive . However, there is only a single image of each item, which is shared by paying bank  and capture bank . Provisions can be made to verify the indexes against the permissions database, and to check the capture bank index against values provided in the paying bank index, or check both indexes against the shared index file. Reconciliation reports can be generated to enable any mismatches or similar problems to be corrected. Provisions can be made to delete the shared index file once the indexes and archive are established, or at the end of a specified retention period.",{"@attributes":{"id":"p-0050","num":"0049"},"figref":["FIG. 4","FIG. 4"],"b":["400","402","404","406","408","410","408","412","412","408","414","414","408"]},"Additional details on the structure of an example cross-reference file can be garnered by reference to the cross-reference index record definition tables, below.","Header Record ",{"@attributes":{"id":"p-0053","num":"0052"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"4","colwidth":"98pt","align":"left"}}],"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}},{"entry":[{},{},"Field",{}]},{"entry":["Field","Length","Type","Comments"]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Record type","1","Char","Value = \u201cH\u201d"]},{"entry":["Sending bank ID","3","Char","Bank identifier, also used for the"]},{"entry":[{},{},{},"image loading process"]},{"entry":["Paying bank ID","3","Char","Bank identifier, also used for the"]},{"entry":[{},{},{},"image loading process"]},{"entry":["Date","8","Char","Yyyymmdd"]},{"entry":["Cash Letter ID","6","Char","6 characters if present"]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]}}}}},"Index Definition Record ",{"@attributes":{"id":"p-0055","num":"0054"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"4","colwidth":"84pt","align":"left"}}],"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}},{"entry":[{},{},"Field",{}]},{"entry":["Field","Length","Type","Comments"]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Record type","1","Char","Value = \u201cI\u201d"]},{"entry":["Reserved","1","Char","Not Used - blank filled"]},{"entry":["Record","1","Char","Record Format Version,"]},{"entry":["version",{},{},"Value = 1"]},{"entry":["Reserved","1","Char","Not Used - blank filled"]},{"entry":["Reserved","4","Char","Not Used - blank filled"]},{"entry":["Reserved","23\u2002","Char","Not Used - blank filled"]},{"entry":["Length","5","Char","Length of the index"]},{"entry":[{},{},{},"records in bytes"]},{"entry":["Paying bank","Variable","Group","Format described in the"]},{"entry":["specific index",{},{},"following table."]},{"entry":"definition"},{"entry":"record data"},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]}}}}},"The name and format for each field in index definition record  in an example embodiment is as follows:","The following fields are repeated for each index field.",{"@attributes":{"id":"p-0058","num":"0057"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"105pt","align":"left"}}],"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}},{"entry":["FIELD","TYPE","LENGTH","DESCRIPTION"]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"35pt","align":"char","char":"."}},{"@attributes":{"colname":"4","colwidth":"105pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["CDFLDNAM","Char","11","Index field name"]},{"entry":["CDFLDTYP","Char","1","Index field data type (C, N, D)"]},{"entry":[{},{},{},"C = Character"]},{"entry":[{},{},{},"N = Numeric (0-9)"]},{"entry":[{},{},{},"D = Date (YYYYMMDD)"]},{"entry":["Reserved","Char","4","Not used - blank filled"]},{"entry":["CDFLDLEN","Char","4","Index field length in number of"]},{"entry":[{},{},{},"bytes"]},{"entry":["CDFLDDEC","Char","2","Field decimal count. The number"]},{"entry":[{},{},{},"of decimal positions to the"]},{"entry":[{},{},{},"right of the decimal point in"]},{"entry":[{},{},{},"the field."]},{"entry":["Reserved","Char","10","Not Used - blank filled"]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]}}]}}},"The following fields follow the index field definitions",{"@attributes":{"id":"p-0060","num":"0059"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"42pt","align":"char"}},{"@attributes":{"colname":"4","colwidth":"84pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"CDTERM","Char","1","Not used - blank filled"]},{"entry":[{},{},"Char","27","Not used - blank filled"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]}]}}}}},"Index Detail Record ",{"@attributes":{"id":"p-0062","num":"0061"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"4","colwidth":"105pt","align":"left"}}],"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}},{"entry":[{},{},"Field",{}]},{"entry":["Field","Length","Type","Comments"]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Record type","1","Char","Value = \u2018D\u2019"]},{"entry":["Reserved","1","Char","Not used - blank filled"]},{"entry":["Record","1","Char","Record format version, Value = 1"]},{"entry":"version"},{"entry":["Xref return","1","Char","This value inserted by the"]},{"entry":["code",{},{},"centralized storage system with"]},{"entry":[{},{},{},"the results of the cross-reference"]},{"entry":[{},{},{},"update. Possible example"]},{"entry":[{},{},{},"values:"]},{"entry":[{},{},{},"U = image available at paying"]},{"entry":[{},{},{},"bank"]},{"entry":[{},{},{},"V = image archive and microfilm"]},{"entry":[{},{},{},"available at paying bank"]},{"entry":[{},{},{},"S = indicates missing image,"]},{"entry":[{},{},{},"poor quality image or other"]},{"entry":[{},{},{},"problems with document."]},{"entry":[{},{},{},"T = image available only at"]},{"entry":[{},{},{},"centralized storage system"]},{"entry":["Reserved","4","Char","Not used - blank filled"]},{"entry":["Capture bank","20\u2002","Char","CIMS key in the format"]},{"entry":["CIMS key",{},{},"yyyymmddssnnnnnnnncc"]},{"entry":["Paying bank","20\u2002","Char","CIMS key in the format"]},{"entry":["CIMS key",{},{},"yyyymmddssnnnnnnnncc"]},{"entry":["Paying bank","Var",{},"Index Data (formatted as defined"]},{"entry":["specific",{},{},"in the Index Definition Record"]},{"entry":["index data",{},{},"above)"]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]}}}}},"Trailer Record ",{"@attributes":{"id":"p-0064","num":"0063"},"tables":{"@attributes":{"id":"TABLE-US-00006","num":"00006"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"4","colwidth":"98pt","align":"left"}}],"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}},{"entry":[{},{},"Field",{}]},{"entry":["Field","Length","Type","Comments"]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Record type","1","Char","Value = \u2018T\u2019"]},{"entry":["Index Record","6","Char","Total number of Index Detail"]},{"entry":["Count",{},{},"Records (Type \u2018D\u2019)"]},{"entry":[{},{},{},"contained in the file."]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]}}}}},"Referring to the above tables, most of the field information is self-explanatory. Note that CIFF files contain an index definition record and index detail record, although not necessarily of the same format as those illustrated above. CIFF files to not contain header and trailer records. Nevertheless, some of the fields are populated with information that is similar to that contained in CIFF and other banking files. Note in particular that as an arbitrary design choice, reserved fields of the same length as those in CIFF files are inserted.","The unique handle, , which in this example is the same as the capture bank CIMS key is part of index detail record  of the cross-reference file. The record types for the above shown records are \u201cH\u201d for a header record, \u201cI\u201d for an index definition record, \u201cD\u201d for an index detail record, and \u201cT\u201d for a trailer record. The record version field is in place to show what version of the format of the particular record of the cross-reference file is in use. What version numbering scheme to use is an arbitrary engineering decision. In this example, the version is simply given the number \u201c1\u201d and so that value has been inserted.","Those of skill in the art will recognize that the cross-reference file format illustrated above is based on the industry standard X9.37 file format for ECP files. Such files use EBCDIC character sets. The same information can also be conveyed in a cross-reference file using ASCII character sets by basing the cross-reference file format on the previously discussed indexing reference file format. Any type of file can be used as a cross-reference file, as long as it contains the fields, which enable an embodiment of the invention as discussed herein. The file can follow any format as long as the parties agree on the format.","As further illustration, if the cross-reference file is based on the indexing reference file format, a bank can supply a parameter file that contains one or more sets of instructions, each set identifying the On Us index values for the image to be loaded to the archive. All sets of instructions contained within the parameter file apply to a single application group and to a single collecting bank. Each set of instructions includes both the unique handles that identify the shared or exchanged image and the On Us index values to be associated with the image in the archive.","With the indexing reference based format, the unique handles that identify the shared\/exchanged image can consist of the sequence number and capture date of the item. These values were provided by the collecting bank, for example in the ECP file. The On Us index values are also specified in the parameter file. These values will be used to load the shared\/exchanged image into the archive.","As an example, update instructions can follow the following form. The UNIQUE_FIELD_NAME and UNIQUE_FIELD_VALUE below identify the unique handles for the images supplied by the collecting bank. The remainder of each set of instructions supplies the On Us index values for the image.","An more detailed example of how an indexing reference based cross-reference file can specify sequence numbers and dates is as follows, where CB is for \u201ccapture bank,\u201d acct_nbr specifies an account number and nines are used for example field values. Each parameter file may contain one of more sets of instructions for a single application group.","UNIQUE_FIELD_NAME: CB_sequence_number (1)","UNIQUE_FIELD_VALUE: 99999999","UNIQUE_FIELD_NAME: CB_capture_date (1)","UNIQUE_FIELD_VALUE: mm\/dd\/yyyy (2)","GROUP_FIELD_NAME: sequence_number","GROUP_FIELD_VALUE: 99999999","GROUP_FIELD_NAME: capture_date","GROUP_FIELD_VALUE: mm\/dd\/yyyy","GROUP_FIELD_NAME: acct_nbr","GROUP_FIELD_VALUE: 99999999","GROUP_FIELD_NAME: post_acct_nbr","GROUP_FIELD_VALUE: 99999999",{"@attributes":{"id":"p-0084","num":"0083"},"figref":["FIG. 5","FIG. 5","FIG. 5","FIG. 5"],"b":["502","504","506","502","504","508","510","512","514","516","518","1","2","516","518","502","504"]},"A centralized storage system according to some embodiments of the invention can include two or more physical storage locations, such as storage locations  and . Since in a typical environment, these locations will be serving many banks, faster optical carrier connections can be used to interface the locations to a network. In the example of , optical carrier 12 (OC12) connections are used. Any other type of high-volume, high speed connection can be used, for example, OC48 or OC192 connections. In any case, a centralized storage system according to embodiments of the invention will include all of the computer systems, local networking hardware, storage devices, etc. to form the means to carry out the processes involved in providing images to banks from a substantially centralized storage system.","As previously mentioned, computer program instructions may be used to implement all or parts of the present invention. In a typical arrangement, computer program instructions running on various computing or instruction execution platforms within locations  and  of  will carry out the various operations required to implement processes according to embodiments of the invention. These computer program instructions may be part of a computer program or multiple computer programs which are supplied as a computer program product. In such a case, the computer program product may take the form of computer readable media that allow computer program instructions to be loaded into various servers or other computing platforms to implement the invention. In the example operating environment of , a computer program product in the form of a medium containing the appropriate computer program instructions is shown as medium  containing instructions  which are then loaded onto server  residing at location . Similar computer program instructions which implement embodiments of the invention reside on medium  containing instructions  which is then loaded onto server  which resides at location .","In addition to being supplied in the form of a machine-readable medium or machine-readable media, computer program instructions which implement the invention can also be supplied over a network. In this case, the medium is a stream of information being retrieved when the computer program product has downloaded. Computer programs which implement embodiments of the invention can reside on any medium that can contain, store, communicate, propagate, or transport the program for use by or in connection with any instruction execution system, apparatus, or device. The medium may be for example but not limited to, an electronic, magnetic, optical, electromagnetic, infrared, or semiconductor system or device. Such media include compact disk, read only memory (CD-ROM), and digital versatile disk read only memory (DVD-ROM). Note that a computer usable or computer readable medium could even be paper or another suitable medium upon which the program is printed, as the program can be electronically captured, via, for instance, optical scanning of the paper or other medium, and then processed in a suitable manner.","Embodiments of the present invention support and enable an electronic check collection and clearing process, so that an image can be used to represent a paper check throughout the collection process, and the movement of paper checks can be eliminated. The elimination of paper checks is referred to in the banking industry as \u201ctruncation.\u201d Some truncation already exists in that many banks no longer provide paper copies of cancelled checks to account holders, but rather supply only electronic images. A process where paper checks are truncated in the collection phase starts with the account holder writing a paper check that is presented to a capture bank\/institution that converts the paper check to an image using standard high-speed or low-speed image capture devices. In advance, the paying bank, by agreement, provides required file detail to the capture bank, either directly or through an agent. Alternatively, the agreement as to this detail can be arranged by the operator of the image sharing storage system that is the subject of this application. The capture bank uses this file detail to electronically and\/or physically sort the items to be truncated. Special agreements between capture and paying banks regarding this process could be eliminated in the future if legislation or standards were to be adopted to authorize banks to truncate checks in the collection process.","In the example embodiments presented, the capture bank can use the information provided by the paying bank to create an electronic cash presentment (ECP) file that is distributed to either a clearing agent designed to support the distribution of these cash letters between banks or directly to the receiving bank. The capture bank, in some embodiments of the invention can also send the ECP file to the centralized storage system as described herein. The paying bank may retrieve the ECP file from there rather than receive a separate copy from the capture bank or an agent. Alternatively, or in addition, the ECP file can be used by the centralized storage system for error checking, statistical tracking, etc.","The paying bank, in example embodiments, uses the ECP file to prepare the cross-reference file identifying the transactions and the electronic items to be retrieved from the image sharing, centralized storage system for posting and acceptance by the paying bank. The paying bank can use the electronic images and index information instead of the paper checks to finally post the transactions, conduct fraud and signature verification processes and perform an exception item pull process for those transactions requiring additional handling. Completed transactions are then ready for any statement generation process that is performed by the paying bank. Electronic checks that are identified as return items can be prepared for distribution back to the capture bank. These images can be returned directly by agreement between banks, sent through a clearing agent or processor, or by other means.","Specific embodiments of an invention are described herein. One of ordinary skill in the computing, networking, and financial information technology arts will quickly recognize that the invention has other applications and other environments. In fact, many embodiments and implementations are possible. The following claims are in no way intended to limit the scope of the invention to the specific embodiments described above."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF DRAWINGS","p":[{"@attributes":{"id":"p-0011","num":"0010"},"figref":["FIG. 1","FIG. 1","FIGS. 1A and 1B"]},{"@attributes":{"id":"p-0012","num":"0011"},"figref":["FIG. 2","FIG. 2","FIGS. 2A and 2B"]},{"@attributes":{"id":"p-0013","num":"0012"},"figref":["FIG. 3","FIG. 3A","FIG. 3B"]},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 5"}]},"DETDESC":[{},{}]}
