---
title: Mobile branch exchange
abstract: A mobile branch exchange (MBX) allows a user of a mobile telephone to exploit the functionality of a private branch exchange (PBX) as if the user were using a PBX-connected wire line telephone in an office setting. A server is placed on corporate premises and the server is configured to communicate with corresponding client software programmed into a programmable mobile telephone. The server directly interfaces with the PBX to control call placement and connectivity and operates as an intermediary proxy for the mobile telephone. In a preferred embodiment, the server establishes a data pathway to the mobile telephone that is, from a network point of view, independent of a parallel voice pathway established between the PBX and mobile telephone.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06993360&OS=06993360&RS=06993360
owner: Onrelay Inc.
number: 06993360
owner_city: Melville
owner_country: US
publication_date: 20011204
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"p":["This application claims the benefit of U.S. Provisional Application No. 60\/251,042 filed Dec. 5, 2000, U.S. Provisional Application No. 60\/255,897 filed Dec. 18, 2000, and U.S. Provisional Application No. 60\/266,341 filed Feb. 5, 2001, which are herein incorporated by reference in their entireties.","1. Field of the Invention","The present invention is directed to mobile telephony and related features thereof. More specifically, the present invention is directed to extending the functionality of a private branch exchange (PBX) to a mobile telephone or other mobile communication device. The present invention is further directed to providing other advanced services with respect to a mobile telephone that would otherwise be available only via a hard-wired networked computer and\/or telecommunications system.","2. Background of the Invention","Voice communication is a touchstone of modem society and, in particular, business. Salespeople, technical people and employees at home, on the move, or on vacation, all need to stay in touch with colleagues and clients. However, when a businessperson leaves the office environment, he typically leaves behind a significant telecommunications infrastructure that resides in the business' telephone private branch exchange (PBX). A PBX offers tremendous functionality for the employee, such as calling line identity (including caller ID), conferencing, transferring, internal number plans and group calling and, more significantly, the PBX also allows IS\/IT administrators to manage and provide high-quality, competitive, and cost efficient corporate telephony communications by means of features such as call screening and monitoring, Least Cost Routing (LCR), Virtual Private Networks (VPN), automated recording, automatic routing to switchboards, Interactive Voice Response systems (IVR), voice messaging systems, and call centers. However, this functionality is abandoned the instant the businessperson leaves the businesses premises and uses public mobile telephony services rather than the private fixed telephony system. Thus, when a businessperson is on the road, it is, at the very least, inconvenient, if not impossible, to avail himself of the functionality offered by a PBX. For instance, the PBX contains a set of conferencing features that allow employees to set up both blind and two-step conferences on the fly that are normally inaccessible from a mobile telephone.","Similarly, although some businesses allow their employees to divert office telephone calls to their mobile telephone, the mobile user employee is not able to see the true calling line identity of a diverted call, as the identity of the PBX trunk line is presented by the mobile network instead, and it is very cumbersome for employees to transfer the call to another PBX user, and impossible to allow the PBX to automatically route the call to another PBX user or group if the diverted call is not answered.","Thus, as can be readily appreciated, basic PBX functionality is not available to a mobile telephone user.","In addition, while the use of mobile telephones has exploded in recent years, mobile telephones have also introduced inconveniences of their own. For example, now, not only must a businessperson provide a telephone number that is associated with his company, but the businessperson must also provide a mobile telephone number that is associated with his personal mobile telephone. As a result, instead of keeping track of one telephone number, clients, colleagues, etc., must now keep track of at least two telephone numbers for a particular person. This unnecessarily fills address books and quickly becomes unmanageable, especially as mobile telephone users change service providers as mobile service provider competitors offer better and\/or less expensive service.","This mix of company and personal telephone numbers also poses a significant problem for the company when the employee is terminated or leaves, as important corporate clients will keep placing business calls to the terminated employee's personal mobile telephone number, bypassing any corporate call management mechanism in place to ensure that customers calls are answered and responded to in an appropriate manner, also creating a risk that hostile former employees get the opportunity to damage or steal the client relationship.","Also, while mobile telephones provide exceptional opportunities for staying in touch, generally speaking, international mobile telephone calls are much more expensive than calls made via a company's telephone service, especially if the company exploits the advantages of negotiating for bulk telecommunications services.","Thus along with the advantages and convenience of mobile telephony there are, however, also several disadvantages, inconveniences, and failings of this technology, especially with respect to the business environment.","It is therefore an object of the present invention to provide a series of improvements in mobile telephone service and technology and thereby provide improved and extended functionality to mobile telephone users.","It is a significant object of the present invention to extend the functionality of a private branch exchange (PBX) to a mobile user.","It is a further object of the present invention to extend the functionality of a PBX by establishing a mobile branch exchange (MBX) that is in communication with the PBX and a mobile telephone or other wireless communication device.","It is yet another object of the present invention to set up and exploit separate voice and data paths synchronized between a mobile branch exchange and a program executing on a mobile communications device such as a mobile telephone.","It is another object of the present invention to provide a single telephone number that can be used to access both a regular office telephone as well as a user's mobile telephone.","It still another object of the present invention to provide at least the telephony functionality of a wireless mobile device that functions as a single mobile office terminal that combines the functionality of an office telephone with email, corporate intranet and corporate sales tools.","It is also an object of the present invention to provide a system and method of gaining seamless access to a mobile telephone user's corporate PBX via which less expensive telephone calls can be made.","It is still another object of the present invention to provide integration between incoming and outgoing mobile telephone calls and a contacts database.","These and other objects of the present invention are made possible by a unique and heretofore unknown architecture that exploits both the features offered by a conventional private branch exchange (PBX) and the features of emerging programmable mobile telephones. Separate voice and data channels are preferably established whereby the PBX can pass voice communication through the PBX and, at the same time, pass to and receive data (e.g., calling line ID information or number for transfer) from the mobile telephone.","More particularly, the present invention, which comprises server and client side innovation, combines voice and data channels via a Voice Data Synchronization Protocol (VDSP) to provide cutting edge voice integrated features, using simple graphical user interfaces, to all mobile telephone users wherever they are located around the world.","A server (or mobile branch exchange (MBX)) directly interfaces with a PBX via the well-known Computer Telephone Integration (CTI) interface, Computer Software Telephony Application (CSTA), or via a similar call control interface. The MBX is thus able to function as an intermediary proxy needed to provide full PBX functionality to the mobile telephone, or other wireless device.","A software client for the MBX system is installed on, or an integrated part of, the mobile telephone, or other wireless device, and it directly interfaces with the mobile voice and data hardware on the mobile telephone via well known interfaces such as AT commands, Telephony Application Programming Interface (TAPI), JavaPhone, Subscriber Identity Module (SIM) Toolkit, Wireless Application Protocol (WAP) Telephony Application Interface (WTAI), or via similar call control interface. The software client is thus able to handle independent data signals and voice events\/commands and present these to the user as integrated components of the same call.","The extension of PBX functionality is made possible by setting up a data link via a network independent protocol running over the data-leg (or channel) of VDSP between the MBX and a programmable mobile telephone in parallel with the basic voice connection between the PBX and the programmable mobile telephone. The MBX server and the mobile telephone client uses the data protocol link to synchronize the call control interfaces on both the server side and the client side of the voice connection, and to pass the information needed to establish the functional procedures that can not be signaled over standard public voice connections. The server side uses CSTA or similar PBX call control interface to monitor and control the PBX end of the call, while the client program uses a similar call control interface, such as TAPI, JavaPhone, AT commands, or SIM Toolkit, to monitor and control the mobile telephone side of the call.","The present invention leverages a client-server model; an intelligent\/programmed wireless client and an intelligent server that controls the PBX are employed to implement the application. The network is used as a carrier of voice and specialized data. For private wireless systems, an MBX client is provided with a Wireless Local Area Network (W-LAN) interface using Voice over Internet Protocol (VoIP) in parallel with the data stream. A VoIP protocol such as H.323 or SIP is used as a dumb carrier of the voice traffic, while the intelligence is sent in parallel over a data connection and synchronized at the client and the server respectively. In the latter configuration, the MBX also contains an IP-PBX or interfaces via a standard call control API to an external IP-PBX.","In an IP-PBX configuration, when the user is in his\/her office it is also possible to transport the voice and data signaling between the client and the server over a fixed Local Area Network (LAN), by means of the mobile telephone\/personal digital assistant \u2018Hot-Sync\u2019 cradle that normally has a LAN interface connection either via the PC or directly. In this instance, the fixed line LAN carries VDSP via the cradle when the mobile telephone is stationary in the cradle, and automatically switches to mobile (GSM or W-LAN) voice and data connections when the mobile telephone is removed from the cradle.","While a mobile telephone in accordance with the present invention is technologically advanced, the invention is quick and easy to deploy and scale, as well as cost effective, because, typically, it does not necessitate replacing an existing PBX, it does not, typically, require major changes to the PBX configuration or changes to the corporate number plan, nor, typically, does the PBX require additional hardware, depending, of course, on the specific implementation. The MBX reliably connects to and compliments even large distributed multi-vendor corporate voice systems utilizing standard PBX interfaces. The solution is highly scalable, integrates with all commercial PBXs and requires no upgrades to the mobile or enterprise networks.","In accordance with the present invention, a significant number of features are extended to or are made available to a mobile telephone, a sampling of which is summarily described below.\n\n","A number of even more advanced functions are enabled when all mobile telephone endpoints in the call are clients of the MBX system, a small subset of which are described below:\n\n","The present invention also enables the IS\/IT management to improve cost control and management of mobile telephony. Such control is increasingly critical as corporate mobile telephony costs escalate and managers lose control of disbursed employee mobile bills and call processing migrate from the private corporate voice system to public mobile operator services. The mobile telephone of the present invention provides the following cost control functionality:\n\n",{"@attributes":{"id":"p-0038","num":"0065"},"figref":["FIG. 1","FIG. 1"],"b":"100"},"System  includes a private branch exchange (PBX)  such as an Avaya (formerly Lucent) Definity Generic 3 PBX, Siemens Hicom 300E PBX, Nortel Meridian 1 PBX, Ericsson MD110 PBX, Alcatel 4400 PBX, or any other PBX having the necessary functionality for performing the steps described throughout the following description. A private branch exchange (PBX) can also be an Internet Protocol Telephony-based server such as Cisco Call Manager. As further illustrated, PBX  is connected to the public switched telephone network (PSTN)  in a conventional manner. PSTN  is in communication with a mobile communications network such as the Global System for Mobile Communications (GSM) . However, the present invention is operable with any mobile communication network that supports at least voice and data communication to and from a mobile device.","As would be expected, GSM network  is in communication with a mobile telephone . Although a mobile telephone is specifically shown in , the present invention is intended to cover virtually all forms of mobile communications devices including, but not limited to, a Personal Digital Assistant (\u201cPDA\u201d)\/Smartphone, a mobile telephone, a mobile computer, etc., that execute an operating system such as EPOC (from Symbian Software), Palm OS (from Palm, Inc.), PocketPC (from Microsoft Corp.), Pocket Linux (shareware), or other operating system\u2014or alternatively a Wireless Access Protocol (\u201cWAP\u201d), SIM Toolkit (\u201cSTK\u201d) or Java Virtual Machine Micro Edition (J2ME). In this description device  will be referred to as a \u201cmobile telephone\u201d, but it should be understood by those skilled in the art that any of the foregoing devices could also be employed. Mobile telephone , as shown in , preferably includes a display  such as a liquid crystal display, via which several pieces of information can be presented to a user using a graphical user interface. Importantly, mobile telephone  is preferably an intelligent, programmable handset such as those that are quickly replacing older mobile telephones with embedded telephony applications. While the mobile telephone shown in  includes conventional buttons for dialing, as will be explained later herein, display  is preferably a touch screen display on which \u201cbuttons\u201d can be presented within a graphical user interface (GUI).","The programmable handset can be visualized, logically, as having three main components or layers: a terminal , an operating system  and an application . In accordance with the present invention, a client program or application is preferably loaded into application layer  of mobile telephone  such that it operates according to the principles set forth herein. The application preferably has access to the GSM functionality of the device, either directly via GSM AT commands, or with a higher level API provided as part of the wireless handset operating system, such as TAPI or JAVAPhone.","Referring again to , system  further includes a mobile branch exchange (MBX)  that is, in concert with the client-side software application loaded in mobile telephone , at the core of the present invention. Detailed functionality of MBX  is described later herein. MBX  is in communication with, for example, a router , which in turn provides access to a data network  such as the Internet. Data network  is in communication with a device that can pass non-voice data to mobile telephone . In the exemplary embodiment depicted in , a short message service (SMS) gateway  is employed. SMS gateway  is connected to the mobile telephone network , which provides wireless connectivity to mobile telephone .","As is further illustrated in , the topology of the device interconnectivity provides two separate channels, paths, or tunnels, between MBX  and mobile telephone : a voice path  and a data path . In accordance with the present invention, voice path  supports a voice channel that connects any one of telephones , ,  to mobile telephone . Significantly, as will be described in more detail with respect to the functionality of MBX , both calls outgoing to mobile telephone  and calls incoming from mobile telephone  are preferably passed through PBX , which is under the control of MBX . Overall synchronization between mobile telephone  and MBX  is made possible, at least in part, by data path .","More specifically, the purpose of MBX  is to allow mobile users to connect to PBX  as if they were in a conventional office environment. In a preferred embodiment, this can be accomplished by placing on a customer premises a software server, namely, MBX , which communicates with a corresponding software\/firmware client on mobile telephone .","MBX  preferably directly interfaces to PBX  via a standard Computer Telephone Integration (\u201cCTI\u201d) interface  such as Computer Software Telephony Application (\u201cCSTA\u201d), Telephone Application Programming Interface (\u201cTAPI\u201d and Java TAPI) and Telephone Server Application Programming Interface (\u201cTSAPI\u201d). Alternatively, MBX  can be an integrated part of the PBX itself. MBX  functions as an intermediary proxy to provide PBX functionality to mobile telephone . In a preferred embodiment full, or at least a significant amount of, PBX functionality is provided or extended to mobile telephone .","More specifically PBX functionality is made available to mobile telephone  by setting up a data link between MBX  and mobile telephone  in parallel with the basic voice connection between the PBX and the mobile telephone. MBX  synchronizes voice and data by means of the PBX's Computer Supported Telephony Applications (\u201cCSTA\u201d) interface, which allows MBX  to take control of selected calls through PBX , and the call control interface on the client, which allows the client application to take control of the calls on the mobile telephone.","For the parallel data transport via data path , MBX  can employ Internet Protocol (\u201cIP\u201d), Short Message Service (\u201cSMS\u201d), Unstructured Supplementary Service Data (\u201cUSSD\u201d), General Packet Radio Service (\u201cGPRS\u201d), Enhanced Datarate for Global Evolution (\u201cEDGE\u201d), user\/private\/application data fields in public voice protocols (such as the Integrated Services Digital Network (\u201cISDN\u201d) protocol, SS7, GSM, SIP or H.323), Bluetooth, Wireless Access Protocol (WAP), CDPD, LMDS, High Speed Circuit Switched Data (HSCSD), W-CDMA (e.g. CDMA 2000, UMTS, or any other variants of W-CDMA), Mobitex, two way paging, wireless Ethernet, or any other wireless data (circuit or packet switched) protocol to send call-data to mobile telephone  in parallel with the voice call. When appropriate, it is also possible to simultaneously use multiple data transport protocols in the same system, even during the same call.","The voice call via voice path  can be carried by any wireless voice technology including, but not limited to, GSM, DECT, W-CDMA (e.g. CDMA 2000, UMTS, or any other variants of W-CDMA), High Speed Circuit Switched Data (HSCSD), TDMA, Trunked Radio, TETRA, LMDS, and H.323 or Session Initiation Protocol (\u201cSIP\u201d) over Wireless Local Area Networks or 3G. In such a public configuration, the intelligent\/programmed mobile telephone client and an intelligent server (MBX ) that controls PBX  are used to achieve the goals of the invention (by, in effect, using the mobile networks as a dumb carrier).","As shown in , mobile telephone  is capable of being programmed in accordance with a service provider's specifications by loading a software program into application layer  of mobile telephone . In accordance with the present invention, the client software that communicates with MBX  is loaded in this layer.","It is noted that not only can an interface such as JTAPI (or TAPI) be employed to control\/listen to PBX , but the present invention can also be configured to provide an extended JTAPI interface that includes the functionality to handle mobile telephones  as a regular PBX extension, meaning that existing 3rd party call-centers and CTI applications in the market place can be extended to support the MBX, thereby allowing the 3party application to also perform call control operations and monitor the mobile telephones in addition to the fixed line PBX phones.","Similarly, the present invention may provide a JTAPI-like call-control interface to other client applications running on a mobile telephone enabling, e.g., a 3rd party e-mail program to implement click-to-call functionality.","Preferably, overall interaction between MBX  and mobile telephone  is effected via a voice data synchronization protocol (VDSP) that enables intelligent wireless handhelds to become seamless PBX extensions. In accordance with the present invention, VDSP comprises three main components as shown in :\n\n","The following is a listing of exemplary TIEP codes that are implemented for call control in accordance with the present invention. Preferably, the appropriate code is transmitted along with a message identifier, a timestamp, a length and attributes (where desired) between the MBX and mobile telephone as shown schematically in . The TIEP protocol is readily extended to accommodate for new functionality, and can be modified without changes to any public voice or data protocols.",{"@attributes":{"id":"p-0054","num":"0084"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"168pt","align":"left"}}],"thead":{"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Code","Type"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"35pt","align":"char","char":"."}},{"@attributes":{"colname":"2","colwidth":"168pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"0","ACK"]},{"entry":[{},"1","RAW"]},{"entry":[{},"2","CLIINDICATION"]},{"entry":[{},"3","VOICEMAILINDICATION"]},{"entry":[{},"4","LOSTCALLINDICATION"]},{"entry":[{},"5","LISTENININDICATION"]},{"entry":[{},"6","CONFERENCENOANSWERINDICATION"]},{"entry":[{},"7","CONFERENCEPARTYLOSTINDICATION"]},{"entry":[{},"8","CLIQUEUEDINDICATION"]},{"entry":[{},"9","CONFERENCEINDICATION"]},{"entry":[{},"100","INDIRECTCALLREQUEST"]},{"entry":[{},"101","CONFERENCEBLINDINCLUDEREQUEST"]},{"entry":[{},"102","CONFERENCEBLINDADDREQUEST"]},{"entry":[{},"103","CONFERENCEDROPPARTYREQUEST"]},{"entry":[{},"104","FORWARDREQUEST"]},{"entry":[{},"105","FORWARDVOICEMAILREQUEST"]},{"entry":[{},"106","LISTENINREQUEST"]},{"entry":[{},"107","LISTENINPICKUPREQUEST"]},{"entry":[{},"108","CLIENTCRADLESTATUSINDICATION"]},{"entry":[{},"109","CLIENTCRADLECONTROLINDICATION"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}]}}},{"@attributes":{"id":"p-0055","num":"0085"},"figref":"FIGS. 3A\u201313","b":"102","ul":{"@attributes":{"id":"ul0006","list-style":"none"},"li":["(1) Incoming Call","(2) Outgoing Indirect Call","(3) Outgoing Indirect Call to MBX client","(4) Outgoing Conference","(5) Incoming Conference","(6) Conference Lost Participant","(7) Conference Drop Participant","(8) Forward Call","(9) Transfer Call","(10) Listen In\u2014Forward","(11) Listen In\u2014Intrude"]}},"(1) Incoming Call",{"@attributes":{"id":"p-0057","num":"0098"},"figref":"FIGS. 3A\u20133E","b":["162","108","110"]},"Referring first to , an incoming call A arrives at PBX  and is routed via remote call connection to the office terminal\/telephone  associated with the telephone number dialed. MBX  is notified, via CSTA for example, of call A and, as a result, initiates two processes. The first process comprises setting up phantom call B between a virtual terminal associated with a phantom number within PBX  (or alternatively a real terminal if PBX does not support virtual terminals) and mobile telephone  via a conventional GSM network . The second process is the establishment of a data path between the MBX  and mobile telephone . In this case, calling line identity CLIind information is sent via this data channel in parallel to the voice channel that is being established whereby the mobile telephone user can be apprised of who the caller is. Such information can be more than just caller ID, and could include a name of the caller, such as is common in advanced PBX systems. Additional information about the caller can also be displayed to the mobile telephone user as will be described later herein.","Having received the calling line identity information, the mobile telephone user is now in a better position to decide whether to answer (or forward or conference in) the call.  shows the scenario in which the mobile telephone user decides to answer the call. As shown, call B is fully established. The virtual terminal from which the phantom call originated then holds call B and places a new call C to office telephone . Calls B and C are then conferenced together.","As shown in , in order to establish connection between calls A and B\/C, call C is answered and placed on \u201chold.\u201d Call A is then answered, and call C is transferred, whereby the end effect is to merge call B and call A and remove the office telephone from the call, as shown in , and to keep the virtual terminal associated with the call in the call for monitoring and control purposes, as necessary. Thus, as can be appreciated, MBX  continuously monitors PBX  via CSTA or any other interface that is exposed to PBX users, and causes PBX  to initiate various functions to automatically connect a remote caller, who dialed an office telephone number, to a mobile user without the remote caller even knowing that the mobile telephone user is not actually answering the call at his\/her office. This overall functionality is further enhanced by virtue of the separate data path (employing TIEP) that is set up in conjunction with the GSM voice path to deliver PBX-type functionality to the mobile user whereby, from the mobile user's point of view, he\/she receives the same information that is available as if he\/she were sitting at his\/her office desk.",{"@attributes":{"id":"p-0061","num":"0102"},"figref":"FIG. 3E","b":["160","108"]},"(2) Outgoing Indirect Call",{"@attributes":{"id":"p-0063","num":"0104"},"figref":["FIGS. 4A\u20134D","FIG. 4A","FIG. 5A"],"b":["162","160","108","108","110","102","108","110","110","160","162","152"]},"When call A is answered, or established, (keeping in mind that call A could be answered by a person, an answering machine, a fax machine, a modem, etc.), a phantom call C is placed internal to PBX  between the virtual terminal and the mobile telephone user's office number , which, when manipulated using well-known PBX control commands, has the effect of redirecting call B, the actual call made by mobile telephone  to PBX , to the office telephone of the mobile telephone user's office number , as shown in . More specifically, call B is answered at the virtual terminal, call B is placed on hold at the virtual terminal, the new call C is placed from the virtual terminal to the office telephone , and calls B and C are conferenced.  then shows that call C is answered at office telephone . Call C is then placed on hold and then transferred at the office telephone to call A. The result is shown in  wherein a voice communication path that is established between the mobile telephone  and a remote number transparently passes through PBX . Again, as in the incoming call sequence, the virtual terminal in the PBX, i.e., one of the virtual terminals associated with the phantom number, is maintained in a conference throughout the call via a \u2018conference\u2019 operation. This enables MBX  to keep controlling the call even if none of the end-points are local PBX terminals, and it further enables MBX  to reestablish a connection if it is dropped by the mobile network, since the virtual terminal ensures that there are still two parties connected in the call after the drop.","(3) Outgoing Indirect Call to MBX Client",{"@attributes":{"id":"p-0066","num":"0107"},"figref":["FIGS. 5A\u20135C","FIG. 5A"],"b":["110","108","102","108","102","160","161","108","108","161"],"i":["a ","a","a "]},"Eventually, the callee answers call C at the remote telephone , as depicted in , and the procedure of answering an incoming call () is executed such that call A for an instant connects the caller's office telephone with the callee's mobile telephone. The procedure of answering an outgoing call () is then executed, thereby completing the connection between the two mobile telephones , via PBX , as shown in .","(4) Outgoing Conference","This next sequence, illustrated by , depicts how a third party can be conferenced in to an on-going conversation between a mobile telephone  and a remote number . In this case, as shown in , a call A is established between mobile telephone  and a remote number . As with a typical call, a virtual terminal is also conferenced in to keep track of call A and to be available to reestablish the voice channel with mobile telephone  should mobile telephone  drop the call. In this case, in order to conference in a second remote telephone , a \u201cconference blind add\u201d TIEP request is sent via the data channel to MBX . This causes MBX  to instruct PBX  to place the virtual terminal on hold and to place a new call B to a second remote telephone number, namely . Call B, is then immediately conferenced with call A, as shown in . As a result, mobile telephone  is in communication with both remote telephones  and ","(5) Incoming Conference",{"@attributes":{"id":"p-0071","num":"0112"},"figref":["FIGS. 7A\u20137B","FIG. 7A"],"b":["108","108","162","162","160","108","108"],"i":"a "},"Assuming the user of mobile telephone  desires to include the caller from remote telephone in the ongoing conversation, the user inputs (as will be described in more detail later herein) into mobile telephone  an indication that the second caller should be included. As a result, the client side application loaded on mobile telephone  sends a \u201cconference blind include\u201d request via TIEP back to MBX  via the data channel. As a result, call C is dropped and call B is redirected to the phantom number, answered at a virtual terminal, placed on hold, and conferenced with call A at the virtual terminal. This sequence is depicted in . The result within PBX  is shown in .",{"@attributes":{"id":"p-0073","num":"0114"},"figref":["FIGS. 7D and 7E","FIG. 7D","FIG. 7E"],"b":["162","108","108","108","160"],"i":"a "},"(6) Conference\u2014Lost Participant",{"@attributes":{"id":"p-0075","num":"0116"},"figref":"FIG. 8","b":["162","110","108","108"],"i":"a"},"(7) Conference\u2014Drop Participant",{"@attributes":{"id":"p-0077","num":"0118"},"figref":"FIG. 9","b":["108","108","110","110","102","108","162"],"i":"a "},"(8) Forward Call",{"@attributes":{"id":"p-0079","num":"0120"},"figref":["FIGS. 10A and 10B","FIG. 10B"],"b":["108","162","160","102","108","110","108","108","108","110","110","102","108","108","110"],"sub":["\u2014","\u2014"]},"(9) Transfer Call",{"@attributes":{"id":"p-0081","num":"0122"},"figref":["FIGS. 11A and 11B","FIG. 11A","FIG. 11B"],"b":["108","162","102","108","110","110","161","110","110","102","162","161"],"sub":["\u2014","\u2014"]},"(10) Listen In\u2014Forward",{"@attributes":{"id":"p-0083","num":"0124"},"figref":["FIGS. 12A\u201312E","FIG. 12A","FIG. 12B"],"b":["108","160","102","108","108","108","108","110","160"],"sub":"\u2014"},"Then, as shown in , calls C and A are conferenced together and the mobile portion of call C is muted. The result, as shown in , is that call A is the \u201clive\u201d call and is established among remote telephone number , office telephone  and the virtual terminal within PBX .","Finally, having received a listen in command, as shown in , call A is then redirected to the number that was included in that command, as shown in .","(11) Listen In\u2014Intrude",{"@attributes":{"id":"p-0087","num":"0128"},"figref":["FIG. 13","FIGS. 12A\u201312E"],"b":["108","162","108"]},"Control of PBX  by MBX  can be accomplished using the following exemplary commands that are standard commands used by the vast majority of commercially available PBXs:\n\n","In addition the relatively simple commands above, the present invention preferably configures a set of virtual terminals in the PBX, configured in hunt groups to which a PBX phantom number can be assigned. Thus, as can be readily appreciated by those skilled in the art, there are only very minor configuration changes needed to have a conventional PBX operate in accordance with the principles of the present invention.","The present invention not only extends conventional PBX functionality to a mobile telephone, but because mobile telephone  can be programmed via application layer , a significant number of other features associated with PBX and general usability functionality can also be provided to the user of mobile telephone  and\/or the company\/organization with which the user is associated, as will become apparent from the additional description below.",{"@attributes":{"id":"p-0091","num":"0141"},"figref":["FIG. 14","FIG. 14"],"b":["202","108","202","202"]},{"@attributes":{"id":"p-0092","num":"0142"},"figref":"FIG. 14","b":["108","202","108"]},{"@attributes":{"id":"p-0093","num":"0143"},"figref":"FIG. 15","b":["1501","1503","1501","108","1505","1503","108","1505","1502","1502"]},"A user of mobile telephone  can also access one of several registers that are updated in the normal course of usage of the system and service provided by the present invention. One example of a register in accordance with the present invention is a missed call register, as shown in . Such a register captures and stores the telephone numbers and preferably also a name of a party whose telephone call was missed, because, e.g., mobile telephone  was powered off, or mobile telephone  was out of range of a wireless network. Different registers, including, but not limited to, outgoing calls and incoming calls, are preferably chosen from a pull down menu . Preferably, there is also an option  for selecting whether to show the times of the calls stored in the register being viewed. Other details of parameters of calls may also be stored and\/or displayed as may be desired for a particular implementation of the present invention.","In an alternative quick dialing method, call button  is preferably programmed to cause the last dialed number to be displayed in field , and if call button  is tapped again, the last dialed number is automatically called. If the displayed number is not the number that the user wishes to call, then the user may choose from a last dialed list . Once the desired telephone number or party is selected, call button  is tapped to initiate the call.","As also shown in , a user of mobile telephone  can also access a voice message indication button  which is highlighted and displays an open envelope when the voice message indicator lamp on the office telephone is lit. When the voice message indicator lamp on the office telephone is not lit, the button displays a closed envelope, as pictured. The user of mobile telephone  can click on the voice message indication button  to dial directly to the PBX voice message system, and the client also provides a mechanism for sending pre-configured DTMF tones to automatically log on the user to the PBX voice messaging system.",{"@attributes":{"id":"p-0097","num":"0147"},"figref":["FIG. 18","FIG. 18"],"b":["108","152","110","108","1505"]},"To reject a call, the user taps a hang up button  in the incoming call screen. In a preferred embodiment, when hang up button  is tapped, the incoming call ceases at mobile telephone, but the call continues at the associated office telephone, and voice mail, if available. Of course, the call is also preferably placed in the appropriate register for later retrieval, as might be desired.","A significant feature of the present invention is the ability for a mobile telephone user to forward a call and establish conference calls as though the user were using their conventional PBX-connected office telephone. Referring still to  two buttons,  and , are provided for these two features.",{"@attributes":{"id":"p-0100","num":"0150"},"figref":"FIG. 19","b":["1803","1901","1903","1501","1503"]},"A conference call is preferably initiated by tapping conference button  () and  illustrates an exemplary screen under the call tab when a conference is desired. In this case, participants in a conference call are listed along with the time that each of the participants has been connected. To add a participant, the user taps add participant button  and a screen like that illustrated in  is presented to the user, whereby the user can select a telephone number associated with the desired new conference participant via dial pad , speed dial buttons  or last call list .","An incoming call also can be conferenced in with an on-going call. When the incoming call is received at mobile telephone , the user is notified and given the opportunity to tap add participant button  to connect the new call to the conference call. Preferably, all participants, including the newly added party, are listed in the call tab screen like that shown in . At any time, the user of mobile telephone  can drop a participant in a conference call by tapping drop participant button .",{"@attributes":{"id":"p-0103","num":"0153"},"figref":"FIG. 21","b":["108","2101","2103"]},"As with most personal digital assistants, mobile telephone  preferably includes a calendar application. In accordance with the present invention, such a calendar application can be populated with telephone calls that are made or received via mobile telephone , as well as notes that have been generated in connection with such telephone calls. An exemplary calendar is shown in  and  shows one of the calendar entries after being expanded. In this case, a note associated with the telephone call is also shown. It is subsequently possible for the user to search for previous calls by means of the native calendar search function provided with most personal digital assistants.","Having described the basic functionality and implementation techniques of the present invention, the following will describe still more features and advantages of the present invention.","The first and perhaps foremost advantage of the present invention is that an office worker need only have a single telephone number via which people can contact that person. That is, since mobile telephone  is controlled, ultimately, by MBX , calls passing through PBX  can be routed to the office worker's conventional wire line telephone or to his\/her mobile telephone . Indeed, the present invention preferably provides synchronized simultaneous ringing wherein mobile telephone  and the mobile telephone user's wire line office telephone ring at the same time when an incoming call is received, thereby permitting the user to answer the call where most convenient without having to manually configure a redirection of the call. Similarly, one's existing office telephone number automatically becomes a user's single unified business number both for receiving incoming calls and external presentation of outgoing calls. Also, there is no need for the user to continuously modify forward settings at the PBX office telephone, as the simultaneous ringing mechanism can be statically configured.","Another feature of the present invention, as already described herein, is the receipt of full calling line identify information, which can be gleaned from any number of directories or databases that can be accessed either directly from within mobile telephone  or via MBX , or even directly from data network  (e.g., LDAP) without even accessing MBX . In a preferred embodiment, a user's address book, stored for example, in Microsoft Outlook, can be synchronized with the address book of mobile telephone .","Also, because MBX  is in constant communication with PBX , even if mobile telephone  is not powered on, MBX , SMS Gateway  or GSM data-network  can store calls that have been missed and when mobile telephone  is subsequently powered on the missed call information can be updated in the call register of the mobile telephone. Of course, this feature is also effective when mobile telephone  is out of range of mobile telephone network .","Also, because of the functionality provided by MBX , it is possible for a user of mobile telephone  to listen in on voicemail that is being left by a caller. This gives the user of mobile telephone  the opportunity to interrupt and answer the call as desired, thereby simulating home-answering machine behavior. Again, this functionality is made possible by the close association of MBX  with PBX  along with the fact that mobile telephone  is in communication with MBX  both via a voice path  and data path , i.e., the VDSP.","Since incoming calls received at mobile telephone  are passed through PBX , even if mobile telephone  loses wireless connectivity with mobile telephone network , the call may still be connected with PBX . In such an instance, MBX  will preferably attempt to re-establish or reconnect mobile telephone  with the call that is still connected with PBX  or, if that is not possible, redirect the call to the user's voice mailbox, or alternatively, a switchboard. As previously explained, the virtual terminal within PBX  is kept in conference with the on-going mobile telephone call in the event it is necessary to re-establish the call.","Because data path  provides calling line identity information to mobile telephone  without there having to be a connected voice path, the present invention also supports forwarding a call without ever answering it. This is particularly useful when a user is busy at a meeting or on another call.","Another benefit of having mobile telephone  being closely related to PBX  through MBX  is that the mobile telephone can now be used as though it were a conventional wire line office telephone in the sense that the mobile telephone user can choose to use the internal short number dialing plan that is supported by virtually all PBXs. For example, instead of having to dial a full number of an office colleague, the mobile telephone user can simply dial a four\/five digit extension that has been assigned to the office colleague. Similarly, mobile telephone  can be configured such that the user must dial a \u201c9\u201d in order to access an outside line.","Although users are preferably able to configure the ordering or organization of basic calling data such as contact name, times of calls, etc., software incorporated in mobile telephone  is preferably able to conduct searches of the several data records and notes as well. This searching functionality is preferably applicable to both incoming and outgoing calls. Also, call records can be integrated with existing customer relations management (CRM) systems. In the overall system topology  of the present invention, element  () could be such a CRM system.","In a preferred embodiment of the present invention, MBX  and\/or mobile telephone  can also be programmed to filter incoming calls based on user-identified criteria such as time of day, calendar status or VIP list. For example, the system can be configured to permit only a predetermined set of callers to be able to get through to mobile telephone  whereas others are automatically redirected to voicemail. In this way, a user can have a significant amount of control over his accessibility to others. The filtering mechanisms can be loaded on either (or both) mobile telephone  or MBX .","Another significant advantage to having mobile telephone  closely associated with PBX  is the ability to control telecommunications services and, particularly, mobile telecommunications costs. For example, corporate users who are given access to a mobile telephone in accordance with the present invention can have their access to both domestic or international call destinations limited\/controlled, since the present invention can enforce routing of all calls through the PBX, and thereby reuse the existing call screening functionality in the PBX. Thus, not only can employees be controlled with respect to outbound calling while in a wire line office environment, but those employees can now also be controlled with respect to outgoing calling even if they are using a mobile telephone.","Similarly, present mobile telephone users do not have access to true pre-negotiated rates for telephone connectivity. Long distance calling, in particular, is very expensive when initiated from a mobile telephone versus a land line telephone, especially when \u201croaming.\u201d However, the present invention provides a way to bypass these more expensive telephone connections by channeling all mobile telephone communications through a PBX. Accordingly, assuming the mobile telephone user is not roaming, then all long distance calls initiated by the mobile telephone can enjoy the lower telecommunications prices available to PBX-connected wire-line telephones. Also, a mobile-to-mobile call between different mobile operators is frequently significantly more expensive than the sum of the costs of a mobile-to-fixed and a fixed-to-mobile call, further reducing mobile telephone call charges.","In the case that it is more costly to route calls via the PBX than directly, it is possible with the present invention to configure the client to route specific calls directly (not via PBX) by means of the standard GSM call routing mechanism. This least cost routing mapping is based on automatic client side number recognition and the identity of the mobile operator and the country at which the phone is currently registered.","In addition, if a corporation has locations in different parts of a country or the world, then mobile telephone  can be programmed to operate with selected local MBXs so that every call initiated by mobile telephone  is, effectively, a local initiated call.","Still another useful feature of the present invention is that users of mobile telephone  can now use project codes when initiating telephone calls. Those project codes are then fed back to MBX , preferably via data path , and registered there for cost allocation to the appropriate clients, thereby avoiding a charge to a corporation.","The present invention, as will be appreciated by those skilled in the art, can also, in view of the rich data being passed between mobile telephone  and MBX \/PBX , provide significant insight into call data records whereby information technology personnel or others can monitor the call volume and distribution patterns of one or more mobile telephone users. This can lead to more leverage in negotiating telecommunications services and monitoring the usage patterns of individuals.","Finally, the description of the present invention has been directed, primarily, to extending telephone calls placed to and from a mobile telephone that has programmable capabilities. However, the programmable mobile telephone\/PDA device contemplated to be employed in the context of the present invention could also be used for many other purposes. For example, email could be forwarded and sent to\/from such a device, as described in U.S. Pat. No. 6,219,694 B1 to Lazaridis et al. Similarly, the mobile telephone\/PDA could be used as an extension of a user's office computer, whereby files or applications that are manipulated on the user's computer can be synchronized or mirrored on the mobile telephone\/PDA used in connection with the present invention. Examples of such functionality include accessing the world wide web via data path  or accessing a CRM database in a home office via data path , or via some other connectivity outside of the MBX paradigm of the present invention. The foregoing functionality is preferably all available on a single device with a single mobile operator subscription for voice and data service.","The foregoing disclosure of the preferred embodiments of the present invention has been presented for purposes of illustration and description. It is not intended to be exhaustive or to limit the invention to the precise forms disclosed. Many variations and modifications of the embodiments described herein will be obvious to one of ordinary skill in the art in light of the above disclosure. The scope of the invention is to be defined only by the claims appended hereto, and by their equivalents.","Further, in describing representative embodiments of the present invention, the specification may have presented the method and\/or process of the present invention as a particular sequence of steps. However, to the extent that the method or process does not rely on the particular order of steps set forth herein, the method or process should not be limited to the particular sequence of steps described. As one of ordinary skill in the art would appreciate, other sequences of steps may be possible. Therefore, the particular order of the steps set forth in the specification should not be construed as limitations on the claims. In addition, the claims directed to the method and\/or process of the present invention should not be limited to the performance of their steps in the order written, and one skilled in the art can readily appreciate that the sequences may be varied and still remain within the spirit and scope of the present invention."],"BRFSUM":[{},{}],"heading":["BACKGROUND","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION"],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The present invention will now be explained in more detail in conjunction with several drawings in which",{"@attributes":{"id":"p-0033","num":"0060"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0034","num":"0061"},"figref":"FIG. 1A"},{"@attributes":{"id":"p-0035","num":"0062"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0036","num":"0063"},"figref":"FIGS. 3A\u201313"},{"@attributes":{"id":"p-0037","num":"0064"},"figref":"FIGS. 14\u201323"}]},"DETDESC":[{},{}]}
