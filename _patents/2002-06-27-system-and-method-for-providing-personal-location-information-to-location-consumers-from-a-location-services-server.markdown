---
title: System and method for providing personal location information to location consumers from a location services server
abstract: A system and method for providing a location owner's location information to third parties (location consumers) is provided. The location server obtains an owner profile controlling access to the location owner's location information. A location consumer requests the location owner's location information through a location request. The location server determines whether the location consumer is authorized to access the location owner's location information according to access information in the owner profile. If the location consumer is authorized to access the information, the location server obtains location information from a location provider and returns the location information to the location consumer. The location consumer may also subscribe to a location owner, such that when an identified subscription event occurs, the location server notifies the location consumer of the location owner's current location. The location server repeatedly notifies the location consumer when the subscription event occurs or until the subscription is terminated.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07412400&OS=07412400&RS=07412400
owner: Microsoft Corporation
number: 07412400
owner_city: Redmond
owner_country: US
publication_date: 20020627
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE DRAWINGS"],"p":["This invention relates to computer software and communication networks, and more particularly, the invention relates to a system and method for providing personal location information to third parties.","In an information age, remaining connected to information at all times is extremely important. People use many devices and services to stay connected to information and to other people, such as cell phones, pagers, personal digital assistants (PDAs), and laptop computers. A by-product of this connectivity is the tremendous amount of personal information that is generated, or known, concerning each \u2018user.\u2019 This personal information covers a broad spectrum of categories, such as credit information, phone numbers, and addresses to name just a few.","Personal information, in general, is becoming more and more valuable. In order to be more effective with their marketing efforts, merchants are willing to pay large amounts of money to find out very personalized information about individuals. On the other hand, personal information is also extremely important to control. For many important personal reasons, individuals generally do not want their personal information disclosed, including information the service providers possess. However, individuals may be willing to allow some personal information to be distributed to others, including merchants, if the individuals can control the type and amount of information distributed, and possibly receive some value in exchange for that information. For example, a person may be willing disclose his or her whereabouts in exchange for valuable opportunities, such as a special sale or discount with a merchant.","One area of personal information that is increasingly useful, important, and valuable is a person's physical location. Automated guidance and global location services depend upon identifying a person's, or a thing's, location. Fleet management can greatly benefit from monitoring the physical location of a fleet of vehicles. Merchants make use of a person's location, offering specials to those who are in a certain area. As mentioned above, some merchants are willing to pay for such information. Alternatively, it may be nice to locate one's friends in order to determine a convenient gathering location. As can be seen, there are many times that it is advantageous for a person to disclose the person's physical location.","Many devices or services are capable of generating or collecting location information. For example, wireless telephone services are able to locate a person by sensing the presence of a person's wireless telephone in a particular coverage area, or cell. Similarly, a wireless network service is able to locate a person by sensing the presence of the person's computing device with the range of wireless gateways, such as an IEEE 802.11(b) or a Bluetooth enabled network. In both of these examples, the service senses the location of a broadcasting device and therefore knows that the device is within a certain area. In another embodiment, global positioning system (\u201cGPS\u201d) devices utilize geo-synchronous satellite signals to calculate a person's position, which can be displayed to the person.","Electronic calendars and e-mail applications can also generate location information. For example, a person may enter an appointment in an electronic calendar that specifies location information. Additionally, an email message may include statements such as, \u201cI'm at work,\u201d that corresponds to location information. Clearly, there are many ways which devices, or services, or both, can generate information about a person's location.","Although there are a number of ways to obtain location information, most location information generating systems are closed, meaning that the location information is used only within the system, if the location information is used at all. For example, wireless devices typically use location information to obtain wireless service. Current location information is displayed by a GPS device to the person operating the device. Both of these closed location information generating system examples are not well-suited to allow a \u201clocated\u201d person to exploit the value of that location information by providing it to others outside of the system. In general, typical location information generating systems do not allow a \u201clocated\u201d person to distribute the location information to third parties, and\/or permit the \u201clocated\u201d person to control the distribution of the location information to the third parties.","Rather than a single device or service, a person may be associated with multiple sources of location information. For example, a person may have a wireless telephone, a computing device running an electronic calendar and e-mail, and a GPS device. All of these devices and services are able to generate location information for that person with differing degrees of accuracy. However, in the past, no mechanism for collecting and\/or processing the various sources of location information to provide a person's location information when a request for the persons location is made.","What is needed is a system that provides control and access to a person's location information. Additionally, there is a need for a centralized system for controlling location information, which may be derived from a variety of sources.","In accordance with the present invention, a system, method and computer-readable medium for providing information about the location of a location owner to a location consumer are provided. The system includes a location server that obtains and stores an owner profile corresponding to the location owner. The owner profile is used to control access to the location owner's location information. The system also includes a location consumer. The location consumer requests location information, corresponding to a location owner, from the location server. In response to the receipt of a request for location information, the location server obtains location information corresponding to the location of the location owner from a location provider based on the owner profile. The location server processes the location information according to the owner profile, and transmits the processed location information to the location consumer.","The method provides location information corresponding to the location of a location owner to a location consumer. More specifically, in response to the receipt of a location request from a location consumer that requests access to a location owner's location information, an owner profile corresponding to the location owner is obtained. The owner profile is used to control access to the location owner's location information. More specifically, the owner profile is used to determine whether the location consumer is authorized to access the location owner's location information according. If the location consumer is authorized to access the location owner's location information, the location owner's location information is obtained from a location provider. The location owner's location information is processed according to the owner profile. The processed location information is transmitted to the location consumer.","The computer-readable medium has computer-executable components for providing information corresponding to the location of a location owner to a location consumer. The computer-executable components comprise a core services module, an owner profile database, and a location provider module. The core services module, processes the request according to the owner profile. More specifically, the owner profile database is communicatively coupled to the core services module, provides the owner profile to the core services module. The location provider module is communicatively coupled to the core services module and obtains information about the location of the location owner from a location provider. Based on the owner profile, the core services module determines whether the location consumer is authorized to access the location owner's location information. Further, based on the results of the determination, the core services module obtains the location owner's location information from the location provider module, processes the location owner's location information according to the owner profile, and transmits the processed location information to the location consumer.",{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 1"},"With reference to , an exemplary system for implementing the invention includes a conventional personal computer , including a processing unit , a system memory , and a system bus  that couples the system memory to the processing unit . The system memory  includes read only memory (ROM)  and random access memory (RAM) . A basic input\/output system  (BIOS), containing the basic routines that help to transfer information between elements within the personal computer , such as during start-up, is stored in ROM . The personal computer  further includes a hard disk drive , a magnetic disk drive , e.g., to read from or write to a removable disk , and an optical disk drive , e.g., for reading a CD-ROM disk  or to read from or write to other optical media. The hard disk drive , magnetic disk drive , and optical disk drive  are connected to the system bus  by a hard disk drive interface , a magnetic disk drive interface , and an optical drive interface , respectively. The drives and their associated computer-readable media provide nonvolatile storage for the personal computer . Although the description of computer-readable media above refers to a hard disk, a removable magnetic disk and a CD-ROM disk, it should be appreciated by those skilled in the art that other types of media which are readable by a computer, such as magnetic cassettes, flash memory cards, digital video disks, Bernoulli cartridges, ZIP disks, and the like, may also be used in the exemplary operating environment.","A number of program modules may be stored in the drives and RAM , including an operating system , one or more application programs , other program modules , and program data . A user may enter commands and information into the personal computer  through input devices such as a keyboard  or a mouse . Other input devices (not shown) may include a microphone, touchpad, joystick, game pad, satellite dish, scanner, or the like. These and other input devices are often connected to the processing unit  through a user input interface  that is coupled to the system bus, but may be connected by other interfaces (not shown), such as a game port or a universal serial bus (USB). A monitor (not shown) or other type of display device is also connected to the system bus  via an interface, such as a video adapter (not shown). In addition to the monitor, personal computers typically include other peripheral output devices (not shown), such as speakers or printers.","The personal computer  may operate in a networked environment using logical connections to one or more remote computers, such as a remote computer . The remote computer  may be a server, a router, a peer device or other common network node, and typically includes many or all of the elements described relative to the personal computer . The logical connections depicted in  include a local area network (LAN)  and a wide area network (WAN) . Such networking environments are commonplace in offices, enterprise-wide computer networks, intranets and the Internet.","When used in a LAN networking environment, the personal computer  is connected to the LAN  through a network interface . When used in a WAN networking environment, the personal computer  typically includes a modem  or other means for establishing communications over the WAN , such as the Internet. The modem , which may be internal or external, is connected to the system bus  via the user input interface . In a networked environment, program modules depicted relative to the personal computer , or portions thereof, may be stored in the remote memory storage device. It will be appreciated that the network connections shown are exemplary and other means of establishing a communications link between the computers may be used.",{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 2","b":["200","200","202","204","210","212","218","220","222","226","210","230","210","210","202"]},"In an illustrative embodiment of the present invention, the location providers  may be characterized by communication classifications: single\/multiple, and push\/pull. A single\/multiple classification refers to whether a location provider submits information for one, or multiple location owners. For example, a wireless telephone service will typically provide information for multiple persons, and would therefore be classified as a multiple location provider. On the other hand, a person's PDA will usually provide information for just the person, and would be single location provider. A push\/pull classification, refers to whether a location provider \u201cpushes\u201d location information to the location services server  on its own, i.e., without receiving a query for the information, or whether the location provider must be queried, or \u201cpulled,\u201d for information before it will provide the location information. In addition to the classifications listed, one skilled in the art will recognize that additional or alternative classifications may also be utilized.","In accordance with the present invention, a location provider's classification in one category may influence its classification in another category. As an example, those location providers  classified as multiple location providers are often also classified as push location providers. Wireless telephone services may be an example of a multiple\/push location provider. This is primarily because multiple location providers could be easily overwhelmed with individual requests for location information if they did not control the flow of location information to the location services server  in a rational manner. Thus, according to one embodiment of the present invention, when dealing with multiple\/push location providers, the locations services server  provides the location providers  the names of locations owners, such as location owner , for which the location provider is to \u201cpush\u201d location information to the location services server .","As shown in , according to one aspect of the present invention, the location providers  communicate with the location services server  which may take the form of a personal computer  of the type shown in , through the Internet . One skilled in the art will appreciate that other channels of communication between the location providers  and the location services server  are possible. As an example, the location providers may communicate with the location services server through local area networks, or direct communication such as land-based lines or wireless telephone connections. Thus, while  illustrates that the location providers  communicate with the location services server  through the Internet , it is for illustrative purposes only, and not intended to be a limitation on the present invention.","The location consumers  are those persons, or entities, that query the location services server  for location information concerning a location owner, such as location owner . The location consumers may include a spouse, friends, employers, and merchants. The location consumers  submit requests to the location services server  in order to obtain location information corresponding to a location owner.  illustrates that these location consumers  communicate with a location services server  through the Internet . One skilled in the art will recognize that the location consumers  may communicate with a location services server  through other communication means not illustrated in . For example, the location consumers  may communicate with the location services server  through direct landlines or wireless communication devices. Thus, while  illustrates that the location consumers  communicate with the location services server  through the Internet , is for illustration purposes only, and not intended to limit the manner in which location consumers  may communicate with the location services server .",{"@attributes":{"id":"p-0038","num":"0037"},"figref":["FIG. 3","FIG. 2"],"b":["202","202","304","220","220","304","202","220","304","306"]},"According to one aspect of the present invention, the core services module  acts as the general processing module for the location services server . The core services module  takes care of many duties, such as authenticating and authorizing location consumers, and filtering location information according to privacy information provided by a location owner in response to an information request. In accordance with an aspect of the present invention, privacy information may include: an access control list describing location consumers authorized to view the information; granularity of the location information where some location consumers are given more or less diffuse location information; and restrictions on a location consumer to particular location providers. The privacy information may also include certain time restrictions, described in greater detail in commonly assigned and co-pending U.S. application Ser. No. 10\/184,467, filed Jun. 27, 2002, entitled \u201cSystem and Method For Controlling Access to Location Information,\u201d which is incorporated herein by reference. The privacy information may also include certain geographic based restrictions, as described in commonly assigned and co-pending U.S. application Ser. No. 10\/184,136, filed Jun. 27, 2002, entitled \u201cSystem and Method For Controlling Access to Location Information,\u201d which is incorporated herein by reference. Those skilled in the art will appreciate that privacy information can include additional or alternative information not described here, but which fall within the scope of the present invention.","In one embodiment of the present invention, location owners enter their owner profile information, including the privacy and\/or geographic information described above, through an owner administration module . The owner profile information is stored by the owner administration module  in an owner profile database . The owner profile stored in the owner profile database  allows the core services module  to restrict the location information requested by a location consumer according to the location owner's specifications.","The core services module  may also interact with a subscription module  and a subscription database  when the location request, received at the consumer request module , is a subscription request. In one embodiment of the present invention, a subscription request indicates that the location consumer wishes to be notified of events relating to one or more location owners. In an alternative embodiment, a subscription request may identify only one location owner. The subscription request may identify a number of subscribed events, including, but not limited to, changes in location, entering or leaving a particular geographic region, or the expiration of a time interval. Information necessary for the subscription module  to process the subscription request is stored in the subscription database .","In accordance with an embodiment of the present invention, the subscription module  is responsible for processing and monitoring events related to the subscription requests. When the subscription module  detects a subscribed event relating to a location owner, the subscription module  sends appropriate location information to the core services module . The subscription module  also interacts with a location provider module  (described below) to initiate a subscribed event, or alternatively, to notify location providers of the subscribed event.","The core services module  processes the location information according to the privacy restrictions discussed above, and sends the processed location information to a notification module  to notify the location consumer. In one embodiment, the notification module  transmits the location information to the location consumer. Alternatively, the notification module  may also utilize an external notification server. Thus, the notification module  performs the function of a notification facilitator. Those skilled in the art will recognize that there are many ways that may be utilized to provide notification to a location consumer that fall within the scope of the present invention. Thus, these examples should be construed as exemplary and not limiting.","The location provider module  interacts with one or more location providers . The location provider module  sends requests to the location providers  indicating that a location owner will be monitored, or that location information pertaining to a particular location owner has been requested. According to one embodiment of the present invention, the location provider module  may synchronously request and receive location information from a location provider . According to another embodiment, the location provider module  includes a listening module  that listens for location information automatically generated by one or more push-type location providers , or by location providers that respond asynchronously to an information request. The listening module  receives location information from location providers  and supplies the received location information to the location provider module . In an alternative embodiment (not shown), the listening module  is a peer to the location provider module  and maintains connections to other components of the locations services server . In yet another alternative embodiment (also not shown), the tasks of the listening module  are integrated into the location provider module .","The listening module  may store received location information in a location cache  until it is needed, either by the subscription module , to monitor for a particular event, or the core services module , to respond to a particular location request. Storing location information in the location cache  is especially useful when the intervals between when push-type location providers  transmit subscribed location information do not correspond to the intervals specified in a subscription request. According to the embodiment shown in , both the location provider module  and the core services module  are able to directly access the location cache  in order to obtain location information. The subscription module  has indirect access. Alternatively, the subscription module  may also have directly access location information stored in the location cache .",{"@attributes":{"id":"p-0046","num":"0045"},"figref":["FIG. 3","FIG. 3"]},{"@attributes":{"id":"p-0047","num":"0046"},"figref":["FIG. 4","FIG. 3"],"b":["202","220","202"]},{"@attributes":{"id":"p-0048","num":"0047"},"figref":"FIG. 4","b":["402","202","401","304","202","402"]},"The consumer request module  transfers the location request to the core services module , as indicated by arrow . The core services module  conducts an authentication and an authorization process on the location consumer  to verify that the location consumer is permitted to access information from the location services server . Assuming that the location consumer  is properly authenticated and authorized, the core services module  identifies the location owner in the location request and retrieves owner profile information from the owner profile database , as indicated by arrow . The core services module  then determines, using the owner profile information, whether the location consumer  may access location information for the specified location owner, what, if any, filters to apply, and any restrictions on the location information","The owner profile information also includes location provider information. In one embodiment of the present invention, the location provider information identifies all location providers that generate information about the location of the location owner. Because some location information pertaining to the location owner may already be cached in the location cache , the core services module  queries the location cache, as designated by arrow , for any relevant information. For location information not found in the location cache , the core services module  submits location request information, including any location providers to be queried, to the location provider module , as designated by arrow . The location provider module  issues location information queries to all of the specified location providers, according to specifics previously established between the locations services server  and the location provider, as indicated by arrow . The location provider module  may receive some responses from location providers synchronously, while other will be received asynchronously through the listening module .","After all responses have been received, as designated by arrow , the location provider module  sends the information obtained from the location providers to the core services module , designated by arrow . According to one embodiment of the present invention, in order to avoid a blocking condition if one of the information providers fails to timely respond, the location provider module  may limit the amount of time it waits for responses, and return an incomplete response to the core services module . Once the location information is retrieved from the location providers, the core services module  generates a current location for the location owner according to any privacy restrictions the information owner may have indicated. Finally, the core services module  returns the generated location to the consumer request module , shown by arrow , which in turn returns the location to the location consumer , as designated by arrow .",{"@attributes":{"id":"p-0052","num":"0051"},"figref":["FIG. 5","FIG. 3","FIG. 4"],"b":["202","502","501","304","202","304","306","503","306","308","505"]},"Because the location request is an asynchronous location request, as described above, the location consumer's  process does not immediately require a response. Instead, the location consumer's  process initiates an internal process within the location services server  to complete the asynchronous request, and then returns. This internal process performs functions similar to those described in regard to , that result in location information being sent to the location consumer . In this internal process, the core services module  retrieves any location information already stored in the location cache , as indicated by arrow . For those location providers not having information stored in the location cache , the core services module  sends information identifying the information owner to the location provider module , as shown by arrow . The location provider module  queries the location providers, as shown by arrow . As previously mentioned, the location provider module  may receive both synchronous and asynchronous responses from the location providers, shown by arrow .","The location provider module  transfers the location information from the location providers back to the core services module , as shown by arrow . The core services module  processes the location information obtained from the location providers and generates a single location according to the restrictions and privacy filters identified in the owner profile information already retrieved from the owner profile database . The core services module  transfers the generated location information to the notification module , as shown by arrow . The notification module  then transmits to the generated location to the location consumer , as shown by arrow .",{"@attributes":{"id":"p-0055","num":"0054"},"figref":["FIG. 6","FIG. 3","FIG. 6"],"b":"202"},"Subscriptions may persist, or remain valid, indefinitely, or for a certain amount of time. Alternatively, they may persist for a specified number of occurrences. Further, subscription requests may identify more than one targeted location owner.","As shown in , a location consumer  submits a subscription request to the consumer request module  of the location services server, as shown by arrow . The consumer request module  transfers the request to the core services module , as illustrated by arrow . A subscription request is similar to a asynchronous location request in that the location consumer's process returns and terminates, as described in regard to . However, a separate process within the location services server  is initiated to complete the processing of the subscription request. In this process, the core services module  identifies the targeted location owner of the subscription request and retrieves the owner profile information corresponding to the location owner from the owner profile database , as shown by arrow . Thereafter, the core services module  transfers the subscription request to the subscription module , as illustrated by arrow .","The subscription module  receives the subscription request and saves that request in the subscription database  for future processing, as shown by arrow . The subscription module  initializes any processes that need to be completed in order to fulfill the subscription request. These may include timer-based modules, such that after a certain amount of time the location services server will generate a location for the targeted location owner and return that to the location consumer . These process may also include listening modules that listen for location information related to the location owner. Those skilled in the art will appreciate that there may be many other modules needed to process a subscription event that are not enumerated here.","After having generated the appropriate subscription processes, the subscription module  transfers to the location provider module  identities of the location providers having location information about the targeted location owner, as indicated by arrow . The location provider module  sends notices to the location providers requesting that they respond with location information for the targeted location owner. As illustrated in this example, the location providers may respond both synchronously to the location provider module , as indicated by arrow , or alternatively, they may respond asynchronously via the listening module , as indicated by arrow . If the information is received by the listening module , the listening module stores the received location information in the location cache , as indicated by arrow . The location provider module  first retrieves the location information about the location of the location owner already stored in the location cache , as shown by arrow . The location provider module  returns the location information to the subscription module , as shown by arrow . After receiving the location information, the subscription module  processes the information and returns it to the core services module , as shown by arrow . The core services module  processes the information according to the privacy restrictions identified in the owner profile information retrieved from the owner profile database . The core services module  then generates location information responsive to the subscription request and transfers the location information to the notification module , as shown by arrow . The notification module  forwards the location information to the location consumer , as shown by arrow .",{"@attributes":{"id":"p-0060","num":"0059"},"figref":["FIG. 7","FIG. 2"],"b":["700","202","702","202","704","202","202","202","202","202","700"]},"After having authenticated the location consumer, at block  the location services server  begins to authorize the location consumer. More specifically, the location services server  retrieves owner profile information corresponding to the targeted owner from an owner profile database  (.) Included in the owner profile information is authorization information, which the location services server  uses to determine whether the authenticated location consumer is authorized to access the location owner's location information. For example, the authorization in the owner profile information may categorize location consumers, and permit authorization based on categorizations. These categories may include, but are not limited to, consumer friends and consumer services.","Consumer friends may be defined as individuals the targeted location owner has authorized to access the location information. Consumer friends may include a spouse, family members, friends, employers, and any other identifiable individual the targeted owner authorizes to access the targeted owner's location information. Consumer services may be defined as entities, or individuals, that seek the location owner's location information for commercial purposes. For both exemplary categorizations of location consumers, the location owner may specify particular limitations or restrictions on accessing the targeted location owner's location information. For example, the location owner may decide that consumer services should not have access to personal location information once the location owner has quit working for the day. As a consequence, a location owner may restrict all consumer services access to the location owner's location information to normal business hours. Or, the location owner may also restrict the location owner's employer's access to the targeted owner's location information to normal business hours. Alternatively, the location owner may permit the location owner's spouse to have access at all times of the day. One skilled in the art will appreciate that there are many ways in which the location owner may authorize or restrict authorization to location consumers. Those listed above are for illustration purposes, and not intended to limit the scope of the present invention.","At decision block , the location services server  determines whether, according to authorization restrictions specified by the location owner in the owner profile, the location consumer is authorized to access the requested location information. If the location request is outside of the permission's granted by the location owner, at block  the location services server  returns an error condition to the location consumer. After returning the error condition to the location consumer, the routine terminates at block . Alternatively, if the consumer is properly authorized to access the targeted information, at block , the location services server  obtains the location owner's location information from the information providers.",{"@attributes":{"id":"p-0064","num":"0063"},"figref":"FIG. 8","b":["800","202","802","202","202","308","804"]},"At decision block , a test is conducted to determine whether the location information from the location provider is already in the location cache  (). This typically occurs when the location provider is a push-type provider. If the location is found in the location cache , at block , the location is retrieved from the location cache . At block , the subroutine iterates to the next location provider in the location provider list. At decision block , the subroutine  continues until location information from each remaining location provider in the location provider list has been sent a location request.","If, at decision block , the location is not already in the location cache , a test is conducted to determine whether the current location provider in the location provider list is a synchronous location provider. See decision block . If the location provider is a synchronous location provider, at block , the location information from the synchronous location provider is retrieved. Then, as described above, at block , the subroutine iterates to the next location provider in the location provider list. Again, at decision block , the subroutine  continues until location information from each remaining location provider in the location provider list has been sent a location request.","If, at decision block , the location provider is not a synchronous location provider, at block , a message is sent to the asynchronous location provider requesting location information corresponding to the location owner. Because an asynchronous location provider responds asynchronously, the subroutine  does not wait for an immediate reply. Rather, at block , the subroutine  iterates to the next location provider in the location provider list. The subroutine  continues to cycle through decision block  until each location provider in the location provider list has been sent a location request, or location information from each location provider has been retrieved from the location cache.","After iterating through the location providers in the location provider list, at decision block , a test is made to determine whether any responses from location providers in the location provider list have not yet been received. This typically arises if any asynchronous requests were made. If there are outstanding location provider responses, at delay block , the subroutine delays a certain amount of time in order to give the asynchronous location providers a period of time to reply to the location request. At block , the location cache  is read to determine whether any of the outstanding responses from location providers have been received. Then, looping back to decision block , a test is again made to determine whether there are any remaining outstanding responses. Additionally (not shown), the test in decision block  may also consider the amount of time elapsed since the location provider module sent the request to the location provider. Preferably, the subroutine proceeds to block  after a predetermined amount of time has elapsed in order to prevent a blocking condition. At block , after all of the responses from the location providers have been received, the location information from the location providers is returned. At block  the subroutine terminates.","Returning back to , at block , after having obtained location from all of the location providers for the location owner, the location information is processed according to the authorization constraints specified by the location owner. Preferably, processing the location information generates a single location in response to the location request.",{"@attributes":{"id":"p-0070","num":"0069"},"figref":["FIG. 9","FIG. 9"],"b":["900","202","308","902","904","906","908"]},"Alternatively, at block , the remaining sources of location information are processed to generate a single location for the location consumer in response to the location request. For example, the subroutine  may determine the single location according to rankings of the location providers according to a hierarchy previously established by the location owner. Alternatively, the single location may be generated according to resolution information previously established by the location owner. Resolution information permits the location owner to control how precise the location will be. For example, while the information from the location providers may be able to locate the location owner within a few feet, the location owner may wish that location consumers receive only more general location information in response to a request. Alternatively, depending on privacy constraints, the current location may always be a given location. For example, otherwise authorized consumer services may receive a response of \u201caway\u201d during weekend days. In another alternative, the location owner may label certain geographic locations or regions in order to give greater meaning to the location information. For example, an answer such \u201cBuilding C\u201d may be more meaningful than specific location coordinates. At block , the generated location information is returned and the subroutine terminates at block . While this description identifies certain criteria for determining a current location from multiple location sources, the criteria are for illustration purposes should not be construed as limiting the invention. Those skilled in the art will recognize that other rules and criteria which may be used to determine a current location from multiple location sources.","Returning to , if, at block , an error condition was detected during processing the location sources, an error condition is returned to the location consumer (not shown). After processing the location information to generate a single current location, at block , the generated location is returned to the location consumer. The routine  then terminates at block .",{"@attributes":{"id":"p-0073","num":"0072"},"figref":["FIG. 10","FIG. 7","FIG. 7"],"b":["1000","202","1002","202","1004","202","704","1006","202","308","706"]},"After retrieving the authorization information for the targeted location owner, at block , a test is made to determine whether the location consumer is authorized to make the location request, as described above in regard to  (block ). If the location consumer is not authorized, or does not have the necessary permissions to make the location request, at block , an error condition is returned to the location consumer. Alternatively, if the location consumer is authorized to request the location owner's location information, at block , an asynchronous location retrieval subroutine is initiated. In contrast to the synchronous location request described in , an asynchronous location request initiates a separate asynchronous location retrieval subroutine and then terminates the current routine, thus freeing the location consumer from waiting for a response to the location request. While this method describes certain steps prior to termination, they are to be construed as illustrative and not limiting. Those skilled in the art will recognize that more or fewer steps may be taken prior to terminating the asynchronous location request without departing from the scope of the present invention. At block  the routine terminates.",{"@attributes":{"id":"p-0075","num":"0074"},"figref":["FIG. 1","FIG. 8","FIG. 9"],"b":["1100","1102","1104","1106","202","202","1108"]},{"@attributes":{"id":"p-0076","num":"0075"},"figref":["FIG. 12","FIG. 7","FIG. 7"],"b":["1200","1202","202","1204","1206","308"]},"At decision block , a test is made to determine whether the location consumer is authorized to subscribe to the targeted location owner. If the location consumer is not authorized to subscribe to the location owner according to the authorization information retrieved, at block , an error condition is returned to the location consumer. Alternatively, if the location consumer is authorized to subscribe to the location owner's location information, at block , a subscription process is initiated. At block  the routine terminates. Those skilled in the art will recognize that more or fewer steps may be taken prior to terminating the subscription request without departing from the scope of the invention.",{"@attributes":{"id":"p-0078","num":"0077"},"figref":["FIG. 13","FIG. 12"],"b":["1300","1210","1302","1304"]},"Event triggers are processes that monitor certain information according to a subscribed event, and generate, or \u201ctrigger\u201d, an event message when the subscribed event occurs. For example, a subscribed event may be a timer event such that an event trigger generates an event message after a certain amount of time, identified in the timer event, expires. As another example, a subscribed event may be a geographic area event such that an event trigger generates an event message when the location owner's location information changes with respect to a particular geographic location. The location services server  notifies the location providers of the subscribed event, so that the location providers will able to provide the necessary notification when the subscribed event occurs.","At block , the subscription process waits for an event message, indicating that the subscribed event has occurred. At block , the location services server  obtains location information from the location providers corresponding to the location owner. Location information may be obtained in the manner previously described with regard to . Next, at block , the location services server  processes the location information retrieved from the location providers to generate a single location. Preferably, the retrieved location information is processed in the manner previously described in relation to . At block , the location consumer is notified of the generated location information according to the subscription request, as described previously in relation to  (block ).","After notifying the location consumer of the generated location according to the subscription request, at decision block , a test is made to determine whether to terminate the subscription process. This determination may be based on termination information provided the in the subscription request. Alternatively, the determination may be based on internal predetermined values. The termination information may include, but is not limited to, expiration dates, and frequency of subscribed event processing. Alternatively, the location consumer may issue a request to terminate the subscription request. Or, the location owner may cause the subscription request to be terminated. Those skilled in the art will appreciate that there are other mechanisms may be used to terminate the subscription request which, although not described, fall within the scope of the invention. At block , if the subscription process is not to be terminated, the subscription process waits for another event message. Alternatively, if the subscription process is to be terminated, at block , the subscription process clears any remaining event triggers. Termination may include notifying the location providers of the termination of the subscription request. At block  the subscription process terminates.","While various embodiments of the invention have been illustrated and described, it will be appreciated that various changes can be made therein without departing from the spirit and scope of the invention as defined by the appended claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The foregoing aspects and many of the attendant advantages of this invention will become more readily appreciated as the same become better understood by reference to the following detailed description, when taken in conjunction with the accompanying drawings, wherein:",{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":["FIG. 4","FIG. 3"]},{"@attributes":{"id":"p-0019","num":"0018"},"figref":["FIG. 5","FIG. 3"]},{"@attributes":{"id":"p-0020","num":"0019"},"figref":["FIG. 6","FIG. 3"]},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":["FIG. 8","FIG. 7"]},{"@attributes":{"id":"p-0023","num":"0022"},"figref":["FIG. 9","FIG. 7"]},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":["FIG. 11","FIG. 10"]},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":["FIG. 13","FIG. 12"]}]},"DETDESC":[{},{}]}
