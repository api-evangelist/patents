---
title: System and method for inspection using off-angle lighting
abstract: A system for inspecting components is provided. The system includes an axial lighting system that illuminates the component with axial lighting to allow one or more features of the component to be located, such as by causing protruding features to be brighter than the background and recessed features to be darker than the background. An off-axis lighting system illuminates the component with off-axis lighting in the absence of the axial lighting to allow the component to be inspected to locate one or more features, such as a bump contact.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07024031&OS=07024031&RS=07024031
owner: August Technology Corp.
number: 07024031
owner_city: Bloomington
owner_country: US
publication_date: 20011023
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION"],"p":["The present invention pertains to the field of component inspection systems. More specifically, the invention relates to a system and method for component inspection that uses off-angle lighting to illuminate features of the component that are of greatest interest.","Inspections systems that use image data are known in the art. Such inspection systems typically use image data from a component that has been illuminated by either a coherent or noncoherent source, and then perform image analysis processes on the image data to determine whether the component conforms to predetermined criteria. For example, image data analysis is used to determine whether components have been properly marked, have features in the correct location, or have other specified criteria. In this regard, a \u201cfeature\u201d can include a desired feature, such as a contact, or an undesired feature, such as damage on the contact that extends from or into the surface of the contact.","One problem with such component inspection systems is that three-dimensional aspects of the component must be inferred from the image data. Thus, in many cases it is difficult to determine whether an indication in the image data is from a feature that extends above or below a plane of reference. Likewise, since such image data analysis uses relative changes in brightness to infer the location of features and to determine whether such features fall within predetermined allowable criteria, it often occurs that the features are not distinguishable under a single lighting source. While it is known to use multiple lighting sources, such as lighting sources from two different angles, such lighting sources may still result in image data that does not clearly identify features of the component that do not meet specified criteria, such as to allow the size of features to be accurately determined.","In accordance with the present invention, a system and method for component inspection are presented that overcome known problems with component inspection.","In particular, a system and method for component inspection are provided that illuminate areas of interest lying above and below a planar surface of a feature by using off-axis lighting.","In accordance with an exemplary embodiment of the present invention, a system for inspecting components is provided. The system includes an axial lighting system that illuminates the component with axial lighting to allow one or more features of the component to be located, such as by causing particles or scratches to be darker than the background. An off-axis lighting system illuminates the component with off-axis lighting in the absence of the axial lighting to allow the component to be inspected to locate one or more features, such as by causing protruding features and damage to bump contacts to be brighter than the background.","The present invention provides many important technical advantages. One important technical advantage of the present invention is a system and method for inspecting components that uses off-angle lighting to identify damaged areas in a manner that allows image data analysis to be performed to identify protrusions and recesses in surfaces.","The present invention provides for accurate estimates of the size of such protrusions and recesses to be made from a single set of image data.","Those skilled in the art will further appreciate the advantages and superior features of the invention together with other important aspects thereof on reading the detailed description that follows in conjunction with the drawings.","In the description that follows, like parts are marked throughout the specification and drawings with the same reference numerals, respectively. The drawing figures are not necessarily to scale, and certain components can be shown in generalized or schematic form and identified by commercial designations in the interest of clarity and conciseness.",{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 1","b":["100","100"]},"System  includes substrate , which can be a semiconductor die or other suitable materials on which one or more features have been placed, machined, deposited, or otherwise formed. Substrate  includes feature . In one exemplary embodiment, feature  can be a gold bump that is used to form a high quality electrical contact. In this exemplary embodiment, the size of feature  is significantly smaller than the size of other similar bumped contacts that are not formed from gold. For example, dimension D showing the length of feature  can be on the order of 50 to 90 micrometers, and H, representing the height of the bump, can be on the order of 20 micrometers. Such dimensions are significantly smaller than solder bumps that are typically used to form electrical contacts with semiconductor circuits.","System  further includes off-axis lighting source , which can be a suitable off-axis lighting source that provides illumination of the entire surface of feature  and substrate  that is being inspected. In one exemplary embodiment, off-axis lighting source  can be a circular xenon flash lamp having a diameter D of approximately 1.5 inches, a thickness T of approximately 5 mm, and a height above substrate  H of approximately 2 mm. Xenon lighting may be required when zoom optics are used to increase the depth of field, as compared to microscope optics which do not require as much light intensity but provide less depth of field. Thus, where microscope optics provide sufficient depth of field, then an incandescent light source or other suitable light source can be used. (It should be noted that the dimensions in  are not shown to scale.)","Off-axis lighting source  illuminates feature  and substrate  in a manner that causes protrusions or recesses to be illuminated differently, such that protrusions and recesses can be distinguished from each other, and can be accurately analyzed to determine the size of the protrusion or recess. For example, one advantage of off-axis lighting source  is that the protrusion shown on feature  will appear brighter than the planar surface of feature  or the planar surface of substrate . Likewise, if feature  included a recess, then the recess would appear darker than the planar service of feature  or substrate . However, it may be difficult to distinguish between the planar surface of feature  and the planar surface of substrate  using off-axis lighting source . Whether or not it will be difficult to distinguish between the planar surface of feature  and the planar surface of substrate  will depend largely on the specific dimensions of feature , the materials from which feature  and substrate  are made from, and other factors. However, in some cases, while illumination with off-axis lighting source  can identify protrusions and recesses in planar surfaces, it may not be sufficient to provide useful distinction between planar surfaces of feature  and substrate .","Axial lighting source  provides conventional axial lighting of feature  and substrate . This axial lighting allows the surface of feature  and substrate  to be distinguished more readily, but may not provide sufficient indication of the existence of a protrusion or recess in the planar surface of feature . Thus, axial lighting source  can be used to locate the position of feature  on substrate , but might not be as useful in determining the existence of protrusions or recesses in the surface of feature .","Image data system  can be implemented in hardware, software, or a suitable combination of hardware and software, and can be one or more software systems operating on a general purpose processing platform. As used herein, a software system can include one or more objects, agents, lines of code, threads, subroutines, databases, application programming interfaces (APIs), web browser plug-ins, or other suitable data structures, source code (human readable), object code (machine readable), and can include two or more different lines of code or suitable data structures operating in two or more separate software applications, on two or more different processing platforms, or in other suitable architectures. In one exemplary embodiment, a software system can include one or more lines of code or other suitable software structures operating in a general purpose software application, such as an operating system, and one or more lines of code or other suitable software structures operating in a specific purpose software application. In another exemplary embodiment, a software system can be implemented as a distributed software system, on a different processing platform than that shown in the exemplary embodiments herein, or in other suitable manners.","Image data system  is coupled to axial lighting source  and off-axis lighting source . As used herein, the term \u201ccouple,\u201d and its cognate terms such as \u201ccouples\u201d and \u201ccoupled,\u201d can include a physical connection (such as through a copper conductor), a virtual connection (such as through randomly assigned memory locations of a data memory device), a logical connection (such as through one or more logical devices of a semiconducting circuit), other suitable connections, or a suitable combination of such connections. In one exemplary embodiment, systems and components are coupled to other systems and components through intervening systems and components, such as through an operating system of a general purpose server platform.","Image data system  generates image data of feature  and substrate . In one exemplary embodiment, image data system  can control axial lighting source  and off-axis lighting source  so that first image data is generated using axial lighting source , such as to locate features  on substrate . Then, second image data is generated using only off-axis lighting source , such as to analyze the surface of feature  to determine whether protrusions or recesses are present. Image data system  generates image data, such as an N\u00d7M array of pixels (where N and M are integers) having brightness values ranging from 0 (representing the darkest or least bright pixel value) to 255 (representing the brightest or most bright pixel value), or other suitable ranges of brightness values.","Image analysis system  can be implemented in hardware, software, or a suitable combination of hardware and software, and can be one or more software systems operating on a general purpose processor platform. Image analysis system  is coupled to image data system , and obtains the image data generated by image data system , both for direct and off-axis illumination. Image analysis system  then analyzes the image data to identify the location of feature  and other similar features, and to further analyze feature  and other features to determine whether protrusions or recesses exist in the surface of such features that renders them unusable. In one exemplary embodiment, image analysis system  can use pixel image processing to identify the location of feature  and other features, and whether such features are damaged. This pixel image processing can include determining whether adjacent pixels have a gradient that exceeds known allowable gradient differentials, whether a histogram of pixels of the image data indicate the existence of damage, such as protrusions or recesses, or other suitable processes. Image analysis system  analyzes image data from off-axis lighting source , so as to provide identification of damage that may otherwise be difficult to identify.","In operation, system  is used to inspect components to determine whether the components meet predetermined allowable criteria. In one exemplary embodiment, system  can be used to inspect gold bumps or other small features that have heretofore been difficult or impossible to inspect using image data analysis. System  allows the entire surface of a component to be illuminated in a manner that allows bulk processing of the image data of the component to be performed, such as histogram processing, gradient processing, or other suitable bulk imaging techniques. In this manner, system  reduces the need for performing laser tracking or point analysis of images, such as where the laser must be traced or placed at predetermined points that cover all features of interest of the component.","System  further improves on inspection techniques by providing two lighting sources for two different component inspection functions. System  uses a first lighting source to align the component for inspection, and a second lighting source to inspect the component to identify damage to the component. In this manner, system  uses two or more lightning sources in a manner where each lighting source performs a different function.",{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 2","b":["200","200","200","200","106","108","200"]},"Likewise, a gradient selection method can also be used to identify features and the edge of such features. For example, the CVLMIL software available from Semiconductor Technologies and Instruments of Plano, Tex. includes a gradient analysis tool that analyzes image data to locate edges, such as by detecting gradient changes in pixels of image data. In this exemplary embodiment, if the area within a feature is brighter than the surrounding area, then the edge can be located by analyzing a predetermined R\u00d7S block of pixels (where R and S are integers) along either the R or S axis until a gradient is detected between pixel values within the R\u00d7S block that is greater than a predetermined allowable gradient. If the pixels outside of the feature are dark and the pixels within the feature are light, then as the R\u00d7S block of pixels moves onto the feature, the gradient of the pixels within the block will go from a predetermined allowable gradient to a gradient that exceeds the predetermined allowable amount and back to the predetermined allowable gradient. Thus, the approximate location of the edge can be inferred from the weighted midpoint of the transition between the flat gradient in the dark area and the flat gradient in the light area. Other suitable procedures can be used to locate the edge of a bump or feature.",{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 3","b":["300","300","3","106","104","300","106"]},"Histogram  is used to locate areas requiring additional inspection by associating the pixels in the above surface and below surface relative maxima with their locations in the N\u00d7M array of pixel data. These pixels can then be further analyzed to determine whether they are indicative of damage, scratches, dust spots, or for other suitable purposes.",{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 4","b":["400","400","404","406","408","410","412"]},"Feature locator system  identifies the location of one or more features of a component, such as gold bump contacts. In one exemplary embodiment, feature locator system  identifies features when axial lighting is used, and then generates a suitable edge boundary indicator for use in analyzing the image data when off-axis lighting is used. Likewise, feature locator system  can also be used to locate the edges of features using only off-axis lighting when the design and material composition of the component allow such functionality. Feature locator system  can also perform histogram analysis of data to identify the location of one or more features, such as by plotting the histogram of pixel brightness values as a function of the number of pixels to locate features, and then performing additional image analysis to verify that the feature indication is actually a feature, such as by using gradient analysis to identify the edges of the feature.","Defect locator system  is used to identify one or more defects in image data generated by off-axis lighting. In one exemplary embodiment, defect locator system  receives image data after analysis by feature locator system , and performs additional histogram data analysis on one or more features that have been identified. In this exemplary embodiment, features of a component such as gold bumps can be first identified using histogram data, and then a second set of histogram data can be generated for individual features, so as to identify damage to those features, where each damage location itself is a \u201cfeature\u201d for the purpose of image data analysis. Defect locator system  can include predetermined tolerances for histogram data that have been empirically matched with protrusion damage, such as nodules, recess damage such as scratches or mouse bites, or other damage.","Protrusion analysis system  receives image data and generates protrusion data. In one exemplary embodiment, the image data can include predetermined areas that have a brightness value that exceeds the expected brightness value of the surface of the feature, such that protrusion analysis system  can then analyze the feature to determine whether it is of a size that exceeds predetermined allowable protrusions. In this exemplary embodiment, a morphologic opening algorithm can be used to remove a predetermined number of perimeters from a suspected protrusion feature, such that if all of the pixels defining the protrusion have been removed prior to completion of the morphological opening algorithm, then the size of the corresponding anomaly can be determined to be below a specified allowable tolerance. Other suitable processes can be used.","Recess analysis system  is used to analyze image data generated by off-axis lighting to identify one or more recess features, such as scratches, mouse bites, probe marks or other such recess damage. In one exemplary embodiment, recess analysis system  identifies areas where the pixel brightness is lower than a predetermined tolerance, such as by using a histogram analysis. These areas are then analyzed to further determine the size and gradient of the area, so as to determine whether it is representative of damage. For example, the gradient can be determined by analyzing the change in brightness over the length of the suspected damaged area, such as to be compared to empirically determined allowable damage (e.g. allowable lengths of scratches, allowable width of scratches), or other suitable data. Likewise, the total approximated area encompassed by a scratch or other recess feature can be determined. Recess analysis system  can then compare the recess analysis data to predetermined allowable sizes, and can generate recess data indicating the existence of a recess that is unacceptable.","In one exemplary embodiment, a scratch or other recess on a feature can be identified by performing a row and column projection, such as by summing all pixels in a row of each column of an S\u00d7T array of pixels (where S and T are integers), and taking the average of those pixel values. Likewise, a similar procedure can be used for all pixels in a column of each row of the S\u00d7T array. For example, in the 4\u00d76 array of pixel values represented as follows:",{"@attributes":{"id":"p-0043","num":"0042"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"7"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"42pt","align":"char"}},{"@attributes":{"colname":"3","colwidth":"21pt","align":"char"}},{"@attributes":{"colname":"4","colwidth":"49pt","align":"char"}},{"@attributes":{"colname":"5","colwidth":"21pt","align":"char"}},{"@attributes":{"colname":"6","colwidth":"49pt","align":"center"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"6","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"100","100","100","100","100","100"]},{"entry":[{},"100","80","60","80","100","100"]},{"entry":[{},"100","20","0","20","60","100"]},{"entry":[{},"100","100","100","100","100","100"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"6","align":"center","rowsep":"1"}}]}]}}}},"br":{},"ul":{"@attributes":{"id":"ul0001","list-style":"none"},"li":{"@attributes":{"id":"ul0001-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0002","list-style":"none"},"li":["100 65 75 90 100 and","100","86.7","50","100"]}}}},"It may be empirically determined that row or column projections resulting in gradients that exceed a predetermined number of adjacent pixels (such as four or more) or that have a predetermined maximum or percentage change in value (such as more than 50 relative brightness points on a 256 point scale) can result in unacceptable levels of misoperation, such that the features on which such damage is present should be rejected. Thus, in this exemplary embodiment, the damage to the feature would be held to be unacceptable based on the failure of either of two criteria. Likewise, if both criteria included boundaries of allowable values for row and column projections (such as reject for 6 or more pixels, borderline 5 to 4 pixels, and accept 3 or less pixels), then the feature could be classified as unacceptable based upon the fact that both criteria are borderline, based on the area of the damage, or based on other or additional damage indicators. The values given here are by way of example only, and other suitable types of processes can be used also or alternatively to those described herein.","Missing feature system  can receive image data and determine whether one or more features are missing from the image data. In one exemplary embodiment, after a feature template has been generated either by operator selection or image analysis with feature locator system , a template can be generated that outlines the expected location of one or more features. Missing feature system  can analyze image data, such as pixels of brightness data, of the expected feature locations, and can generate missing feature data if the number of pixels having a certain brightness value or greater in an area where a feature is expected is significantly less than the expected number. In this manner, missing feature system  can generate missing feature data that indicates an unacceptable device or other suitable data.","In operation, system  receives image data generated with off-axis lighting and analyzes the image data to determine whether a protrusion, recess or other similar damage exists in the image data. System  thus allows image data features to be analyzed to determine whether the features meet predetermined criteria.",{"@attributes":{"id":"p-0047","num":"0051"},"figref":"FIG. 5","b":["500","500","502","504"]},"AT , feature window data is generated. In one exemplary embodiment, the feature window data can include a perimeter line generated based on user selected criteria, pixel gradient data, or other suitable data that is used to identify the outline of a feature and to generate a window. The window can also be enlarged by a predetermined amount. The method then proceeds to .","At , off-axis image data is generated. The off-axis image data is generated by illuminating the component with off-axis lighting, and generating image data when the component is so illuminated. For example, the component can be illuminated using a circular xenon flash lamp that is placed parallel and adjacent to the surface of the component. Likewise, other suitable processes can be used to generate the off-axis image data by using lighting that uniformly illuminates the surface of the feature so as to cause recessed areas to be darker than planar surfaces and to cause protrusions to be brighter than planar surfaces. The method then proceeds to .","At , the edges of the feature are located. In one exemplary embodiment, the edges can be located using a gradient method or process, such as by using the Matrox Imaging Library \u201cBlob Analysis\u201d tool or other suitable image analysis procedures. The method then proceeds to .","At , it is determined whether the feature is acceptable. For example, if it is determined that the feature is not acceptable, such as if the feature has unacceptable dimensions, the feature is missing, or other unacceptable conditions exist, the method proceeds to  where the feature is rejected. An error message can be also or alternatively be generated, log data can be generated indicating that the feature is unacceptable, or other suitable rejection procedures can be used. The method then proceeds to . At , the next feature or die is analyzed, such as by initiating method  again.","If it is determined at  that the edges of the feature are acceptable, the method proceeds to , where a histogram analysis is performed. In one exemplary embodiment, the histogram analysis can be performed for each feature, can be performed on all features of the component, or other suitable histogram analyses can be performed. The method then proceeds to .","At  it is determined whether defects or \u201cdamage features\u201d have been located within the boundary that defines the feature. In one exemplary embodiment, one or more tolerance levels can be set, either through analysis, empirically or otherwise, that identify acceptable levels for histogram brightness distribution data. If the pixel brightness data of the histogram exceeds these predetermined levels, it can be determined that a defect is present or may be present. If a defect indication has not been located, the method proceeds to  and the next feature or die is analyzed, such as by beginning method  over from the beginning. Otherwise, the method proceeds to .","At , the defect indication is analyzed. For example, the defect can include an area where the pixels are brighter than allowable, indicating a protrusion or other similar above surface defect, an area where the pixels are darker than expected, indicating a recess or area where other subsurface damage has occurred, or other similar defects. The defects can be analyzed to determine the size, the area, the brightness gradients, or other suitable dimensions of the defects. The method then proceeds to .","At  it is determined whether the defects are acceptable. In one exemplary embodiment, the results from the defect indication analysis are compared to acceptable boundaries or limits for such dimensions. If it is determined that the defects are acceptable, the method proceeds to  and the next feature or die is analyzed, such as by initiating method  for that feature or die. Otherwise, the method proceeds to  and the feature is rejected, such as by generating feature rejection data, marking the feature as rejected, or performing other suitable processes. The method then proceeds to  and the next feature or die is analyzed.","In operation, method  is used to analyze feature data generated from off-axis lighting. Method  allows protrusions and recesses in feature surfaces to be identified by analysis of off-axis lighting data. Likewise, method  allows axial lighting to be used to identify the feature, generate feature edge windows, or for other suitable purposes.",{"@attributes":{"id":"p-0057","num":"0061"},"figref":"FIG. 6","b":["600","600"]},"Method  begins at  where histogram data is generated using pixels and a feature window. The feature window can be generated by circumscribing the feature with a boundary, such that all pixels within the boundary are analyzed. The method then proceeds to .","At  it is determined whether the number of pixels having a brightness that exceeds a first tolerance level exists. For example, the number of allowable pixels having a brightness that exceeds the first tolerance level can be empirically determined, the slope of the histogram data can be analyzed to determine whether a maximum occurs having a peak greater than a predetermined tolerance, or other suitable procedures can be used. If it is determined at  that the number of pixels is greater than the first tolerance level, the method proceeds to , where an analysis is performed for damage above the surface of the feature. For example, the pixels having brightness values that exceed the predetermined tolerance can be analyzed to determine whether they form an area having a size that is greater than a predetermined allowable tolerance. Other suitable procedures can be used. The method then proceeds to . Likewise, if it is determined at  that the number of pixels exceeding the tolerance level is not greater than a predetermined allowable number, the method proceeds directly to .","At  it is determined whether a predetermined number of pixels having a brightness value between the first tolerance level and a second tolerance level exists. If the number of pixels exceeding the second tolerance level but less than the first tolerance level is less than a predetermined number, the method proceeds to  where a missing feature error message is generated. In one exemplary embodiment, if the feature window is generated automatically, such as by using a reference feature to locate a feature window template on a component, it is possible that a missing feature would be included in the window, with the result that the window would contain a large number of pixels not having a brightness value that is expected. In this exemplary embodiment, the missing feature error message can be generated, the feature can be flagged as being missing, an operator notification can be generated or other suitable procedures can be implemented. The method then proceeds to . Likewise, if it is determined at  that the number of pixels having brightness values between the first and second tolerance levels exists, then the method proceeds to  where the feature is indicated to be acceptable, meaning that it is in the correct location and is not missing. The method then proceeds to .","At  it is determined whether a number of pixels is less than a third tolerance level, which can be equal to or less than the second tolerance level. If the number of pixels is less than this level, the method proceeds to  where an analysis is performed to identify below surface damage. In one exemplary embodiment, the coordinates of the pixels that fall below the third tolerance level can be identified and the size, gradient and other characteristics of the areas encompassed by such pixels can be analyzed to determine whether the characteristics indicate that damage exists. Otherwise, if it is determined at  that the number of pixels having brightness values less than the third tolerance level does not exceed predetermined levels, then the method proceeds to  and terminates.","In operation, method  allows off-axis lighting to be used to generate image data that is then analyzed to determine whether a feature has above surface damage, below surface damage, whether the feature is missing, or whether other damage conditions exist. Method  thus allows features to be analyzed to reliably and quickly locate damage that may otherwise be difficult to locate when using only axial lighting or other existing image analysis and inspection techniques.",{"@attributes":{"id":"p-0063","num":"0067"},"figref":"FIG. 7","b":["700","700","702","704","706"]},"At , the pixel in the test area is blacked out. For example, the pixel brightness data can be set to 0, a set of pixels in the test area can be identified and data corresponding to the selected pixel can be stored to indicate that the pixel has been checked, or other suitable procedures can be used. The method then proceeds to .","At  it is determined whether a predetermined integer or other suitable number of times of dilation around the test area have been performed. For example, if the test area is a circular region having a diameter of 10 pixels, then performing an erosion around the test area one time would result in an area having a pixel diameter of 8 pixels, performing a second dilation two times around would result in an area having a diameter of 6 pixels, and so forth. The number of times around the test area can be determined by tracking the progress of erosion relative to the first pixel, or by other suitable methods. If it is determined that the pixels have been blacked out N times around, the method proceeds to . Otherwise, the method proceeds to  where an adjacent pixel is selected in the test area. In one exemplary embodiment, each of the pixels adjacent to the pixel just blacked out can be checked to determine which pixel is brightest, which pixel is on an edge of the remaining test area pixels, whether any of the pixels have a brightness value that exceeds a predetermined brightness value, or other suitable procedures can be used. The method then proceeds to .","At  is determined whether an adjacent pixel was located. If an adjacent pixel is not located, the method proceeds to  and the indication is cleared as being damage having a greater than an allowable size. Otherwise, the method returns to .","After a predetermined number of erosions have been performed on the test area, the method proceeds to  where it is determined whether there are any pixels left. For example, if the dilations have resulted in the elimination of all pixels in the test area, the method proceeds to  where the indication of a potential anomaly is cleared. Otherwise the method proceeds to  where an indication is generated of the presence of a potential anomaly, nodule, or other protrusion type of damage.","In operation, method  performs a morphologic opening analysis to determine the size of a protrusion, such as by using pixel brightness generated from off-axis lighting. Method  thus allows a nodule or other similar protrusions to be identified. The number of times around at step  can be set to equal a customer specified allowable size for a nodule, can be set based on analytical or empirical data, or other suitable data.",{"@attributes":{"id":"p-0069","num":"0073"},"figref":"FIG. 8","b":["800","800","802","804"]},"At , a row projection of pixel brightness values is obtained. In one exemplary embodiment, the pixel brightness values for all pixels in the columns of each row entry can be averaged, such as to perform a row projection of the pixel brightness values. The method then proceeds to .","At , a column projection of pixel brightness values is obtained. In one exemplary embodiment, the pixel brightness values of each pixel in a row extending from a column can be averaged for that column, such as to create a column projection for pixel brightness values. The method then proceeds to .","At , it is determined whether the size of the recess damage area is greater than a predetermined tolerance value. In one exemplary embodiment, size can be estimated by using the number of pixels over which the row projection and column projection extend, to estimate a size of the recess damage. If the size is greater than the tolerance, the method proceeds to  and the indication is rejected as having a size greater than tolerance. Otherwise, the method proceeds to .","At  it is determined whether the row gradient exceeds an allowable tolerance. The allowable tolerance can be generated empirically or through analysis, in accordance with customer specifications, or in other suitable manners. For example, the allowable tolerance can include a maximum brightness differential between the brightest and the darkest pixels, a maximum allowable differential between any two adjacent pixels, or other suitable gradient tolerances. If the row gradient exceeds the tolerance, the method proceeds to  and the indication is rejected. Otherwise, the method then proceeds to .","At  it is determined whether the column gradient exceeds an allowable tolerance. The allowable tolerance can be generated empirically or through analysis, in accordance with customer specifications, or in other suitable manners. If it is determined at  that the column gradient exceeds the tolerance, the method proceeds to  and the indication is rejected. Otherwise, the method proceeds to .","At  it is determined whether the combination of size, row gradient, and column gradient is acceptable. In one exemplary embodiment, the customer can specify maximum values for each measurement, maximum values for the combination of values can be determined empirically, or other suitable processes can be used. Further, borderline values can be identified where the combination of values is analyzed when one or more values are borderline. If it is determined at  that the combination is acceptable, the method proceeds to  and the indication is rejected. Otherwise, the method proceeds to  and the indication is cleared.","In operation, method  allows subsurface damage to be analyzed to determine whether it is allowable. In one exemplary embodiment, method  uses off-axis lighting to generate pixel data which is analyzed to determine whether recesses, scratches, mouse bites, probe marks, or other damage has resulted in an unallowable feature.",{"@attributes":{"id":"p-0077","num":"0081"},"figref":"FIG. 9","b":["900","900"]},"System  includes dual lighting control system , band analysis system , edge location system  and feature analysis system , each of which can be implemented in hardware, software, or a suitable combination of hardware and software, and which can be one or more software systems operating on a general purpose processing platform. Dual lighting control system  controls two or more light sources, such as an axial light source and an off-axis light source, so as to illuminate a component with the two or more light sources. In one exemplary embodiment, the off-axis light source can be a ring of light-emitting diodes or other suitable light sources. In another exemplary embodiment, dual lighting control system  can control two or more light sources in a predetermined sequence, such as to generate two or more different sets of image data when the component is illuminated with two or more different sets of light sources.","Band analysis system  receives edge data and determines whether a band is present in a set of image data. In one exemplary embodiment, band analysis system  can receive edge coordinate data that identifies two or more edges between dark areas and light areas in a set of image data, and can generate band data that identifies whether the edges define a circular band, such as a band created by a sunken ball contact when it is illuminated with an axial light source and an off-axis light source at the same time, or other suitable bands. Such bands can be indicative of an anomaly, such as a sunken ball contact, that may render the component inoperative. Band analysis system  can further receive edge data from two or more different locations and other feature data, such as component center data, and can determine whether a band exists based on the edge data and the other feature data.","Edge location system  analyzes image data and generates edge data. In one exemplary embodiment, edge location system  searches for edges by analyzing brightness data differences in adjacent pixels, where an edge is defined by a predetermined brightness data difference, a set of predetermined brightness data differences (such as in two or more sets of adjacent pixels), or other suitable data. In another exemplary embodiment, edge location system  can analyze pixel brightness data in predetermined locations, relative to predetermined component features, using histogram analysis, or using other suitable processes.","Feature analysis system  receives image data, band data, edge data, or other suitable data and determines whether a feature is present, such as a sunken ball contact. In one exemplary embodiment, feature analysis system  can determine whether a band width exceeds a predetermined allowable band width, whether a band extends for a predetermined length or periphery, or other band-related feature data, such as to indicate whether a sunken ball contact or other anomaly is present. Likewise, missing features, protrusions, scratches, or other damage can be detected by feature analysis system , and notification data can be generated to alert an operator, remove the component from production, or perform other suitable procedures. Feature analysis system  generates feature or component acceptance data, feature or component rejection data, operator data alerting the operator of the need for operator inspection, or other suitable data.","In operation, system  allows a component to be inspected using two or more light sources that illuminate the component simultaneously, such as an axial light source and an off-axis light source. System  can be used to locate sunken ball contacts or other anomalies by locating image data that indicates the presence of such anomalies, such as a circular ring that appears around a sunken ball contact when it is illuminated by an axial light source and an off-axis light source.",{"@attributes":{"id":"p-0083","num":"0087"},"figref":"FIG. 10","b":["1000","1000","1002","1004"]},"At , image data of the component is generated, such as by generating an N\u00d7M array of pixels of brightness data. The method then proceeds to , where it is determined whether a band is present. In one exemplary embodiment, the band can be detected by locating two or more edges in the N\u00d7M array of pixel data, such as edges at two or more points, a continuous edge that extends in a line or circle, or other suitable data. If no band is present, the method proceeds to . Otherwise, the method proceeds to .","At , one or more band width metrics are determined. In one exemplary embodiment, the band width metric can include the thickness of the band, the circumferential extent of the band, the location of the band relative to other features of the component, or other suitable metrics. The method then proceeds to .","At , it is determined whether one or more other anomalies are present, such as by analyzing histogram data, binarizing image data, mapping image data, or other suitable processes. If it is determined that no other anomalies are present, the method proceeds to . Otherwise, the method proceeds to  where other metric data is determined, such as the size of an anomaly, the extent of a histogram data variation, or other suitable data. The method then proceeds to .","At , it is determined whether any metrics exceed predetermined allowable limits, such as whether the thickness or circumferential extent of a ring exceeds a predetermined allowable thickness or circumferential extent. If it is determined that no metric exceeds a limit, the method proceeds to , where the component is accepted or the next feature is analyzed. Otherwise, the method proceeds to  where the component is rejected or the next feature is analyzed. A feature database can likewise be updated to reflect the rejection of the feature, such as where a predetermined number of features can be rejected without rejecting the component.","In operation, method  allows a component to be inspected using component illumination from two or more light sources, such as an axial light source and an off-axis light source. Method  analyzes image data to locate one or more bands or other anomalies, and then compares the located bands or anomalies to one or more metrics (such as empirically or analytically determined metrics) to determine whether the bands or anomalies exceed the metric.","Although exemplary embodiments of a system and method of the present invention been described in detail herein, those skilled in the art will also recognize that various substitutions and modifications can be made to the systems and methods without departing from the scope and spirit of the appended claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE SEVERAL VIEWS OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 10"}]},"DETDESC":[{},{}]}
