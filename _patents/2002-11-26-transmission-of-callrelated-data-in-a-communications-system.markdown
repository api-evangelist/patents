---
title: Transmission of call-related data in a communications system
abstract: A method for transmitting data in a CTI communications system in the 3party configuration, employs a communications system having a plurality of terminals which, for a communication connection between two or more terminals, generates a call which comprises prescribed information about the connection, a TSP and a plurality of clients which are connected to the TSP and communicate with the TSP via a CTI interface. For the purpose of transmitting files or logging data between the clients, the invention proposes transmitting the data for transmission from one of the clients to the TSP via the CTI interface and writing them to a prescribed memory area for the call. These data can be read by the other clients associated with the call, likewise via the CTI interface.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07624191&OS=07624191&RS=07624191
owner: Siemens Aktiengesellschaft
number: 07624191
owner_city: Munich
owner_country: DE
publication_date: 20021126
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["CROSS REFERENCE TO RELATED APPLICATIONS","BACKGROUND OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT"],"p":["This application is based on and hereby claims priority to German Application No. 10158748.1 filed on Nov. 30, 2001, the contents of which are hereby incorporated by reference.","The invention relates particularly to a method for transmitting data in a CTI communications system in the 3party configuration.","CTI communications systems (CTI: Computer Telephony Integration) allow data interchange between telecommunications hardware, such as a telephone system, and a computer or a computer-protected software application. In terms of the arrangement of the telecommunications system and computer system, essentially two configurations are distinguished, the \u201c1party configuration\u201d and the \u201c3party configuration\u201d.","In the 1party configuration, a telephone is respectively connected directly to a computer. By contrast, in a CTI communications system in the 3party configuration, a network of telecommunications equipment communicates with a computer network via a server.","A typical example of a CTI communications system in the 3party configuration is shown in .",{"@attributes":{"id":"p-0007","num":"0006"},"figref":"FIG. 1","b":["1","2","2","1"],"i":["a","c "]},"The communications system  is connected by a data line  to a server , which is used as a TSP (Telephony Service Provider) and to which a plurality of client computers -are in turn connected via an LAN (Local Area Network).",{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 2"},"As can be seen, the TSP  communicates with the communications system via a \u201cCSTA interface\u201d  (CSTA: Computer Supported Telephony Application interface) which defines the signal protocol between the server  and the telecommunications network . By contrast, the clients -or the software applications ,running thereon for managing telecommunications-related data, which are also referred to as CTI or TAPI applications (TAPI: Telephony Application Programming Interface), communicate with the TSP  via a CTI interface . In the present example, the CTI interface is in the form of a TAPI interface.","With this system, a user of one of the clients -can obtain particular prescribed information about a connection which is active in the communications system . This information can be, by way of example, the length of a telephone conversation conducted between two terminals ,, the subscribers involved in the conversation, charges etc., which are displayed to the user, for example in the software application running on his client -","All the information and characteristic data relating to a communication connection are summarized in a \u201ccall\u201d. This is an abstract unit which can be regarded as a data packet and has the prescribed contents, such as an identification number, the terminals -involved in the connection, and other information relating to the connection.","Calls are always generated by the communications system  when a connection (call or conversation) has been set up between at least two terminals -","A call model used in CTI communications systems is shown in  for the purpose of illustration. Accordingly, a call  storing data relating to the connection is shown between the terminals -","This call  is transmitted via a data line  to the server , from where it is distributed further to prescribed clients -. The information contained in the call is thus available on all the clients -associated with the call.","Normally, a terminal -has only one respective client -associated with it, which means that the call is forwarded only to those clients -which are associated with the call or with the terminals -listed in the call.","The user of the client is thus able, by way of example, to retrieve information about a conversation on the associated telephone , but not on the telephone ","State changes in a communication connection, e.g. as a result of a conversation being ended or of another subscriber being added (conference call), are constantly monitored by the communications system  and an appropriately modified call is forwarded to the server . When a connection from a terminal -is ended, the corresponding entry for the terminal (e.g. ) is erased in the call, so that the call is now associated only with the other clients. When a conversation between just two subscribers is ended, the associated call is erased completely.","Data transmission in this known CTI communications system has to date been limited to the transmission of information data relating to an ongoing connection. It has not been possible to transmit files between individual clients -to date. It is also not possible to obtain information about those terminals -which were involved in a call in the past and to implement a type of call tracking.","It is therefore one possible object of the present invention to allow data to be interchanged between the clients in a communications system.","The fundamental concept described below involves transmitting either entire files or data for call tracking (logging data) from a client to a TSP via the CTI interface and storing them in a prescribed memory area for an associated call. These files or data can then be read by another client associated with the call, likewise via the CTI interface.","In this case, logging data are to be understood to mean data which indicate which subscribers were involved in an existing connection in the past.","The files or logging data are thus transmitted between client and server in a simple manner using the already existing CTI interface, which means that no other interface needs to be opened.","To store the files or logging data in the associated call, it is necessary, as mentioned, for the call to have an additional memory area to which the data to be inserted can be written. This additional memory area can have a size of several KB, e.g. 64 KB.","In line with one preferred embodiment, the logging data comprise, by way of example, the length of a conversation, the subscribers involved in the conversation, or the type of connection (call, conversation or call forwarding etc.).","This allows a call to log information regarding all the terminals which were associated with this call over its entire course. For this purpose, each client or each CTI software application writes prescribed data relating to its associated terminal into the associated call. This is preferably done at the start and end of a connection (e.g. when ringing or after hanging up), so that at least the start and end of a connection are recorded.","When diverting a call or transferring from one terminal to another, each of the associated clients preferably enters data, particularly the subscriber or user on the associated terminal, into the associated call, so that ultimately a type of connection history is produced. Since this information is available to all the clients associated with the call, the connection history for this call is thus available to all (including recently added) associated clients. A subscriber recently added to an existing call is thus shown the connections active to date on his client computer.","The connection history comprises at least the names of the users of terminals with which the call has been associated to date. In addition, the connection history can contain data relating to the length of the connection, to the type of connection, to the date, time, etc.","Reference will now be made in detail to the preferred embodiments of the present invention, examples of which are illustrated in the accompanying drawings, wherein like reference numerals refer to like elements throughout.","For the explanation of , reference is made to the introduction to the description.",{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 4","b":["2","2","5","2","2"],"i":["a","c","a","c "]},"The call  is buffer-stored on the server , for example, and is constantly updated by the communications system . In addition, the call  can be read by all the clients -associated with it, and the information contained in the call can be displayed on the screen on the clients -","The data record (call)  has a prescribed memory area which can be used to store any data, such as files or other information. It is thus possible for data to be written directly into the call  or into a memory associated with the call  from a client (-) via the CTI interface (TAPI)  and for the data to be read and displayed by another of the clients -. This makes it a simple matter to make files or logging data directly available to an interlocutor.","This becomes particularly user-friendly if it is possible to send a file by a drag & drop operation using a software application running on the clients -. All the received files or information are displayed to the interlocutor in a browser window, for example, and they can thus easily be opened using the appropriate software application.",{"@attributes":{"id":"p-0041","num":"0040"},"figref":"FIG. 5","b":["10","2","2","5","4","3","2","3","2"],"sup":"rd ","i":["a","b","a ","a ","b ","b. "]},"To transmit files  from the client to the client , the subscriber on the telephone first selects the files  which are to be transmitted and sends them to the server  using a specific software application (not shown). In this case, the transmission is made via the CTI interface . The files  are finally added to the call . Since the call  is also associated with the client , the transmitted files  can also be retrieved by the interlocutor on the client ","The call  can also be used to log the connection data for all the terminals -which were associated with this call over its course. For this purpose, when it is allocated a call , each client -or the CTI software application running thereon enters the connection data for the associated terminal -into the relevant memory area for the call . This can be done during actual ringing which the terminal -receives or during a conversation. This information  can be retrieved by each client -whose associated terminal -is presently involved in the connection.","The example below is intended to illustrate the method:",{"@attributes":{"id":"p-0045","num":"0044"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Caller: 02302 815 1734 Mueller KG"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"6"},"colspec":[{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"5","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"6","colwidth":"42pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{},{},{},"Call","Call\/"]},{"entry":["Date","Time","Length","Name","number","Connected"]},{"entry":{"@attributes":{"namest":"1","nameend":"6","align":"center","rowsep":"1"}}},{"entry":["Jan. 21, 2000","8:00:00","00:00:30","Mr Meier","100","Call, forw."]},{"entry":["Jan. 21, 2000","8:00:30","00:00:10","Mr Schulz","120","Call"]},{"entry":["Jan. 21, 2000","8:00:40","00:02:00","Mr Schulz","120","Conver-"]},{"entry":[{},{},{},{},{},"sation,"]},{"entry":[{},{},{},{},{},"connec."]},{"entry":["Jan. 21, 2000","8:02:40","00:00:20","Mr Hell","130","Call"]},{"entry":{"@attributes":{"namest":"1","nameend":"6","align":"center","rowsep":"1"}}}]}}]}}},"Row 1 of the table indicates that a Mr Meier was called on 01.21.00 at 8.00 am and, since he was not at his desk, the call was forwarded to Mr Schulz after 30 seconds. This information was entered into the associated call  by the associated client , for example at the end of the call.","Row 2 shows that Mr Schulz, whose call number is 120, picked up the receiver after 10 seconds and started a conversation. This was again entered into the call by the associated client ","Row 3 indicates that Mr Schulz transferred the call to Mr Hell after 2 minutes. This was also entered into the associated call  as appropriate by the client ","As can be seen, the telephone (call) then rang on the desk of Mr Hell, whose call number is 130 and who had not picked up after 20 seconds.","When Mr Schreiber then picked up the receiver, the screen on his client showed him which subscribers -were already involved in this telephone conversation before him.","This makes it possible to prevent a caller from being forwarded several times in the loop. In addition, the called party can adapt his behavior according to what stations have already been called by the caller.","The invention has been described in detail with particular reference to preferred embodiments thereof and examples, but it will be understood that variations and modifications can be effected within the spirit and scope of the invention."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["These and other objects and advantages of the present invention will become more apparent and more readily appreciated from the following description of the preferred embodiments, taken in conjunction with the accompanying drawings of which:",{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 1","sup":"rd "},{"@attributes":{"id":"p-0031","num":"0030"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 5"}]},"DETDESC":[{},{}]}
