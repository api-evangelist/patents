---
title: Transceiver in a two-way satellite system
abstract: An apparatus for transmitting and receiving signals over a two-way satellite communication system is disclosed. A receiving unit receives data from a user terminal. A transmitting unit is coupled to the receiving unit and transmits the data to an antenna. The data is transmitted over a return channel that is established over the satellite to a hub; the hub has connectivity to a packet switched network.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06965581&OS=06965581&RS=06965581
owner: Hughes Electronics Corp.
number: 06965581
owner_city: El Segundo
owner_country: US
publication_date: 20010222
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCES TO RELATED APPLICATION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DESCRIPTION OF THE PREFERRED EMBODIMENTS"],"p":["This application is related to, and claims the benefit of the earlier filing date of U.S. Provisional Patent Application No. 60\/197,246, filed Apr. 14, 2000, entitled \u201cSystem and Method for Providing Control of a Two-way Satellite System,\u201d the entirety of which is incorporated herein by reference.","1. Field of the Invention","The present invention relates to a satellite communication system, and is more particularly related to a two-way satellite communication system providing access to a packet switched network.","2. Discussion of the Background","Modern satellite communication systems provide a pervasive and reliable infrastructure to distribute voice, data, and video signals for global exchange and broadcast of information. These satellite communication systems have emerged as a viable option to terrestrial communication systems. As the popularity of the Internet continues to grow in unparalleled fashion, the communication industry has focused on providing universal access to this vast knowledge base. Satellite based Internet service addresses the problem of providing universal Internet access in that satellite coverage areas are not hindered by traditional terrestrial infrastructure obstacles.","The Internet has profoundly altered the manner society conducts business, communicates, learns, and entertains. New business models have emerged, resulting in the creation of numerous global businesses with minimal capital outlay. Traditional business organizations have adopted the Internet as an extension to current business practices; for example, users can learn of new products and services that a business has to offer as well as order these products by simply accessing the business's website. Users can communicate freely using a wide variety of Internet applications, such as email, voice over IP (VoIP), computer telephony, and video conferencing, without geographic boundaries and at nominal costs. Moreover, a host of applications within the Internet exist to provide information as well as entertainment.","Satellite communication systems have emerged to provide access to the Internet. However, these traditional satellite-based Internet access systems support unidirectional traffic over the satellite. That is, a user can receive traffic from the Internet over a satellite link, but cannot transmit over the satellite link. The conventional satellite system employs a terrestrial link, such as a phone line, to send data to the Internet. For example, a user, who seeks to access a particular website, enters a URL (Universal Resource Locator) at the user station (e.g., PC); the URL data is transmitted over a phone connection to an Internet Service Provider (ISP). Upon receiving the request from the remote host computer where the particular website resides, the ISP relays the website information over the satellite link.","The above traditional satellite systems have a number of drawbacks. Because a phone line is used as the return channel, the user has to tie up an existing phone line or acquire an additional phone line. The user experiences temporary suspension of telephone service during the Internet communication session. Another drawback is that the set-top box has to be located reasonably close to a phone jack, which may be inconvenient. Further, additional costs are incurred by the user.","Based on the foregoing, there is a clear need for improved approaches for providing access to the Internet over a satellite communication system. There is a need to minimize costs to the user to thereby stimulate market acceptance. There is also a need to permit existing one-way satellite system users to upgrade cost-effectively. There is also a need to eliminate use of a terrestrial link. Therefore, an approach for providing access to a packet switched network, such as the Internet, over a two-way satellite communication system is highly desirable.","According to one aspect of the invention, an apparatus for transmitting and receiving signals over a two-way satellite communication system comprises a receiving unit that is configured to receive data from a user terminal. A transmitting unit is coupled to the receiving unit and configured to transmit the data to an antenna. The data is transmitted over a return channel that is established over the satellite to a hub; the hub has connectivity to a packet switched network. The above arrangement advantageously minimizes costs to the user, thereby stimulating market acceptance.","According to another aspect of the invention, a system for exchanging signals over a two-way satellite network comprises an indoor receiving unit (IRU) that is configured to receive data from a user terminal. An indoor transmitting unit (ITU) is selectively coupled to the receiving unit and configured to transmit the data. An outdoor unit (ODU) is coupled to the IRU and ITU and is configured to receive the data for transmission over a return channel that is established over the satellite to a hub. The hub has connectivity to a packet switched network. This approach permits existing one-way satellite system users to upgrade cost-effectively.","According to one aspect of the invention, a receiver apparatus for receiving signals over a two-way satellite communication system comprises a receiving unit that is configured to receive data from a user terminal. A power supply is configured to provide power to the receiving unit. The receiving unit is selectively connected to a transmitting unit that is configured to transmit the data over a return channel that is established over the satellite to a hub. The above arrangement advantageously provides compatibility with existing equipment.","In the following description, for the purpose of explanation, specific details are set forth in order to provide a thorough understanding of the invention. However, it will be apparent that the invention may be practiced without these specific details. In some instances, well-known structures and devices are depicted in block diagram form in order to avoid unnecessarily obscuring the invention.","The present invention provides a two-way satellite system that eliminates the requirement for a phone line to support two-way applications and provides the ability to use dedicated high-speed return channels. The high-speed satellite broadcast system supports a Universal Serial Bus (USB) ready transceiver (i.e., adapter) that may be attached to a personal computer (PC) transmit data and to receive the satellite broadcast through a single antenna.","Although the present invention is discussed with respect to protocols and interfaces to support communication with the Internet, the present invention has applicability to any protocols and interfaces to support a packet switched network, in general.",{"@attributes":{"id":"p-0029","num":"0028"},"figref":["FIG. 1","FIG. 4"],"b":["100","101","103","105","107","105","103","101","109","109","109","111","113","113","103","105","101","113","113","103","105","105"],"i":["a","b"]},"Essentially, the system  provides bidirectional satellite transmission channels. The downlink channel from NOC  to the transceiver  may be a DVB (Digital Video Broadcast)-compliant transport stream. The transport stream may operate at symbol rates up to 30 megasymbols per second; that is, the transport stream operates at bit rates up to 45 Mbps. Within the transport stream, the IP traffic is structured using multiprotocol encapsulation (MPE). One or more MPEG PIDs (Program IDs) are used to identify the IP (Internet Protocol) traffic. In addition, another PID is used for the framing and timing information.","The uplink channel from the transceiver  to the NOC  includes multiple carriers, each operating at speeds of 64 kbps, 128 kbps, or 256 kbps, for example. Each of these carriers is a TDMA (Time Division Multiple Access) stream, which employs several transmission schemes. Upon first use of user equipment, tools may be employed to provide initial access and to request further bandwidth as required. The specific bandwidth allocation scheme may be designed to ensure maximum bandwidth efficiency (i.e., minimal waste due to unused allocated bandwidth), and minimum delay of return channel data. Further, the scheme is be tunable, according to the mixture, frequency, and size of user traffic.","The two-way satellite system  can be implemented, according to an exemplary embodiment, based upon an existing one-way broadcast system. The conventional one-way broadcast system utilizes a terrestrial link for a return channel. In contrast, the two-way satellite system  obviates this requirement. However, the user terminal  may optionally retain the dial-up connection as a back-up connection to the Internet .","According to one embodiment of the present invention, the two-way satellite system  offers the following services to the user terminal : digital package multicast delivery, multimedia services, and Internet access. Under the digital package delivery service, the system  offers a multicast file transfer mechanism that allows any collection of PC files to be reliably transferred to a collection of transceivers. The IP multicast service carries applications, such as video, audio, financial and news feed data, etc., for broadcast to the transceivers (e.g., ). As already discussed, the system  provides high-speed, cost-effective Internet access.","To receive the broadcast from system , PC  may be equipped with a standard USB (Universal Serial Bus) adapter (not shown) and a 21-inch elliptical antenna . The system , according to one embodiment, uses a Ku- (or Ka-) band transponder to provide up to a 45 Mbps DVB-compliant broadcast channel from the NOC . Further, data encryption standard (DES) encryption-based conditional access can be utilized to ensure that the PC  may only access data that the PC  is authorized to receive.","In accordance with an embodiment of the present invention, the USB adapter may be attached to IRU , which is connect to ITU . The data is passed from the PC  to the USB adapter of the PC , which formats the data for transmission and provides both the control and data for the ITU . The ITU sends the data to an outdoor unit (ODU), which includes antenna , at the appropriate time for the data to be transmitted in TDMA bursts to equipment at the NOC . In this example, when averaged across a year, each two-way transceiver is expected to have a bit-error rate less than 10more than 99.5% of the time whereby a single bit error causes the loss of an entire frame. The transceiver is more fully described later with respect to FIG. .",{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 2","b":["1","100","100","113","101","101","109","111","101"]},"The two-way system  supports the exchange of digital packages to one or more receiving PCs. The term \u201cpackage\u201d, as used herein, refers to any data (including electronic documents, multimedia data, software packages, video, audio, etc.) which can take the form of a group of PC files. Package delivery is used by an information provider to send packages to receiving PCs; for example, the delivery of digitized advertisements to radio and TV stations.","To prepare a package for transmission, a publisher (i.e., content provider) may merge the package's files into a single file using the appropriate utility (e.g., PKZIP), and subsequently load the package into the NOC  using an off-the-shelf file transfer mechanism (e.g., TCP\/IP's file transfer protocol (FTP)). The publisher may control the following parameters associated with the package: addresses of the destination PCs, and delivery assurance. The low bit error rate and high availability of the two-way system  ensures that packages are delivered in one transmission (that is, without the need to retransmit).","With respect to ensuring proper delivery and reporting delivery status of the digital packages, the publisher possesses a number of functionalities. The PC  may issue retransmission requests, as needed, if segments of the package is loss or received with errors. The PC  may request retransmission of only the loss or corrupt portions of the digital package via the satellite return channel, or optionally, a dial-out modem It should be noted that the multicasting capability of the system  advantageously permits the one time retransmission of missing\/corrupt data even though the missing\/corrupt data may affect multiple PCs. The system  also supports delivery confirmation. A PC , after successfully receiving a package, may send a confirmation to a package delivery server (not shown) within the NOC . These confirmations are tabulated and provided in the form of reports to the publisher.","Further, the system  may provide a best effort service. Under this scenario, if frames are lost on the first transmission, the receiving PCs fill in the gaps on subsequent transmissions. This mechanism helps ensure high probability of delivery without requiring use of a return link for retransmission requests.","According to an exemplary embodiment, the digital packages contain the following fields: a transmission rate field that is configurable per package at speeds up to 4 Mbps through the IRU; a forward error correction (FEC) rate for providing correction of sporadic packet loss; a priority field for specifying low, medium, or high priority; and optional topic, descriptive name, and description fields that are used by the user interface of the receiver PC to present the package to the user. The package delivery service of the two-system  supports the simultaneous transmission of several packages and the preemption of lower priority packages to ensure the timely delivery of higher priority packages.","The system  also supplies multimedia services, which provide one-way IP multicast transport. The NOC  relays a configurable set of IP multicast addresses over the downlink channel. An information provider may pass IP multicast packets to the NOC , either via a terrestrial line or via the return channel. The receiving PCs may receive the IP multicast through the standard Winsock with IP Multicast extensions API. To prevent unauthorized access, each IP multicast address may be cryptographically protected. Thus, PC  may only have access to an address if it has been authorized by the NOC . Hardware filtering in the Indoor Receive Unit (IRU) allows the reception of any number of different IP Multicast addresses.","The NOC , which provides network management functions, allocates to each multimedia information provider a committed information rate (CIR), and one or more IP multicast addresses. The CIR specifies the fraction of the broadcast channel bandwidth that is guaranteed to the data feed provider. Each IP Multicast address operates as a separate data stream that is multiplexed on the one broadcast channel.","As previously mentioned, the two-way system  provides high-speed Internet access, in which the PC  can connect to the Internet . In one embodiment of the present invention, the access is asymmetric, whereby the downlink channel from the NOC  to the user terminal  can be an order of magnitude greater that the uplink (or return channel).","An NDIS (Network Device Interface Specification) device driver within the PC  operates with the native TCP\/IP stack for Windows. When the ITU is active and enabled, the NDIS software sends the return channel data to the IRU , which in turn supplies the data to the ITU . However, when the ITU is inactive, the packets may be alternatively sent to a dial-up interface. The two-way system  allows operation of the standard Internet applications; for example, Netscape\u00ae browser, Microsoft\u00ae Internet Explorer browser, email, NNTP Usenet News, FTP, GOPHER, etc.",{"@attributes":{"id":"p-0046","num":"0045"},"figref":"FIG. 3","b":["1","109","101","109","109","109","109","307","307","305","111","109","109"],"i":["a","b","c","a ","b. "]},"As previously indicated, the IRU may have a Universal Serial Bus (USB) interface, which is a standard interface to PC  to provide IRU control and data. The IRU may be attached to the PC  dynamically, and may be loaded with operational software and initialized by PC driver software. Received traffic is forwarded to the PC  through the USB connection . The PC driver communicates with the IRU for control over the USB channel. By way of example, the receive chain F-connector on an RG-6 cable is connected to the IRU to communicate to the LNB . The IRU contains an interface that may be used to transfer data to control the transmit unit and to actually provide the transmit data to the ITU . A clock is received on this channel to ensure that transmit frame timing and transmit symbol clocks are synchronized.","The ITU may be a standalone component that externally may appear very similar to the IRU . According to one embodiment of the present invention, the housings of the IRU and ITU are in a stackable form factor. The ITU has an IFL interface (not shown) that attaches to the ODU  via an RG-6 interface (not shown). Control information and data from the ITU are multiplexed onto the IFL cables  to the ODU . One IFL cable  may handle the receive patch and the other may handle the transmit path.","The ITU also includes an ITU control interface for data transfer. In addition, a pulse is received over the ITU control interface to ensure that transmit frame timing and transmit symbol clocks are properly synchronized. The ITU may contain an RF transmitter, low phase noise VC-TCXO, and serial data transceiver. ITU modulates and transmits, in burst mode, the in-bound carrier at 64 kbps or 128 kbps to a Return Channel Equipment (FIG. ). The ITU may be designed to operate with and to be controlled by the IRU . Although IRU and ITU are shown as distinct components, IRU and ITU may be integrated, according to an embodiment of the present invention. By way of example, a single DB-25 connector on the rear panel provides power, ground and a serial data link via which control of the transmitter is exercised. The ITU may be considered a peripheral to the IRU . Configuration parameters and inbound data from the IRU may be input to the serial port (not shown); in addition, transmitter status information to the IRU may output from the serial port.","The IRU and ITU utilize dual IFL cables  to connect to LNB  for receiving signals from the satellite . Each cable  may carry the necessary power, data, and control signals from the IRU and ITU to the LNB , which is mounted on the antenna . According to one embodiment, the antenna  is a standard 66 cm elliptical antenna, with dimensions of 97 cm\u00d752 cm (yielding an overall size of approximately 72 cm). Antenna  may include mounting equipment to support an FSS feed, BSS feeds, and a feed bracket.","The transceiver  supports a variety of features that enhance the flexibility and efficiency of the two-way system . Transceiver  can be implemented as a receive-only unit that can be later upgraded to support a two-way configuration. In other words, the transceiver  may be configured either as a receive-only package or a transmit upgrade package. The transceiver  may be designed to be an add-on capability to a standard receive-only transceiver. Thus, in actual implementation, a user can either purchase an upgrade to a transceiver  to support a satellite-based return channel or can operate a receiver with no transmit portion for communication over the satellite . Such a receive-only system may employ a terrestrial return channel (e.g., phone line) for two-way IP traffic.","In addition, the transceiver  supports multiple rate, high speed, receive channel. The transceiver  can support for high speed TCP\/IP applications using, for example, Turbo Internet\u2122 TCP spoofing. In an exemplary embodiment, a standard USB interface to PC  is used to connect the PC  with the IRU ; however, it is recognized that any type of interface can be utilized (e.g., serial, parallel, PCM\/CIA, SCSI, etc.). The transceiver  supports TCP\/IP applications (e.g., web browsing, electronic mail and FTP) and multimedia broadcast and multicast applications using IP Multicast (e.g. MPEG-1 and MPEG-2 digital video, digital audio and file broadcast) to PC  per the USB adapter connection . The transceiver  can also support IP multicast applications (e.g., MPEG video and package delivery). Further, the transceiver  can provide compression of receive and return channel traffic to enhance bandwidth efficiency.","The transceiver  integrates the capabilities of the broadband receiver via satellite with the capability for a satellite return channel through the use of IRU and ITU . The IRU is powered by power supply . As indicated previously, the received channel to the transceiver  may be a DVB transport stream that contains multiprotocol-encapsulated IP traffic. A group of multiple transmit channels may be shared among several DVB transport streams.","Further, the transceiver , unlike conventional satellite systems, is controlled at the system level by the NOC . Particularly, the NOC  has the capability to enable and disable the operation of the ITU , thereby making it difficult for an authorized user to access the satellite system . Neither the transceiver  nor the connected PC-based host  has the capability to override commands from NOC , even in the case in which the equipment is powered down and restarted. Once disabled, the ITU can only be enabled by the NOC . That is, the user cannot \u201cre-enable\u201d a disabled ITU , even through a power reset. Additionally, the NOC  may instruct the ITU to transmit a test pattern at a pre-determined frequency. This process may not be overridden by the user, who has no capability to cause the generation of the test pattern. The user has no control over the frequency that the test pattern is sent. Thus, the above system-level control of the ITU by the NOC  prevents users from utilizing the resources of the satellite system .",{"@attributes":{"id":"p-0055","num":"0054"},"figref":["FIG. 4","FIG. 1. A"],"b":["113","101","113","109","101","113","103","105","101","113","113","411"]},"Within NOC , a Radio Frequency Terminal (RFT)  is responsible for retrieving an IF (intermediate frequency) output of a System IF Distribution module , up-converting the IF output signal to RF (radio frequency) for transmission to the satellite . Additionally, the RFT  receives from the satellite  an RF echo of the transmitted signal, along with the RF input for the return channels; the RFT  down-converts these signals to IF and forwards the down-converted signals to the System IF Distribution module .","The System IF Distribution module  receives as input an output signal from outroute modulators  via outroute redundancy equipment . In response to this input signal, the System IF Distribution module  sends a signal to the RFT  and a Timing Support Equipment module . The System IF Distribution module  receives an IF output from the RFT , and distributes the received IF signal to the Timing Support Equipment module  and the Return Channel IF Distribution module ","The modulator  encodes and modulates the DVB transport stream from a satellite gateway . In an exemplary embodiment, at least two modulators  are used for each uplink for redundancy; i.e., support 1-for-1 satellite gateway redundancy. The modulator , which may be, for example, a Radyne\u00ae 3030DVB modulator or a NewTec\u00ae NTC\/2080\/Z modulator, is responsible for taking the outroute bit stream received from the satellite gateway and encoding it and modulating it before forwarding it towards the RFT .","The satellite gateway  multiplexes traffic to be transmitted on the uplink. The multiplexed traffic includes user traffic that is forwarded from standard LAN gateways  supporting TCP\/IP Multicast traffic. The multiplexed traffic also includes traffic that is forwarded from the return channel components , which include a Network Control Cluster (NCC) . The NCC is a server-class PC running Windows, along with DVB satellite gateway software that supports multiple PIDs.","The outroute redundancy component  supports a configuration that allows critical traffic components to fail without causing a system outage; this is supported on the IF data following the modulator . If equipment on one transmit chain fails, the lack of a data signal is detected and a switch (not shown) automatically switches to another transmit chain. In this example, 1-for-1 redundancy of the satellite gateway  and modulators  is supported.","Within the outroute redundancy component , a gateway common equipment (GCE) (not shown) accepts input signals from two modulators , in which each serves one of two redundant chains for a return channel of system . The GCE provides an output interface to the system IF distribution module  for the currently online modulator . The GCE also has a control interface that can be used to switchover the modulator chain. By way of example, the GCE may have a \u201cbaseball switch\u201d that can be used for manual switching. In an exemplary embodiment, the GCE may be a standard off-the-shelf GCE component per uplink. Optionally, a DVB GCE may be used if a single modulator  is be used instead of two per uplink.","The timing support equipment  includes multiple gateway up-link modules (GUMs) and . The GUMs and provide a translation of IF signals to L-band so the signals can be received on a receive-only unit, which controls a GCE switch (not shown) and on a timing unit . The GUMs and receive a signal from the GCE and provides the L-Band signal either directly to a Quality Monitor PC (QMPC) (not shown) or through a splitter (not shown) to multiple receivers; one of these is connected to the system IF distribution module  for the uplink signal. The QMPC may be a standard receive-only version of the transceiver  with a relay card that controls the RCU. The QMPC, according to one embodiment of the present invention, may include a PC with the Windows operating system. The QMPC can operate with the IRU , thereby permitting the IRU to be used in the QMPC. The IRU may be able to support more channels because the data is not forwarded to the host and more MAC addresses are used. According to one embodiment, the addressing scheme for messages supports up to 16 million adapters (i.e., transceivers); extending beyond the private class \u201cA\u201d IP address. Accordingly, MAC addressing supports a greater number of adapters that IP addressing. The high order nibble of the byte, which is currently set to \u201c0Ah\u201d (10), may be used to give 16 fold improvement to 256 million adapters.","A Redundancy Control Unit (RCU) (not shown) within the outroute redundancy component  controls the GCE switch. The RCU interfaces to the QMPC, which provides a control channel that triggers the switching of the GCE. The RCU also includes an interface to the GCE for controlling the switch. Further, the RCU has serial interfaces that interface to the satellite gateway  to indicate which satellite gateway is currently online, thereby ensuring that only the online satellite gateway provides flow control to the gateways.","Several local area networks (LANs)  and  may be used to connect the various NOC components together. A Mux LAN  is used to multiplex traffic that is to be sent to the satellite gateway  for a specific outroute. A Traffic LAN  transports customer traffic that are received from the return channel and traffic from the Intranet  and Internet .","The NOC  can maintain several standard gateways , , and  that may forward data to the user terminal  over LAN . These gateways , , and  may operate on server-class PCs running Microsoft\u00ae Windows-NT. A PDMC (Package Delivery and IP Multicast) Gateway  forwards package delivery traffic and IP multicast traffic to the satellite gateway . The gateway  uses key material provided by the conditional access controller (CAC) server  to instruct the satellite gateway  whether to encrypt the traffic as well as the key to be used for encryption.","A Hybrid Gateway (HGW)  processes two-way TCP traffic to the users. The HGW  provides uplink traffic, handles flow control to respond to satellite channel overload, and also acts as a proxy for return channel traffic. For user terminals  that generate TCP traffic for transmission over the return channel, the HGW  interacts with the public Internet  or private Intranet  to relay the received user traffic. The software of the HGW  may be modified to support the networking functionalities associated with a satellite-based return channel. The software supports variable round-trip times in the throughput limiter calculations; e.g., either a CIR-based or more intelligent round-trip-time based algorithm may be deployed. TCP Selective acknowledgement may also be supported by the software to minimize retransmission data requirements. Other functionalities of the software include TCP Delayed ACK, larger transmission windows, and HMP overhead reduction. Further, the software support return channel units that are \u201calways on\u201d. In addition, the software is backwards compatible.","A Dedicated LAN Gateway (LGW)  includes the functionality of both the PDMC  and HGW . The LGW  is used for customers that require a dedicated amount of bandwidth, in which the customers are permitted to share the bandwidth among their different applications.","A Conditional Access Controller (CAC) server  contains the key material for all of the transceivers . According to one embodiment of the present invention, uplink traffic is encrypted using keys from this server . Alternatively, the receive channel may be unencrypted. The return channel traffic could also be encrypted with the transceiver's individual key for privacy of data. Multicast traffic is encrypted with a generated key. The CAC server  ensures that the key material is provided to the transceivers  that are authorized to receive any broadcasts. In addition, the server  provides the individual transceiver keys to the gateways , , and . The CAC server  operates on a server-class PC running Windows NT.","The NOC  also contains a Return Channel Equipment module (RCE) , which manages the return channels associated with NOC . That is, the RCE  is responsible for managing return channel bandwidth and for receiving the return channel traffic from the transceivers . The RCE  may include Network Control Clusters (NCCs) , one or more Burst Channel Demodulators (BCDs) , and are responsible for managing the return channel bandwidth and the BCDs . According to an exemplary embodiment, each RCE  has a limit on the number of BCDs which an RCE  can support. For example, given a 1-for-7 redundancy scheme, up to 28 return channels can be supported. By way of example, multiple RCEs  may be deployed to support more than 32 BCDs worth of return channels. As will be discussed later with respect to , this approach provides a scalable configuration.","The NCC may be configured to control several RCEs . The site may be assigned to the NCC at ranging time. \u201cRanging\u201d is a process which configures a site on a NCC and adjusts timing of the NCC without user intervention. Sites may periodically either be moved to another NCC , which supports a different set of return channels or may be completely decommissioned from the NOC . For instance, a site may be moved to another NCC , as needed, for load balancing. The system  is capable of communicating site moves between NCCs so the sites are no longer enabled on the prior NCC . In addition, a de-commission of the site from the CAC server  may disable the site at the NCC . According to one embodiment of the present invention, the NCC can access the same database (not shown) as that are used by the conditional access and auto-commissioning systems.","The RCE  further includes Burst Channel Demodulators (BCDs) , which demodulates return channel transmissions from the transceivers  and forwards the received packets to the NCC . Redundancy of the IF subsystem is supported in the BCDs . These BCDs are one for N redundant with automatic switchover in the event of a failure. According to an exemplary embodiment, up to 32 BCDs may be supported by a single NCC ; the RCE  may handle up to 32 BCDs (i.e., up to 31 return channels).","The RCE  also contains a Return Channel IF Distribution module . The return channel IF Distribution module receives the IF output signal from the System IF Distribution module  and forwards the output signal to the BCDs . The sites may be \u201cpolled\u201d to ensure that the BCDs stay active, thereby proactively detecting failed sites.","As noted above, NCC is responsible for managing the bandwidth of a set of up to 32 BCDs . NCC also provides configuration data to the BCDs . NCC also reassembles packets received from the return channels (by way of the BCDs ) back into IP packets and forwards the IP packets to the appropriate gateway. The NCC is internally 1-for-1 redundant between the two NCCs by exchanging messages.","When a frame is received from a receiver, the first byte of data may indicate the Gateway ID for this serial number. The received frame may be mapped to an IP address by the NCC and stored for the particular individual receiver. Accordingly, other packets can be received by this receiver without the 1-byte overhead for the gateway on every packet. The NCC  forwards the packet to the appropriate gateway after building an IP-in-IP packet that is compatible with the UDP tunneled packets sent to the gateways.","According to one embodiment, the NCC may utilize the Microsoft\u00ae Windows operating system. The NCC need not processes or transmit frame timing messages. The NCC may support changing the format of outbound messages to include new MAC addresses as well as different return channel headers. In addition, NCC  tracks return channel gateway address to IP mapping; this information is periodically provided to receivers. NCC may also update and effect BCD configuration files, which can be locally stored and managed, without software restart. NCC can support a large number of transceivers  (e.g., at least 100,000 transceivers).","As indicated previously, the NCC manages the return channel bandwidth and forwards inbound traffic to the gateways. The NCC may send a timing pulse to its associated timing units once every \u201csuper frame\u201d before the NCC pulses the BCDs to receive the frame. These pulses are provided to the timing units on the return channel frame boundary.","NCC further maintains a transceiver-last-packet-time in a large memory-based sorted array for polling. The polling algorithm poll sites that are not recently transmitting or, as needed, to poll known \u201cgood\u201d sites to keep BCDs active. That is, the NCC performs remote polling of idle remotes on a periodic basis to keep BCDs active. The polling message specifies the return channel number to respond on. The remote status assumed to be good if the remote has transmitted packets. Only the least-recent responders are polled. NCC can disable transmission from sites with particular serial numbers through its broadcast.","The Timing Support Equipment (TSE)  provides return channel timing support for each outroute. TSE  may employ a pair of PCs (not shown); each PC runs Microsoft\u00ae Windows and are connected to two IRUs . According to one embodiment of the present invention, a NCC is allocated to one of the outroutes to ensure a 1-to-1 relationship between NCC and timing support equipment . For each outroute pairing, the TSE  may include a pair of Gateway Upconverter Modules (GUMs) and , and a timing unit . The GUMs and translate the uplink and downlink IF signal to an L-band signal. The uplink signal is sent to a pair of local timing units as well as the outroute redundancy equipment . The downlink signal is sent to a pair of echo timing units. The timing unit determines both the variable satellite gateway delay for the transmit signal and the NOC satellite delay, and transmits frame timing information to the transceivers .","The timing units are the portion of the NOC  that support network timing. In an exemplary embodiment, a timing unit may be a PC with two attached indoor receive units (IRUs) , both which are configured to support timing. When the timing unit receives the local timing, timing unit may generate a \u201cframe timing\u201d message with the prior super frame satellite delay and the current super frame delay. The timing unit transmits the message to the satellite gateway  in an appropriated formatted Traffic Token Ring (TTR) message. Software in the PC may be used to configure the IRUs in this mode; a special version of firmware may also be provided to the IRU . One of the IRUs may provide a time difference from the pulse to the local super frame header, while the other IRU may provide the difference from the pulse to the super frame after the IRU is sent to the satellite  and received back at the NOC . Further, one IRU receives the transport stream for the outroute prior to transmission to the satellite . The other IRU receives the transport stream after the transport stream is transmitted to and received back from the satellite by way of an L-Band output from the downlink GUM ","IRUs may include hardware to support network timing. The software of the timing unit may use this hardware to perform the necessary timing unit functions. A timing support task may be included in the embedded software, which operates in the IRU portion of the Timing Unit . The host software may receive timing information from the firmware and may use the information to format frame timing messages. The frame timing messages may be sent to the satellite gateway  through the MUX LAN  using a TTR.","The system  also measures and reports usage information on the channels. This information may be supplied on a periodic basis to billing, and\/or made available on a real-time basis to management nodes in the NOC  for troubleshooting and monitoring purposes.",{"@attributes":{"id":"p-0082","num":"0081"},"figref":"FIG. 5","b":["1","109","101","113","109","109","419","109","101","109","109","307","113","411","411","411","105","103","419"],"i":["a","a","b","b","b ","a "]},"The communication among the components , , , , , , and is facilitated by the following interfaces: NOC to IRU Interface , IRU to PC Interface , IRU to ITU Interface , ITU to ODU Interface , ODU to BCD Interface , BCD to NCC Interface , and NCC to Gateway Interface . The NOC to IRU interface  is layered to include DVB, PIDs, and MAC addresses. The IRU to PC Interface  uses USB super frames to send a large amount of data in a USB burst to the host PC . The payloads of the super frames are IP datagrams with the IP header. A new format header may be used for each message to provide timing and other information to the host PC . In the IRU to ITU interface , the IRU  may break the IP datagram into bursts to transmit to the NOC . The IRU  may send a frame format message for each frame if there is data to transmit.","The internal NOC interface, IRU to BCD interface, is layered to include the burst structure, the return channel frame format, and the message structure for NCC messages. The NCC may forward traffic to the appropriate gateway  (e.g., dedicated gateway or hybrid gateway) in the NOC . The data forwarded to the gateway  may be re-formatted in a UDP datagram to allow the NOC  to receive the traffic as if it were received over a UDP return channel.","The NOC to IRU interface  may utilize a multi-layer protocol, which includes the following layers: a DVB transport stream, which can support multiple multiprotocol encapsulation messages, for example, in a single MPEG frame per the implementation and includes fixed-size 204 byte MPEG packets (which contain 188 bytes of user traffic and 16 bytes of FEC data); a DVB PID, which the receiver may filter traffic based on PIDs; and a DVB MPE, which the receiver may filter traffic based on MAC Address and may process MPE headers for user traffic. The receiver may also process service tables for PAT and PMT; data following the MPE header has been added to support encrypted traffic. The multi-layer protocol of the NOC to IRU interface  may include an IP Payload (the payload of the MPE is expected to be an IP packet including IP headers) and RCE Messages. It should be noted that specific MAC addresses may be used for return channel messages, which may originate from the NCC or from a timing unit ","With respect to the DVB transport stream, the DVB standard multiprotocol encapsulation standard over data piping is employed. The multiprotocol header includes the following fields used by system : a MAC Address field (e.g., 6 bytes in length); an encryption field (e.g., a 1 bit field that can be set if the packet is encrypted); and a","Length field for specifying the length of the packet header. If encryption is disabled for the packet, the IP header and payload immediately follow the MPE header. If encryption is enabled, then the first 8 bytes contain the initialization vector for packet decryption. This vector includes a packet sequence number used to detect out-of-sequence packets. The satellite gateway  removes packets from the TTR buffers and transmit them on an outroute. The payload and padding are transmitted following an appropriately formatted MPE header and the initialization vector (for encrypted packets). The payload of the multiprotocol encapsulation frame is determined by the encryption value in the MPE header. If encryption is enabled for the packet, then the first 8 bytes contain an initialization key that also acts as the sequence number. If encryption is disabled, the packet is the IP payload, which is DVB compliant.","As indicated above, the NOC to IRU interface  may use DVB compliant MPEG-2 formatting. The header of each frame contains a PID, which is filtered by the receiver hardware. The receiver is capable of receiving several of the PID addresses. The receiver may be configured with the PID addresses it is to use, including the one to be used for its NCC . Each NCC may be allocated its own private PID to ensure that receivers only receive traffic for their allocated NCC . A TTR buffer may be used by the gateways, the NCC , the Local Timing Unit, and the CAC Server to send messages to the satellite gateway for transmission on the outroute.","As shown in , a TTR buffer  is carried as the data field of a multicast UDP\/IP packet , which includes a multicast IP header  and a UPD header . The TTR buffer  includes the following fields: a Gateway ID field  (8 bits) for specifying the sending gateway ID; a Number of Packets field  (8 bits) for indicating the number of packets in this TTR buffer; and a TTR Sequence Number field  (16 bits) for specifying the sequence number. The TTR Sequence Number field  is used by the satellite gateway  (in conjunction with the Gateway ID) to detect TTR buffers lost on the backbone LAN. The TTR Sequence Number field  is sent least significant byte first; a value of 0 is always considered to be in sequence. The TTR buffer  also includes N packets . Within each packet  are the following fields: a DES Key field , two MAC Address fields , a Length field , a Sequence Number field , a Payload field , a Padding field , and an Alignment field . The DES Key field , which is 8 bytes in length, specifies the encryption key to be used by the satellite gateway  to encrypt the packet . When no encryption is required (e.g., for NCC packets), zero is placed in this field . Two copies of the MAC Addresses (each have a 6-byte length) are stored in field . The first copy is the spacelink MAC address placed in the DVB Header. The second copy of MAC Address is supplied for backward compatibility. The Length field  (2 bytes) indicates the length of the packet  (least significant byte first). The Sequence Number field  indicates the packet number of this Next TTR frame. In an exemplary embodiment, the Payload field  has a variable length from 1 to 8209 bytes and stores the message that is to be sent on the outroute (e.g., an IP packet). The length of the Payload field  may be limited to the maximum Ethernet frame size, for example. The Padding field , which may vary from 0 to 3 bytes, makes the packet  a multiple of long words when transmitted on the outroute; this is required for proper DES encryption. The Alignment field  is a 2 byte field and provides filler between packets, ensuring that the next packet starts on a 4 byte boundary. The Padding field , in an embodiment of the present invention, leaves the packet  2 bytes short of the proper boundary to optimize satellite gateway  processing of the TTR buffer .","The total size of a TTR buffer is only limited by the maximum data field size of the UDP packet . Typically, a maximum UDP packet size of 8192 or 16234 is used on the backbone LAN. Gateways need to forward data at high speed and typically send large TTR buffers with multiple IP packets in them. The CAC Server  does not need to send at high speed but does send multiple packets in TTR buffers for efficiency. NCCs and the Local Timing Unit send messages at a much lower rate than the IP Gateways and typically may only send one message in each TTR buffer in order to reduce latency and jitter.","Each sender of outroute messages in the NOC  may be assigned a unique Gateway ID for each of the traffic streams it may forward to the satellite gateway . The NCC , Local Timing Unit , and the CAC Server  are each assigned a single Gateway ID. Gateways handling unicast traffic may be assigned two Gateway IDs for their unicast traffic to support prioritization of interactive traffic ahead of bulk transfers.","The satellite gateway  may use the Gateway ID to map an incoming TTR buffer  to the correct priority input queue. satellite gateway  can support up to 256 senders. The NCC , Local Timing Unit , and CAC Server  traffic should be prioritized ahead of all user traffic. This is necessary to ensure minimal propagation delays and also because these traffic types have very low throughput. The NCC should be prioritized ahead of all other traffic to ensure that the super frame header is transmitted as soon as possible to ensure that the return channel timing is received in time at the transceivers.","The following types of addresses may be used within a Return Channel of system : Ethernet MAC addresses; IP unicast addresses; and IP multicast addresses. For most IP based communication, UDP is used on top of IP. All references to communication using IP (unicast or multicast) addresses, also imply the use of an appropriate (configurable) UDP port number. In some cases, for example, the conditional access IP multicast address and the flow control IP multicast address, the same specific IP address may be used with different UDP port numbers.","Each LAN port in the NOC  has an Ethernet MAC address assigned to it. The Ethernet MAC address of a LAN port is simply the burned in IEEE MAC address of the NIC (Network Interface Card) that is used to implement the LAN port. The PC may also use Ethernet MAC addressing if a NIC is attached to the PC for forwarding traffic onto a LAN.","System  also makes use of multicast Ethernet MAC addresses for carrying multicast IP traffic and the broadcast Ethernet MAC address for carrying broadcast IP traffic. All communication at the NOC  (and most of the communication within system  in general) is IP based. Every NOC component has (at least) one IP unicast address for each of its LAN ports. These addresses are local to the subnet to which the LAN port is attached.","Specific receivers are assigned an IP Unicast address that may be used for all unicast traffic to and from the transceiver. This address is allocated to the site at auto-commissioning time and is bound to the TCP protocol for the USB adapter on the user equipment. At the same time, a specific gateway is configured with the serial number\/IP address mapping for that transceiver. These unicast addresses may be private addresses since the interface to the internet in both directions may be through NOC equipment that can translate to a public IP address.","In addition to its Satellite Card IP unicast addresses, Transceiver  uses a private class-A IP address based on the serial number for its CAC individual traffic. IP multicast addresses are used (for efficiency) for all communication on the MUX LAN  where there are potentially multiple receivers, including cases where the multiple receivers only exist because of redundancy. There are at least four types of IP multicast addresses used in system : (1) the satellite gateway IP multicast address; (2) conditional access IP multicast addresses; (3) the flow control IP multicast address; and (4) User traffic IP Multicast addresses. The first three address types are private to the MUX LAN ; the fourth address type is public and used for the traffic LAN .","The addresses may be selected by the hub operator and configured into the appropriate components. The satellite gateway IP multicast address is used to forward messages to the satellite gateway  to be transmitted onto the outroute. All of the senders of traffic (the Gateways, the NCC A, the CAC, and the Local Timing Unit) send to this same address. Messages are sent to the satellite gateway  in TTR buffers. TTR buffers are UDP\/IP multicast packets with a specific format for the UDP data field. satellite gateway handling of TTR buffers, as previously described.","A conditional access IP multicast address may be used by the CAC Server  to send conditional access messages to all of the gateways. Two conditional access IP multicast addresses may be used: one for sending key information for unicast traffic, and one for sending key information for multicast traffic. Separate addresses may be defined for this purpose to minimize key handling load on gateways that do not need to process a large number of individual keys.","The flow control IP multicast address is used by the satellite gateway  to send flow control messages to all of the Gateways. The NCC may be configured with the IP Multicast addresses it is allowed to forward to the traffic LAN. Each gateway may be configured with the set of IP multicast addresses that it may forward to the outroute. If messages appear on the Traffic LAN which match an address in the gateway, the gateway formats the data into TTR buffers and uses the key provided by the CAC server  for the multicast address.","System messages are messages generated and used internally by the NOC subsystem. The system messages include conditional access messages, flow control messages; and redundancy messages. All message formats defined by the return channel may be little endian. Existing messages which are reused for the return channel may retain the big or little endian orientation they currently have.","Conditional access messages may be sent by the CAC Server  to deliver conditional access information, e.g. keys. There are at least two types of conditional access messages: gateway conditional access messages, and transceiver conditional access messages. Conditional access messages may be unidirectional. That is, messages are only sent from the CAC Server , not to the CAC Server .","The CAC Server  sends encryption keys to the gateways. All of the unicast encryption keys for every enabled serial number are sent to all of the gateways. The gateways may store the received keys in a table. The CAC Server  also sends encryption keys to the gateways for multicast service elements. The gateways may store the received keys in a table and use the table to extract multicast encryption keys for forwarding multicast IP packets. The CAC Server  sends encryption keys, using the backbone LAN, to the conditional access IP multicast addresses. The rate at which these conditional access messages are sent is controlled by parameters in the CAC Server . The messages are sent to support relatively quick notification in the event of a key change and\/or the addition of a new transceiver and to support new and restarted Gateways.","The CAC Server  sends decryption keys to the transceivers . Unicast keys may be sent in Periodic Adapter Conditional Access Update (PACAU) messages, addressed to the specific transceiver's unicast conditional access spacelink MAC address. The PACAUs also may contain multicast keys for the multicast service elements for which the transceiver  has been enabled. The mapping of service elements to actual multicast addresses may be sent by the CAC Server  in Periodic (Data Feed) Element Broadcast (PEB) messages. These messages may be sent to the broadcast conditional access spacelink MAC address. All of the transceivers  receive the PEB messages. The transceiver  also supports the reception of the extended PEB format, which allows a virtually unlimited number of IP multicast addresses by providing the capability to segment the PEB.","Flow control messages may be sent by the satellite gateway  to the access gateways. The satellite gateway  measures the average queue latency in the satellite gateway  for each of the priority queues. This information may then be sent to the gateways, mapped to the gateway IDs. The gateways may use this information to increase and decrease the amount of TCP spoofed traffic being accepted and forwarded from IP hosts at the hub. Flow control messages are unidirectional, i.e. they are only sent from the satellite gateway  toward the IP gateways.","Outbound multicast user traffic, (e.g. file broadcast or MPEG-2 video), is received by an access gateway. The access gateway may be configured with the list of IP multicast addresses that it should forward and receives encryption keys for these IP multicast addresses from the CAC Server . If the gateway receives an IP packet with a multicast address that has not been enabled, the packet is discarded. The IP gateway forwards an IP packet for a multicast address that has been enabled, along with the appropriate spacelink MAC address and encryption key, as a packet payload in a TTR buffer. The satellite gateway  may extract the IP packet from the TTR buffer, encrypts it and forwards it to the outroute.","An application on the PC  opens an IP multicast when it wants to receive the Outbound Multicast stream. The driver may calculate the appropriate MAC address and configures the IRU to receive traffic on the MAC address. The PC driver may forward IP packets based on the multicast address to the applications that have opened the address.","IP Multicast traffic need not be sourced over the return channel. Where inroute bandwidth can be allocated to users, it could be sourced over the return channel by enabling the transceiver  to send IP Multicast per the service plan of the transceiver . TCP traffic may be spoofed at the NOC  to allow for higher speed throughputs even with satellite delay. The Access gateway software may buffer additional traffic for transmission through the satellite and locally acknowledge Internet traffic.","Base upon the user service plan selections, connections may be initiated through the Internet  to a specific transceiver  by using the IP address associated with the transceiver. If the transceiver  is using Network Address Translation (NAT) to the Internet , Internet-initiated connections may not be possible since the public Internet address is not associated with a specific private address associated with the transceiver until a connection is initiated from within the NOC .","The TCP User traffic, when initiated at the PC , may be passed through the system  as follows. PC  sends an IP Packet to IRU ; in turn, the IRU transmits IP packets (possibly in multiple bursts) to the NOC . The NCC reassembles and forwards the IP packet to the gateway. The gateway communicates with the destination host and receives the response. The gateway sends the IP packets to the IRU . A NCC  A may receive return channel packets from the return channels. Each packet may be a subset or a complete IP packet. When the packet is a partial IP packet, the complete IP packet may be reassembled prior to passing the IP packet to an access gateway. First and last bits and a sequence number may be used in each return channel frame to provide the necessary information for the NCC to rebuild the message. The NCC may be able to rebuild packets from many transceivers at once. In addition, multiple data streams may be supported from the same transceiver to support prioritization of traffic.","Within the system , packets are formatted using multiprotocol encapsulation. Therefore, all packets include a DVB-standard header that includes a MAC address. For different types of traffic, the MAC address is set differently. The following types of MAC addresses exist: Unicast traffic; Multicast traffic; Unicast conditional access; Multicast conditional access; Return Channel Broadcast messages; and Return Channel Group messages.","Table 1, below, lists exemplary MAC addresses, according to an embodiment of the present invention.",{"@attributes":{"id":"p-0113","num":"0112"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"4","colwidth":"84pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 1"},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}},{"entry":["Field","Size","Scope","Description"]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Serial Number","24 Bits","Unicast","Serial number burned into"]},{"entry":[{},{},{},"the IRU"]},{"entry":["IP Multicast Address","20 Bits","Multicast","IP Multicast addresses are"]},{"entry":[{},{},{},"32 bit addresses"]},{"entry":[{},{},{},"with format a.b.c.d, where"]},{"entry":[{},{},{},"octet \u201ca\u201d may be"]},{"entry":[{},{},{},"224-239."]},{"entry":["Type Indicator","2 Bits","All","Indicates type of address:"]},{"entry":[{},{},{},"1 - Multicast"]},{"entry":[{},{},{},"2 - Unicast"]},{"entry":[{},{},{},"3 - Internal multicast"]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]}}}}},"Table 2, below, lists the MAC addresses associated with the various traffic types that are supported by the system .",{"@attributes":{"id":"p-0115","num":"0114"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"70pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 2"},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["Address Type","Value","MAC Address (Hex)"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Unicast User Traffic","Serial Number 1","02 00 0A 00 00 01"]},{"entry":[{},"Serial Number 2","02 00 0A 00 00 02"]},{"entry":[{},"Serial Number 256","02 00 0A 00 01 00"]},{"entry":["IP Multicast Traffic","225.2.3.4","01 00 6E 52 03 04"]},{"entry":[{},"239.221.204.1","01 00 6E 5D CC 01"]},{"entry":["Unicast Cond. Access","Serial Number 1","02 00 0A 00 00 01"]},{"entry":[{},"Serial Number 2","02 00 0A 00 00 02"]},{"entry":[{},"Serial Number 256","02 00 0A 00 01 00"]},{"entry":["Multicast Cond. Access","Broadcast","03 00 00 00 00 00"]},{"entry":["Return Channel Messages","Broadcast","03 00 00 00 00 01"]},{"entry":["RC Group Messages","Broadcast-RCE1","03 00 01 00 00 01"]},{"entry":[{},"Broadcast-RCE2","03 00 01 00 00 02"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}}}},"A unicast traffic MAC address may be used for traffic that is sent over the outroute to a specific receiver. The MAC address is determined by the serial number of the IRU ; the same MAC address is also used for CAC individual traffic. The IP Multicast address is determined from the IP multicast address using the TCP standard. This standard only maps the last two octets of the IP address and part of the second octet of the IP address. Therefore, addresses should be configured to ensure that multiple IP addresses that map to the same MAC address are not used.","The transceiver  periodically receives a list of keys for multicast traffic. If the transceiver  is enabled to receive the multicast address, then the IRU may enable reception of the appropriate MAC address when an application uses standard Winsock calls to receive from an IP multicast address. Part of enabling the address may be the retrieval of the relevant encryption key and passing that key to the IRU ","The Unicast Conditional Access MAC address is used by the CAC Server  to send unicast conditional access messages to a specific transceiver. The address is the same as its unicast traffic MAC. Information about a site's access to different multicast streams and whether it is enabled are periodically transmitted to a site over this address.","The Multicast Conditional Access is used by the CAC Server  to broadcast global conditional access information to all transceivers . The list of multicast addresses and their keys are periodically provided to all receivers . These messages are transmitted unencrypted.","The Return Channel Messages address is used for messages that may be received by all adapters  on specific transponders, including those messages required for the commissioning process. Theses messages received on this address are processed directly in the IRU , so the IP header is not used at the receiver and should be ignored. The IP datagram includes the following packet types: a Super-frame Numbering Packet (SFNP), which provides a timing reference and identification for the transponder; and an Inroute Group Definition Packet (IFDP), which defines available return channel groups and resources available on each group.","The Return Channel Group Messages address is used for messages sent on a specific return channel group to transceivers , which are assigned to the particular group. The grouping is implemented to provide a scalable approach to transmitting information so that a single site does not need to process  return channels. The messages received in this address are processed by the IRU , so the IP header is not used by the receiver and should be ignored. The IP datagram may include the following packet types: Bandwidth Allocation Packet (BAP), Inroute Acknowledgement Packet (IAP), and Inroute Command\/Ack Packet (ICAP). The BAP contains the bandwidth allocation structure and the allocation of the bursts to each site on the group. The IAP contains a list of the bursts for a specific frame and a bitmask indicating if the frame was successfully received at the NOC . The ICAP contains a list of commands to be sent to IRUs from the NCC ","Exemplary packets are sent for local processing in the IRU to support the Return channel. Because these packets can be identified based on the MAC address, they need not be encrypted; consequently, these MAC Addresses can be dynamically added and removed by the IRU . All of these packets that are intended to be processed from the IRU may have UDP\/IP headers on them, but these headers may be ignored and assumed to be correct from the IRU ; an exception is that since there may be padding on the Outroute for word alignment, the length of these packets may be taken from the UDP Header.","To ensure these messages are processed in the proper order within the IRU , these messages may all be transmitted on the same PID. It should be noted that no assumption is made about the order of messages that are sent from different NCCs , largely because of the possible NOC side network delays.","All the fields in the return channel packets may be encoded using a Big Endian (Network Byte Order) format. Specifically, the structure of the bits for these packets may start with bit  of byte , and after reaching bit  in each byte, they may wrap into bit  of the next byte. When a field has bits crossing over the byte boundary, the lower numbered bytes may have the higher place value. For example if a 13 bit field started on bit  of byte , then the 3 most significant bits (:) would come from byte  bits :, the 8 next most significant bits (:) would come from byte , and the 2 least significant bits (:) would come from byte  bits :.","According to an embodiment of the present invention, the bandwidth associated with these packets is 700 Kbps, of which only 225 Kbps may be processed by a given IRU . This is equivalent to just under 168 MPEG packets per super frame, although the total usable bandwidth may depend on the NPEG Packet packing. This bandwidth may require for each outroute. Although the SFNP may have to be distinct for each outroute, the other packets can be identical for all outroutes that share the common Return channels. All of these frames may be sent with very high priority by the appropriate satellite gateway and the Super Frame Numbering Packets may require the highest priority in the system. Encoding of these packets is especially crucial, as incorrect information, and malformed packets can cause IRU misoperation, including transmitting on incorrect frequencies. These messages may all be UDP datagrams, which may include the following packet types: superframe numbering packet (SFNP), Inroute Group Definition Packet (IGDP), Bandwidth Allocation Packet (BAP), Inroute Acknowledgement Packet (IAP), and Inroute Command\/Acknowledgement Packet (ICAP). The structures of these packets are discussed below with respect to .",{"@attributes":{"id":"p-0126","num":"0125"},"figref":["FIGS. 6A-6O","FIG. 6A"],"b":["1","601","601","601","601","601","113","601","109","601","109","601"],"i":["a","b ","b ","c ","c"]},"The SFNP  includes a Frame Number field , which is 16 bits in length and is incremented by 8 each super frame, and is used to identify global timing; the Frame Number field may wrap every 49 minutes. A 32-bit Local Delay field captures elapsed time, as obtained from a timing unit, between a previous super frame pulse and the reception of the SFNP through the local equipment. The value of 0 for this field may be used to indicate that the value is unknown for the super frame. The IRU may need to receive 2 consecutive SFNP to be able to interpret this field . Additionally, a 32-bit Echo Delay field indicates the elapsed time between two prior super frame pulses and the reception of the SFNP  through the satellite . As with the Local Delay field , the value of 0 indicates that the value is unknown for the super frame. The IRU may need to receive three consecutive SFNP  to be able to interpret this field . A SFNP Interval field , which is 32 bits in length, specifies the elapsed time between the current super frame pulse and a previous frame pulse. This may allow the IRU to adjust for any differences between the local measurement clock (nominal 8.192 MHz), and the clock used by the timing units, which may be different. The value of 0 may be used to indicate that the value is unknown for the previous super frame. Because of the high accuracy of the timing units, the IRU may only need to receive three consecutive SFNPs  to interpret this field . A Space Timing Offset field is a 32 bit field that specifies a timing offset value. A Reserved field , which is 2 bits in length, has a 0 value when transmitted; this field can provide a mechanism to confirm whether the correct satellite network is being monitored. Further, a 15-bit Frequency field specifies the frequency of the outroute satellite transponder, in units of 100 kHz. A Longitude field , which is 15 bits long, indicates the longitude of the Outroute Satellite, in which bit  is the West\/East_indicator, bits : are the degrees, and bits : are the minutes.","The SFNP uses 1 packet per Super Frame, or 2 Kbps of bandwidth, and is transmitted on the beacon multicast address. The processing of these packets are as follows. If the FLL (frequency lock loop) Lock is lost, then no timing can be derived from the SFNP, and network timing is declared as out of Sync. Both timing source may be monitored, if present, but a change in selection may only be made after receiving 3 consecutive SFNP from the same source when no network timing source is selected. In addition, network timing is declared as in Sync, only after receiving 3 consecutive SFNP from the selected timing source, and having the local timing match within a given number of clocks. This may typically require 4 super frame times. Network timing is declared as out of Sync, after receiving 2 consecutive SFNP from the selected timing source, and having the local timing being off by more than a given number of clocks. Additionally, network timing is declared as out of Sync, and the network timing source becomes unselected, after not having received any SFNP for 3 super frame times. Further, network timing is declared as out of Sync, and the network timing source becomes unselected, after not receiving 2 consecutive SFNP for a given number of super frame times. In addition, network timing is declared as out of Sync, and the network timing source becomes unselected, after not receiving 3 consecutive SFNP for a given number of super frame times.","The Inroute Group Definition Packet (IGDP) packet may be used to define the Return channels on a return channel group, and to allow selection of return channel groups for Aloha and Non-allocated ranging. Return channel groups are used to allow for load sharing between a number of return channels, and to minimize the outroute bandwidth required to control the return channel bandwidth allocation. They also may limit the amount of information that needs to be cached or processed by the IRU ","As seen in , an inroute group definition packet  includes the following fields: a Frame Type field , an Inroute Group ID (identification) , a Reserved field , a Return Channel Type field , an Aloha Metric field , a Ranging Metric field , and a Frequency Table field . For the inroute group definition packet , the 8-bit Frame Type field has a value of 2. The Inroute Group ID field 7 is 7 bits long and identifies a particular inroute group. The 13-bit Reserved field has a 0 value and is ignored during reception. The Return Channel Type field use 4 bits to indicate the type of return channels that are defined in the inroute group; e.g., the value of 0 is defined as 64 Kbps with convolutional encoding. The Aloha Metric field  (a 16 bit field) is used for random weighted selection of a return channel group when going active, and is based on the number of Aloha bursts that are defined and the collision rate on those bursts. The metric value also accounts for loading on the NCC A, or the Return channel Group. For example, a value of 0 indicates that Aloha is not currently available on this Return channel Group. The Ranging Metric field , which is 16-bits, is used for random weighted selection of a Return channel Group when performing Nonallocated Ranging. The ranging metric value is based on the number of Nonallocated Ranging bursts that are defined and associated collision rate on those bursts. For example, a value of 0 indicates that Nonallocated Ranging is not currently available on this Return channel Group. Lastly, the packet  has a variable length (N\u00d724 bits) Frequency Table field , which is used to transmit on each of the return channels in the group. Changing the Frequency for a return channel must be carefully coordinated to avoid interruptions of network operation, or transmission on the wrong return channel frequency around the switch over point. According to one embodiment, there is an upper bound of no more than 4K return channels between all return channel groups for an outroute. The upper bound for the number of return channels in each return channel group depends on the limit of the number of Burst Allocations in the Bandwidth Allocation Packet (). The value of N is derived from the length of the IP Datagram; this uses 1 packet per Return channel Group per Super Frame, or 26 Kbps of bandwidth for 75 Return channels per Group, and 300 return channels. The packet  is transmitted on the all IRU Multicast address.","Each IRU may be expected to monitor all Inroute Group Definition Packets The IRU filters out Return channel Types that the IRU is not configured to support, and age out the definition if not received for 3 Super Frame times. The table that is created in each IRU from all of these packets should be almost static, with the exception of the Metrics This is to minimize the overhead in the IRU for reorganizing the Inroute Group Table, and because these changes may disrupt network operation.","When an IRU is active, the IRU may monitor its current Inroute Group, as well as a second Inroute Group around the time the IRU is moved among Inroute Groups. To limit latency when an adapter needs to go active, all inactive adapters with valid Ranging information may use the following procedures. Every 4th frame time in the Super Frame, the IRU may make a random weighted selection between all the Inroute Group's that advertise a non-zero Aloha Metric, and may start to monitor that Inroute Group. The previous Inroute Group may need to be monitored until all previous Bandwidth Allocation Packets have been received, or lost.","For every frame time, the IRU may randomly select one of the Aloha bursts from the Bandwidth Allocation Packet for the Inroute Group that is selected for that frame time. When the IRU goes active and has no outstanding Aloha packets, the IRU may select a random number of frames (from 1 to 8), ignoring any frame times that had no Bandwidth available, it may transmit a single burst during the randomly selected frame time, and wait to be acknowledged. If the IRU has not received an acknowledgement (e.g., the acknowledgement is lost), the IRU may resend the Aloha packet. After a number of retries indicated in the SFNP, the adapter should classify the ITU as non-functional, and wait for user intervention. While the Aloha packet is outstanding, the IRU may monitor up to 3 Inroute Groups: (1) one for the Aloha Acknowledgement, (2) one for the new Inroute Group to try, and (3) one for the previous Inroute Group.","In order to limit latency when an adapter needs to go active, all inactive adapters with invalid Ranging info may use a similar procedure for Nonallocated Ranging bursts. The approach may be augmented to include a default Power Level for the first Nonallocated Ranging burst. Further, this power level may be increased until the Ranging Acknowledgement is received by the IRU ","A bandwidth allocation packet (BAP), shown in , is used to define the current bandwidth allocation for all inroutes connected to an Inroute Group. The packet  includes an 8-bit Frame Type field (which has a value of 3 to indicate a BAP), and a 16-bit Frame Number field , which indicates the Frame Number that is allocated in this packet , and may be larger than the current Frame Number. The difference between the frame numbers is a fixed offset to allow the IRU sufficient time to respond to changes in bandwidth allocation. A Burst Allocation field has a length of N\u00d724 bits and specifies all the burst allocations for each Inroute. The field may order all the bursts in a Frame, and may repeat a Frame for each Inroute in the Group; the field is limited to no more than 489 entries, since IP Datagrams are limited to 1500 bytes. This feature enables the IRU to perform a linear search. An incorrect Burst Allocation Table can cause improper operation of the network, as there is limited error checking on this field . The value of N is derived from the length of the IP Datagram.",{"@attributes":{"id":"p-0136","num":"0135"},"figref":"FIG. 6","i":["c ","a","b","c","d","a ","a ","b ","c ","d "],"b":["605","6","607","607","607","607","609","607","607","411","607","607","607"]},"For each Frame, the IRU may receive another Bandwidth Allocation Packet from the Inroute Group it is currently expecting to receive bandwidth allocation on. The IRU may need to scan the entire table to obtain the necessary information to transmit data, and process acknowledgements. In an exemplary embodiment, the Burst Allocation field may contain the following fields: Inroute Group, Inroute Index, Frame Number, BurstID, Burst Offset, Burst Size, and Acknowledgement Offset. Since the IRU can be monitoring two Inroute Groups, the IRU may need to confirm the Inroute Group based on the MAC Address of the packet , and only process the Bandwidth Allocation Packet  for which IRU expects to use bandwidth. The Inroute Index is the Cumulative Burst Offset DIV Slot Size of a frame, and is used as an index into the Frequency Table field of the Inroute Group Definition Packet . Frame Number within the Bandwidth Allocation field can come from the Frame Number field of the packet . A BurstId field may be the 4 least significant bits of the Index into the Burst Allocation field . The Cumulative Burst Offset starts at 0, and increases with the each Burst Size. The Burst Offset is effectively the Cumulative Burst Offset MOD Slot Size of a Frame. The Burst Size may come from the Burst Allocation packet (FIG. D). An Acknowledgement Offset field is an Index into the Burst Allocation Table of the entry.","This uses 1 packet per Inroute Group per Frame, or 535 Kbps of bandwidth for 25 active users per inroute, 75 Inroutes per Group, and 300 inroutes. Since it is transmitted on the Inroute Group's Multicast address, each IRU may only have to process 134 Kbps.","To ensure that active users do not experience degraded performance or data lost by any load balancing at the NCC , at least ten frames prior to moving an IRU to a different Inroute Group (but on the same NCC ), the IRU may be notified, so that it can begin to monitor both Inroute Group streams. This feature permits the system  to scale. The IRU may need to continue monitoring both streams, until all outstanding Inroute Acknowledgement packets are received, or have been identified as lost. There may be at least 1 frame time with no bandwidth allocated between bursts that are allocated on different Inroutes; this ensures that the IRU may be able to fill all its assigned slots, and have at least 1 frame time for tuning. The above requirement may apply to bursts that are defined across consecutive Bandwidth Allocation Packets, and when moving between Inroute Groups on the same NCC . However, if this requirement is not met, to avoid transmission across multiple frequencies, then transmission may be disabled during one of the assigned frames, rather than permitting tuning during a transmission. There may be at least 1 complete frame with no bandwidth allocated between normal and Ranging bursts, thereby ensuring that the IRU may be able to fill all it's assigned slots, and yet have at least 1 frame time for tuning and adjusting transmission parameters. After the Bandwidth Allocation packet (which moves an IRU to a different Inroute Group) is sent, the NCC may continue to receive bursts under the old Inroute Group for a time in excess of the Round Trip Delay. The NCC should be prepared to accept these frames, and to acknowledge them, and the IRU should continue to monitor the Acknowledgements from the old Inroute Group. An IRU may not have its bandwidth moved to a different Inroute Group, while the IRU is still monitoring a previous Inroute Group the IRU has just been moved from\u2014i.e., the IRU need only monitor up to 2 Inroute Groups.","An adapter may only be assigned multiple bursts during a single frame time under three conditions. First, if these bursts are all on the same Inroute. Second, the bursts are adjacent to each other (i.e., back to back) in the frame. The adapter may transmit one packet for each allocated burst, but without the Burst Overhead of turning the Radio on and off for each packet. In the third case, all of the bursts, except the last, may be large enough for the maximum sized packet (largest multiple of the slot size\u2266256), but only the first burst may have the Burst Overhead\/Aperture included in its size. Accordingly, the system  is constrained to no more than 6 bursts per frame to support 256 Kbps Inroutes.","Once an AssignID is assigned to an adapter on an Inroute Group, the assignment may not change while the adapter remains active\u2014except as part of a move between Inroute Groups. Once an AssignID is assigned to an adapter on an Inroute Group, it may be left unused for five super frame periods after it is no longer in use.","It is important to note that if an Inroute Group advertises that it has Aloha or Nonallocated Ranging bursts, than it may have some number of those bursts defined every frame time\u2014e.g., for the next ten frame times. Furthermore, the number of bursts should be evenly spread across all frames in the Super Frame. Failure to meet this requirement may result in higher collision rates, and increased user latency.","The IAP packet is used to acknowledge each Inroute packet for assigned bandwidth with a good CRC, regardless of the presence of any encapsulation data. Besides allowing for faster recovery to inroute packet errors, this may also allow measurement of the inroute PER at the IRU. Aloha and Nonallocated Ranging packets are acknowledged explicitly.",{"@attributes":{"id":"p-0144","num":"0143"},"figref":"FIG. 6","i":["e ","a","b","c","a ","b ","c ","c ","a "],"b":["609","609","609","609","609","609","605","605","109","605","605"]},"This uses 1 packet per Inroute Group per Frame, or 57 Kbps of bandwidth for 25 Active Users per Inroute, 75 Inroutes per Group, and 300 inroutes. Since it is transmitted on the Inroute Group's Multicast address, each IRU may only have to process 15 Kbps.",{"@attributes":{"id":"p-0146","num":"0145"},"figref":["FIG. 6","FIGS. 6G-6L"],"i":["f ","a","b","c","d","e","f","g","a ","b ","b ","c","e","d ","d ","e ","e ","e","f ","e"],"b":["611","611","611","611","611","611","611","611","611","611","611","611","611","611","611","611","611","611","613","611","613","611","611","611","613"]},{"@attributes":{"id":"p-0147","num":"0146"},"figref":"FIG. 6","i":["g ","a ","b ","c ","d ","e ","f ","g ","a ","a","b ","c ","d ","e ","e ","c","f ","g "],"b":["613","613","613","613","613","613","613","613","613","109","613","609","613","613","613","637","613","605","613","613"]},{"@attributes":{"id":"p-0148","num":"0147"},"figref":"FIG. 6","i":["h ","a","b","c","d","e","a","b","c","e ","a","b","c","d","e","b ","d ","e ","e "],"b":["615","615","615","615","615","615","615","615","615","615","615","613","613","613","613","613","613","615","615","615","637","615"]},{"@attributes":{"id":"p-0149","num":"0148"},"figref":"FIG. 6","i":["i ","a ","b ","c ","a ","a","b ","a ","a ","a. "],"b":["617","617","617","617","613","615","617","109","617","109","109","109"]},{"@attributes":{"id":"p-0150","num":"0149"},"figref":"FIG. 6","i":["j ","a ","b ","c ","d ","e ","f ","b ","c","d","e","f ","c","d","e"],"b":["619","619","619","619","619","619","619","619","619","619","619","619","619","615","615","615","615"]},{"@attributes":{"id":"p-0151","num":"0150"},"figref":"FIG. 6","i":["k ","a ","b ","d ","e ","f ","b ","b ","e ","f ","e "],"b":["621","621","621","621","621","621","621","621","621","621"]},"The structure of a Send Test Pattern Command is shown in FIG. . This command  includes a Serial Number field (26 bits), a Command field (4 bits), a Reserved field (3 bits), a Pattern field (3 bits), and a Frequency field (24 bits). With this command, the Command field has a value of 6. It is noted that this command may inactivate the adapter. The 3-bit Pattern field specifies the test patterns that can be programmed from the ITU registers. If the Pattern field has a value of 0, then the test is terminated. The test can also be terminated if the Send Test Pattern Command is not repeated within four frame times.","The return channel burst structure may be defined by the burst structure required by the Burst Channel Demodulators (BCDs) . The 64 kbps OQPSK BCD utilizes the frame structure, shown below in Table 3. The frame overhead is sized as 2 slots (112 bits) minus the aperture size. The Aperture size (125 microseconds) is 8 bits.",{"@attributes":{"id":"p-0154","num":"0153"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"98pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 3"},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}},{"entry":["Field","Bits","Microsec.","Comments"]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"21pt","align":"char","char":"."}},{"@attributes":{"colname":"3","colwidth":"35pt","align":"char","char":"."}},{"@attributes":{"colname":"4","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Radio Turn-on","2","31",{}]},{"entry":["Continuous Wave","55","859","Divided into subparts"]},{"entry":["CW Detect","17",{},"Needed for BCD to determine"]},{"entry":[{},{},{},"start of burst"]},{"entry":["Freq Est","24",{},"Needed for BCD frequency"]},{"entry":[{},{},{},"offset estimation algorithm"]},{"entry":["Freq Proc","3.5",{},"Time for BCD to process"]},{"entry":[{},{},{},"frequency estimation"]},{"entry":["HW Update","10.5",{},"Time to prepare DSPs and other"]},{"entry":[{},{},{},"components for data"]},{"entry":["Unique Word","24","375","Unique word needed for burst"]},{"entry":[{},{},{},"acquisition"]},{"entry":["DeadTime","3","47","All 1's"]},{"entry":["PAYLOAD","56*N","875*N","Each slot is 7 bytes of user"]},{"entry":[{},{},{},"traffic"]},{"entry":["Postamble","18","281","Parity bits at the end of the burst"]},{"entry":["Radio Turnoff","2","31"]},{"entry":["TOTAL Overhead","104",{},"2 slots - Aperture (8 bits)"]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]}}]}}},"All the fields in the Inroute packets, and Inroute related packets, may be encoded using a Big Endian (Network Byte Order) format. To be more specific, the bits in any structure defined for these packets may start with bit  of byte , and after reaching bit  in each byte, they may wrap into bit  of the next byte. When a field has bits crossing over the byte boundary, the lower numbered bytes may have the higher place value. For example if an 13 bit field started on bit  of byte , then the 3 most significant bits (:) would come from byte  bits :, the 8 next most significant bits (:) would come from byte , and the 2 least significant bits (:) would come from byte  bits :.","As shown in , the inroute packet format includes of a variable size header and 0 or more bytes of encapsulated datagrams. The encapsulated datagrams are sent as a continuous byte stream of concatenated datagrams, with no relationship to inroute packetization. Proper interpretation may require a reliable, ordered processing of all data bytes exactly once. To resolve problems due to data loss on the inroute, a selective acknowledgement, sliding window protocol may be used. As is the case for such sliding window protocols, the sequence number space may be at least twice the window size, and data outside the window may be dropped by the receiver.","Since the burst allocations may be of different sizes, and can vary over time, the windowing may be of a byte level granularity. For the same reasons, retransmissions may be less efficient, as the retransmission burst may not match the original transmission burst size.","For allocated streams, Inroute burst data may be retransmitted if not acknowledged in the Inroute Acknowledgement Packet for that Frame Number, or if that Acknowledgement is lost. After, for example, 3 retries, the adapter should classify the ITU as non functional and wait for user intervention.","If synchronization problems are discovered, the NCC can force the adapter inactive by removing its bandwidth allocation. This may cause the adapter to reset its sequence number and datagram counter to 0, and start at the beginning of a new datagram. This may also cause the flushing of all Backlogged datagrams in the IRU. Since the sequence number is reset every time the adapter goes active, any data sent in Aloha or Nonallocated Ranging bursts may be duplicated due to retransmissions, if the acknowledgement is lost.","One of the \u201cfeatures\u201d of the BCDs is that multiple packets can be concatenated in a Burst, but if Bits : of Byte  are all 0's, and Bits : of Byte  are all 0's, then the BCD may ignore the rest of the burst. To take advantage of this, when back to back bursts are allocated to the same adapter, it may not turn off the Radio, and may use the saved Burst Overhead for extra Payload. This may keep the required 1 to 1 mapping of allocated bursts to packets. Also, if the requirement of avoid 0's at the beginning of the packet is not met, the Backlog Indicator can be.","Active adapters that have no data ready to send may send Inroute packets of the full allocated burst size without any encapsulated datagrams to maintain channel utilization, and allow measurement of inroute PER from the NCC A. This may be replaced to include periodic Network Management packets containing system profiling information.","A burst data frame (i.e., inroute packet) for Aloha (and ranging) bursts has the structure shown in . The NCC A can detect the type of burst from the frame numbering information in the packet header. The structure for the inroute packet include the following fields: a Serial Number Low field , a Backlog Indicator field , Padding Indicator field , Frame Number field , Burst Number field , a Length FEC field , a Length field , a Serial Number High field , a Destination ID field , a Backlog field , a Padding field , an Encapsulated Datagrams field , and a CRC field . The Serial Number Low field stores the 8 least significant bits of the serial number. The serial number is split because of the BCD requirements with respect to the location of the Length field and because of the need to have the first 13 bits non-zero. The 1-bit Backlog Indicator field indicates the presence of the Backlog field. This should always be present for Aloha and Nonallocated Ranging bursts. The 1-bit Padding Indicator field indicates the absence of the Padding field. This field should be encoded as a 0 to indicate padding is present. The reason that this is encoded this way, is so that the BCD requirement for having 1 of 13 specific bits set can be met. If they are not set, then the packet is already padded, and one byte of padding can be traded for enabling the Backlog.","The Frame Number field stores the 2 least significant bits of the frame number, and may help the NCC A to determine which burst was received. The 4-bit Burst Number field indicates the burst slot that the Frame was transmitted in, assisting with identifying that burst as an Aloha type burst. The 8-bit Length FEC field is the FEC value for the length, produced via table lookup in software. The 8-bit Length field is the length of the burst and includes all the bytes starting with the Backlog Indicator field through the CRC field . The 8-bit Serial Number High field stores the 8 most significant bits of the of the Source adapter's serial number. The Destination ID field I specifies the destination hybrid gateway. The Backlog field indicate the number of bytes of Backlog that are present. It's encoded as a floating point number with a 2 bit exponent field and a 6 bit mantissa, and may be rounded up by the IRU. The end of the Backlog is indicated by 8\u00d7Backlog[:]\u00d72+SeqNr+size of the Encapsulated Datagram field. As such, it may include out of order, acknowledged data. It is only included to indicate increases in the size of the backlog, as measured from the IRU. The size of this field is sufficient for just under 2 seconds at 256 Kbps. The Padding field , if present, has its first byte indicating the total number of Padding bytes (N); all the other bytes are \u201cDon't Care\u201d. This field is used to allow for stuffing packets to maintain link utilization when no data needs to be transferred, and to allow the padding of packets to the minimum burst size for Turbo codes. The N\u00d78-bit Encapsulated Datagrams field contains 0 or more bytes of encapsulated datagrams. There is no relationship between IP Datagram boundaries and the contents of this field; i.e., this field can contain a section of an IP Datagrams, or multiple IP Datagrams. The value of N can be derived by subtracting the size of the other fields in the packet from the Length. The CRC field stores a 16-bit CRC; a burst with an invalid CRC is dropped and statistics retained.","As shown in , the structure of another inroute packet include the following fields: a Sequence Number Low field , a Backlog Indicator field , Padding Indicator field , Frame Number field , Burst Number field , a Length FEC field , a Length field , a Sequence Number High field , a Backlog field , a Padding field , an Encapsulated Datagrams field , and a CRC field . The Sequence Number Low field stores the 8 least significant bits of the Sequence, and thus, is 8 bits in length. The sequence number is split off because of a BCD requirement for the placement of the Length fields and as well as the need to avoid all O's in certain bit positions. The 1-bit Backlog Indicator field indicates the presence of the Backlog field. This should always be present for Aloha and Nonallocated Ranging bursts. The 1-bit Padding Indicator field indicates the absence of the Padding field . This field should be encoded as a 0 to indicate padding is present. The reason that this is encoded this way, is so that the BCD requirement for having 1 of 13 specific bits set can be met. If they are not set, then the packet is already padded, and one byte of padding can be traded for enabling the Backlog.","The Frame Number field stores the 2 least significant bits of the frame number, and may help the NCC  A to determine which burst was received. The 4-bit Burst Number field indicates the burst slot that the Frame was transmitted in. With the addition of the Inroute and Frame number it was received on, the NCC A may be able to uniquely identify the source (SerNr) and destination (DestId). The 8-bit Length FEC field is the FEC value for the length, produced via table lookup in software. The 8-bit Length field is the length of the burst and includes all the bytes starting with the Backlog Indicator field through the CRC field . The 8-bit Sequence Number High field stores the 8 most significant bits of the sequence number field that is used for the retransmission protocol. This is the Selective Acknowledgement, sliding window, byte address of the first byte of the Encapsulated Datagrams field. With a 32 Kbyte window size, this is large enough for 1 second at 256 Kbps. The Backlog field , Padding field , Encapsulated Datagrams field , and CRC field are similar to the fields , , , and of packet .","Some of the packets sent to the NCC do not require an IP header. Therefore, bandwidth savings are made by sending much smaller datagram headers, as shown in FIG. . The packet  includes a 4-bit Reserved field , which should have a value of 0 during transmission and may be used to specify Encryption, Compression, or Priority values. A Datagram Counter\/CRC field (12-bits) stores a 12 bit Datagram Counter value, from which a 12 bit CRC can be calculated by software on this Encapsulated Datagram appended with the SerNr and DestId; and the result is stored in this field over the Datagram Counter value. The purpose of this field is to detect loss of Synchronization between the IRU and the NCC , thereby ensuring uncorrupted reassembly, correct source and destination addresses, and no loss of datagrams. Failures on this CRC should be considered as a synchronization failure, and the IRU should be forced to the inactive state by the NCC , so as to initiate resynchronization. The polynomial to use in calculating this CRC is X+X+X+X+X+1 (0xF01), and the preset (initial) value is 0xFFF. The packet  also includes a 4-bit Protocol Version field ; this field may be encoded as 0 to indicate Network Management datagrams. Further, this value may be explicitly prohibited from being sent from the Host driver, for Network Security reasons. Further the packet  contains an 8-bit Message Type field for specifying the message type, a 16-bit Length field for indicating the length of the datagram (including the header), and a Payload field , which is a variable length field (N\u00d78 bits). The value of N is the Length field that is present for all Payload formats.",{"@attributes":{"id":"p-0167","num":"0166"},"figref":"FIG. 6","i":["p ","a","b","c","d ","e ","f ","g "],"b":["631","631","631","631","60","631","631","631","631","631","791"]},"A number of scenarios exist in which the NCC may force an adapter to the inactive state. For example, if the NCC detects a synchronization error with the adapter, arising from errors in the encapsulation layer of the protocol, or by the Protocol Version field and Length field of the payload . In addition, if the NCC receives no Inroute packets with good CRC from the adapter for 24 frame times, then the adapter becomes inactive. Also, if the NCC receives no Inroute packets with good CRC containing encapsulated datagrams for a number of frame times configured at the NCC . Prior to that, the adapter may have its bandwidth allocation reduced due to inactivity. Inactivity may forced upon the adapter if the NCC receives Inroute packets with good CRC containing encapsulated datagrams that have already been acknowledged (out of window or completely overlapping prior data) after a configured number of frame times from when it last advancing the SeqNr. This can be due to excessive retransmissions, or synchronization errors. Lastly, the adapter can be made inactive through an operator command.","An IRU may become inactive if the IRU does not receive any Bandwidth Allocation packets from its current Inroute Group, which has assigned the IRU bandwidth for 24 frame times. If the Bandwidth allocation packet is not received, the IRU may not transmit during that Frame, but may consider itself as remaining active. Reception of explicit commands from the NOC  may also change the state of the IRU from active to inactive. Further, a USB Reset or a USB Suspend may cause the adapter to go inactive, and flush the adapter's Backlog. The adapter may go active again, based on received messages from the NOC . Further, the IRU may become inactive if a the adapter's transmit path is disabled because of various conditions, for example, loss of FLL lock, loss of Super Frame synchronization, and etc.","Each of the gateways to be supported by the NCC is configured into the NCC . For each gateway ID, the NCC has the gateway address to gateway IP address mapping. This mapping may be periodically sent to all of the receivers. The receiver uses the mapping transmission to determine which gateway id is associated with its gateway IP address and informs the IRU which gateway ID to use for inbound messages when it first becomes active using an ALOHA burst. This may support modes where the gateway IP address is dynamically set at connection setup time.","The source address may be the lower 28 bits of the 32 bit transceiver serial number. This is used for packet rebuilding. Messages may be sent by serial number to a receiver for polling, bandwidth allocation, and retransmission support.","The network timing is designed to control the burst timing of a group of return channels, which share the same frame timing. The frame timing is derived from a pulse from the NCC A. The NCC A allocates bandwidth, coordinates the aperture configuration, and sends framing pulses to both the BCDs that receive the traffic and to timing units which measure packet delay.","The NOC  may provide return channel frame format information once every 8 TDMA frames. The TDMA frame time is 45 milliseconds. Therefore, the return channel \u201csuper frame\u201d may be defined as 360 milliseconds. To properly coordinate the return channel frame timing, additional information is provided to the receiver so that the receiver may precisely time its burst transmission time as an offset of the received \u201csuper frame\u201d.","Accordingly, the NCC sends a super frame marker pulse once every 360 ms to the timing units , and concurrently transmits a super frame IP frame (super frame header) to all IRUs . A frame pulse is sent to the BCDs every 45 milliseconds. The delay between the super frame marker pulse and the associated frame pulse is a fixed time, which is denoted as the \u201cspace timing offset\u201d. The space timing offset is calculated as the maximum round-trip time from the farthest receiver plus two frame times. The two frame times are provided as a buffer to ensure that the transceiver has sufficient time to process return channel frame format data and to forward the return channel data to the transmit indoor unit one-half frame time ahead of the frame transmit time. The super frame header is used by every transceiver  to synchronize the start of frame marker to the NCC super frame marker. However, this information is not sufficient because there is a delay from the time that the NCC generates the super frame header until the header is received by the receiver.","The super frame header delay encompasses the NOC delay, the transmission time to the satellite (from the NOC ), and the transmission time from the satellite to the specific receiver. The transmission time from the satellite to the specific receiver is a known parameter that is determined during ranging. This value can vary slightly due to satellite drift along the vertical axis. To adjust for this variation, Echo Timing is implemented at the NOC to measure changes in the satellite position. Echo Timing measures both the transmission time from the NOC  to the satellite  and the satellite drift from the NOC's position (which approximates the drift from the receiver's position). The transceiver  is unaware of the delay in the NOC , which can vary in real-time. Thus, a second IRU is implemented in the NOC  to measure the NOC delay. A pulse is sent to this IRU when the frame is supposed to be sent, and the IRU detects when the frame was actually sent. This delay is broadcast in the Frame Time message to all return channels to adjust for the NOC delay when calculating the actual time of the start of the super frame.","When the transceiver  receives a super frame packet, the transceiver  time-stamps the packet. This time-stamp is created, for example, using an internal 32-bit counter free-running at 32.768\/4 MHz. For the transceivers  to determine exactly when the super frame marker occurred at the outroute hub, software of the user terminal  subtracts the site's satellite delay and the NOC delay. The NOC delay is broadcast in the Frame Numbering Packet. This delay is calculated at the HUB by the Local Timing IRU. The NOC  also provides the NOC  to satellite portion of the satellite delay in this message as the difference between the local timing and echo timing IRUs . The Receiver has a configured value for the satellite to receiver satellite delay; other than ranging, this is a fixed value. In this situation, the NOC delay at ranging is stored and the change in the NOC delay is also applied to the receiver satellite delay to approximate satellite drift. When ranging, the PC approximates this value from the location of the satellite, location of the receiver, NOC timing, and the space timing offset configured in the NOC. The ranging process adjusts this value, and the site stores the final value.","Once the super frame timing has been generated, the site may determine its transmission time such that the frame is received at the proper time at the NOC . The time at which the site may transmit is a satellite hop prior to the time that the NOC  expects the data to be received. The transmission time is measured by starting with the fixed space timing offset later than the regenerated super frame time. The NOC delay and the receiver satellite delay may be subtracted from this timebase. The final adjustment, for satellite drift, is made by determining the NOC delay difference between current and ranging and applying it.","The \u201cranging\u201d process, whereby a site on a NCC is configured is described as follows. When the IRU is configured, the host PC  provides parameters including a \u201crange timing offset\u201d for the receiver. At this point in time, the IRU may not enable transmission if the ranging timing is zero. The IRU , however, may enable the MAC for the NCC master list and receive this message locally. Thereafter, when IRU acquires transmit timing and is requested by the PC host  to range, IRU may select a NCC based on having an available ranging burst. IRU requests a ranging transmission by sending a message over the ranging burst using some default amount of power after some random number of frame backoffs. If no response is received and the burst is still available, IRU may increase power and try again. If the burst is now allocated to a different user, IRU may revert to selecting a NCC based on available ranging bursts. Once ranging response is received, IRU may start sending ranging data every frame; this data may include the frame number. Next, IRU adjusts ranging time and power based on NOC response and continues to adjust until IRU is within a close tolerance. IRU then stores the values when ranging is successful. IRU then enables normal transmission mode.","The NCC may be capable of requesting a site to enter ranging mode. When the site does enter this mode, the site may use the ranging burst it has been assigned. It may transmit normal traffic (or a small fill-type packet) to the NCC . The NCC may adjust the timing and power for the site. These adjustments may be stored if the NCC indicates a successful re-range of the site.","According the one embodiment of the present invention, the Return Channel requirements are largely based on a traffic model, which defines the traffic pattern for a typical user. The capacity requirements, for example, may be as follows. It is assumed that the system  is based on a 2-to-1 ratio of outroute transponders to return channel transponders. An exemplary requirement is approximately 22,000 users per transponder, so 45,000 users (4500 active) per transponder are required for the return channel. Given a 2-to-1 ratio, 300 64 kbps return channels per transponder are supported by system , with 15 active users per return channel. Each NCC supports up to 30 return channels (32 BCDs, in which 2 are backups). Since each return channel supports 15 active users, the bandwidth sizing may assume 450 active users for a NCC . The return channels may be scaled in sets of 30 return channels.","In the alternative, the system  may support a 5-to-1 ratio of outroute transponders to return channel transponders. In this case, the system  provides up to 600 64 kbps return channels per transponder, with 25 active users per return channel","The return channels on an NCC , according to an embodiment of the present invention, may support frequency hopping to provide increased efficiency of system . A subset of return channels may be configured to support a contention protocol, such as Aloha. It should be noted that any equivalent contention protocol may be utilized in system . A receiver may randomly select a return channel with Aloha slots. In turn, the NOC  may assign the receiver a stream on the same or a different return channel. The NOC  may change the frequency for the assigned stream when the site requires additional bandwidth, when another site requires additional bandwidth on the same return channel, or when the site may be used for a poll response on another return channel to keep the BCD locked for the return channel. NCC polling is used to keep BCDs locked. The NCC polling algorithm also ensures that bandwidth is not wasted polling sites that are known to be either good or bad. The NCC polling algorithm may poll sites based on a LRU used list. Both the least recently used and \u201cknown bad\u201d list may be rolled through to periodically verify site health of all sites. When the NCC changes the frequency for a site, the NCC may, at a minimum, provide a single frame for the site to retune to the new frequency.","A user on the system may have bandwidth allocated in one of the following three states. In the first state, if the user has not transmitted traffic for a period of time, then the user may be inactive. When inactive, the user may use Aloha to send initial traffic to the NOC . The second state is when the user is active. In this state, a periodic stream is setup for the user. The periodic stream, at 1 kbps, is sufficient to handle TCP acknowledgements assuming ack reduction timer of 400 milliseconds. In the third state, the user's transmit backlog exceeds a predetermined value, in which additional bandwidth is provided. Additional bandwidth allocations are supplied until the maximum is attained or the backlog begins to decrease.","A pure-Aloha system assumes that a packet is randomly transmitted in a slot when data transmission is requested. The standard efficiency of a pure-Aloha system is 7%; this means that, when over 7% of the system is loaded, there may be a high number of retransmits necessary, making the response time delays too long. With a 7% efficiency rate, each active user would get (64 kbps\/return channel)*(1 return channel\/15 users)*(0.07)=300 bits\/sec. This is obviously not enough bandwidth. In addition, aloha return channels may have more difficulty applying future efficiency techniques because of the collision nature of the channel.","A diversity aloha system is an adjustment to the pure-aloha system in that every packet to be sent is actually sent 3 times. This channel becomes 14% efficient. This doubles the throughput to 601 bits\/sec.","An Aloha\/Periodic stream technique is based upon the idea of being able to forecast the type of traffic an active user may be transmitting over the return channel. For the forecasted traffic (which occurs a majority of the time), the user may have non-collision bandwidth available. When the traffic requirements exceed the forecasted level, the user may be provided with additional allocated bandwidth.","An Aloha\/Periodic Stream\u2014PLUS technique builds upon the above Aloha-based concepts. Some of the capabilities that are provided in addition to the periodic stream are as follows: load balancing and minimal delay. The traffic is balanced to ensure that non-busy user (those not requiring additional bandwidth) are equally loaded on all return channels that support the streams. Also, a minimal delay algorithm, which is more fully described below, is employed to ensure that user traffic can be transmitted to the NOC  expediently.","The minimal delay approach relies on equally dividing all bandwidth, other than that used for users requiring additional bandwidth, among all other active users. A minimum (4 kbps or so) may be ensured for each user so other users may be unable to request additional bandwidth if every site does not have the minimum amount of bandwidth. This approach provides optimal results when the return channels are lightly loaded. As users become active, they are assigned to the return channels with the fewest number of users which leads to automatic load balancing.","In addition, some minimal burst size is defined for the per-user burst. This size results in a maximum number (denoted as M) of bursts per frame (which may be 3 (120 byte)\u22125 (71 bytes)) depending of frame analysis. On a given return channel, it is assumed that there are 357 burst bytes per frame time, which may be at least two bursts of traffic. As users are assigned to the return channel, they are provided bandwidth according to Table 4, below.",{"@attributes":{"id":"p-0190","num":"0189"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"91pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 4"},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["No. of Users","Burst\/frame","Approximate Rate"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["1 user","Two bursts\/frame","90%"]},{"entry":["2 users","One burst\/frame","45%"]},{"entry":["3-M users","One burst\/frame","[0.90\/(3-M)] \u00d7 100%"]},{"entry":["M + 1-2M users","One burst\/frame","[0.90\/(M + 1-2M)] \u00d7 100%"]},{"entry":["2M + 1-4M users","One burst\/frame","[0.90\/(2M + 1-4M)] \u00d7 100%"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}}}},"If M is defined as 5, then up to 20 users may be supported with each user getting 2.5 kbps. If M is defined as 4, then the number of users supported per return channel is 16 which is above the required value.","The bandwidth allocation is based on pre-defining the size of the \u201cperiodic\u201d burst. According to one embodiment of the present invention, it is assumed that three equally-sized bursts may be used. Since the 64 kbps frame has 57 7-byte slots, each burst may have a size of 19\u00d77=133 bytes.","The algorithm also assumes a small number of return channels which are full of slotted Aloha slots. These slots may be sized to handle the normal first transmission from a user (which is either a DNS lookup or an actual request). The Aloha burst sizes may be also 98 bytes (14 slots) to support 4\/frame. Fine tuning may be required using an ERLANG analysis on the arrival rate of packets from receivers in an inactive state.","When an Aloha burst is received, the user is assigned periodic bandwidth. The bandwidth is given an inactivity timeout value in seconds. In particular, if no data are yet received for the user, the algorithm uses the configured long timeout. If past data indicates periodic individual packets, the configured short timeout is used; otherwise, the long timeout is employed.","When a receive packet indicates that the backlog is greater than a configured amount, additional bandwidth may be provided to ensure that the data can be transmitted within a configured amount of time, if sufficient bandwidth exists. This may require switching the user to another return channel.","The bandwidth allocation algorithm ensures, when possible, that only the periodic bandwidth users are moved to another frequency. This allows the high-throughput users to transmit with no single frames of downtime (which are required if the site must switch frequencies). When possible, the bandwidth is allocated to ensure that user traffic backlog is reduced within a certain number of frames. The total backlog above the amount needed for additional bandwidth is determined. The algorithm determines if the requested bandwidth can be met within the number of frames. If so, the bandwidth is allocated as needed; if not, then the algorithm starts by limiting the bandwidth for those users with the largest backlog, as more fully described below.",{"@attributes":{"id":"p-0197","num":"0196"},"figref":"FIG. 7","b":["1","100","701","109","113","109","113","703","100","101","113","705","113","707","113","709","707","111","707","711","113","713"]},"Alternatively, another approach to limit bandwidth is to limit protocols such as ICMP so a user cannot monopolize a channel with PINGs.",{"@attributes":{"id":"p-0199","num":"0198"},"figref":"FIG. 8","b":["1","100","109","307","101","109","109","100"],"i":"b"},"A user may commission the two-way site with no access to a phone line or to the Internet . In step , the user installs software in the PC . The PC  executes the auto setup program, as in step . For example, when the user starts the setup program from a CD (compact disc), the user may enter location information. To be as user-friendly as possible, the information may be in terms of country, state\/province (optional), and city. From this information, the PC  may estimate the latitude and longitude of the site and select a two-way \u201cbeacon\u201d for the site based upon the information on the CD. The program instructs, as in step , the user to point the antenna to the beacon satellite using predefined pointing values. The system  provides a default satellite  and associated default transponder, whereby a user terminal  undergoing the commissioning process may establish communication with the NOC .","Upon a successful antenna pointing (and ranging), a temporary channel is established, as in step , from the transceiver  to the NOC  via satellite . This temporary channel may support either a connection-oriented or connectionless (e.g., datagram) connection. According to one embodiment of the present invention, the temporary channel carries TCP\/IP traffic, thereby permitting the use of a user-friendly web access and file transfer capabilities. The software may be capable of communicating over the system  to an \u201cauto-commissioning server\u201d in the NOC  to perform the two-way interaction required to sign the user up for two-way access.","In step , the NOC  collects user information, such as billing and accounting information, user antenna location, and service plan selection. Next, the NOC  downloads the network configuration parameters, antenna pointing parameters, and transceiver tuning parameters to the PC , per step . According to one embodiment of the present invention, the antenna pointing parameters include the following: satellite longitude (East or West), satellite longitude, satellite polarization, satellite polarization offset, and satellite frequency. The transceiver parameters may include a symbol rate, modulation type, framing mode, Viterbi mode, and scramble mode. Next, the PC  is configured based upon the received network configuration parameters (step ). In step , the user performs the antenna pointing process, as instructed by the program; this process is more fully described below with respect to FIG. . Thereafter, the PC  sets various other parameters relating to PC system settings, per step  (e.g., default directories for loading packages) and desired applications (e.g., webcast, newscast, etc.).",{"@attributes":{"id":"p-0203","num":"0202"},"figref":"FIG. 9","b":["8","901","903","905"]},"The program indicates whether the antenna is pointed to the correct satellite (step ). If the antenna is not pointed to the correct satellite , then the user adjusts the antenna position, per step . The user checks whether the antenna is properly position to exhibit an acceptable signal strength, as indicated by the setup program (step ). This measurement provides digital signal strength for a demodulated carrier. If the signal strength is below an acceptable level, then the user must re-adjust the antenna (step ). This approach requires another person to read the PC Antenna pointing screen while the antenna is adjusted; alternatively, the user may listen to an audible tone. Upon obtaining an acceptable signal strength, the antenna process ends.","As part of this process, the user may be assigned to a service that may be supported on a different satellite or the same satellite. If the service is on a different satellite, the user may re-point to another satellite and then should automatically be ranged and obtain service.","The IRU supports an AGC (automatic gain control) circuitry in addition to the signal quality factor measurement. The AGC circuitry provides a raw signal strength measurement that indicates that the receiver is receiving energy from a satellite . This provides the additional advantage that the signal can be measured prior to the demodulator being locked. However, the circuitry may lead to pointing to the wrong satellite if a nearby satellite has a carrier at the same frequency to which the receiver is tuning to lock to a carrier.","The antenna pointing for the IRU is supported in two different modes. Using voltage emitted from the ODU . It requires installation of the transmission equipment, and requires that the user have a voltmeter that can be attached to the ODU . The second mode is to use a PC Antenna pointing program, which may be separate from the auto-commissioning setup program. This is the approach used when the user either does not have transmission equipment or does not have a voltmeter to attach to the transmit ODU.","The first approach allows a user to be physically present at the antenna, without interaction with the PC while pointing the antenna. This approach assumes that IRU , ITU , power supply , dual IFL , and ODU  have been properly installed. A voltmeter that measures, for example, 0-10 volts may be used.","The user performing the antenna pointing process may start the pointing program from the host PC . This software places the equipment in a mode where, instead of transmitting any user traffic, it places the transmission equipment in a mode where voltage is supplied to the ODU  to emit on an F-connector on the back of the ODU . This program also supplies an approximation of the pointing parameters for the antenna. These values should be written and used to point the ODU. The voltage on the F-connector can interpreted as follows. The voltage range of 0-4V indicates an AGC level. The higher the voltage, the stronger the signal. When the voltage is in this range, the modulator is not locked. If the signal remains over 3V for over 10 seconds, then it is likely that the antenna is pointed to the wrong satellite. A voltage of 5V indicates a lock to an outroute that does not match the commissioned characteristics. The most probable cause is pointing to an incorrect, adjacent satellite, which can be corrected by minor azimuth changes. The voltage range of 6-10V specifies an SQF Value, in which the higher the voltage, the stronger the signal. A value of 8.0 may equate to an SQF of 100, which is the minimal acceptable level for an installation.",{"@attributes":{"id":"p-0210","num":"0209"},"figref":"FIG. 10","b":["1","100","100","411","411"]},"The above scalable configuration is described from a \u201cbottom up\u201d point of view, starting with the return channel to the system level. The Return Channel uplink is a standard NOC  with the additional timing unit equipment required to perform timing on each transponder. This may require the standard NOC infrastructure, including hybrid gateways, satellite gateways, and uplink redundancy. In addition, a Portion of one rack for additional equipment is required. Two Timing Units are used per uplink transponder (each with 2 IRUs). A System IF Distribution module  to distribute return channel signal to the RCE sets. A portmaster may also be needed to support the serial connections to do monitor and control of the 10 sets of BCDs. It should be noted that RS232 limitations may require the portmaster to be within 60 feet of all RCE equipment sets.","The return channel equipment  receives the data from the return channels and prepares the packets to be sent to the appropriate hybrid gateways . The Return Channel Equipment  includes the following for 30 return channels: 3 BCD Racks; 8 BCD Chassis, each with 4 power supplies; cards required to properly connect 8 BCD chassis to the NC-Bus, Redundancy Bus, and M&C Bus; Network IF Distribution; 32 sets of BCD equipment; and two NCCs (e.g., PCs with TxRx).",{"@attributes":{"id":"p-0213","num":"0212"},"figref":"FIG. 11","b":["100","1101","1103","1105","1103","1101","1107","1103","1105","1107","1105","1101","1109","1103","1105","1111","1103"]},"Computer system  may be coupled via bus  to a display , such as a cathode ray tube (CRT), for displaying information to a computer user. An input device , including alphanumeric and other keys, is coupled to bus  for communicating information and command selections to processor . Another type of user input device is cursor control , such as a mouse, a trackball, or cursor direction keys for communicating direction information and command selections to processor  and for controlling cursor movement on display .","According to one embodiment, interaction within system  is provided by computer system  in response to processor  executing one or more sequences of one or more instructions contained in main memory . Such instructions may be read into main memory  from another computer-readable medium, such as storage device . Execution of the sequences of instructions contained in main memory  causes processor  to perform the process steps described herein. One or more processors in a multi-processing arrangement may also be employed to execute the sequences of instructions contained in main memory . In alternative embodiments, hard-wired circuitry may be used in place of or in combination with software instructions. Thus, embodiments are not limited to any specific combination of hardware circuitry and software.","Further, the instructions to support the system interfaces and protocols of system  may reside on a computer-readable medium. The term \u201ccomputer-readable medium\u201d as used herein refers to any medium that participates in providing instructions to processor  for execution. Such a medium may take many forms, including but not limited to, non-volatile media, volatile media, and transmission media. Non-volatile media includes, for example, optical or magnetic disks, such as storage device . Volatile media includes dynamic memory, such as main memory . Transmission media includes coaxial cables, copper wire and fiber optics, including the wires that comprise bus . Transmission media can also take the form of acoustic or light waves, such as those generated during radio wave and infrared data communication.","Common forms of computer-readable media include, for example, a floppy disk, a flexible disk, hard disk, magnetic tape, or any other magnetic medium, a CD-ROM, any other optical medium, punch cards, paper tape, any other physical medium with patterns of holes, a RAM, a PROM, and EPROM, a FLASH-EPROM, any other memory chip or cartridge, a carrier wave as described hereinafter, or any other medium from which a computer can read.","Various forms of computer readable media may be involved in carrying one or more sequences of one or more instructions to processor  for execution. For example, the instructions may initially be carried on a magnetic disk of a remote computer. The remote computer can load the instructions relating to the system interfaces and protocols of system  remotely into its dynamic memory and send the instructions over a telephone line using a modem. A modem local to computer system  can receive the data on the telephone line and use an infrared transmitter to convert the data to an infrared signal. An infrared detector coupled to bus  can receive the data carried in the infrared signal and place the data on bus . Bus  carries the data to main memory , from which processor  retrieves and executes the instructions. The instructions received by main memory  may optionally be stored on storage device  either before or after execution by processor .","Computer system  also includes a communication interface  coupled to bus . Communication interface  provides a two-way data communication coupling to a network link  that is connected to a local network . For example, communication interface  may be a network interface card to attach to any packet switched local area network (LAN). As another example, communication interface  may be an asymmetrical digital subscriber line (ADSL) card, an integrated services digital network (ISDN) card or a modem to provide a data communication connection to a corresponding type of telephone line. Wireless links may also be implemented. In any such implementation, communication interface  sends and receives electrical, electromagnetic or optical signals that carry digital data streams representing various types of information.","Network link  typically provides data communication through one or more networks to other data devices. For example, network link  may provide a connection through local network  to a host computer  or to data equipment operated by a service provider, which provides data communication services through a communication network  (e.g., the Internet). LAN  and network  both use electrical, electromagnetic or optical signals that carry digital data streams. The signals through the various networks and the signals on network link  and through communication interface , which carry the digital data to and from computer system , are exemplary forms of carrier waves transporting the information. Computer system  can transmit notifications and receive data, including program code, through the network(s), network link  and communication interface .","The techniques described herein provide several advantages over prior approaches to providing access to the Internet. A receiving unit is configured to receive data from a user terminal. A transmitting unit is coupled to the receiving unit and configured to transmit the data to an antenna. The data is transmitted over a return channel that is established over the satellite to a hub; the hub has connectivity to a packet switched network. This approach advantageously provides a modular approach to upgrading from a receiving only system to a two-way system.","Obviously, numerous modifications and variations of the present invention are possible in light of the above teachings. It is therefore to be understood that within the scope of the appended claims, the invention may be practiced otherwise than as specifically described herein."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["A more complete appreciation of the invention and many of the attendant advantages thereof will be readily obtained as the same becomes better understood by reference to the following detailed description when considered in connection with the accompanying drawings, wherein:",{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0017","num":"0016"},"figref":["FIG. 3","FIG. 1"]},{"@attributes":{"id":"p-0018","num":"0017"},"figref":["FIG. 4","FIG. 1"]},{"@attributes":{"id":"p-0019","num":"0018"},"figref":["FIGS. 5","FIG. 1"],"i":["a ","b "],"b":"5"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":["FIGS. 6A-6P","FIG. 1"]},{"@attributes":{"id":"p-0021","num":"0020"},"figref":["FIG. 7","FIG. 1"]},{"@attributes":{"id":"p-0022","num":"0021"},"figref":["FIG. 8","FIG. 1"]},{"@attributes":{"id":"p-0023","num":"0022"},"figref":["FIG. 9","FIG. 8"]},{"@attributes":{"id":"p-0024","num":"0023"},"figref":["FIG. 10","FIG. 1"]},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 11"}]},"DETDESC":[{},{}]}
