---
title: Methods, systems, and computer program products for establishing VoIP service in a network
abstract: Voice over Internet Protocol (VoIP) service is established in a network that that includes a Regional/Access Network (RAN) that facilitates differentiated end-to-end data transport between an Application Service Provider (ASP) and a Customer Premises Network (CPN) that includes Customer Premises Equipment (CPE). Application Programming interface (API) calls are used at the ASP to communicate with the RAN to establish VoIP service for the user having a user selected bandwidth and/or QoS associated therewith.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08204042&OS=08204042&RS=08204042
owner: 
number: 08204042
owner_city: 
owner_country: 
publication_date: 20040903
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["RELATED APPLICATIONS","FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF EMBODIMENTS"],"p":["This application is a continuation in part of U.S. application Ser. No. 10\/756,790, filed Jan. 13, 2004, which claims priority to U.S. Provisional Application No. 60\/470,650, filed May 15, 2003, the disclosures of which are hereby incorporated herein by reference as if set forth in their entireties.","The present invention relates to communication networks, and, more particularly, to managing bandwidth and\/or Quality of Service (QoS) in communication networks.","The Internet is a decentralized network of computers that can communicate with one another via the Internet protocol (IP). Although the Internet has its origins in a network created by the Advanced Research Project Agency (ARPA) in the 1960's, it has only recently become a worldwide communication medium. To a large extent, the explosive growth in use and traffic over the Internet is due to the development in the early 1990's of the worldwide Web (WWW), which is one of several service facilities provided on the Internet. Other facilities include a variety of communication services such as electronic mail, telnet, Usenet newsgroups, internet relay chat (IRC), a variety of information search services such as WAIS and Archie, and a variety of information retrieval services such as FTP (file transfer protocol) and Gopher.","The WWW is a client-server based facility that includes a number of servers (computers connected to the Internet) on which Web pages or files reside, as well as clients (Web browsers), which interface the users with the Web pages. Specifically, Web browsers and software applications send a request over the WWW to a server requesting a Web page identified by a Uniform Resource Locator (URL) which notes both the server where the Web page resides and the file or files on that server which make up the Web page. The server then sends a copy of the requested file(s) to the Web browser, which in turn displays the Web page to the user.","The topology of the WWW can be described as a network of networks, with providers of network service called Network Service Providers, or NSPs. Servers that provide application-layer services as previously described may be described as Application Service Providers (ASPs). Sometimes a single service provider does both functions within a single business","In recent years, broadband access technologies, such as digital subscriber line (DSL), cable modems, asynchronous transfer mode (ATM), and frame relay have facilitated the communication of voice, video, and data over the Internet and other public and private networks. Because broadband technologies are typically deployed by a single transport service provider, like a Regional Bell Operating Company (RBOC), their Regional and Access Networks (RAN) are often shared by many NSPs and ASPs offering services that range from Internet access and VPN access to Voice over IP, Video on Demand, and Gaming. Up until recently, a given Customer Premises Network (CPN) would have been connected to a single service provider in a generic way, however a new standard for RAN service (DSL Forum TR-059) provides a RAN architecture that allows simultaneous access to multiple NSPs and ASPs and for differentiating the data transport service provided by a RAN to these service providers.","Moreover, broadband access technology has allowed service providers to expand their content and service offerings to both business and home users. For example, a user may subscribe to multiple services or applications, such as voice service, Internet access service, a video service, a gaming service, etc. from one or more service providers. These services and\/or applications may be delivered over a single network connection, such as a DSL line. Unfortunately, with multiple new connectivity options and applications that require specific characteristics from the network, there is also a need to establish QoS and bandwidth allocation among multiple services and\/or applications so as to customize the content delivery according to the users' and\/or providers' preferences.","According to some embodiments of the present invention, voice over Internet Protocol (VoIP) service is established in a network that that comprises a Regional\/Access Network (RAN) that facilitates differentiated end-to-end data transport between an Application Service Provider (ASP) and a Customer Premises Network (CPN) that includes Customer Premises Equipment (CPE). Application Programming interface (API) calls are used at the ASP to communicate with the RAN to establish VoIP service for the user having a user selected bandwidth and\/or QoS associated therewith.","In other embodiments of the present invention, the ASP receives a request from the user to register for VoIP service before using API calls at the ASP to communicate with the RAN.","In still other embodiments of the present invention, the CPE comprises a Routing Gateway (RG).","In still other embodiments of the present invention, API calls are used at the ASP to communicate with the RAN to obtain a bandwidth range and\/or QoS capabilities from the RAN. The user is presented with, via the ASP, at least one bandwidth\/QoS option within the bandwidth range and\/or QoS capabilities and\/or at least one derived service option received from the RAN.","In still other embodiments of the present invention, a user selection of one of the at least one bandwidth\/QoS option and\/or QoS capability and\/or at least one derived service option is obtained at the ASP. The RAN is updated with a profile of information to provide the selected bandwidth\/QoS option and\/or QoS capability and\/or derived service option for the user's VoIP service.","In still other embodiments of the present invention, the CPE is updated with the profile of information to provide the selected bandwidth\/QoS option and\/or QoS capability for the user's VoIP service.","In still other embodiments of the present invention, a rate limit and\/or QoS associated with a communication queue in the RAN that is used to process VoIP traffic associated with the user's VoIP service is updated based on the profile of information.","In still other embodiments of the present invention, a VoIP call between the user and another user is processed using the profile of information in the RAN and the CPE.","In further embodiments of the present invention, the ASP is authenticated with the RAN prior to using API calls at the ASP to communicate with the RAN to establish VoIP service for the user.","In still further embodiments of the present invention, an establish service session request message is sent from the ASP to the RAN that contains an identification of the ASP and authorization credentials, and an establish service session response message is sent from the RAN to the ASP that contains an authentication result.","In still further embodiments of the present invention, the ASP is billed based on the user selected bandwidth for the VoIP service.","In still further embodiments of the present invention, the ASP is billed based on a facility purchased to connect the ASP to the RAN.","In still further embodiments of the present invention, the RAN comprises a Broadband Remote Access Server (BRAS).","Other systems, methods, and\/or computer program products according to embodiments will be or become apparent to one with skill in the art upon review of the following drawings and detailed description. It is intended that all such additional systems, methods, and\/or computer program products be included within this description, be within the scope of the present invention, and be protected by the accompanying claims.","While the invention is susceptible to various modifications and alternative forms, specific embodiments thereof are shown by way of example in the drawings and will herein be described in detail. It should be understood, however, that there is no intent to limit the invention to the particular forms disclosed, but on the contrary, the invention is to cover all modifications, equivalents, and alternatives falling within the spirit and scope of the invention as defined by the claims. It should be further understood that the terms \u201ccomprises\u201d and\/or \u201ccomprising\u201d when used in this specification is taken to specify the presence of stated features, integers, steps, operations, elements, and\/or components, but does not preclude the presence or addition of one or more other features, integers, steps, operations, elements, components, and\/or groups thereof. As used herein, the term \u201cand\/or\u201d includes any and all combinations of one or more of the associated listed items. Like reference numbers signify like elements throughout the description of the figures.","The present invention may be embodied as systems, methods, and\/or computer program products. Accordingly, the present invention may be embodied in hardware and\/or in software (including firmware, resident software, micro-code, etc.). Furthermore, the present invention may take the form of a computer program product on a computer-usable or computer-readable storage medium having computer-usable or computer-readable program code embodied in the medium for use by or in connection with an instruction execution system. In the context of this document, a computer-usable or computer-readable medium may be any medium that can contain or store the program for use by or in connection with the instruction execution system, apparatus, or device.","The computer-usable or computer-readable medium may be, for example but not limited to, an electronic. magnetic, optical, electromagnetic, infrared, or semiconductor system, apparatus, or device. More specific examples (a nonexhaustive list) of the computer-readable medium would include the following: an electrical connection having one or more wires, a portable computer diskette, a random access memory (RAM), a read-only memory (ROM), an erasable programmable read-only memory (EPROM or Flash memory), an optical fiber, and a portable compact disc read-only memory (CD-ROM).","Embodiments of the present invention are described herein in the context of digital subscriber line (DSL) technology for purposes of illustration. It will be understood that the present invention is not limited to DSL technology. Indeed, other communication technologies and\/or network configurations, such as, but not limited to, asynchronous transfer mode (ATM), frame relay, hybrid fiber coax (HFC), wireless broadband, and\/or Ethernet may also be used in other embodiments of the present invention. In general, the present invention is not limited to any communication technology and\/or network configuration, but is intended to encompass any technology and\/or network configuration capable of carrying out operations described herein. Embodiments of the present invention are also described herein in the context of managing quality of service (QoS). As used herein, QoS includes, but is not limited to, treatment applied to an access session, application flow, and\/or packet with respect to scheduling a resource, bandwidth allocation, and\/or delivery target in an individual element or across an end-to-end system.","As used herein, the term \u201cprotocol\u201d refers to a defined set of rules that govern the exchange of data or information between two or more entities. In addition, a \u201cprotocol layer\u201d refers to the hierarchical protocol structure represented by the open systems interconnection (OSI) model developed by the International Organization for Standardization in which layer one corresponds to the physical layer, layer two corresponds to the data link layer, layer three corresponds to the network layer, layer four corresponds to the transport layer, layer five corresponds to the session layer, layer six corresponds to the presentation layer, and layer seven corresponds to the application layer.","Applicants hereby incorporate by reference the disclosure of U.S. application Ser. No. 10\/756,790, filed Jan. 13, 2004, from which the present application claims priority, in its entirety as if set forth fully herein. U.S. application Ser. No. 10\/756,790 provides a detailed disclosure of, among other things, DSL Application Frameworks according to some embodiments of the present invention.","Methods, systems, and\/or computer program products for establishing VoIP service in a network that comprises a Regional\/Access Network (RAN) that facilitates differentiated end-to-end data transport between a Network Service Provider (NSP) and\/or an Application Service Provider (ASP) and a Customer Premises Network (CPN) that includes Customer Premises Equipment, such as, for example, a Routing Gateway (RG), according to some embodiments of the present invention, will now be described.","VoIP is generally considered the migration of narrow band voice services into an IP network. Once voice is provided though an IP network, it can be integrated with other IP services providing capabilities that may not be achievable or cost effective in the PSTN. VoIP can take on various service models. This use case focuses on a service provider centric (ASP) model rather than a completely decoupled peer-to-peer model. Additionally, the use of SIP as the application protocol is assumed.  depicts an exemplary VoIP service architecture, in accordance with some embodiments of the present invention. A centralized SIP proxy device is deployed in the service provider's network that handles endpoint registration and authentication, feature activation, and call routing. For connectivity to the PSTN and audio conferencing capabilities, the ASP has also deployed a media server\/gateway for this function.","VoIP can combine aspects of a network service as well as a peer-to-peer service (signaling vs. Bearer). Similar to the previous SIP based video conferencing example, a VoIP service may use randomly assigned RTP ports to transport the bearer traffic. Call signaling follows a client network server paradigm, but the bearer traffic can be either peer-to-peer (SIP phone to SIP Phone) or client to network server (SIP Phone to media gateway). Client to network server flows can be simply classified using the destination address of the SIP proxy or media server\/gateway. Peer-to-peer traffic may not be as easily classified given that the dynamic nature of RTP. If multi-party audio conferencing will be a feature of the VoIP service, then a media server (mixer) may be required. Two-way calls between SIP users could be routed to the conference bridge providing a well-known IP address that can be used for classification. Alternatives to this approach include:\n\n","The CPE could either be a SIP phone, analog terminal adaptor, or an Integrated Access Device (IAD) that has a built in xDSL modem in accordance with various embodiments of the present invention. In the non-integrated scenario it is assumed that the RG has ALG capabilities for NAT, firewall, and QoS.","The present invention is described herein with reference to flowchart and\/or block diagram illustrations of methods, systems, and computer program products in accordance with exemplary embodiments of the invention. It will be understood that each block of the flowchart and\/or block diagram illustrations, and combinations of blocks in the flowchart and\/or block diagram illustrations, may be implemented by computer program instructions and\/or hardware operations. These computer program instructions may be provided to a processor of a general purpose computer, a special purpose computer, or other programmable data processing apparatus to produce a machine, such that the instructions, which execute via the processor of the computer or other programmable data processing apparatus, create means for implementing the functions specified in the flowchart and\/or block diagram block or blocks.","These computer program instructions may also be stored in a computer usable or computer-readable memory that may direct a computer or other programmable data processing apparatus to function in a particular manner, such that the instructions stored in the computer usable or computer-readable memory produce an article of manufacture including instructions that implement the function specified in the flowchart and\/or block diagram block or blocks.","The computer program instructions may also be loaded onto a computer or other programmable data processing apparatus to cause a series of operational steps to be performed on the computer or other programmable apparatus to produce a computer implemented process such that the instructions that execute on the computer or other programmable apparatus provide steps for implementing the functions specified in the flowchart and\/or block diagram block or blocks.","Referring now to , operations for establishing VoIP service in a network begin at block  where a request is optionally received at the ASP from a user to register for VoIP service. At block , the ASP uses Application Programming Interface (API) calls to communicate with the RAN (e.g., the BRAS) to establish VoIP service for the user. The VoIP service has a user selected bandwidth and\/or QoS associated therewith. The API may comprise the Application-to-Network Interface (ANI) defined between the RAN and an ASP. Advantageously, the API may allow the ASP to establish VoIP service regardless of the technology used within the RAN.","Operations for establishing VoIP service in a network, in accordance with further embodiments of the present invention, will now be described with respect to  and the event diagram of . With respect to , the numbers in square brackets are used to coordinate the descriptive text with the figure. Referring now to , operations begin at block  where the ASP optionally receives a user request to register for VoIP service. At block , the ASP is authenticated at the RAN. This is illustrated by events [1] and [2] in . In accordance with particular embodiments of the present invention, the ASP may be authenticated by sending an establish service session request message from the ASP to the RAN that contains an identification of the ASP along with authorization credentials. The RAN may send an establish service session response message back to the ASP that contains an authentication result.","The RAN may provide various billing options to the ASP. For example, the ASP may be billed based on the user selected bandwidth for the VoIP service. Alternatively, the ASP may be billed based on a facility purchased to connect the ASP to the RAN.","The user may then register with the ASP for VoIP service as indicated by event [8] in . As part of the registration, the ASP, at block  of , may send a query from the ASP to the RAN to obtain bandwidth\/QoS options for the VoIP service as indicated by events [8] and [9] of . The user may, for example, download a VoIP client application and, at block  of , select a bandwidth\/QoS option for the VoIP service. The bandwidth\/QoS options may include, but are not limited to, a number of simultaneous lines and voice quality options per line. Moreover, the bandwidth\/QoS options may include one or more derived service options, such as names corresponding to specific service options. For example, a user may be presented with the derived serviced options of gold, silver, and bronze, where the gold service level provides a higher level of bandwidth and\/or QoS and the bronze level provides a lower level of bandwidth and\/or QoS.","Once the user has selected one or more bandwidth\/QoS options, the BRAS is updated with a profile of information to provide the selected bandwidth\/QoS option(s) at block  of . This is illustrated by events [10] through [12] of . As part of updating the BRAS with the profile of information, a rate limit and\/or QoS associated with a communication queue in the BRAS that is used to process VoIP traffic associated with the VoIP service may also be updated to support the selected bandwidth and\/or QoS. Additionally, if the ASP is in the pay by the bandwidth provisioned model, then a billing record may also be generated to capture the amount of bandwidth requested by the ASP.","At block , the RG for the user is also updated with the profile of information provided to the BRAS at block  to provide the selected bandwidth\/QoS for the user's VoIP service. This is illustrated by events [13] through [15] of .","Referring now to , the RGs of users A and B establish PPP sessions between their RG's and the RAN as indicated by events [5] through [7]. This may have occurred in advance of any VoIP activity (subscription or call initiation). A VoIP call may be established between user A and user B using the VoIP service provided by the ASP. For example, user A decides to call user B using the VoIP ASP's service as illustrated by event [21]. The ASP verifies that users A and B have active accounts and performs telephone number to IP address mapping and informs B of an inbound call. The RTP streams from the users are placed appropriately in the queues by the classifiers in the RG and the BRAS as illustrated by events [21] through [23].","More sophisticated VoIP features may also be provided by the ASP in accordance with various embodiments of the present invention. For example, the ASP may provide a VoIP service to support the following:\n\n","Voice mail\n\n","The flowcharts of  illustrate the architecture, functionality, and operations of some embodiments of systems, methods, and computer program products for establishing VoIP service in a network. In this regard, each block represents a module, segment, or portion of code, which comprises one or more executable instructions for implementing the specified logical function(s). It should also be noted that in other implementations, the function(s) noted in the blocks may occur out of the order noted in . For example, two blocks shown in succession may, in fact, be executed substantially concurrently or the blocks may sometimes be executed in the reverse order, depending on the functionality involved.","Many variations and modifications can be made to the embodiments described herein without substantially departing from the principles of the present invention. All such variations and modifications are intended to be included herein within the scope of the present invention, as set forth in the following claims."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Other features of the present invention will be more readily understood from the following detailed description of specific embodiments thereof when read in conjunction with the accompanying drawings, in which:",{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIGS. 2 and 3"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":["FIG. 4","FIG. 2"]}]},"DETDESC":[{},{}]}
