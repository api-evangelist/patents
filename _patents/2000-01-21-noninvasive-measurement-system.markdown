---
title: Noninvasive measurement system
abstract: The glucose level may be displayed on a monitor attached to the computer. The computer may be a portable, self-contained unit that comprises a data processing system and a wave reflection capture system. On the other hand, the computer may be attached to a network of other computers, wherein the reflected wave data is received by the computer and forwarded to another computer in the network for processing.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06853854&OS=06853854&RS=06853854
owner: Q Step Technologies, LLC
number: 06853854
owner_city: Van Nuys
owner_country: US
publication_date: 20000121
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"p":["This application is a continuation and claims priority from International Application No. PCT\/US99\/21680, \u201cNONINVASIVE MEASUREMENT OF BLOOD SUGAR BASED ON OPTOELECTRONIC OBSERVATIONS OF THE EYE\u201d, filed on Sep. 17, 1999, by Walter K. Proniewicz and Dale E. Winther, which is incorporated by reference herein and which claims priority to U.S. Provisional Patent Application No. 60\/100,804, \u201cBLOOD SUGAR MEASUREMENT THROUGH THE EYEBALL\u201d, filed on Sep. 18, 1998, by Walter K. Proniewicz and Dale E. Winther, which is incorporated by reference herein.","1. Field of the Invention","This invention relates generally to apparatus and systems for making noninvasive tests, assessments, or determinations of substances that may be part of a human being or other biological entity and, more particularly, to software implemented apparatus and systems that noninvasively test, assess, or determine the concentration, or other features of molecular or other substances in organic matter or fluids, such as blood, existing in human beings and other biological entities.","2. Description of Related Art","There are a number of instances in which it is necessary, or at least highly desirable, to test, assess, or determine the concentration, or other features of molecular or other substances contained in organic matter or fluids, residing in biological entities, such as human beings or blood. By way of example only, blood tests are used in a variety of scientific, medical, and other applications, including a test, assessment, or determination of the level of glucose in the blood of human diabetics. Such a test, assessment, or determination is typically accomplished by an invasive procedure which, especially in the case of human diabetics, may require the drawing of blood samples a number of times each day in order to adequately monitor the level of glucose in the blood of the diabetic (i.e. the concentration of glucose in the blood\u2014commonly called \u201cblood sugar\u201d).","In the case of human diabetics, the invasive procedure typically involves physically withdrawing blood from the finger tips or ear lobes by using suitable lancing devices or withdrawing blood from veins by using suitable hypodermic syringes. Once withdrawn, the blood sample is then deposited within a suitable device which determines the level of blood glucose with a certain level of accuracy and reliability. Increasingly, such devices have taken the form of hand-held monitors that human diabetics use to self-test their level of glucose. Thus, conventionally, the human diabetic withdraws his or her blood by a lancing device and deposits the withdrawn blood on an indicator strip that is inserted into the monitor. The deposited blood is then analyzed and furnishes a reading of the level of glucose in the blood of the human diabetic. Correspondingly, there are various scientific and medical applications for which it may be necessary to invasively test, assess, or determine the blood glucose of even individuals who are not diabetic.","Needless to say, the use of an invasive procedure to test, assess, or determine the level of blood glucose is often painful, uncomfortable, frightening, and overall quite undesirable. One of the named inventors is a diabetic and is, therefore, all too familiar with these disadvantages. This is particularly so in the case of certain of human diabetics who are young children or are very ill or infirm individuals and who may have collapsed veins or other impediments. Invasive withdrawal of blood from human diabetics and other individuals also poses the risk of infection, unseemly scarring and the associated loss of the sensation of feeling, and the exacerbation of pre-existing chronic conditions or illnesses due to the repeated undesirable experience of invasively withdrawing blood. In fact, these disadvantages often may virtually completely dissuade a number of human diabetics from adequately testing their level of blood glucose, thereby creating a significant risk of developing serious or even life-threatening complications or even shortening their life span. The aforementioned disadvantages tend also to be exacerbated by the fact that the aforementioned conventional hand-held monitors tend to be at least nominally subject to relatively significant errors. In fact, it is relatively commonplace for two separate monitors to register differing levels of blood glucose by 15-30 percent or more.","It should, therefore, be appreciated that there exists a definite need for an apparatus and system that noninvasively, and comparatively accurately and reliably tests, assesses, and determines the level of blood glucose (i.e. the concentration of glucose in the blood) in a human being and thereby tends to eliminate or substantially reduce the pain, discomfort, trepidation, and overall undesirability associated with testing, assessing, or determining the level of blood glucose. There also exists a concomitant need for an apparatus and system that noninvasively, and comparatively accurately and reliably tests, assesses, or determines the concentration of molecular or other substances in organic matter or fluids, such as blood, existing in human beings and other biological entities.","The present invention, which addresses these needs, resides in a computer software implemented system, method, apparatus, and article of manufacture that noninvasively tests, measures or otherwise assesses or determines one or more features of a molecule or other substance of a biological entity.","In accordance with one embodiment of the invention, wave data is manipulated. In particular, wave data reflected from a biological entity is received and the reflected wave data is correlated to a substance in the biological entity. The wave data may comprise light waves, and the biological entity may comprise a human being or blood. Additionally, a substance may comprise, for example, a molecule or ionic substance. The molecule may be, for example, a glucose molecule.","Furthermore, the wave data is used to form a matrix of pixels with the received wave data. The matrix of pixels may be modified by techniques of masking, stretching, or removing hot spots.","Then, the pixels may be integrated to obtain an integration value that is correlated to a glucose level. The correlation process may use a lookup table, which may be calibrated to a particular biological entity. Moreover, an amplitude and phase angle may be calculated for the reflected wave data and used to identify a glucose level in the biological entity. The glucose level may be displayed on a monitor attached to the computer. The computer may be a portable, self-contained unit that comprises a data processing system and a wave reflection capture system. On the other hand, the computer may be attached to a network of other computers, wherein the reflected wave data is received by the computer and forwarded to another computer in the network for processing.","In accordance with another embodiment of the invention, a technique for noninvasively measuring glucose concentration is provided. In particular, light waves reflected from an eye as pixels are received. The pixels are integrated to form an integrated value. Then, the integrated value is correlated to a glucose level.","The pixels may be processed to identify a center of the eye, to calculate an average brightness around the pupil of the eye, to equalize the iris of the eye using the brightness around the pupil as a baseline, to mask the pupil of the eye, and\/or to remove hot spots.","In accordance with yet another embodiment of the invention, a technique for noninvasively measuring glucose concentration is provided. In particular, light waves reflected from a biological entity are received. An amplitude and a phase angle are calculated for the reflected light waves. Using the amplitude and phase angle, a glucose level is identified in the biological entity. The biological entity may comprise, for example, an eye, skin, blood, or a nail bed.","The received light waves form a matrix comprised of pixels. The amplitude is calculated by summing all of the pixels. The phase angle is calculated by summing the rows of pixels of the matrix to obtain an xGRU value, summing the columns of pixels of the matrix to obtain a yGRU value, and calculating a ratio of the xGRU value and the yGRU value. A true amplitude is calculated by subtracting a phase angle from a summation of pixels formed by the light waves.","The matrix of pixels may be processed to mask a portion of the matrix or by applying a filter to the reflected light waves. Furthermore, automatic level control is performed to modify the value of the pixels to obtain an average desired value. Automatic fine tuning is also performed.","Other features and advantages of the present invention should become more apparent from the following description of the preferred embodiments, taken in conjunction with the accompanying drawings, which illustrate, by way of example, principles of the invention.","In the following description, reference is made to the accompanying drawings which form a part hereof, and which is shown by way of illustration specific preferred embodiments in which the invention may be practiced. The following description of the preferred embodiments, taken in conjunction with the accompanying drawings, illustrates, by way of example principles of the invention. It is to be understood that other embodiments may be utilized as structural changes may be made without departing from the scope of the present invention.","The present invention includes a noninvasive measurement system, method, apparatus, and article of manufacture (which will be referred to below as noninvasive measurement system), which obtains waves in the electromagnetic spectrum as input. The electromagnetic spectrum comprises a broad spectrum of wavelengths and frequencies, including visible light, infrared and ultraviolet radiation, and x-rays. In the embodiments of the invention discussed below, focus will be on light waves (visible and infrared); however, it will be appreciated that the invention encompasses other types of waves that provide information appropriate to the processing described below.","The received waves are reflected off of a biological entity (e.g., human or other animal or a substance from the biological entity). In particular, the waves may be reflected off of an eye, skin, a nail, or a blood sample. The waves are received with a wave reflection capture system (e.g., a camera). The noninvasive measurement system processes the received waves and correlates the reflected waves to a substance in the biological entity. For example, in the embodiments to be described below, the reflected waves are used to determine the concentration of glucose (i.e., commonly called blood sugar) that is found in the blood of a human being.","The noninvasive measurement system has numerous advantages and applications. For example, the noninvasive measurement system may be used to diagnose patients to determine whether they have diabetes. The noninvasive measurement system may also be used as a preventive step to monitor blood glucose levels in an individual who, for example, has a history of diabetes in the family. The noninvasive measurement system may also be used to monitor diabetics who need their blood glucose levels checked multiple times a day or multiple times a week, etc. The noninvasive measurement system may also be linked with an insulin releasing system so that, when the noninvasive measurement system recognizes that insulin is needed, it can signal the insulin releasing system to release insulin.","As for advantages, the noninvasive measurement system effectively eliminates need for piercing the body or otherwise obtaining blood samples, and so avoids the discomfort, fear and other detriments of using a conventional one touch glucose monitor. Additionally, the noninvasive measurement system can be manufactured as a small unit or monitor that can fit, for example, in the palm of a hand, thus allowing for use at home, or at an office or other business , or in cars, restaurants, etc.","In one embodiment, wave input is provided to a computer, which performs the processing of the input and displays a result on a monitor attached to the computer.  is hardware environment used to implement an embodiment of the invention. The present invention is typically implemented using a computer , which generally includes one or more processors , random access memory (RAM) , data storage devices  (e.g., hard, floppy, and\/or CD-ROM disk drives, etc.), data communications devices  (e.g., modems, network interfaces, etc.), display devices  (e.g., CRT, LCD display, etc.), and input devices  (e.g., camera, video recorder, mouse pointing device, and keyboard). It is envisioned that attached to the computer  may be other devices, such as read only memory (ROM), a video card, bus interface, printers, etc. Those skilled in the art will recognize that any combination of the above components, or any number of different components, peripherals, and other devices, may be used with the computer .","The computer  operates under the control of an operating system (OS) . The operating system  is booted into the memory  of the computer  for execution when the computer  is powered-on or reset. In turn, the operating system  then controls the execution of one or more computer programs , such as a noninvasive measurement system  and a counter , by the computer . The present invention is generally implemented in these computer programs , which execute under the control of the operating system  and cause the computer  to perform the desired functions as described herein. Although shown as separate from the noninvasive measurement system , one skilled in the art would recognize that the counter  may be part of the noninvasive measurement system.","The operating system  and computer programs  are comprised of instructions which, when read and executed by the computer , causes the computer  to perform the steps necessary to implement and\/or use the present invention. Generally, the operating system  and\/or computer programs  are tangibly embodied in and\/or readable from a device, carrier, or media, such as memory , data storage devices , and\/or data communications devices . Under control of the operating system , the computer programs  may be loaded from the memory , data storage devices , and\/or data communications devices  into the memory  of the computer  for use during actual operations.","Thus, the present invention may be implemented as a method, apparatus, system, or article of manufacture using standard programming and\/or engineering techniques to produce software, firmware, hardware, or any combination thereof. The term \u201carticle of manufacture\u201d (or alternatively, \u201ccomputer program product\u201d) as used herein is intended to encompass a computer program accessible from any computer-readable device, carrier, or media, including the internet. Of course, those skilled in the art will recognize many modifications may be made to this configuration without departing from the scope of the present invention.","Those skilled in the art will recognize that the environment illustrated in  is not intended to limit the present invention. Indeed, those skilled in the art will recognize that other alternative hardware environments may be used without departing from the scope of the present invention. For example, the computer  may be a portable, self-contained unit that comprises a data processing system and a wave reflection capture system (e.g., a camera). The computer  may be about the size of the palm of an average individual's hand. Moreover, the noninvasive measurement system  may be incorporated into different apparatus than those illustrated herein. Additionally, the counter  may comprise software that is structured to limit the use of the noninvasive measurement system over a specified period of time (e.g., one year) or for a specified number of uses (e.g., 1000 uses).","In another embodiment of the invention, wave input is provided to a client computer, which transmits the data to a server computer for analysis.  is a schematic illustration of the hardware environment of an embodiment of the present invention, and more particularly, illustrates a typical distributed computer system using a network  to connect client computers  executing client applications to a server computer  executing software and other computer programs, and to connect the server system  to data sources . A typical combination of resources may include client computers  that are personal computers or workstations, and a server computer  that is a personal computer, workstation, minicomputer, or mainframe. These systems are coupled to one another by various networks, including LANS, WANs, SNA networks, and the Internet. Each client computer  and the server computer  additionally comprise an operating system and one or more computer programs.","A client computer  typically executes a client application and is coupled to a server computer  executing one or more server software. The server software may include a noninvasive measurement system . The server computer  also uses a data source interface and, possibly, other computer programs, for connecting to the data sources . The client computer  is bi-directionally coupled with the server computer  over a line or via a wireless system. In turn, the server computer  is bi-directionally coupled with data sources . The data sources  may be geographically distributed.","The operating system and computer programs are comprised of instructions which, when read and executed by the client and server computers  and , cause the client and server computers  and  to perform the steps necessary to implement and\/or use the present invention. Generally, the operating system and computer programs are tangibly embodied in and\/or readable from a device, carrier, or media, such as memory, other data storage devices, and\/or data communications devices. Under control of the operating system, the computer programs may be loaded from memory, other data storage devices and\/or data communications devices into the memory of the computer for use during actual operations.","Thus, the present invention may be implemented as a method, apparatus, system, or article of manufacture using standard programming and\/or engineering techniques to produce software, firmware, hardware, or any combination thereof. The term \u201carticle of manufacture\u201d (or alternatively, \u201ccomputer program product\u201d) as used herein is intended to encompass a computer program accessible from any computer-readable device, carrier, or media, including the internet. Of course, those skilled in the art will recognize many modifications may be made to this configuration without departing from the scope of the present invention.","In one embodiment, in a networked environment, part or all of the noninvasive measurement system may reside at the server computer. An individual may transmit an image of, for example, their eye at the client computer to the server computer. The noninvasive measurement system would process the image data and return a blood glucose level (i.e., commonly referred to as \u201cblood sugar\u201d) to the client computer, for use by the individual.","Those skilled in the art will recognize that the exemplary environment illustrated in  is not intended to limit the present invention. Indeed, those skilled in the art will recognize that other alternative hardware environments may be used without departing from the scope of the present invention.","The noninvasive measurement system determines the concentration of glucose in blood, without the need for invasive procedures. The noninvasive measurement system can determine glucose levels by analyzing light waves reflected from the eye.","A handheld illumination and imaging system is used to take blood glucose measurements. The system advantageously operates by integrating the reflected light from the iris portion of the eye, rather than from the retina. Numerous anterior blood vessels present a means of directly observing bloodstream content with exterior optical techniques.","A CCD camera images the eyeball and the image is digitized. These data are processed to remove the pupil pixels. Only the iris pixels are used as representative of glucose levels as such, but as explained elsewhere the pupil pixels are used to develop baseline and illumination levels.","The iris pixels may be integrated (summed) to produce a single intensity number. This is sometimes called the \u201cintegrated data number\u201d or IDN for short; it is interchangeably designated \u201cGRU\u201d, for glucose value.","The IDN (or GRU) value can be calibrated by removing image scene and illumination discrepancies. It can be further calibrated to an individual patient to produce an extremely accurate IDN-to-blood-glucose (GL or glucose level) correlation. Repeatable scene geometry is also very desirable for accurate measurements.","As mentioned above, the primary IDN calibration technique uses pupil reflection and geometry data. Changes in input light levels are detected by sensing pupil brightness.","The average reflected intensity level of the pupil is used as the dark-level baseline for IDN processing. Only intensities that are higher than that of the pupil are integrated into the IDN.","This is a scene-to-scene automatic light level calibration. If the scene light level goes up, so do the levels of the pupil and -iris. The pupil level offsets the higher iris level and pre-serves the scene-to-scene relative brightness. This guarantees that only glucose-level increases will cause measured intensity increases.","The following pseudo-code reflects the processing performed by the noninvasive measurement system. Further details about each of these processing steps will be discussed below.\n\n","Imaging the eyeball refers to taking a picture of the eye. In particular, the noninvasive measurement system transmits broad spectrum visible and near infrared light to the eye. The transmitted light can come from different sources, such as tungsten light, light emitting diodes (LEDs), and white or colored light bulbs.","The noninvasive measurement system receives back a portion of the waves (i.e., some of the waves are absorbed). In one embodiment, the portion received back and used comprises' infrared waves. As blood glucose changes, the amount of rotated light changes.","The noninvasive measurement system comprises an apparatus that holds a light source directly in front of the camera lens. The light source is made to shine onto the eye from the geometric center of the camera lens. This results in even illumination of the eye, eliminating reflections and hot spots.","Two additional effects are created by this central-illumination geometry:\n\n","After transmitting light toward the eye, the noninvasive measurement system takes a picture of the eye. This results in the light waves that are reflected from the eye passing through a lens system. The lens focuses the waves on the surface of a CCD detector. The waves strike with different amounts of energy and different angles. This leads to a picture that is represented by pixels of the CCD detector. With an 8-bit CCD detector, each pixel value falls in the range of 0-225, with each value in the range corresponding to a different shade of gray.","A CCD is a charge coupled device whose semiconductors are connected so that the output of one is the input to another. A CCD camera is based on electronic chips called CCD sensors. These components are sensitive to light and allow pictures to be digitized and stored in computers. A CCD chip is an array of light-sensitive capacitors. The capacitors are charged by the electrons generated by the light. Each light element that reaches the CCD array displaces some electrons that are providing a current source. The current sources are localized in small delimited areas called pixels. The pixels form a CCD matrix.","In particular, the surface layer of this chip contains a grid, and each cell of the grid is a silicon diode which builds an electrical charge proportional to intensity and time light falls on it. A discharging circuit is connected to all cells. Behind these cells is a matching grid of pixels (i.e., a CCD matrix). Each cell stores an analog voltage rather than an off-on (binary) value. The storage capacity of a pixel is also referred to as a well, and the electric charge storage capacity of a typical pixel can be several hundred thousand electrons.","Generally, the charges are converted to voltages through an analog to digital (A\/D) converter. In the A\/D converter, the electric charge of a pixel is converted to an 8-bit number ranging from 0-225. The 8-bit number is referred to as a pixel data number. The pixel data number represents the converted amplitude of each pixel. The noninvasive measurement system uses a black & white CCD television (TV) camera and a personal computer. A fully portable version of the noninvasive measurement system that fits in the palm of one's hand is presently possible. A CCD camera uses 8 digits to represent the amount of light energy that hits the CCD surface. In another embodiment, because 8 digits are used to represent the amount of light energy, it can express brightness in 256 (0-225) levels.","In an alternative embodiment, a filter is used. In particular, a band pass filter is placed in front of the camera lens and behind the light. This filters light to eliminate most of the visible spectrum. In yet another alternative embodiment in which a filter is used, the light waves are cut off just before or after a particular wavelength value.","In an alternative embodiment, a digital camera is used. With a digital camera , 12 bits are used to represent the amount of light energy that hits the CCD surface. The 312 bits are used to represent the amount of light energy ranges from 0 to 4096 (rather than 0 to 255). This leads to better resolution of the light energy.","C.2Find Center of Pupil","The next processing step is to find the center of the pupil. The noninvasive measurement system centers the pupil on the image. In particular, while taking the picture, the image of the picture is transmitted by the camera to a computer having a monitor. Prior to \u201csnapping\u201d a picture for use in calculating a blood glucose value (i.e., concentration), the noninvasive measurement system enables the eye to be adjusted relative to the camera lens to physically place the eyeball in the center of the picture. Additionally, once the picture is taken, the pixels of the CCD matrix are stored in an array, sequentially, by row order. The center of the array identifies the center pixel of the picture. That is, the noninvasive measurement system finds the energy center.","Having found the center of the pupil, the noninvasive measurement system also performs the following processes: zeroes-out the area within the light source, to eliminate the light source from the pupil image, determines the eye registration within the camera frame and calculates the useful image area, grows a pupil mask from the light source centerpoint and use it to cover the pupil area in the image, and captures the area under the aligned pupil mask for the dark-level calibration. These are discussed in more detail below.","C.3 Calculate the Average Brightness Around the Pupil Center","Next, the noninvasive measurement system calculates the average brightness around the pupil center. The noninvasive measurement system treats the pupil as a black dot. After finding the center of the pupil, the noninvasive measurement system takes 150 pixels horizontally and vertically from the center of the pupil and calculates an average brightness (i.e., this is the sum of the values of the pixels divided by the number of pixels summed). This average is the average brightness of the center of the pupil. This will be used as a baseline value for further calculations.","C.4 Mask Pupil Region","The noninvasive measurement system masks out the pupil region of the eye. The noninvasive measurement system masks a central area, sufficient to cover a pupil. Different people have different size pupils. The area to be masked was a \u201csufficiently large\u201d amount that would cover the pupil of most individuals. For one embodiment, this \u201csufficiently large\u201d value was experimentally found to be about 90,000 square pixels. The noninvasive measurement system forms a sufficiently large box around the pupil and sets the pixels in this box to zero. The pupil is then a dark level reference. The masking process results in excluding the pupil from further processing. Thus, the noninvasive measurement system defines a number of pixels in an iris that are to be processed.","Although different individuals have different sized pupils, by keeping the mask the same size across individuals, the noninvasive measurement system processes approximately the same number of pixels for an iris across different individuals. If changes in pupil diameter between individuals and pupil centering are not held constant, the total number of iris pixels available for integration will change. To control these effects, a software pupil mask is employed. This zeroes-out a fixed region around the pupil.","The software pupil mask is larger than the largest pupil diameter and covers pupil-centering errors. Some iris pixels may be zeroed in the process, but all image frames are treated in the same way. The pupil mask is preferably always the same size, and therefore all image frames contain the same number of iris pixels. The geometric distortions due to pupil variations are eliminated.","In an alternative embodiment, the mask size may be determined based on an individual's own pupil size.","C.5 Equalize the Iris Image Using the Pupil Brightness as a Level Baseline","The noninvasive measurement system also applies image contrast equalization, also referred to as stretch. This causes pixels to fill the complete dynamic range of pixel data. The pupil baseline data is applied to this process, permitting only the pixels that are brighter than the pupil to be remapped. As a result, further processing takes place using data that have been scene-level-biased and equalized to a full amplitude range.","Stretch takes an 8-bit number (i.e., the pixel data number) representing pixel data and remaps the pixel data number to the full dynamic range of 0-225. The pupil, which has been masked, contains all zeroes. So, for example, if the brightest pixel is 95, the noninvasive measurement system may map the values 0-95 to 0-225, with 0-5 mapping to zero and 90-95 mapping to 255. Thus, several values (e.g., 12, 13, and 14) can be mapped to the same number (e.g., 56). This resolves small variations in the scene in the eye (e.g., tearing).","A technique called auto-stretch is used, which is well-known in the image processing area. This compensates for small changes in illumination (e.g., the light source is drifting or if room light gets in as well as light transmitted by the noninvasive measurement system). This also deals with the problem in which light does not fall on an eye the same for sequential pictures. Consistency is needed for better accuracy of the results. By weeding out variables, such as changes in light, the noninvasive measurement system can detect that the changes in pixels represents a change in the level of glucose in the blood, rather than other changes.","Additionally, the noninvasive measurement system may use a gamma stretch, which is a non-linear stretch. The gamma stretch takes care of the effects of bright sunlight. In particular, a gamma stretch amplifies more when there is darkness, and less when there is bright light. Most cameras have gamma circuits. For the noninvasive measurement system, the hardware gamma stretch was turned off. However, in one embodiment, a controlled software gamma stretch is used to enhance specific regions of the return levels (e.g., the bottom or top level of the picture).","C.6 Remove Hot Spots if Present","Hot spots are extraneous illuminations of light (e.g., outside light) or uneven illumination of the eye (e.g., light source is not over the center of the eye or there is a reflection of the light). Once illumination set up, with the noninvasive measurement system, the illumination does not change. Therefore, the location of hot spots have been found by experimentation with light (e.g., can see light source reflected in the eye). This leads to customized masking based on a particular illumination system.","To remove known hot spots, the noninvasive measurement system draws a box around the hot spot and zeroes the pixels in the box. The size of the box was experimentally found and differs based on the illumination system used.","That is, good light source diffusion is needed to prevent hot spots. Additionally, the noninvasive measurement system performs hot-spot removal with software masks. Thus, peak signal amplitudes are removed before the integration process.","The noninvasive measurement system finds the light (seen as a hot spot in the center of the pupil) and performs a position alignment based on its location.","C.7 Integrate All of the Processed Iris Pixels","The noninvasive measurement system adds up the pixels that form the picture of the eye. Because the pupil has been masked (i.e., set to zeroes), the pixels that are added are those of the iris. The sum of the pixels is referred to as an \u201cintegrated data number\u201d or IDN. The IDN value is interchangeably designated \u201cGLU\u201d, for glucose value.","C.8 Search a Lookup Table to Find the Closest IDN-to-GL Match","The sum of the pixels provides an integrated data number (IDN). The noninvasive measurement system maps the IDN to a glucose level (GL) using an IDN-to-GL lookup table. It will be appreciated that the look up table effectively provides a correlate of glucose concentrations. That is, it provides ranges of values that are correlated to different glucose concentrations.","The process of converting the IDN to a true glucose measurement requires a simple lookup operation to verify that the result is within a predetermined error band. The correlation from IDN to milligrams per deciliter (mg\/dl) can be seen in the following formula. An program entitled \u201cAverage\u201d (discussed in Section C.12 below) determines a minimum and maximum IDN value by comparing IDN values for a series of images of the same eye, taken in succession. Similarly, the program determines the minimum and maximum GL values by comparing GL values for the same series of images. The program also determines the actual glucose level using the lookup table. \n\n","These terms are defined as follows.\n\n","Inserting a milligram\/deciliter value in GL yields its equivalent IDN value in IGN.","Going from IDN to GL is accomplished by searching a lookup table. When the IDN value is equal or almost equal to a bounded IDN table value, GL is retrieved from the table and output as the glucose reading.","The IDN lookup table is produced by averaging multiple calibrated IDN samples for known glucose values. A fixed error range is based on a plus-or-minus deviation percentage from the average IDN. This is preferably done for all available glucose numbers. Because it is difficult to obtain values for every glucose number, values between known samples can be interpolated to create a complete table. In one embodiment, a limited range of measurements was used to produce a small example conversion table, which is shown above. One skilled in the art would recognize that a larger database of images and experimental data may be used to create an IDN-to-GL look-up table for a broader range of glucose measurements.","The IDN-to-GL lookup table has columns for a minimum and maximum range of the IDN number. Each minimum to maximum range maps to a GL number. The IDN-to-GL table was calibrated by experimenting on an individual, Walter K. Proniewicz. Each experiment consisted of using a camera to obtain an image of an eye of the individual, calculating an IDN value, and obtaining a GL value for the individual using the noninvasive measurement system. Traditional (one-touch) glucose monitors were used to verify the validity of the glucose concentration found via the technique of this invention. The IDN-to-GL lookup table was built by identifying, by this experimentation a GL value that correlated to ranges of the IDN value.","The following is the IDN-to-GL lookup table that was calibrated for the noninvasive measurement system.",{"@attributes":{"id":"P-d0e2813","num":"00002"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"98pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"84pt","align":"center"}}],"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["MIN IDN","MAX IDN","GL"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"98pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"84pt","align":"char","char":"."}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["23092848","23155106","38"]},{"entry":["23221033","23310529","45"]},{"entry":["25909009","25999999","84"]},{"entry":["23350883","23540368","109"]},{"entry":["23500534","23851841","175"]},{"entry":["23978300","24034595","194"]},{"entry":["24047870","24052409","244"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}}},"Experiments were performed on more than 20 other people. For the experiment, each person was tested with the noninvasive measurement system and, for verification, tested with a traditional (one-touch) glucose monitor that samples blood. Each person then increased their blood glucose levels (e.g., by eating donuts). Then, each was again tested with the noninvasive measurement system and, for verification, tested with a traditional (one-touch) glucose monitor that samples blood.","The twenty people included were all adult subjects with one additional known diabetic. Their 18 men and 2 women. All subjects were Caucasian. A large variation in pupil sizes was noted. Eye color was not recorded.","Additional system sensitivity and accuracy can be obtained by capturing multiple frames and summing their IDNs together. Changes due to small movements of the eye are thereby averaged out. Digitally summed IDN also increase effective integration time, resulting in al larger dynamic range.","C.9 Display the Imputed Glucose Number in GL","The noinvasive measurement system displays the GL value on a display device connected to the computer, such as a computer monitor. The combined result of the camera\/computer arrangent is a numeric output that displays blood-glucose levels in units of milligrams\/deciliter, on a computer screen or small LCD display.","C.10 Details of Apparatus","A high-resolution black-and-white digital video camera assembly () uses a charge-couple detector (CCD) array as a sensor. The camera includes a body  for housing the CCD arrray, a mounting section  with an attachment thread , a camera sync connector , and a video-out connector .","It will be understood that all of the details presented here relate to experimental prototypes that have been built and tested. Representative dimensions for the assembly follow.",{"@attributes":{"id":"P-d0e3093","num":"00002"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"77pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"105pt","align":"center"}}],"thead":{"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"REFERENCE NUMBER","VALUE"]},{"entry":[{},"IN DRAWINGS","(INCHES)"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"321","2.18"]},{"entry":[{},"322","3.75"]},{"entry":[{},"323","0.75"]},{"entry":[{},"324","0.69"]},{"entry":[{},"325","0.75"]},{"entry":[{},"326","2.38"]},{"entry":[{},"327","1.25"]},{"entry":[{},"328","1.40"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"An extension tube  holds a 1:1.4 lens , making the focal length approximately 2\u00bd cm (one inch). The purpose of the extension tube is to maximize the amount of data from the iris  () of the eye  and limit, to zero, the amount of white of the eye.","At the beginning of testing \u201cSnappy\u2122\u201d shots were selected. A Snappy devise, manufactured by Play Inc., is an image-capture card for a personal computer (PC). It captures a one-thirtieth-second frame from a moving image and stores it for future analysis.","Approximately forty percent of all frames were lost because of movement of the eye, reflections, and exposed white of the eye. The frames used are advantageously similar; the total digital numbers are preferably as close to each other as possible.","To produce optical data for the camera, a small light source  () directs light  toward the center of an eye , and reflections  from the pupil  and iris  traverse the lens  to the CCD camera . Note that no optical dispersing or wavelength-selecting device is included.","Thus the CCD camera  sees the reflected light  from the eye. Raw video data  go to a digital interface , which responds with corresponding digital data  that proceed into a computer . The computer may be a portable, self-contained unit that comprises a data processing system (e.g., computer  or a microprocessor) and a wave reflection capture system or a receiver that receives wave data (e.g., camera ).","The central-illumination arrangement of  was the successor to numerous earlier efforts based instead on diffuse illumination of and data collection from the eye. In the first successful, repeatable one of those (FIG. ), light from a forty-watt incandescent party bulb  was integrated by flat white paint on the walls of the room itself\u2014essentially a large integrating-sphere concept.","The light was arrange to approach the  at a right angle to the optical axis  between the lens and the eye, to minimize formation of reflections and shadows. To minimize the problem of hot spots and resulting high data counts, mostly caused by bare exposed lightbulbs, the illumination was passed through a diffuser \u2014created from a plain white paper cylinder placed around the light source.","To lessen the difficulties of repeating frames and holding the CCD camera steady, and to shield and eliminate reflections, an optical bench with a foam ocular  () was built. In addition, a headrest () helps stabilize the eye.","The optical bench, three feet long, was fashioned from two aluminum rails  (FIG. )\u2014a rectangular one, lying horizontal, and a square bar turned on the diagonal so that one corner fits into corresponding notched grooves in the base  of the headrest and in the base of the camera support. The bar allows movement only along the z-axis (i.e., longitudinally). This geometry also allows setting of distances between the headrest (i.e., the eye position) and the camera.","The support stand allows up-and-down (y-axis) adjustment by means of a vertical rod with an adjustment knob. The two rails are kept parallel by being mounted on two eight-inch crossbars with three legs made from machinist jackscrews. One leg is attached to the center of the cross-bar; the other two legs are attached at opposite ends of the other crossbar, thereby allowing leveling in a classical manner.","The headrest is mounted to a sliding aluminum base , to support two one-foot-long threaded vertical rods  holding a curved aluminum forehead piece . The whole mechanism is mounted on a centered vertical support rod . A crossbar  supports a subject's chin on a soft pad (not shown), and the forehead rests against the forehead piece  to stabilize the head. Adjustment and locking are facilitated by an adjustment screw .","The CCD camera is also mounted on a support rod, set in a commercial support stand. The rod is attached to the camera, which is inside a tubular cardboard light shield  (made from a cardboard mailing tube). A trapdoor allows for adjustments to the camera with two camera-support screws through the tubular shield, centering the camera in the shield.","The tube is four inches in diameter and fourteen inches long. The trapdoor is eight inches long and sections out half of the tube, starting one inch back from the front. The camera lens face is flush with the end of the tube. The interior of the tube is painted flat white.","Various other experimental setups included some geometries with two tubes\u2014one for each eye, with an eye-tracker disc placed in front of the eye not being sampled. In one embodiment, a system with no ocular lens and in which the nondata eye is exposed is used.","In one experimental setup, a pair of slip-tube swing arms  () fixed to the camera mounts\u2014above and below the tubular shield \u2014held a vertical rod  on which a block  slides up and down , carrying a light-emitting diode (LED) . The LED served as the light source for central illumination. The slip tubes enabled horizontal adjustments , and the LED block vertical movement .","The next development in experimental progression eliminated use of a mechanical eye-tracker. A video monitor is used to show real-time video of the eye being viewed for data collection.","The subject views his or her own eye on the monitor, and can rapidly correct for positioning of the eye, thus minimizing the amount of white of the eye showing\u2014and allowing for detection of unwanted reflections. Looking at a real-time video is faster and easier than doing eye-tracking using the mechanical tracking system.","Selected single frames were stored using a frame grabber or Snappy\u2122 image-capture card. In this process, data collection took a long time because frames with high data error\u2014usually half of the frames taken\u2014had to be discarded.","Next a video recorder was employed. For experimental purposes the start time, lamp color, filters, blood glucose values, commentary and end time were annotated audibly.","Four to five minutes of video data were taken continuously. The end result was thousands of frames (at a frame rate of thirty per second) from which to handpick later.","Good frames could be selected, saving a great amount of time. This is also proved that the accuracy and repeatability were very high, much better than current blood-glucose meters on the market.","Experimental work also explored numerous illumination arrangements with multiple light sources, including arrayed LEDs of different colors in various geometries. Currently favored illumination geometry, however, as noted earlier provides a single light source such as an LED  (FIG. ).","In the best of these configurations, the LED was held centered by a diametral vane or web  () with a hollow central hub  for the LED, in an aluminum bezel . The LED is held in front of the camera lens and aimed at the eye.","The back of the LED is covered with black tape  to shield the lens (surface)  so that none of the direct LED light is picked up by the camera. Only the light reflected by the pupil  and iris  is seen by the camera. This scheme also enables the subject to center the subject's own eye by looking directly into the LED\u2014or a grain-of-wheat size incandescent bulb.","Bezels were made to accommodate two sizes of LED: a so-called \u201cT1\u201d3 mm and a \u201cT-1\u00be\u201d (5 mm). The larger LED masks the entire pupil\u2014thereby negating the data that would be gathered for pupil calibration. The data collected is nevertheless very useful in obtaining the correction factor to establish total system linearity.","The bezel portion that goes over the lens shade has a 1.39 inch inside diameter, with a 0.05 inch wall, 0.3 inch deep. The web that holds the LED has a thickness of 0.04 inch (to minimize the masking of data from the iris to the CCD camera) and is 0.125 inch deep.","A goal during data-taking is to illuminate the iris to the point, at least, \u00bd full well on the total digital number (D\/N) possible\u2014or alternatively full well of the CCD camera. Empirical data-collection and -manipulation suggests that \u00bc full well may be a minimum needed to provide the amount of data necessary for all manipulation of calibration, subtraction and averaging for an experimental system.","Although the embodiments described above have employed a personal computer (PC) for data manipulation to get a glucose value, the invention contemplates, as a first step toward portability, making a hybrid integrated circuit to replace the PC. It also appears worthwhile to develop a \u201cfoolproof\u201d transmitter coded to transmit blood-glucose values directly to a diabetic's insulin pump, as well as calculation of utilization time and amount of insulin. Eventually continuous readings through a convenient means, such as for example eyeglass-mounted sensors, would bring the diabetic and others back to a more-normal life.","C.11 Wavelength Effects","The glucose response has been observed over portions of the visible and near infrared portions of the light spectrum. Peak response appears to be in the yellow and yellow\/green and near infrared portion of the spectrum for the algorithm described above.","It is reasonable to generalize the foregoing observations to note what is common to both wavelength regions\u2014i.e. that the level response is either an increasing function or a decreasing function for the different wavelength regions respectively.","In one embodiment, a black-and-white CCD array is able to collect sufficient information for blood-glucose determination\u2014reflected light level being distinctly correlated with glucose concentration.","This is accomplished through heavy reliance upon further software manipulation of the data. Such operation is mechanically and optically simpler than, and is to be distinguished from, the measurement mode that is was embodied in earlier prototypes of the apparatus, which employed rotating filter wheels to perform rudimentary spectral differentiation. See referenced U.S. Provisional Patent Application No. 60\/100,804, \u201cBLOOD SUGAR MEASUREMENT THROUGH THE EYEBALL\u201d, filed on Sep. 18, 1998, by Walter K. Proniewicz and Dale E. Winther, which is incorporated by reference herein.","C.12 Image-processing Software","Two programs, \u201cGlucon\u2122\u201d and \u201cAverage\u201d, were written for implementation of the present invention and were instrumental in performing research and obtaining quantitative results from experimentation. Both programs were developed using a graphical programming language from National Instruments Corporation known as \u201cGT\u2122\u201d, and also known as LabView\u2122 5.0\u2014with the IMAQ\u2122 imaging tools. The description above, including the pseudo-code describes the processing of these programs.","The first program, Glucon, extracts information from light waves. It embodies all necessary techniques for obtaining IDN or GRU values. The second program, Average, is used to correlate the IDN or GRU values obtained from an imaged eye with the actual concentration of patient blood glucose. It processes a user-selectable number of images of a subject eye, all taken at a particular glucose level, i.e. in quick succession. In operation, Average creates a statistical box and then obtains the average and absolute IDN or GRU limits. These values are used to build a table of IDN-to-blood-glucose conversions.",{"@attributes":{"id":"P-00171","num":"00171"},"figref":"FIG. 11","b":["1100","1102","1104"]},"The control panel  includes an X control that enables setting a filter factor. The Filter control turns a filter on or off. The Mean A control provides the mean of Image A. The DEV A control displays the standard deviation for Image A. The Mean B control displays the mean of Image B. The DEV B control displays the standard deviation of Image B. The GRU A control displays the GRU value for Image A, and the GRU B control displays the GRU value for Image B. The BLK A&B controls display the number of dark pixels (0 DN) in the A&B images, respectively. The LO control sets a minimum stretch limit. The HI control sets a maximum stretch limit. The THRESH control sets a threshold, so that when the IDN is being summed up, if the threshold is set, the summing begins at that level but does not include any pixels below that level. The GLIM control indicates that the IDN summation will not include values above this. The BIAS A control adds to the average level of brightness of the pupil for Image A. The BIAS B control adds to the average level of brightness of the pupil for Image B. The LEVEL A&B controls indicate the average brightness of the pupil for each image. The PATH A and FILENAME A provide the path and filename used to locate the storage location of Image A. The PATH B and FILENAME B provide the path and filename used to locate the storage location of Image B. The GAMA control is a gamma stretch control, where gamma stretch control is a weighted equalization. The F MODE control select the different filter shape modes.","The XPOS control provides a readout of the X position of the mouse on an image, and the YPOS control provides a readout of the Y position of the cursor on an image. Together, the XPOS and YPOS enable selection of a particular pixel. The DN control displays the data number of the pixel located under the cursor. The DELTA control shows the difference between the line or row image segment sums between the A and B frame. These are the cumulative values of the pixels shown in the 2 waveform charts shown in FIG. . The Switch marked SUM X\/SUM Y selects between row and columns in the image and these data are summed. The sums are compared and displayed by the DELTA control. The CENT A&B controls indicate the X and Y position of the centroid of the respective image. The A&B LINES control permits user manipulation of the SUM charts in FIG. . The SUGAR A control displays the glucose level that correlates to Image A. The ERROR A control is lit when an error is detected. When the ERROR A control is lit, the SUGAR display is blanked out. The NEG control is red when the second frame (i.e., Image B) has a smaller GRU that of the first frame (i.e., Image A). It is green when the second frame has a larger GRU than that of the first frame. The STR control turns on a primary linear stretch. The COL control allows selecting false color or black and white the SUM X and SUM Y control enables showing the sum of X or the sum of Y in the graphs for the two images. The A+B control indicates that two channels (i.e., two images) are being processed. The BW control enables setting the background of the graph to be black or white. The CLONE control enables cloning the second frame into the first frame. Then, if desired, a new frame can be brought into the second frame, to continue comparisons between different frames. The 3D control indicates whether the images are to be show as pseudo 3D. The PCUT control sets the pupil cutter to on or off. The ICUT control sets the IRIS cutter (leaving only the pupil) to on or off. The CAL control is set to on for calibration of the pupil for a linear stretch. The STOP control stops the program. At this time, the picture may be manipulated (e.g., moved horizontally or vertically and the mouse can be used to move the cursor about to identify individual pixel values). The SNAP control invokes a program to snap a picture of the screen and store it as a bitmap. The SAVE button directly saves the picture as a bitmap. The SUGAR B control displays the glucose level that correlates to Image B. The Error B control is lit when an error is detected.",{"@attributes":{"id":"P-00174","num":"00174"},"figref":["FIG. 12","FIG. 11","FIG. 11"],"b":["1","1200","2","1202","1","11204","2"]},{"@attributes":{"id":"P-00175","num":"00175"},"figref":"FIG. 13"},"C.13 Flow Diagram and Alternative Embodiments","The noninvasive measurement system comprises apparatus and software for noninvasively measuring glucose concentration in blood. To reduce the complexity of the image-input system, software has been developed to optimize camera positioning and illumination inconsistencies.",{"@attributes":{"id":"P-00178","num":"00178"},"figref":"FIG. 14","b":["1500","1502","1504","1506","1508","1510","1512","1514","1516"]},"The noninvasive measurement system has several facets or aspects which are usable independently, although for greatest enjoyment of their benefits they are preferably used together and although some of them do have some elements in common.","In embodiments of a first of its independent aspects, the noninvasive measurement system measures blood-glucose concentration in a biological entity by measuring light reflectivity from the body. The noninvasive measurement system includes a technique for directing light to such body (e.g., a light bulb). In addition the noninvasive measurement system includes a technique for receiving (e.g., with a camera) and processing (e.g., with a computer) light reflected from such body substantially without spectral analysis of the reflected light. The foregoing may represent a description or definition of the first aspect or facet of the invention in its broadest or most general form. Even as couched in these broad terms, however, it can be seen that this facet of the invention importantly advances the art.","In particular, this facet of the invention entirely eliminates need for piercing the body or otherwise obtaining blood samples, and so avoids the discomfort, fear and other detriments discussed above. Furthermore this aspect of the invention is advantageous in that it requires no elaborate spectral modulation, or multiple detectors for different wavelength regions, or dispersive elements\u2014such as required to perform spectral analysis.","The absence of requirement for spectral analysis is a direct result of the discovery that light reflected from the iris bears a relationship (though different in different wavelength regions) to glucose concentration in the blood.","Although the first major aspect of the invention thus significantly advances the art, nevertheless to optimize enjoyment of its benefits preferably the invention is practiced in conjunction with certain additional features or characteristics. In particular, preferably the technique for directing light to an eye of the body and the technique for receiving and measuring include a technique for receiving and measuring light reflected from the eye.","Further preferably the receiving and measuring a technique comprises a monochrome detector array\u2014and in this case still more preferably the monochrome detector array comprises a black-and-white charge-coupled-detector (CCD) camera or detector. Another related preference is that the receiving and measuring a technique includes a digital processor for analyzing signals from the CCD camera.","More generally, such a processor is desirable for analyzing signals representative of quantities of the reflected light. In this case one preference is that the digital processor be part of a personal computer, and the blood glucose level is reported on a monitor screen of the computer.","An alternative preference, however, is that the noninvasive measurement system be a handheld portable unit, that the unit include a technique for reporting for indicating the blood glucose level, and that the digital processor be part of the handheld portable unit. In this case preferably the reporting technique includes an LCD unit for visually indicating the blood glucose level.","Another basic preference is that the receiving and measuring technique includes a technique for detecting change in level of the reflected light, and relating said change to blood-glucose concentration. Still another is that the receiving and measuring technique include some technique for detecting change in level of the reflected light\u2014and also some technique for reporting glucose concentration that varies with reflected-light level. Another general preference is that the detecting technique include some technique for responding to reflected visible light and, in this case, particularly to light in the yellow, yellow-green and infrared portions of the spectrum.","Although the noninvasive measurement system has been described as operating substantially without spectral analysis, this is not intended to imply that the noninvasive measurement system is necessarily entirely unable to differentiate between spectral regions. For instance, preferably the noninvasive measurement system includes a technique for eliminating response to some particular light band\u2014e.g. the red or infrared, or both. Similarly the technique for receiving and measuring substantially without spectral analysis preferably do take into account different signal responses in the red or infrared as opposed to the yellow\/yellow green portion of the spectrum.","In embodiments of a second major independent facet or aspect, the noninvasive measurement system measures blood-glucose concentration in a biological entity by measuring light reflectivity from the body. The noninvasive measurement system includes a self-contained case. It also includes a technique for directing light to the body. Also included is a technique for receiving and measuring light that is reflected from the body. The foregoing may represent a description or definition of the second aspect or facet of the invention in its broadest or most general form. Even as couched in these broad terms, however, it can be seen that this facet of the invention importantly advances the art.","In particular, because it has been established through experimentation and testing that the entire invention is capable of reduction to be carried within a self-contained case, the many benefits of noninvasive measurement can be enjoyed in a unit that need not take the form of a machine only suited for use in a medical facility. Rather, the invention can be implemented in a machine suited for patients' use at home, or at an ordinary office or other business\u2014or in cars, restaurants, etc.","Although the second major aspect of the invention provides significant advantageous features, nevertheless to better optimize enjoyment of its benefits preferably the invention is practiced in conjunction with certain additional features or characteristics in particular, preferably the case is fully portable. Also in this instance preferably the case fits in the palm of a normal-size adult's hand.","In embodiments of a third of its major independent facets or aspects, the noninvasive measurement system measures blood-glucose concentration in a biological entity by measuring light reflectivity from an eye of the body. The noninvasive measurement system includes a technique for directing light to an iris of such eye. It also includes a technique for receiving and measuring light reflected from such iris. Also included is a programmed digital processor that analyzes the measured reflected radiation and computing blood glucose concentration therefrom\u2014and in particular uses a reflection of the light source, from the eye, as a peak amplitude point for image alignment. The foregoing may represent a description or definition of the third aspect or facet of the invention in its broadest or most general form. Even as couched in these broad terms, however, it can be seen that this facet of the invention provides importantly advantageous features.","In particular, the eye is generally available for optoelectronic measurements without the subject's disrobing or any other great inconvenience. Moreover, condition of the blood in the eye is generally particularly rapid in its response to or tracking of the condition of the blood in other critical parts of the body particularly the brain.","Although the third major aspect of the invention provides significant advantageous features, nevertheless to better optimize enjoyment of its benefits preferably the invention is practiced in conjunction with certain additional features or characteristics. In particular, preferably the receiving and measuring technique also includes a technique for receiving and measuring light from a pupil of the eye. This preference facilitates determination of a baseline dark level, or of an illumination level provided by the light directing technique, or both.","In embodiments of a fourth of its major independent facets or aspects, the noninvasive measurement system is a blood-glucose measuring technique. The technique includes the step of imaging forward surfaces of a person's eye on an electronic camera. It also includes digitizing resultant image signals from the camera. Further the technique includes processing pixel signals representing the iris, separately from pixel signals representing other parts of the eye, to determine blood-glucose level. The foregoing may represent a description or definition of the fourth aspect or facet of the invention in its broadest or most general form. Even as couched in these broad terms, however, it can be seen that this facet of the invention importantly advances the art.","In particular, analysis of conditions in the iris is advantageous in that the iris exhibits relationships (peculiar to different wavelength regions) between reflected light level and glucose concentration, enabling the previously mentioned benefits of measurement without spectral analysis.","Furthermore the separation of iris and pupil signals for processing is amenable to straightforward implementation based upon geometry, leading to easy compensation for varying illumination level and the like as previously mentioned.","Although the fourth major aspect of the invention thus significantly advances the art, nevertheless to optimize its benefits preferably the invention is practiced in conjunction with certain additional features or characteristics. In particular, preferably the technique also includes the steps of processing pixel signals representing the pupil to obtain a baseline dark level or an illumination level, or both\u2014and also applying the dark level or illumination level, or both, to refine the pixel signals representing the iris. In this case advantageously the processing step includes applying an average reflected intensity level of the pupil to represent the dark level baseline.","Another general preference is that the iris-pixel signal processing comprises integrating all usable iris-pixel signals to produce a unitary intensity indication in this case preferably the applying step includes integrating into the indication only intensities that are higher than that of the pupil.","Yet another basic preference is to include the step of substantially removing image scene and illumination variation. Still another preference is to include the step of calibrating readings for an individual patient.","Another general preference is to include masking out the pupil pixels from the iris region. In this case the masking step also preferably includes applying a software pupil mask that substantially stabilizes the number of iris pixels available for use, and substantially stabilizes pupil centering within the iris image. Further if this is done preferably also the pupil mask is larger than the largest pupil diameter occurring in measurement conditions.","Other general preferences relative to the technique of the invention include these steps, considered individually:\n\n","Another preference, still as to the fourth aspect of the invention, is this sequence of steps:\n\n","In embodiments of a fifth major independent facet or aspect, the noninvasive measurement system is a blood-glucose measuring technique for use with a small light source. This technique includes the step of automatically finding a reflection, from a patient's pupil, of the light. The technique also includes the step of automatically performing a position alignment based upon the location of the reflection of the light. The foregoing may represent a description or definition of the fifth aspect or facet of the invention in its broadest or most general form. Even as couched in these broad terms, however, it can be seen that this facet of the invention importantly advances the art.","In particular, this mode of operation very easily resolves several otherwise knotty problems of alignment, which can otherwise threaten the integrity of the overall measurement process\u2014since the process is sensitive to alignment and control of signal returns from the white of the eye as well as the pupil.","Although the fifth major aspect of the invention thus significantly advances the art, nevertheless to optimize enjoyment of its benefits preferably the invention is practiced in conjunction with certain additional features or characteristics. In particular, preferably the technique also includes zeroing-out the area within the light source, to form an image of forward surfaces of the eye without the light source.","Another preference, especially when the technique is for use with a centrally disposed light source, is the step of growing a pupil mask\u2014starting from the light source as a centerpoint\u2014to cover the pupil area in the image. In this case, preferably the technique also includes capturing brightness level in an area under the aligned pupil mask, for use in a dark-level calibration.","In embodiments of a sixth major independent facet or aspect, the noninvasive measurement system measures blood glucose concentration in a biological entity by measuring light reflectivity from an eye of the body. This noninvasive measurement system includes a detector array. It also includes a small light source held directly in front of the detector array, for directing light to the eye. In addition the noninvasive measurement system has a technique for receiving and measuring light reflected from the eye. The foregoing may represent a description or definition of the sixth aspect or facet of the invention in its broadest or most general form. Even as couched in these broad terms, however, it can be seen that this facet of the invention importantly advances the art. In particular, use of a source in the described position greatly simplifies, in several ways, the processing of data derived from the optical system.","Although the sixth major aspect of the invention thus significantly advances the art, nevertheless to optimize enjoyment of its benefits preferably the invention is practiced in conjunction with certain additional features or characteristics. In particular, preferably the noninvasive measurement system also includes a lens between the detector array and the light source.","In this case, it is that the light source shine toward the eye from substantially the geometric center of the lens\u2014or, alternatively of the detector array. In this case the noninvasive measurement system further includes a technique for using a reflection of the electromagnetic-radiation source, from the eye, as a peak amplitude point for finding the image center.","A more general preference, still as to this sixth main aspect of the invention\u2014and especially when the noninvasive measurement system is for use in measuring blood-glucose concentration for the body of a human being\u2014is that the light source serve as a visual centering target for the human being. In such a system, the human being looks substantially directly toward the light source to, in substance, automatically align or center (at least approximately) the pupil in the optical field.","In embodiments of a seventh major independent facet or aspect, the noninvasive measurement system measures blood glucose concentration in a biological entity, by measuring light reflectivity from blood of the body. The noninvasive measurement system includes a technique for directing light to the blood. It also includes a technique for receiving and measuring light reflected from the blood substantially without spectral analysis of the reflected light.","From all the discussion, in this document, of aspects of the invention, those skilled in the art will understand that the invention operates, in one way or another, based upon presence of the blood in the iris or elsewhere within the body\u2014thereby making the blood available for optoelectronic measurement. Accordingly the invention is not limited to the implementations expressly set forth.","Light is an electro-magnetic wave. A wave has an amplitude, which is its positive or negative displacement from an equilibrium point. A glucose molecule rotates light in a clockwise or counter-clockwise direction. This rotation affects the polarization of the reflected light. In one embodiment, the invention takes into account that rotation affects polarization of the reflected light. The light that is reflecting at different angles appears to be rotating, therefore, the amplitude changes.","A CCD is a charge coupled device whose semiconductors are connected so that the output of one is the input to another. A CCD camera is based on electronic chips called CCD sensors. These components are sensitive to light and allow pictures to be stored in computers. A CCD chip is an array of light-sensitive regions called wells. The wells are charged by the electrons generated by the light. Each light element that reaches the CCD array displaces some electrons that are providing a current source. The current sources are localized in small delimited areas called pixels. The pixels form a CCD matrix.","In particular, the surface layer of this chip contains a grid, and each cell of the grid is a silicon diode which builds an electrical charge proportional to intensity and time light falls on it. A discharging circuit is connected to all cells. Behind these cells is a matching grid of pixels (i.e., a CCD matrix). Each cell stores an analog voltage rather than an off-on (binary) value. The storage capacity of a pixel is also referred to as a well, and the electric charge storage capacity of a typical pixel can hundreds-of-thousands of electrons.","The charges are converted to voltages that can be interpreted by an analog to digital (A\/D) converter. In the A\/D converter, the electric charge of a pixel is converted to an 8-bit number ranging from 0-225. The 8-bit number is referred to as a pixel data number. The pixel data number represents the converted amplitude of each pixel. In an alternative embodiment, the pixel data number may be \u201cstretched\u201d. That is, if the pixel data number is 16, the numbers 0-16 may be mapped to 0-225, so that the stretched pixel data number is 255 (i.e., 16 may be mapped to 255). Of course, one skilled in the art would recognize that other mapping mechanisms may be used (e.g., mapping 0-31 to 0-225, with 16 mapping to 127).","The image of the eye is used to form a CCD array, which is also referred to as a CCD matrix. The CCD matrix represents each pixel with an entry in the matrix. Each entry has a value ranging from 0-225. The phase angle is determined from a CCD matrix. The rows of the CCD matrix are summed up, and then these values are totaled to form an XGRU value. The columns of the CCD matrix are summed up, and then these values are totaled to form a YGRU value. The ratio of the XGRU value and the YGRU value results in the phase angle. For example, if the light falls symmetrical, the XGRU value and the YGRU value are the same. However, for a substance, which is non-symmetrical, the XGRU value and the YGRU value are not the same. Additionally, the sum of the XGRU and the YGRU is the amplitude. The following sample CCD matrix is provided only for illustration. One skilled in the art would recognize that a much larger matrix would in practice be used. Also, to simplify the illustration, each pixel will be set to one of three states: 0, 1, 2. Of course, a pixel can be of 0-255 states for an 8-bit system, and a pixel can have greater resolution with a larger bit system.","The noninvasive measurement system obtains row information YPA (summation of rows) and column information YPB (summation of columns) and calculates a true phase angle and a true GRU\/true amplitude with the following:\n\ntrue phase angle=YPA\u2212(YPA\u2212YPB)\u00d710 MILLION\n\n\u2003YPB\u2212(YPB\u2212YPA)\n\ntrue GRU\/true amplitude=GRU\u2212(YPA+YPB).\n","For example, given a matrix where the summation of the rows is (3+5+5+1)=14=YPA, and the summation of the columns is (4+5+4+2)=15=YPB, then the true phase angle is equal to approximately 10714285. The true amplitude is equal to GRU\u2212(YPA+YPB), which calculates the amplitude by removing the phase angle. Note that the true amplitude GRU is calculated by summing all of the pixels when the matrix is at 680\u00d7480, while YPA and YPB are calculated for a reduced size matrix of, for example, 380\u00d7380.","The noninvasive measurement system uses a Phase\/Amplitude lookup table. The Phase\/Amplitude lookup table has columns for a frame cousin number (FRC), a glucose level (GL), an amplitude (AMPL), and a phase angle (PHASE). The Phase\/Amplitude lookup table was created experimentally. In particular, the Phase\/Amplitude table was created by experimenting on an individual, Walter K. Proniewicz. Each experiment consisted of using a camera to obtain an image of an eye of the individual, calculating a GL value for the individual, and calculating a phase angle and amplitude. Traditional (one-touch) glucose monitors were used to verify the validity of the glucose concentration found via the technique of this invention. The Phase\/Amplitude lookup table was built by identifying, by this experimentation, GL values that correlated to a phase angle and amplitude pair.","Additionally, the noninvasive measurement system uses a Cousins table. The cousins table has a column for a FRC number (frame cousin), a glucose level (MG\/DL), an amplitude (AMPL), a phase angle (PHASE), and columns for eight cousins. One skilled in the art would recognize that the table could have other columns, for example, additional columns for more than eight cousins. The cousins represent nodes that have similar phase angle and amplitude values. The NODE TABLE DATA graph is a graph of phase angle versus amplitude. The top most line in the graph plots the ratio of phase angle to amplitude. The cousin nodes in the Cousin table are nodes that are at approximately the same horizontal axis on the plot of the ratio. For example, for FRC , the cousins are FRC , FRC , FRC , FRC , and FRC . Each of these frame cousins has a similar phase angle to amplitude ratio.","D.1 Overview of Processing","One embodiment of the invention uses the phase angle and amplitude to identify a blood glucose level. This section provides an overview of the processing steps for this embodiment of the invention, along with pseudo-code. Only some of the processing steps will be discussed here to enable the reader to have a better understanding of these steps prior to providing the pseudo-code. Generally, when a Phase\/Amplitude Lookup Table is used, the noninvasive measurement system performs the following steps:\n\n","The picture may be taken with a black and white video or electronic still frame camera. In an alternative embodiment, a color camera or custom CCD may be used. In yet other embodiments, other multi-element detectors, such as quantum well infrared arrays or mercury-cadmium-telleride (MCT) arrays or specialized radio receivers can be used.","In one embodiment, a calibration mask is used. The calibration mask is placed between the eye and the lens of the camera. For example, one calibration mask may be a circular piece of glass. Imagine a square whose corners touch the circle is drawn on the circle, then, reflective strips of the material to be analyzed (e.g., glucose) are placed between the edge of the square and the edge of the circle, in vertical lines, with one endpoint of the strip touching the square and the other endpoint of the strip touching the circle. The material to be analyzed may be placed on a mask and then sealed. The mask is placed so that the lens system and CCD can see the mask and so that the mask is illuminated by the light source.","The reflective strips have known phase angle and amplitude values. Each strip has different phase angle and amplitude value. For example, each strip may represent 5 mg\/dl increments starting with 35 mg\/d. A strip may be the size, for example, of 50 pixels. The number of strips used is the size of the strip divided by the number of pixels to be covered. The comparison will assist in increasing the accuracy of calculating the glucose level. When a picture is taken of the eye, the calculated phase angle and amplitude values may be compared to those of the strips. In particular, the strips will give amplitude and phase angles for very low glucose values, thereby making extremely low glucose readings very accurate. There is visual confirmation of the amount of glucose on the strips, which can be compared to the iris reflections. Both the amplitude and the phase angle are actual (not deduced), thereby eliminating error, and providing quality control, and enabling self checking.","It will be appreciated by those of skill in the art that one can also construct custom silicon arrays (e.g., a CCD) containing optimizing qualities to enhance spectral response for glucose detection. CCDs and custom silicon arrays can be specially processed, modified, or enhanced to heighten their sensitivities to x-rays and other high energy particles. In this case, the noninvasive measurement system may process x-rays or other high energy particles, instead of light waves. Moreover, CCDs and custom silicon arrays can be specially processed, modified, or enhanced to be made sensitive to ultraviolet rays to highlight or detect different types of minerals.","It will be appreciated by those of skill in the art that the noninvasive measurement system may also be used to locate tumors and to locate and correct blood clots. In particular, a photo-multiplier can be placed in front of a CCD to enhance its sensitivity. Then, a high intensity light that is synchronized to the integration time of the CCD is used to send light through an individual. The amount of light in that high intensity light source can penetrate flesh. For example, the noninvasive measurement system may be used to detect breast cancer.","Next, the noninvasive measurement system may apply a spatial filter after taking the picture. The spatial filter, when used in the low-pass mode, reduces unwanted image features that tend to show-up as high frequency components. That is, the spatial filter takes out portions of an image that create \u201cnoise\u201d from non-glucose information. The filter parameters used operates on a 3\u00d73 pixel area. The filter will take a group of pixels (e.g., 9 pixels), average the values of the pixels, and set the values of each of the pixels in the group to that value. For example, if 2 of the 9 pixels are lit (i.e., set to one), and the remaining 7 pixels are not lit (i.e., set to zero), the average is zero, and all of the 9 pixels are set to zero. For example, tissue in the eye may show up as high frequency, so the low pass filter will remove these components from the image array. A high pass filter will exaggerate these components in the image array. The \u201chi-passed\u201d data can be processed to uniquely identify an individual person. This can be used as an \u201ciris fingerprint\u201d to identify individuals by the unique characteristics of their iris. The individual eye images can thus be automatically correlated to specific patients.","The noninvasive measurement system may then perform automatic level control. Automatic level control attempts to ensure that the average of all of the pixels is equivalent to the average of a calibrated average (i.e., an average that correlates to the calibrated data or desired average). In one embodiment, the value 35 was found by experimentation to be the best value.","The camera and A\/D converter returns the proper amplitudes for glucose detection around this average. The number will be different for other cameras and converters. For example, if the data number is 35, then, the automatic level control will find the average of the pixels. If the average is lower than the average data number (e.g., 35), the automatic level control adds 1 to each pixel. If the average is higher than the data number (e.g., 35), the automatic level control subtracts 1 from each pixel. After the addition or subtraction process, the automatic level control finds a new average. If the new average is at or about 35, the automatic level control is complete. Otherwise, the automatic level control continues to add or subtract 1 to each pixel and calculating a new average until the new average is at or about 35.","The noninvasive measurement system calculates a true GRU or true amplitude. The true GRU is the amplitude, with the phase angle portion removed. In particular, the noninvasive measurement system calculates the true GRU as The GRU value\u2014phase angle value. As will be discussed below, this amplitude is matched with the amplitude in the Phase\/Amplitude lookup table to obtain the closest amplitude.","In one embodiment, if the phase angle (i.e., the XGRU and YGRU ratio) is found to be an exact match a phase angle in the Phase\/Amplitude lookup table, the invention selects that phase angle and amplitude, and the corresponding GRU value, without performing automatic fine tuning. If there is no exact match, automatic fine tuning is performed.","In another embodiment, because it is rare to find an exact match, automatic fine tuning is always performed, without the initial check. Automatic fine tuning involves tuning the Image matrix. The invention attempts to get a close match between the phase angle found with the Image matrix and the phase angles available for comparison in the Phase\/Amplitude lookup table. For example, if the phase angle is found by the XGRU and YGRU ratio to be 14020000, the invention attempts to fine tune the value to reach either 14017754 (i.e., node 13 in the Phase\/Amplitude lookup table) or 14047686 (i.e., node  in the Phase\/Amplitude lookup table).","The automatic fine tuning uses a Ternary technique. With the Ternary technique, if \u00bc is to be added to the image matrix, 1 is added to each fourth pixel. Then, a new phase angle is calculated. This phase angle is recorded. This is done for 18 passes, with an amount being added each of the 18 times (e.g., 0.1 may be added for the first pass, another 0.1 is added for the second pass, etc.). In each of the 18 passes, a value is added to the pixels in the image matrix, then the phase angle is calculated, then a close match is sought in the Phase\/Amplitude lookup table. This results in a FRC value that corresponds to the selected entry in the Phase\/Amplitude lookup table. Next, the FRC value is used as an index into the Cousins table. Then, a comparison is made between the phase angle calculated in the pass and the phase angle for each of the cousins and the selected FRC. The FRC whose phase angle is closes to the calculated phase angle is saved in an array, along with phase angle error (MNP) and amplitude error (MNA). This array results in 18 values corresponding to the 18 passes. A mean phase angle is calculated from the 18 recorded values. This is then compared to the Phase\/Amplitude lookup table to find a matching phase angle, amplitude, and corresponding GRU. Also, the GRU value is used to index into the Cousins table. The 18 passes are performed for each of four frame cousins (FRCs). The result is four final values, and one is selected from these four.","For each of the 18 steps, start with frame cousin (FRC) , which has a GRU value of . FRC  is used because the GRU value  is near the middle of the range. Also, FRC  has 8 cousins (the most cousins possible in the Cousins table). Then, a comparison is made between the phase angle and the phase angle in the Phase\/Amplitude lookup table for each cousin. During the process, one of the cousins is identified as being closest to 136 by the phase angle. This results in 18 values for each cousin within the FRC. Then, the FRC that is most often closest to the image phase angle is chosen. In one embodiment, there are four iterations, one starting with FRC , the next with FRC , the next with FRC , and the last starting with FRC . These frame cousins cover many comparisons because of the number of cousins that they have. Of the four results, the closest match to the Phase\/Amplitude lookup table is the selected answer. This answer is displayed, for example, on a monitor connected to a computer.","The focus is on the phase angle and not the amplitude because the amplitude is susceptible to environmental factors. Then, the final result is the GRU whose phase angle and amplitude most closely match an entry in the Phase\/Amplitude lookup table.","The following pseudo-code reflects the processing performed by the noninvasive measurement system. Some of the steps occur when particular controls are set on a control panel. These controls will be discussed below.\n\n",{"@attributes":{"id":"P-00290","num":"00290"},"figref":"FIG. 15","b":["1600","1602","1604","1602","1604"]},"The TAPA histogram  displays the total energy of the incoming source. The bar  indicates the processing of the FRC values. The MX DATA histogram  has an x-axis that goes from 1-450 milligrams and displays a statistical distribution of findings of 1-18 steps. The MXHD control displays the data of an array that holds the 4 FRC values. The PEAK control displays the peak value from the histogram . The RESD control displays the four glucose levels that correspond to the four FRC values selected with the auto fine tuning. The RES control displays the glucose level of the last FRC processed. The AVD control displays the average mg\/dl value for each of the 4 FRC steps. The AVX control displays the average amplitude. The MNX control displays the minimum amplitude. The MAX control displays the maximum amplitude. The 2CYL\/1CYL control enables switching between 1 or 2 cycles. The PAUSE control enables pausing the processing. The PHASE AT MATCH control displays the phase angle selected by the matching.","The error controls T-T are lit upon the occurrence of certain error conditions. The T control is lit when the phase code is too low. The T control is lit when AVX and MNX are the same (i.e., these are the average and minimum amplitudes). The T control is lit when MX and MN are the same (i.e., these are the minimum and maximum glucose levels that are found). The T control is lit when MXAMP and MNAMP are the same. The T Control is lit when the phase code is out of bounds.","Moving back to the top of the control panel, the PTWEEK control is a phase tweek that enables forcing the phase angle value to a particular value. The ATWEEK control is an amplitude tweek that enables forcing the amplitude value to a particular value. For a first filter, the FILTER control enables setting no filter, a low pass filter, or a high pass filter. For a second filter, the FILTER control enables setting no filter, a low pass filter, or a high pass filter. The FULL\/PART control selects the portion of the Phase\/Amplitude table to be used in the look-up process. FULL permits a look-up from FRC - and PART permits a look-up from FRC -.","The XPOS control provides a readout of the X position of the mouse on an image, and the YPOS control provides a readout of the Y position of the cursor on an image. Together, the XPOS and YPOS enable selection of a particular pixel. The DN control displays the data number of the pixel located under the cursor. The DELTA control shows the difference between the line or row image segment sums between the A and B frame. These are the cumulative values of the pixels shown in the 2 waveform charts shown in FIG. .","The PUPL\/NORM control is not used. The A-B\/NORM control subtracts two images (e.g., Frame A\u2014Frame B). The SIG Control is an edge detection filter, which is a version of a high-pass filter. The FLIP\/PHASE control enables inverting a phase angle. The ITER control displays an iteration of the 18 passes. The PHASE A and PHASE B controls are ratios for two images, Image A and Image B, respectively. The SUGAR control displays a glucose level. The ERROR A control is lit when an error occurs. When the ERROR A control is lit, the SUGAR display is blanked out.","Moving to the graph on the right side, the A LINES graph  displays either the summation of the X values or the summation of the Y values from the CCD matrix, depending on which is selected with the SMX\/SMY control, for Image A.","The NEG control is lit red when the second frame (e.g., for Image B) has a smaller GRU than the GRU of the first frame (e.g., for Image A). The STR control turns on a primary linear stretch. The COL control shows false color or black\/white for the images that are displayed. The BAL control balances based on the geography of a pupil if there are few iris pixels to work with (e.g., pupil too big). The A\/B control enables working with two channels (i.e., two images) at once. The B\/W control enables, for all charts, either a black background or a white background.","The CLN Control enables cloning the Image B file name to the Image A file name to speed up manual processing. This avoids manually typing the information. The ALC control sets automatic level control. The INP control displays the input image, rather than a processed image. The 3D control is used to select a 3D display format for false light intensity maps. The PS control is a prestretch (before any other processing occurs). The PCUT control sets a pupil cutter. The CAL control is on for calibration of a pupil for a linear stretch.","The TABS control sets 4 corner tab masks. The LPAT control enables selecting a square or L-shaped mask for the pupil. The BOX control is used to box in part of an image. The AMP\/PHS control is used to select either amplitude or phase angle for indexing into the Phase\/Amplitude table when a best possible match is being sought. The STOP control stops the program. The SNAP control invokes another program to snap a picture of the screen and store it as a bitmap. The SAVE control directly saves the image displayed as a bitmap. The NODES DBL control can change the HI\/LOW control, which selects a high brightness or low brightness Phase\/Amplitude lookup table, to select two other tables. The DLTA control causes comparisons to be made where the final result is selected based on the comparison polarity result. If the incoming phase angle is higher than the nearest table entry and the amplitude is lower than it's table entry, the comparison will be rejected. The POL control is for polarity. In particular, during comparison of values in the Phase\/Amplitude lookup table, if BI is set, the answer can be above or below the actual value, and if MON is set, the value is the lower value found. The B LINES graph  displays either the summation of the X values or the summation of the Y values from the image matrix, depending on which is selected with The SMX\/SMY control, for Image B.","The PATH A and FILENAME A provide the path and filename used to locate the storage location of Image A. The PATH B and FILENAME B provide the path and filename used to locate the storage location of Image B. The GAMA control is a gamma stretch control. The F MODE control enables manipulating the filter slope mode.","Moving back to the center of the control panel, there are several PHASE DIF controls. The B-A control is the phase angle difference between the A and B image channels. The T-A control shows the difference between the incoming phase angle and the table phase angle as indexed by the current amplitude match. The PPSN control show the best FRC match based on the best phase angle match found during a cousin table scan. The APSN control shows the best FRC match based on the best amplitude match found during a cousin table scan. The AMPL control shows the difference between the incoming amplitude and the table amplitude as indexed by the current amplitude match. The MNP control displays the phase angle error. The MNA control displays the amplitude error.","The TGRUA control displays the true GRU for Image A. The TGRUB control displays the true GRU for Image B. The T B-A control displays the difference in true GRU between the A and B image channels. The MXAMP control displays the maximum amplitude, the MNAMP control displays the minimum amplitude. The MX control shows the maximum GRU value. The NN control shows the minimum GRU value. The UFM control displays the average before a filter is applied. The ERD control, is set, will set the ERROR A control if any error indicator T-T are on. The PUFM control displays the average before ALC is applied. The AV control displays the average of MX and MN. The CSN control indicates whether the CSN table (i.e., the cousins table) should be used or the primary FRC value should be used for comparisons. The 10\u00d7 control indicates how much should be added to the CCD array in each of the 18 passes. The AUTO TUNE control allows for selecting either pre-matrix (i.e., a sweep of amplitude before decoding phase angle and amplitude) or post-matrix (i.e., a sweep of amplitude after decoding phase angle and amplitude). The MNPD control holds the MNP values. The MNAD control holds the MNA values.","Moving back to the top, the IMAGE control enables using the input picture exactly as it is or normalizing the picture to be 480\u00d7680. The LINE\/FRAME control enables capturing a line or a frame. The YPA control displays the XGRU. The YPB control displays the YGRU. The SEQ control enables selection of the number of FRC values to process with 18 passes, and this can range from 0-37. The FRC control enables selection of the FRC value to start with. The FINE GAIN control is manual fine tuning, which forces an offset with a Ternary gain. The PUPIL BIAS control is a pupil size compensator. The WINDOW LO and WINDOW HI controls enable selection of a low and high value, respectively, between 0-225; the result of this is that specific pixels in the range are selected for processing.","The LOS control sets a low limit on a secondary stretch, and the HIS control sets a high limit on a secondary stretch. The LOP control sets a low limit on a primary stretch, and the HIP control sets a high limit on the primary stretch. The OFFSET A control puts a numerical offset to the entire Image A, the OFFSET B control puts a numerical offset to the entire Image B. The BIAS A control enables adding to the computed pupil average of Image A. and the BIAS B control enables adding to the pupil average of Image B.","The ROT control is used to rotate the image. The MEAN A control displays the mean of Image A, while the DEV A control displays the standard deviation. The MEAN B control displays the mean of Image B, while the DEV B control displays the standard deviation. The GRU A control displays the GRU of Image A, while the GRU B control displays the GRU for Image B. The B-A control the raw GRU difference between image A and image B. The PUPIL A control displays the brightness (before average) of the pupil of Image A. The PUPIL B control displays the brightness (before average) of the pupil of Image B. The threshold control indicates at what value the GRU should be summed to. The GLIM control indicates at what value the system should not sum after. The LEVEL A control is average pupil brightness of image A, and the LEVEL B control is the average pupil brightness of image B.",{"@attributes":{"id":"P-00306","num":"00306"},"figref":"FIG. 16","b":["1700","1702","1704","1706","1708","1710","1702","10","25","28","23","29","18"]},{"@attributes":{"id":"P-00307","num":"00307"},"figref":"FIG. 17"},{"@attributes":{"id":"P-00308","num":"00308"},"figref":"FIG. 18","b":["1","1900","2","1902","3","1904","1","1906","2","1908","3","1910"]},"D.3 Flow Diagram and Alternative Embodiments",{"@attributes":{"id":"P-00310","num":"00310"},"figref":"FIGS. 19A-19C","b":["2000","2002","2004","2006"]},"In block , if pre-stretch set, the noninvasive measurement system performs a first linear stretch. In block , the noninvasive measurement system creates a pupil mask in a specified shape. In one embodiment, a user may select either a \u201cL\u201d shape or a square shape. In other embodiments, an oval or circular shape may be provided, but it may require additional processing resources. In block , corner tab cutter (zero out boxes in corners to remove extraneous light, etc.). In block , if first filter set, the noninvasive measurement system uses either a programmable low or high pass filter, whichever is selected. In block , if centering is set, the noninvasive measurement system finds the center. In block , if second filter set, the noninvasive measurement system uses a programmable low or high pass filter, whichever is selected. In block , if stretch set, the noninvasive measurement system controls stretch from input from the control panel. In block , if image rotator is set, the noninvasive measurement system rotates the image (i.e., this can be used instead of Ternary technique).","In block , if automatic level control is set, the noninvasive measurement system performs automatic level control. In block , if manual fine tuning is set, the noninvasive measurement system performs manual fine tuning (i.e., Ternary technique for biasing image). In block , if automatic fine tuning is set, the noninvasive measurement system performs automatic fine tuning (i.e., Ternary weights are added in here). In block , if bitmap image format is set, the noninvasive measurement system changes format to an x-y image format (i.e., an x-y array), which removes the bitmap header, etc.","In block , the noninvasive measurement system calculates GRU (i.e., by summing up all x rows and y columns in the image array). In block , the noninvasive measurement system converts the image from 680\u00d7480 to 480\u00d7480 pixels. In block , using 380 pixels (i.e., the noninvasive measurement system avoids using edges as it affects data, by offsetting 50 pixels in from edge in each axis, leaving a black margin at edge), the noninvasive measurement system sums up the x rows and y columns and divides the largest by the smallest to get a value that is greater than one. In block , the noninvasive measurement system obtains row information YPA (summation of rows) and column information YPB (summation of columns) by calculating the following:\n\ntrue phase angle=YPA\u2212(YPA\u2212YPB)\u00d710MILLION\n\nYPB\u2212(YPB\u2212YPA)\n\ntrue GRU\/amplitude=GRU\u2212(YPA+YPB).\n","In block , the noninvasive measurement system performs automatic fine tuning, with 18 passes for each of 4 FRC values. In block , the noninvasive measurement system selects best true phase angle and true amplitude match. In block , the noninvasive measurement system displays results.","The embodiment of the invention described in section D may be modified without exceeding the scope of the invention. For example, the technique of the invention may be practiced in a networked environment, as described with respect to FIG. .","The noninvasive measurement system can also measure glucose concentrations from skin (e.g., wrist or stomach), blood (e.g., a drop of blood on a tissue), or nail beds. For each of these cases, the noninvasive measurement system generally uses the technique described in Section D, in which a phase angle and amplitude are correlated to a glucose level.","When working with the skin, a lower light level is used (i.e., the eye absorbs more light). In particular, experimentation was successfully performed by using the noninvasive measurement device to transmit light waves onto a portion of the wrist. The wrist contains numerous blood vessels, which may contain glucose molecules that reflect the light waves. A CCD camera was used to receive the reflected light waves from the wrist and to form a matrix of pixels that represented the received light waves. Next, the noninvasive measurement system applied a gamma  stretch to the matrix of pixels. This refers to a logarithmic re-mapping technique that gives more contrast for lower level pixels (small pixel values) and less contrast for higher level pixels (large pixel values), resulting in better resolution in the lower end. The noninvasive measurement system then processed the \u201cstretched\u201d matrix of pixels to obtain a phase angle and amplitude. From the phase angle and amplitude, the noninvasive measurement system found a glucose level. It is to be understood that this process can be modified without exceeding the scope of the invention. For example, the controls of  may be set so that a pupil cutter is also applied prior to calculating the phase angle and amplitude.","Additional experimentation was successfully performed by using the noninvasive measurement device to take a picture of a portion of the stomach. In particular, experimentation was successfully performed by using the noninvasive measurement device to transmit light waves onto a portion of the stomach. The stomach contains numerous blood vessels, which may contain glucose molecules that reflect the light waves. A CCD camera was used to receive the reflected light waves from the stomach and to form a matrix of pixels that represented the received light waves. When this was done, a gamma  stretch was applied. This refers to a gamma stretch with a more gradual effect and that gives more contrast for lower level pixels (small pixel values) and less contrast for higher level pixels (large pixel values), resulting in better resolution in the lower end. The noninvasive measurement system then processed the \u201cstretched\u201d matrix of pixels to obtain a phase angle and amplitude. From the phase angle and amplitude, the noninvasive measurement system found a glucose level. It is to be understood that this process can be modified without exceeding the scope of the invention. For example, the controls of  may be set so that a pupil cutter is also applied prior to calculating the phase angle and amplitude.","Furthermore, experiments were performed with noninvasive measurement device against blood drops. The blood drop was either on a tissue or on a test strip that had been used to run a test on a conventional (one touch) glucose monitor. With the test strips, the blood drop spread from a center point and retreated at an edge, so there were two layers of blood at the perimeter. With test strips, better values were derived from testing the perimeter. The blood drop was tested as the skin was, in less light. In particular, experimentation was successfully performed by using the noninvasive measurement device to transmit light waves onto the blood, which may contain glucose molecules that reflect the light waves. A CCD camera was used to receive the reflected light waves from the blood drop and to form a matrix of pixels that represented the received light waves. The noninvasive measurement system then processed the matrix of pixels to obtain a phase angle and amplitude. From the phase angle and amplitude, the noninvasive measurement system found a glucose level. It is to be understood that this process can be modified without exceeding the scope of the invention. For example, the controls of  may be set so that a pupil cutter is applied prior to calculating the phase angle and amplitude.","Further experiments were performed with nail beds. In particular, experimentation was successfully performed by using the noninvasive measurement device to transmit light waves onto the blood, which may contain glucose molecules that reflect the light waves. A CCD camera was used to receive the reflected light waves from the blood drop and to form a matrix of pixels that represented the received light waves. An experimental mask was implemented to allow the program to \u201csee\u201d the tissue edge at the side of the fingernail. The noninvasive measurement system then processed the matrix of pixels to obtain a phase angle and amplitude. From the phase angle and amplitude, the noninvasive measurement system found a glucose level. That is, the portion of the image that was not masked was processed into GRU values and brightness gains were observed with increasing blood glucose. It is to be understood that this process can be modified without exceeding the scope of the invention. For example, the controls of  may be set so that a pupil cutter is also applied prior to calculating the phase angle and amplitude.","The above options for using the noninvasive measurement device are provided for illustration only. The noninvasive measurement system may also be used on other portions of a body (e.g., on a leg). Furthermore, although the discussion has used human experimentation, the techniques of the invention are applicable to other biological entities.","This concludes the description of an embodiment of the invention. The following describes some alternative embodiments for accomplishing the present invention. For example, any type of computer, such as a mainframe, minicomputer, or personal computer, or computer configuration, such as a timesharing mainframe, local area network, or standalone personal computer, could be used with the present invention.","The foregoing description of an embodiment of the invention has been presented for the purposes of illustration and description. It is not intended to be exhaustive or to limit the invention to the precise form disclosed. Many modifications and variations are possible in light of the above teaching. It is intended that the scope of the invention be limited not by this detailed description, but rather only by the claims appended hereto."],"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY","DETAILED DESCRIPTION","A. Overview of the Noninvasive Measurement System","B. Hardware Environment","C. Noninvasive Measurement of Glucose Concentration in an Eye Using Amplitude","D. Noninvasive Measurement of Glucose Concentration in an Eye Using a Phase Angle and Amplitude","E. Noninvasive Measurement of Glusose Concentration in Skin, Blood, and Nail Beds","F. Conclusion"],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Referring now to the drawings in which like reference numbers represent corresponding parts throughout:",{"@attributes":{"id":"P-00024","num":"00024"},"figref":"FIG. 1"},{"@attributes":{"id":"P-00025","num":"00025"},"figref":"FIG. 2"},{"@attributes":{"id":"P-00026","num":"00026"},"figref":"FIG. 3"},{"@attributes":{"id":"P-00027","num":"00027"},"figref":["FIG. 4","FIG. 3"]},{"@attributes":{"id":"P-00028","num":"00028"},"figref":"FIG. 5"},{"@attributes":{"id":"P-00029","num":"00029"},"figref":"FIG. 6"},{"@attributes":{"id":"P-00030","num":"00030"},"figref":["FIG. 7","FIG. 6"]},{"@attributes":{"id":"P-00031","num":"00031"},"figref":"FIG. 8"},{"@attributes":{"id":"P-00032","num":"00032"},"figref":"FIG. 9"},{"@attributes":{"id":"P-00033","num":"00033"},"figref":["FIG. 10","FIG. 9"]},{"@attributes":{"id":"P-00034","num":"00034"},"figref":"FIG. 11"},{"@attributes":{"id":"P-00035","num":"00035"},"figref":"FIG. 12"},{"@attributes":{"id":"P-00036","num":"00036"},"figref":"FIG. 13"},{"@attributes":{"id":"P-00037","num":"00037"},"figref":"FIG. 14"},{"@attributes":{"id":"P-00038","num":"00038"},"figref":"FIG. 15"},{"@attributes":{"id":"P-00039","num":"00039"},"figref":"FIG. 16"},{"@attributes":{"id":"P-00040","num":"00040"},"figref":"FIG. 17"},{"@attributes":{"id":"P-00041","num":"00041"},"figref":"FIG. 18"},{"@attributes":{"id":"P-00042","num":"00042"},"figref":"FIGS. 19A-19C"}]},"DETDESC":[{},{}]}
