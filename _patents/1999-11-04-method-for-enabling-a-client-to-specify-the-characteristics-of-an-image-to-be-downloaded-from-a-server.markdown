---
title: Method for enabling a client to specify the characteristics of an image to be downloaded from a server
abstract: A method for serving an image from a server to a client, e.g., a computer having a browser or other graphics viewing engine. The user of the client first specifies a set of one or more bitmap characteristics for an image transfer, with at least one of the bitmap characteristics including a number of bits per pixel. Preferably, this specification is accomplished using an applet or other piece of code that is downloaded to the client from the server. Later, when the server receives a client request that includes data identifying a specified bitmap characteristic, a server processing routine (e.g., a servlet) generates a version of the image that conforms to the specified bitmap characteristic. This version is then delivered back to the client in response to the original request. In this way, the user of the client machine can control the particular characteristics of the image files that are delivered to his or her machine.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07099040&OS=07099040&RS=07099040
owner: International Business Machines Corporation
number: 07099040
owner_city: Armonk
owner_country: US
publication_date: 19991104
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","BRIEF SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT"],"p":["1. Technical Field","The present invention relates generally to transmission of image content in a computer network and, in particular, to a method for enabling a user of a client machine to negotiate the format of an image to be transferred to the client machine from a server in the network.","2. Description of the Related Art","The World Wide\/Web is the Internet's multimedia information retrieval system. In the web environment, client machines effect transactions to web servers using the Hypertext Transfer Protocol (HTTP), which is a known application protocol providing users access to files (e.g., text, graphics, images, sound, video, etc.) using a standard page description language known as Hypertext Markup Language (HTML). HTML provides basic document formatting and allows the developer to specify \u201clinks\u201d to other servers and files. In the Internet paradigm, a network path to a server is identified by a so-called Uniform Resource Locator (URL) having a special syntax for defining a network connection. Use of an HTML-compatible browser (e.g., Netscape Navigator or Microsoft Internet Explorer) at a client machine involves specification of a link via the URL. In response, the client makes a request to the server identified in the link and, in return, receives in return a document or other object formatted according to HTML. A collection of documents or objects supported on a web server is sometimes referred to as a web site.","Many web pages include high resolution images or graphics. When it is desired to transmit an image over the Internet, typically either the entire image is transferred or, alternatively, a smaller, low-resolution version is served. An example of a low-resolution image is a thumbnail image, which the user may review and then select to control the browser to fetch the full resolution image. Transmission of a thumbnail image instead of the full resolution image it represents conserves significant bandwidth and network resources.","It is also known in the prior art to provide software routines at both a client and a server in a distributed computer network to enable the amount of data in a graphical image that is to be transmitted (i.e. from server to client) to be customized in according with client and\/or server-supplied information. Such a technique is described in U.S. Pat. No. 5,764,235 to Hunt et al. In this patent, each of the client and server include a dedicated handshake process that allows the machines to first determine whether they both support the image customization functionality. If so, then the server may then use an image customization process on images to be transmitted to the client to selectively modify the amount of data and the format of the graphical image files to be sent to the client in response to a request for the image. In performing the image customization process, the server makes use of server image control data and\/or client image control data. The client image control data is data or information obtained from the client that is useful in determining both the suitable amount of data and\/or format for the graphical image files to be sent. Typically, such data includes user data and client system data. The user data may include user preference, intended use, or a specific quality level. The client system data includes type of compression supported, transmission performance criteria, and equipment data (e.g., display format, printer format, or the like).","While the technique illustrated in Hunt et al. reduce image transmission time and save network bandwidth, the approach has certain disadvantages. Foremost, the technique proposed by Hunt et al. envisions that a given graphical image file be processed prior to receipt of the client request. According to the patent, the image file is processed to create a modified image file that is partitioned into various additive segments. As more and more of the segments are added together, a better quality image is created. Thus, for example, a first segment can be used for displaying the image as a high quality, thumbnail size image or a low quality, feature size image. By combining this segment with another segment, the resulting image can be used as a high quality, feature size image or a low quality, full screen size image.","Preprocessing the image in accordance with the teachings of the Hunt et al. patent effectively offsets the advantages that are otherwise achieved by sending the customized images. In particular, the generation of the custom segments consumes both processing and storage resources at the server, thus minimizing the value of the technique. In addition, the types of client image control data identified in the patent do not afford the user of the client machine sufficient flexibility to control the characteristics of the actual image transferred.","The present invention addresses these deficiencies of the prior art.","It is a general object of the present invention to enable a user of a client machine to negotiate the bitmap format of a given image to be transferred to the machine from a server in a computer network.","A more specific object of this invention is to enable a user of a client browser to specify given bitmap format characteristics when making a request for a high resolution image supported on the server. In operation, the image is processed \u201con-the-fly\u201d as it is served in response to the client request to produce a version customized according to the specific request.","By identifying specific image bitmap format characteristics, a significant reduction in transmission time and file storage space can be achieved.","Preferably, the type of bitmap format characteristics that may be specified are quite varied. One particular type of format characteristic is the number of bits per pixel in the image, which is a measure of color depth. Other types of image format characteristics that may be specified when making a request for an image supported on the server include a type of compression method (lossy vs. non-lossy), image loss, or the type of target device.","According to another feature of the invention, the user of the client machine may simply make a coarse selection of the quality of the image he or she desires as a function of the time required to download the particular image file. Preferably, this selection is made using a slider control. Once the slider is set, the particular selection is then translated into appropriate control parameters to select the bits per pixel and bitmap compression format best suited to adapt the images for transfer to the client.","The foregoing has outlined some of the more pertinent objects and features of the present invention. These objects should be construed to be merely illustrative of some of the more prominent features and applications of the invention. Many other beneficial results can be attained by applying the disclosed invention in a different manner or modifying the invention as will be described. Accordingly, other objects and a fuller understanding of the invention may be had by referring to the following Detailed Description of the Preferred Embodiment.","The present invention may be implemented in any client server-based computer network operating environment. In the preferred embodiment described below, the invention is illustrated in the context of an open Internet networking environment wherein users of client machines interconnect to servers that support content to be downloaded, typically via a web-based protocol such as HTTP. While this is a preferred operating environment, one of ordinary skill will appreciate that the principles of the present invention are not limited to use for Web content retrieval between a web site and a client browser. The techniques are useful in any environment in which it is required to transfer an image file between a server and a client, irrespective of the given transfer protocol, system configuration or networking environment.","With the above caveat, a representative system in which the present invention is implemented is illustrated in . A plurality of Internet client machines  are connectable to a computer network Internet Service Provider (ISP)  via a network such as a dialup telephone network . As is well known, the dialup telephone network usually has a given, limited number of connections \u2013. ISP  interfaces the client machines  to the remainder of the network , which includes a plurality of web content server machines . Network  typically includes other servers for control of domain name resolution, routing and other control functions. A client machine typically includes a suite of known Internet tools, including a Web browser, to access the servers of the network and thus obtain certain services. These services include one-to-one messaging (e-mail), one-to-many messaging (bulletin board), on-line chat, file transfer and browsing. Various known Internet protocols are used for these services. Thus, for example, browsing is effected using the Hypertext Transfer Protocol (HTTP), which provides users access to multimedia files using Hypertext Markup Language (HTML). The collection of servers that use HTTP comprise the World Wide Web, which is the Internet's multimedia information retrieval system.","A representative web server  comprises one or more processors  (e.g., \u00d786, Pentium-based, RISC-based, or the like), a system memory  for supporting an operating system  (e.g., AIX, Windows NT, Windows '98, Linux, or the like) and a web server program  (e.g., IBM Netfinity, WebSphere, or the like). An application programming interface (API)  or other interface provides extensions to enable application developers to extend and\/or customize the core functionality thereof through software programs including plug-ins, servlets, and the like. One such program is an image transfer mechanism  of the present invention. The mechanism provides server-side processing of images as such objects are served to a particular client machine (and, in particular, to a given user at the client machine).","Referring now to , the image transfer mechanism may be implemented most conveniently in software, namely, as a set of instructions that are executed in a processor. Thus, for purposes of illustration,  shows the mechanism  as being resident in system memory (e.g., RAM)  associated with a given processor  operating within the server platform . The image transfer mechanism  includes several functional components: an applet , a manager , a set of client response routines , and a dynamic image processor . The applet  comprises a set of Java class files and is adapted to be served to given client machines in the network. The applet  is executable in the user's client machine using local resources, e.g., a web browser or other graphics viewer. As will be seen, the applet is designed for execution on the client machine by a particular user to generate a set of image format data that defines the transfer characteristics for a given image. Alternatively, the functionality of the applet  may be a client-side plug-in, may be built in to a client browser or provided as a standalone program. Implementation as an applet is desirable as it enables the image transfer mechanism to reside on a given server.","Generally, the image transfer mechanism enables a user of client machine, e.g., a user of a HTTP-compliant web browser, to specify the particular transfer characteristics of an image to be served to the client machine from a server in the computer network. By way of brief background, and with reference to , a given image  to be served to the client machine for display (e.g., on a raster-based image display device, conventionally a CRT) or for printing comprises an equal amount of picture elements, called pixels . The amount of color information contained in each pixel is determined by the pixel's depth, or bits per pixel. The more bits per pixel, the more colors, shades, and hues a pixel may contain. Thus, for example, at one bit per pixel, the pixel contains only two colors; however, at eight bits per pixel, the pixel may contain 256 colors. Of course, the more colors in an image, the better the resolution and image quality.",{"@attributes":{"id":"p-0029","num":"0028"},"figref":["FIG. 4","FIG. 5"],"b":["44","44","46","48","48"]},"The user dialog  includes a number of graphical controls. A master slider  has a number of control positions as determined by the relative placement of the slider. Typically, the slider is positioned using a conventional drag operation, using an input device such as a mouse or trackpad device. As illustrated, the master slider  has a topmost position, for the fastest download, and a bottommost position, for the slowest download. As can be seen, the fastest download is associated with the worst quality image, while the slowest download is associated with the best quality image. The user may select a given speed versus quality characteristic by positioning the slider as desired.","As also seen in , the user dialog  includes a number of additional controls that may be selected by the user to control a particular image transfer characteristic. Thus, for example, the dialog includes a set of radio buttons  that enable the user to select a particular color depth. A secondary slider  may be used to select a given number of dots per inch, which is a printer characteristic. Another set of radio buttons  may be used to identify a given type of bitmap compression format. In this example, which is merely representative, the user dialog  presents four different types of bitmap compression: TIFF (Tagged Image File Format), RLE (Run-Length Encoding), GIF (Graphics Interchange Format), and JPEG (Joint Photographic Experts Group). As is well-known, TIFF, RLE and GIF are representative lossless types of image compression, while JPEG is a representative lossly data compression technique. When the user selects the particular type of compression format, a color ratio value is displayed in the field . The dialog also includes various control buttons such as OK, Cancel and Help.","Returning now back to the flowchart of , the client-side routine then tests at step  to determine whether the user has positioned the master slider . If the result of the test at step  is negative, the routine continues at step  to store the user-selected image transfer characteristics (i.e. the bit per pel setting, the bitmap compression format, and the like). These values may be conveniently stored in a file on the client. If the result of the test at step  is positive, the routine branches to step  to calculate the bits per pel and the bitmap compression format that best approximates the user's selection. Control then continues at step  to store the generated values. The routine then tests at step  to determine whether an image has been requested. An image may be requested in any number of ways. In an illustrative embodiment, the image is requested as part of a web page. When the outcome of the test at step  is positive, the routine retrieves the image transfer characteristic data previously stored. This is step . At step , the image transfer characteristic data is delivered with the client request to the server. This completes the client-side processing.","One of ordinary skill will appreciate that the image transfer characteristic data may be generated at the client machine and then uploaded to the server (at which the image is hosted) in a communication separate from the actual request for the image. Thus, for example, the data may be uploaded and stored at the server in a file uniquely associated with identifying information of the user (e.g., userid and password).",{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 6","b":["72","74","74","76","74","78","34","80","34","36"]},"Referring now back to , at step  the client response routine parses the image transfer data received from (or otherwise associated with) the client request (e.g., if such data were uploaded to and stored at the server earlier). After parsing the data stream, the client response routine returns control back to the manager , passing back the image formatting data at step . At step , the manager retrieves a requested image file. At step , the manager then passes the requested image file and the image formatting data to the dynamic image processor  of the image transfer mechanism.","Control then continues at step . At this step, the dynamic image processor , using the formatting data an input, transforms the image into a version that best matches the user's specification. Thus, for example, if the formatting data specifies a RLE encoding as the bitmap compression format, the dynamic image processor  encodes the image with this compression format. The dynamic image processor also transforms the image according to the requested color depth (i.e. bits per pel) value of the formatting data. The output of the dynamic image processor is then passed at step  to other server control processes as required. Thus, for example, the other server control process may be a routine that generates a data stream to be returned to the client that includes other data besides the processed image. This completes the server-side processing.","The present invention provides many advantages over the prior art. By allowing the user of the client machine to select the color depth, namely the bits per pel, the user has significantly more control over how the image is actually delivered from the server. To provide a concrete example, if the user of the client machine downloads an 8\u2033\u00d711\u2033 bitmap of 24 bits per pel for a printer having a resolution of 360\u00d7360 dots per inch, the total amount of the download is approximately 33 Mbytes. Using the present invention, the user can modify the bits per pel desired for the download, which greatly reduces the file size and thus the download time. Thus, for example, if the user designates 8 bits per pel, this has the effect of reducing the effective download size to one-third. Thus, the time required to transmit the file from the server to the client will be decreased by a factor of 3\u00d7. In like manner, the user can alter the compression technique to facilitate a more efficient download given the available network and\/or local resources.","The above-illustrated interface identifies a number of bitmap compression techniques that may be customized by the user of the client machine. One of ordinary skill in the art will recognize, however, that there are numerous other types of graphics file formats that may processed in like manner. Thus, the present invention is not limited to the formats identified in the representative interface. Other conventional compression formats that may be implemented include, without limitation: PNG (Portable Network Graphics), BMP (Microsoft Windows device-independent bitmap format), DIB (Device Independent Bitmap), PCX, WMF (Windows Metafile Format), PAL (Palette File Format), and others. As noted above, preferably the dynamic image processor includes or has access to the particular bitmap processing algorithm that is made available to the user for customizing the file format request.","A representative client on which the applet (or equivalent client-side code) is run is a personal computer, notebook computer, Internet appliance or pervasive computing device (e.g., a PDA or palm computer) that is \u00d786-, PowerPC\u00ae- or RISC-based. The client includes an operating system such as IBM\u00ae OS\/2\u00ae, Microsoft Windows, Microsoft Windows CE or PalmOS. As noted above, the client includes a suite of Internet tools including a Web browser, such as Netscape Navigator or Microsoft Internet Explorer, that has a Java Virtual Machine (JVM) and support for application plug-ins or helper applications. The applet is executable in the JVM in a well-known manner.","Generalizing, the above-described functionality thus preferably includes a server side piece and a client side piece. The server side piece comprises the manager, the set of client response routines, and the dynamic image processing routine. As has been noted, the server-side routines may be implemented as a Java servlet or as standalone native code. Some of the image processing routines may be commercially available programs that provide known image compression functions. As also described above, the client side piece is preferably a Java applet, although the client piece may be written in native code. In either case, preferably the above-described functionality is implemented in software executable in a processor, namely, as a set of instructions (program code) in a code module resident in the random access memory of the computer. Until required by the computer, the set of instructions may be stored in another computer memory, for example, in a hard disk drive, or in a removable memory such as an optical disk (for eventual use in a CD ROM) or floppy disk (for eventual use in a floppy disk drive), or downloaded via the Internet or other computer network.","In addition, although the various methods described are conveniently implemented in a general purpose computer selectively activated or reconfigured by software, one of ordinary skill in the art would also recognize that such methods may be carried out in hardware, in firmware, or in more specialized apparatus constructed to perform the required method steps.","Further, as used herein, a Web \u201cclient\u201d should be broadly construed to mean any computer or component thereof directly or indirectly connected or connectable in any known or later-developed manner to a computer network, such as the Internet. The term Web \u201cserver\u201d should also be broadly construed to mean a computer, computer platform, an adjunct to a computer or platform, or any component thereof. Of course, a \u201cclient\u201d should be broadly construed to mean one who requests or gets the file, and \u201cserver\u201d is the entity which downloads the file."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["For a more complete understanding of the present invention and the advantages thereof, reference should be made to the following Detailed Description taken in connection with the accompanying drawings in which:",{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 6"}]},"DETDESC":[{},{}]}
