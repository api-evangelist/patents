---
title: Lightweight messaging with location between users of a social networking system
abstract: A social networking system provides a mechanism for lightweight messaging (e.g., a “poke”) between users of a social networking system. To initiate a new message from one user to another, the sender requests a poke by specifying the intended recipient. The system receives the request, obtains a location of the sender, verifies that the sender and recipient are both users of the social networking system and have established a connection, and then transmits a lightweight message to the recipient. The message history between users may be stored for later viewing, and third party services may access the messaging capability, e.g., via APIs.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08843573&OS=08843573&RS=08843573
owner: Facebook, Inc.
number: 08843573
owner_city: Menlo Park
owner_country: US
publication_date: 20110520
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["This invention relates generally to social networking, and in particular to lightweight messaging systems that communicate a location of a user to another user in a social networking system.","Social networking systems allow users to designate other users as connections (or otherwise connect to or form relationships with other users), contribute and interact with media items, use applications, join groups, list and confirm attendance at events, create pages, and perform other tasks that facilitate social interaction. Messaging in social networks vary from the most private including personal one-on-one messages and emails to the most public messages including posting on profiles as \u201cwall posts,\u201d notifications, invites. The problem with these modes of communication is that they require the user to provide content such as by typing, tagging a picture, adding a video, or otherwise providing content for the message. This requires effort on the part of the user in drafting the message. As a result, a user may procrastinate sending the message, for example, when the user is busy or feels too lazy to provide content for a message.","Social networking systems attempt to provide messaging functionality to their users that the users are likely to use as often as possible. Frequent and regular visits by the users to the social networking system are typically associated with advertising revenue for the social networking system since advertisers are more likely to advertise on systems regularly and frequently visited by users. Accordingly, additional mechanisms of communicating within a social networking system would be desirable, especially mechanisms that are lightweight for the user experience.","Embodiments of the invention provide users of a social networking system with a lightweight mechanism to communicate with each other, where the mechanism does not require the sender to enter any message content beyond the recipient. In certain embodiments of the invention, the lightweight communication mechanism is referred to as a \u201cpoke,\u201d and it provides location information about the sender.","In one embodiment, a poke includes the location of the sender who initiated the poke, in addition to implicitly registering the time of communication. The location and time may add contextual meaning to a poke that is shared between a pair of users. Depending on the relationship between the users on the social networking system, additional meaning may be ascribed to the poke by the person receiving it. In one embodiment, two users may access a user interface to view a history of the pokes between the two users, where the history contains the locations and times of the pokes. Beneficially, the users may use this history for a number of applications that may extend beyond the social networking system. For example, applications by third party providers may access the poke functionality described herein via a set of APIs, thereby using the social networking system to provide similar lightweight communication mechanism and\/or otherwise take advantage of the use of the poke communication mechanism within the social networking system.","Other embodiments of the invention comprise user interfaces for facilitating the poke feature. For example, this user interface may include a list of other users of the social networking system with whom a user has established a relationship (e.g., the user's friends), and this list may be organized contextually. In one embodiment, such as where the user interface is presented on a mobile device, the list of friends may be sorted by geographic proximity. In another embodiment, the list may be organized by the user's level of affinity with the friends in the lists. Various combinations and different organization schemes for the user interface are also possible. In one embodiment, the user interface also provides an input mechanism that allows the user to initiate a poke to another user on this list using a simple, intuitive gesture. On a touch screen mobile device, for example, the gesture may comprise touching a portion of the device's screen that displays the intended recipient.","The figures depict various embodiments of the present invention for purposes of illustration only. One skilled in the art will readily recognize from the following discussion that alternative embodiments of the structures and methods illustrated herein may be employed without departing from the principles of the invention described herein.","In certain situations, people may desire to communicate with others without providing explicit content with the communication. In such cases, the mere context of a communication between two people (such as the time or the communication and\/or the location of one or both of the parties to the communication) is sufficient to convey a message without further content. For example, if someone has agreed to pick up a friend at the airport, the mere existence of the communication from that friend near the time of the scheduled arrival may be sufficient to communicate that the friend has arrived and is ready to be picked up\u2014without requiring the sender to type content in a message (such as, \u201cI'm here, please pick me up.\u201d). This can be particularly helpful for mobile applications, where users are likely to prefer communicating with as little typing as necessary.","In the physical world, an actual poke from one human being to another in real life is an example of such a communication. Social networking systems may provide lightweight messages (also referred to as a poke message, or a poke) that emulate a poke from one user to another. In embodiments of the invention described herein, a lightweight message is a message sent by a user to another without requiring that the user explicitly provide content for the message. This lightweight message communicates information to the recipient merely by the existence of the message itself, along with possible contextual information such as a location of the sender and a time associated with the message. For example, by communicating a lightweight message, a sender can convey to the receiver that the sender was thinking about the receiver. Additional information can be conveyed by the lightweight message depending on the context of the communication. The context may comprise the relationship between two connections, a location of the sender and\/or recipient, or a time associated with the communication. For example, a lightweight message sent by a user from a particular location can comprise information indicating the location of the user.",{"@attributes":{"id":"p-0014","num":"0013"},"figref":["FIG. 1","FIG. 1"],"b":["100","185","190","175","185","100","100","100","190","100","150","150","100"]},"The social networking system  comprises components including an object store , an authentication manager , a graph information store , and an affinity predictor . Some embodiments of the social networking system  have different and\/or other modules than the ones described herein, and the functions may be distributed among the modules in a different manner than described herein.","The object store  stores information about various objects tracked by the social networking system . These objects may represent a variety of entities with which a user may interact in the social networking system , including, without limitation, other users  of the social networking system (represented, e.g., as a profile object for the user), applications  (e.g., a game playable within the social networking system),  wall\/status posts (e.g., short sentences input by user about himself on his profile or public messages to other specified objects of the social networking system),  newsfeed (e.g., aggregation of content and updates from objects in the social networking system),  locations associated with a user (e.g., \u201cSanta Clara, Calif., USA\u201d on a geographic map as opposed to the IP address), and  poke history (e.g., the history of pokes between any two users including the location and time).","The poke history  contains a history of the pokes between any two users tracked by the social networking system . When a user is viewing the information contained within the poke history , the results may be filtered by the sender of the poke, the recipient of the poke, a location associated with the poke (e.g., the sender's location), and\/or the time that the poke was sent or received. In some embodiments, the poke history between two users associated with a poke is accessible only by the two users. In other embodiments, any user that has a connection to either of the sender or recipient users may view the poke history between them.","The object store  may further store objects representing other entities represented by the social networking system , such as events (e.g., a concert that users may attend), groups to which users may belong, pages or hubs (e.g., pages constituting a particular organization's presence on the system), comments and notes.","In one embodiment, the social networking system  further comprises a graph information store , which represents the objects of the object store  as nodes that are linked together in a \u201csocial graph.\u201d In this embodiment, the social networking system represents the social information in a social graph. The social graph comprises a set of nodes connected by edges, where each node corresponds to an object, such as a user of the social networking system or content within the system. The edges between the nodes represent relationships between the objects corresponding to the nodes, such as actions taken by one object on another object. The nature and number of edges helps determine the \u201caffinity\u201d between two nodes on the social graph.","The graph information store  thus contains information about the relationships between or among the objects, represented as edges connecting various nodes. Various examples of edges in the social graph include, an edge between two user objects representing that the users have a relationship in the social networking system (e.g., are connected, or have communicated, viewed the other user's profile, or interacted in some way), an edge between a user object and an application object representing that the user has used the application, an edge between a user object and a group object representing that the user belongs to the group, and an edge between a user object and a page object representing that the user has viewed the page. For example, if one user establishes a connection with another user in the social networking system, the two users are each represented as a node, and the edge between them represents connection between them in the social network system.","In one embodiment, edges in the graph information store  have associated metadata, such as a label describing the type of relationship (e.g., \u201cfriend\u201d as the label between two user objects), or a value quantifying the strength of the relationship. Further, a relationship degree, or \u201cdistance,\u201d between any two objects may be ascertained by determining the number of edges on the shortest path between the objects. For example, two user objects that have an edge between them (e.g., denoting a connection) have a relationship degree (or \u201cdistance\u201d) of one and are considered first-order connections. Similarly, if a user object A is a first-order connection of user object B but not of user object C, and B is a first-order connection of C, then objects A and C have a relationship degree of two, indicating that C is a second-order connection of A (and vice-versa).","The location determining module  is responsible for obtaining information relating to the location of the user device  from which a request for a poke is received. In some embodiments of the invention, the information may be in the form of GPS coordinates, a street address, or an IP address from which a geographical location may be determined. The user interface manager  manages the user interface for requesting a poke at user device . The user interface for requesting a poke is described further in conjunction with .","In one embodiment the affinity predictor  uses the data from graph information  to predict the most likely objects that a user wants to interact with in any given context. One exemplary context is the sorting of connections for presentation on the user's profile page on the social networking system . The context may also be the sorting of connections for presentation on a mobile device of the user based on factors such as location of connections relative to user, strength of the relationship or a combination of factors.","The authentication manager  authenticates a user of the device  as being a member of the social networking system . An authenticated user is allowed by the social networking system  to access information based on the privacy settings of the users of the social networking system . For example, the user may be allowed access to information associated with the connections of the user as determined by the privacy settings of the connections. Thus, the authentication manager  allows a user to \u201clog into\u201d the social networking system  from a user device .",{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 2","b":["185","185","100","185","100","2020","185","185","100","202"],"i":["a ","b ","a","a","a "]},"In one embodiment, the list may be sorted so that likely recipients are closer to the top of the list, thereby making it easier for the sending user to select the desired recipient. For example, the provided list may be sorted according to a measure of affinity that the sender has for the users on the list, as provided by the affinity predictor . In this way, closer friends will appear towards the top of the list. Alternatively, the list may be sorted based on the proximity of the users on the list to the sending user. The list may also be filtered by location. For example, when a user is determined to have arrived at a location, the user may be presented with connections of the user that are determined to be within a threshold distance of the user. For example, if a user living in New York is visiting San Francisco, the connections of the user that live close to San Francisco may be presented to the user. This allows the user to send a lightweight message to the connections living close to the San Francisco, letting them know that he is visiting San Francisco. A user can send a check-in message to the social networking system indicating that the user arrived at a location, for example, a restaurant. The user can be presented with connections of the user that also sent a check-in message indicating they arrived at the same location or nearby locations, for example, a mall in which the restaurant is located. This allows the user to send a lightweight message the friends at the location or nearby locations.","In one embodiment, the user device of the sender obtains  a location of the device so that it can communicate that information with the poke message. This location is obtained  without requiring the user to enter the location manually. The location may be obtained using any of a variety of mechanisms using the location determining module , as described above.","Responsive to a request by the sender, the user device issues  a poke request to the social networking system . The poke request contains an identifier of the recipient and the determined location of the user device . Unlike other forms of communication that may occur over the social networking system , the sender need not provide any additional content for the poke message. In fact, in an embodiment, the interface for requesting a poke message does not include any mechanism for providing any message content; the sender merely specifies the recipient.","Upon receiving the poke request, the social networking system  verifies  that the poke is valid. For example, the social networking system  may verify that the sender and intended recipient have established a connection in the social networking system  and otherwise have permissions to exchange a poke. For example, in one embodiment only users having first-order connections are permitted to exchange a poke. Other embodiments may additionally permit second-order connections (e.g., a friend of a friend) to exchange a poke. Moreover, the social networking system  may verify that the intended recipient has not blocked the sender from sending messages. If the poke request is verified, the social networking system  then adds the poke to the graph information store .","The social networking system  then transmits  the poke message to the user device of the recipient. This transmitted poke message contains an identification of the sender as well as the location of the user device of the sender, which acts as a proxy for the location of the sender. The location information may be expressed as geographical coordinates, a street address, a nearby business or other registered location, a geographical position on a map, or via any other mechanism appropriate for the situation. Responsive to receiving the poke, the user device displays  the poke to the recipient, the display including an identification of the sender and the sender's location. Optionally, the displayed poke may include a timestamp associated with the poke, such as the time that the poke was initiated and\/or the time that the poke was delivered to or viewed by the recipient.","The social networking system  then logs the poke  in the poke history . The logged information may include one or more of a timestamp, a sender ID, a recipient ID, and a sender location. In a particular embodiment, the timestamp may be the time the poke request is received . In another embodiment, it may be the time the social networking system  transmits  the poke to the recipient. Responsive to receiving the poke, the recipient's user device may also obtain its location and report that location back to the social networking system , which may in turn include the recipient's location with the logged poke. The social networking system  may also communicate the recipient's location back to the sender, subject to privacy settings.","In some embodiments, the social networking system  enables users to view a poke history containing previously transmitted poke massages along with their logged information, such as location and time information. In one embodiment, the social networking system allows only those users who are a party to a previously sent poke message (i.e., a sender or recipient) to view it. In other embodiments, any object connected to either of the users on the social graph may access the poke history between them.","Continuing with , the recipient uses user device to request  a poke history from the social networking system . The request for poke history may specify certain filtering criteria, such as the other user or users involved in the poke, a period of time when the poke was sent, and\/or a particular location associated with the poke. The social networking system  then filters  the requested poke history based on the provided criteria and provides  the poke history to user device associated with the request for the poke history. Although  illustrates the recipient requesting the poke history, any user may request his or her poke history from the social networking system , including the sender.",{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 3","b":["100","300","185","300","185","300","100"]},"The user interface  for enabling a poke message may include a listing of a plurality of other users of the social networking system . In one embodiment, this listing is a contacts list, which may be obtained from the social networking system  or from a local memory of the user device . In the example shown in , the user interface  displays users , , and . In this listing, user  is represented by a profile photo and brief description , user  is represented by a profile photo and brief description , user  is represented by a profile photo and brief description , and so on. In other embodiments, different types of information may be provided for each user. In one embodiment, the poke message is initiated from a page of information about just the recipient, i.e., without a listing of multiple users.","As described above, the listing may be filtered and\/or sorted for various purposes. Providing a sorting of connections that the user is most likely to poke in a given context allows the user to poke minimize the number of gestures used for sending poke message to multiple connections. For example, the user may wish to poke multiple friends with minimal scrolling or minimal number of keystrokes, or by merely tapping of thumbnails on a screen. Filtering the listing beneficially removes irrelevant or unwanted information from the user interface .","The user interface may accept a single action input to initiate a poke message to a particular user. For example, the user interface  may receive a request to poke another user without requiring the sender to perform actions such as inputting data into a message body or selecting information from a drop down list or complex menu system. Rather, to poke another user via the interface , the user may provide a simple gesture. If the user device  has a touch screen display, for example, to poke user  the send may perform a gesture that comprises simply poking on the thumbnail picture associated with user . Various other gestures may be used for this purpose, such as pressing and holding over the image for a sufficient amount of time (e.g., 1 or 2 seconds).","In certain embodiments of the invention, the user interface  may request a confirmation from the sender before initiating the poke message, to prevent unintended poke messages. On a laptop or a desktop computer, or other device that is not equipped with a touch screen, the gesture for initiating a poke may include clicking on the thumbnail image or moving a cursor over the thumbnail image and selecting it. In other embodiments, the user interface  may include a separate selectable poke button for initiating a poke.","In one embodiment, the user interface  allows the sender to select a plurality of connections and initiate poke messages to all of the selected connections. For example, if someone has just arrived at a restaurant to meet several friends, they may wish to let these friends know that they arrived. Accordingly, embodiments of the invention may facilitate the selection of multiple users. Initiating the poke may result in a plurality of separate poke messages sent to each of the specified recipients or a single poke message sent to the group of recipients. In the latter embodiment, each of the recipients may see that the poke was sent to the other recipients.","In one embodiment, the social networking system  may expose the functionalities described herein to applications and services offered by third parties, separate from the social networking system operator. This may be achieve by a set of APIs that allow third-party applications  to initiate new poke messages, receive poke messages, and access the poke history between two or more users. A third party application  may thus provide the lightweight messaging capabilities to users of the social networking system . Within the context of a specific third-party application, a poke message and the poke history may have a more specific meaning that when poking generally.","An example of a third party application  making use of the poke feature is a time card application for employees in a firm. Each employee may have a registered user account with the social networking system  and establishes a connection with a user account associated with the employer. When an employee arrives at work and before leaving each day, the employee sends a poke message to the employer. Since the poke message includes location and time information, the employer can verify that the employee was onsite at the specified times. A third party developer may provide an application that accesses the employer's poke history and prepares a timecard report for the employees of the business. Hence, these poke messages can be used in place of a card-in and card-out actions of a standard timecard system, thereby replacing existing timecard systems with a simple software solution.","Embodiments of the invention have been described in terms of senders and recipients, each of which are users of the social networking system. In various embodiments, these users need not represent humans. For example, social networking systems may enable accounts for non-human entities, such as businesses and other organizations, where users of the social networking system may be able to connect to and communicate with these accounts. Embodiments of the invention may enable poke messaging from and to these accounts. Accordingly, the terms sender, recipient, and user are not intended to limit the embodiments to only those user accounts that represent humans, but rather may cover any types of accounts for which messaging may be appropriate.","The foregoing description of the embodiments of the invention has been presented for the purpose of illustration; it is not intended to be exhaustive or to limit the invention to the precise forms disclosed. Persons skilled in the relevant art can appreciate that many modifications and variations are possible in light of the above disclosure.","Some portions of this description describe the embodiments of the invention in terms of algorithms and symbolic representations of operations on information. These algorithmic descriptions and representations are commonly used by those skilled in the data processing arts to convey the substance of their work effectively to others skilled in the art. These operations, while described functionally, computationally, or logically, are understood to be implemented by computer programs or equivalent electrical circuits, microcode, or the like. Furthermore, it has also proven convenient at times, to refer to these arrangements of operations as modules, without loss of generality. The described operations and their associated modules may be embodied in software, firmware, hardware, or any combinations thereof.","Any of the steps, operations, or processes described herein may be performed or implemented with one or more hardware or software modules, alone or in combination with other devices. In one embodiment, a software module is implemented with a computer program product comprising a computer-readable medium containing computer program code, which may be executed by a computer processor for performing any or all of the steps, operations, or processes described.","Embodiments of the invention may also relate to an apparatus for performing the operations herein. This apparatus may be specially constructed for the required purposes, and\/or it may comprise a general-purpose computing device selectively activated or reconfigured by a computer program stored in the computer. Such a computer program may be stored in a non-transitory, tangible computer readable storage medium, or any type of media suitable for storing electronic instructions, which may be coupled to a computer system bus. Furthermore, any computing systems referred to in the specification may include a single processor or may be architectures employing multiple processor designs for increased computing capability.","Embodiments of the invention may also relate to a product that is produced by a computing process described herein. Such a product may comprise information resulting from a computing process, where the information is stored on a non-transitory, tangible computer readable storage medium and may include any embodiment of a computer program product or other data combination described herein.","Finally, the language used in the specification has been principally selected for readability and instructional purposes, and it may not have been selected to delineate or circumscribe the inventive subject matter. It is therefore intended that the scope of the invention be limited not by this detailed description, but rather by any claims that issue on an application based hereon. Accordingly, the disclosure of the embodiments of the invention is intended to be illustrative, but not limiting, of the scope of the invention, which is set forth in the following claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 3"}]},"DETDESC":[{},{}]}
