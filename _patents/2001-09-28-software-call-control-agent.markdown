---
title: Software call control agent
abstract: The present disclosure describes a method comprising establishing a connection between a software communication channel and a media server, wherein the software communication channel is presented to the server as a media stream; transmitting to the media server a call object including a media handle; attaching a media application to the media handle; and establishing a connection between the media application and the software communication channel. The disclosure further describes an apparatus comprising a computing platform including a private branch exchange (PBX); a media server installed on the computing platform; and software operative with the computing platform and the media server to establish a connection between a software communication channel and a media server, wherein the software communication channel is presented to the server as a media stream, transmit to the media server a call object including a media handle, attach a media application to the media handle; and establish a connection between the media application and the software communication channel.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06853720&OS=06853720&RS=06853720
owner: Intel Corporation
number: 06853720
owner_city: Santa Clara
owner_country: US
publication_date: 20010928
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["TECHNICAL FIELD","BACKGROUND","DETAILED DESCRIPTION OF THE ILLUSTRATED EMBODIMENTS"],"p":["This disclosure relates generally to telecommunication media applications, and in particular, but not exclusively, relates to software control of media applications integrated with a private branch exchange (PBX), or with a PSTN exchange. Note that eventually we could put this technology into the PSTN as the PSTN is simply a much larger version of a PBX.","Private branch exchanges (PBXs) are private telephone switching systems commonly found on a user's premises with an attendant console. PBXs are usually connected to a common group of lines from a public switching telephone network (PSTN) to provide service to a number of individual phones, such as in a business office. Users of the PBX share a certain number of outside lines for making telephone calls external to the PBX; such an arrangement is used because it is much less expensive than providing a direct external telephone line to every telephone in the organization.","In addition to PBXs, over the last decade there has been a marked increase in the use of media applications related to voice information. Voice mail is the best known example of a media application, but there are others as well, such as Automated Attendants, Interactive Voice Response systems that provide information or services to callers (e.g., Phone Banking), Automatic Call Distributor (ACD) systems etc. In the business setting, businesses have coupled media applications with their PBX systems. The traditional way of adding media capability to a PBX has been to attach a separate physical device (e.g., a hardware device) to the PBX for each desired media application. Thus, to add voicemail to a PBX, the PBX's owner had to attach a separate voicemail device to the PBX. This was a serious inconvenience for the owners of the PBX, since it was difficult and expensive to add media applications to their PBX. These separate devices also used up physical extensions or ports from the PBX as they had to be connected to the PBX. Aside from the costs, there are other inconveniences as well. Each media application required different software to be able to connect to PBX's made by different manufacturers. This resulted in integration problems and incompatibilities between the two systems. Additionally, because each media application was a different piece of hardware, the media applications either could not communicate with each other at all or, if they could communicate, needed to do so using the PBX as an intermediary, and thus tying up valuable lines for their own communication.","Embodiments of a system and method for software call control are described herein. In the following description, numerous specific details are described to provide a thorough understanding of embodiments of the invention. One skilled in the relevant art will recognize, however, that the invention can be practiced without one or more of the specific details, or with other methods, components, materials, etc. In other instances, well-known structures, materials, or operations are not shown or described in detail to avoid obscuring aspects of the invention.","Reference throughout this specification to \u201cone embodiment\u201d or \u201can embodiment\u201d means that a particular feature, structure, or characteristic described in connection with the embodiment is included in at least one embodiment of the present invention. Thus, the appearances of the phrases \u201cin one embodiment\u201d or \u201cin an embodiment\u201d in this specification do not necessarily all refer to the same embodiment. Furthermore, the particular features, structures, or characteristics may be combined in any suitable manner in one or more embodiments.",{"@attributes":{"id":"P-00014","num":"00014"},"figref":"FIG. 1","b":["100","100","102","103","104","102","106","108","106","108","102","106","108","110"]},"The CCA  embodies software that functions as an intermediary and a communication channel between the PBX and the media server integrated on the platform . Thus, whereas previously the PBX and the media server would have had to communicate over physical lines (e.g., wires), the CCA  provides a \u201cvirtual line\u201d in the form of a software communication channel, over which the two components can communicate. To accomplish the integration of the PBX and the media server on the computing platform , the CCA  is integrated with both components. As a result, the PBX  views the CCA  as a line, while the media server  views the CCA  as a media stream. In other words, to the PBX the CCA is nothing but another device to which it can connect calls, while to the media server  the CCA  is viewed just as any other source from which it receives media requests and information. The PBX thus, in communicating with the CCA, does not realize that it is communicating with software or with a virtual device instead of with some physical device, such as a hardware media server or a telephone station (e.g., a telephone). Getting the PBX to view the CCA as a line is accomplished by \u201cregistering\u201d the CCA with the PBX as if it were any other line, or a line going to a physical device. For example, if the PBX previously reached a voice mail system by dialing a code, say 8000, then the CCA is registered with the PBX by a similar code, and the PBX can reach the CCA simply by dialing that code. Similarly, the CCA  is registered with a media server , such that the media server  views the CCA as it does any other source of media commands or information with which it can communicate.","Using a CCA allows any media server and any PBX to be connected easily together or integrated easily together, no matter what the manufacture of the PBX or the media server. Applications running on the media server can be treated, from the point of view of the PBX, simply as other devices to which the PBX can establish connections; to the PBX, then, the CCA is a transparent means of establishing a connection between the PBX and a media application.","In operation, the PBX receives an incoming telephone call, which may originate either from one of the terminals  that form part of the PBX group, or from the PSTN , which connects to terminals outside the PBX group. If the incoming call requests use of a media application found on the media server , the PBX  initially establishes a connection with the CCA\u2014which was previously registered as a regular line device with the PBX\u2014using its normal call control protocol. As previously described, to the PBX  the CCA looks like any other line through which it communicates with devices. This virtual communication channel thus established with the CCA uses standard call control messages published by the PBX vendor to communicate with the PBX software. Hence the PBX software is not even aware that the device with which it is communicating is a virtual one.","After opening a communication channel between the PBX  and the CCA , at  the PBX forwards a request to the CCA in the form of a call object. The CCA will associate a media handle to this call object. The media handle is a code that includes access control information for a particular media application (e.g., an audio player, an audio recorder, streaming video player, and the like), as well as a pointer to the call object to which it is attached. At , the CCA forwards the call object with its associated media handle to the media server . Upon receiving the call object, the media server  examines the media handle, determines which media application is being requested, accesses that application, and attaches that application to the media handle.","Once the media server  has attached the proper application to the media handle contained in the call object, then at  the media server has the information it needs to establish a communication channel with the CCA, which in turn at  establishes a communication channel to the PBX. The PBX then completes the connection between the media application and the terminal or other device originating the call, whether that device is part of the PBX group or is connected to the PSTN. Through the switching apparatus found in the PBX, the media server, with the help of the CCA, establishes a connection directly between the media server and the end point of the call coming through the PBX. The CCA  uses standard media server commands published by the media server vendor to communicate with the media server . Hence, the media server is not even aware that the device it is communicating with is a virtual one. Although discussed above in the context of a single connection, the CCA  is, of course, capable of simultaneously opening and maintaining many software communication channels, or \u201cvirtual lines,\u201d between the PBX and the media server.","Standard programming interfaces are used to manage communications between the PBX  and the CCA , or between the CCA and the media server . For example, telephony application programming interface (TAPI), developed jointly by Intel and Microsoft, is used for connecting telephone services to personal computers running the Microsoft Windows operating system. The TAPI standard supports connections by individual computers as well as LAN connections serving many computers. Within each connection type, TAPI defines standards for simple call control and for manipulating call content.",{"@attributes":{"id":"P-00021","num":"00021"},"figref":"FIG. 2","b":["200","200","110","211","108","213","200","202","204","110","211","202","209","210","208","204"]},{"@attributes":{"id":"P-00022","num":"00022"},"figref":"FIG. 3","b":["300","110","302","104","103","108","308","310","312","314"]},"Having passed the call object to the CCA, the CCA at  establishes a connection to the media server. The CCA also associates a media handle with the call object. As discussed above, the media server  simply views the CCA as a media stream, and does not know that it is communicating with a software communication channel or virtual media stream. Once the connection between the CCA and the media server is established, the CCA passes the call object including the media handle to the media server at . At , the media server then correlates the media handle to the media resource or application requested by the caller. Finally, at , the media server attaches the proper media resource to the call object, and through the switching apparatus found on the media server and the PBX, establishes a connection directly between the caller the media application being requested. The terminal that originated the call is then free to use and interact with the appropriate media application.",{"@attributes":{"id":"P-00024","num":"00024"},"figref":["FIGS. 4-6","FIG. 4","FIG. 5","FIG. 6"],"b":["106","108","110","400","108","402","110","108","404","400","200","500","106","110","502","108","504","400","500","200","502","504","600","106","602","110","604","108","606","602","604","606"]},"The above description of illustrated embodiments of the invention, including what is described in the Abstract, is not intended to be exhaustive or to limit the invention to the precise forms disclosed. While specific embodiments of, and examples for, the invention are described herein for illustrative purposes, various equivalent modifications are possible within the scope of the invention, as those skilled in the relevant art will recognize.","These modifications can be made to the invention in light of the above detailed description. The terms used in the following claims should not be construed to limit the invention to the specific embodiments disclosed in the specification and the claims. Rather, the scope of the invention is to be determined entirely by the following claims, which are to be construed in accordance with established doctrines of claim interpretation."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Non-limiting and non-exhaustive embodiments of the present invention are described with reference to the following figures, wherein like reference numerals refer to like parts throughout the various views unless otherwise specified.",{"@attributes":{"id":"P-00006","num":"00006"},"figref":"FIG. 1"},{"@attributes":{"id":"P-00007","num":"00007"},"figref":"FIG. 2"},{"@attributes":{"id":"P-00008","num":"00008"},"figref":"FIG. 3"},{"@attributes":{"id":"P-00009","num":"00009"},"figref":"FIG. 4"},{"@attributes":{"id":"P-00010","num":"00010"},"figref":"FIG. 5"},{"@attributes":{"id":"P-00011","num":"00011"},"figref":"FIG. 6"}]},"DETDESC":[{},{}]}
