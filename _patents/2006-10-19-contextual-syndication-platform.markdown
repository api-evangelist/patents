---
title: Contextual syndication platform
abstract: Techniques are disclosed for automatically annotating a document to offer, to a viewer, a choice of operations that a user can take relative to identified entities to which the document refers, where the choice of operations offered in relation to each such entity is appropriate to and based on the types of that entity. In one embodiment of the invention, for each “interesting” entity within a document, a mechanism automatically determines one or more types for that entity. The mechanism automatically annotates the document so that an application will present entity-type-specific data (including operation choices) that is generated by modules that are mapped to the types of the entities within the document. The annotations comprise metadata that indicates types of each “interesting” entity. The entity-type-specific data may be presented along with the rest of the document. A user need not navigate to a different document prior to viewing the data.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07962465&OS=07962465&RS=07962465
owner: Yahoo! Inc.
number: 07962465
owner_city: Sunnyvale
owner_country: US
publication_date: 20061019
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","FIELD OF THE INVENTION","BACKGROUND","DETAILED DESCRIPTION","Overview","Annotating Documents","Entity Type-Specific Operation Options and Features","Web Service and Javascript Implementation","Entity Types","Dictionaries","Modules","Entity Type-Influenced Metadata Content","Presentation Alternatives","Example System","Example Flow","Entities Within Search Query Terms","Hardware Overview"],"p":["The present application is related to the following U.S. patent applications, each of which is incorporated by reference herein:","U.S. patent application Ser. No. 10\/903,283, filed Jul. 29, 2004, titled \u201cSEARCH SYSTEMS AND METHODS USING IN-LINE CONTEXTUAL QUERIES;\u201d","U.S. patent application Ser. No. 11\/033,417, filed Jan. 10, 2005, titled \u201cUSER INTERFACES FOR SEARCH SYSTEMS USING IN-LINE CONTEXTUAL QUERIES;\u201d","U.S. patent application Ser. No. 11\/033,100, filed Jan. 10, 2005, titled \u201cSEARCH SYSTEMS AND METHODS USING ENHANCED CONTEXTUAL QUERIES;\u201d","U.S. patent application Ser. No. 11\/033,101, filed Jan. 10, 2005, titled \u201cUSER INTERFACE TOOL FOR TEXT SELECTION;\u201d","U.S. patent application Ser. No. 11\/129,096, filed May 12, 2005, titled \u201cSYSTEM AND METHOD FOR CONTEXTUAL TRANSACTION PROPOSALS;\u201d","U.S. patent application Ser. No. 11\/183,114, filed Jul. 14, 2005, titled \u201cUser ENTERTAINMENT AND ENGAGEMENT ENHANCEMENTS TO SEARCH SYSTEM;\u201d","U.S. patent application Ser. No. 11\/231,632, filed Sep. 20, 2005, titled \u201cSYSTEMS AND METHODS FOR PRESENTING INFORMATION BASED ON PUBLISHER-SELECTED LABELS;\u201d","U.S. patent application Ser. No. 11\/232,270, filed Sep. 20, 2005, titled \u201cSYSTEMS AND METHODS FOR PRESENTING ADVERTISING CONTENT BASED ON PUBLISHER-SELECTED LABELS;\u201d","U.S. patent application Ser. No. 11\/239,708, filed Sep. 29, 2005, titled \u201cTAGGING OFFLINE CONTENT WITH CONTEXT-SENSITIVE SEARCH-ENABLING KEYWORDS;\u201d","U.S. patent application Ser. No. 11\/239,729, filed Sep. 29, 2005, titled \u201cAUTOMATICALLY DETERMINING TOPICAL REGIONS IN A DOCUMENT;\u201d","U.S. patent application Ser. No. 11\/248,738, filed Oct. 11, 2005, titled \u201cENABLING CONTEXTUALLY PLACED ADS IN PRINT MEDIA;\u201d and","U.S. patent application Ser. No. 11\/270,917, filed Nov. 10, 2005, titled \u201cWORD SENSE DISAMBIGUATION.\u201d","The present invention relates to document annotation and enhancement and, more specifically, to a technique for automatically annotating and enhancing a document to offer, to a viewer of the document, a choice of operations that a user can take relative to identified entities to which the document refers, where the choice of operations offered in relation to each such entity is appropriate to and based on the types of that entity.","U.S. patent application Ser. No. 10\/903,283, filed on Jul. 29, 2004, discloses techniques for performing context-sensitive searches. According to one such technique, a \u201csource\u201d web page may be enhanced with user interface elements that, when activated, cause a search engine to provide search results that are directed to a particular topic to which at least a portion of the \u201csource\u201d web page pertains. For example, such user interface elements may be \u201cY!Q\u201d elements, which now appear in many web pages all over the Internet. For additional information on \u201cY!Q\u201d elements, the reader is encouraged to submit \u201cY!Q\u201d as a query term to a search engine.","Because they may be strategically positioned in a web page in close proximity to the content about which the user would want to search for information, the user interface elements described above provide a convenient mechanism for context-sensitive searching. A user can presume that, if he initiates a search using a user interface element that is positioned in close proximity to a particular paragraph of text, then the search results obtained for the search will be constrained based on the topics to which the paragraph pertains.","Beneficially, these user interface elements allow a user to search for resources that are related to a topic of interest within a web page that the user is currently viewing, at the time in which the user's interest in that topic is piqued. The user can locate related resources without redirecting his browser to a search engine portal page and, sometimes, without even formulating or typing any search query terms. Thus, these user interface elements enable the delivery of relevant information to a user at the point of the user's inspiration or curiosity.","If the user has the right kind of toolbar plug-in installed on his computer and associated with his Internet browser application (e.g., Mozilla Firefox), then the user may right-click on a word displayed within a web page in order to view a pop-up interface that provides the user with several options. For example, if the user right-clicks on a link in the page, then the user's Internet browser application may present, to the user, a pop-up interface that gives the user options for e-mailing the link to a user-specified e-mail address, sending the link to a user-specified Instant Messenger identity, adding the link to a set of bookmarks for future reference, or performing a search for relevant documents using terms within the link text as query terms. These options relate to activities that are applicable to all links, regardless of what those links represent.","To date, when such a pop-up interface is displayed, the options presented in the pop-up interface are the same regardless of the content of the text on which the user right-clicked. The activities that the user can take relative to a link on which the user right-clicked are the same regardless of the text of that link or the kind of thing that such text represents. As a result, the activities that the user can take are typically limited to more general activities that are applicable to entities of all kinds. Unfortunately, when the activities that can be performed relative to a link are only those that are of a generally applicable nature (i.e., applicable to all links regardless of what those links represent), many specific activities that the user might want to take relative to the link cannot be offered as options in the pop-up interface, because such specific activities might not be applicable to all links.","The approaches described in this section are approaches that could be pursued, but not necessarily approaches that have been previously conceived or pursued. Therefore, unless otherwise indicated, it should not be assumed that any of the approaches described in this section qualify as prior art merely by virtue of their inclusion in this section.","In the following description, for the purposes of explanation, numerous specific details are set forth in order to provide a thorough understanding of the present invention. It will be apparent, however, that the present invention may be practiced without these specific details. In other instances, well-known structures and devices are shown in block diagram form in order to avoid unnecessarily obscuring the present invention.","Documents (e.g., web pages) refer to entities (e.g., recognized people, places, things, etc.). Along with the rest of a document, operations, services, activities, and features that pertain to entities to which that document refers may be presented (e.g., in pop-up interfaces) to a user who is currently viewing that document. Embodiments of the invention enable type-specific operations, services, activities, and features to be presented in conjunction with entities that are of the appropriate type. The set of operations, services, activities, and features that are presented in conjunction with an entity that is of a particular type is customized to contain operations, services, activities, and features that are appropriate to entities of the particular type, but which might not be appropriate to entities of other types. For example, a map might be presented in conjunction with a \u201cplace\u201d type entity, but not presented in conjunction with entities that are not of a \u201cplace\u201d type. Thus, different sets of operations, services, activities, and features may be presented in conjunction with entities of different types.","Some embodiments of the invention further enable interested people and organizations to register, with a syndication mechanism or \u201cplatform,\u201d customized mappings between customized types and customized modules that may be selected by those interested people and organizations. Some or all of the selected types may be defined by the provider of the syndication mechanism, the party that registers the customized mappings, and\/or other parties that previously defined and registered their own custom type definitions. Similarly, some or all of the selected modules may be defined by the provider of the syndication mechanism, the party that registers the customized mappings, and\/or other parties that previously defined their own custom executable modules.","In one embodiment of the invention, for each entity within a document (e.g., a web page or e-mail message), the syndication mechanism automatically determines one or more types for that entity. The syndication mechanism automatically annotates the document so that an Internet browser (or other application) will present, in response to occurrences of specified events relative to entities to which the annotated document refers, entity-type-specific data that is generated by the modules that are mapped to the types of the entities relative to which the specified events occurred. The annotations in the document comprise metadata that indicates, for each entity, one or more types of that entity. The data may be presented along with the rest of the document (e.g., in a pop-up interface) so that a user does not need to navigate to a different document prior to viewing the data.","According to one embodiment of the invention, a syndication mechanism receives a document (e.g., a web page) as input. The syndication mechanism automatically identifies \u201cinteresting\u201d entities (e.g., people, places, things, etc.) to which the document refers. Entities may be automatically identified using techniques described in U.S. patent application Ser. No. 10\/903,283, for example. The syndication mechanism may rank these entities in order of importance. Using techniques described in U.S. patent application Ser. No. 11\/270,917, for example, the syndication mechanism may disambiguate (i.e., determine the correct meaning of, given the contextual use of) entities that could have any of several meanings when not considered in context. The syndication mechanism annotates the entities in the document according to techniques described below. The syndication mechanism outputs an annotated document.","A content provider might have content which he considers to be valuable. For example, a content provider that operates a web site might have content that comprises his reviews of computer products. The content provider might want links to his content to be presented in conjunction with all entities that are classified as \u201celectronics\u201d type entities, because the content provider might believe that users who are interested in electronics would probably also be interested in the content provider's reviews of computer products.","Therefore, the content provider might register with the syndication mechanism in order to cause the syndication mechanism to make the content provider's content available to users who view documents (e.g., web pages) that refer to entities that are classified as \u201celectronics\u201d type entities. More specifically, the content provider might register with the syndication mechanism in order to cause the syndication mechanism to annotate documents with entity-type-expressing metadata so that the pop-up interfaces that users' Internet browsers (and\/or other applications) display when those users right-click on (or \u201chover over,\u201d etc.) entities that are classified as \u201celectronics\u201d include links to the content provider's content.","After the content provider has registered with the syndication mechanism, the syndication mechanism might automatically detect that a particular document (e.g., a web page or e-mail message) refers to a particular entity that is a digital camera. Due to the particular entity being a digital camera, the syndication mechanism might classify this entity as being an \u201celectronics\u201d type of entity. In response to determining that the particular entity is an \u201celectronics\u201d type of entity, the syndication mechanism may annotate the particular document so that the particular document contains metadata that indicates that at least one of the particular entity's types is \u201celectronics.\u201d This presence of this annotation causes the pop-up interfaces that users' Internet browsers (and\/or other applications) display when those users right-click on (or \u201chover over,\u201d etc.) the particular entity to include links to the content provider's content.",{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 3","b":["302","304","302","304","304"]},"In addition to links to content providers' related content, pop-up interfaces may contain user-selectable options that correspond to activities or operations that can be performed relative to the entities for which those pop-up interfaces are displayed. In one embodiment of the invention, the syndication mechanism annotates a document so that the user-selectable options that such pop-up interfaces contain are customized based on the types of the entities for which those pop-up interfaces are displayed.","For example, in response to determining that a particular entity is a \u201cplace\u201d type entity, the syndication mechanism may annotate the particular entity-containing document so that the pop-up interface that is displayed for the entity contains an option which, when selected, causes an Internet browser to request and display a page that contains a map of the area surrounding the place represented by the particular entity. Alternatively, in response to making such determination, the syndication mechanism may annotate the particular entity-containing document so that the pop-up interface that is displayed for the particular entity actually contains a map of the area surrounding the place represented by the particular entity. The syndication mechanism may annotate documents so that such place-specific options and features are only included within pop-up interfaces that are displayed for \u201cplace\u201d type entities. Such place-specific options and features would not make sense if displayed in a pop-up interface for an entity that is not a place.","For another example, in response to determining that a particular entity is an \u201ce-mail address\u201d type entity, the syndication mechanism may annotate the particular entity-containing document so that the pop-up interface that is displayed for the entity contains an option which, when selected, causes an e-mail client application to launch and add, to a list of e-mail addresses, the e-mail address that the particular entity represents. The syndication mechanism may annotate documents so that such e-mail address-specific options and features are only included within pop-up interfaces that are displayed for \u201ce-mail address\u201d type entities. Such e-mail address-specific options and features would not make sense if displayed in a pop-up interface for an entity that is not an e-mail address.","For another example, in response to determining that a particular entity is a \u201cmovie\u201d type entity, the syndication mechanism may annotate the particular entity-containing document so that the pop-up interface that is displayed for the entity contains a short audiovisual clip of a preview of the movie that the particular entity represents. The syndication mechanism may annotate documents so that such movie-specific options and features are only included within pop-up interfaces that are displayed for \u201cmovie\u201d type entities. Such e-mail address-specific options and features would not make sense if displayed in a pop-up interface for an entity that is not a movie.","In one embodiment of the invention, the syndication mechanism described above is implemented as a web service that receives a web page (or other document) as input from a publisher. The web service automatically identifies entities in the web page and annotates the web page with metadata that indicates, for each of those entities, one or more identified types of those entities. In one embodiment of the invention, the providers of the web service provide a JavaScript library to the publisher. The publisher puts the JavaScript library into his web page template. The publisher \u201cflows\u201d the annotated web page into his web page template. The JavaScript library consumes the entity-type-expressing annotations in the annotated web page.","The JavaScript library is responsible for visually highlighting identified entities within the web page. The JavaScript library is also responsible for displaying, to a user, pop-up interfaces or overlays that present operations, services, activities, and\/or features that are mapped to the types of the entities in the web page. The operations, services, activities, and\/or features that are to be presented in a particular pop-up interface for a particular entity are determined based on the type(s) of the particular entity as expressed in the annotations for the particular entity.","In one embodiment of the invention, each entity may have one or more entity types. For example, an entity might be of type \u201cperson,\u201d \u201cplace,\u201d \u201cstreet address,\u201d \u201ce-mail address,\u201d \u201ctelephone number,\u201d \u201cuniform resource locator,\u201d etc. Entities that have a general type such as \u201cperson\u201d might also have more specific types such as \u201cmusician,\u201d \u201cactor,\u201d \u201ccelebrity,\u201d \u201cpolitician,\u201d etc.","In one embodiment of the invention, the set of entity types is arranged in a taxonomy or hierarchy of entity types in which some types are sub-types of other types. For example, the \u201cactor\u201d and \u201ccelebrity\u201d entity types might be sub-types of the \u201cperson\u201d entity type. For another example, the \u201ccity\u201d entity type might be a sub-type of the \u201cplace\u201d entity type. In such an embodiment of the invention, if an entity has an entity type that is a sub-type of another entity type, then that entity also has that other entity type. Thus, in one embodiment of the invention, all entities that have the \u201cactor\u201d type also have the \u201cperson\u201d type, but entities that have the \u201cperson\u201d type do not necessarily have the \u201cactor\u201d type or any other type.","In one embodiment of the invention, several different entity type hierarchies may be registered with the same syndication mechanism. It is possible that the designers of these different hierarchies might not be familiar with the other type hierarchies that are already registered with the syndication mechanism; as a result, one type hierarchy designer might give one of his types the same name that was given to a type in a type hierarchy registered by another type hierarchy designer. In order to avoid confusion and type name \u201ccollisions,\u201d in one embodiment of the invention, each separate type hierarchy is associated with a unique namespace identifier. This namespace identifier may precede and qualify the type(s) of the entities as represented in annotation metadata. For example, in the metadata added to a document through the annotation process described above, one of a particular entity's types might be represented as \u201c<shortcuts:\/person\/actor>,\u201d where \u201cshortcuts\u201d is the namespace identifier for the type hierarchy that includes the \u201cperson\u201d and \u201cactor\u201d types. Other type hierarchies that include \u201cperson\u201d and \u201cactor\u201d types may be distinguished by different namespace identifiers.","In one embodiment of the invention, one or more \u201cdictionaries\u201d are registered with the syndication mechanism. Each dictionary comprises one or more mappings between terms and types in a specified type hierarchy. For example, in one dictionary, the term \u201cTom Cruise\u201d might be mapped to \u201c<shortcuts:\/person\/actor>\u201d and \u201c<shortcuts:\/person\/celebrity>.\u201d For another example, the term \u201cHollywood, CA.\u201d might be mapped to \u201c<shortcuts:\/place\/city>.\u201d Some dictionaries may be provided as \u201cbuilt-in\u201d aspects of the syndication mechanism. Other dictionaries may be received from content providers (such as web publishers) who register their own customized dictionaries with the syndication mechanism. For example, a publisher of content on the Internet might register, with the syndication mechanism, a dictionary that maps each interesting (in the publisher's opinion) term in his published content to one or more entity types from one or more entity type hierarchies (potentially including the publisher's own customized entity type hierarchy and\/or the customized entity type hierarchies of other publishers).","A content provider (e.g., a publisher) may select, from among multiple currently registered dictionaries (the content provider's own or others), a specified set of dictionaries that the content provider would like the syndication mechanism to use to identify interesting entities in the content provider's documents. Different content providers may select different sets of dictionaries. In one embodiment of the invention, the syndication mechanism uses a \u201cdefault\u201d set of dictionaries to identify interesting terms in the content provider's document unless the content provider expressly indicates, to the syndication mechanism, that one or more of these dictionaries should not be used and\/or that one or more additional dictionaries not in the \u201cdefault\u201d set also should be used.","In one embodiment of the invention, while the syndication mechanism is annotating a content provider's document, the syndication mechanism attempts to locate a term from that document within the set of registered dictionaries that the content provider specified. For each such dictionary in which the syndication mechanism locates the term, the syndication mechanism places, within the document, metadata that identifies the entity type that is mapped to that term in that dictionary. The syndication mechanism might locate the term in multiple separate dictionaries and place, within the document, metadata that identifies different entity types that are mapped to those terms within the separate dictionaries. The syndication mechanism may perform this process for each term within the document, where each term may comprise one or more words. Thus, in one embodiment of the invention, the syndication mechanism uses the information contained in the registered dictionaries (potentially in combination with other information) in order to identify and classify the interesting entity-correspondent terms within a document.","In addition to information contained within registered dictionaries, the syndication mechanism may use other sources and techniques in order to identify interesting entities within a document. For example, the syndication mechanism may use rule-based processes to identify interesting entities automatically. For another example, the syndication mechanism may use machine-learning-based techniques to identify interesting entities automatically.","In one embodiment of the invention, each entity type is mapped to one or more modules. Modules may be implemented as executable computer programs and\/or as web pages that contain browser-executable script, for example. Additionally or alternatively, modules may be implemented as metadata that an interpreting program uses to provide functionality that is specified by the metadata.","A particular entity type may be mapped to more than one module, and a particular module may be mapped to more than one entity type. For example, two or more different entity types might each be mapped to a \u201csearch\u201d module. The \u201csearch\u201d module might have functionality that causes a pop-up interface to display, among other features, one or more Internet search results that a search engine selected using the entity's text as search query terms. As a result of such mappings, when a pop-up interface is displayed for a particular entity that has at least one type that is mapped to the \u201csearch\u201d module, that pop-up interface will contain at least the search results produced by the \u201csearch\u201d module. Pop-up interfaces that are displayed for entities that do not have any types that are mapped to the \u201csearch\u201d module will lack the search results that would have been produced by the \u201csearch\u201d module.","Different modules may offer different functionality. For example, while a \u201csearch\u201d module might cause a pop-up interface to contain search results, a \u201cmap\u201d module (which might be mapped only to certain entity types such as \u201cplace\u201d and other entity types that are representative of a location) might cause a pop-up interface to contain a map that the \u201cmap\u201d module dynamically generated. For another example, a \u201cshopping\u201d module (which might be mapped only to certain entity types such as \u201cproduct\u201d and other entity types that are representative of things that can be purchased) might cause a pop-up interface to contain links which, when selected, cause corresponding items to be added to an \u201con-line shopping cart\u201d for an Internet site that sells such items. For another example, a \u201cphoto\u201d module (which might be mapped to \u201cperson,\u201d \u201canimal,\u201d and \u201cedifice\u201d entity types, for example) might cause a pop-up interface to contain a digitized image (e.g., an image of the specific person, animal, or edifice that the corresponding entity represents).","As is discussed above, a content provider may register customized modules with the syndication mechanism. The modules may be of the content provider's own design. In one embodiment of the invention, the syndication mechanism receives, from a content provider, both a module (or several modules) and a set of specified mappings between that module (or modules) and one or more entity types. For example, a content provider might register, with the syndication mechanism, a \u201cproduct review\u201d module that causes reviews of computer products to be downloaded automatically from a specified server and included within a pop-up interface. If the content provider additionally registered a mapping between the \u201cproduct review\u201d module and an \u201celectronics\u201d entity type, then the pop-up interfaces presented for all entities that had the \u201celectronics\u201d entity type would include the reviews of the computer products downloaded form the specified server.","A content provider also may register mappings that involve \u201cbuilt-in\u201d modules provided by the syndication mechanism and\/or mappings that involve customized modules that were registered with the syndication mechanism by other content providers.","In one embodiment of the invention, mapping a module to an entity type that is a sub-type of another entity type does not, as a result, map that module to that other entity type. For example, if the \u201cactor\u201d type was a sub-type of the \u201cperson\u201d type, then mapping a particular module to the \u201cactor\u201d type would not also consequently map the particular module to the \u201cperson\u201d type. Following this example further, a pop-up interface generated for an entity that was of the \u201cactor\u201d type would include operations, services, activities, and\/or features resulting from the functionality of the particular module, but a pop-up interface generated for an entity that was of the \u201cperson\u201d but not the \u201cactor\u201d type would not necessarily include any operations, services, activities, and\/or features resulting from the functionality of the particular module.","In one embodiment of the invention, a publisher or other content provider registers his customized modules, dictionaries, and\/or customized entity type hierarchies with the syndication mechanism by uploading these modules, dictionaries and\/or entity type hierarchies to the syndication mechanism via the Internet. For example, the syndication mechanism may provide a web-based interface through which a content provider can upload such data. The operator of the syndication mechanism may charge the content provider a specified fee in exchange for the registration of the modules, dictionaries, and\/or entity type hierarchies.","As is discussed above, the metadata that is inserted into a copy of a document in the process of annotating the document indicates one or more entity types for the entity to which that metadata pertains. In one embodiment of the invention, additional information, besides the entity types of an entity, may be placed into the metadata for that entity. The kind of additional information that is placed into the metadata for the entity may be influenced by (although not necessarily exclusive to) that entity's type.","For one example, in one embodiment of the invention, if an entity's type is determined to be \u201cperson,\u201d then, along with information that indicates that the entity's type is \u201cperson,\u201d the metadata for that entity also indicates the year in which the person represented by the entity was born, if such information is known or available. For another example, in one embodiment of the invention, if an entity's type is determined to be \u201ccity,\u201d then, along with information that indicates that the entity's type is \u201ccity,\u201d the metadata for that entity also indicates (a) the latitude of the city that the entity represents, (b) the longitude of the city that the entity represents, and (c) the area of the city that the entity represents, if such information is known or available. This additional information may be used by the modules that are mapped to the \u201ccity\u201d entity type. For example, such a module might use this information to dynamically generate a map of the city and the surrounding area for display within a pop-up interface.","Additionally or alternatively, at least some of the modules that are selected to present operations, services, activities, and\/or features for a particular entity may be selected based on such entity type-influenced additional information that is present in the metadata for that particular entity. For example, if the latitude and longitude indicated within an entity's metadata indicate that the location represented by the entity is within North America, then a special \u201cNorth America\u201d module might be selected to present, within a pop-up interface for the entity, operations, services, activities, and features that are especially appropriate for locations within North America\u2014regardless of the entity's type.","For another example, if a top-level domain indicated within an entity's metadata indicates that a web site represented by the entity is a site at \u201cYahoo!\u201d, then a special \u201cYahoo!\u201d module might be selected to present, within a pop-up interface for the entity, operations, services, activities, and features that are especially appropriate for \u201cYahoo!\u201d web sites\u2014regardless of the entity's type.","In one embodiment of the invention, two or more different entity types\u2014even types that are unrelated to each other in any entity type hierarchy\u2014may have the same fields of additional information placed in the metadata for entities of each of those types. Therefore, although an entity's type may influence which fields of additional information (if any) are included in the metadata for that entity, there is not necessarily a one-to-one correspondence between an entity's type and the additional information (beyond the entity's type) that is included in the metadata for that entity.","As is discussed above, in one embodiment of the invention, the entity-type-specific operations, services, activities, and features that are displayed for a particular entity are presented within a pop-up interface that at least temporarily overlays a portion of the currently displayed document in response to a user's performance of a specified action relative to the particular entity (e.g., when the user right-clicks on the entity's text or \u201chovers\u201d the mouse pointer over the entity's text for a specified period of time). However, in an alternative embodiment of the invention, these entity-type-specific operations, services, activities, and features may be displayed within a document even without the performance of any user action relative to any entity.","For example, prior to the time that a document is displayed by an Internet browser or other application, entity-type-specific operations, services, activities, and\/or features may be placed within a header, footer, or sidebar portion of the document. For example, if one of the entities to which the document refers has at least a \u201cplace\u201d type, then the header, footer, or sidebar portion of the document may contain a dynamically generated \u201cthumbnail\u201d map that shows an area that surrounds the place that the entity represents. For another example, if one of the entities to which the document refers has at least an \u201ce-mail address\u201d type, then the header, footer, or sidebar portion of the document may contain a user-selectable option which, when selected, causes the performance of an operation that adds, to an e-mail address list of the user's e-mail application, an e-mail address that the entity represents. This header, footer, or sidebar portion may be displayed along with the document's original contents. Such a header, footer, or sidebar portion may contain entity-type-specific operations, services, activities, and\/or features for multiple separate entities that have been identified within the document.",{"@attributes":{"id":"p-0063","num":"0062"},"figref":["FIG. 1","FIG. 1"],"b":["102","104","106","104","102","102","106"]},"Syndication mechanism  comprises a set of registered entity recognizers A-N, an entity detection component , and an entity disambiguation component . In one embodiment of the invention, the set of registered entity recognizers A-N includes one or more sets of registered dictionaries (each specifying one or more term-to-entity type mappings) that were received from one or more content providers (e.g., publishers of documents such as document ).","In one embodiment of the invention, entity detection component  automatically identifies, within document , entities that are specified within the set of registered entity recognizers A-N. Each entity comprises one or more terms. For each such identified entity in document , entity disambiguation component  determines a correct context (i.e., meaning) of that entity\u2014some sets of terms might have more than one meaning. Entity disambiguation component  may determine the correct context of an entity using techniques disclosed in U.S. patent application Ser. No. 11\/270,917, for example. An entity's identity may be expressly qualified with that entity's context.","Once a correct context has been determined for each identified entity, syndication mechanism  creates an annotated copy of document  by inserting, into the copy, metadata that indicates, for each identified entity, one or more entity types of that entity. As is discussed above, the entity types of each entity may be automatically determined based on registered mappings between entities and entity types\u2014in one embodiment of the invention, these mappings are specified within entity recognizers A-N.","The metadata inserted into the copy of document  may take the form of one or more tags, each of which identifies an entity within document  and one or more entity types of that entity. Syndication mechanism  outputs the copy, including the tags, as annotated document . As is described above, the metadata within annotated document  may be used by other mechanisms to generate pop-up interfaces that present operations, services, activities, and\/or features that are appropriate for the entity types specified within the metadata. The operations, services, activities, and\/or features presented may be selected based on a specified set of entity type-to-module mappings, as is discussed above.",{"@attributes":{"id":"p-0068","num":"0067"},"figref":"FIG. 2","b":["202","204","206","208"]},"In block , the syndication mechanism receives a document (e.g., from the publisher). In block , the syndication mechanism annotates the document based at least in part on the dictionary and the set of entity-to-entity type mappings, thereby producing an annotated document that specifies, for each \u201cinteresting\u201d entity in the document, one or more entity types of that entity. In block , the syndication mechanism provides the annotated document to the publisher.","In block , the syndication mechanism generates a JavaScript library based at least in part on the set of modules and the set of entity type-to-module mappings. In block , the syndication mechanism provides the JavaScript library to the publisher. In block , the publisher places the JavaScript library into a web page template. In block , the publisher \u201cflows\u201d the annotated document into the web page template, which, based at least in part on the modules and the entity type-to-module mappings, produces a document that contains JavaScript which, when interpreted by an Internet browser application, will cause the Internet browser application to present entity-type-appropriate selections of options, services, and\/or features for each \u201cinteresting\u201d entity in the document in response to occurrences of specified events relative to those entities.","As is discussed above, in one embodiment of the invention, a user's actions relative to an entity identified within a document (e.g., right-clicking on the entity's text or \u201chovering\u201d a mouse pointer over the entity's text) cause an application such as an Internet browser to display a pop-up interface that presents features and\/or selectable options that are appropriate for the specific type(s) of that entity. In one embodiment of the invention, the pop-up interface includes, for entities of at least some specified types, a search interface that includes a field into which a user can input one or more search query terms.","In one embodiment of the invention, in response to such search query terms being received as input into such a search interface, one or more entities represented by those query terms are automatically identified using techniques similar to those described above for identifying interesting entities within a document. After the interesting entities within the query terms have been identified, one or more entity types of each of those entities are automatically identified using the techniques described above for determining entities' types. Then, based on mappings between modules and the entities' types, the display of the pop-up interface is responsively enhanced to include additional features and\/or options that are appropriate for the types of the entities identified within the query terms.","In a pop-up interface, each module that is mapped to at least one of the identified entities' types may correspond to a separate \u201ctab\u201d shown in a \u201ctab bar\u201d that may be presented across the top of the pop-up interface. For example, a \u201ctab bar\u201d might include side-by-side tabs for a \u201csearch\u201d module, a \u201cmap\u201d module, and a \u201cmovie module.\u201d Clicking on the tab for the \u201csearch\u201d module might cause one or more search results (produced based on the query terms) to be displayed in the pop-up interface. Clicking on the tab for the \u201cmap\u201d module might cause a map of an area surrounding a location represented by an entity in the query terms to be displayed in the pop-up interface. Clicking on the tab for the \u201cmovie\u201d module might cause an audiovisual clip of a preview of a movie represented by an entity in the query terms to be displayed in the pop-up interface.","Thus, using a multi-tabbed pop-up interface, a user might navigate back-and-forth between different categories of entity type-specific features and options. While the user is doing this, the original document, or at least a portion thereof, may remain visible to the user.",{"@attributes":{"id":"p-0075","num":"0074"},"figref":"FIG. 4","b":["400","400","402","404","402","400","406","402","404","406","404","400","408","402","404","410","402"]},"Computer system  may be coupled via bus  to a display , such as a cathode ray tube (CRT), for displaying information to a computer user. An input device , including alphanumeric and other keys, is coupled to bus  for communicating information and command selections to processor . Another type of user input device is cursor control , such as a mouse, a trackball, or cursor direction keys for communicating direction information and command selections to processor  and for controlling cursor movement on display . This input device typically has two degrees of freedom in two axes, a first axis (e.g., x) and a second axis (e.g., y), that allows the device to specify positions in a plane.","The invention is related to the use of computer system  for implementing the techniques described herein. According to one embodiment of the invention, those techniques are performed by computer system  in response to processor  executing one or more sequences of one or more instructions contained in main memory . Such instructions may be read into main memory  from another machine-readable medium, such as storage device . Execution of the sequences of instructions contained in main memory  causes processor  to perform the process steps described herein. In alternative embodiments, hard-wired circuitry may be used in place of or in combination with software instructions to implement the invention. Thus, embodiments of the invention are not limited to any specific combination of hardware circuitry and software.","The term \u201cmachine-readable medium\u201d as used herein refers to any medium that participates in providing data that causes a machine to operate in a specific fashion. In an embodiment implemented using computer system , various machine-readable media are involved, for example, in providing instructions to processor  for execution. Such a medium may take many forms, including but not limited to, non-volatile media, volatile media, and transmission media. Non-volatile media includes, for example, optical or magnetic disks, such as storage device . Volatile media includes dynamic memory, such as main memory . Transmission media includes coaxial cables, copper wire and fiber optics, including the wires that comprise bus . Transmission media can also take the form of acoustic or light waves, such as those generated during radio-wave and infra-red data communications.","Common forms of machine-readable media include, for example, a floppy disk, a flexible disk, hard disk, magnetic tape, or any other magnetic medium, a CD-ROM, any other optical medium, punchcards, papertape, any other physical medium with patterns of holes, a RAM, a PROM, and EPROM, a FLASH-EPROM, any other memory chip or cartridge, a carrier wave as described hereinafter, or any other medium from which a computer can read.","Various forms of machine-readable media may be involved in carrying one or more sequences of one or more instructions to processor  for execution. For example, the instructions may initially be carried on a magnetic disk of a remote computer. The remote computer can load the instructions into its dynamic memory and send the instructions over a telephone line using a modem. A modem local to computer system  can receive the data on the telephone line and use an infra-red transmitter to convert the data to an infra-red signal. An infra-red detector can receive the data carried in the infra-red signal and appropriate circuitry can place the data on bus . Bus  carries the data to main memory , from which processor  retrieves and executes the instructions. The instructions received by main memory  may optionally be stored on storage device  either before or after execution by processor .","Computer system  also includes a communication interface  coupled to bus . Communication interface  provides a two-way data communication coupling to a network link  that is connected to a local network . For example, communication interface  may be an integrated services digital network (ISDN) card or a modem to provide a data communication connection to a corresponding type of telephone line. As another example, communication interface  may be a local area network (LAN) card to provide a data communication connection to a compatible LAN. Wireless links may also be implemented. In any such implementation, communication interface  sends and receives electrical, electromagnetic or optical signals that carry digital data streams representing various types of information.","Network link  typically provides data communication through one or more networks to other data devices. For example, network link  may provide a connection through local network  to a host computer  or to data equipment operated by an Internet Service Provider (ISP) . ISP  in turn provides data communication services through the world wide packet data communication network now commonly referred to as the \u201cInternet\u201d . Local network  and Internet  both use electrical, electromagnetic or optical signals that carry digital data streams. The signals through the various networks and the signals on network link  and through communication interface , which carry the digital data to and from computer system , are exemplary forms of carrier waves transporting the information.","Computer system  can send messages and receive data, including program code, through the network(s), network link  and communication interface . In the Internet example, a server  might transmit a requested code for an application program through Internet , ISP , local network  and communication interface .","The received code may be executed by processor  as it is received, and\/or stored in storage device , or other non-volatile storage for later execution. In this manner, computer system  may obtain application code in the form of a carrier wave.","In the foregoing specification, embodiments of the invention have been described with reference to numerous specific details that may vary from implementation to implementation. Thus, the sole and exclusive indicator of what is the invention, and is intended by the applicants to be the invention, is the set of claims that issue from this application, in the specific form in which such claims issue, including any subsequent correction. Any definitions expressly set forth herein for terms contained in such claims shall govern the meaning of such terms as used in the claims. Hence, no limitation, element, property, feature, advantage or attribute that is not expressly recited in a claim should limit the scope of such claim in any way. The specification and drawings are, accordingly, to be regarded in an illustrative rather than a restrictive sense."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The present invention is illustrated by way of example, and not by way of limitation, in the figures of the accompanying drawings and in which like reference numerals refer to similar elements and in which:",{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 4"}]},"DETDESC":[{},{}]}
