---
title: Network switch and related method using integrated service logic objects to handle service requests
abstract: A telecommunication switch for operating in a CS-2 intelligent network architecture. The telecommunication switch comprises: 1) integrated service logic (ISL) objects that perform requested services; and 2) a service control function access manager object that receives a first service request and determines if one of the ISL objects can perform a first requested service associated with the first service request. The service control function access manager object, in response to a determination that none of the ISL objects is capable of performing the first requested service, transmits the first service request to a service control function object external to the telecommunication switch. The service control function access manager object, in response to a determination that a first one of the ISL objects is capable of performing the first requested service, causes the first ISL object to perform the first requested service.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07769158&OS=07769158&RS=07769158
owner: Samsung Electronics Co., Ltd.
number: 07769158
owner_city: Suwon-si
owner_country: KR
publication_date: 20040817
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","TECHNICAL FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION"],"p":["The present invention is related to that disclosed in U.S. Provisional Patent Application Ser. No. 60\/548,007, entitled \u201cUse of Integrated Service Logic Objects and Interface Handler for In-Switch CS-2 Service Handling in the WCDMA Core Network,\u201d filed on Feb. 26, 2004. U.S. Provisional Patent Application Ser. No. 60\/548,007 is assigned to the assignee of the present application. The subject matter disclosed in U.S. Provisional Patent Application Ser. No. 60\/548,007 is hereby incorporated by reference into the present disclosure as if fully set forth herein. The present invention hereby claims priority under 35 U.S.C. \u00a7119(e) to U.S. Provisional Patent Application Ser. No. 60\/548,007.","The present invention is directed generally to telecommunication switches and, more specifically, to a switch that uses integrated service logic objects to handle service requests received from external subsystems in a telecommunication network.","In the traditional public switched telephone network (PSTN), the addition of a new service frequently required the upgrading of switching equipment and software. This was frequently an expensive and complex process. As new telecommunication services were developed and became widely available, the need to reduce the overhead for using services increased, along with the need to simplify maintenance and service upgrades. These needs led to the development of the Intelligent Network (IN) concept.","The IN concept provided a centralized system that separated services from switching equipment. Thus, a provider may introduce a new service without performing a major modification on multiple switches. In an IN architecture, separate service data is stored in a centralized database outside of switching nodes. An IN architecture also separates service programs (or service logic) and defines protocols that permit the interaction between switching systems and intelligent nodes.",{"@attributes":{"id":"p-0006","num":"0005"},"figref":["FIG. 2","FIG. 2"],"b":["200","200"]},"For ease of explanation, switch  comprises originating side and terminating side . Originating side represents the side of switch  that faces the component originating a call and terminating side represents the other side of switch . In general, originating side receives and processes a signaling message. Once processing is complete, a function in terminating side is selected and call processing is performed to terminate the call, such as to a trunk line. Depending on which component originates a call, originating side and terminating side of switch  may be reversed.","According to the embodiment in , switch  comprises two call control functions (CCFs) -. Call control functions -are responsible for establishing, maintaining, modifying, and releasing telephone calls routed through switch . For example, call control function may receive a signaling message indicating that a telephone call is being placed, and call control function facilitates the establishment of a circuit with another component in the system. Call control functions -also monitor the overall state of telephone calls routed through switch . In addition, call control functions -detect particular triggers associated with a telephone call, such as a trigger representing the invocation of a particular feature (e.g., Hold) or a busy signal.","In addition, switch  comprises service switching functions (SSFs) -. Service switching functions -allow switch  to interact and communicate with one or more service control functions, such as service control function (SCF) , located in service control points (SCPs). For example, when call control functions -detect triggers associated with telephone calls, call control functions -pass the triggers to service switching functions -. Service switching functions -then allow switch  to pass the triggers to one of the service control points and access the service control function of that service control point. Service control function  executes logic for various intelligent network services and may influence the call processing performed by switch .","Service control function  may interact with service data function (SDF)  and specialized resource function (SRF) . Service data function  provides data to service control function , such as data related to customers. For one embodiment, service data function  comprises the functionality of a service data point (SDP). Specialized resource function  provides additional functionality, such as speech analysis or conference calling functions. In an exemplary embodiment, specialized resource function  may comprise the functionality of an intelligent peripheral.","Call control functions and may be accessed using generic application programming interfaces (APIs). Call control functions and receive service requests from, and transmit service responses to, external devices, such as mobile stations (via the base stations of a wireless network). In general, call control functions and transmit and receive signaling control primitives, which may vary from one signaling protocol to another.","The current state of IN development is Capability Set 2 (CS-2). CS-2 enables interworking between IN architectures to provide international services, allows management of both IN services and IN equipment, and supports enhanced IN services, such as mobility services. As in a CS-1 switch, all service requests received in a CS-2 based IN switch are sent to an external application for processing. There are numerous disadvantages to this approach. First, all messages must be encoded and decoded using the Intelligent Network Application Protocol (INAP). Also, all service requests must be transferred as external messages between the switching device and the local SCF. Furthermore, only CS-2 specified subscriber data may be sent to the local SCF. All other subscriber data must be specially formatted or encoded. This makes it difficult to add proprietary information in order to customize services.","Therefore, there is a need in the art for an improved Intelligent Network (IN) switch. In particular, there is a need for a CS-2-based IN switch that performs at least some services in the core network and does not required the use of an external application, such as a service control function (SCF). More particularly, there is a need for a CS-2-based IN switch that transfers messages related to a service request without INAP encoding and decoding.","The present invention provides an improved telecommunication switch that uses integrated service logic (ISL) objects to perform requested services within the switch. A core network subsystem sends an in-switch integrated service logic (ISL) handler a CS-2 service request. The ISL handler maps the requested service key to an instance of the corresponding ISL object. The invoked ISL object processes the request and communicates back to the core network. If the invoked ISL object is designed to interact with other services (i.e., other ISL objects) for the same subscriber, the invoked ISL object registers with an interface handler (IH) in the switch so that other invoked ISL objects can later communicate with the invoked ISL object. The IH uniquely manages each subscriber during on-going calls. When service processing is complete, the ILS object de-registers from the IH (if needed) and ends the service dialogue for that subscriber. If service processing requires monitoring throughout the call, the ILS object may perform further processing at various stages during the call. The ILS object also may interact with other ISL objects for service interactions for the same subscriber.","To address the above-discussed deficiencies of the prior art, it is a primary object of the present invention to provide a telecommunication switch capable of operating in an ITU-T Capability Set 2 (CS-2) intelligent network architecture. According to an advantageous embodiment of the present invention, the telecommunication switch comprises: 1) a plurality of integrated service logic (ISL) objects, each of the ISL objects capable of performing a requested service; and 2) a service control function access manager object capable of receiving a first service request and determining if one of the plurality of ISL objects is capable of performing a first requested service associated with the first service request.","According to one embodiment of the present invention, the service control function access manager object, in response to a determination that none of the plurality of ISL objects is capable of performing the first requested service, transmits the first service request to a service control function object external to the telecommunication switch.","According to another embodiment of the present invention, the service control function access manager object, in response to a determination that a first one of the ISL objects is capable of performing the first requested service, causes the first ISL object to perform the first requested service.","According to still another embodiment of the present invention, the telecommunication switch further comprises a call control function object capable of receiving the first service request from a requesting device.","According to yet another embodiment of the present invention, the service control function access manager object receives the first service request from the call control function object.","According to a further embodiment of the present invention, the telecommunication switch further comprises an integrated service logic (ISL) handler object, wherein the service control function access manager object transmits the first service request to the ISL handler object and the ISL handler object, in response to receipt of the first service request, creates a first instance of the first ISL object capable of performing the first requested service.","According to a still further embodiment of the present invention, the ISL handler object provides the service control function access manager object a first address associated with the first instance of the first ISL object.","According to a yet further embodiment of the present invention, the ISL handler object provides the first instance of the first ISL object a second address associated with the service control function access manager object.","In one embodiment of the present invention, the service control function access manager object and the first instance of the first ISL object use the first and second address to communicate directly.","Before undertaking the DETAILED DESCRIPTION OF THE INVENTION below, it may be advantageous to set forth definitions of certain words and phrases used throughout this patent document: the terms \u201cinclude\u201d and \u201ccomprise,\u201d as well as derivatives thereof, mean inclusion without limitation; the term \u201cor,\u201d is inclusive, meaning and\/or; the phrases \u201cassociated with\u201d and \u201cassociated therewith,\u201d as well as derivatives thereof, may mean to include, be included within, interconnect with, contain, be contained within, connect to or with, couple to or with, be communicable with, cooperate with, interleave, juxtapose, be proximate to, be bound to or with, have, have a property of, or the like; and the term \u201ccontroller\u201d means any device, system or part thereof that controls at least one operation, such a device may be implemented in hardware, firmware or software, or some combination of at least two of the same. It should be noted that the functionality associated with any particular controller may be centralized or distributed, whether locally or remotely. Definitions for certain words and phrases are provided throughout this patent document, those of ordinary skill in the art should understand that in many, if not most instances, such definitions apply to prior, as well as future uses of such defined words and phrases.",{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIGS. 1 through 5"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 1","b":["100","100","121","123","101","102","103","101","103","111","114","111","114","111","114","101","103"]},"Dotted lines show the approximate boundaries of cell sites - in which base stations - are located. The cell sites are shown approximately circular for the purposes of illustration and explanation only. It should be clearly understood that the cell sites may have other irregular shapes, depending on the cell configuration selected and natural and man-made obstructions.","As is well known in the art, each of cell sites - is comprised of a plurality of sectors, where a directional antenna coupled to the base station illuminates each sector. The embodiment of  illustrates the base station in the center of the cell. Alternate embodiments may position the directional antennas in corners of the sectors. The system of the present invention is not limited to any particular cell site configuration.","In one embodiment of the present invention, each of BS , BS  and BS  comprises a base station controller (BSC) and one or more base transceiver subsystem(s) (BTS). Base station controllers and base transceiver subsystems are well known to those skilled in the art. A base station controller is a device that manages wireless communications resources, including the base transceiver subsystems, for specified cells within a wireless communications network. A base transceiver subsystem comprises the RF transceivers, antennas, and other electrical equipment located in each cell site. This equipment may include air conditioning units, heating units, electrical supplies, telephone line interfaces and RF transmitters and RF receivers. For the purpose of simplicity and clarity in explaining the operation of the present invention, the base transceiver subsystems in each of cells ,  and  and the base station controller associated with each base transceiver subsystem are collectively represented by BS , BS  and BS , respectively.","BS , BS  and BS  transfer voice and data signals between each other and the public switched telephone network (PSTN) (not shown) via communication line  and mobile switching center (MSC) . BS , BS  and BS  also transfer data signals, such as packet data, with the Internet (not shown) via communication line  and packet data server node (PDSN) . Packet control function (PCF) unit  controls the flow of data packets between base stations - and PDSN . PCF unit  may be implemented as part of PDSN , as part of MSC , or as a stand-alone device that communicates with PDSN , as shown in . Line  also provides the connection path for control signals transmitted between MSC  and BS , BS  and BS  that establish connections for voice and data circuits between MSC  and BS , BS  and BS .","Communication line  may be any suitable connection means, including a T1 line, a T3 line, a fiber optic link, a network packet data backbone connection, or any other type of data connection. Line  links each vocoder in the BSC with switch elements in MSC . The connections on line  may transmit analog voice signals or digital voice signals in pulse code modulated (PCM) format, Internet Protocol (IP) format, asynchronous transfer mode (ATM) format, or the like.","MSC  is a switching device that provides services and coordination between the subscribers in a wireless network and external networks, such as the PSTN or Internet. MSC  implements at least some services internally using integrated service logic objects according to the principles of the present invention.",{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 3","b":["140","140","305","306","311","312","315","320","331","332","333","334","140","340","350"]},"The integrated service logic objects in MSC  perform some of the services that would normally be performed by an external SCF, such as SCF object , in a conventional CS-1 Intelligent Network. The services performed by the internal ISL objects may include at least some of: i) a HOLD function, ii) an Explicit Call Transfer (ECT) function, iii) a Multiple Party (MPTY) function, iv) an Advice of Charge (AOC) function, v) a Call Forwarding (CF) function (various types), vi) a Call Deflection (CD) function, vii) a Call Waiting (CW) function, viii) a COLP\/COLR function, and ix) a Closed User Group (CUG) function, among others. If a corresponding ISL is provided in MSC , the service is performed internally in MSC , rather than being sent to local SCF .","Each one of integrated service logic (ISL) objects - is an application that SCFAM object  or SCFAM object  may invoke to perform the service processing. Each service logic application is designed specifically for a particular service (e.g., Call Hold, Multiple Party, etc.). ISL objects - use the same thread as SCFAM object , thereby eliminating messaging overhead. If it is necessary to invoke a secondary service provided by a second ISL object (e.g., MPTY ISL object ), CCF\/SSF  signals SCFAM object  to invoke the secondary service. In response, SCFAM  interfaces with the ISL handler to create an instance of the service by invoking MPTY ISL object . Once SCFAM object  (or SCFAM object ) retrieves a valid ISL instance, SCFAM object  (or ) forwards all INAP operations to the corresponding one of ISL objects - for processing. SCFAM object  may interface with SCFAM object  to provide the appropriate service handling for the requested service key.",{"@attributes":{"id":"p-0042","num":"0041"},"figref":"FIG. 4","b":["400","140","305","305","111","114","305","311","405"]},"SCFAM object  first forwards the request to the Integrated Service Logic (ISL) handler object . ISL handler object  determines if the SCF Address indicates that the service is to be performed by ISL objects - and return the appropriate ISL instance to SCFAM object  (process step ). If SCFAM object  receives a valid ISL instance, SCFAM object  sends the service request (i.e., InitialDP request) to corresponding ISL object (process step ). If SCFAM object  does not receive a valid ISL instance, SCFAM object  ASN-encodes the request and sends the encoded request to Local SCF object  or other external SCP as indicated by the received SCF Address.","ISL handler  maps the service key for each requested service to an instance of the corresponding ISL object (e.g., Hold ISL object , ECT ISL object , etc.) and returns the ISL object address to the requesting SCFAM object (e.g., SCFAM ). Thereafter, the ISL object communicates with CCF\/SSF object  through SCFAM object  to provide the integrated switch-based services. This may include service interaction with other ISL objects similar to those provided by the SIM at local SCF . Communications between ISL object for service interaction use generic messages over interface handler (IH) object . By way of example, Hold ISL object  may communicate with MPTY ISL object  by transmitting a message through SCFAM object , IH object , and SCFAM object . The ISL object is responsible for encoding and decoding all component messages to and from the mobile station.","For integrated services, CCF\/SSF object  may access Subscriber-Based Trigger Specification (SBTS) data implemented locally in the software load. CCF\/SSF object  uses this data to build a trigger table for each subscriber during a call. The trigger table contains information such as SCF Address, Service Key, Basic Service Code, Detection Points, and any trigger criteria. At each detection point in a call, if the trigger criteria are met, CCF\/SSF object  sends an InitialDP request message to SCFAM object . ISL handler object  compares the SCF Address to an internally defined integrated SCF Address and determines if the service is supported by one of ISL objects -.","ISL Handler object  returns the ISL instance for the requested service, if it is supported by ISL objects -. ISL Handler object  has access to locally implemented \u201cService Key to ISL\u201d mapping data and the integrated SCF Address. CCF\/SSF object  may send to an ISL object other data specific to each service (such as ECT call state) that is not defined by the ITU-T standards in proprietary parameters in the generic INAP message. ISL objects - send INAP operations to CCF\/SSF object  as defined by ITU-T standards.","Subscriber data refers to data specific to each subscriber, such as subscribed-to services and any basic service code for that service. This data may include, for example, MISDN, ForwardingData, CugInfo, and SS-Data, among others. For integrated switch services, subscriber data from a subscriber database (SDB) can easily be obtained by retrieving the SDB pointer stored in IH object  for the half call.","Each one of ISL objects - assigns and maintains the application InvokeId value(s) sent in the IN2 components. The InvokeId values are used in a request-response message pair to and from the mobile station. The InvokeId value may also be used by CCF\/SSF object  to track armed events.","Advantageously, the use of ISL objects - supports service interaction. Because service interaction pertains only to those services registered by the same subscriber, the IHSession object may easily provide a Service Registration function to support this task. For example, IHSession may store and provide the SCFAM Session ID of the last held party as needed. In conventional systems, all other data used by service interactions (e.g., between HOLD\/ECT, HOLD\/MPTY or HOLD\/HOLD) do not vary from call to call. Therefore, specific data such as CallSegment ID and Leg ID do not need to be tracked by IH Session object as part of the Service Registration. Instead, each ISL object may store these data locally when the services are invoked.","The following services require service interaction: 1) Hold\u2014interacts with the other call on Hold; 2) Explicit Call Transfer\u2014interacts with a previous call on Hold; 3) Build Multiple Party\u2014interacts with a previous call on Hold or previous call on MptyHold; 4) Hold Multiple Party\u2014interacts with previous call on Hold. SCFAM object  support new primitives from other SCFAM object  and other SCFAM objects to allow ISL objects to communicate with one another. When an ISL object sends messages to other ISL objects, the destination SCFAM object recognizes that these messages are from other ISL objects and pass the messages along to the correct ISL object.","Conventional service interactions always involve the HOLD service. Services that interact with HOLD need to know the call data and the location of the HOLD ISL object in order to communicate with the HOLD ISL object. The IH Session provides the service registration function to the ISL objects by managing the SCFAM SessionID data of the held ISL object. The IH Session may provide simple function calls to retrieve, store and clear the SCFAM SessionID of the held ISL object. All call related data can also be managed by the IH Session as part of the service registration, but is really not necessary.","By simplifying the service registration data at IH Session, the ISL objects must maintain the call data required for certain service interaction operations. The invoked ISL object communicates the desired operation to the held ISL object. It is the responsibility of the held ISL object to build the INAP operation properly. An example of this is for the ECT ISL object and the BuildMPTY object to notify the held ISL object with a MoveCS notification message. The held ISL object builds the INAP MoveCS operation using its call data, then passes the operation along to the held SCFAM object.","If the IH Session object also manages the call data as part of the service registration, then the invoked ISL objects may retrieve these data directly from the IH Session. For example, the invoked ECT and BuildMPTY can build the MoveCS operation with all of the required data retrieved from IH Session and send it to the held SCFAM directly, without first going to the held ISL for call data. This approach cuts down on the communications between the ISLs during service interaction, but takes up more memory in IH Session. Note that in this example, going to ISL first does not create more messaging overhead because the ECT or BuildMPTY ISL has to send the MoveCS operation over IH only once in either case.","When a HOLD service is requested, the invoked HOLD ISL object  registers itself to the IH Session. If the subscriber had already put another party or parties on hold, the IH Session returns the SCFAM SessionID for the held ISL object. The held call could be a result of a HOLD or HoldMPTY service request. Because only one call may be held at any one time, the invoked HOLD ISL  must wait for the held call to be retrieved before it can put the current call on hold. The invoked HOLD ISL object  waits for a RetrieveReceived notification message from the held ISL object before processing the HOLD service request. When the HOLD service is successfully completed, the invoked HOLD ISL object  sends a HoldSuccess notification message to the held ISL object to allow it to process the RETRIEVE request. If no other call is on hold, the invoked HOLD ISL object  processes the HOLD service without interacting with any other ISL objects.","When an ECT service is requested, the invoked ECT ISL object  checks with IH Session to see if the subscriber has put a party on hold. If the IH Session returns the SCFAM SessionID of the held ISL object, then ECT ISL object  sends a MoveCS notification to the held ISL object. The held ISL object builds a Move CS operation and passes it to the SCFAM object. The SCFAM obejct process the MoveCS operation, but sends the ReturnResponse to the held ISL object instead of local SCF object . The held ISL object de-registers itself with IH Session and proceeds to send the MoveCSReturnResult notification to the invoked ECT ISL object. The held ISL object then sends a ReleaseCall operation to the held CCF\/SSF object. When invoked ECT ISL object  receives the MoveCSReturnResult notification, it continues to process the ECT service. In the case where there is no party on hold, the invoked ECT ISL object  returns a ReturnError to CCF\/SSF object .","When a BuildMPTY service is requested, the invoked BuildMPTY ISL object checks with IH Session to see if the subscriber has put a party on hold. The held party could be a result of HOLD or HoldMPTY service request. If IH Session returns the SCFAM sessionId of the held ISL object, then the BuildMPTY ISL object sends a MoveCS notification to the held ISL object. The held ISL object builds an INAP Move CS operation and passes it to the SCFAM object. The SCFAM object processes the MoveCS operation, but sends the MoveCSReturnResult to the held ISL object instead of local SCF object . The held ISL object de-registers itself with IH Session and proceeds to send the MoveCSReturnResult notification to the invoked BuildMPTY ISL object. The held ISL object then sends a ReleaseCall operation to held CCF\/SSF object . When the invoked BuildMPTY ISL object receives the MoveCSReturnResult notification, it continues to process the BuildMPTY service. In the case where there is no party on hold, the invoked BuildMPTY ISL object returns an ReturnError to CCF\/SSF object .","When a HoldMPTY service is requested, the invoked HoldMPTY ISL object registers itself to the IH Session. If the subscriber had already put another party on hold, the IH Session returns the SCFAM SessionID of the held ISL object. Because only one call can be held at anytime, the invoked HoldMPTY ISL object waits for the held call to be retrieved before it can put the current call on hold. The invoked HoldMPTY ISL object waits for a RetrieveReceived notification from the held ISL object, before processing the HoldMPTY service. When the HoldMPTY service is successfully completed, the invoked HoldMPTY ISL object sends a HoldSuccess notification to the held ISL object to allow it to process the RETRIEVE request. In the case where there is no other party on hold, the invoked HoldMPTY ISL object processes the HoldMPTY service without interacting with any other ISL object.",{"@attributes":{"id":"p-0058","num":"0057"},"figref":"FIG. 5","b":["500","334","305","501","311","320","311","502","315","315","334","503","315","504","334","311","334","311","315"]},"By way of example, AOC ISL object  transmits Request Report Facility Event(InvokeID, LegID) message  to SCFAM object , which in turn transmits RRFE(InvokeID, LegID) message  to CCF\/SSF object . Similarly, AOC ISL object  transmits Send Facility Info(InvokeID, CAI) message  to SCFAM object , which in turn transmits SFI(InvokeID, CAI) message  to CCF\/SSF object .","Advantageously, the present invention eliminates the need for INAP encoding and decoding for messages associated with ISL objects. All messages are internal to the core network and do not need to follow INAP format. Also, communications to handle the service request is entirely within the core network, going through the interface handler (IH) session object only. There present invention also provides easy access to subscriber data, which is stored in the IH session object during the call. Thus, only a minimal amount of work is required to add proprietary information or to customize a service. The present invention provides flexibility for the network operator to either provide service internally (ISL) or through an external SCF process.","Although the present invention has been described with an exemplary embodiment, various changes and modifications may be suggested to one skilled in the art. It is intended that the present invention encompass such changes and modifications as fall within the scope of the appended claims."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["For a more complete understanding of the present invention and its advantages, reference is now made to the following description taken in conjunction with the accompanying drawings, in which like reference numerals represent like parts:",{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 5"}]},"DETDESC":[{},{}]}
