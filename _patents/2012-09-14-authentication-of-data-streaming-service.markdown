---
title: Authentication of data streaming service
abstract: A service provider may provide one or more services to and/or for a client. Providing a service may involve receiving a service request including a security token at the service provider and determining whether the security token is valid. Providing the service may also involve determining a session security token if the security token is valid and generating a service response including the session security token. Providing the service may further involve receiving a service request including the session security token, determining whether the session security token is valid, and, if the session security token is valid, generating a second service response.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08874901&OS=08874901&RS=08874901
owner: Facebook, Inc.
number: 08874901
owner_city: Menlo Park
owner_country: US
publication_date: 20120914
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["RELATED APPLICATIONS","TECHNICAL FIELD","BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["The present application is a continuation of U.S. application Ser. No. 13\/219,938, filed Aug. 29, 2011, which is a continuation of U.S. application Ser. No. 11\/079,709, filed Mar. 14, 2005, which is now issued as U.S. Pat. No. 8,010,783, which claims the benefit of and priority to U.S. provisional application No. 60\/651,471, filed Jan. 7, 2005, and U.S. provisional application No. 60\/562,659, filed Apr. 15, 2004. Each of the aforementioned patent(s) and application(s) are hereby incorporated by reference in their entirety.","This invention relates to computer networking and, more particularly, to providing computer-related services.","In general, a client may receive data from a server in either of two ways. One way is for a browser (or other client-side application) to request new data from the server (often referred to as \u201cpulling\u201d data). Another way is for the server to send data to the client as the data becomes available (often referred to as \u201cpushing\u201d data).","Before consuming resources by sending data, however, a server may desire to understand what and\/or who is requesting the data. Clients and users may be identified and validated through a variety of techniques, such as passwords, security tokens, and certificates. For state-cognizant protocols, the client or user is typically validated once, at the beginning of the session. For stateless protocols, however, the client or user may have to be validated for each client-server interaction.","A service provider may provide service to and\/or for a client by a variety of techniques. In one general aspect, a process for invoking a service provider includes receiving a service request at the service provider, the request including a security token, and determining whether the security token is valid. If the security token is valid, the process calls for determining a session security token and generating a service response including the session security token. The process further calls for receiving a service request, the request including the session security token, determining whether the session security token is valid, and, if the session security token is valid, generating a second service response. The process may be implemented by machine, instructions embodied in an information carrier, or any other appropriate technique.","In particular implementations, determining a session security token may include determining whether a session security token should be generated and, if a session security token should be generated, generating the session security token. Also, the second service response may specify that future service requests should be sent to a different service provider.","Certain implementations may include determining whether one or more of the security tokens has become invalid. If the first security token has become invalid, or if the session security token has become invalid, the process may call for canceling the session security token.","The process also may call for determining whether a request to update the session security token has been received. If a request to update the session security token has been received, the process may include validating the request and updating the session security token if the request is valid.","The process additionally may call for receiving a third service request, the request including the session security token, and determining whether the session security token is valid. If the session security token is valid, the process may call for determining a second session security token and generating a service response including the second session security token.","The requests and responses may be expressed in a self-describing protocol, which may, for example, be the Simple Object Access Protocol. The service request may, for example, be a data service request, the service provider may, for example, be a data service provider, and the session security token may, for example, be a data session security token. In certain implementations, the security token may be received in a first request header type, and the session security token may be received in a second request header type.","In another general aspect, a process for invoking a service provider includes generating a service request at a client, the request including a security token and directed to a service provider, and receiving a service response including a session security token. The process also includes generating a second service request, the second request including the session security token and directed to the service provider. The process may be implemented by machine, instructions embodied in an information carrier, or any other appropriate scheme.","In certain implementations, the process may include monitoring the validity period of the session security token and, if the session security token is about to expire, determining whether the session should continue. If the session should continue, the process may call for generating a request to update the session security token.","The security token may be placed in a first request header type, and the session security token may be placed in a second request header type. The process also may call for receiving a second service response, the response including a second session security token.","Various implementations may have one or more features. In particular implementations, the ability of a service provider to substitute a self-determined security token for an externally-generated security token allows the service provider to achieve efficiencies on subsequent service requests that it receives. Also, the service provider may manage (e.g., update or change) the self-determined security token as it desires. In certain implementations, the service provider may also cache other session-related information at a client. This information also may allow the service provider to achieve efficiencies on subsequent service requests that it receives.","The details of one or more implementations are set forth in the accompanying drawings and the description below. Other features will be apparent from the description and drawings, and from the claims.","Like reference symbols in the various drawings indicate like elements.","Service providers may offer a variety of services to and\/or for a client. For example, a digital data service provider may provide digital content (e.g., audio and video) to a client. Providing the content may be improved by shortening the security authentication sequence between the service provider and the client. In one implementation, this may be accomplished by a service provider providing the client with a second security token after verifying the client with a first security token. The second security token may be processed more readily by the service provider and is used in place of the first security token for subsequent requests to the service provider. Other types of service providers (e.g., content management and action initiating) may experience similar benefits.",{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 1","b":["100","100","110","120","130","140","110","140","110","130","140","110","140","140","140","110","110","110","140","120"]},"In more detail, user interface device  may be any type of device for providing or facilitating the provision of digital data to a user. For example, user interface device  may be a consumer electronic device such as a multimedia device, a digital media adapter, or a digital television. System  is also applicable to clients running on a computer (such as a PC Radio Client). User interface device  may enter into a client-server relationship with service infrastructure  and\/or service provider  to receive the service.","User interface device  typically includes a processor, memory, a network interface device, a user input device, and a user output device. The processor may be a microprocessor, a field-programmable gate array (FPGA), or any other type of device for manipulating information in a logical manner. The memory may include random access memory (RAM), read-only memory (ROM), compact-disk read-only memory (CD-ROM), and\/or any other device for storing information. The network interface device may be a network interface card (NIC), a modem, a wireless transceiver, or any other type of device for sending and receiving information. The user input device may be a keyboard, a keypad, a stylus, a mouse, or any other type of device for receiving input from a user. The user output device may provide audible, visual, or other appropriate information to the user.","The communication network  may be any appropriate collection of components for sending information. For example, the communication network may include bridges, switches, routers, hubs, repeaters, transceivers, modems, and\/or any other device for conveying information. The communication network may be a local area network (LAN), a wide area network (WAN), or the Internet. The communication network may operate using wireline and\/or wireless techniques.","Service infrastructure  provides the core services used to identify, manage, and create user accounts, whose services are being deployed to user interface device . Service infrastructure  includes an authentication service , a discovery service , a registration service , and a billing service . Authentication service  is responsible for authenticating user interface device  when it applies for data service and generating security tokens used within the framework to obtain access to services. The authentication may take place through any of a variety of well-known techniques (e.g., X.509 certificates). Discovery service  is responsible for finding service providers for user interface device . Discovery service  may accomplish this based on a subscription list for the user interface device, the capabilities of the user interface, and\/or the current availability of service providers. Registration service  is responsible for registering user interface device  for the service infrastructure. Registration may include establishing factual information about the owner of the user interface device, preference information for the owner of the user interface device, and the capabilities of the user interface device. Billing service  is responsible for tracking the use of service providers by user interface device  and determining the amount to charge the owner of the user interface device. The operations of several of the services in service infrastructure  will be discussed in more detail below.","Service provider  provides the actual data service to user interface device . Service provider  includes a command\/control component  and a data feed component . Command\/control component  is responsible for managing the user interface device's access to data, and data feed component  is responsible for actually supplying the requested data.","Service infrastructure  and service provider , and their respective components, may be implemented on one or more devices or systems. In particular implementations, service infrastructure  may be implemented on a first server and service provider  may be implemented on a second server. The servers may or may not be co-located. In certain implementations, however, service infrastructure  and service provider  may be implemented on the same server.","In one mode of operation, service infrastructure  and service provider  implement a web-services interface framework upon which service applications such as a radio service or a photo service may be built. The framework may provide for the provisioning of services to consumer electronics devices. The basic structure of the framework may be based upon existing identity-based web-services standards, such as Web Services Security and the Liberty Alliance specifications. The framework may provide the following functionality: 1) authentication (both user and device); 2) service location and authorization; 3) message security; and 4) message correlation. An application programming interface (API) may be provided for the service infrastructure and\/or the service provider.","In this implementation, the Simple Object Access Protocol (SOAP) may be used to allow user interface device  to interact with services of service infrastructure  and command\/control component of service provider . However, the data flow from the service provider may be in any appropriate format for the data. For example, if service provider  is a radio service, an Ultravox streaming feed may be used.","In a typical procedure, API calls are made to authentication service  and discovery service . Framework surrounding calls are made to the remaining services (including the framework for the command\/control calls to the data services).","The procedure could include user interface device  authenticating with authentication service . After authentication by authentication service , user interface device  queries the location of service providers such as service provider  from discovery service , which returns the service provider location and a security token for the service provider. User interface device  then invokes service at that the specified service provider location using the provided security token. Typically, user interface device  will interact with command\/control component  of service provider  over a series of messages. By doing this, a session is established with the service provider.","An example of a security token to access a data service provider that provides a radio service is:",{"@attributes":{"id":"p-0036","num":"0035"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<lib:Assertion MajorVersion=\u20331\u2033 MinorVersion=\u20332\u2033"},{"entry":"\u2003AssertionID=\u20339f3d54a0-4899-8a3d-9328-328ad3e4ef90\u2033"},{"entry":"\u2003Issuer=\u2033http:\/\/idp.aol.com\u2033"},{"entry":"\u2003IssueInstant=\u20332003-06-06T12:10:11Z\u2033"},{"entry":"\u2003InResponseTo=\u2033uuid:0023923-28329023-238239026\u2033>"},{"entry":"\u2003<saml:Conditions NotOnOrAfter=\u20332003-06-07T12:10:10Z\u2033 >"},{"entry":"\u2003\u2003<saml:AudienceRestrictionCondition>"},{"entry":"\u2003\u2003\u2003<saml:Audience>http:\/\/radio.ws.aol.com<\/saml:Audience>"},{"entry":"\u2003\u2003<\/saml:AudienceRestrictionCondition>"},{"entry":"\u2003<\/saml:Conditions>"},{"entry":"\u2003<lib:AuthenticationStatement"},{"entry":"\u2003\u2003AuthenticationInstant=\u20332003-06-06:12:10:11Z\u2033"},{"entry":"\u2003\u2003SessionIndex=\u20331\u2033 >"},{"entry":"\u2003\u2003<lib:AuthnContext>"},{"entry":"\u2003\u2003\u2003<lib:AuthnContextClassRef>"},{"entry":"\u2003\u2003\u2003\u2003http:\/\/schemas.aol.com\/authctx\/classes\/"},{"entry":"\u2003\u2003\u2003\u2003DeviceProtectedTransport"},{"entry":"\u2003\u2003\u2003<\/lib:AuthnContextClassRef>"},{"entry":"\u2003\u2003<\/lib:AuthnContext>"},{"entry":"\u2003\u2003<lib:Subject>"},{"entry":"\u2003\u2003\u2003<saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003<lib:NameQualifier>http:\/\/aol.com<\/NameQualifier>"},{"entry":"\u2003\u2003\u2003\u2003<lib:Format>urn:liberty:iff:nameid:federated<\/Format>"},{"entry":"\u2003\u2003\u2003\u2003AOLScreenname"},{"entry":"\u2003\u2003\u2003<\/saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003<saml:SubjectConfirmation>"},{"entry":"\u2003\u2003\u2003\u2003<saml:ConfirmationMethod>"},{"entry":"\u2003\u2003\u2003\u2003\u2003urn:oasis:names:tc:SAML:1.0:cm:Bearer"},{"entry":"\u2003\u2003\u2003\u2003<\/saml:ConfirmationMethod>"},{"entry":"\u2003\u2003\u2003<\/saml:SubjectConfirmation>"},{"entry":"\u2003\u2003<\/lib:Subject>"},{"entry":"\u2003<\/lib:AuthenticationStatement>"},{"entry":"\u2003<saml:AttributeStatement>"},{"entry":"\u2003\u2003<lib:Subject>"},{"entry":"\u2003\u2003\u2003<saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003<lib:NameQualifier>http:\/\/aol.com<\/NameQualifier>"},{"entry":"\u2003\u2003\u2003\u2003<lib:Format>urn:liberty:iff:nameid:federated<\/Format>"},{"entry":"\u2003\u2003\u2003\u2003AOLScreenname"},{"entry":"\u2003\u2003\u2003<\/saml:NameIdentifier>"},{"entry":"\u2003\u2003<\/lib:Subject>"},{"entry":"\u2003\u2003<saml:Attribute AttributeName=\u201ddevUPC\u201d"},{"entry":"\u2003\u2003\u2003AttributeNamespace=\u201dhttp:\/\/schemas.aol.com\u201d>"},{"entry":"\u2003\u2003\u2003<saml:AttributeValue>123456789012<\/saml:AttributeValue>"},{"entry":"\u2003\u2003<\/saml:Attribute>"},{"entry":"\u2003<\/saml:AttributeStatement>"},{"entry":"\u2003<ds:Signature>"},{"entry":"\u2003\u2003Signature data goes here"},{"entry":"\u2003<\/ds:Signature>"},{"entry":"\/lib:Assertion>."},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"Upon verification, data service provider  may determine a security token to be used for further service requests during the session. A session may be viewed as the time period in which a user interface device is interacting with a service provider, whether or not a persistent connection is maintained. However, there may be long time periods in which the service provider does not receive any requests from the user interface device (e.g., when the service provider is steadily streaming data to the user interface device). Thus, a session may be viewed as the time in which the service provider and the user interface device are communicating, even if it is predominantly one-way, or the time in which the service provider is expecting the user interface device to interact with the service provider. For example, a security token may be valid for a given period of time. Thus, a session may be viewed as the time that a security token is valid.","An example of a session security token for the before-mentioned radio service is:",{"@attributes":{"id":"p-0039","num":"0038"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<aol:ServiceSessionContext"]},{"entry":[{},"\u2003\u2002NotOnOrAfter=\u20332003-06-07T12:10:10Z\u2033 > "]},{"entry":[{},"\u2003\u2002023893207akf;lkqwrtp8ywea:aasfqw;4uq4tqe4twhrwe5"]},{"entry":[{},"\u2003\u2002tywrwerthsadfiy3096driuqw360p734luyerg734634tlarh02375"]},{"entry":[{},"\u2003\u2002uert396485twertertlq4tr9p275qwer239qqw=349y84ter"]},{"entry":[{},"<\/aol:ServiceSessionContext>."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}},"br":{}},"Upon selecting a particular aspect of the service, the user interface device receives instructions for accessing the appropriate data feed. The user interface device then invokes the data feed for the service directly.","Note, however, that there may be many variations on this theme for different services and for different user environments. In some cases, for example, the discovery request may be included in the final authentication submission. In certain cases, the service provider will not have a data feed and will expose its entire set of services via the web services interface.","As mentioned previously, system  may be used for provisioning services to services to consumer electronic devices. The typical case is for a consumer to purchase an enabled device, plug it in, and, potentially with some personalization, access services on the device. System  may support both proprietary and non-proprietary services as well as the provisioning of proprietary services to both proprietary and non-proprietary users and devices, as long as they are authenticated. For example, non-proprietary ISP customers may be authenticated so that they may access proprietary services.","Some basic use cases that may be enabled are outlined below. Note, however, that this set of use cases is not expected to be comprehensive, just exemplary of what the framework may enable.","In the first case, a long-time customer of a particular service provider purchases a digital media device from an electronics store. When he plugs in the device, it asks if he is a customer of the service provider. Since he is, he responds affirmatively and provides his user authentication information to the device. The device authenticates to the service provider and downloads the customer's personalization settings for particular services (e.g., radio), extending the customer's service-provider experience to a new device.","In the second case, a new user purchases a device and plugs it in. However, she is not a customer of the service provider. Thus, when she is asked about being a customer, she replies that she is not. If she does not want to create an account at this time, she may still be able to access some services, although possibly a little more restrictive than an existing customer and without the personalizations. In the future, she may upgrade her device to receive the full personalized experience, for example, by subscribing to a stand-alone radio service.","In a third case, an existing customer purchases a premium device. When he brings it home and plugs it in, the device authenticates into the framework as itself, and the full personalized radio service (able to store user presets, access the full range of radio content, etc.) is accessed. In this case, the customer, having purchased other such devices, associates this device with his network account, and the device is able to retrieve his existing set of station presets.",{"@attributes":{"id":"p-0047","num":"0046"},"figref":["FIG. 2","FIG. 1"],"b":["200","200","100","200"]},"As may be seen in , message  include two main portions\u2014a header section  and a body section . Header section  includes session headers  and a web-services security header , which contain message and user\/device identification and security information, and body section  includes a service request\/response , which contains the actual request\/response for the service. A response is very similar to a request, except that it usually does not contain a security header .","Header section  may include a correlation header\u2014<Correlation>. A <Correlation> header contains the message identity information for the message, such as the message identifier, timestamp, etc. The header may have the attributes shown in",{"@attributes":{"id":"p-0050","num":"0049"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"7pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"center"}}],"thead":{"row":[{"entry":[{},"TABLE 1"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},{},"A sample <Correlation> header is:"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{},"<sb:Correlation s:mustUnderstand=\u201d1\u201d"]},{"entry":[{},{},"\u2003\u2002messageID=\u201duuid:efef-adadef- . . .\u201d"]},{"entry":[{},{},"\u2003\u2002timestamp=\u201d2003-06-12T18:12:11Z\u201d \/>."]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}]}}},{"@attributes":{"id":"p-0051","num":"0050"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 1"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Example <Correlation> Header Attributes"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Attribute","Usage"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"mustUnderstand","Set to \u201c1\u201d"]},{"entry":[{},"messageID","Set to a unique identifier for each message"]},{"entry":[{},"refToMessageID","On response messages, set to the value"]},{"entry":[{},{},"contained in the messageID attribute of the"]},{"entry":[{},{},"<correlationType> header in the request."]},{"entry":[{},"timestamp","Time message was generated"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}]}}},"Header section  also may include a device-type header\u2014<DeviceType>. A <DeviceType> header is used to identify the device software making the request. This information is used for statistical purposes, as well as to validate the sanity of the request (for example, a request to access a billing service on a device that has no e-commerce capabilities will likely be refused). The header may have the attributes shown in Table 2. A sample <DeviceType> header is:\n\n",{"@attributes":{"id":"p-0053","num":"0053"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 2"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Example <DeviceType> Header Attributes"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Attribute","Type","Usage"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["man","Required","The manufacturer of the client or device."]},{"entry":["name","Required","The name of the client or device. For devices,"]},{"entry":[{},{},"this is usually the model number of the device"]},{"entry":["version","Optional","The version of the device software"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}}},"Note that some applications may use an inappropriate <DeviceType> header in an attempt to impersonate a user interface device. Therefore, it is the better security practice that this information be \u201ctrusted.\u201d","Header section  additionally may include a redirect-to header\u2014<RedirectTo>. A <RedirectTo> header is used to redirect the user interface device to a new endpoint for subsequent requests for a service. There are several instances where this may be used, including: 1) to direct the requestor to the specific server within a server farm that handles the requests associated with a \u201csession\u201d or perhaps with a \u201cuser\u201d; and 2) to migrate an existing \u201csession\u201d or user to a new server (perhaps because of maintenance on the current server). Note that the term \u201csession\u201d may be whatever the server thinks of as a session. The <RedirectTo> header basically allows the server to direct the requestor to a specific entry point for further communications. The header may have the attributes shown in Table 3. An example <RedirectTo> header is:",{"@attributes":{"id":"p-0056","num":"0056"},"tables":{"@attributes":{"id":"TABLE-US-00006","num":"00006"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<aol:RedirectTo mustUnderstand=\u201d1\u201d"]},{"entry":[{},"\u2003\u2002endPoint=\u201dhttps:\/\/server4.cluster2.ws.aol.com\u201d \/>."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},{"@attributes":{"id":"p-0057","num":"0057"},"tables":{"@attributes":{"id":"TABLE-US-00007","num":"00007"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 3"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Example <RedirectTo> Header Attributes"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Attribute","Type","Usage"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["mustUnderstand","Required","Set to \u201c1\u201d"]},{"entry":["endPoint","Required","The new endpoint for subsequent"]},{"entry":[{},{},"messages. This may be a complete"]},{"entry":[{},{},"URL pointing to the location"]},{"entry":[{},{},"where subsequent messages for this"]},{"entry":[{},{},"service should be submitted."]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}}},"The service may reject the current request in conjunction with returning a <RedirectTo> header, essentially telling the user interface device to resubmit its request to the new \u201cendPoint\u201d. In such a case, the server may return a SOAP fault with <S:faultcode> set to \u201cClient.EndPointChange.ReSubmit\u201d. An example response for this case is:",{"@attributes":{"id":"p-0059","num":"0059"},"tables":{"@attributes":{"id":"TABLE-US-00008","num":"00008"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<S:Envelope xmlns:S=\u2033http:\/\/schemas.xmlsoap.org\/soap\/envelope\/\u2033>"},{"entry":"\u2003\u2002<S:Header>"},{"entry":"\u2003\u2003\u2003<sb:Correlation S:mustUnderstand=\u20331\u2033"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003messageID=\u201duuid:0023923-28329023-238239023\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003refToMessageID=\u2033uuid:00123-ad32-23-09923-88239\u2033"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003timestamp=\u20332003-06-06T12:10:10Z\u2033 \/>"},{"entry":"\u2003\u2003\u2003<aol:RedirectTo mustUnderstand=\u201d1\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2002endPoint=\u201dhttps:\/\/server4.cluster2.ws.aol.com\u201d \/>"},{"entry":"\u2003\u2002<S:\/Header>"},{"entry":"\u2003\u2002<S:Body>"},{"entry":"\u2003\u2003\u2003<S:Fault>"},{"entry":"\u2003\u2003\u2003\u2003\u2009<faultcode>Client.EndPointChange.Resubmit<\/faultcode>"},{"entry":"\u2003\u2003\u2003\u2003\u2009<faultstring>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003You must resubmit this request to the new endpoint."},{"entry":"\u2003\u2003\u2003\u2003\u2009<\/faultstring>"},{"entry":"\u2003\u2003\u2003<\/S:Fault>"},{"entry":"\u2003\u2002<\/S:Body>"},{"entry":"<\/S:Envelope>."},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"Header section  may further include a service-session-context header\u2014<ServiceSessionContext>. This header may be used to return session-context information to a service that has passed such information in a previous response. In general, when a service returns a <ServiceSessionContext> header, the user interface device should use the context in subsequent calls to the same service. Typically, this information is not included on the initial request. However, the service may, upon processing the initial request, return a context definition in the response that should be used on subsequent requests to the same provider.","The <ServiceSessionContext> header may be used to allow a service to cache session information (e.g., session identifiers and system identifiers) and authentication information in the user interface device in a native format for the service. For example, the device may store state information when interacting with a Web site (e.g., cart status). This may allow the device to operate in a server independent format. (In implementations in which the state information is stored on a server, a session ID may be created in the server that indexes to the state information of the service.) The service may take steps to protect this information from use and manipulation at the device (typically, through some form of encryption\/hashing).","Note that the <ServiceSessionContext> header may change for each request (i.e., the service may return a new session context on each response, and this context should be used for the next service request). Table 4 illustrates example attributes of the header. An example <ServiceSessionContext> header is:",{"@attributes":{"id":"p-0063","num":"0063"},"tables":{"@attributes":{"id":"TABLE-US-00009","num":"00009"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{},"<aol:ServiceSessionContext mustUnderstand=\u201d1\u201d"]},{"entry":[{},{},"\u2003\u2003\u2003NotOnOrAfter=\u201d2003-10-06T09:30:20Z\u201d >"]},{"entry":[{},{},"\u2003\u2002session data goes here (typically base64 encoded binary data)"]},{"entry":[{},{},"<\/aol:ServiceSessionContext>."]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},{"@attributes":{"id":"p-0064","num":"0064"},"tables":{"@attributes":{"id":"TABLE-US-00010","num":"00010"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 4"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Example <ServiceSessionContext> Header Attributes"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Attribute","Type","Usage"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["mustUnderstand","Required","Set to \u201c1\u201d"]},{"entry":["NotOnOrAfter","Optional","Specifies the time instance after which the"]},{"entry":[{},{},"session context will no longer be accepted"]},{"entry":[{},{},"by the provider. This does not need to be"]},{"entry":[{},{},"included on the subsequent request as it is"]},{"entry":[{},{},"advisory data for the client."]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}}},"A <ServiceSessionContext> may become invalid for many reasons, including an expiration of the validity period or a service-side session cancellation. In such a case, the service may return a SOAP error to the user interface device with <S:faultcode> set to \u201cClient.ServiceSessionContext.Invalid\u201d. An example of such a response is:",{"@attributes":{"id":"p-0066","num":"0066"},"tables":{"@attributes":{"id":"TABLE-US-00011","num":"00011"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<S:Envelope xmlns:S=\u2033http:\/\/schemas.xmlsoap.org\/soap\/envelope\/\u2033>"]},{"entry":[{},"\u2003\u2009<S:Header>"]},{"entry":[{},"\u2003\u2003\u2002\u2009<sb:Correlation S:mustUnderstand=\u20331\u2033"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2002messageID=\u201duuid:0023923-28329023-238239023\u201d"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2002refToMessageID=\u2033uuid:00123-ad32-23-09923-88239\u2033"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2002timestamp=\u20332003-06-06T12:10:10Z\u2033 \/>"]},{"entry":[{},"\u2003\u2009<S:\/Header>"]},{"entry":[{},"\u2003\u2009<S:Body>"]},{"entry":[{},"\u2003\u2003\u2002\u2009<S:Fault>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2009<faultcode>Client.ServiceSessionContext.Invalid<\/faultcode>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2009<faultstring>Invalid Session Context<\/faultstring>"]},{"entry":[{},"\u2003\u2003\u2002\u2009<\/S:Fault>"]},{"entry":[{},"\u2003\u2002<\/S:Body>"]},{"entry":[{},"<\/S:Envelope>."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},"The recovery from such an error may depend upon several factors. In one implementation, the user interface device first checks the validity period for the security token that the user interface device initially received for the service being invoked. If the token is still valid, the user interface device resubmits the request with the token. If the token is not still valid, or if the resubmission does not work, the user interface device checks the validity period for the security token obtained during the initial authentication process. If that token is still valid, the user interface device submits a discovery service request to obtain a new service security token and then invokes the service again. If, however, the validity period of both tokens has expired, the user interface device starts over with an initial authentication. The user interface device may avoid expired validity periods by using a security-token renewal process, an example of which is described later.","Header section  also includes web-services security header \u2014<wsse:Security>. A <wsse:Security> header may be used to identify and authenticate a user to the service. An example <wsse:Security> header is:",{"@attributes":{"id":"p-0069","num":"0069"},"tables":{"@attributes":{"id":"TABLE-US-00012","num":"00012"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<wsse:Security>"},{"entry":"\u2003\u2002<saml:Assertion xlmns:saml=\u201durn:oasis:names:tc:SAML:1.0:assertion\u201d"},{"entry":"\u2003\u2003\u2003AssertionID=\u201d2323sadf2asdf8h9423h\u201d"},{"entry":"\u2003\u2003\u2003Issuer=\u201ddiscovery.aol.com\u201d >"},{"entry":"\u2003\u2003\u2003. . ."},{"entry":"\u2003\u2002<\/saml:Assertion>"},{"entry":"<\/wsse:Security>."},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"The framework may use Liberty Alliance assertions as the security tokens for securely transferring identity information to the various services, including information about when, where, and how a user was authenticated, as well as her identity at the service. An example security token, in this case a token generated for the discovery service by the authentication service, is:",{"@attributes":{"id":"p-0071","num":"0071"},"tables":{"@attributes":{"id":"TABLE-US-00013","num":"00013"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<lib:Assertion MajorVersion=\u20331\u2033 MinorVersion=\u20332\u2033"},{"entry":"\u2003\u2002AssertionID=\u2033e06e5a28-bc80-4ba6-9ecb-712949db686e\u2033"},{"entry":"\u2003\u2002Issuer=\u2033http:\/\/idp.aol.com\u2033"},{"entry":"\u2003\u2002IssueInstant=\u20332003-09-29T09:30:47Z\u2033"},{"entry":"\u2003\u2002InResponseTo=\u20334e7c3772-4fa4-4a0f-99e8-7d719ff6067c\u2033>"},{"entry":"\u2003\u2002<saml:Conditions NotOnOrAfter=\u20332003-09-30T09:30:47Z\u2033 >"},{"entry":"\u2003\u2003\u2003<saml:AudienceRestrictionCondition>"},{"entry":"\u2003\u2003\u2003\u2003\u2002<saml:Audience>http:\/\/discovery.aol.com<\/saml:Audience>"},{"entry":"\u2003\u2003\u2002<\/saml:AudienceRestrictionCondition>"},{"entry":"\u2003<\/saml:Conditions>"},{"entry":"\u2003<lib:AuthenticationStatement"},{"entry":"\u2003\u2003\u2003\u2003AuthenticationInstant=\u20332003-09-29T09:30:20Z\u2033"},{"entry":"\u2003\u2003\u2003\u2003SessionIndex=\u20331\u2033 >"},{"entry":"\u2003\u2003\u2002<lib:AuthnContext>"},{"entry":"\u2003\u2003\u2003\u2003<lib:AuthnContextClassRef>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003http:\/\/www.projectliberty.org\/schemas\/authctx\/classes\/"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003PasswordProtectedTransport"},{"entry":"\u2003\u2003\u2003\u2003<\/lib:AuthnContextClassRef>"},{"entry":"\u2003\u2003\u2002<\/lib:AuthnContext>"},{"entry":"\u2003\u2003\u2002<lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003<saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2002<lib:NameQualifier>http:\/\/aol.com<\/NameQualifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2002<lib:Format>urn:liberty:iff:nameid:federated<\/Format>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2002AOLScreenname"},{"entry":"\u2003\u2003\u2003\u2003<\/saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003<\/saml:SubjectConfirmation>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2002\u2009<saml:ConfirmationMethod>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002urn:oasis:names:tc:SAML:1.0:cm:Bearer"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:ConfirmationMethod>"},{"entry":"\u2003\u2003\u2003\u2003\u2002<\/saml:SubjectConfirmation>"},{"entry":"\u2003\u2003\u2003<\/lib:Subject>"},{"entry":"\u2003\u2002<\/lib:AuthenticationStatement>"},{"entry":"\u2003\u2002<saml:AttributeStatement>"},{"entry":"\u2003\u2003\u2003<lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003\u2002<saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2002\u2002<lib:NameQualifier>http:\/\/aol.com<\/NameQualifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2002\u2002<lib:Format>urn:liberty:iff:nameid:federated<\/Format>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003AOLScreenname"},{"entry":"\u2003\u2003\u2003\u2003\u2002<\/saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003<\/lib:Subject>"},{"entry":"\u2003\u2003\u2003<saml:Attribute AttributeName=\u201dParentalControl\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003AttributeNamespace=\u201dhttp:\/\/schemas.aol.com\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<saml:AttributeValue>MatureTeen<\/saml:AttributeValue>"},{"entry":"\u2003\u2003\u2003\u2002<\/saml:Attribute>"},{"entry":"\u2003\u2003<\/saml:AttributeStatement>"},{"entry":"\u2003\u2003<ds:Signature>"},{"entry":"\u2003\u2003\u2003\u2002Signature data goes here"},{"entry":"\u2002\u2002\u2002\u2009<\/ds:Signature>"},{"entry":"<\/lib:Assertion>."},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"Although this structure contains a relatively large amount of data, the basic paradigm is that the assertion includes several statements about the \u201cSubject,\u201d which, in this case, is the user. Those statements include authentication statements, attribute statements, and authorization decision statements. An authentication statement defines how and when the user was authenticated, and certain implementations may have one of these statements in each assertion. An attribute statement defines attributes of the user, and certain implementations will use this to set data for the user, such as a parental control settings. An authorization decision statement contains authorization information about the user, typically for the service being invoked.","The Liberty Alliance assertion, which is based upon the Security Association Markup Language (SAML) assertion, contains a large number of optional parameters and settings that are useful in many circumstances. Thus, many implementations are possible with respect to the fields available within the structure.","For example, within the <Conditions> element, the \u201cNotBefore\u201d element may not be used. Instead, the \u201cIssuelnstant\u201d element found in the surrounding <Assertion> element may be used as the beginning of the validity period for the assertion.","As another example, within the <Subject> element, the <SubjectConfirmation> element may not be used. Security tokens may, for instance, be bearer tokens.","As a further example, within the <NameIdentifier> element, with proprietary provided services, the Liberty Alliance affiliation concept may be used. Thus, in general, the <NameQualifier> element will be \u201chttp:\/\/<name of proprietary service provider>.com\u201d (i.e., the affiliation for the user), and the <Format> will be \u201curn:liberty:iff:nameid:federated\u201d.","When the service provider is a proprietary service, the <NameIdentifier> element may hold the user's screen name (e.g., a proprietary service account) or an alternative identifier for the user that is valid at that service. For non-proprietary service providers, this field may contain Liberty Alliance compliant pseudonyms for the user at that service.","For proprietary service accounts, the user's parental controls status, if available, may be included in an <AttributeStatement> within the assertion. Note that because of the way that this is defined in SAML, the same <Subject> element is repeated here since this is a different statement from the <AuthenticationStatement>. The valid settings for this could include \u201cKids Only\u201d, \u201cYoung Teen\u201d, and \u201cMature Teen.\u201d If this attribute is not present, the account may be unrestricted. An example statement is:",{"@attributes":{"id":"p-0079","num":"0079"},"tables":{"@attributes":{"id":"TABLE-US-00014","num":"00014"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{},"<saml:Attribute AttributeName=\u201dParentalControl\u201d"]},{"entry":[{},{},"\u2003\u2002AttributeNamespace=\u201dhttp:\/\/schemas.aol.com\u201d>"]},{"entry":[{},{},"\u2003\u2002<saml:AttributeValue>Mature Teen<\/saml:AttributeValue>"]},{"entry":[{},{},"<\/saml:Attribute>."]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"When device authentication, which will be discussed in more detail below, is used, a product code (e.g., the universal product code (UPC)) for the device may be included in an <AttributeStatement> within the assertion generated for the discovery service. It may, however, be excluded in subsequent authentication events.","In particular implementations, a specialized authentication context may be used when a specific device that has been associated with a user account has authenticated over a protected transport (e.g., TLS). Such an authentication context is available from AOL as a schema entitled \u201cAssociatedDeviceProtectedTransport.\u201d This token may be used when the device has initiated device authentication. One of the existing Liberty Alliance authentication contexts may also be used.","For data validation, assertions may be signed by the issuer (e.g., the authentication authority). As with the Liberty Alliance specifications, signed XML entities may adhere to the \u201cXML Signature Profile\u201d constraints.","In certain implementations, keyed-hash message authentication code (HMAC) digital signatures may be used for same-issuer to same-provider assertions. To implement this, calls similar to those in user-agent service (UAS) for maintaining signatures may be used. In other implementations, public-key signatures may be used. In particular implementations, besides the assertion itself, messages may not be signed. For example, the assertion may be treated as a bearer token, and the communications path and the bearer may be trusted to ensure that the token is not stolen.","Because of its flexibility, SOAP-implemented request and response messages may have a variety of formats. An example of a SOAP-implemented request message is:",{"@attributes":{"id":"p-0085","num":"0085"},"tables":{"@attributes":{"id":"TABLE-US-00015","num":"00015"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<?xml version=\u20331.0\u2033 encoding=\u2033utf-8\u2033 ?>"},{"entry":"<S:Envelope"},{"entry":"\u2003\u2002xmlns:S=\u2033http:\/\/schemas.xmlsoap.org\/soap\/envelope\/\u2033"},{"entry":"\u2003\u2002xmlns:aol=\u2033http:\/\/schemas.aol.com\/soap\/devices-1.0\u2033"},{"entry":"\u2003\u2002xmlns:sb=\u2033urn:liberty:wsf:soap-bind:1.0\u2033"},{"entry":"\u2003\u2002xmlns:wsse=\u2033http:\/\/schemas.xmlsoap.org\/ws\/2002\/06\/secext\u2033>"},{"entry":"\u2003\u2002<S:Header>"},{"entry":"\u2003\u2003\u2003<sb:Correlation S:mustUnderstand=\u20331\u2033"},{"entry":"\u2003\u2003\u2003\u2003\u2002messageID=\u2033uuid:00123-ad32-23-09923-88239\u2033"},{"entry":"\u2003\u2003\u2003\u2003\u2002timestamp=\u20332003-06-06T12:10:10Z\u2033 \/>"},{"entry":"\u2003\u2003\u2003<aol:DeviceType name=\u201dDMA Device\u201d man=\u201dAOL\u201d"},{"entry":"\u2003\u2003\u2003version=\u201d1.0\u201d \/>"},{"entry":"\u2003\u2003\u2003<wsse:Security>"},{"entry":"\u2003\u2003\u2003\u2003\u2002<saml:Assertion xlmns:saml=\u201durn:oasis:names:tc:SAML:1.0:"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003assertion\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003AssertionID=\u201d2323sadf2asdf8h9423h\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003Issuer=\u201ddiscovery.aol.com\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003. . ."},{"entry":"\u2003\u2003\u2003\u2003\u2002<\/saml:Assertion>"},{"entry":"\u2003\u2003\u2003<\/wsse:Security>"},{"entry":"\u2003\u2002<\/S:Header>"},{"entry":"\u2003\u2002<S:Body>"},{"entry":"\u2003\u2003\u2003Request Messages go here"},{"entry":"\u2003\u2002<\/S:Body>"},{"entry":"<\/S:Envelope>."},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"br":{}},{"@attributes":{"id":"p-0086","num":"0086"},"tables":{"@attributes":{"id":"TABLE-US-00016","num":"00016"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<?xml version=\u20331.0\u2033 encoding=\u2033utf-8\u2033 ?>"]},{"entry":[{},"<S:Envelope"]},{"entry":[{},"\u2003\u2002xmlns:S=\u2033http:\/\/schemas.xmlsoap.org\/soap\/envelope\/\u2033"]},{"entry":[{},"\u2003\u2002xmlns:aol=\u2033xxxxxxx\u2033"]},{"entry":[{},"\u2003\u2002xmlns:sb=\u2033urn:liberty:wsf:soap-bind:1.0\u2033"]},{"entry":[{},"\u2003\u2002xmlns:wsse=\u2033http:\/\/schemas.xmlsoap.org\/ws\/2002\/06\/secext\u2033>"]},{"entry":[{},"\u2003\u2002<S:Header>"]},{"entry":[{},"\u2003\u2003\u2003<sb:Correlation mustUnderstand=\u20331\u2033"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2002messageID=\u201duuid:0023923-28329023-238239023\u201d"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2002refToMessageID=\u2033uuid:00123-ad32-23-09923-88239\u2033"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2002timestamp=\u20332003-06-06T12:10:10Z\u2033 \/>"]},{"entry":[{},"\u2003\u2003\u2003<aol:ServiceSessionContext mustUnderstand=\u201d1\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2002Session Context Information here (base64 encoded)"]},{"entry":[{},"\u2003\u2003\u2003<\/aol:ServiceSessionContext>"]},{"entry":[{},"\u2003\u2002<\/S:Header>"]},{"entry":[{},"\u2003\u2002<S:Body>"]},{"entry":[{},"\u2003\u2003\u2003Response data goes here"]},{"entry":[{},"\u2003\u2002<\/S:Body>"]},{"entry":[{},"<\/S:Envelope>."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},"The response message is thus tied to the request message. However, there may be several differences between the request and the response. For example, the messageID attribute data from the request is contained within the refToMessageID attribute in the response. This is how requests and responses are paired together. As another example, the response includes its own messageID attribute, should the recipient (i.e., the requestor) need to refer to this message in a subsequent message to the other device. Also, there is no <wsse:Security> header in a response. The response only goes to the requestor, so there is no need to authenticate the user back to the requestor. As a further example, the response includes a <ServiceSessionContext> header, which may be included on subsequent requests made to the same service provider.","Body section  of message  includes the service request and\/or the response to such a request. The individual requests are identified and responses are defined by each respective service.","For enhanced security, messages may be submitted over a secure channel, typically Secure Sockets Layer (SSL), such that they are not susceptible to man-in-the-middle attacks and they do not expose potentially dangerous information. Replay attacks may be prevented through the combination of the SSL-protected communications path in conjunction with non-reusable message identifiers in the correlation header of each message.","In particular implementations, an authentication service validates the authentication credentials provided by the user interface device and generates security tokens used within the framework to obtain access to services. The authentication process takes place over a series of messages and varies depending upon whether a user or a user interface device is being authenticated. The authentication may be based on the Liberty Alliance's Simple Authentication and Security Layer (SASL) authentication specification, although various clarifications\/extensions may be used.","For example, the supported authentication methods may be limited (e.g., CRAM-MD5, SECURID, and PLAIN). Also, the authentication process may be extended, with the inclusion of a new element <AuthRequest>, which may contain the authentication request (wrapping the SASLRequest). This element may contain the attributes shown in Table 5.",{"@attributes":{"id":"p-0092","num":"0092"},"tables":{"@attributes":{"id":"TABLE-US-00017","num":"00017"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 5"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Sample Attributes for Authentication Request"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Attribute","Type","Usage"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["User","Optional","Specifies the \u201cname\u201d of the entity that is to be"]},{"entry":[{},{},"authenticated in this session. For a user, this"]},{"entry":[{},{},"would typically be their login ID. This is used"]},{"entry":[{},{},"when the authentication technique will vary on a"]},{"entry":[{},{},"user-by-user basis and the server may use this"]},{"entry":[{},{},"information to specify to the client which"]},{"entry":[{},{},"authentication method should be selected (for"]},{"entry":[{},{},"example, a user may have specified that they"]},{"entry":[{},{},"should be authenticated using a SecurID method"]},{"entry":[{},{},"while other users use a simple password"]},{"entry":[{},{},"mechanism)."]},{"entry":["devUPC","Optional","Specifies the UPC code for a device (which"]},{"entry":[{},{},"uniquely identifies the manufacturer and model of"]},{"entry":[{},{},"device). This is only included when the device"]},{"entry":[{},{},"itself is authenticating to the service (as opposed"]},{"entry":[{},{},"to a user authenticating on the device)."]},{"entry":["DevSN","Optional","The serial number for the device being"]},{"entry":[{},{},"authenticated. This should be present if"]},{"entry":[{},{},"\u201cdevUPC\u201d is specified. The value should be"]},{"entry":[{},{},"unique for all devices claiming the same UPC"]},{"entry":[{},{},"code."]},{"entry":["Renew","Optional","If present and set to true, this indicates that the"]},{"entry":[{},{},"request is a token renewal request and the"]},{"entry":[{},{},"expiring token should be included on the request"]},{"entry":[{},{},"within the SOAP headers. The server need not"]},{"entry":[{},{},"fulfill the renewal request, at which time the"]},{"entry":[{},{},"device should initiate a new authentication"]},{"entry":[{},{},"process. When a renewal is requested, no other"]},{"entry":[{},{},"information within the <AuthRequest> is needed."]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}}},"For an authentication token renewal, the <AuthRequest> element may have the \u201crenew\u201d attribute set to true and no sub-elements. Otherwise, <AuthRequest> element may have one <SASLRequest> element and may contain zero or more <PasswordProc> elements.","The contexts\/usage for the <PasswordProc> element is described in more detail below. In general, the <PasswordProc> elements are used on a request when the requested authentication method is a \u201cproof-of-possession\u201d type of authentication, and the service has implemented some level of password massaging prior to performing a comparison. Without the <PasswordProc> directives, password-based authentication may be restricted to PLAIN, so that the service may perform the massaging itself.","A new header element\u2014<AuthResponse>\u2014may be added to contain the service response to the <AuthRequest>. The response may include one <SASLResponse> and may include zero or more instances of the <PasswordProc> element that is described below.","The <PasswordProc> directives are designed to allow both the requestor and the responder to use the same rules for processing the password prior to using the password in the authentication calculations. If both sides are not using the same directives, it is likely that the two will have trouble matching the data in proof-of-possession type authentication methods. Table 6 illustrates the attributes that may be used when password processing is needed. However, if neither side does any processing and uses the literal input provided by the user, none of these directives may be necessary. In these instances, the <PasswordProc> element may be omitted.",{"@attributes":{"id":"p-0097","num":"0097"},"tables":{"@attributes":{"id":"TABLE-US-00018","num":"00018"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 6"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Example Attributes for Password Processing Element"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Direc-",{}]},{"entry":["tive","Usage"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Trun-","Truncate the password to the specified length. The following"]},{"entry":["cate","attributes may be supported:"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Attribute","Type","Usage"]},{"entry":[{},"length","Req.","The length at which the password"]},{"entry":[{},{},{},"is truncated."]},{"entry":[{},"order","Opt.","Specifies the relative order in"]},{"entry":[{},{},{},"which the directive should be"]},{"entry":[{},{},{},"processed."]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Example: <Truncate length=\u201d8\u201d \/> which will truncate the"]},{"entry":[{},"password to 8 characters."]},{"entry":["LimitTo","Limit the characters in the password to the characters specified"]},{"entry":[{},"in the list, dropping all others. The following attributes may be"]},{"entry":[{},"supported:"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Attribute","Type","Usage"]},{"entry":[{},"list","Req.","The list of allowed characters in"]},{"entry":[{},{},{},"the password. Any characters"]},{"entry":[{},{},{},"entered by the user that are not in"]},{"entry":[{},{},{},"this list will be dropped."]},{"entry":[{},"order","Opt.","Specifies the relative order in"]},{"entry":[{},{},{},"which the directive should be"]},{"entry":[{},{},{},"processed."]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Example: <LimitTo list=\u201c[a-z][0-9]\u201d \/> which limits the output"]},{"entry":[{},"to lower case alphabetic and numeric characters. If the user"]},{"entry":[{},"entered \u201cTh*5Pass\u201d, and this was the only directive, the"]},{"entry":[{},"password used would be \u201ch5ass\u201d."]},{"entry":[{},"The data in these lists should be entitized according to the XML"]},{"entry":[{},"specification (e.g., \u201c&#32\u201d for an ASCII space)."]},{"entry":["Map","Map (convert) characters in one list to the characters in the same"]},{"entry":[{},"relative position in a second list. This is frequently used to do"]},{"entry":[{},"things like map upper case characters to lower case or map non-"]},{"entry":[{},"printable characters to printable characters. In general, it is"]},{"entry":[{},"usually better from a security point of view to map characters"]},{"entry":[{},"using this directive rather than dropping characters using the"]},{"entry":[{},"\u201cLimitTo\u201d directive. The following attributes may be supported:"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Attribute","Type","Usage"]},{"entry":[{},"FromList","Req.","The characters to be mapped. If a"]},{"entry":[{},{},{},"character in this list appears in"]},{"entry":[{},{},{},"the password, it is replaced with"]},{"entry":[{},{},{},"the character in the same relative"]},{"entry":[{},{},{},"position in \u201ctoList\u201d."]},{"entry":[{},"ToList","Req.","The list of replacement characters."]},{"entry":[{},"Order","Opt.","Specifies the relative order in"]},{"entry":[{},{},{},"which the directive should be"]},{"entry":[{},{},{},"processed."]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"The data in these lists should be entitized according to the XML"]},{"entry":[{},"specification (e.g. \u201c&#32\u201d for an ASCII space). Both lists may"]},{"entry":[{},"also contain ranges specified using the form \u201c[range_start-"]},{"entry":[{},"range_end]\u201d (e.g. \u201c[a-z]\u201d to mean the range of characters from"]},{"entry":[{},"\u201ca\u201d to \u201cz\u201d). Both lists may have the exact same number of"]},{"entry":[{},"characters (following decoding and range expansion). Example:"]},{"entry":[{},"<Map fromList=\u201d[A-Z]\u201d toList=\u201d[a-z]\u201d \/> will map all upper"]},{"entry":[{},"case ASCII characters to lower case."]},{"entry":["None","Explicit indication that no password processing is needed or"]},{"entry":[{},"supported. This is typically used by the user interface device"]},{"entry":[{},"when initiating an authentication where it is unable to support"]},{"entry":[{},"any of the password processing rules (so the service should"]},{"entry":[{},"choose a mechanism that does not require such processing)."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},"The directives should be applied in the order specified in the \u201corder\u201d attribute (e.g., if truncate is first in the list, truncation is performed before applying subsequent rules). If the \u201corder\u201d attribute is missing, or if there are multiple elements that have the same value for \u201corder\u201d, the order in which those elements are processed relative to each other is undefined. Otherwise, the element with the lowest relative value will be processed first, followed by the element with the next lowest value.","An example set of process directives is:",{"@attributes":{"id":"p-0100","num":"0100"},"tables":{"@attributes":{"id":"TABLE-US-00019","num":"00019"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<PasswordProc>"]},{"entry":[{},"\u2003\u2002<Map fromList=\u201d[A-Z]\u201d toList=\u201d[a-z]\u201d order=\u201d1\u201d \/>"]},{"entry":[{},"\u2003\u2002<LimitTo list=\u201d[a-z][0-9]\u201d order=\u201d2\u201d \/>"]},{"entry":[{},"\u2003\u2002<Truncate length=\u201d8\u201d order=\u201d3\u201d \/>"]},{"entry":[{},"<\/PasswordProc>."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}},"br":{}},"Additionally, the SASL mechanisms in the <SASLResponse> may be moved from the value area of the element to a \u201cmechanism\u201d attribute. Thus, it does not conflict with the location of challenge data that may be stored in the value area of the response.","Authentication security tokens generated by the authentication service may have relatively short validity periods. The periods may typically be much shorter than some of the user interface device sessions (e.g., even with tokens good for 24 hours, many devices may be \u201calways-on\u201d and, thus, never \u201clog-out\u201d). The user interface device has several options to deal with this situation, for example, re-authentication and renewal. For re-authentication, when the user interface device needs to invoke further services and the validity period has expired, the user interface device initiates the authentication process again to obtain a new security token, by again presenting the authentication credentials. For renewal, the user interface device submits a renewal request to the authentication service, which should take place before the end of the validity period for the token, although the authentication service may choose to accept an expired token within a narrow window following the validity period. The user interface device is expected to monitor the validity period of the security tokens obtained through the authentication process, and, if it needs to continue operations in which it would submit requests beyond the defined period, the user interface device should submit a renewal prior to the expiration of the validity period. Because different systems may have time clocks that are out of sync, the renewal request should be submitted early enough to reasonably ensure that time-sync issues do not cause a failure for the renewal. If a renewal fails, perhaps because the service has chosen not to renew the request (e.g., the service may choose to only renew a token X times), and the user interface device does have a request that it needs to submit, the device will need to initiate the full authentication process to re-authenticate using its credentials.","User authentication may be handled somewhat differently than device authentication. For consumer electronic devices, user authentication is typically only needed for the device registration step and will frequently be performed by the user via some alternative means (e.g., web registration or phone registration). Once the device is associated with a user account, most actions will probably take place via the device authentication process. But there may be cases, such as high-valued transactions like product purchases, where a user authentication may be necessary even though the device has already been authenticated, and there may be advanced devices that will perform the device association process directly. Thus, user authentication should be supported by the service.","The user authentication process varies depending upon the information known by the user interface device at the time the authentication is initiated. For example, the user interface device may have authenticated the user to the same authentication service previously; hence, the user interface device would likely remember how the user authenticated previously and attempt to perform the same authentication again directly, rather than negotiating the type of authentication to be used.","The following discussion illustrates an example of the negotiation process that could be performed for the initial authentication on a particular user interface device and how this could change for subsequent authentications on the same user interface device. The negotiation process involves a series of messages in which the method of authentication is negotiated and the appropriate credentials are provided to authenticate the user. In the example, the data that would be contained in the body of the SOAP message is shown. Other data, such as that in the SOAP headers (e.g., the correlation header) is removed for brevity. Later examples will show a complete set of messages, including the SOAP bindings.","When beginning to request a service, the user interface device initiates an authentication with the authentication service, typically with the mechanism attribute set to a list of supported methods. An example of the message is:",{"@attributes":{"id":"p-0107","num":"0107"},"tables":{"@attributes":{"id":"TABLE-US-00020","num":"00020"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003","<aol:AuthRequest user=\u201dConor\u201d>"]},{"entry":[{},"\u2003\u2002<SASLRequest mechanisms=\u201dCRAM-MD5 PLAIN\u201d \/>"]},{"entry":[{},"<\/aol:AuthRequest>"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}},"br":{}},"The authentication service responds to the user interface device with a message indicating the method that it has selected to be used for authentication in the mechanism attribute (e.g., mechanism=\u201cCRAM-MD5\u201d). If the method requires a challenge value, the challenge may be included, possibly with base-64 encoding, as the value of the <SASLResponse> sub-element.","The authentication service may also include one or more password processing directives in the response in the <PasswordProc> element in the <AuthResponse> element. An example <AuthResponse> element is:",{"@attributes":{"id":"p-0110","num":"0110"},"tables":{"@attributes":{"id":"TABLE-US-00021","num":"00021"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003","<aol:AuthResponse>"]},{"entry":[{},"\u2003\u2002<PasswordProc>"]},{"entry":[{},"\u2003\u2003\u2003<Map fromList=\u201d[A-Z]\u201d toList=\u201d[a-z]\u201d order=\u201d1\u201d \/>"]},{"entry":[{},"\u2003\u2003\u2003<LimitTo list=\u201d[a-z][0-9]\u201d order=\u201d2\u201d \/>"]},{"entry":[{},"\u2003\u2003\u2003<Truncate length=\u201d8\u201d order=\u201d3\u201d\/>"]},{"entry":[{},"\u2003\u2002<\/PasswordProc>"]},{"entry":[{},"\u2003\u2003\u2003<SASLResponse mechanisms=\u201dCRAM-MD5\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2002<Status code=\u201dcontinue\u201d \/>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2002923992ad4d2 . . ."]},{"entry":[{},"\u2003\u2003\u2003<\/SASLResponse>"]},{"entry":[{},"\u2003\u2002<\/aol:AuthResponse>."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}},"br":{}},"The user interface device processes the password as indicated by the service and returns the results to the server. An example of the authorization request is:",{"@attributes":{"id":"p-0112","num":"0112"},"tables":{"@attributes":{"id":"TABLE-US-00022","num":"00022"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{},"<aol:AuthRequest>"]},{"entry":[{},{},"\u2003\u2002<SASLRequest mechanisms=\u201dCRAM-MD5\u201d>"]},{"entry":[{},{},"\u2003\u2003\u2003A87B3237d73282 . . ."]},{"entry":[{},{},"\u2003\u2002<\/SASLRequest>"]},{"entry":[{},{},"<\/aol:AuthRequest>."]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"The authentication service then validates the credentials provided by the user interface device and generates a security token to be used for subsequent requests from the device. The security token and discovery service bootstrap are then provided to the device. An example of this response is:",{"@attributes":{"id":"p-0114","num":"0114"},"tables":{"@attributes":{"id":"TABLE-US-00023","num":"00023"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<aol:AuthResponse>"]},{"entry":[{},"\u2003<SASLResponse>"]},{"entry":[{},"\u2003\u2003<Status code=\u201dsuccess\u201d \/>"]},{"entry":[{},"\u2003\u2003<Credential>"]},{"entry":[{},"\u2003\u2003\u2003<lib:Assertion ID=\u201d1\u201d>"]},{"entry":[{},"\u2003\u2003\u2003<\/lib:Assertion>"]},{"entry":[{},"\u2003\u2003<\/Credential>"]},{"entry":[{},"\u2003\u2003<ResourceOffering>"]},{"entry":[{},"\u2003\u2003\u2003<ResourceID>urn:liberty:isf:implied-resource<\/ResourceID>"]},{"entry":[{},"\u2003\u2003\u2003<ServiceInstance>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<ServiceType>urn:liberty:disco:2003-08<\/ServiceType>"]},{"entry":[{},"\u2003\u2003\u2003<ProviderID>http:\/\/discovery.aol.com<\/ProviderID>"]},{"entry":[{},"\u2003\u2003\u2003<Description CredentialRef=\u201d1\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<SecurityMechID> . . . <\/SecurityMechID>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<Endpoint>https:\/\/discovery.aol.com<\/EndPoint>"]},{"entry":[{},"\u2003\u2003\u2003<\/Description>"]},{"entry":[{},"\u2003\u2003\u2003<\/ServiceInstance>"]},{"entry":[{},"\u2003\u2003<\/ResourceOffering>"]},{"entry":[{},"\u2003<\/SASLResponse>"]},{"entry":[{},"<\/aol:AuthResponse>."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}},"br":{}},"At some point later, preferably prior to the token's expiration, the user interface device may submit a renewal request. An example renewal request is:\n\n","It should be noted that there are different ways to perform the authentication operations. However, in many cases, especially those that are designed around a challenge-response mechanism, the operations just discussed may be required.","In the case of authentication methods that do not require the service-provided challenge, such as PLAIN, the user interface device may initiate the process directly to the service with an <AuthRequest> that submits the information on the first message. For example, the following message initiates a PLAIN authentication:",{"@attributes":{"id":"p-0118","num":"0119"},"tables":{"@attributes":{"id":"TABLE-US-00024","num":"00024"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{},"<aol:AuthRequest>"]},{"entry":[{},{},"\u2003<SASLRequest mechanisms=\u201dPLAIN\u201d>"]},{"entry":[{},{},"\u2003UserID%00%00Password"]},{"entry":[{},{},"\u2003<\/SASLRequest>"]},{"entry":[{},{},"<\/aol:AuthRequest>."]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"Device authentication may differ from user authentication in that it is the device itself that is being authenticated and then provided with access to services that the user has associated with that device. This may prevent the user interface device from having to store user credentials and provides the user interface device access to the services for which the user has performed an association. The device association process may be performed by one of a variety of well-known techniques.","Each user interface device may be uniquely identified in order for the authentication to be more secure. The Universal Plug and Play (UPnP) recommendation of using a UPC code in conjunction with a serial number to identify the device may provide such an identification scheme. In this implementation, the device serial number should be non-volatile and not changeable by the user.","In cases where the serial number is not available electronically, the device may use the hardware assigned Media Access Control (MAC) address of the network interface as its serial number. In such a case, the device should ensure that it always uses the MAC address from the same network interface and that the user cannot change the value used by the device. If the device allows the user to change the MAC address, as many routers do, the user interface device may use the originally-assigned MAC address as its identifier, even though it may be using a user-assigned MAC address on the network.","With more advanced devices, such as those that contain a smart card or those that have an embedded X.509 certificate, the device may be identified using information in the certificate\/smart card.","In general, user interface devices may use any of the available authentication methods to authenticate. The specific method chosen will depend upon the capabilities of the device (e.g., whether or not it has an X.509 certificate).","Devices not containing enhanced security tokens that may be used for authentication may be authenticated using a password assigned to the manufacturer for that specific model of device (on a per-UPC code basis). Such devices may use the CRAM-MD5 algorithm for authentication.","For the authentication process for a device using the assigned password authentication, the device may initiate an authentication with the authentication server, usually with the mechanism attribute set to a list of supported methods. An example of the message body is:",{"@attributes":{"id":"p-0126","num":"0127"},"tables":{"@attributes":{"id":"TABLE-US-00025","num":"00025"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<aol:AuthRequest devUPC=\u201d123456789012\u201d devSN=\u201d132398239\u201d>"]},{"entry":[{},"\u2003<SASLRequest mechanisms=\u201dCRAM-MD5 PLAIN\u201d \/>"]},{"entry":[{},"<\/aol:AuthRequest>."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}},"br":{}},"In the case where the user interface device supports multiple users, such as a stereo receiver that has a different set of presets and stations for different users, the device may include the \u201cuser\u201d attribute on the request to specify the user who is attempting to access the service at this point. In such a case, a request may look something like:",{"@attributes":{"id":"p-0128","num":"0129"},"tables":{"@attributes":{"id":"TABLE-US-00026","num":"00026"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<aol:AuthRequest user=\u201dConor\u201d devUPC=\u201d123456789012\u201d "]},{"entry":[{},"devSN=\u201d132398239\u201d>"]},{"entry":[{},"\u2003<SASLRequest mechanisms=\u201dCRAM-MD5 PLAIN\u201d \/>"]},{"entry":[{},"<\/aol:AuthRequest>."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}},"br":{}},"The authentication service responds to the user interface device with a message indicating the method that the service has selected for authentication in the mechanism attribute (e.g., mechanism=\u201cCRAM-MD5\u201d). If the method requires a challenge value, the challenge, typically base-64 encoded, may be provided as the value of the <SASLResponse> sub-element. The authentication service may not use any <PasswordProc> directives when authenticating a device. An example <AuthResponse> is:",{"@attributes":{"id":"p-0130","num":"0131"},"tables":{"@attributes":{"id":"TABLE-US-00027","num":"00027"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{},"<aol:AuthResponse>"]},{"entry":[{},{},"\u2003<SASLResponse mechanisms=\u201dCRAM-MD5\u201d>"]},{"entry":[{},{},"\u2003\u2003<Status code=\u201dcontinue\u201d \/>"]},{"entry":[{},{},"\u2003\u2003923992ad4d2 . . ."]},{"entry":[{},{},"\u2003<\/SASLResponse>"]},{"entry":[{},{},"<\/aol:AuthResponse>."]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"The user interface device may then perform the next step in the authentication mechanism\u2014providing authentication proof to the authentication service. For the above example, the device processes the challenge data with the password and submits a new request to the service, which includes the results of that process. An example of this request is:",{"@attributes":{"id":"p-0132","num":"0133"},"tables":{"@attributes":{"id":"TABLE-US-00028","num":"00028"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{},"<aol:AuthRequest>"]},{"entry":[{},{},"\u2003<SASLRequest mechanisms=\u201dCRAM-MD5\u201d>"]},{"entry":[{},{},"\u2003\u2003A87B3237d73282 . . ."]},{"entry":[{},{},"\u2003<\/SASLRequest>"]},{"entry":[{},{},"<\/aol:AuthRequest>."]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"The authentication service may then validate the credentials provided by the device, generate a security token to be used for subsequent requests from the device, and provide the security token to the device. An example of a message conveying a security token and discovery service bootstrap to the device is:",{"@attributes":{"id":"p-0134","num":"0135"},"tables":{"@attributes":{"id":"TABLE-US-00029","num":"00029"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<aol:AuthResponse>"]},{"entry":[{},"\u2003<sa:SASLResponse>"]},{"entry":[{},"\u2003\u2003<sa:Status code=\u201dsuccess\u201d \/>"]},{"entry":[{},"\u2003\u2003<sa:Credential>"]},{"entry":[{},"\u2003\u2003\u2003<lib:Assertion ID=\u201d1\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003Assertion data goes here."]},{"entry":[{},"\u2003\u2003\u2003<\/lib:Assertion>"]},{"entry":[{},"\u2003\u2003<\/sa:Credential>"]},{"entry":[{},"\u2003\u2003<disco:ResourceOffering>"]},{"entry":[{},"\u2003\u2003\u2003<disco:ResourceID>urn:liberty:isf:implied-"]},{"entry":[{},"\u2003\u2003\u2003resource<\/disco:ResourceID>"]},{"entry":[{},"\u2003\u2003\u2003<disco:ServiceInstance>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<disco:ServiceType>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003urn:liberty:disco:2003-08"]},{"entry":[{},"\u2003\u2003\u2003\u2003<\/disco:ServiceType>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<disco:ProviderID>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003http:\/\/discovery.aol.com"]},{"entry":[{},"\u2003\u2003\u2003\u2003<\/disco:ProviderID>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<disco:Description CredentialRef=\u201d1\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003<disco:SecurityMechID> . . . <\/disco:SecurityMechID>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003<disco:Endpoint>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003https:\/\/discovery.aol.com"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003<\/disco:EndPoint>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<\/disco:Description>"]},{"entry":[{},"\u2003\u2003\u2003<\/disco:ServiceInstance>"]},{"entry":[{},"\u2003\u2003<\/disco:ResourceOffering>"]},{"entry":[{},"\u2003<\/sa:SASLResponse>"]},{"entry":[{},"<\/aol:AuthResponse>."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}},"br":{}},"Service discovery may then be performed. Service discovery allows the user interface device to determine how to communicate with the service provider and to obtain the token(s) necessary to authenticate the user at that service.","The process and protocols may, in general, be based upon the Liberty Alliance discovery service and security techniques. In certain implementations, various procedures may be made used. For example, requests may return security credentials to be included on the subsequent service requests. Once a connection has been established to a particular service, this may be accomplished by using a <ServiceSessionContext>, to maintain information for subsequent requests in the same session. For certain services, the <ResourceID> element may contain \u201curn:liberty:isf:implied-resource\u201d because the security token in the header will identify the resource being accessed. This may allow <EncryptedResourceID> element not to be used. However, devices may pass whichever of these elements appears in the <ResourceOffering> to the service being invoked. As a further example, a different security mechanism may be used. This security mechanism may use TLS to authenticate the service and to provide confidentiality of the messages while a bearer token is used to authenticate the message itself. Such a security mechanism is available from AOL.","In certain implementations, the <Modify> entry point, nor its <InsertEntry> and <RemoveEntry> interfaces, may not be exposed. Thus, discovery updates may have to take place through other techniques. Also, \u201coptions\u201d sub-element on the <RequestedServiceType> element may not be used.","In order to access a service, including the discovery service itself, the user interface device may know a substantial amount of information, which may be referred to as the resource offering. The resource offering typically contains two key pieces of data: 1) an identifier for the resource being accessed; and 2) a description of the service being accessed.","An example resource offering for a service is:",{"@attributes":{"id":"p-0140","num":"0141"},"tables":{"@attributes":{"id":"TABLE-US-00030","num":"00030"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{},"<ResourceOffering>"]},{"entry":[{},{},"\u2003<ResourceID>urn:liberty:isf:implied-resource<ResourceID>"]},{"entry":[{},{},"\u2003<ServiceInstance>"]},{"entry":[{},{},"\u2003\u2003<ServiceType>urn:aol-com:services:radio<\/ServiceType>"]},{"entry":[{},{},"\u2003\u2003<ProviderID>http:\/\/radio.aol.com\/<\/ProviderID>"]},{"entry":[{},{},"\u2003\u2003<Description>"]},{"entry":[{},{},"\u2003\u2003\u2003<SecurityMechID>"]},{"entry":[{},{},"\u2003\u2003\u2003\u2003http:\/\/ws.aol.com\/security\/2003-11:TLS:bearer"]},{"entry":[{},{},"\u2003\u2003\u2003<\/SecurityMechID>"]},{"entry":[{},{},"\u2003\u2003\u2003<Endpoint>https:\/\/radio.aol.com\/<\/Endpoint>"]},{"entry":[{},{},"\u2003\u2003<\/Description>"]},{"entry":[{},{},"\u2003<\/ServiceInstance>"]},{"entry":[{},{},"<\/ResourceOffering>."]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"With the information provided, a user interface device will know to send messages to the <Endpoint> for the service <ServiceType> (which also defines the messages that will be accepted there) and knows the required\/accepted security mechanisms at that service. If additional information is needed, the <ProviderID> may be used to lookup meta-data associated with the provider.","An API for the discovery service may be based on the Liberty Alliance configuration. However, not all services\/features of the configuration have to be implemented. The following will describe one implementation of a discovery service API.","A service discovery request may be used to obtain a security token and communications information in order invoke a service. In particular implementations, the request may include a security token that authenticates the requestor and also identifies the user whose information is being accessed.","The discovery service may be located using the <ResourceOffering> that was included with the response to the initial user authentication. An example of the <Body> of a service discovery request is:",{"@attributes":{"id":"p-0145","num":"0146"},"tables":{"@attributes":{"id":"TABLE-US-00031","num":"00031"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{},"<Query>"]},{"entry":[{},{},"\u2003<ResourceID> urn:liberty:isf:implied-resource<\/ResourceID>"]},{"entry":[{},{},"\u2003<RequestedServiceType>"]},{"entry":[{},{},"\u2003\u2003<ServiceType>urn:aol-com:services:radio<\/ServiceType>"]},{"entry":[{},{},"\u2003<\/RequestedServiceType>"]},{"entry":[{},{},"<Query>."]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"A typical response to such a request is:",{"@attributes":{"id":"p-0147","num":"0148"},"tables":{"@attributes":{"id":"TABLE-US-00032","num":"00032"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<QueryResponse>"]},{"entry":[{},"\u2003<Status code=\u201dOK\u201d>"]},{"entry":[{},"\u2003<ResourceOffering EntryID=\u201d1\u201d>"]},{"entry":[{},"\u2003\u2003<ResourceID>urn:liberty:isf:implied-resource<ResourceID>"]},{"entry":[{},"\u2003\u2003<ServiceInstance>"]},{"entry":[{},"\u2003\u2003\u2003<ServiceType>urn:aol-com:services:radio<\/ServiceType>"]},{"entry":[{},"\u2003\u2003\u2003<ProviderID>http:\/\/radio.aol.com\/<\/ProviderID>"]},{"entry":[{},"\u2003\u2003\u2003<Description CredentialRef=\u201d1\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<SecurityMechID>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003http:\/\/ws.aol.com\/security\/2003-11:TLS:bearer"]},{"entry":[{},"\u2003\u2003\u2003\u2003<\/SecurityMechID>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<Endpoint>https:\/\/radio.aol.com\/<\/Endpoint>"]},{"entry":[{},"\u2003\u2003\u2003<\/Description>"]},{"entry":[{},"\u2003\u2003<\/ServiceInstance>"]},{"entry":[{},"\u2003<\/ResourceOffering>"]},{"entry":[{},"\u2003<Credentials>"]},{"entry":[{},"\u2003\u2003<lib:Assertion AssertionID=\u201d1\u201d>"]},{"entry":[{},"\u2003\u2003\u2003Assertion data"]},{"entry":[{},"\u2003\u2003<\/lib:Assertion>"]},{"entry":[{},"\u2003<\/Credentials>"]},{"entry":[{},"<\/QueryResponse>."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}},"br":{}},"After discovering services, a user interface device may perform service invocation. Service invocation involves taking the information returned from the discovery service and using the information to invoke the requested service.","The following discusses the structure for making a service invocation request, but not the details involved with each service provider. The details for a particular service provider may be found in the service specification for the service provider. These specifications may also define the actual APIs that are exposed by the service provider. The framework under discussion, however, may provide a structure for calling a wide variety, if not most, service providers.","As described earlier, the process for invoking a service generally involves authenticating a user, locating a service provider, and obtaining security credentials to be used to access the service. The following is an example of a service discovery response:",{"@attributes":{"id":"p-0151","num":"0152"},"tables":{"@attributes":{"id":"TABLE-US-00033","num":"00033"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<QueryResponse>"]},{"entry":[{},"\u2003<Status code=\u201dOK\u201d>"]},{"entry":[{},"\u2003<ResourceOffering EntryID=\u201d1\u201d>"]},{"entry":[{},"\u2003\u2003<ResourceID>urn:liberty:isf:implied-resource<ResourceID>"]},{"entry":[{},"\u2003\u2003<ServiceInstance>"]},{"entry":[{},"\u2003\u2003\u2003<ServiceType>urn:aol-com:services:radio<\/ServiceType>"]},{"entry":[{},"\u2003\u2003\u2003<ProviderID>http:\/\/radio.aol.com\/<\/ProviderID>"]},{"entry":[{},"\u2003\u2003\u2003<Description CredentialRef=\u201d1\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003<SecurityMechID>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003http:\/\/ws.aol.com\/security\/2003-11:TLS:bearer"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003<\/SecurityMechID>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003<Endpoint>https:\/\/radio.aol.com\/<\/Endpoint>"]},{"entry":[{},"\u2003\u2003\u2003<\/Description>"]},{"entry":[{},"\u2003\u2003<\/ServiceInstance>"]},{"entry":[{},"\u2003<\/ResourceOffering>"]},{"entry":[{},"\u2003<Credentials>"]},{"entry":[{},"\u2003\u2003<lib:Assertion ID=\u201d1\u201d MajorVersion=\u201c1\u201d MinorVersion=\u201c2\u201d"]},{"entry":[{},"\u2003\u2003\u2003AssertionID=\u201ce06e5a28-bc80-4ba6-9ecb-712949db686e\u201d"]},{"entry":[{},"\u2003\u2003\u2003Issuer=\u201chttp:\/\/idp.aol.com\u201d"]},{"entry":[{},"\u2003\u2003\u2003IssueInstant=\u201c2003-09-29T09:30:47Z\u201d"]},{"entry":[{},"\u2003\u2003\u2003InResponseTo=\u201c4e7c3772-4fa4-4a0f-99e8-7d719ff6067c\u201d>"]},{"entry":[{},"\u2003\u2003\u2003<saml:Conditions NotOnOrAfter=\u201c2003-09-30T09:30:47Z\u201d >"]},{"entry":[{},"\u2003\u2003\u2003\u2003<saml:AudienceRestrictionCondition>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003<saml:Audience>http:\/\/radio.aol.com<\/saml:Audience>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<\/saml:AudienceRestrictionCondition>"]},{"entry":[{},"\u2003\u2003\u2003<\/saml:Conditions>"]},{"entry":[{},"\u2003\u2003\u2003<lib:AuthenticationStatement"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003AuthenticationInstant=\u201c2003-09-29T09:30:20Z\u201d"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003SessionIndex=\u201c1\u201d >"]},{"entry":[{},"\u2003\u2003\u2003\u2003<lib:AuthnContext>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003<lib:AuthnContextClassRef>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003http:\/\/www.projectliberty.org\/ . . . \/"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003PasswordProtectedTransport"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003<\/lib:AuthnContextClassRef>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<\/lib:AuthnContext>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<lib:Subject>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003<saml:NameIdentifier>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003<lib:NameQualifier>http:\/\/aol.com<\/NameQualifier>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003<lib:Format>urn:liberty:iff:nameid:federated<\/Format>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003AOLScreenname"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003<\/saml:NameIdentifier>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<\/lib:Subject>"]},{"entry":[{},"\u2003\u2003\u2003<\/lib:AuthenticationStatement>"]},{"entry":[{},"\u2003\u2003\u2003<ds:Signature>"]},{"entry":[{},"\u2003\u2003\u2003\u2003Signature data goes here"]},{"entry":[{},"\u2003\u2003\u2003<\/ds:Signature>"]},{"entry":[{},"\u2003\u2003<\/lib:Assertion>"]},{"entry":[{},"\u2003<\/Credentials>"]},{"entry":[{},"<\/QueryResponse>."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},"Based on this response, a radio service request could be submitted to the entry point \u201chttps:\/\/radio.aol.com.\u201d The credential pointed to by the \u201cCredentialRef\u201d attribute would be included in the <wsse:Security> header for the message. An example of such a request would be:",{"@attributes":{"id":"p-0153","num":"0154"},"tables":{"@attributes":{"id":"TABLE-US-00034","num":"00034"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<?xml version=\u201c1.0\u201d encoding=\u201cutf-8\u201d ?>"]},{"entry":[{},"<S:Envelope"]},{"entry":[{},"\u2003xmlns:S=\u201chttp:\/\/schemas.xmlsoap.org\/soap\/envelope\/\u201d"]},{"entry":[{},"\u2003xmlns:aol=\u201chttp:\/\/schemas.aol.com\/soap\/devices-1.0\u201d"]},{"entry":[{},"\u2003xmlns:sb=\u201curn:liberty:wsf:soap-bind:1.0\u201d"]},{"entry":[{},"\u2003\u2003xmlns:disco=\u201curn:liberty:disco:2003-08\u201d"]},{"entry":[{},"\u2003xmlns:ds=\u201chttp:\/\/www.w3.org\/2000\/09\/xmldsig#\u201d"]},{"entry":[{},"\u2003xmlns:wsse=\u201chttp:\/\/schemas.xmlsoap.org\/ws\/2002\/06\/secext\u201d>"]},{"entry":[{},"\u2003<S:Header>"]},{"entry":[{},"\u2003\u2003<sb:Correlation S:mustUnderstand=\u201c1\u201d"]},{"entry":[{},"\u2003\u2003\u2003messageID=\u201cuuid:00123-ad32-23-09923-88239\u201d"]},{"entry":[{},"\u2003\u2003\u2003timestamp=\u201c2003-06-06T12:10:10Z\u201d \/>"]},{"entry":[{},"\u2003\u2003<aol:DeviceType name=\u201dDMA Device\u201d man=\u201dAOL\u201d version= "]},{"entry":[{},"\u2003\u2003\u201d1.0\u201d \/>"]},{"entry":[{},"\u2003\u2003<wsse:Security>"]},{"entry":[{},"\u2003\u2003<lib:Assertion ID=\u201d1\u201d MajorVersion=\u201c1\u201d MinorVersion=\u201c2\u201d"]},{"entry":[{},"\u2003\u2003\u2003AssertionID=\u201ce06e5a28-bc80-4ba6-9ecb-712949db686e\u201d"]},{"entry":[{},"\u2003\u2003\u2003Issuer=\u201chttp:\/\/idp.aol.com\u201d"]},{"entry":[{},"\u2003\u2003\u2003\u2003IssueInstant=\u201c2003-09-29T09:30:47Z\u201d"]},{"entry":[{},"\u2003\u2003\u2003\u2003InResponseTo=\u201c4e7c3772-4fa4-4a0f-99e8-7d719ff6067c\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<saml:Conditions NotOnOrAfter=\u201c2003-09-30T09:30:47Z\u201d >"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003<saml:AudienceRestrictionCondition>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003<saml:Audience>http:\/\/radio.aol.com<\/saml:Audience>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003<\/saml:AudienceRestrictionCondition>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<\/saml:Conditions>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<lib:AuthenticationStatement"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003AuthenticationInstant=\u201c2003-09-29T09:30:20Z\u201d"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003SessionIndex=\u201c1\u201d >"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003<lib:AuthnContext>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003<lib:AuthnContextClassRef>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003http:\/\/www.projectliberty.org\/...\/"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003PasswordProtectedTransport"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003<\/lib:AuthnContextClassRef>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003<\/lib:AuthnContext>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003<lib:Subject>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003<saml:NameIdentifier>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:NameQualifier>http:\/\/aol.com<\/NameQualifier>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:Format>urn:liberty:iff:nameid:federated<\/Format>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003AOLScreenname"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:NameIdentifier>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003<saml:SubjectConfirmation>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<saml:ConfirmationMethod>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003urn:oasis:names:tc:SAML:1.0:cm:Bearer"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:ConfirmationMethod>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:SubjectConfirmation>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003<\/lib:Subject>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<\/lib:AuthenticationStatement>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<ds:Signature>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003Signature data goes here"]},{"entry":[{},"\u2003\u2003\u2003\u2003<\/ds:Signature>"]},{"entry":[{},"\u2003\u2003\u2003<\/lib:Assertion>"]},{"entry":[{},"\u2003\u2003<\/wsse:Security>"]},{"entry":[{},"\u2003<S:Header>"]},{"entry":[{},"\u2003<S:Body>"]},{"entry":[{},"\u2003\u2003Request Messages go here"]},{"entry":[{},"\u2003<\/S:Body>"]},{"entry":[{},"<\/S:Envelope>."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}},"br":{}},{"@attributes":{"id":"p-0154","num":"0155"},"figref":["FIG. 3","FIG. 1"],"b":["300","300","140"]},"The basic structure of service provider  allows it to expose two interfaces: 1) a SOAP\/XML command and control API interface  that is built upon the framework API described previously; and 2) zero or more binary data feeds  that are appropriate to the service being delivered to the user interface device. Binary data feeds  may, for example, be an HTTP interface for moving photograph files to\/from the service or an Ultravox protocol for streaming audio\/video to a client. Whatever is appropriate to the service being provisioned may be used, and some services will likely support multiple binary feed types, depending upon the range of clients that they are trying to support. Note, however, that not all services will have the second interface, especially those that are pure text data interfaces, such as an address book or a registration service. In such cases, the data access may also be based upon the framework API.","Service provider  also includes a framework toolkit , which sits in front of SOAP\/XML API interface . Essentially, framework toolkit  is a service-independent toolkit that is standardized across service providers to process the incoming requests of the framework layer so that the service provider does not need to concern itself with the framework operations for messaging (e.g., decoding, parsing, and validating the header information and the structural information in the header). Thus, framework toolkit  may parse the incoming messages, validate the security information, establish and maintain session context information, and pass, to API interface , the payload contained within the body of the message, along with key information obtained from the SOAP envelope (such as the user identity, parental control settings, etc.). In certain implementations, API interface  may examine and process the data contained within the SOAP envelope. Framework toolkit  is also responsible for wrapping the response messages as appropriate for the protocol, including adding the correlation header and session context information.","In cases where a service may rely on other services (such as a radio service calling a billing service to authorize a charge for a shipment), the framework toolkit may also provide the device-side interfaces for such a request, allowing service provider  to invoke other services (including the discovery service lookup and service invocation). The tool kit may hide much of the message structure from service implementation 340.",{"@attributes":{"id":"p-0158","num":"0159"},"figref":["FIGS. 4A-B","FIG. 1"],"b":["400","400","130","140"]},"Process  begins with waiting to receive an initiation request for digital data service from a user interface device (operation ). The user interface device may, for example, be a consumer electronic device, and the request be expressed in a self-describing protocol.","Upon receiving the request, the process for calls for determining the authentication technique to use (operation ). Example authentication techniques include CRAM-MD5, SECURID, and PLAIN. Determining the authentication technique to use may include examining the capabilities and\/or preferences of the requesting user interface device. The process continues with generating a data service response (operation ), which specifies the authentication technique.","Process  calls for waiting to receive an authentication request from the user interface device (operation ), the authentication request including the security credentials for the user interface device\/user. Upon receiving an authentication request, the process calls for determining whether the authentication request is valid (operation ). Determining whether the request is valid may include determining whether the requesting user interface device and\/or user is valid. A user interface device and user may have been previously associated so that validating either one may validate the other. If the authentication request is not valid, the process calls for generating an authentication rejection response (operation ) and checking for another data service initiation request (operation ).","If, however, the authentication request is valid, the process calls for determining discovery service security credentials (operation ) and generating an authentication response (operation ), which includes the discovery service security credentials.","The process waits to receive a service discovery request (operation ). Upon receiving such a request, the process calls for determining which, if any, service providers are available (operation ). A service provider may be available if it has the data service to satisfy the request and the current capacity to do so. The process also calls for determining security tokens for the available service providers (operation ). The process then calls for generating a service discovery response (operation ), which includes information regarding the available service providers and their associated security tokens.","The process continues with waiting to receive a data service invocation request (operation ). The data service invocation request may be received at a service provider that is remote from the system hosting an authentication service and a discovery service and includes at least one of the security tokens determined earlier. Upon receiving a data service invocation request, the process calls for determining whether the request is valid (operation ). Determining whether the request is valid includes evaluating the security token for the service provider. If the request is not valid, the process calls for generating an exception response (operation ) and checking for another data service invocation request (operation ).","If, however, the data service invocation request is valid, the process calls for determining a data session security token (operation ). Determining the token may include retrieving a pre-existing security token or generating a new security token. The process then calls for generating a data service invocation response (operation ), which includes the data session security token.","The process continues with determining whether a data session request has been received (operation ), a valid data session request including the data session security token. If a data session request has been received, the process calls for determining whether the data session request is valid (operation ). If the data session request is not valid, the process calls for generating an exception response (operation ) and returning to check for another data service invocation request (operation ). If, however, the data session request is valid, the process calls for generating an appropriate data session response (operation ) and checking for another data session request (operation ).","If a data session request has not been received, process  calls for determining whether the data service security token is still valid (operation ). The token may not be valid, for example, if a predefined period of time has expired. If the security token is not still valid, the process calls for checking for a data service initiation request (operation ).","If, however, the security token is still valid, the process calls for determining whether the data session security token is still valid (operation ). The token may not be valid, for example, if a predefined period of time has expired. If the data session security token is not still valid, the process calls for checking for a data service invocation request (operation ). But if the data session security token is still valid, the process calls for checking for a data session request (operation ).","Although  illustrates one process for digital data services, other processes may include fewer, additional, and\/or a different arrangement of operations. For example, the authentication information could be sent in the initial data service request, especially if the user interface device only has one way to authenticate. As another example, the data session security token could be changed on a regular or irregular basis. For instance, the token could be changed after every data session request. As an additional example, a request may be received to update (e.g., renew) a data session security token. If the request is valid, the data session security token may be updated.",{"@attributes":{"id":"p-0170","num":"0171"},"figref":["FIG. 5","FIG. 1"],"b":["500","500","110"]},"Process  begins with generating an initiation request for digital data service (operation ). The request may, for example, be generated at a consumer electronic device and be expressed in a self-describing protocol.","The process continues with waiting to receive a response that specifies an authentication technique (operation ). Upon receiving such a response, the process calls for generating an authentication request (operation ). The authentication request may include security credentials for validating a user and\/or user interface device. The process then calls for waiting to receive an authentication response (operation ), which includes a security token for a discovery service.","Upon receiving the authentication response, process  calls for generating a service discovery request (operation ). The service discovery request is directed to a discovery service and includes the security token from the authentication response. The process then calls for waiting for a service discovery response (operation ). The service discovery response includes information regarding the available service providers and their associated security tokens.","The process continues with selecting a service provider (operation ) and generating a data service invocation request (operation ). The data service invocation request includes the earlier received security token for the service provider. The process then calls for waiting to receive a data service invocation response (operation ). The data service invocation response includes a second security token, to be used during the data session in place of the security token for the data service. The second security token may be substantially smaller than the security token for the data service, allowing for more ready processing.","Process  continues with determining whether a data session request should be sent (operation ). A data session request may be sent, for example, to initiate a data feed or to modify a data feed. If a data session request should be sent, the process calls for generating a data session request (operation ). The data session request includes the data session security token received previously. The process then calls for waiting to receive a data session response (operation ) and returning to check whether another data session request should be sent (operation ).","If a data session request should not be sent, the process calls for determining whether the data service security token is about to expire (operation ). If the data service security token is about to expire, the process calls for generating another service discovery request (operation ), this one to update the token.","If, however, the data service security token is not about to expire, the process calls for determining whether the data session security token is about to expire (operation ). If the data service security token is about to expire, the process calls for generating another data service invocation request (operation ), this one to update the token. But if the data session security token is not about to expire, the process calls for checking whether a data session request should be sent (operation ).","Although  illustrates one process for digital data services, other processes may include fewer, additional, and\/or a different arrangement of operations. For example, the authentication information could be sent in the initial data service request, especially if a user interface device only has one way to authenticate. As another example, the data session security token could change on a regular or irregular basis. For instance, a new token may arrive in every data session response. As an additional example, receiving an exception or not renewing a security token before it expires may lead to generating a data service initiation request.","Several systems and techniques for providing data service to a client have been discussed to this point. It should be recognized, however, that other types of service providers and\/or clients may also use the discussed techniques. For example, a content-management service provider, which may provide services such as contact and calendar management, may use the techniques in being updated with new information from a client. As another example, an action-initiating service provider, which may provide services such as environmental controls (e.g., lighting adjustments), location services, or messaging (e.g., instant messaging), may use the techniques in receiving multiple requests from a client. (The service provider may return responses that indicate the beginning, intermediate state, and\/or completion of the requested service.) Thus, a service provider may provide any type of computer-related service to and\/or for a client. As a further example, a service provider and\/or a client may be a computer program (e.g., software) executing on a computer (e.g., a personal computer, a server, or a workstation).","The following illustrates another example of invoking a data service, by providing examples of messages for invoking a data service. In particular, the user interface device in this example is a digital media adaptor that presents a user with both radio and photo services in an entertainment center. Also, a SOAP message, including headers, is used for each operation. Note, however, that the illustrated security tokens passed will not be verifiable, because the signatures are fake since these are only example messages, and the operations performed here are but one example of performing the tasks. There also may be several other ways to accomplish the same task that might be more appropriate in different circumstances.","In this example, the user interface device has previously been associated with a user account, so the user does not need to perform any authentication\/registration process. When the user turns on the device, the device brings up the main screen for the user. There may be several areas on this screen that require user-specific content (such as a \u201cnow playing\u201d area for radio, or a \u201cwhat's new\u201d area for data in their photo service).","The user interface device then initiates device authentication with an authentication service. This request may be submitted to \u201chttps:\/\/auth.ws.aol.com\u201d (a bootstrap entry point for the authentication service). An example of the request appears below:",{"@attributes":{"id":"p-0183","num":"0184"},"tables":{"@attributes":{"id":"TABLE-US-00035","num":"00035"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<?xml version=\u201c1.0\u201d encoding=\u201cutf-8\u201d ?>"]},{"entry":[{},"<S:Envelope"]},{"entry":[{},"\u2003xmlns:S=\u201chttp:\/\/schemas.xmlsoap.org\/soap\/envelope\/\u201d"]},{"entry":[{},"\u2003xmlns:aol=\u201c http:\/\/schemas.aol.com\/\u201d"]},{"entry":[{},"\u2003xmlns:sb=\u201curn:liberty:wsf:soap-bind:1.0\u201d"]},{"entry":[{},"\u2003xmlns:sa=\u201curn:liberty:wsf:soap-auth:1.0\u201d >"]},{"entry":[{},"\u2003<S:Header>"]},{"entry":[{},"\u2003\u2003<sb:Correlation S:mustUnderstand=\u201c1\u201d"]},{"entry":[{},"\u2003\u2003\u2003messageID=\u201duuid:0023923-28329023-238239023\u201d"]},{"entry":[{},"\u2003\u2003\u2003timestamp=\u201c2003-06-06T12:10:10Z\u201d \/>"]},{"entry":[{},"\u2003<\/S:Header>"]},{"entry":[{},"\u2003<S:Body>"]},{"entry":[{},"\u2003\u2003<aol:AuthRequest devUPC=\u201d123456789012\u201d devSN=\u201d10023923\u201d>"]},{"entry":[{},"\u2003\u2003\u2003<sa:SASLRequest mechanisms=\u201dCRAM-MD5\u201d >"]},{"entry":[{},"\u2003\u2003<\/aol:AuthRequest>"]},{"entry":[{},"\u2003<\/S:Body>"]},{"entry":[{},"<\/S:Envelope>."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},"The authentication service then responds with its authentication mechanism choice. In this instance, the authentication service decides to use CRAM-MD5 as the authentication method and provides the challenge data:",{"@attributes":{"id":"p-0185","num":"0186"},"tables":{"@attributes":{"id":"TABLE-US-00036","num":"00036"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{},"<?xml version=\u201c1.0\u201d encoding=\u201cutf-8\u201d ?>"]},{"entry":[{},{},"<S:Envelope"]},{"entry":[{},{},"\u2003xmlns:S=\u201chttp:\/\/schemas.xmlsoap.org\/soap\/envelope\/\u201d"]},{"entry":[{},{},"\u2003xmlns:aol=\u201c http:\/\/schemas.aol.com\/\u201d"]},{"entry":[{},{},"\u2003xmlns:sb=\u201curn:liberty:wsf:soap-bind:1.0\u201d"]},{"entry":[{},{},"\u2003xmlns:sa=\u201durn:liberty:wsf:soap-auth:1.0\u201d >"]},{"entry":[{},{},"\u2003<S:Header>"]},{"entry":[{},{},"\u2003\u2003<sb:Correlation S:mustUnderstand=\u201c1\u201d"]},{"entry":[{},{},"\u2003\u2003\u2003messagID=\u201duuid:00287-83782-238891-09981\u201d"]},{"entry":[{},{},"\u2003\u2003\u2003refToMessageID=\u201duuid:0023923-28329023-238239023\u201d"]},{"entry":[{},{},"\u2003\u2003\u2003timestamp=\u201c2003-06-06T12:10:10Z\u201d \/>"]},{"entry":[{},{},"\u2003<\/S:Header>"]},{"entry":[{},{},"\u2003<S:Body>"]},{"entry":[{},{},"\u2003\u2003<aol:AuthResponse>"]},{"entry":[{},{},"\u2003\u2003\u2003<sa:SASLResponse mechanisms=\u201dCRAM-MD5\u201d>"]},{"entry":[{},{},"\u2003\u2003\u2003\u2003<Status code=\u201dcontinue\u201d \/>"]},{"entry":[{},{},"\u2003\u2003\u2003\u20031896.697170952@postoffice.example.net"]},{"entry":[{},{},"\u2003\u2003\u2003<\/sa:SASLResponse>"]},{"entry":[{},{},"\u2003\u2003<\/aol:AuthResponse>"]},{"entry":[{},{},"\u2003<\/S:Body>"]},{"entry":[{},{},"<S:Envelope>."]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"The user interface device then prepares and submits its credentials to the authentication service. In this example, the device prepares the MD5 digest using the provided challenge as well as the shared secret (in this case \u201ctanstaaftanstaaf\u201d) and sends a response to the authentication service:",{"@attributes":{"id":"p-0187","num":"0188"},"tables":{"@attributes":{"id":"TABLE-US-00037","num":"00037"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<?xml version=\u201c1.0\u201d encoding=\u201cutf-8\u201d ?>"]},{"entry":[{},"<S:Envelope>"]},{"entry":[{},"\u2003xmlns:S=\u201chttp:\/\/schemas.xmlsoap.org\/soap\/envelope\/\u201d"]},{"entry":[{},"\u2003xmlns:aol=\u201chttp:\/\/schemas.aol.com\/\u201d"]},{"entry":[{},"\u2003xmlns:sb=\u201curn:liberty:wsf:soap-bind:1.0\u201d"]},{"entry":[{},"\u2003xmlns:sa=\u201durn:liberty:wsf:soap-auth:1.0\u201d >"]},{"entry":[{},"\u2003<S:Header>"]},{"entry":[{},"\u2003\u2003<sb:Correlation S:mustUnderstand=\u201c1\u201d"]},{"entry":[{},"\u2003\u2003\u2003messageID=\u201duuid:0023923-28329023-238239026\u201d"]},{"entry":[{},"\u2003\u2003\u2003refToMessageID=\u201duuid:00287-83782-238891-09981\u201d"]},{"entry":[{},"\u2003\u2003\u2003timestamp=\u201c2003-06-06T12:10:11Z\u201d \/>"]},{"entry":[{},"\u2003<\/S:Header>"]},{"entry":[{},"\u2003<S:Body>"]},{"entry":[{},"\u2003\u2003<aol:AuthRequest devUPC=\u201d123456789012\u201d devSN=\u201d10023923\u201d>"]},{"entry":[{},"\u2003\u2003\u2003<sa:SASLRequest mechanisms=\u201dCRAM-MD5\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003dGltIGI5MTNhNjAyYzdlZGE3YTQ5NWI0ZTZ1NzMz"]},{"entry":[{},"\u2003\u2003\u2003\u2003NGQzODkw"]},{"entry":[{},"\u2003\u2003\u2003<\/sa:SASLRequest>"]},{"entry":[{},"\u2003\u2003<\/aol:AuthRequest>"]},{"entry":[{},"\u2003<\/S:Body>"]},{"entry":[{},"<\/S:Envelope>."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}},"br":{}},"The authentication service processes the authentication request and returns the security token for the discovery service to the user interface device along with the bootstrap information for accessing the discovery service:",{"@attributes":{"id":"p-0189","num":"0190"},"tables":{"@attributes":{"id":"TABLE-US-00038","num":"00038"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<?xml version=\u201c1.0\u201d encoding=\u201cutf-8\u201d ?>"},{"entry":"<S:Envelope>"},{"entry":"\u2003xmlns:S=\u201chttp:\/\/schemas.xmlsoap.org\/soap\/envelope\/\u201d"},{"entry":"\u2003xmlns:aol=\u201chttp:\/\/schemas.aol.com\/\u201d"},{"entry":"\u2003mlns:disco=\u201durn:liberty:disco:2003-08\u201d"},{"entry":"\u2003xmlns:ds=\u201dhttp:\/\/www.w3.org\/2000\/09\/xmldsig#\u201d"},{"entry":"\u2003xmlns:sb=\u201curn:liberty:wsf:soap-bind:1.0\u201d"},{"entry":"\u2003xmlns:sa=\u201durn:liberty:wsf:soap-auth:1.0\u201d >"},{"entry":"\u2003<S:Header>"},{"entry":"\u2003\u2003<sb:Correlation S:mustUnderstand=\u201c1\u201d"},{"entry":"\u2003\u2003messaggeID=\u201duuid:00287-23928392-193482390\u201d"},{"entry":"\u2003\u2003refToMessageID=\u201duuid:0023923-28329023-238239026\u201d"},{"entry":"\u2003\u2003timestamp=\u201c2003-06-06T12:10:11Z\u201d \/>"},{"entry":"\u2003<\/S:Header>"},{"entry":"\u2003<S:Body>"},{"entry":"\u2003\u2003<aol:AuthResponse>"},{"entry":"\u2003\u2003\u2003<sa:SASLResponse>"},{"entry":"\u2003\u2003\u2003<sa:Status code=\u201dsuccess\u201d \/>"},{"entry":"\u2003\u2003\u2003<sa:Credential>"},{"entry":"\u2003\u2003\u2003\u2003<lib:Assertion MajorVersion=\u201c1\u201d MinorVersion=\u201c2\u201d"},{"entry":"\u2003\u2003\u2003\u2003AssertionID=\u201ce06e5a28-bc80-4ba6-9ecb-712949db686e\u201d"},{"entry":"\u2003\u2003\u2003\u2003Issuer=\u201chttp:\/\/idp.aol.com\u201d"},{"entry":"\u2003\u2003\u2003\u2003IssueInstant=\u201c2003-06-06T12:10:11Z\u201d"},{"entry":"\u2003\u2003\u2003\u2003InResponseTo=\u201cuuid:0023923-28329023-238239026\u201d>"},{"entry":"\u2003\u2003\u2003\u2003<saml:Conditions NotOnOrAfter=\u201c2003-06-07T12:10:10Z\u201d >"},{"entry":"\u2003\u2003\u2003\u2003<saml:AudienceRestrictionCondition>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<saml:Audience>http:\/\/discovery.aol.com<\/saml:Audience>"},{"entry":"\u2003\u2003\u2003\u2003<\/saml:AudienceRestrictionCondition>"},{"entry":"\u2003\u2003\u2003\u2003<\/saml:Conditions>"},{"entry":"\u2003\u2003\u2003\u2003<lib:AuthenticationStatement"},{"entry":"\u2003\u2003\u2003\u2003\u2003AuthenticationInstant=\u201c2003-06-06T12:10:11Z\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003SessionIndex=\u201c1\u201d >"},{"entry":"\u2003\u2003\u2003\u2003<lib:AuthnContext>"},{"entry":"\u2003\u2003\u2003\u2003<lib:AuthnContextClassRef>"},{"entry":"\u2003\u2003\u2003\u2003\u2003http:\/\/schemas.aol.com\/authctx\/classes\/"},{"entry":"\u2003\u2003\u2003\u2003\u2003DeviceProtectedTransport"},{"entry":"\u2003\u2003\u2003\u2003<\/lib:AuthnContextClassRef>"},{"entry":"\u2003\u2003\u2003<\/lib:AuthnContext>"},{"entry":"\u2003\u2003\u2003<lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003<saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003<lib:NameQualifier>http:\/\/aol.com<\/NameQualifier>"},{"entry":"\u2003\u2003\u2003\u2003<lib:Format>urn:liberty:iff:nameid:federated<\/Format>"},{"entry":"\u2003\u2003\u2003\u2003AOLScreenname"},{"entry":"\u2003\u2003\u2003\u2003<\/saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003<saml:SubjectConfirmation>"},{"entry":"\u2003\u2003\u2003\u2003<saml:ConfirmationMethod>"},{"entry":"\u2003\u2003\u2003\u2003urn:oasis:names:tc:SAML:1.0:cm:Bearer"},{"entry":"\u2003\u2003\u2003\u2003<\/saml:ConfirmationMethod>"},{"entry":"\u2003\u2003\u2003\u2003<\/saml:SubjectConfirmation>"},{"entry":"\u2003\u2003\u2003<\/lib:Subject>"},{"entry":"\u2003\u2003\u2003<\/lib:AuthenticationStatement>"},{"entry":"\u2003\u2003\u2003<saml:AttributeStatement>"},{"entry":"\u2003\u2003\u2003<lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003<saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003<lib:NameQualifier>http:\/\/aol.com<\/NameQualifier>"},{"entry":"\u2003\u2003\u2003\u2003<lib:Format>urn:liberty:iff:nameid:federated<\/Format>"},{"entry":"\u2003\u2003\u2003\u2003AOLScreenname"},{"entry":"\u2003\u2003\u2003\u2003<\/saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003<\/lib:Subject>"},{"entry":"\u2003\u2003\u2003<saml:Attribute AttributeName=\u201ddevUPC\u201d"},{"entry":"\u2003\u2003\u2003\u2003AttributeNamespace=\u201dhttp:\/\/schemas.aol.com\u201d>"},{"entry":"\u2003\u2003\u2003<saml:AttributeValue>123456789012"},{"entry":"\u2003\u2003\u2003<\/saml:AttributeValue>"},{"entry":"\u2003\u2003\u2003<\/saml:Attribute>"},{"entry":"\u2003\u2003\u2003<\/saml:AttributeStatement>"},{"entry":"\u2003\u2003\u2003<ds:Signature>"},{"entry":"\u2003\u2003\u2003\u2003Signature data goes here"},{"entry":"\u2003\u2003\u2003<\/ds:Signature>"},{"entry":"\u2003\u2003\u2003<\/lib:Assertion>"},{"entry":"\u2003\u2003\u2003\u2003<\/sa:Credential>"},{"entry":"\u2003\u2003\u2003\u2003<disco:ResourceOffering>"},{"entry":"\u2003\u2003\u2003\u2003<disco:ResourceID>urn:liberty:isf:implied-"},{"entry":"\u2003\u2003\u2003\u2003resource<\/disco:ResourceID>"},{"entry":"\u2003\u2003\u2003\u2003<disco:ServiceInstance>"},{"entry":"\u2003\u2003\u2003\u2003<disco:ServiceType>urn:liberty:disco:2003-"},{"entry":"\u2003\u2003\u2003\u200308<\/disco:ServiceType>"},{"entry":"\u2003\u2003\u2003\u2003<disco:ProviderID>http:\/\/discovery.aol.com"},{"entry":"\u2003\u2003\u2003\u2003<\/disco:ProviderID>"},{"entry":"\u2003\u2003\u2003\u2003<disco:Description CredentialRef=\u201de06e5a28-bc80-"},{"entry":"\u2003\u2003\u2003\u20034ba6-9ecb-712949db686e\u201d>"},{"entry":"\u2003\u2003\u2003\u2003<disco:SecurityMechID> . . . <\/disco:SecurityMechID>"},{"entry":"\u2003\u2003\u2003\u2003<disco:Endpoint>https:\/\/discovery.ws.aol.com"},{"entry":"\u2003\u2003\u2003\u2003<\/disco:EndPoint>"},{"entry":"\u2003\u2003\u2003\u2003<\/disco:Description>"},{"entry":"\u2003\u2003\u2003\u2003<\/disco:ServiceInstance>"},{"entry":"\u2003\u2003\u2003\u2003<\/disco:ResourceOffering>"},{"entry":"\u2003\u2003\u2003\u2003<\/sa:SASLResponse>"},{"entry":"\u2003\u2003<\/aol:AuthResponse>"},{"entry":"\u2003<\/S:Body>"},{"entry":"<\/S:Envelope>."},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"br":{}},"The user interface device then requests service information from the discovery service, at the entry point returned in the previous message (i.e., \u201chttps:\/\/discovery.ws.aol.com\u201d). This address could change on a user-by-use and\/or call-by-call basis, so the user interface device should retrieve the correct value for information about the radio service from the message returned during the authentication process. An example of the discovery service request is:",{"@attributes":{"id":"p-0191","num":"0192"},"tables":{"@attributes":{"id":"TABLE-US-00039","num":"00039"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<?xml version=\u201c1.0\u201d encoding=\u201cutf-8\u201d ? >"},{"entry":"<S:Envelope>"},{"entry":"\u2003xmlns:S=\u201chttp:\/\/schemas.xmlsoap.org\/soap\/envelope\/\u201d"},{"entry":"\u2003xmlns:aol=\u201chttp:\/\/schemas.aol.com\/\u201d"},{"entry":"\u2003xmlns:disco=\u201durn:liberty:disco:2003-08\u201d"},{"entry":"\u2003xmlns:ds=\u201dhttp:\/\/www.w3.org\/2000\/09\/xmldsig#\u201d"},{"entry":"\u2003xmlns:sb=\u201curn:liberty:wsf:soap-bind:1.0\u201d"},{"entry":"\u2003xmlns:sa=\u201durn:liberty:wsf:soap-auth:1.0\u201d>"},{"entry":"\u2003<S:Header>"},{"entry":"\u2003\u2003<sb:Correlation S:mustUnderstand=\u201c1\u201d"},{"entry":"\u2003\u2003\u2003messageID=\u201duuid:0023923-28329328-23789404578\u201d"},{"entry":"\u2003\u2003\u2003timestamp=\u201c2003-06-06T12:10:12Z\u201d \/>"},{"entry":"\u2003\u2003<wsse:Security>"},{"entry":"\u2003\u2003\u2003<lib:Assertion MajorVersion=\u201c1\u201d MinorVersion=\u201c2\u201d"},{"entry":"\u2003\u2003\u2003\u2003AssertionID=\u201ce06e5a28-bc80-4ba6-9ecb-712949db686e\u201d"},{"entry":"\u2003\u2003\u2003\u2003Issuer=\u201chttp:\/\/idp.aol.com\u201d"},{"entry":"\u2003\u2003\u2003\u2003IssueInstant=\u201c2003-06-06T12:10:11Z\u201d"},{"entry":"\u2003\u2003\u2003\u2003InResponseTo=\u201cuuid:0023923-28329023-238239026\u201d>"},{"entry":"\u2003\u2003\u2003\u2003<saml:Conditions NotOnOrAfter=\u201c2003-06-07T12:10:10Z\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<saml:AudienceRestrictionCondition>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<saml:Audience>http:\/\/discovery.aol.com<\/saml:Audience>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/saml:AudienceRestrictionCondition>"},{"entry":"\u2003\u2003\u2003\u2003<\/saml:Conditions>"},{"entry":"\u2003\u2003\u2003\u2003<lib:AuthenticationStatement"},{"entry":"\u2003\u2003\u2003\u2003\u2003AuthenticationInstant=\u201c2003-06-06:12:10:11Z\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003SessionIndex=\u201c1\u201d>"},{"entry":"\u2003\u2003\u2003\u2003<lib:AuthnContext>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<lib:AuthnContextClassRef>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003http:\/\/schemas.aol.com\/authctx\/classes\/"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003DeviceProtectedTransport"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/lib:AuthnContextClassRef>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/lib:AuthnContext>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:NameQualifier>http:\/\/aol.com<\/NameQualifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:Format>urn:liberty:iff:nameid:federated"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/Format>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003AOLScreenname"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<saml:SubjectConfirmation>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<saml:ConfirmationMethod>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003urn:oasis:names:tc:SAML:1.0:cm:Bearer"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:ConfirmationMethod>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:SubjectConfirmation>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003<\/lib:AuthenticationStatement>"},{"entry":"\u2003\u2003\u2003\u2003<saml:AttributeStatement>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:NameQualifier>http:\/\/aol.com<\/NameQualifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:Format>urn:liberty:iff:nameid:federated"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\/Format>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003AOLScreenname"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<saml:Attribute AttributeName=\u201ddevUPC\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003AttributeNamespace=\u201dhttp:\/\/schemas.aol.com\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<saml:AttributeValue>123456789012"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:AttributeValue>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:Attribute>"},{"entry":"\u2003\u2003\u2003\u2003<\/saml:AttributeStatement>"},{"entry":"\u2003\u2003\u2003\u2003<ds:Signature>"},{"entry":"\u2003\u2003\u2003\u2003\u2003Signature data goes here"},{"entry":"\u2003\u2003\u2003\u2003<\/ds:Signature>"},{"entry":"\u2003\u2003\u2003<\/lib:Assertion>"},{"entry":"\u2003\u2003<\/wsse:Security>"},{"entry":"\u2003<\/S:Header>"},{"entry":"\u2003<S:Body>"},{"entry":"\u2003\u2003<disco:Query>"},{"entry":"\u2003\u2003\u2003<ResourceID> urn:liberty:isf:implied-resource<\/ResourceID>"},{"entry":"\u2003\u2003\u2003<RequestedServiceType>"},{"entry":"\u2003\u2003\u2003\u2003<ServiceType>urn:aol-com:services:radio<\/ServiceType>"},{"entry":"\u2003\u2003\u2003<\/RequestedServiceType>"},{"entry":"\u2003\u2003<\/disco:Query>"},{"entry":"\u2003<\/S:Body>"},{"entry":"<\/S:Envelope>."},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"br":{}},"The discovery service then processes the request and responds to the user interface device with the radio service resource offering, the necessary credentials for the radio service, and a session context for subsequent calls to the discovery service:",{"@attributes":{"id":"p-0193","num":"0194"},"tables":{"@attributes":{"id":"TABLE-US-00040","num":"00040"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<?xml version=\u201c1.0\u201d encoding=\u201cutf-8\u201d ?>"},{"entry":"<S:Envelope>"},{"entry":"\u2003xmlns:S=\u201chttp:\/\/schemas.xmlsoap.org\/soap\/envelope\/\u201d"},{"entry":"\u2003xmlns:aol=\u201chttp:\/\/schemas.aol.com\/\u201d"},{"entry":"\u2003xmlns:disco=\u201durn:liberty:disco:2003-08\u201d"},{"entry":"\u2003xmlns:ds=\u201dhttp:\/\/www.w3.org\/2000\/09\/xmldsig#\u201d"},{"entry":"\u2003xmlns:sb=\u201curn:liberty:wsf:soap-bind:1.0\u201d >"},{"entry":"\u2003<S:Header>"},{"entry":"\u2003\u2003<sb:Correlation S:mustUnderstand=\u201c1\u201d"},{"entry":"\u2003\u2003\u2003messaggeID=\u201duuid:00287-23234564-098098798\u201d"},{"entry":"\u2003\u2003\u2003refToMessageID=\u201duuid:0023923-28329328-23789404578\u201d"},{"entry":"\u2003\u2003\u2003timestamp=\u201c2003-06-06T12:10:12Z\u201d \/>"},{"entry":"\u2003\u2003<aol:ServiceSessionContext>"},{"entry":"\u2003\u2003\u2003023893207akf;lkqwrtp8ywea:aasfqw;4uq4tqe4twhrwe5"},{"entry":"\u2003\u2003\u2003tywrwerthsadfiy3096driuqw360p7341uyerg734634"},{"entry":"\u2003\u2003\u2003tlarh02375uert396485twertertlq4tr9p275qwer"},{"entry":"\u2003\u2003\u2003239qqw=349y84ter"},{"entry":"\u2003\u2003<\/aol:ServiceSessionContext>"},{"entry":"\u2003<\/S:Header>"},{"entry":"\u2003<S:Body>"},{"entry":"\u2003\u2003<disco:QueryResponse>"},{"entry":"\u2003\u2003\u2003<Status code=\u201dOK\u201d\/>"},{"entry":"\u2003\u2003\u2003<disco:ResourceOffering EntryID=\u201c1\u201d>"},{"entry":"\u2003\u2003\u2003\u2003<disco:ResourceID>urn:liberty:isf:implied-"},{"entry":"\u2003\u2003\u2003\u2003\u2003resource<disco:ResourceID>"},{"entry":"\u2003\u2003\u2003\u2003<disco:ServiceInstance>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<disco:ServiceType>urn:aol-com:services:"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003radio<\/disco:ServiceType>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<disco:ProviderID>http:\/\/radio.ws.aol.com\/"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/disco:ProviderID>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<disco:Description CredentialRef=\u201d9f3d54a0-4899-"},{"entry":"\u2003\u2003\u2003\u2003\u20038a3d-9328-328ad3e4ef90\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<SecurityMechID>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003http:\/\/ws.aol.com\/security\/2003-11:TLS:bearer"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/SecurityMechID>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<Endpoint>https:\/\/radio.ws.aol.com\/<\/Endpoint>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/disco:Description>"},{"entry":"\u2003\u2003\u2003\u2003<\/disco:ServiceInstance>"},{"entry":"\u2003\u2003\u2003<\/disco:ResourceOffering>"},{"entry":"\u2003\u2003\u2003<disco:Credentials>"},{"entry":"\u2003\u2003\u2003\u2003<lib:Assertion MajorVersion=\u201c1\u201d MinorVersion=\u201c2\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003AssertionID=\u201c9f3d54a0-4899-8a3d-9328-328ad3e4ef90\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003Issuer=\u201chttp:\/\/idp.aol.com\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003IssueInstant=\u201c2003-06-06T12:10:11Z\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003InResponseTo=\u201cuuid:0023923-28329023-238239026\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<saml:Conditions NotOnOrAfter=\u201c2003-06-07T12:10:10Z\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<saml:AudienceRestrictionCondition>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<saml:Audience>http:\/\/radio.ws.aol.com"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:Audience>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:AudienceRestrictionCondition>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/saml:Conditions>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<lib:AuthenticationStatement"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003AuthenticationInstant=\u201c2003-06-06:12:10:11Z\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003SessionIndex=\u201c1\u201d >"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<lib:AuthnContext>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:AuthnContextClassRef>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003http:\/\/schemas.aol.com\/authctx\/classes\/"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003DeviceProtectedTransport"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/lib:AuthnContextClassRef>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/lib:AuthnContext>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:NameQualifier>http:\/\/aol.com"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/NameQualifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:Format>urn:liberty:iff:nameid:federated"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/Format>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003AOLScreenname"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<saml:SubjectConfirmation>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<saml:ConfirmationMethod>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003urn:oasis:names:tc:SAML:1.0:cm:Bearer"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:ConfirmationMethod>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:SubjectConfirmation>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/lib:AuthenticationStatement>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<saml:AttributeStatement>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:NameQualifier>http:\/\/aol.com"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/NameQualifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:Format>urn:liberty:iff:nameid:federated"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/Format>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003AOLScreenname"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<saml:Attribute AttributeName=\u201ddevUPC\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003AttributeNamespace=\u201dhttp:\/\/schemas.aol.com\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<saml:AttributeValue>123456789012"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:AttributeValue>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:Attribute>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/saml:AttributeStatement>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<ds:Signature>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003Signature data goes here"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/ds:Signature>"},{"entry":"\u2003\u2003\u2003\u2003<\/lib:Assertion>"},{"entry":"\u2003\u2003\u2003<\/disco:Credentials>"},{"entry":"\u2003\u2003<\/disco:QueryResponse>"},{"entry":"\u2003<\/S:Body>"},{"entry":"<\/S:Envelope>."},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"The user interface device then requests data from the radio service. The device, having the contact information and credentials for the radio service, submits a service request to the server hosting the radio service (i.e., to the endpoint identified in the resource offering: \u201chttps:\/\/radio.ws.aol.com\u201d). An example of such a service request is:",{"@attributes":{"id":"p-0195","num":"0196"},"tables":{"@attributes":{"id":"TABLE-US-00041","num":"00041"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<?xml version=\u201c1.0\u201d encoding=\u201cutf-8\u201d ?>"},{"entry":"<S:Envelope>"},{"entry":"\u2003xmlns:S=\u201chttp:\/\/schemas.xmlsoap.org\/soap\/envelope\/\u201d"},{"entry":"\u2003xmlns:aol=\u201chttp:\/\/schemas.aol.com\/\u201d"},{"entry":"\u2003xmlns:disco=\u201durn:liberty:disco:2003-08\u201d"},{"entry":"\u2003xmlns:ds=\u201dhttp:\/\/www.w3.org\/2000\/09\/xmldsig#\u201d"},{"entry":"\u2003xmlns:sb=\u201curn:liberty:wsf:soap-bind:1.0\u201d >"},{"entry":"\u2003<S:Header>"},{"entry":"\u2003\u2003<sb:Correlation S:mustUnderstand=\u201c1\u201d"},{"entry":"\u2003\u2003\u2003\u2003messageID=\u201duuid:9897923-82398723-092739723\u201d"},{"entry":"\u2003\u2003\u2003\u2003timestamp=\u201c2003-06-06T12:10:16Z\u201d \/>"},{"entry":"\u2003\u2003<wsse:Security>"},{"entry":"\u2003\u2003\u2003\u2003<lib:Assertion MajorVersion=\u201c1\u201d MinorVersion=\u201c2\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003AssertionID=\u201c9f3d54a0-4899-8a3d-9328-328ad3e4ef90\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003Issuer=\u201chttp:\/\/idp.aol.com\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003IssueInstant=\u201c2003-06-06T12:10:11Z\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003InResponseTo=\u201cuuid:0023923-28329023-238239026\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<saml:Conditions NotOnOrAfter=\u201c2003-06-07T12:10:10Z\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<saml:AudienceRestrictionCondition>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<saml:Audience>http:\/\/radio.ws.aol.com"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:Audience>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:AudienceRestrictionCondition>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/saml:Conditions>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<lib:AuthenticationStatement"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003AuthenticationInstant=\u201c2003-06-06:12:10:11Z\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003SessionIndex=\u201c1\u201d >"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<lib:AuthnContext>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:AuthnContextClassRef>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003http:\/\/schemas.aol.com\/authctx\/classes\/"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003DeviceProtectedTransport"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/lib:AuthnContextClassRef>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/lib:AuthnContext>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:NameQualifier>http:\/\/aol.com"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/NameQualifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:Format>urn:liberty:iff:nameid:federated"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/Format>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003AOLScreenname"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003<saml:SubjectConfirmation>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<saml:ConfirmationMethod>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003urn:oasis:names:tc:SAML:1.0:cm:Bearer"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/saml:ConfirmationMethod>"},{"entry":"\u2003\u2003\u2003\u2003<\/saml:SubjectConfirmation>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/lib:AuthenticationStatement>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<saml:AttributeStatement>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:NameQualifier>http:\/\/aol.com"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/NameQualifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:Format>urn:liberty:iff:nameid:federated"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/Format>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003AOLScreenname"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<saml:Attribute AttributeName=\u201ddevUPC\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003AttributeNamespace=\u201dhttp:\/\/schemas.aol.com\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<saml:AttributeValue>123456789012"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:AttributeValue>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:Attribute>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/saml:AttributeStatement>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<ds:Signature>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003Signature data goes here"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/ds:Signature>"},{"entry":"\u2003\u2003\u2003\u2003<\/lib:Assertion>"},{"entry":"\u2003\u2003<\/wsse:Security>"},{"entry":"\u2003<\/S:Header>"},{"entry":"\u2003<S:Body>"},{"entry":"\u2003\u2003<GetStationList\/>"},{"entry":"\u2003<\/S:Body>"},{"entry":"<\/S:Envelope>."},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"br":{}},"The radio service processes the request and returns the list of stations to the client:",{"@attributes":{"id":"p-0197","num":"0198"},"tables":{"@attributes":{"id":"TABLE-US-00042","num":"00042"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<?xml version=\u201c1.0\u201d encoding=\u201cutf-8\u201d ?>"]},{"entry":[{},"<S:Envelope>"]},{"entry":[{},"\u2003xmlns:S=\u201chttp:\/\/schemas.xmlsoap.org\/soap\/envelope\/\u201d"]},{"entry":[{},"\u2002xmlns:aol=\u201chttp:\/\/schemas.aol.com\/\u201d"]},{"entry":[{},"\u2003xmlns:sb=\u201curn:liberty:wsf:soap-bind:1.0\u201d >"]},{"entry":[{},"\u2003<S:Header>"]},{"entry":[{},"\u2003\u2003<sb:Correlation S:mustUnderstand=\u201c1\u201d"]},{"entry":[{},"\u2003\u2003\u2003\u2003messaggeID=\u201duuid:23452-7345097234-0974234097\u201d"]},{"entry":[{},"\u2003\u2003\u2003\u2003refToMessageID=\u201d uuid:9897923-82398723-092739723\u201d"]},{"entry":[{},"\u2003\u2003\u2003timestamp=\u201c2003-06-06T12:10:16Z\u201d \/>"]},{"entry":[{},"\u2003\u2003<aol:RedirectTo S:mustUnderstand=\u201d1\u201d"]},{"entry":[{},"\u2003\u2003\u2003\u2003endPoint=\u201dhttps:\/\/Radio15.ws.aol.com\/\u201d >"]},{"entry":[{},"\u2003\u2003<aol:ServiceSessionContext"]},{"entry":[{},"\u2003\u2003\u2003\u2003NotOnOrAfter=\u201c2003-06-07T12:10:10Z\u201d >"]},{"entry":[{},"\u2003\u2003\u2003023893207akf;lkqwrtp8ywea:aasfqw;4uq4tqe4twhrwe"]},{"entry":[{},"\u2003\u2003\u20035tywrwerthsadfiy3096driuqw360p734luyerg734634tl"]},{"entry":[{},"\u2003\u2003\u2003arh02375uert396485twertertlq4tr9p275qwer239qqw="]},{"entry":[{},"\u2003\u2003\u2003349y84ter"]},{"entry":[{},"\u2003\u2003<\/aol:ServiceSessionContext>"]},{"entry":[{},"\u2003<\/S:Header>"]},{"entry":[{},"\u2003<S:Body>"]},{"entry":[{},"\u2003\u2003\/\/ Station List data included here"]},{"entry":[{},"\u2003<\/S:Body>"]},{"entry":[{},"<\/S:Envelope>."]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"The user interface device then needs detailed station information for one of the stations returned in the previous message. This time, because of the <ServiceSessionContext> returned in the previous call, the request is submitted to \u201chttps:\/\/Radio15.ws.aol.com,\u201d and the assertion is not included in the request:",{"@attributes":{"id":"p-0199","num":"0200"},"tables":{"@attributes":{"id":"TABLE-US-00043","num":"00043"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<?xml version=\u201c1.0\u201d encoding=\u201cutf-8\u201d ?>"]},{"entry":[{},"<S:Envelope>"]},{"entry":[{},"\u2003xmlns:S=\u201chttp:\/\/schemas.xmlsoap.org\/soap\/envelope\/\u201d"]},{"entry":[{},"\u2002xmlns:aol=\u201chttp:\/\/schemas.aol.com\/\u201d"]},{"entry":[{},"\u2003xmlns:sb=\u201curn:liberty:wsf:soap-bind:1.0\u201d >"]},{"entry":[{},"\u2003<S:Header>"]},{"entry":[{},"\u2003\u2003<sb:Correlation S:mustUnderstand=\u201c1\u201d"]},{"entry":[{},"\u2003\u2003\u2003\u2003messaggeID=\u201duuid:23409723497-20972347-23407234\u201d"]},{"entry":[{},"\u2003\u2003\u2003\u2003refToMessageID=\u201duuid:23452-7345097234-0974234097\u201d"]},{"entry":[{},"\u2003\u2003\u2003timestamp=\u201c2003-06-06T12:10:16Z\u201d \/>"]},{"entry":[{},"\u2003\u2003<aol:ServiceSessionContext"]},{"entry":[{},"\u2003\u2003\u2003\u2003NotOnOrAfter=\u201c2003-06-07T12:10:10Z\u201d"]},{"entry":[{},"\u2003\u2003\u2003\u2003endPoint=\u201dhttps:\/\/Radio15.ws.aol.com\/\u201d >"]},{"entry":[{},"\u2003\u2003\u2003023893207akf;lkqwrtp8ywea:aasfqw;4uq4tqe4twhrwe"]},{"entry":[{},"\u2003\u2003\u20035tywrwerthsadfiy3096driuqw360p734luyerg734634tl"]},{"entry":[{},"\u2003\u2003\u2003arh02375uert396485twertertlq4tr9p275qwer239qqw="]},{"entry":[{},"\u2003\u2003\u2003349y84ter"]},{"entry":[{},"\u2003\u2003<\/aol:ServiceSessionContext>"]},{"entry":[{},"\u2003<\/S:Header>"]},{"entry":[{},"\u2003<S:Body>"]},{"entry":[{},"\u2003\u2003\/\/ Get Station Detail command"]},{"entry":[{},"\u2003<\/S:Body>"]},{"entry":[{},"<\/S:Envelope>."]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"The radio service processes the request and returns the detailed station info:",{"@attributes":{"id":"p-0201","num":"0202"},"tables":{"@attributes":{"id":"TABLE-US-00044","num":"00044"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<?xml version=\u201c1.0\u201d encoding=\u201cutf-8\u201d ?>"]},{"entry":[{},"<S:Envelope>"]},{"entry":[{},"\u2003xmlns:S=\u201chttp:\/\/schemas.xmlsoap.org\/soap\/envelope\/\u201d"]},{"entry":[{},"\u2002xmlns:aol=\u201chttp:\/\/schemas.aol.com\/\u201d"]},{"entry":[{},"\u2003xmlns:sb=\u201curn:liberty:wsf:soap-bind:1.0\u201d >"]},{"entry":[{},"\u2003<S:Header>"]},{"entry":[{},"\u2003\u2003<sb:Correlation S:mustUnderstand=\u201c1\u201d"]},{"entry":[{},"\u2003\u2003\u2003messaggeID=\u201duuid:23568989-07123493294-23723\u201d"]},{"entry":[{},"\u2003\u2003\u2003refToMessageID=\u201duuid:23409723497-20972347-23407234\u201d"]},{"entry":[{},"\u2003\u2003\u2003timestamp=\u201c2003-06-06T12:10:16Z\u201d \/>"]},{"entry":[{},"\u2003<\/S:Header>"]},{"entry":[{},"\u2003<S:Body>"]},{"entry":[{},"\u2003\u2003\/\/ Station Details"]},{"entry":[{},"\u2003<\/S:Body>"]},{"entry":[{},"<\/S:Envelope>."]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"As mentioned previously, the user interface device also may access a photo service. To accomplish this, a user may select a photo icon on the display of the user interface device, and the device will understand that it needs to contact a photo service. The device submits a discovery request to find the photo service contact information:",{"@attributes":{"id":"p-0203","num":"0204"},"tables":{"@attributes":{"id":"TABLE-US-00045","num":"00045"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<?xml version=\u201c1.0\u201d encoding=\u201cutf-8\u201d ?>"},{"entry":"<S:Envelope>"},{"entry":"\u2003xmlns:S=\u201chttp:\/\/schemas.xmlsoap.org\/soap\/envelope\/\u201d"},{"entry":"\u2003xmlns:aol=\u201chttp:\/\/schemas.aol.com\/\u201d"},{"entry":"\u2003xmlns:disco=\u201durn:liberty:disco:2003-08\u201d"},{"entry":"\u2003xmlns:ds=\u201dhttp:\/\/www.w3.org\/2000\/09\/xmldsig#\u201d"},{"entry":"\u2003xmlns:sb=\u201curn:liberty:wsf:soap-bind:1.0\u201d"},{"entry":"\u2003<S:Header>"},{"entry":"\u2003\u2003<sb:Correlation S:mustUnderstand=\u201c1\u201d"},{"entry":"\u2003\u2003\u2003messageID=\u201duuid:09213802-230987987-238797234\u201d"},{"entry":"\u2003\u2003\u2003refToMessageID=\u201duuid:00287-23234564-098098798\u201d"},{"entry":"\u2003\u2003\u2003timestamp=\u201c2003-06-06T18:29:18Z\u201d \/>"},{"entry":"\u2003\u2003<aol:ServiceSessionContext NotOnOrAfter=\u201c2003-06-"},{"entry":"\u2003\u200307T12:10:10Z\u201d >"},{"entry":"\u2003\u2003\u2003023893207akf;lkqwrtp8ywea:aasfqw;4uq4tqe4twhrwe5"},{"entry":"\u2003\u2003\u2003tywrwerthsadfiy3096driuqw360p7341uyerg734634tlarh02375uert"},{"entry":"\u2003\u2003\u2003396485twertertlq4tr9p275qwer239qqw=349y84ter"},{"entry":"\u2003\u2003<\/aol:ServiceSessionContext>"},{"entry":"\u2003<\/S:Header>"},{"entry":"\u2003<S:Body>"},{"entry":"\u2003\u2003<disco:Query>"},{"entry":"\u2003\u2003\u2003<disco:ResourceID>urn:liberty:isf:implied-resource"},{"entry":"\u2003\u2003\u2003<\/disco:ResourceID>"},{"entry":"\u2003\u2003\u2003<disco:RequestedServiceType>"},{"entry":"\u2003\u2003\u2003\u2003<disco:ServiceType>urn:aol-com:services:photo"},{"entry":"\u2003\u2003\u2003\u2003<\/disco:ServiceType>"},{"entry":"\u2003\u2003\u2003<disco:RequestedServiceType>"},{"entry":"\u2003\u2003<\/disco:Query>"},{"entry":"\u2003<\/S:Body>"},{"entry":"<\/S:Envelope>."},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"br":{}},"The discovery service processes the request and responds to the user interface device with the photo service resource offering, the security token(s) for the photo service, and a session context for subsequent calls to the discovery service:",{"@attributes":{"id":"p-0205","num":"0206"},"tables":{"@attributes":{"id":"TABLE-US-00046","num":"00046"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<?xml version=\u201c1.0\u201d encoding=\u201cutf-8\u201d ?>"},{"entry":"<S:Envelope>"},{"entry":"\u2003xmlns:S=\u201chttp:\/\/schemas.xmlsoap.org\/soap\/envelope\/\u201d"},{"entry":"\u2003xmlns:aol=\u201chttp:\/\/schemas.aol.com\/\u201d"},{"entry":"\u2003xmlns:disco=\u201durn:liberty:disco:2003-08\u201d"},{"entry":"\u2003xmlns:ds=\u201dhttp:\/\/www.w3.org\/2000\/09\/xmldsig#\u201d"},{"entry":"\u2003xmlns:sb=\u201curn:liberty:wsf:soap-bind:1.0\u201d"},{"entry":"\u2003xmlns:sa=\u201durn:liberty:wsf:soap-auth:1.0\u201d >"},{"entry":"\u2003<S:Header>"},{"entry":"\u2003\u2003<sb:Correlation S:mustUnderstand=\u201c1\u201d"},{"entry":"\u2003\u2003\u2003\u2003messaggeID=\u201duuid:33489-8972323-89798237912\u201d"},{"entry":"\u2003\u2003\u2003\u2003refToMessageID=\u201duuid:09213802-230987987-238797234\u201d"},{"entry":"\u2003\u2003\u2003timestamp=\u201c2003-06-06T18:29:18Z\u201d \/>"},{"entry":"\u2003\u2003<aol:ServiceSessionContext>"},{"entry":"\u2003\u2003\u2003023893207akf;lkqwrtp8ywea:aasfqw;4uq4tqe4twhrwe5"},{"entry":"\u2003\u2003\u2003tywrwerthsadfiy3096driuqw360p734luyerg734634tlarh02375"},{"entry":"\u2003\u2003\u2003uert396485twertertlq4tr9p275qwer239qqw=349y84ter"},{"entry":"\u2003\u2003<\/aol:ServiceSessionContext>"},{"entry":"\u2003<\/S:Header>"},{"entry":"\u2003<S:Body>"},{"entry":"\u2003\u2003<disco:QueryResponse>"},{"entry":"\u2003\u2003\u2003<Status code=\u201dOK\u201d \/>"},{"entry":"\u2003\u2003\u2003<disco:ResourceOffering EntryID=\u201d1\u201d>"},{"entry":"\u2003\u2003\u2003\u2003<disco:ResourceID>urn:liberty:isf:implied-"},{"entry":"\u2003\u2003\u2003\u2003resource<disco:ResourceID>"},{"entry":"\u2003\u2003\u2003\u2003<disco:ServiceInstance>"},{"entry":"\u2003\u2003\u2003\u2003<disco:ServiceType>urn:aol-com:services:photo"},{"entry":"\u2003\u2003\u2003\u2003<\/disco:ServiceType>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<disco:ProviderID>http:\/\/photo.ws.aol.com\/"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/disco:ProviderID>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<disco:Description CredentialRef=\u201d9fd3eda-b34a-9008-a334-"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u20033234dea90f5\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<SecurityMechID>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003http:\/\/ws.aol.com\/security\/2003-11:TLS:bearer"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/SecurityMechID>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<Endpoint>https:\/\/photo.ws.aol.com\/<\/Endpoint>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/disco:Description>"},{"entry":"\u2003\u2003\u2003\u2003<\/disco:ServiceInstance>"},{"entry":"\u2003\u2003\u2003<\/disco:ResourceOffering>"},{"entry":"\u2003\u2003\u2003<disco:Credentials>"},{"entry":"\u2003\u2003\u2003\u2003<lib:Assertion MajorVersion=\u201c1\u201d MinorVersion=\u201c2\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003AssertionID=\u201c9fd3eda-b34a-9008-a334-3234dea90f5\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003Issuer=\u201chttp:\/\/idp.aol.com\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003IssueInstant=\u201c2003-06-06T18:29:18Z\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003InResponseTo=\u201cuuid:0023923-28329023-238239026\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<saml:Conditions NotOnOrAfter=\u201c2003-06-07T12:10:10Z\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<saml:AudienceRestrictionCondition>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<saml:Audience>http:\/\/photo.ws.aol.com"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:Audience>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:AudienceRestrictionCondition>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/saml:Conditions>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<lib:AuthenticationStatement"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003AuthenticationInstant=\u201c2003-06-06:12:10:11Z\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003SessionIndex=\u201c1\u201d >"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<lib:AuthnContext>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:AuthnContextClassRef>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003http:\/\/schemas.aol.com\/authctx\/classes\/"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003DeviceProtectedTransport"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/lib:AuthnContextClassRef>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/lib:AuthnContext>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:NameQualifier>http:\/\/aol.com"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/NameQualifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:Format>urn:liberty:iff:nameid:federated"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/Format>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003AOLScreenname"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003<saml:SubjectConfirmation>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<saml:ConfirmationMethod>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003urn:oasis:names:tc:SAML:1.0:cm:Bearer"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/saml:ConfirmationMethod>"},{"entry":"\u2003\u2003\u2003\u2003<\/saml:SubjectConfirmation>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/lib:AuthenticationStatement>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<saml:AttributeStatement>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:NameQualifier>http:\/\/aol.com"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/NameQualifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:Format>urn:liberty:iff:nameid:federated"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/Format>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003AOLScreenname"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<saml:Attribute AttributeName=\u201ddevUPC\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003AttributeNamespace=\u201dhttp:\/\/schemas.aol.com\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<saml:AttributeValue>123456789012"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:AttributeValue>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:Attribute>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/saml:AttributeStatement>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<ds:Signature>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003Signature data goes here"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/ds:Signature>"},{"entry":"\u2003\u2003\u2003\u2003<\/lib:Assertion>"},{"entry":"\u2003\u2003\u2003<\/disco:Credentials>"},{"entry":"\u2003\u2003<\/disco:QueryResponse>"},{"entry":"\u2003<\/S:Body>"},{"entry":"<\/S:Envelope>."},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"The user interface device may then request information from the photo service. For example, the device may request a list of folders from the photo service using the following:",{"@attributes":{"id":"p-0207","num":"0208"},"tables":{"@attributes":{"id":"TABLE-US-00047","num":"00047"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<?xml version=\u201c1.0\u201d encoding=\u201cutf-8\u201d ?>"},{"entry":"<S:Envelope>"},{"entry":"\u2003xmlns:S=\u201chttp:\/\/schemas.xmlsoap.org\/soap\/envelope\/\u201d"},{"entry":"\u2003xmlns:aol=\u201chttp:\/\/schemas.aol.com\/\u201d"},{"entry":"\u2003xmlns:disco=\u201durn:liberty:disco:2003-08\u201d"},{"entry":"\u2003xmlns:ds=\u201dhttp:\/\/www.w3.org\/2000\/09\/xmldsig#\u201d"},{"entry":"\u2003xmlns:sb=\u201curn:liberty:wsf:soap-bind:1.0\u201d >"},{"entry":"\u2003<S:Header>"},{"entry":"\u2003\u2003<sb:Correlation S:mustUnderstand=\u201c1\u201d"},{"entry":"\u2003\u2003\u2003messageID=\u201duuid:958312848-29348938-232342121\u201d"},{"entry":"\u2003\u2003\u2003timestamp=\u201c2003-06-06T18:29:18Z\u201d \/>"},{"entry":"\u2003\u2003<wsse:Security>"},{"entry":"\u2003\u2003\u2003<lib:Assertion MajorVersion=\u201c1\u201d MinorVersion=\u201c2\u201d"},{"entry":"\u2003\u2003\u2003\u2003AssertionID=\u201d9fd3eda-b34a-9008-a334-3234dea90f5\u201d"},{"entry":"\u2003\u2003\u2003\u2003Issuer=\u201chttp:\/\/idp.aol.com\u201d"},{"entry":"\u2003\u2003\u2003\u2003IssueInstant=\u201c2003-06-06T18:29:18Z\u201d"},{"entry":"\u2003\u2003\u2003\u2003InResponseTo=\u201cuuid:0023923-28329023-238239026\u201d>"},{"entry":"\u2003\u2003\u2003\u2003<saml:Conditions NotOnOrAfter=\u201c2003-06-07T12:10:10Z\u201d >"},{"entry":"\u2003\u2003\u2003\u2003\u2003<saml:AudienceRestrictionCondition>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<saml:Audience>http:\/\/photo.ws.aol.com<\/saml:"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003Audience>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/saml:AudienceRestrictionCondition>"},{"entry":"\u2003\u2003\u2003\u2003<\/saml:Conditions>"},{"entry":"\u2003\u2003\u2003\u2003<lib:AuthenticationStatement"},{"entry":"\u2003\u2003\u2003\u2003AuthenticationInstant=\u201c2003-06-06:12:10:11Z\u201d"},{"entry":"\u2003\u2003\u2003\u2003SessionIndex=\u201c1\u201d >"},{"entry":"\u2003\u2003\u2003<lib:AuthnContext>"},{"entry":"\u2003\u2003\u2003\u2003<lib:AuthnContextClassRef>"},{"entry":"\u2003\u2003\u2003\u2003\u2003http:\/\/schemas.aol.com\/authctx\/classes\/"},{"entry":"\u2003\u2003\u2003\u2003\u2003DeviceProtectedTransport"},{"entry":"\u2003\u2003\u2003\u2003<\/lib:AuthnContextClassRef>"},{"entry":"\u2003\u2003\u2003<\/lib:AuthnContext>"},{"entry":"\u2003\u2003\u2003<lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003<saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<lib:NameQualifier>http:\/\/aol.com<\/"},{"entry":"\u2003\u2003\u2003\u2003\u2003NameQualifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<lib:Format>urn:liberty:iff:nameid:federated<\/"},{"entry":"\u2003\u2003\u2003\u2003\u2003Format>"},{"entry":"\u2003\u2003\u2003\u2003\u2003AOLScreenname"},{"entry":"\u2003\u2003\u2003\u2003<\/saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003<saml:SubjectConfirmation>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<saml:ConfirmationMethod>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003urn:oasis:names:tc:SAML:1.0:cm:Bearer"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/saml:ConfirmationMethod>"},{"entry":"\u2003\u2003\u2003\u2003<\/saml:SubjectConfirmation>"},{"entry":"\u2003\u2003\u2003<\/lib:Subject>"},{"entry":"\u2003\u2003<\/lib:AuthenticationStatement>"},{"entry":"\u2003<saml:AttributeStatement>"},{"entry":"\u2003\u2003<lib:Subject>"},{"entry":"\u2003\u2003\u2003<saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003<lib:NameQualifier>http:\/\/aol.com<\/NameQualifier>"},{"entry":"\u2003\u2003\u2003\u2003<lib:Format>urn:liberty:iff:nameid:federated<\/Format>"},{"entry":"\u2003\u2003\u2003\u2003AOLScreenname"},{"entry":"\u2003\u2003\u2003<\/saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<saml:SubjectConfirmation>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<saml:ConfirmationMethod>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003urn:oasis:names:tc:SAML:1.0:cm:Bearer"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:ConfirmationMethod>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/saml:SubjectConfirmation>"},{"entry":"\u2003\u2003\u2003\u2003<\/lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003<saml:Attribute AttributeName=\u201ddevUPC\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003AttributeNamespace=\u201dhttp:\/\/schemas.aol.com\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<saml:AttributeValue>123456789012<\/saml:"},{"entry":"\u2003\u2003\u2003\u2003\u2003AttributeValue>"},{"entry":"\u2003\u2003\u2003\u2003<\/saml:Attribute>"},{"entry":"\u2003\u2003\u2003<\/saml:AttributeStatement>"},{"entry":"\u2003\u2003\u2003<ds:Signature>"},{"entry":"\u2003\u2003\u2003\u2003Signature data goes here"},{"entry":"\u2003\u2003\u2003<\/ds:Signature>"},{"entry":"\u2003\u2003<\/lib:Assertion>"},{"entry":"\u2003\u2003<\/wsse:Security>"},{"entry":"\u2003<\/S:Header>"},{"entry":"\u2003<S:Body>"},{"entry":"\u2003\u2003\/\/ Photo Service Request"},{"entry":"\u2003<\/S:Body>"},{"entry":"<\/S:Envelope>."},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"br":{}},"The photo service may then return the requested information. An example is illustrated by the following:",{"@attributes":{"id":"p-0209","num":"0210"},"tables":{"@attributes":{"id":"TABLE-US-00048","num":"00048"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<?xml version=\u201c1.0\u201d encoding=\u201cutf-8\u201d ?>"},{"entry":"<S:Envelope>"},{"entry":"\u2003xmlns:S=\u201chttp:\/\/schemas.xmlsoap.org\/soap\/envelope\/\u201d"},{"entry":"\u2003xmlns:aol=\u201chttp:\/\/schemas.aol.com\/\u201d"},{"entry":"\u2003xmlns:sb=\u201curn:liberty:wsf:soap-bind:1.0\u201d >"},{"entry":"\u2003<S:Header>"},{"entry":"\u2003\u2003<sb:Correlation S:mustUnderstand=\u201c1\u201d"},{"entry":"\u2003\u2003\u2003messaggeID=\u201duuid:23452-7345097234-0974234097\u201d"},{"entry":"\u2003\u2003\u2003refToMessageID=\u201duuid:958312848-29348938-232342121\u201d"},{"entry":"\u2003\u2003\u2003timestamp=\u201c2003-06-06T12:10:16Z\u201d \/>"},{"entry":"\u2003\u2003<aol:ServiceSessionContext"},{"entry":"\u2003\u2003\u2003NotOnOrAfter=\u201c2003-06-07T12:10:10Z\u201d>"},{"entry":"\u2003\u2003\u20030239238as;d347;hadfg4adejhrtwe45phwerjhw4569werlhtwe"},{"entry":"\u2003\u2003\u20034523p458her09234ih342309ua;oqe4pyw45tliwuw45yw45tgi5w"},{"entry":"\u2003\u2003\u200345t4j092u3rrjrhwr83q4r34kjh4934q34hwe9823408ojasdf="},{"entry":"\u2003\u2003\u200323047lsadf"},{"entry":"\u2003\u2003<\/aol:ServiceSessionContext>"},{"entry":"\u2003<\/S:Header>"},{"entry":"\u2003<S:Body>"},{"entry":"\u2003\u2003\/\/ Station List data included here"},{"entry":"\u2003<\/S:Body>"},{"entry":"<\/S:Envelope>."},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"br":{}},"After using the discovery service security token for a period of time (e.g., twenty-four hours), the token may be close to expiring. For the acknowledgement illustrated above from the authentication service, assume that almost twenty-four hours has elapsed since the original authentication by the authentication service and that the user interface device is monitoring the validity period of the security token. Thus, the user interface device knows that it needs to update the token if it wishes to continue with this session. The user interface device may submit a request to the authentication service where the original authentication took place by using the following:",{"@attributes":{"id":"p-0211","num":"0212"},"tables":{"@attributes":{"id":"TABLE-US-00049","num":"00049"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<?xml version=\u201c1.0\u201d encoding=\u201cutf-8\u201d ?>"},{"entry":"<S:Envelope>"},{"entry":"\u2003xmlns:S=\u201chttp:\/\/schemas.xmlsoap.org\/soap\/envelope\/\u201d"},{"entry":"\u2003xmlns:aol=\u201chttp:\/\/schemas.aol.com\/\u201d"},{"entry":"\u2003xmlns:disco=\u201durn:liberty:disco:2003-08\u201d"},{"entry":"\u2003xmlns:ds=\u201dhttp:\/\/www.w3.org\/2000\/09\/xmldsig#\u201d"},{"entry":"\u2003xmlns:sb=\u201curn:liberty:wsf:soap-bind:1.0\u201d"},{"entry":"\u2003xmlns:sa=\u201durn:liberty:wsf:soap-auth:1.0\u201d >"},{"entry":"\u2003<S:Header>"},{"entry":"\u2003\u2003<sb:Correlation S:mustUnderstand=\u201c1\u201d"},{"entry":"\u2003\u2003\u2003messageID=\u201duuid:234235-993209787-099087238923\u201d"},{"entry":"\u2003\u2003\u2003timestamp=\u201c2003-06-07T12:00:00Z\u201d \/>"},{"entry":"\u2003\u2003<wsse:Security>"},{"entry":"\u2003\u2003\u2003<lib:Assertion MajorVersion=\u201c1\u201d MinorVersion=\u201c2\u201d"},{"entry":"\u2003\u2003\u2003\u2003AssertionID=\u201ce06e5a28-bc80-4ba6-9ecb-712949db686e\u201d"},{"entry":"\u2003\u2003\u2003\u2003Issuer=\u201chttp:\/\/idp.aol.com\u201d"},{"entry":"\u2003\u2003\u2003\u2003IssueInstant=\u201c2003-06-06T12:10:11Z\u201d"},{"entry":"\u2003\u2003\u2003\u2003InResponseTo=\u201cuuid:0023923-28329023-238239026\u201d>"},{"entry":"\u2003\u2003\u2003\u2003<saml:Conditions NotOnOrAfter=\u201c2003-06-07T12:10:10Z\u201d >"},{"entry":"\u2003\u2003\u2003\u2003\u2003<saml:AudienceRestrictionCondition>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<saml:Audience>http:\/\/discovery.aol.com<\/saml:"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003Audience>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/saml:AudienceRestrictionCondition>"},{"entry":"\u2003\u2003\u2003\u2003<\/saml:Conditions>"},{"entry":"\u2003\u2003\u2003\u2003<lib:AuthenticationStatement"},{"entry":"\u2003\u2003\u2003\u2003\u2003AuthenticationInstant=\u201c2003-06-06:12:10:11Z\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003SessionIndex=\u201c1\u201d >"},{"entry":"\u2003\u2003\u2003\u2003<lib:AuthnContext>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<lib:AuthnContextClassRef>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003http:\/\/schemas.aol.com\/authctx\/classes\/"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003DeviceProtectedTransport"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/lib:AuthnContextClassRef>"},{"entry":"\u2003\u2003\u2003\u2003<\/lib:AuthnContext>"},{"entry":"\u2003\u2003\u2003\u2003<lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<lib:NameQualifier>http:\/\/aol.com<\/NameQualifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<lib:Format>urn:liberty:iff:nameid:federated<\/Format>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003AOLScreenname"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<saml:SubjectConfirmation>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<saml:ConfirmationMethod>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003urn:oasis:names:tc:SAML:1.0:cm:Bearer"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:ConfirmationMethod>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/saml:SubjectConfirmation>"},{"entry":"\u2003\u2003\u2003\u2003<\/lib:Subject>"},{"entry":"\u2003\u2003\u2003<\/lib:AuthenticationStatement>"},{"entry":"\u2003\u2003\u2003\u2003<saml:AttributeStatement>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:NameQualifier>http:\/\/aol.com<\/NameQualifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:Format>urn:liberty:iff:nameid:federated"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/Format>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003AOLScreenname"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003<\/lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<saml:Attribute AttributeName=\u201ddevUPC\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003AttributeNamespace=\u201dhttp:\/\/schemas.aol.com\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<saml:AttributeValue>123456789012<\/saml:"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003AttributeValue>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/saml:Attribute>"},{"entry":"\u2003\u2003\u2003\u2003<\/saml:AttributeStatement>"},{"entry":"\u2003\u2003\u2003\u2003<ds:Signature>"},{"entry":"\u2003\u2003\u2003\u2003\u2003Signature data goes here"},{"entry":"\u2003\u2003\u2003\u2003<\/ds:Signature>"},{"entry":"\u2003\u2003\u2003<\/lib:Assertion>"},{"entry":"\u2003\u2003<\/wsse:Security>"},{"entry":"\u2003<\/S:Header>"},{"entry":"\u2003<S:Body>"},{"entry":"\u2003\u2003<aol:AuthRequest renewal=\u201dtrue\u201d \/>"},{"entry":"\u2003<\/S:Body>"},{"entry":"<\/S:Envelope>."},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"br":{}},"The authentication service may then process the request. If the request is valid, the service returns the renewed security token to the user interface device. The return message is illustrated by the following:",{"@attributes":{"id":"p-0213","num":"0214"},"tables":{"@attributes":{"id":"TABLE-US-00050","num":"00050"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<?xml version=\u201c1.0\u201d encoding=\u201cutf-8\u201d ?>"},{"entry":"<S:Envelope>"},{"entry":"\u2003xmlns:S=\u201chttp:\/\/schemas.xmlsoap.org\/soap\/envelope\/\u201d"},{"entry":"\u2003xmlns:aol=\u201chttp:\/\/schemas.aol.com\/\u201d"},{"entry":"\u2003xmlns:disco=\u201durn:liberty:disco:2003-08\u201d"},{"entry":"\u2003xmlns:ds=\u201dhttp:\/\/www.w3.org\/2000\/09\/xmldsig#\u201d"},{"entry":"\u2003xmlns:sb=\u201curn:liberty:wsf:soap-bind:1.0\u201d"},{"entry":"\u2003xmlns:sa=\u201durn:liberty:wsf:soap-auth:1.0\u201d >"},{"entry":"\u2003<S:Header>"},{"entry":"\u2003\u2003<sb:Correlation S:mustUnderstand=\u201c1\u201d"},{"entry":"\u2003\u2003\u2003\u2003messaggeID=\u201duuid:87432-79234723-072347893\u201d"},{"entry":"\u2003\u2003\u2003\u2003refToMessageID=\u201duuid:234235-993209787-099087238923\u201d"},{"entry":"\u2003\u2003\u2003\u2003timestamp=\u201c2003-06-07T12:00:00Z\u201d \/>"},{"entry":"\u2003<\/S:Header>"},{"entry":"\u2003<S:Body>"},{"entry":"\u2003\u2003<aol:AuthResponse>"},{"entry":"\u2003\u2003\u2003<sa:SASLResponse>"},{"entry":"\u2003\u2003\u2003\u2003<sa:Status code=\u201dsuccess\u201d \/>"},{"entry":"\u2003\u2003\u2003\u2003<sa:Credential>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<lib:Assertion MajorVersion=\u201c1\u201d MinorVersion=\u201c2\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003AssertionID=\u201c9fe4357-df43-b902-9123-da8082fe7\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003Issuer=\u201chttp:\/\/idp.aol.com\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003IssueInstant=\u201c2003-06-07T12:00:00Z\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003InResponseTo=\u201c uuid:234235-993209787-"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003099087238923\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<saml:Conditions\u2003\u2003NotOnOrAfter=\u201c2003-06-"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u200308T12:00:00Z\u201d >"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<saml:AudienceRestrictionCondition>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<saml:Audience>http:\/\/discovery.aol.com"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:Audience>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:AudienceRestrictionCondition>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:Conditions>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<lib:AuthenticationStatement"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003AuthenticationInstant=\u201c2003-06-06T12:10:11Z\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003SessionIndex=\u201c1\u201d >"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:AuthnContext>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:AuthnContextClassRef>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003http:\/\/schemas.aol.com\/authctx\/classes\/"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003DeviceProtectedTransport"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/lib:AuthnContextClassRef>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/lib:AuthnContext>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:NameQualifier>http:\/\/aol.com"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/NameQualifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:Format>urn:liberty:iff:nameid:federated"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/Format>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003AOLScreenname"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<saml:SubjectConfirmation>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<saml:ConfirmationMethod>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003urn:oasis:names:tc:SAML:1.0:cm:Bearer"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:ConfirmationMethod>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/saml:SubjectConfirmation>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/lib:AuthenticationStatement>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<saml:AttributeStatement>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:NameQualifier>http:\/\/aol.com"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/NameQualifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<lib:Format>urn:liberty:iff:nameid:federated"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/Format>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003AOLScreenname"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:NameIdentifier>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/lib:Subject>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<saml:Attribute AttributeName=\u201ddevUPC\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003AttributeNamespace=\u201dhttp:\/\/schemas.aol.com\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<saml:AttributeValue>123456789012"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:AttributeValue>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:Attribute>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/saml:AttributeStatement>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<ds:Signature>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003Signature data goes here"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/ds:Signature>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/lib:Assertion>"},{"entry":"\u2003\u2003\u2003\u2003<\/sa:Credential>"},{"entry":"\u2003\u2003\u2003<\/sa:SASLResponse>"},{"entry":"\u2003\u2003<\/aol:AuthResponse>"},{"entry":"\u2003<\/S:Body>"},{"entry":"<\/S:Envelope>."},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"br":{}},"The invention may be implemented in digital circuitry or in computer hardware, firmware, or software, or in combinations of them. The invention may be implemented as a computer program product (i.e., a computer program tangibly embodied in an information carrier (e.g., in a machine-readable storage device or in a propagated signal)) for execution by, or to control the operation of, a data processing apparatus (e.g., a programmable processor, a computer, or multiple computers). A computer program may be written in any form of programming language, including compiled or interpreted languages, and it may be deployed in any form, including as a stand-alone program or as a module, component, subroutine, or other unit suitable for use in a computing environment. A computer program may be deployed to be executed on one computer or on multiple computers at one site or distributed across multiple sites and interconnected by a communication network.","Method operations of the invention may be performed by one or more programmable processors executing a computer program to perform functions of the invention by operating on input data and generating output. Method operations may also be performed by, and an apparatus of the invention may be implemented as, special purpose logic circuitry (e.g., an FPGA (field programmable gate array) or an ASIC (application-specific integrated circuit)).","Processors suitable for the execution of a computer program include, by way of example, both general and special purpose microprocessors, and any one or more processors of any kind of digital computer. Generally, a processor will receive instructions and data from a read-only memory, a random access memory, or both. The essential elements of a computer are a processor for executing instructions and one or more memory devices for storing instructions and data. Generally, a computer will also include, or be operatively coupled to receive data from, transfer data to, or both, one or more mass storage devices for storing data (e.g., magnetic, magneto-optical, or optical disks). Information carriers suitable for embodying computer program instructions and data include all forms of non-volatile memory, including by way of example semiconductor memory devices (e.g., EPROM, EEPROM, and flash memory devices), magnetic disks (e.g., internal hard disks or removable disks), magneto-optical disks, and CD-ROM and DVD-ROM disks. The processor and the memory may be supplemented by, or incorporated in special purpose logic circuitry.","To provide for interaction with a user, the invention may be implemented on a computer having a display device (e.g., a CRT (cathode ray tube) or FPD (flat panel display) (e.g., LCD (liquid crystal display)) monitor) for displaying information to the user and a keyboard and a pointing device (e.g., a mouse or a trackball) by which the user may provide input to the computer. Other kinds of devices may be used to provide for interaction with a user as well; for example, feedback provided to the user may be any form of sensory feedback (e.g., visual, auditory, or tactile); and input from the user may be received in any form, including visual, auditory, or tactile input.","The invention may be implemented in a computing system that includes a back-end component (e.g., a data server), a middleware component (e.g., an application server), a front-end component (e.g., a client computer having a graphical user interface or a Web browser through which a user may interact with an implementation of the invention), or any combination of such back-end, middleware, and front-end components. The components of the system may be interconnected by any form or medium of digital data communication (e.g., a communication network). Examples of communication networks include a local area network (\u201cLAN\u201d) and a wide area network (\u201cWAN\u201d) (e.g., the Internet).","The computing system may include clients and servers. A client and server are generally remote from each other and typically interact through a communication network. The relationship of client and server arises by virtue of computer programs running on the respective computers and having a client-server relationship to each other.","Several implementations have been described, and other implementations have been mentioned or suggested. Moreover, various additions, deletions, substitutions, and modifications will be readily suggested to those skilled in the art. For these reasons, the invention is to be measured by the following claims, which may include one or more of these implementations."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"DESCRIPTION OF DRAWINGS","p":[{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIGS. 4A-B"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 5"}]},"DETDESC":[{},{}]}
