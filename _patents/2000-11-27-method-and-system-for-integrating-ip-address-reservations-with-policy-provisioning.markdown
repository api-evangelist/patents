---
title: Method and system for integrating IP address reservations with policy provisioning
abstract: A method and system for policy provisioning and access managing on a data-over-cable system. One method includes receiving a first message on a first network device such as a CMTS from a second network device and marking the first message with an identifier of a network access device. The method further includes intercepting the first message on a third network device prior to a first protocol network server such as a Dynamic Host Configuration Protocol (“DHCP”) server receives the first message. When the third network device intercepts the first message, the third network device determines the identity of the second network device. Based on the identity of the second network device and using the identifier of the network access device, the third network device manages an assignment of configuration parameters for the second network device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07107326&OS=07107326&RS=07107326
owner: 3Com Corporation
number: 07107326
owner_city: Marlborough
owner_country: US
publication_date: 20001127
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["REFERENCE TO RELATED APPLICATIONS","FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF AN EXEMPLARY EMBODIMENT"],"p":["This application claims priority benefits to the U.S. provisional application Ser. No. 60\/240,294 filed on Oct. 13, 2000.","The present invention relates to communications in computer networks. More particularly, it relates to a method and a system for policy management and multiple access provisioning.","Cable television networks such as those provided by Comcast Cable Communications, Inc., of Philadelphia, Pa., Cox Communications of Atlanta Ga., Time-Warner Cable, of Marietta Ga., Continental Cablevision, Inc., of Boston Mass., and others, provide cable television services to a large number of subscribers over a large geographical area.","The cable television networks typically are interconnected by cables such as coaxial cables or a Hybrid Fiber\/Coaxial (\u201cHFC\u201d) cable system which have data rates of about 10 Mega-bits-per-second (\u201cMbps\u201d) to 30+ Mbps.","The Internet, a world-wide-network of interconnected computers, provides multi-media content including audio, video, graphics and text that requires a large bandwidth for downloading and viewing. Most Internet Service Providers (\u201cISPs\u201d) allow customers to connect to the Internet via a serial telephone line from a Public Switched Telephone Network (\u201cPSTN\u201d) at data rates including 14,400 bps, 28,800 bps, 33,600 bps, 56,000 bps and others that are much slower than the about 10 Mbps to 30+Mbps available on a coaxial cable or HFC cable system on a cable television network.","With the explosive growth of the Internet, many customers have desired to use the larger bandwidth of a cable television network to connect to the Internet and other computer networks. Cable modems, such as those provided by 3Com Corporation of Santa Clara, Calif., Motorola Corporation of Arlington Heights, Ill., Cisco Corporation of San Jose, Calif., Scientific-Atlanta, of Norcross, Ga. and others offer customers higher-speed connectivity to the Internet, an intranet, Local Area Networks (\u201cLANs\u201d) and other computer networks via cable television networks. These cable modems currently support a data connection to the Internet and other computer networks via a cable television network with a data rate of up to 30+ Mbps, which is a much larger data rate than can be supported by a modem used over a serial telephone line.","Many cable television networks provide bi-directional cable systems, in which data is sent \u201cdownstream\u201d, from a \u201cheadend\u201d to a customer, as well as \u201cupstream\u201d, from the customer back to the headend. The cable system headend is a central location in the cable television network and, further, is responsible for sending cable signals in the downstream direction and receiving cable signals in the upstream direction. An exemplary data-over-cable system with RF return typically includes customer premises equipment such a customer computer, a cable modem, a cable modem termination system, a cable television network, and a data network such as the Internet.","Some cable television networks provide only unidirectional cable systems, supporting only a \u201cdownstream\u201d data path, which provides a path for flow of data from a cable system headend to a customer. A return data path via a telephone network, such as a public switched telephone network provided by AT&T and others, (i.e., a \u201ctelephone return\u201d) is typically used for an \u201cupstream\u201d data path, which provides a path for flow of data from the customer back to the cable system headend. A cable television system with an upstream connection to a telephone network is typically called a \u201cdata-over-cable system with telephone return.\u201d","An exemplary data-over-cable system with a telephone return typically includes customer premise equipment (\u201cCPE\u201d) entities (such as a customer computer or a Voice over Internet Protocol (\u201cVoIP\u201d) device), a cable modem, a cable modem termination system, a cable television network, a public switched telephone network, a telephone remote access concentrator, and a data network (e.g., the Internet). The cable modem termination system and the telephone remote access concentrator combined are called a telephone return termination system.","If the customer premises equipment entity comprises a telephone or a device capable of sending and receiving video or voice signals, the cable modem has to be capable of sending and receiving such signals. In such cases the cable modem typically comprises an internal media terminal adapter, which provides a network interface functionality that accepts analog voice inputs or video signal and generates IP packets using the Real Time Transport protocol, for instance.","In a bi-directional cable system, when the cable modem termination system receives data packets from the data network, the cable modem termination system transmits received data packets downstream via the cable television network to a cable modem attached to the customer premises equipment entity. The customer premises equipment entity sends response data packets to the cable modem, which sends the response data packets upstream via the cable network. The cable modem termination system sends the response data packets back to the appropriate host on the data network.","In the case of a telephone return system, when the cable modem termination system receives data packets from the data network, the cable modem termination system transmits the received data packets downstream via the cable television network to a cable modem attached to the customer premises equipment entity. The customer premises equipment entity sends response data packets to the cable modem, which sends response data packets upstream via the public switched telephone network to the telephone remote access concentrator. Next, the telephone remote access concentrator sends the response data packets back to the appropriate host on the data network.","When a cable modem used in the cable system with the telephone return is initialized, a connection is made to both the cable modem termination system via the cable network and to the telephone return termination system via the public switched telephone network. As the cable modem is initialized, the cable modem initializes one or more downstream channels via the cable network. Also upon initialization, the cable modem receives a configuration file (a boot file) from a configuration server via a trivial file-transfer protocol (\u201cTFTP\u201d) exchange.","The configuration file may include a plurality of configuration parameters encoded in a type-length-value format (\u201cTLV\u201d), for instance. The configuration file may comprise a plurality of Class-of-Service (\u201cCoS\u201d) and Quality-of-Service (\u201cQoS\u201d) parameters. The Class of Service parameters include, for example, maximum allowed rates, minimum reserved rate, maximum latency and a plurality of other parameters. The Quality of Service parameters include, for example, parameters defining delays expected to deliver data to a specific destination, the level of protection from unauthorized monitoring or modification of data, expected residual error probability, relative priority associated with data and a plurality of other parameters.","Upon receipt of the configuration file, a cable modem may register with a cable modem termination system. To do that, the cable modem may send to the cable modem termination system a registration request message comprising a copy of the configuration file including a plurality of QoS and CoS parameters.","Typically, thousands of cable modems are connected to each cable modem termination system, and also a plurality of customer premises equipment (\u201cCPE\u201d) entities such as computers, VoIP compliant devices or telephones are connected to each cable modem. However, there are several problems associated with providing access to subscription services for tens of thousands of cable modems and customer premises equipment entities. First, no generic methods exist for identifying each cable modem and customer premises equipment. Further, servers may not distinguish different classes of customer premises equipment connected to a cable modem and, thus, the servers may not dynamically provide different classes of service when a customer premises device associated with the cable modem requests, for example, an IP address.","Further, with a growing number of companies manufacturing cable modems, each cable modem associated with a specific vendor requires a unique boot file. Therefore, for example, if there were five cable modems produced by five different vendors, a DHCP server would have to store five unique boot files and, further, the server would have to be programmed with software to determine a type of device that had requested a boot file. However, as known in the art, DHCP servers are unable to distinguish the identity of cable modems or CPEs and, typically, each server stores only one boot file and sends the same boot file to all devices that request a configuration file.","Thus, it is desirable to provide a standard, reliable and efficient way to provide subscriber provisioning tools preferably integrated into the existing cable modem infrastructure. Further, it is desirable to develop a method and system for cable modem boot file management and IP service classes management.","According to an exemplary embodiment, a method and a system for policy management and multiple access provisioning are developed.","In one embodiment, a data-over-cable system for policy provisioning and access managing is developed. The exemplary system includes a first network device for marking an incoming message with an identifier of a network access device, a second network device for policy provisioning and access managing and a database for storing a plurality of configuration information records. According to an exemplary embodiment, the second network device intercepts the incoming message prior to at least one first protocol server such as a DHCP server receives the incoming message. Further, the second network device identifies a network device associated with the incoming message using the identifier in the first message and manages an assignment of configuration settings based on the identifier. In the exemplary embodiment, the database stores a plurality of configuration information records, and each record includes an identifier of a network access device and a plurality of configuration information settings constructed based on a service level agreement associated with the identifier of each record. In the exemplary embodiment, the identifier comprises a Medium Access Control address of the network access device. The configuration information settings include a service provider identifier with a path to a service provider associated with the identifier, a configuration file identifier with a path of a configuration file on a second protocol server such as a TFTP server and a class of service identifier. In the exemplary embodiment, the second network device uses the class of service identifier to redirect the incoming message and to assign an IP address to a network device in communication with the network access device from an IP address pool associated with the class of service parameter.","In one embodiment, a method for policy provisioning and access managing is developed. The method includes receiving a first message on a first network device from a second network device and marking the first message with an identifier of a network access device. In one embodiment, the identifier includes a MAC address of the network access device. Further, the method includes intercepting the first message on a third network device prior to at least one first protocol server receiving the first message. In one embodiment, the first protocol server comprises a DHCP server. The third network device determines the identity of the second network device using the identifier in the first message and manages the assignment of configuration parameters for the second network device based on the identifier of the network access device. In the exemplary embodiment, managing the assignment of the configuration parameters for the second network device includes establishing a plurality of configuration records in a database, and querying the database by the third network device for a record associated with the identifier in the first message. In one embodiment, each record includes an identifier of a network access device and a plurality of configuration settings associated with the identifier in the record.","According to an exemplary embodiment, the configuration settings include a configuration file identifier with a path of a configuration file on a second protocol server, the second protocol server including a TFTP server. In the exemplary embodiment, the third network device inserts the path of the configuration file in the record to the first message. Further, the configuration settings include an identifier of a first protocol service provider such as a DHCP service provider. In one embodiment, the third network device forwards the first message to a service provider specified in the record. Further, according to an exemplary embodiment, the configuration settings include class of service settings. In one embodiment, the third network device uses the class of service settings to provide a network device communicates with the network access device in the record an IP address from an IP address pool associated with the class of service settings.","These as well as other aspects and advantages of the present invention will become more apparent to those of ordinary skill in the art by reading the following detailed description, with reference to the accompanying drawings.","Exemplary data-over-cable system",{"@attributes":{"id":"p-0042","num":"0041"},"figref":"FIG. 1","b":["10","10"]},"Alternatively, the data-over-cable system  may be a uni-directional cable system supporting only a downstream data path from a cable television network headend to a customer premises equipment entity, such as a personal computer. In the uni-directional cable system, a return path is typically established via a telephone network (\u201ctelephone return\u201d), which provides an \u201cupstream\u201d data path from the customer premises equipment back to the cable television network \u201cheadend\u201d. In a uni-directional cable system, a cable modem may comprise an integral telephone modem for connecting to a Public Switched Telephone Network (\u201cPSTN\u201d) such as a PSTN , and the integral telephone modem may be connected to the cable modem for exchanging data.","The data-over-cable system  includes a Cable Modem Termination System (\u201cCMTS\u201d)  connected to a cable television network , hereinafter a cable network .  illustrates one CMTS . However, the data-over-cable system  may include multiple CMTS . Further, according to an exemplary embodiment, the CMTS  and any other network entities that will be described in the following paragraphs may be duplicated in a serial or a parallel arrangement to provide a back-up in case of failure.","In the exemplary embodiment of the present invention, the CMTS  may be a Total Control hub by 3Com Corporation of Santa Clara, Calif., with a cable modem termination unit. A Total Control hub is a chassis with multiple networking cards connected by a common bus. However, the CMTS  could also be another network server such as a network server by Cisco Systems of San Jose, Calif., for instance.","The cable network  may be a cable television network such as one provided by Comcast Cable Communications, Inc., of Philadelphia, Pa., Cox Communications of Atlanta, Ga., or Time-Warner Cable, of Marietta, Ga., for instance.","A cable modem (\u201cCM\u201d)  is connected to the cable network  with a downstream cable connection. The cable modem may be provided by 3Com Corporation of Santa Clara, Calif., or Motorola Corporation of Arlington Heights, Ill., for instance.","In the exemplary embodiment, the data-over-cable system  operates according to a set of specifications, one of which is the Data Over Cable Service Interface Specification (\u201cDOCSIS\u201d), published by Cable Television Laboratories. The DOCSIS standards may be found on the World Wide Web at the Universal Resource Locator (\u201cURL\u201d) \u201cwww.cablemodem.com.\u201d As known in the art, the DOCSIS specification defines interface requirements for cable modems involved in a high speed data distribution over cable television networks. Further, the data-over-cable system  may be Packet Cable specifications compliant. The Packet Cable standards may be found on the World Wide Web at the URL \u201cwww.packetcable.com.\u201d The Packet Cable specifications define mechanisms required for supporting voice and video transmission over cable systems. If the data-over-cable system  is Packet Cable specification compliant, the CM  may comprise an internal media terminal adapter, or a media terminal adapter may otherwise be provided in communications with the CM . The media terminal adapter may provide a network interface functionality for transmitting voice or video signals and for converting analog voice inputs or video signals to IP packets using, for instance, the Real Time Transport protocol.","Furthermore, if the data-over-cable system  is Packet Cable Specification compliant, the data-over-cable system  may include a plurality of additional network devices such as a call management server and a gate controller, for instance. The call management server may enable the media terminal adapter to establish multimedia sessions including voice communications applications such as \u201cIP telephony\u201d or \u201cVoIP\u201d. The gate controller may be used to perform authorization and authentication checks for users attempting to connect to the CMTS .",{"@attributes":{"id":"p-0050","num":"0049"},"figref":["FIG. 1","FIG. 1","FIG. 1"],"b":["16","12","16","12","16","18","16","18","20","18","16"]},"If the data-over-cable system  is a bi-directional data-over-cable system, the CM  may have an upstream and downstream connection to the CMTS  via a cable television connection, a wireless connection or a satellite connection, for instance.  illustrates an exemplary upstream and downstream connection to the CMTS  via the cable network . In such embodiment, the CMTS  may still also provide data from the PSTN  to the CM  or the CPE entity .","In a downstream direction of a bi-directional data-over-cable system, a cable system typically has a passband with a lower edge between 50 MHz and 54 MHz and an upper edge between 300 MHz to 864 MHz. However, the data-over-cable system  is not limited to such frequencies, and frequencies in data-over-cable system may be implementation dependent. In the upstream direction, the cable system may have an operating frequency passband range from 5 MHz to 30 MHz or 5 MHz to 40 MHz, for instance.","As mentioned above, the cable system  may be a unidirectional cable system. In a unidirectional cable system, the CM  is connected to the PSTN  or other such network, which provides an upstream telephone connection. The upstream telephone connection may be a standard telephone line connection such as an Integrated Services Digital Network (\u201cISDN\u201d) connection, an Asymmetric Digital Subscriber Line (\u201cADSL\u201d) connection or a wireless connection, for instance.","In that arrangement, the PSTN  may be connected to a Telephone Remote Access Concentrator (\u201cTRAC\u201d) . In the data-over-cable system having an upstream telephone connection, the TRAC  may be a Total Control telephone hub by 3Com Corporation of Santa Clara, for instance. However, the TRAC  could also be a telephone hub manufactured by a different company, or could take still other forms.","The combination of the CMTS  and the TRAC  is called a \u201cTelephone Return Termination System\u201d (\u201cTRTS\u201d) . The TRTS  is illustrated as a dashed box in FIG. . The CMTS  and the TRAC  may be at a \u201cheadend\u201d of the cable system . Alternatively, for instance, the TRAC  may be located in a different location and may have routing associations with the CMTS . The cable system  may also include a plurality of servers such as operations servers, administrative servers or maintenance servers (not shown). Further, the CMTS  may connect a plurality of access points to the data-over-cable system . Additionally, the plurality of access points may be connected to cable headend access points. Such configurations may be \u201cone-to-one\u201d, \u201cone-to-many\u201d, or \u201cmany-to-many\u201d, and may be interconnected to other Local Area Networks (\u201cLANs\u201d) or Wide Area Networks (\u201cWANs\u201d).","The data-over-cable system  may comprise a plurality of network interfaces. As shown in , the TRAC  is connected to a data network  (e.g. the Internet, an intranet, a LAN or a WAN, for instance) via a TRAC-Network System Interface  (\u201cTRAC-NSI\u201d). The CMTS  is connected to the data network  via a CMTS-Network System Interface (\u201cCMTS-NSI\u201d) .","Further, the data-over-cable system  may comprise a policy\/authorization server  in communication with the CMTS . The authorization\/policy server  may manage overall policies with an administrative domain such as an Internet service provider, for instance. The CMTS  may also comprise an internal authorization module that may serve as a policy enforcement point, for instance.","The system  may also comprise a bandwidth manager  in communication with the CMTS . The bandwidth manager  may detect network trends, measure network response time, generate CoS and QoS reports, allocate bandwidth and\/or keep records of allocated and available bandwidth.","The present invention is not limited to use within the data-over-cable system illustrated in FIG. . More, fewer or different components, connections and interfaces could also be used. Further, the arrangements described herein are shown for purposes of illustration only, and those skilled in the art will appreciate that other arrangements and other elements, such as interfaces or functions, whether or not known in the art, can be used instead, and some elements may be omitted altogether. Additionally, as in most communications applications, those skilled in the art will appreciate that many of the elements described herein are functional entities that may be implemented as discrete components or in conjunction with other components, in any suitable combination and location.","Further, as mentioned above, network entities in the data-over-cable system  may be duplicated to provide a back-up in case of failure of one or more network entities. For instance, the network entities may be duplicated in parallel or in series. In a parallel arrangement, for instance, the CMTS  comprising an internal authorization\/policy server  and an internal bandwidth manager  may be duplicated. The CMTS  and a duplicated CMTS \u2032 (not shown) may operate simultaneously, with one of them active and the other one in a \u201cstandby\u201d state. In such an arrangement, the two units may communicate using a \u201ckeep alive\u201d signal, for instance. Thus, if the primary CMTS  fails, the redundant CMTS \u2032 may immediately start operating, and, ideally, there is no loss of service.","In another exemplary embodiment providing a back-up system, redundant units may operate in a serial manner. In the serial arrangement, units may be cross-connected with a heart-beat controlled shunt on ports. Further, in the serial arrangement, both units may be active, as opposed to a primary device being in an active state and a redundant device being in a standby state, as in the parallel arrangement. In another exemplary embodiment of the present invention, any individual integral components or groups of components may be duplicated.","An operating environment for each CMTS , CM , CPE , TRAC  and other network entities of an exemplary embodiment may include a processing system with at least one high speed processing unit and a memory system. In accordance with the practices of persons skilled in the art of computer programming, the present invention is described below with reference to acts and symbolic representations of operations or instructions that are performed by the processing system, unless indicated otherwise. Such acts and operations or instructions could be referred to as being \u201ccomputer-executed\u201d, \u201cprocessing unit executed\u201d, or the like.","It will be appreciated that the acts and symbolically represented operations or instructions include the manipulation of electrical signals by the processing unit. An electrical system with data bits causes a resulting transformation or reduction of the electrical signal representation, and the maintenance of data bits at memory locations in the memory system to thereby reconfigure or otherwise alter the processing unit's operation, as well as other processing of signals. The memory locations may be physical locations that could have particular electrical, magnetic, optical, or organic properties for maintaining data bits.","The data bits may also be maintained on a computer readable medium such as magnetic disks, optical disks, organic disks, and any other volatile or non-volatile mass storage system readable by the processing unit, for instance. The computer readable medium may include cooperating or interconnected computer readable media, which may exist exclusively on the processing system or may be distributed among multiple interconnected processing systems that may be local or remote to the processing system.","Network Device Protocol Stack",{"@attributes":{"id":"p-0065","num":"0064"},"figref":"FIG. 2","b":["36","10","10"]},{"@attributes":{"id":"p-0066","num":"0065"},"figref":"FIG. 2","b":"16"},"In bi-directional data-over cable systems, the CM  is connected to the cable network  in a physical layer  via a Radio Frequency (\u201cRF\u201d) Interface . In an exemplary embodiment of the present invention, for a downstream data transmission, the RF Interface  may have an operation frequency range of 50 Mega-Hertz (\u201cMHz\u201d) to 1 Giga-Hertz (\u201cGHz\u201d) and a channel bandwidth of about 6 to 8 MHz. However, other operation frequencies may also be used, and the invention is not limited to these frequencies. For an upstream transmission the RF Interface  may have an operation frequency range of about 5 MHz to 50 MHz. Further, the RF Interface  may use a signal modulation method, such as Quadrature Amplitude Modulation (\u201cQAM\u201d). As known in the art, the QAM is used as means for encoding digital information over radio, wire, or the fiber optic transmission links. The QAM is a combination of amplitude and phase modulation and is an extension of a multiphase phase-shift-keying. The QAM may have any number of discrete digital levels typically including 4, 16, 64 or 256 levels. In an exemplary embodiment, QAM- may be used in the RF Interface . However, other operating frequencies and modulation methods could also be used, such as a Quadrature Phase Shift Keying (\u201cQPSK\u201d) modulation, for instance. Further, the RF Interface  can also be used in a cable system with a telephone return.","In a data-over-cable system with a telephone return employed for an upstream connection, the CM  may be connected to the PSTN  in the physical layer via a telephone interface . In an exemplary embodiment, the telephony interface may operate in accordance with one of the standards of the International Telecommunications Union-Telecommunication (\u201cITU-T\u201d) Standardization Sector. The telephone interface  may use the ITU-T V.90 standard, for instance. As known in the art, the ITU-T V.90 standard is commonly used in a data link layer of modem communications, and it currently allows data rates as high as 55,600 bits-per-second (\u201cbps\u201d). However, the telephone interface  may also operate according to other communications standards, such as V.32 standard, V.34 standard or V.90 standard, for instance. Further, the telephone interface  could also be an asymmetric Subscriber Link (\u201cADSL\u201d) interface, an Integrated Services Digital Network (\u201cISDN\u201d) interface or a wireless interface, for instance.","Above the RF Interface , there is a data link layer comprising a Medium Access Control (\u201cMAC\u201d) layer . As known in the art, the MAC layer  controls access to a transmission medium via the physical layer . The MAC layer  may use a protocol described in IEEE 802.14. However, other MAC layer protocols could also be used, such MCNS MAC layer protocol, for instance. Above the MAC layer  may be a link security protocol stack . The link security protocol stack  prevents unauthorized users from making a data connection from cable network .","A Point-to-Point Protocol (\u201cPPP\u201d) layer  is in the data link layer  and above the telephone interface . As known in the art, the PPP layer encapsulates network layer datagrams over a serial communication link. More information on the PPP protocol may be found on the World Wide Web at the URL \u201cwww.ietf.org\u201d in a Request for Comments (\u201cRFC\u201d), RFC-1661.","A network layer  is above both the downstream protocol layer and the upstream protocol layer. The network layer  comprises an Internet Protocol (\u201cIP\u201d) layer  and an Internet Control Message Protocol (\u201cICMP\u201d) layer . The IP layer  corresponds to the OSI layer , which is the network layer, but, typically, is not defined as part of the OSI model. As known in the art, IP is a routing protocol designed to route traffic within a network or between networks. More information on the IP protocol may be found at the URL \u201cwww.ietf.org\u201d in of functions, such as error reporting, reachability testing (e.g., \u201cpinging\u201d), congestion control, route-change notification and performance or subnet addressing, for instance. More information on ICMP may be found at the URL \u201cwww.ietforg\u201d in RFC-792.","A transport layer  is above the network layer . The transport layer  comprises a User Datagram Protocol (\u201cUDP\u201d) layer , which approximately corresponds to the OSI layer , the transport layer. As known in the art, UDP provides a connectionless mode of communications with datagrams. More information on the UDP layer  may be found at the URL \u201cwww.ietf.org\u201d in RFC-768. However, the transmission layer  is not limited to the User Datagram Protocol and other protocols, such as a Transmission Control Protocol (\u201cTCP\u201d), for instance. More information on the TCP may be found at the URL \u201cwww.ietf.org\u201d in RFC-793.","Above the transport layer , there are a Simple Network Management Protocol (\u201cSNMP\u201d) layer , a Trivial File Transfer Protocol (\u201cTFTP\u201d) layer, a Dynamic Host Configuration Protocol (\u201cDHCP\u201d) layer  and a UDP manager . The SNMP layer  is used to support network management functions. More information on the SNMP layer may be found at the URL \u201cwww.ietf.org\u201d in RFC-1157. The TFTP layer  is a file transfer protocol, which is typically used to download files and configuration information. More information on the TFTP layer  may be found at the URL \u201cwww.ietforg\u201d in RFC-1350. The DHCP layer  is a protocol for passing configuration information to host on the IP network . More information on the DHCP layer  may be found at the URL \u201cwww.ietf.org\u201d in RFC-1541, RFC-2131 and RFC-2132. The UDP manager  distinguishes and routes packets to an appropriate service. However, more, fewer, or different protocol layers could be used in the data-over-cable system .","According to an exemplary embodiment of the present invention, the CM  may support transmission and reception of IP datagrams as specified by RFC-791. The CM  may be also configured to filter IP datagrams with IP addresses assigned to the CM  or CPE . Further, the CMTS  and the TRAC  may also perform filtering of IP datagrams.","During the initialization of the CM , the CMTS  transmits to the CM  a Termination System Information (\u201cTSI\u201d) message, which is a MAC management message. The CMTS  may use the TSI message to report to the CM  whether or not a bi-directional system is used, for instance. Further, the TSI message may be used to provide the CM  with information about the status of the CMTS .",{"@attributes":{"id":"p-0076","num":"0075"},"figref":"FIG. 3","b":["76","76","78","80","82","84","86","88","90","76","76"]},"Additionally, during the initialization process, the CM  may initiate a Dynamic Host Configuration Protocol (\u201cDHCP\u201d) process. The DHCP process is used to provide configuration parameters to hosts on a network such as an IP network, for instance. The DHCP process provides two main services to network clients such as CMs or CPE entities. First it allocates IP network addresses to clients and, second, the DHCP process provides configuration parameters for network entities.",{"@attributes":{"id":"p-0078","num":"0077"},"figref":"FIG. 4","b":["92","92"]},"To capture a BOOTP relay agent behavior described as part of the BOOTP specification and to allow interoperability of existing BOOTP clients with the DHCP servers, a DHCP server uses a BOOTP message format. Further, using the BOOTP relay agents eliminates the necessity of using a DHCP server on each physical network segment.","DHCP  message structure  includes an operation code field  (\u201cop\u201d), a hardware address type field  (\u201chtype\u201d), a hardware address length field  (\u201chlen\u201d), a number of hops field  (\u201chops\u201d), a transaction identifier field  (\u201cxid\u201d), a seconds elapsed time field  (\u201csecs\u201d), a flags field  (\u201cflags\u201d), a client IP address field  (\u201cciaddr\u201d), a your IP address field  (\u201cyiaddr\u201d), a server IP address field  (\u201csiaddr\u201d), a gateway\/relay agent IP address field  (\u201cgiaddr\u201d), a client hardware address field  (\u201cchaddr\u201d), an optional server name field  (\u201csname\u201d), a boot file name  (\u201cfile\u201d) and an optional parameters field  (\u201coptions\u201d). Descriptions for an exemplary DHCP message  fields are shown in Table 1.",{"@attributes":{"id":"p-0081","num":"0080"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"168pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 1"},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["DHCP",{}]},{"entry":["Parameter","Description"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["OP 94","Message op code\/message type."]},{"entry":[{},"1=BOOTREQUEST, 2=BOOTREPLY."]},{"entry":["HTYPE 96","Hardware address type (e.g., \u20181\u2019 = 10 Mps Ethernet)."]},{"entry":["HLEN 96","Hardware address length (e.g. \u20186\u2019 for 10 Mbps Ethernet)."]},{"entry":["HOPS 100","Client sets to zero, optionally used by relay-agents when"]},{"entry":[{},"booting via a relay-agent."]},{"entry":["XID 102","Transaction ID, a random number chosen by the client,"]},{"entry":[{},"used by the client and server to associate messages and"]},{"entry":[{},"responses between a client and a server."]},{"entry":["SECS 104","Filled in by client, seconds elapsed since client started"]},{"entry":[{},"trying to boot."]},{"entry":["FLAGS 106","Flags including a BROADCAST bit."]},{"entry":["CIADDR 108","Client IP address; filled in by client in DHCPREQUEST"]},{"entry":[{},"if verifying previously allocated configuration"]},{"entry":[{},"parameters."]},{"entry":["YIADDR 110","\u2018Your\u2019 (client) IP address."]},{"entry":["SIADDR 112","IP 54 address of next server to use in bootstrap; returned"]},{"entry":[{},"in DHCPOFFER, DHCPACK and DHCPNAK by server."]},{"entry":["GIADDR 114","Gateway relay agent IP 54 address, used in booting via"]},{"entry":[{},"a relay-agent."]},{"entry":["CHADDR 116","Client hardware address (e.g., MAC layer 44 address)."]},{"entry":["SNAME 118","Optional server host name, null terminated string."]},{"entry":["FILE 120","Boot file name, terminated by a null string."]},{"entry":["OPTIONS 122","Optional parameters."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},"The DHCP message structure  shown in  may be used to discover IP network host interfaces in data-over-cable system . A network host client such as the CM  may use the DHCP process to dynamically acquire or verify an IP address and network parameters whenever the network parameters may have changed. During a typical use DHCP process, the CM  and CPE  broadcast a \u201cDHCPDISCOVER\u201d message to receive configuration settings such a configuration file and an IP address for the CM  and an IP address for the CPE . During the DHCP process, the DHCP servers may respond with DHCPOFFER messages including configuration parameters. Then, the CM  or the CPE  selects one of the DHCP servers and sends a DHCPREQUEST to the selected server.","Policy Management and Multiple Access Provisioning","According to an exemplary embodiment, a system and method for the cable modem boot file management, IP service classes management, DHCP filtering, DHCP forwarding, CM setting recording and automatic provisioning in the existing data-over-cable system are developed.",{"@attributes":{"id":"p-0084","num":"0083"},"figref":"FIG. 5","b":["142","142","142","18","16","12","147","141","147","147","144","146","150","144","150","141","147","141","140","143","145","140","143","145"]},"Network devices for preferred embodiments of the present invention include network devices that can interact with network system  based on standards proposed by the Data-Over-Cable-Service-Interface\u2014Specification (\u201cDOCSIS\u201d) standards from the Multimedia Cable Network Systems (\u201cMCNS\u201d), the Institute of Electrical and Electronic Engineers (\u201cIEEE\u201d), International Telecommunications Union-Telecommunication Standardization Sector (\u201cITU\u201d), Internet Engineering Task Force (\u201cIETF\u201d), and\/or Wireless Application Protocol (\u201cWAP\u201d) Forum. However, network devices based on other standards could also be used. DOCSIS standards can be found on the World Wide Web at the Universal Resource Locator (\u201cURL\u201d) \u201cwww.cablemodem.com.\u201d IEEE standards can be found at the URL \u201cwww.ieee.org.\u201d The ITU, (formerly known as the CCITT) standards can be found at the URL \u201cwww.itu.ch.\u201d IETF standards can be found at the URL \u201cwww.ietf.org.\u201d The WAP standards can be found at the URL \u201cwww.wapforum.org.\u201d","According to an exemplary embodiment, a system administrator may manage the data-over-cable system  shown in FIG. . However, prior to using this system, the administrator is required to define network interface configuration and DHCP options configuration.","According to an exemplary embodiment, a set of commands such as a \u201cset dhcp\u201d command may be created on a system for system administrators to enter necessary DHCP options configuration parameters. In one embodiment, the DHCP options configuration parameters may include a two-way CM's gateway interface address (\u201ccmgiaddr\u201d) and a CPE gateway interface address (\u201ccpegiaddr\u201d). The \u201ccmgiaddr\u201d corresponds to a name of a cable IP network through which the administrator wants DHCP responses to be routed for downstream transmission to the CM , and the \u201ccpegiaddr\u201d corresponds to a name of the cable IP network through which the administrator wants DHCP responses to be routed to CPEs such as the CPE . Further, according to an exemplary embodiment, system administrators have the ability to enable and disable policy management and multiple access provisioning system. In one embodiment, a system administrator may set a special QoS parameter such as an \u201cagentinfooption\u201d parameter in order to enable policy management and multiple access provisioning methods associated with the system.",{"@attributes":{"id":"p-0088","num":"0087"},"figref":"FIG. 6","b":["146","146"]},"According to an exemplary embodiment, the system administrator may create and manage assignment of boot files to each CM based on MAC network addresses associated with the CMs, so that a CM can be uniquely identified and directed to appropriate configuration settings. Thus, based on a CM's customer service plan, a CM can be assigned a unique boot file that may add, delete, update or restrict network-based features according to the system administrator's settings. In one embodiment, the system administrator may specify a \u201cBootFileID\u201d, a \u201cBootFile Path\u201d and may enter a brief description of the boot file via the graphical user interface . According to an exemplary embodiment, the \u201cBootFileID\u201d corresponds to a unique identifier of a CM's boot file and is added to the configuration settings when a new CM MAC address is added to the system. The \u201cBootFile Path\u201d is a full path to the boot file located on a TFTP server and, according to an exemplary embodiment this path is inserted into an outgoing DHCP packet for the CM. Table 2 shows an exemplary boot file configuration data.  illustrates an exemplary dialog box that a system administrator uses to manage configuration file settings.",{"@attributes":{"id":"p-0090","num":"0089"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"63pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"105pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 2"},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["Boot File ID","TFTP Path","Description"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["1","black.cfg","Unknown CM default .cfg file"]},{"entry":["2","Standard.cfg","Standard CoS .cfg file"]},{"entry":["3","gold.cfg","Gold CoS .cfg file"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}}}},"Further, according to an exemplary embodiment, CPEs in the data-over-cable system  can be provisioned so that certain pools of IP addresses have priority over others and different CoS can be mapped to different IP address pools. As known in the art, the CMTS  is configured to have one gateway address \u201ccpegiaddr\u201d for all CPE requests, and such configuration works well if the CMTS  has only one downstream for CPE addresses. However, such configuration does not work if the CMTS  has multiple downstreams for CPE addresses having different classes of service. Since each CMTS is configured to have one \u201ccpegiadr\u201d for all CPE requests, an IP address corresponding to a desired class of service may be out of the requesting CPE's subnet. According to an exemplary embodiment, a different gateway address (mapped \u201cgiaddr\u201d) is placed in the incoming DHCP request associated with a CPE based on the class of service required by each CPE. The system administrator may create a set of rules for mapping an incoming \u201cgiaddr\u201d (the \u201ccpegiaddr\u201d in the CMTS) to a mapped \u201cgiaddr\u201d. Table 3 shows an exemplary service class mappings that may be created by the system administrator via the graphical user interface  and then stored in the database .  is an exemplary dialog box that a system administrator uses to manage class of service settings.",{"@attributes":{"id":"p-0092","num":"0091"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"49pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"49pt","align":"center"}},{"@attributes":{"colname":"5","colwidth":"49pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 3"},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}},{"entry":["Incoming","Service",{},{},{}]},{"entry":["giaddr","Class","Mapped giaddr","Subnet Mask","Description"]},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["149.112.10.1","11","149.112.10.1","255.255.255.0","Black service"]},{"entry":[{},{},{},{},"class, unknown"]},{"entry":[{},{},{},{},"CM"]},{"entry":["149.112.10.1","12","149.112.11.1","255.255.255.0","Standard"]},{"entry":[{},{},{},{},"service class"]},{"entry":["149.112.10.1","13","149.112.12.1","255.255.255.0","Gold service"]},{"entry":[{},{},{},{},"class"]},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}}]}}}}},"As shown in Table 3, the system administrator sets a plurality of fields while configuring service classes. One of the fields corresponds to an incoming \u201cgiaddr\u201d, which in an exemplary embodiment corresponds to the \u201ccpegiaddr\u201d defined by the system administrator during setting the DHCP options configuration. Further, the system administrator sets service classes, which are defined by numeric identifiers such as 11, 12 and 13 shown in Table 2. The numeric identifiers do not have to be unique, and the unique key is a combination of an incoming \u201cgiaddr\u201d and service class. The mapped \u201cgiaddr\u201d field corresponds to a CPE's downstream IP address that is mapped from the incoming \u201cgiaddr\u201d. The subnet mask field corresponds to a subnet mask for a specific service class.","According to an exemplary embodiment, system administrators may also restrict vendors and versions of the CMs on their networks. In one embodiment, system administrators set MAC prefixes that are allowed on their network. For example, a system administrator may set three byte MAC prefix values. However, the exemplary embodiment is not limited to the three byte MAC prefix values, and other prefix values could also be used such as four byte prefix values, for example. If the filtering is enabled by a system administrator, the provisioning\/access manager  scans all requests to determine whether or not the first three bytes of the CM MAC address reside in the table defining the allowed MAC prefixes. If the prefix is not found in the database, the packet is dropped and the CM does not receive network services such as an IP address assignment or configuration file assignment. Table 4 shows an exemplary set of MAC prefixes associated with the CMs' MAC addresses that could be set by the system administrator.  illustrates an exemplary dialog box that the system administrator can use to manage and set MAC address prefixes using the graphical user interface tool .",{"@attributes":{"id":"p-0095","num":"0094"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"center"}}],"thead":{"row":[{"entry":[{},"TABLE 4"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"MAC Prefix","Description"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"0x00FF11","Generic 1"]},{"entry":[{},"0x801122","Company X"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"Further, according to an exemplary embodiment, a system administrator may set DHCP forwarding functions when configuring the server cluster . The DHCP forwarding function allows CPE DHCP requests or both CPE and CM DHCP requests to be forwarded to an external DHCP server. In one embodiment, the DHCP forwarding is based on the CM MAC address. A system administrator may assign to each CM MAC address a provider ID that maps to a DHCP server's IP address. Table 5 illustrates an exemplary set of service provider data that may be set, updated and deleted for a specific CM MAC address by the system administrator.  is an exemplary dialog box that a system administrator uses to manage DHCP forwarding.",{"@attributes":{"id":"p-0097","num":"0096"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"84pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"91pt","align":"center"}}],"thead":{"row":[{"entry":"TABLE 5"},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["Provider ID","IP Address","Description"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["3","20.21.22.23","Provider X"]},{"entry":["4","29.21.22.23","Provider Y"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}}}},"If the DHCP for warding function is enabled, the DHCP server  simply forwards the DHCP requests to the specified DHCP server and does not attempt further processing of the packet. According to one embodiment, the default condition is to use the DHCP server  that is co-resident with the provisioning\/access manager . However, if forwarding is enabled, subscriber's requests still have the appropriate policies processed as set for the subscriber and, then, they are forwarded based on the attributes of individual CMs.","In order to set up a network, a system administrator may also configure service-wide options. In one embodiment, the system administrator may manage and set up default parameters for each non-registered CM. Further, the system administrator may set up global service option parameters. Table 6 shows an exemplary set of parameters with a description of each parameter that could be managed by the system administrator. In one embodiment, the system administrator may disable or enable service-wide option using a graphical user interface that displays to the system administrator the options as graphical selection inputs.  is an exemplary dialog box that a system administrator uses to manage the service-wide options.",{"@attributes":{"id":"p-0100","num":"0099"},"tables":{"@attributes":{"id":"TABLE-US-00006","num":"00006"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 6"},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Parameter","Description"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Boot File ID for","Default boot file assigned to 2-way CMs that"]},{"entry":["2 Way CM","make DHCP requests but are not yet"]},{"entry":[{},"provisioned in the database 150"]},{"entry":["Service Class","Default Service Class assigned to CMs that"]},{"entry":[{},"make DHCP requests but are not already"]},{"entry":[{},"provisioned in the database 150"]},{"entry":["Boot File ID for Telco","Default bootfile ID assigned to telco-return"]},{"entry":["Return","CMs that make DHCP requests but are not"]},{"entry":[{},"already provisioned in the database 150"]},{"entry":["Provider ID","Default provider ID assigned to CMs that use"]},{"entry":[{},"other DHCP servers but are not already"]},{"entry":[{},"provisioned in the database 150"]},{"entry":["Enable CM Filtering","Enables or disables DHCP filtering"]},{"entry":["Disable Lease","This feature is necessary for automatic"]},{"entry":["Renewals","provisioning. When enabled, all DHCP rebind"]},{"entry":[{},"requests are denied which forces CPEs and"]},{"entry":[{},"CMs to start the process over with a"]},{"entry":[{},"DISCOVER message"]},{"entry":["Enable Service Classes","Enables or disables the Service Class feature"]},{"entry":["Truncate RRAS MAC","Truncates all incoming hardware addresses to 6"]},{"entry":[{},"bytes, blocking Routing and Remote Access"]},{"entry":[{},"Service (\u201cRRAS\u201d) DHCP requests"]},{"entry":["Assign default bootfile","Add unknown CM to the database with the"]},{"entry":[{},"default boot file, service class, and provider ID"]},{"entry":["Default DHCP","DHCP server performs stock services for the"]},{"entry":["processing","request and does not add it to the database 150"]},{"entry":["Drop packet","Drops the packet"]},{"entry":["Disable forwarding","Disables DHCP forwarding to other DHCP"]},{"entry":[{},"servers"]},{"entry":["Forward all requests","Enables forwarding for CPE and CM requests"]},{"entry":["Forward CPE requests","Enables forwarding for CPE requests only"]},{"entry":"only"},{"entry":["CM\/CPE Combo MAC","The 12-character hex number identifying the"]},{"entry":["key","CM\/CPE combination card CM. The system"]},{"entry":[{},"uses this value to treat CM\/CPE combination"]},{"entry":[{},"cards as both a CM and a CPE. This could be"]},{"entry":[{},"left blank."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},"In the exemplary data-over-cable network , \u201cblack.cfg\u201d (BootFile ID=1), as shown in Table 2, has been defined as the unknown CM Boot File, and the Black service class (Service Class=11), as shown in Table 3, has been defined as the Service Class for the unknown CMs.","Further, according to an exemplary embodiment, the system administrator may save the CMs' configuration settings in the database . According to an exemplary embodiment, the configuration settings are saved in the database  as text files, and a record is created for each registered CM in the data-over-cable network . For example, an exemplary format of a CM record is: \u201cM,0xFFFFFFFFFFFF,2,12,0,0\u201d. In the exemplary record, the first field represents an action or control code, where \u201cM\u201d represents an \u201cadd\/modify\u201d control code and \u201cD\u201d could represent a delete control code. The second field is \u201c0x\u201d followed by 12 hex characters that identify the CM MAC address being added or modified. The third field represents the Boot File ID of the boot file associated with the MAC network address of the CM specified in the second field of the record. In the exemplary embodiment, the record specifies a Boot File ID  that, as shown in Table 2, corresponds to a standard boot file. The fourth field represents the Service Class ID (the service class that the CPE associated with the CM in the record should receive). In the exemplary embodiment, the record specifies the service class 12 that, as shown in Table 3, corresponds to a standard service class. The fifth field represents the Provider ID to which DHCP requests should be forwarded, and the sixth field represents Flags.","According to an exemplary embodiment, the system administrator may allow external systems to interact with the DHCP server  by creating programs that give an access to the server cluster . For example, other servers could interact programmatically with the server cluster  by using the COM interface . Further, according to an exemplary embodiment, a wrapper such as a C wrapper could be built around the COM  to support other interfaces such as Java Interfaces, for instance. The GUI Tool  can be accessed by any COM-accessible language, such as C++, VBScript, JScript or Java, for instance. However, the present invention is not limited to these languages, and other currently existing or later developed languages could also be used.",{"@attributes":{"id":"p-0104","num":"0103"},"figref":"FIG. 12","b":"160"},"Referring to , at step , a first network device receives a first message from a second network device. According to an exemplary embodiment, the first message includes a request for network services. Further, the first message includes a plurality of fields where one of the fields defines an identifier of the second network device. At step , the first network device marks the first message with an identifier of a network access device associated with the second network device. In an exemplary embodiment, the first network device maps the identifier of the network access device in a field of the first message that is different that the field including the identifier of the second network device. In one embodiment, the second network device comprises the network access device. In another embodiment, the second network device communicates with the network access device.","At step , a third network device intercept the first message. According to an exemplary embodiment, the third network device intercepts the first message prior to any first protocol network server receives the first message. At step , the third network device determines the identity of the second network device using the identifiers in the first message. In one embodiment, the second network device comprises the network access device, and in such an embodiment, the identifier of the second network device is the same as the identifier of the network access device inserted in the first message by the first network device. Then, the third network device concludes that the second network device is the network access device. Alternatively, if the second network device communicates with the network access device, the identifiers included in the first message differ, and the third network device concludes that the second network device communicates with the network access device.","At step , the third network device manages an assignment of the configuration parameters for the second network device based on the identity of the network access device. In one embodiment, the third network entity queries a database to retrieve a configuration record associated with the identifier of the network access device. According to an exemplary embodiment, the database includes a plurality of configuration records, and each record is developed based on the identifier of the network access device. In one embodiment, the configuration record includes the identifier of the network access device, a configuration file identifier with a path of a configuration file on a second protocol network server and a service provider identifier with an IP address of a first protocol server associated with the service provider. Further, the configuration record includes a class of service parameter associated with any network devices in communication with the network access device.","In one embodiment, if the second network device comprises the network access device, the third network device inserts the path of the configuration file associated with the configuration file identifier so that the second network device receives the preferred configuration file. Alternatively, the third network device forwards the first message to a service provider indicated in the record. Further, if the second network device communicates with the network access device, the third network device uses the class of service parameter to redirect the incoming message and to assign an IP network address to the second network device from a pool of IP addresses associated with the class of service parameter.","In the exemplary embodiment, the first network device comprises a CMTS , the network access device is the CM  and the third network device is the provisioning\/access manager . In the exemplary embodiment, the second network device comprises the CM  if the second network device is the network access device. Otherwise, the second network device comprises the CPE. Further, the identifier of the network access device comprises a MAC address of the network access device, and the first message comprises a DHCP message. In the exemplary embodiment, the first protocol server comprises a DHCP server, and the second protocol server comprises a TFTP server.",{"@attributes":{"id":"p-0110","num":"0109"},"figref":"FIGS. 13A and 13B","b":["150","16"]},"Referring to , at step , the CM  sends a first message in the data-over-cable system . According to an exemplary embodiment, the first message is a DHCP message such as a DHCP discover message or a DHCP request message, and the first message has a message structure as shown in FIG. .","At step , a CMTS such as the CMTS  determines whether a system administrator has enabled a parameter associated with the QoS policy provisioning method. According to an exemplary embodiment, the CMTS  determines whether the \u201cagentinfooption\u201d parameter has been set by the system administrator. If the system administrator has not enabled the \u201cagentinfooptions\u201d parameter, at step , the method  terminates, and the first message is processed according to a standard DHCP method. However, if the system administrator has enabled the \u201cagentinfooptions\u201d parameter, at step , the CMTS  modifies the first message. According to an exemplary embodiment, the CMTS  marks the first message with an identifier of a network access device. In the exemplary embodiment, the CM  is the network access device and, thus, the CMTS  marks the first message by placing a MAC network address of the CM  in the \u201coptions\u201d field  of the first message and forwards the message.","At step , a third network entity such as the provisioning\/access manager  intercepts the first message. According to an exemplary embodiment, the provisioning\/access manager  intercepts the first message prior to any network server such as a DHCP server receives the first message. In one embodiment, the provisioning\/access manager  has a plurality of dynamic link library (\u201cdll\u201d) extensions that execute a set of instructions upon the receipt of every DHCP message. In such an embodiment, when the provisioning\/access manager  receives the first message, the provisioning\/access manager  calls one or more dll extensions.","Then, at step , the provisioning\/access manager  determines the identity of a network device associated with the first message. In one embodiment, the provisioning\/access manager  may determine the identity of the network device by comparing the MAC network address in the \u201coptions\u201d field with a MAC network address in the \u201cchaddr\u201d field of the first message. If the MAC network address in the \u201coptions\u201d field is the same as the MAC network address in the \u201cchaddr\u201d, the the provisioning\/access manager  concludes that the query came from a cable modem. However, if the MAC network address in the \u201coptions\u201d field differs from the network hardware address in the \u201cchaddr\u201d field then, the the provisioning\/access manager  recognizes that the query came from a CPE. In the exemplary embodiment associated with the method , the MAC network address in the \u201coptions\u201d field is the same as the MAC network address in the \u201cchaddr\u201d field. Thus, the provisioning\/access manager  concludes that the first message is associated with the cable modem, and in the exemplary embodiment, the first message is associated with the CM . If the values in the fields would differ, the third network entity would conclude that the first network device was a CPE, and  illustrate such an embodiment.","At step , the provisioning\/access manager  queries a database such as the database  to determine if any pre-configured records exist in the database for the CM . According to an exemplary embodiment, the provisioning\/access manager  queries the database  using the MAC network address retrieved from the \u201coptions\u201d field in the first message. According to an exemplary embodiment, the provisioning\/access manager  may specify the type of the first network device in the query. Thus, herein, the provisioning\/access manager  specifies that the first network device is a cable modem.","If a system administrator has enabled the DHCP filtering options while setting up the configuration options parameters, at step  in , the provisioning\/access manager  determines whether a prefix of the MAC network address of the CM  is one of the allowed MAC network address prefixes stored in the database . If the prefix of the MAC network address is not found in the database , at step , the provisioning\/access manager  does not process the first message, and the method  terminates. If the prefix of the MAC network address is one of the allowed MAC address prefixes, at step , the provisioning\/access manager  determines whether the database  includes a configuration information record associated with the MAC network address of the CM . If the database  does not have a configuration information record for the CM , the provisioning\/access manager  determines whether the system administrator set up any default settings for unknown network devices. If such settings has been set up, the MAC network address of the CM  is entered to the database. Further, the provisioning\/access manager  determines a default service class and a default configuration file ID with a full path to that file on a network server such as a Trivial File Transfer Protocol server. Further, the provisioning\/access manager  determines a Provider ID of a network server such as a DHCP server that has been assigned to handle the assignment of default settings such as the assignment of default IP addresses to unregistered network devices. In the exemplary embodiment, the DHCP  handles the assignment of the default configuration settings. At step , the default settings are returned to the CM .","Alternatively, a system administrator can enable one of the configuration options such as the \u201cDefault DHCP Processing\u201d option or the \u201cDrop packet\u201d option for unregistered network devices. As described in Table 6, if the system administrator enables the \u201cDefault DHCP Processing\u201d option, a network server such as the DHCP server  performs stock services for all received requests but does not add the MAC network address associated with the requests to the database . Further, if the system administrator enables the \u201cDrop packet\u201d option, the requests from the unregistered network devices are simply dropped and are not processed in the data-over-cable system .","If the provisioning\/access manager  has determined at step  that the record for the CM  exists in the database , at step , the provisioning\/access manager  retrieves the record from the database . In one embodiment, the provisioning\/access manager  determines an identifier of a configuration file and an identifier of a service provider such as an identifier of a DHCP server to which the first message should be forwarded. In one embodiment, as shown in Table 2, each configuration file's identifier maps to a configuration file path, and the provisioning\/access manager  inserts that configuration file path to the first message.","At step , the provisioning\/access manager  determines whether the \u201cService Forwarding\u201d configuration options parameter has been enabled by the system administrator. If the \u201cService Forwarding\u201d option has been enabled and the configuration record associated with the CM  includes an identifier of a service provider to which the first network message should be forwarded, at step , the provisioning\/access manager  forwards the first message to the specified provider. Thus, according to an exemplary embodiment, the network server such as the DHCP server  does not attempt further processing of the request in the first message simply forwards the first message to the specified provider. As described in reference to Table 5, each identifier of a service provider maps to an IP address of the service provider. Thus, the provisioning\/access manager  uses an IP address of the service provider from the record to forward the first message, and the method  terminates. However, if the \u201cService Provisioning\u201d option is disabled, at step , the provisioning\/access manager  uses the pre-provisioned configuration file identifier and configuration file path to process the first message.","The method  has been described in reference to network devices shown in FIG. . However, it should be understood that the present invention is not limited to these network devices, and more, fewer and equivalent network devices could also be employed to carry out the described method. Further, unless specified to the contrary, the steps of the flow chart may be taken in sequence other than that described, and more or fewer steps could be used.",{"@attributes":{"id":"p-0121","num":"0120"},"figref":"FIGS. 14A and 14B","b":["250","18","16"]},"Referring to , at step , the CPE  sends a first message in a data-over-cable system such as the data-over-cable system  shown in FIG. . According to an exemplary embodiment, the first message is a DHCP message such as a DHCPDISCOVER message or a DHCPREQUEST message and, the structure of the first message is as shown in FIG. . Further, according to an exemplary embodiment, the first message includes either a request to discover an IP address for the CPE  or an actual request for an P address.","At step , a CMTS such as the CMTS  determines whether a system administrator has enabled a parameter associated with the QoS policy provisioning method. According to an exemplary embodiment, the CMTS  determines whether the \u201cagentinfooption\u201d has been set by the system administrator. If the system administrator has not enabled the \u201cagentinfooption\u201d parameter, at step , the method  terminates, and the request in the first message is processed according to a standard DHCP method. However, if the system administrator has enabled the \u201cagentifooption\u201d, the first message is processed according to the exemplary embodiment.","In one embodiment, a vendor option field is added to the CMTS  such that when the \u201cagentinfooption\u201d is enabled, an identifier of a network access device such as a MAC network address of a network access device such as the MAC network address of the CM  is added to any DHCP request. Thus, at step , the second network device modifies the first message by marking the first message with the identifier of the CM . In a preferred embodiment, the CMTS  maps a MAC network address of the CM  in the \u201coptions\u201d field  of the first message and forwards the message. Further, the CMTS  places in the first message an IP address of the relay agent (the \u201ccpegiaddr\u201d set in the CMTS).","At step , a third network entity such as the provisioning access manager  intercepts the first message. According to an exemplary embodiment, the provisioning access manager  intercepts DHCP messages prior to any DHCP network server receives the messages. Thus, the provisioning access manager  intercepts the first message prior to a DHCP server such as the DHCP server  receives the first message. In one embodiment, the provisioning access manager  includes a plurality of dll extensions that execute a set of instructions upon intercepting of any DHCP message. In such an embodiment, when the provisioning access manager  receives the first message, the provisioning access manager  calls one or more dll extensions to execute a set of instructions such as instructions to query a database for a record associated with the identifier included in the first message.","At step , the provisioning access manager  determines the identity of a network device that sent the first message. In one embodiment, the provisioning access manager  determines the identity of the network device by comparing the MAC network address in the \u201coptions\u201d field of the first message with a MAC network address in the \u201cchaddr\u201d field of the first message. In the exemplary embodiment, the MAC network address in the \u201coptions\u201d field is different than the MAC network address in the \u201cchaddr\u201d and, thus, this implies that a CPE in communication with the CM  is behind the request.","At step , the provisioning access manager  queries the database  to retrieve a configuration record associated with the MAC network address in the \u201coptions\u201d field of the first message. According to an exemplary embodiment, since the request has been identified as originating from the CPE, the implied function of the provisioning access manager  is to redirect the first message to a special IP range or scope based upon which network access device the CPE is behind. Further, if the CPE requests the network services for the first time, the provisioning access manager  enters the MAC network address form the \u201cchaddr\u201d field into the database  and marks it as belonging to the CPE. In one embodiment, this event may be a trigger point for the provisioning\/access manager  to query the CMTS  for a relationship of the CPE with a unique network access device such as the CM  in the exemplary embodiment.","If the system administrator has enabled the DHCP filtering options while setting up the configuration options, at step  in , the provisioning access manager  determines whether a prefix of the MAC network address of the network access device is one of the allowed MAC network address prefixes stored in the database. If the prefix of the MAC network address is not found in the database, the provisioning access manager  does not process the request in the first message, and the method  terminates.","If the prefix of the MAC network address is one of the allowed prefixes, the provisioning access manager  determines whether the database  includes a configuration information record associated with the MAC network address of the network access device. If the database  does not include any records associated with the network access device, the method  terminates. If the configuration information record for the MAC network address specified in the \u201coptions\u201d field exists in the database, at step , the provisioning access manager  retrieves the configuration record from the database .","Based on the retrieved record, at step , the provisioning access manager  determines what class of service any network device behind the network access device should receive. After the class of service has been determined, the provisioning access manager  looks up the service class table, which is keyed by the incoming \u201cgiaddr\u201d and service classes. The exemplary set of parameters associated with the service class configuration was shown in Table 4.","At step , after the provisioning access manager  finds an attribute associated with the class of service for the CPE, the provisioning access manager  maps the incoming \u201cgiaddr\u201d to a new \u201cgiaddr\u201d (\u201cmapped giaddr\u201d) that specifies the scope of network addresses providing a desired class of service. The \u201cmapped giaddr\u201d allows the network server such as the DHCP server to assign an IP address for the CPE out of the server's subnet, and a new subnet associated with the \u201cmapped giaddr\u201d provides the desired class of service. Further, the \u201cmapped giaddr\u201d does not necessarily differ from the incoming \u201cgiaddr\u201d and, in some embodiments, the \u201cmapped giaddr\u201d is the same as incoming \u201cgiaddr\u201d. Thus, according to an exemplary embodiment, the subnets may be created with the context of service class or, alternatively, with the context of service provider or any other functionality or accounting based grouping.","At step , the provisioning access manager  determines whether the \u201cService Forwarding\u201d configuration option parameter has been enabled by the system administrator. If the \u201cService Forwarding\u201d configuration parameter has been enabled and, further, the configuration information record associated with the MAC network address of the network access device includes an identifier of the service provider to which the requests should be forwarded then, at step , the provisioning access manager  forwards the request to the specified service provider. In such an embodiment, the network server such as the DHCP server  does not attempt to further process the request in the first message sent from the first network device. However, if the \u201cService Provisioning\u201d configuration option is disabled, at step , the network server such as the DHCP server  processes the request in the first message.","The method  has been described in reference to network devices shown in FIG. . However, it should be understood that the present invention is not limited to these network devices, and more, fewer or different network devices could also be employed to carry out the described embodiment. Further, unless specified to the contrary, the steps of the flow chart may be taken in sequence other than that described, and more or fewer steps could be also be used. Further, the exemplary method is not limited to modifying \u201cgiaddr\u201d field, and other fields could also be modified.","Further, according to an exemplary embodiment, once configuration parameters and IP addresses are assigned to a network device, a record is created for such network device, and the record is updated every time a lease of a new address is given out to the network device. For example, in an exemplary embodiment, the database  stores such records. Table 7 illustrates an exemplary set of parameters that is created for each network device and stored in the database .",{"@attributes":{"id":"p-0135","num":"0134"},"tables":{"@attributes":{"id":"TABLE-US-00007","num":"00007"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"105pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 7"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]},{"entry":[{},"Field","Type","Description"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"IP Address","Int","IP address assigned"]},{"entry":[{},"CmMAC","Binary","MAC address of the CM to"]},{"entry":[{},{},{},"which this IP address has been"]},{"entry":[{},{},{},"assigned. If this IP address is"]},{"entry":[{},{},{},"assigned to a CPE, then this"]},{"entry":[{},{},{},"value is the MAC address of"]},{"entry":[{},{},{},"the CM associated with the"]},{"entry":[{},{},{},"CPE."]},{"entry":[{},"AssignedMac","Binary","MAC address of an adapter"]},{"entry":[{},{},{},"that this IP address was"]},{"entry":[{},{},{},"assigned. This value could be"]},{"entry":[{},{},{},"the same as the CmMAC"]},{"entry":[{},{},{},"value."]},{"entry":[{},"Type","Int","Identifies the device type that"]},{"entry":[{},{},{},"is associated with the IP"]},{"entry":[{},{},{},"address. Exemplary values"]},{"entry":[{},{},{},"are 1 for a CM and 2 for a"]},{"entry":[{},{},{},"CPE."]},{"entry":[{},"LeaseExp","Int","C time that the lease will"]},{"entry":[{},{},{},"expire."]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]}}}}},"Further, according to an exemplary embodiment, a simple automatic web registration and session based prepaid registration are supported in the data-over-cable system .  shows an exemplary block diagram of a data-over-cable system  for the automatic web registration and session based prepaid registration. The exemplary system  is a simplified system and is intended to illustrate a plurality of exemplary network devices employed in the automatic registration and the prepaid registration process. The exemplary system  includes the CM , the CPE , the DHCP server , an application server , an intranet web server , Operations Support System with a Business Support System (\u201cOSS\/BSS\u201d)  and a Remote Authentication Dial-In User Service (\u201cRADIUS\u201d) . However, the present invention is not limited to these network devices, and more, fewer or equivalent network devices could also be used. As is known in the art, the OSS supports the daily operation of the telecommunication infrastructure, order negotiation, order processing, testing and billing. The BSS is one of the types of the OSS and is typically used by network administrators to manage business operations such as billing, sales management, customer-service management and customer databases. Further, as known in the art, a RADIUS is an authentication\/accounting client\/server based software system that is used by Internet Service Providers (\u201cISPs\u201d) to verify passwords and\/or usernames of their clients.",{"@attributes":{"id":"p-0137","num":"0136"},"figref":"FIGS. 16A and 16B","b":["300","16","18"]},"Referring to , at step , the first network device boots for the very first time. According to an exemplary embodiment, a third network entity such as the provisioning-access manager  queries a database such as the database  to determine whether the first network device is one of the registered network devices. Thus, the third network entity determines whether any configuration records exist for a network hardware address of the first network device. However, since the first network device is unknown to the system, no records exist for the first network device. In one embodiment, the third network entity creates a default record for the MAC network address of the first network entity. Next, at step , the third network entity assigns a default configuration parameter set to the first network device, and a default configuration file is delivered to the first network device.","At step , the second network device associated with the first network device boots for the first time and requests network services. According to the exemplary embodiment, by this time, the first network device is already configured with the default configuration parameters and the default record exists in the database for the first network device. Thus, when the second network device associated with the first network device requests the configuration parameters, the third network entity retrieves the record of the first network device from the database and, at step , assigns an intranet IP network address to the second network device. Thus, the second network device receives a non-routable IP address and is given an intranet access.","Then, according to an exemplary embodiment, at step , a customer is automatically redirected to an Intranet web server such as the Intranet web server . At step , the customer is queried to enter a desired CoS, billing information and account information, and the customer signs-up for the service. For example, during the sign-up process, the customer is queried to enter a password or a userid that the customer wants to use. To verify whether the selected userid or the password is available, the Intranet web server  communicates with the OSS\/BSS .","At step  in , the Intranet web server  communicates with an application server such as the application server . In one embodiment, the server  provides sign-up information data of the second network device to the application server . To create any records for the second network device, the application server  determines what network access device is associated with the first network device. To do that, the application server  queries a first protocol server such as the DHCP server  for a MAC network address of the network access device, which in the exemplary embodiment is the MAC network address of the CM . After the MAC network address is obtained, at step , a new configuration record is created for the network access device associated with the MAC network address, and the configuration record is stored in the database . According to an exemplary embodiment, the new configuration record includes a plurality of parameters such as a configuration file name for the network access device with a path to the configuration file on a designated server, and a service class identifier for network devices attached to the network access device. Further, a record is created to identify what service class the customer should receive. It is possible that the customer signed up for a prepaid service plan, in which a MAC network address of a customer's network access device is marked as such. Further, if a customer signed up for a monthly service plan, any network devices attached to such customer's network access device will be given a new class of service.","At step , the application server  adds the user's information data to a pool of users' database on the OSS\/BSS . Further, the OSS\/BSS  adds the user's information data to a database of an authentication network device such as a database of the RADIUS . At step , the application server  directs the first network device to re-boot. In one embodiment, the application server  employs a Simple Network Management Protocol (\u201cSNMP\u201d) to instruct the first network device to re-boot. When the first network device re-boots, at step , the first network device configures its internal parameters using a new configuration file. According to an exemplary embodiment, the first network device sends a DHCP message, and the first network device is assigned the new configuration file according to the process described in reference to . Upon a completion of the process, the first network device is configured with a plurality of configuration parameters corresponding to a class of service associated with the first network device.","At step , when a lease of the temporary intranet IP address of the second network device expires, the second network device is assigned a new IP address based on the class of service in the configuration records stored in the database . The process of assigning an IP address to a network device such as the second network device has been described in reference to .","The method  has been described in reference to network devices shown in FIG. .","However, the exemplary method is not limited to these network devices and fewer, more or equivalent network devices could be employed to carry out the described embodiment. Further, the steps of the flow chart may be taken in sequence other than that described, and more or fewer steps could also be used.","There is a plurality of functions that may be used by external network devices to access the database  and to perform a number of functional operations. According to one embodiment, a \u201cGetVersion\u201d function, \u201cSetCmInfo\u201d function, \u201cGetCmInfo\u201d function, \u201cDeleteCm\u201d function, \u201cDumpCmInfoToFile\u201d function, \u201cGetCmInfoFromFile\u201d function, \u201cGetIpForCmMac\u201d function, \u201cGetCmMacFromIp\u201d function, \u201cGetNbrOfLic\u201d function and \u201cGetLastError\u201d function are created to allow external systems the interaction with the DHCP server . The \u201cGetVersion\u201d returns a version of a currently used API as a whole number. An exemplary function declaration of the \u201cGetVersion\u201d function is: GetVersion( ) as integer.","The \u201cSetCmInfo\u201d function is used to create a new entry in the database  if a CM MAC address does not exist in the database . An exemplary declaration of the \u201cSetCMInfo\u201d function is: SetCMInfo (CmMacAddr [in] as string, BootFileID as integer, PCServiceClass [in] as integer, ProviderID as integer, Flags as integer) as Boolean. An exemplary code sequence that may be used to create the \u201cSetCmInfo\u201d function is shown in Table 8. However, the exemplary embodiment is not limited to the shown code sequence, and other code sequences could also be used.",{"@attributes":{"id":"p-0148","num":"0147"},"tables":{"@attributes":{"id":"TABLE-US-00008","num":"00008"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"196pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 8"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Private Sub bnSetCmInfo_Click( )"]},{"entry":[{},"Dim obj As Object"]},{"entry":[{},"Dim ErrorCode As Variant, ErrorDesc As Variant"]},{"entry":[{},"Set obj = CreateObject(\u201cDOCSIS.AdminMain\u201d)"]},{"entry":[{},"Dim rc As Integer"]},{"entry":[{},"rc = obj.SetCmInfo(edSetMac.Text, edSetBootID.Text,"]},{"entry":[{},"edSetClass.Text,"]},{"entry":[{},"edProviderIDIn.Text, edFlagsIn.Text)"]},{"entry":[{},"If rc = 0 Then"]},{"entry":[{},"obj.GetLastError ErrorCode, ErrorDesc"]},{"entry":[{},"MsgBox \u201cError Code:\u201d & ErrorCode & \u201cError Desc:\u201d &"]},{"entry":[{},"ErrorDesc"]},{"entry":[{},"Else"]},{"entry":[{},"MsgBox \u201cSuccess\u201d"]},{"entry":[{},"End If"]},{"entry":[{},"End Sub"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"The \u201cGetCmInfo\u201d function retrieves information about a given CM. An exemplary declaration of the \u201cGetCmInfo\u201d function is: GetCmInfo (CmMacAddr [in] as string, BootFileID [out] as variant, PCServiceClass [out] as variant, ProviderID[out] as variant, Flags[out] as variant) as Boolean. An exemplary code sequence that may be used to create the \u201cGetCmInfo\u201d is shown in Table 9. However, the exemplary embodiment is not limited to the shown code sequence, and other code sequences could also be used.",{"@attributes":{"id":"p-0150","num":"0149"},"tables":{"@attributes":{"id":"TABLE-US-00009","num":"00009"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"196pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 9"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Private Sub bnGetCmInfo_Click( )"]},{"entry":[{},"Dim obj As Object"]},{"entry":[{},"Set obj = CreateObject(\u201cDOCSIS.AdminMain\u201d)"]},{"entry":[{},"Dim rc As Integer"]},{"entry":[{},"Dim lBootID As Variant, lClass As Variant, ProviderID As"]},{"entry":[{},"Variant, Flags As"]},{"entry":[{},"Variant"]},{"entry":[{},"Dim CmSettings As Variant"]},{"entry":[{},"rc = obj.GetCmInfo(edGetMac.Text, lBootID, lClass,"]},{"entry":[{},"ProviderID, Flags,"]},{"entry":[{},"CmSettings)"]},{"entry":[{},"edGetBootID.Text = lBootID"]},{"entry":[{},"edGetClass.Text = lClass"]},{"entry":[{},"edProviderID.Text = ProviderID"]},{"entry":[{},"edFlags.Text = Flags"]},{"entry":[{},"edSettings.Text = CmSettings"]},{"entry":[{},"MsgBox (\u201cReturned\u201d & rc)"]},{"entry":[{},"End Sub"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"The \u201cDeleteCm\u201d function removes a record associated with the specified cable modem from the system. An exemplary function declaration is: DeleteCm (CmMacAddr [in] as string) as Boolean. An exemplary code sequence for creating the \u201cDeleteCm\u201d function is shown in Table 10. However, the exemplary embodiment is not limited to the shown code sequence, and other code sequences could also be used.",{"@attributes":{"id":"p-0152","num":"0151"},"tables":{"@attributes":{"id":"TABLE-US-00010","num":"00010"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"182pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 10"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Private Sub bnDelCm_Click( )"]},{"entry":[{},"Dim obj As Object"]},{"entry":[{},"Set obj = CreateObject(\u201cDOCSIS.AdminMain\u201d)"]},{"entry":[{},"Dim rc As Integer"]},{"entry":[{},"rc = obj.DeleteCm(edDelCmMac.Text)"]},{"entry":[{},"MsgBox (\u201cReturned\u201d & rc)2"]},{"entry":[{},"End Sub"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"The \u201cDumpCmInfoToFile\u201d function dumps the entire contents of the CmConfig table to a comma-delimited file. The FullFilePath can be either a local path such as \u201cc:\\temp\\somefile.txt\u201d or a UNC name such as \u201c\\\\someserver\\someshare\\somefile.txt\u201d. An exemplary function declaration of the \u201cDumpCmInfoToFile\u201d function is: DumpCmInfoToFile (FullFilePath [in] as string) as Boolean. Table 11 shows an exemplary code sequence for creating the \u201cDumpCmInfoToFile\u201d declaration. However, the exemplary embodiment is not limited to the shown code sequence, and other code sequences could also be used.",{"@attributes":{"id":"p-0154","num":"0153"},"tables":{"@attributes":{"id":"TABLE-US-00011","num":"00011"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 11"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Private Sub bnDump_Click( )"]},{"entry":[{},"Dim obj As Object"]},{"entry":[{},"Set obj = CreateObject(\u201cDOCSIS.AdminMain\u201d)"]},{"entry":[{},"Dim rc As Integer"]},{"entry":[{},"rc = obj.DumpCmInfoToFile(edDumpFilePath.Text)"]},{"entry":[{},"MsgBox (\u201cReturned\u201d & rc)"]},{"entry":[{},"End Sub"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"The \u201cGetCmInfoFromFile\u201d function retrieves CM configuration information from the specified file. The text file could have the same format as the text file in the \u201cDumpCmInfoToFile\u201d. If the MAC address already exists, the other fields will be set to the values in the file. An exemplary function declaration of the \u201cGetCmInfoFromFile\u201d is: \u201cBool GetCmInfoFromFile (FullFilePath [in] as string) as Boolean. Table 12 shows an exemplary code sequence for creating the \u201cGetCmInfoFromFile\u201d declaration. However, the exemplary embodiment is not limited to the shown code sequence, and other code sequences could also be used.",{"@attributes":{"id":"p-0156","num":"0155"},"tables":{"@attributes":{"id":"TABLE-US-00012","num":"00012"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 12"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Private Sub bnGetFileInfo_Click( )"]},{"entry":[{},"Dim obj As Object"]},{"entry":[{},"Set obj = CreateObject(\u201cDOCSIS.AdminMain\u201d)"]},{"entry":[{},"Dim rc As Integer"]},{"entry":[{},"rc = obj .GetCmInfoFromFile(edGetFilePath.Text)"]},{"entry":[{},"MsgBox (\u201cReturned\u201d & rc)"]},{"entry":[{},"End Sub"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"The \u201cGetIpForCmMac\u201d function gets an IP address for the specified MAC address. An exemplary function declaration for the \u201cGetIpForCmMac\u201d function is: Bool GetIpForCmMac (CmMac as string, IpAddress[out] as variant). Table 13 shows an exemplary code sequence for creating the \u201cGetIpForCmMac\u201d function. However, the exemplary embodiment is not limited to the shown code sequence, and other code sequences could also be used.",{"@attributes":{"id":"p-0158","num":"0157"},"tables":{"@attributes":{"id":"TABLE-US-00013","num":"00013"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"196pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 13"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Private Sub bnIpmapping_Click( )"]},{"entry":[{},"Dim obj As Object"]},{"entry":[{},"Set obj = CreateObject(\u201cDOCSIS.AdminMain\u201d)"]},{"entry":[{},"Dim rc As Integer"]},{"entry":[{},"IfOption1.Value = True Then \u2018GetCmMacFromIp"]},{"entry":[{},"rc = obj.GetCmMacFromIp(edIpAddr.Text, vntTmp)"]},{"entry":[{},"edCmMacIp.Text = vntTmp"]},{"entry":[{},"End If"]},{"entry":[{},"IfOption2.Value = True Then \u2018GetAssignedMacFromIp"]},{"entry":[{},"rc = obj.GetAssignedMacFromIp(edIpAddr.Text, vntTmp)"]},{"entry":[{},"edCmMacIp.Text = vntTmp"]},{"entry":[{},"End If"]},{"entry":[{},"IfOption3.Value = True Then \u2018GetIpForCmMac"]},{"entry":[{},"rc = obj.GetIpForCmMac(edCmMacIp.Text, vntTmp)"]},{"entry":[{},"edIpAddr.Text = vntTmp"]},{"entry":[{},"End If"]},{"entry":[{},"MsgBox (\u201cReturned\u201d & rc)"]},{"entry":[{},"End Sub"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"The \u201cGetCmMacFromIp\u201d function gets the CM MAC address for the specified IP address. According to an exemplary embodiment, the IP address could be a CM's IP address or an IP address of a PC attached to the CM. An exemplary function declaration for the \u201cGetCmMacFromIp\u201d function is: Bool GetCmMacFromIp (IpAddress as string, CmMAC[out] as string). Table 14 shows an exemplary code sequence for creating the \u201cGetCmMacFromIp\u201d function. However, the exemplary embodiment is not limited to the shown code sequence, and other code sequences could also be used.",{"@attributes":{"id":"p-0160","num":"0159"},"tables":{"@attributes":{"id":"TABLE-US-00014","num":"00014"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"196pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 14"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Private Sub bnIpmapping_Click( )"]},{"entry":[{},"Dim obj As Object"]},{"entry":[{},"Set obj = CreateObject(\u201cDOCSIS.AdminMain\u201d)"]},{"entry":[{},"Dim rc As Integer"]},{"entry":[{},"IfOption1.Value = True Then \u2018GetCmMacFromIp"]},{"entry":[{},"rc = obj.GetCmMacFromIp(edIpAddr.Text, vntTmp)"]},{"entry":[{},"edCmMacIp.Text = vntTmp"]},{"entry":[{},"End If"]},{"entry":[{},"IfOption2.Value = True Then \u2018GetAssignedMacFromIp"]},{"entry":[{},"rc = obj.GetAssignedMacFromIp(edIpAddr.Text, vntTmp)"]},{"entry":[{},"edCmMacIp.Text = vntTmp"]},{"entry":[{},"End If"]},{"entry":[{},"IfOption3.Value = True Then \u2018GetIpForCmMac"]},{"entry":[{},"rc = obj.GetIpForCmMac(edCmMacIp.Text, vntTmp)"]},{"entry":[{},"edIpAddr.Text = vntTmp"]},{"entry":[{},"End If"]},{"entry":[{},"MsgBox (\u201cReturned\u201d & rc)"]},{"entry":[{},"End Sub"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"The \u201cGetAssignedMacFromIp\u201d function gets a MAC address of a CM or a MAC address of a CPE for an IP address passed in. An exemplary function declaration for the \u201cGetAssignedMacFromIp\u201d function is: Bool GetAssignedMacFromIp(IpAddress as string, MAC[out] as variant). Table 15 shows an exemplary code sequence for creating the \u201cGetAssignedMacFromIp\u201d function. However, the exemplary embodiment is not limited to the shown code sequence, and other code sequences could also be used.",{"@attributes":{"id":"p-0162","num":"0161"},"tables":{"@attributes":{"id":"TABLE-US-00015","num":"00015"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"196pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 15"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Private Sub bnIpmapping_Click( )"]},{"entry":[{},"Dim obj As Object"]},{"entry":[{},"Set obj = CreateObject(\u201cDOCSIS.AdminMain\u201d)"]},{"entry":[{},"Dim rc As Integer"]},{"entry":[{},"IfOption1.Value = True Then \u2018GetCmMacFromIp"]},{"entry":[{},"rc = obj.GetCmMacFromIp(edIpAddr.Text, vntTmp)"]},{"entry":[{},"edCmMacIp.Text = vntTmp"]},{"entry":[{},"End If"]},{"entry":[{},"IfOption2.Value = True Then \u2018GetAssignedMacFromIp"]},{"entry":[{},"rc = obj .GetAssignedMacFromIp(edIpAddr.Text, vntTmp)"]},{"entry":[{},"edCmMacIp.Text = vntTmp"]},{"entry":[{},"End If"]},{"entry":[{},"IfOption3.Value = True Then \u2018GetIpForCmMac"]},{"entry":[{},"rc = obj.GetIpForCmMac(edCmMacIp.Text, vntTmp)"]},{"entry":[{},"edIpAddr.Text = vntTmp"]},{"entry":[{},"End If"]},{"entry":[{},"MsgBox (\u201cReturned\u201d & rc)"]},{"entry":[{},"End Sub"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"The \u201cGetNbrOfLic\u201d function gets a maximum number of licenses that may be configured in the data-over-cable system . An exemplary function declaration of the \u201cGetNbrOfLic\u201d function is: Bool GetNbrOfLic(MaxLics[out] as variant). Table 16 shows an exemplary code sequence for creating the declaration of the \u201cGetNbrOfLic\u201d function. However, the exemplary embodiment is not limited to the shown code sequence, and other code sequences could also be used.",{"@attributes":{"id":"p-0164","num":"0163"},"tables":{"@attributes":{"id":"TABLE-US-00016","num":"00016"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 16"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Private Sub bnGetLic_Click( )"]},{"entry":[{},"Dim obj As Object"]},{"entry":[{},"Dim rc As Integer"]},{"entry":[{},"Dim Lics"]},{"entry":[{},"Set obj = CreateObject(\u201cDOCSIS.AdminMain\u201d)"]},{"entry":[{},"rc = obj.GetNbrOfLic(Lics)"]},{"entry":[{},"If rc <> 0 Then"]},{"entry":[{},"MsgBox \u201cYou have a\u201d & Lics & \u201cCM entry license\u201d"]},{"entry":[{},"Else"]},{"entry":[{},"MsgBox \u201cAn error has occurred.\u201d"]},{"entry":[{},"End If"]},{"entry":[{},"End Sub"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"The \u201cGetLastError\u201d function gets the error code and description for the last error to occur for an object instance. An exemplary function declaration for the \u201cGetLastError\u201d function is:","Bool GetLastError(ErrorCode[out] variant, ErrorDesc[out] variant), where the \u201cErrorCode\u201d identifies a number that uniquely identifies the error that occurred and the \u201cErrorDesc\u201d includes a string description of the error that has occurred. Table 17 shows an exemplary code sequence for creating the \u201cGetLastError\u201d function. However, the exemplary embodiment is not limited to the shown code sequence, and other code sequences could also be used.",{"@attributes":{"id":"p-0167","num":"0166"},"tables":{"@attributes":{"id":"TABLE-US-00017","num":"00017"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"196pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 17"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Private Sub bnGetLastError_Click( )"]},{"entry":[{},"Dim obj As Object"]},{"entry":[{},"Dim rc As Integer"]},{"entry":[{},"Dim ErrorCode As Variant"]},{"entry":[{},"Dim ErrorDesc As Variant"]},{"entry":[{},"Set obj = CreateObject(\u201cDOCSIS.AdminMain\u201d)"]},{"entry":[{},"rc = obj.GetLastError(ErrorCode, ErrorDesc)"]},{"entry":[{},"If rc <> 0 Then"]},{"entry":[{},"MsgBox \u201cError Code:\u201d & ErrorCode & \u201cError Desc:\u201d &"]},{"entry":[{},"ErrorDesc"]},{"entry":[{},"Else"]},{"entry":[{},"MsgBox \u201cGet Last Error Failed.\u201d"]},{"entry":[{},"End If"]},{"entry":[{},"End Sub"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"In view of many embodiments to which the principles of the invention may be applied, it should be understood that the illustrated embodiments are exemplary embodiments and should not limit the present invention as defined by the claims. Further, the described methods are not limited to a data-over-cable system, and could also be applied in other types of networks such as an Ethernet network or a network having broadband wireless links, fixed wireless links, DSL links or fiber optic links, for example. Additionally, unless specified to the contrary, the steps of the flow charts may be taken in sequence other than those described, and more or fewer elements or components may be used."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Exemplary embodiments of the present invention are described with reference to the following drawings, in which:",{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIGS. 13A and 13B"},{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIGS. 14A and 14B"},{"@attributes":{"id":"p-0040","num":"0039"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0041","num":"0040"},"figref":"FIGS. 16A and 16B"}]},"DETDESC":[{},{}]}
