---
title: System and method for facilitating electronic commerce transactions at an automatic teller machine
abstract: A method and system facilitate an electronic commerce transaction between an ATM and an electronic commerce merchant via a global communications network. Transaction data is received at a server and verified with a processing network. The transaction data is reformatted, such that the data can be utilized by a server located on a global communications network, and transmitted over the global communications network to the servers of an electronic commerce merchant. Data is then received from the merchant, reformatted into a format that is capable of being utilized by the ATM, and transmitted back to the ATM.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07546274&OS=07546274&RS=07546274
owner: NCR Corporation
number: 07546274
owner_city: Dayton
owner_country: US
publication_date: 20010809
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","DESCRIPTION OF THE BACKGROUND","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION","EXAMPLE 1","Prepaid Long Distance Telephone Charges","EXAMPLE 2","Movie Tickets"],"p":["The disclosed invention relates generally to methods and systems for facilitating electronic commerce transactions at an automatic teller machine.","Automatic teller machines (ATMs) have proliferated throughout the world. As the ATM worldwide population continues to grow, the average number of ATM transactions per ATM continues to drop. There is, therefore, a need to offer incentives to the population of ATM cardholders to make more use of ATMs and to offer owners, operators and deployers of ATMs additional sources of revenue to justify investment in ATMs. In addition, electronic commerce merchants continue to seek additional revenue opportunities and portals through which to offer their products and services.","The present invention addresses the needs apparent in the prior art by providing systems and methods for facilitating electronic commerce transactions between an ATM user and an electronic commerce merchant via a global communications network.","The present invention is directed to a method and system for facilitating an electronic commerce transaction between an ATM user and an electronic commerce merchant via a global communications network. ATM data, which includes transaction data, is received at one or more servers remote from the ATM and remote from one or more electronic commerce merchant servers. The transaction data is reformatted, at the remote server(s), into a first format that enables the transaction data to be utilized by a server located on a global communications network. The reformatted transaction data is transmitted over the global communications network to the electronic commerce merchant server(s) from the remote server(s). Merchant data (generated by the electronic commerce merchant server(s) in response to the reformatted transaction data) is received from the electronic commerce merchant at the remote server(s). The merchant data is reformatted at the remote server(s) into a second format that enables the merchant data to be utilized by the ATM. The ATM is able to utilize the merchant data without using a browser. The reformatted merchant data is transmitted to the ATM from the remote server(s).","The present invention is also directed to a method and system for facilitating communication of information via a global communications network related to an electronic commerce transaction between an ATM and a server of an electronic commerce merchant. First transaction data is received from the electronic commerce merchant at a first server in a first format. The first transaction data is capable of being utilized by a server located on the global communications network. The first transaction data is reformatted, which includes adding to the first transaction data one or more message tags. The message tags instruct the ATM to perform one or more functions relating to the electronic commerce transaction. The reformatted first transaction data is transmitted to the ATM. The reformatted first transaction data is capable of being utilized by the ATM, without use of a browser.","The present invention is further directed to a method and system for facilitating an electronic commerce transaction occurring over a global communications network between an electronic commerce merchant and a user of an ATM. The ATM is capable of utilizing data relating to the transaction without use of a browser. The ATM includes a display screen and one or more keys for indicating a selection relating to the transaction. Offer data associated with the transaction is formatted for presentation at the ATM. The formatting includes adding one or more card tags to the data, associated with one or more cards. The card tags facilitate display of transaction information on the display screen and specify content information and layout information. The formatting also includes adding a navigation tag to the data. The navigation tag facilitates navigation within cards, between cards or within the global communications network. The navigation tag further specifies key identification information and key linking information. The formatting further includes modifying an input tag associated with the data. The input tag facilitates acceptance of one or more input variables from the user and specifies variable identification information and variable format information.","Reference will now be made in detail to the preferred embodiments of the present invention, examples of which are illustrated in the accompanying drawings. It is to be understood that the Figures and descriptions of the present invention included herein illustrate and describe elements that are of particular relevance to the present invention, while eliminating, for purposes of clarity, other elements.",{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 1A","b":["100","108","106","104","102","104","102","110","104","108","120","106","121","104","108","108","106","121","122"]},{"@attributes":{"id":"p-0040","num":"0039"},"figref":"FIG. 1B","b":["100","108","106","104","102","110"]},"The ATMs A and B in these embodiments accommodate a user who desires to make an inquiry of or a purchase from an electronic commerce merchant. The electronic commerce merchant is any provider or offeror of goods or services, or one who hosts the offering of goods or services of another, that is capable of conducting business over the global communications network  using merchant server , either through a web site or otherwise.","The service provider server A or B is remote from the ATM A or B and remote from the merchant server , meaning that service provider server A and B does not occupy the same physical or virtual space as the ATM A or B or merchant server . In other embodiments, however, service provider server A or B is not necessarily remote from the ATM A or B and\/or the merchant server . The software residing on service provider server A or B or on ATM A or B facilitates transactions among an ATM user who enters and receives information at the ATM A or B, the merchant that receives and provides information through merchant server , and a processing network (e.g., a verification institution such as VeriSign or a financial institution such as a bank, credit union or credit card company) that receives and provides information through processor server A or B. In the preferred embodiment, this software includes one or more of the following components to implement such transactions: an XML parser, Internet interface software, encryption software, and ATM interface software. The XML parser converts XML formatted data into ATM displayable data. While the preferred embodiments are described herein with reference to XML, it will be recognized that the data converted into ATM displayable data in accordance with the present invention may be in any format that enables such data to be utilized by a server located on a global communications network, such as the Internet. The Internet interface software allows interactive communications between the service provider server A or B and the global communications network . The encryption software provides for the secure transmission of data between the service provider server A or B and the ATM A or B. The ATM interface software controls the devices on the ATM A or B, such as the display, keyboard, and printer. Additional functionality may be included in some embodiments.","The service provider server A or B may, in some embodiments, conduct checks to ensure that all ATMs A or B and merchant servers  within system A or B are registered. Service provider server A or B may also conduct security checks, which will be known to those skilled in the art. In the event there arises a need to add one or more ATMs A or B or merchant servers  to the system A or B, the service provider server A or B may perform this function. Similarly, as one or more ATMs A or B or merchant servers  disassociate with a system such as system A or B, the service provider server A or B may promptly remove them from the system A or B, thereby preventing unauthorized transactions involving these disassociated entities. Service provider server A or B may also maintain a record of transaction data to be used for, among other things, reconciliation and settlement activities.","As typical ATMs cannot interpret XML or HTML, the programming language currently used to create pages hosted on the World Wide Web, software (e.g., the XML parser) residing at the service provider server A or B reformats the data provided by the merchant server  such that the data can be presented to the user at the ATM A or B. The preferred embodiments of a method for reformatting this data is described in more detail with reference to . In addition, a typical ATM cannot process large quantities of data at one time. Given that the typical electronic commerce transaction carried out, for example, at a personal computer involves processing significant quantities of data, the service provider server A or B may select for reformatting and presentation at the ATM A or B only a subset of the information provided by the merchant server .",{"@attributes":{"id":"p-0045","num":"0044"},"figref":["FIG. 2","FIG. 2"]},"In step , data (including data relating to the transaction) is transmitted from the ATM  over network link  or global communications network  and received at the service provider server A or B shown in , respectively. In step , the transaction data is reformatted at the service provider server  into a first format that allows such data to be utilized by a server located on global communications network  (such as XML). In step , the reformatted transaction data is transmitted over the global communications network  to the merchant server  from the service provider server A or B. In step , merchant data generated in response to the reformatted transaction data is received at the service provider server A or B. In step , the merchant data is reformatted at service provider server A or B such that it is capable of being utilized by the ATM A or B. In step , the reformatted merchant data is transmitted from the service provider server A or B to the ATM A or B over network link  (or through processor server A via network links  and ) or the global communications network .","In the event the ATM user engaged in a transaction at ATM A or B has decided to make a purchase, with an associated transaction price, there are several ways in which payment for the purchase can be processed in accordance with the invention.  is a flow chart illustrating a preferred embodiment of a method for processing payment for the purchase. This embodiment relates to transactions that do not involve a personal identification number (\u201cPIN\u201d), such as some credit transactions. In step , account data inputted by the user at ATM A or B (by, for example, inserting or swiping a card) is received by, for example, service provider server A or B. In step , whether the user's account authorizes the transaction is verified with a processing network, for example, processor server A or B. Upon verifying that the user's account authorizes the transaction, the transaction is settled in step  by applying the transaction price to the account of the user.","In a particular example, in the case of a credit card transaction, the electronic commerce merchant may receive the user's account data and verify with a credit card company that the user's account authorizes the transaction. In that case, the transaction is settled between the credit card company and the electronic commerce merchant. Alternatively, in the case of a credit card transaction, transaction facilitator (such as the service provider) may verify with a credit card company or with an entity that performs credit verification services that the user's account authorizes the transaction. In that case, the transaction is settled between the facilitator and the credit verification entity.",{"@attributes":{"id":"p-0049","num":"0048"},"figref":"FIG. 3B","b":["322","108","104","104","324","326","324","326","328"]},"The verification steps described above include, but are not necessarily limited to: verifying that the PIN data entered is correct for the card entered; verifying that the card is valid; verifying that the card has not been reported stolen or cancelled; and verifying that the account with which the user intends to associate a transaction is enabled for that transaction. As described above, the verification may be performed by a financial institution (such as a bank, credit union or credit card company) or some other verification service (such as VeriSign).",{"@attributes":{"id":"p-0051","num":"0050"},"figref":["FIG. 4","FIGS. 1A and 1B","FIGS. 1A and 1B"],"b":["108","104","104","104","104","401","102","110","401","403","405","405","401","403","405","407","410"]},"In other embodiments, the transaction facilitator and the merchant have determined that credit transactions will be processed without involvement by the merchant and, further, that PIN-based debit transactions will be processed without involvement by the merchant. In these cases, data obtained from the user at ATM  (such data including the user's credit\/debit card account information, data associated with a PIN, the user's choice of product or service, and a transaction price associated with the purchase) is transmitted to service provider server  (also shown as A and B of ). In order to verify that the user's account authorizes the transaction, service provider server  communicates through credit\/debit payment gateway  with credit\/debit financial processor . If the transaction is a PIN-based debit transaction, the credit\/debit financial processor  may be part of a banking network that verifies the PIN data and that the user's account authorizes the transaction. Assuming the PIN data can be verified and user's account authorizes the transaction, credit\/debit financial processor  communicates this authorization to service provider server  through credit\/debit payment gateway . Service provider server  then presents the pre-authorized transaction to merchant server , which then continues to process the transaction. If the transaction is a credit non-PIN based transaction, the credit\/debit financial processor may be a credit card company or third party credit verification institution that verifies that the user's account authorizes the transaction (the PIN data being discarded in most cases as unnecessary). Assuming the user's account authorizes the transaction, credit\/debit financial processor  communicates this authorization to service provider server  through credit\/debit payment gateway . Service provider server  then presents the pre-authorized transaction to merchant server , which then continues to process the transaction. Credit\/debit financial processor  records the transaction against the user's account in settlement account database . Settlement processor  settles the transaction among the user, the merchant, the bank\/credit card company in accordance with procedures known to those skilled in the art.","While the user may place an order during the transaction (in which case order information is transmitted from the ATM  and order confirmation and receipt data is returned from the merchant), the user may also simply make an inquiry relating to the transaction. For example, a user of an ATM that purports to offer movie ticket information may inquire at the ATM as to which movies are playing, where, when and at what price. In this embodiment, the user may or may not actually purchase the movie tickets from the ATM. In still other embodiments, the transaction data transmitted from the ATM is location information. For example, a user of the same ATM may enter at the ATM location information, such as a zip code. In response, the ATM may provide the user with movie options at theatres proximate the location entered by the user. In other embodiments, location information of the ATM is preprogrammed into the ATM or, alternatively, maintained at service provider server. As in the previous example, the user may only be seeking information, and may or may not purchase movie tickets through the ATM.","The electronic commerce transaction options that are presented at the ATM may be the same for all users in all cases or may, in some embodiments, vary depending on a number of factors. For example, the selections presented to the ATM user may be determined in response to some action taken by the ATM user, such as a particular selection made by the user. In another embodiment, the offer presented to the ATM user may be specific to the type of card the user inserts at the ATM. For example, where a card user receives \u201cpoints\u201d for making purchases with his or her card, the offer presented may relate to a conversion of points accrued on the card into goods or services. In another example, certain cards may be limited either by the goods or services that can be purchased with the card or by the amount of money that can be charged against the card, such as may be the case of a card given to a child by its parent.","The merchant data presented to the ATM user at any point in the process may be data that is received from the merchant server  in real time as the transaction is unfolding or may be data previously received from the merchant server  and cached at the server provider server A or B. For example, certain data presented to the ATM user may be the same for a number of different types of transactions and does not change based on the user's selection. Such static data may be downloaded periodically (for example, in the evening) by the service provider server A or B from merchant server  and maintained at service provider server A or B pending presentation at ATM A or B. An example of static data is the name of a movie being shown at a particular theatre. Other data presented to the user of ATM A or B may change based on the user's selections and other inputs. Such dynamic data is retrieved from the merchant server  by service provider server A or B in real time as the transaction unfolds. One example of dynamic data is current seating availability for a particular movie chosen by a user. One advantage of this embodiment is that the static data is readily available for presentation to the user at ATM A or B without any time delay necessitated by having to retrieve data from merchant server .","The electronic commerce offers presented to users and the merchant data received in response to the user's selection at the ATM may be different from the electronic commerce offers and data presented to users of the merchant's web site, if any, for a variety of reasons. First, service provider server A or B accesses the merchant data through the \u201cback door\u201d to the merchant's web site. As noted elsewhere herein, some of this data is stripped prior to reformatting and display at the ATM A or B. In addition, any advertising presented to the ATM user by the merchant may be different from advertising presented to users of the merchant's web site, if any.","The methods and system illustrated with reference to , B, , A, B, and  may be used to support many types of transactions between an ATM user and an electronic commerce merchant. All such transactions are within the scope of the present invention. The following describes some specific exemplary embodiments of the same.","One exemplary embodiment in which the methods and systems of the present invention may be implemented involves a transaction between an ATM user and a merchant that sells prepaid long distance telephone service. In this example, the ATM user inserts her card into an ATM machine. The card may be a credit or a debit card. The ATM user may be presented with several options on the ATM screen. As illustrated in , the user may select a banking option by pressing the \u201cBanking\u201d key  on ATM screen . Alternatively, the user may select an electronic commerce option by pressing, for example, the \u201cShopping\u201d key . In some embodiments, the user may not have to insert her card unless the user selects the \u201cBanking\u201d option or unless the user indicates her desire to make a purchase. When the \u201cShopping\u201d key  is selected, the user is presented with list of products and services that are available from various electronic commerce merchants, such as those supported by merchant server  of system A or B. In some cases, the products and services available to the user may be limited, based on, for example, the user's card. For example, a mother may give her son a card that enables only the purchase of prepaid long distance charges and, then, only for amounts not exceeding $20. Thus, in this example, the son may not be presented with the option of prepaying for long distance in an amount that exceeds $20, or for that matter, to purchase movie tickets as described in Example 2.","Once the user selects the \u201cShopping\u201d key , illustrated in , the user may be presented with ATM screen , as shown in . The user may choose any of the listed products or services shown on ATM screen  by pressing the corresponding key. This key press initiates the transmission of ATM data to, for example, service provider server A or B shown in  or B. This ATM data may be data corresponding to the selection made by the user such as, in this example, the \u201cPrepaid Long Distance\u201d key .","The ATM data is received at service provider server A and B and reformatted such that the data can be utilized by the server of the merchant that is offering prepaid long distance service, or hosting this service on behalf of another. The reformatted transaction data representing the user selection is then transmitted via the Internet to the server(s) of the prepaid long distance merchant. The merchant then responds, via the merchant server , by transmitting merchant data to the service provider server(s) A or B. In this example, the merchant data includes a menu of services that are available under the \u201cPrepaid Long Distance\u201d option. The merchant data representing the menu items are then reformatted at the service provider server such that the menu can be displayed at the ATM.","The reformatted merchant data representing the menu items is transmitted to the ATM and displayed on ATM screen , as shown in . The ATM user selects the desired product, such as 40 minutes of long distance time at the rate of $10, by pressing the corresponding key  at the ATM. Data representing the user's selection is transmitted to and received by service provider server. This selection data is reformatted into a format such that the data can be utilized by the merchant server(s). The reformatted selection data, representing the selection of 40 minutes of long distance time at a rate of $10, is transmitted to the merchant server. Because this transaction involves a purchase, the account information of the user is verified and payment for the purchase is processed as described above with reference to , B and . In this example, a receipt may be issued at the ATM, confirming the user's selection.","Another exemplary embodiment in which the methods and systems of the present invention may be implemented involves a transaction between an ATM user and a merchant that sells tickets to events such as movies. The ATM user initiates the transaction in the same way described in Example 1. In this example, the user selects key  for \u201cMovie Tickets\u201d, with reference to . In response to the user's selection of \u201cMovie Tickets\u201d, a selection of movies is displayed on ATM screen  as shown in . The ATM user may, in response, select a particular movie. Data representing the user's selection of a particular movie is transmitted to the service provider. This data is reformatted such that it may be utilized by the merchant server and then transmitted to the merchant server. The data transmitted may also contain location information, indicating to the merchant the locations at which the selected movie is showing that are of interest to the user. The location data may be data inputted by the user, such as a preferred postal zip code, or may be the location of the ATM being used in the transaction.","The merchant then processes the reformatted data and transmits data representing a menu of available theatres at which the selected movie (for example, \u201cRUGRATS IN PARIS\u201d) is playing. If the data transmitted to the merchant server contains location data, the merchant may provide a menu of available theatres that are proximate the location. The data containing the menu of theatres is received at the service provider server and reformatted to enable display of the menu at the ATM. An exemplary menu of theatres is shown on ATM screen  of . After reviewing ATM screen  of , the user may be satisfied that it has received all of the information that it requires. For example, the user may have wanted to know what movie was playing and where a particular movie was playing, but did not want to purchase tickets. In that instance, the user may terminate the transaction without making a purchase. Alternatively, the iterative process may continue, prompting the user to select, for example, the theatre, show times, number of adult tickets desired, and number of child tickets desired, as shown in , ,  and . Upon completion of the tickets purchasing transaction, the settlement process is completed as described previously. In addition, the user may be presented with a transaction confirmation screen , as illustrated in . The same confirmation data presented on the ATM screen may also be printed on a receipt for presentation at the theatre chosen by the user.","The following  describe in detail the process for reformatting the data that is transmitted between the ATM and the service provider server, on the one hand, and merchant server and the service provider server, on the other hand.",{"@attributes":{"id":"p-0065","num":"0064"},"figref":["FIG. 14","FIG. 1A","FIGS. 1A and 1B"],"b":["108","108","102","110","1","1402","102","104","1404","104","104","102","104","104"]},"The process of reformatting includes adding a number of different tags to the first transaction data. One of ordinary skill in the art will appreciate that the names given to the tags herein is for ease of identification only and that the tags may be given different names, but have the same or equivalent functionality, and fall within the scope of the present invention. Thus, in an exemplary embodiment, an XML declaration is added to the first service provider transaction data, as well as a vendor tag, which includes a merchant name, thereby allowing service provider server  to associate a particular message with a particular electronic commerce merchant. In the preferred embodiment, one or more message tags are added to the first transaction data. The message tag(s) are used to instruct the ATM to perform one or more functions relating to the electronic commerce transaction. Each message tag may include an identification attribute, which holds the unique identifier for each message tag and which is used for internal message navigation.","In addition, the message tag(s) added in step  may include a number of sub-tags. For example, the message tag(s) may include one or more choice tags, which associate a key press on the ATM with a selection related to the electronic commerce transaction. For example, with reference to , a choice tag would enable association of key press  on the display screen  of ATM  with selecting \u201cPrepaid Long Distance\u201d. The choice tag(s) may further include one or more link tags, which associate a uniform resource locator (\u201cURL\u201d) (i.e., a bookmark within a page or a fully qualified URL) with the selection. In addition, the choice tag(s) may include a label tag, which contains the string that will be displayed along with the selection and may contain formatting data. The choice tag(s) may also include one or more data tags. The data tag(s) are used to transmit data relating to the transaction and include a nametag for identifying the data. The data tag(s) may also include a value tag, which identifies value data associated with the nametag. Where the value tag is empty or is self-closing, it is indicating a request for data. For example, with reference to , the choice tag, which enables the selection, may contain an empty value tag, thus indicating a request for data (such as $5.00) to associate with the selection.","The message tag(s) added in step  may also include one or more header tags, used to hold more detailed information about the message, such as message type information, and including necessary transaction control and card formatting data. For example, the header tag(s) may include a name tag, which contains a text to be used as a title to the ATM screen, as illustrated in  by the text \u201cPlease select a service.\u201d The header tag(s) may also include one or more timer tags, which force navigation upon an occurrence of a predetermined time lapse. The timer tag may include a link tag, identifying the location of the information (e.g., using http: or c:) that will be displayed on the ATM screen upon the lapsing of a predetermined amount of time, identified by a timerperiod tag. For example, this may be useful where the content of a nametag is an advertising banner. It may be desirable to have this banner appear temporarily on the ATM screen. This temporal display is achieved by assigning the timer tag value equal to the amount of time the banner would be displayed. The header tag(s) may also include a title tag, which contains a text string that may include flat text or a formatting element and one or more data elements (e.g., date and time).","The message tag(s) may also include one or more receipt tags, used to identify information that is to be printed on a receipt. For example, the receipt information may contain information indicating how many tickets were purchased, at what price, and for which movie.  illustrates the ATM screen display of information that may be printed on a receipt. The receipt tag(s) may also include one or more cut tag(s), indicating when a receipt should be cut at the ATM. In the preferred embodiment, the receipt tag(s) are used in conjunction with another tag such as a choice tag or specified timer within the header.","Further, the message tag(s) may include one or more infotext tags, used to identify the main descriptive block of text to be displayed on the ATM. The infotext tag(s) may be flat text with certain formatting elements. The infotext may include an input tag, as discussed more fully below. One or more footer tags, used to identify information that may be displayed at the bottom of the ATM display screen, may also be included in the message tag(s). Like the infotext tag(s), the footer tag(s) may include flat text with certain formatting elements. Also, one or more serverdata tags may be included in the message tag(s) to identify administrative transaction data. In the preferred embodiment, the serverdata tag(s) are populated with data inserted by the service provider server, not by the user of the ATM. For example, this tag may hold the zip code of the ATM location, other identifying information about ATM or an electronic commerce transaction identification number.","Returning again to the flow chart depicted in , in step , the reformatted first transaction data is transmitted to the ATM. The reformatted first transaction data is capable of being utilized by the ATM without use of a browser (e.g., an Internet browser) due to the reformatting of the data.","With reference to , an exemplary message tag is shown. Vendor tag  identifies the merchant associated with the message, in this example, \u201cyourdotcom.com\u201d. Message identification tag  identifies that this message is associated with card  (as discussed below in more detail with reference to ). Header tag  includes nametag  and title tag  indicating on the ATM screen to the user \u201cPlease make your selection.\u201d Footer tag  displays the name of the merchant, \u201cwww.yourdotcom.com\u201d, at the bottom of the ATM display screen. Serverdata tag  is populated by server provider server  and includes data tag  through which a request for the ATM zip code (identified by name tag ) is made by way of self-closing value tag . Choice tag  includes link tag  and label tag , as well as data tag . Choice tag  thus allows for the presentation of the label \u201c$1 Gift\u201d on the ATM display screen next to a particular button\/key press on the ATM and associates this key press with a value of 1 and the link \u201cwww.yourdotcom.com\\gcvalue.asp\u201d. Similarly, choice tag  includes link tag , label tag  and data tag . Choice tag  thus allows for the presentation of the label \u201c$2 Gift\u201d on the ATM display screen next to a particular button\/key press on the ATM and associates this key press with a value of 2 and the link \u201cwww.yourdotcom.com\\gcvalue.asp\u201d. The output of the exemplary message tag on the ATM display screen shown in  is shown in .  provides an additional example of a message tag.","Assuming, in the example shown with reference to , the $1 Gift was selected, the response from the ATM is shown with reference to . The response can be made, for example, using http get protocol, as shown in http get protocol response , or using http post protocol, as shown in http post protocol response .","Another example relating to prepaid long distance phone cards is shown with reference to .","With further reference to , in a preferred embodiment, in step , second transaction data is received from the ATM A or B at service provider server A or B, in a second format. The second transaction data is capable of being interpreted by the ATM. In step , the second transaction data is reformatted, which includes adding to the second transaction data one or more request tags. The request tag(s) are used to indicate to the merchant server  a user selection (e.g., a key press or navigation) relating to the transaction and include one or more data tags, as described above. A request tag is used when https post protocol is required. In step , the reformatted second transaction data, capable of being utilized by the Internet server, is transmitted to the merchant.  provides an example of a request header tag .","As shown further in , in the preferred embodiment, in step , third transaction data is received from the merchant server  at the service provider server A or B, in the first format. In step , the third transaction data is reformatted, which includes adding to the third transaction data one or more responsedata tags. The responsedata tag(s) indicate information from the merchant in response to the user selection. In step , the reformatted third transaction data, capable of being utilized by the ATM, is transmitted to the ATM. Thus, for example, the responsedata tag would be used by merchant server  to pass back to ATM A or B return data, through service provider server A or B, without passing any screen or receipt information. An example of responsedata tag  is shown in .",{"@attributes":{"id":"p-0077","num":"0076"},"figref":["FIG. 16","FIG. 8","FIG. 17"],"b":["1601","1601","1702","1704","1706"]},"The card tag(s) are associated with one or more cards and facilitate display of transaction information on the display screen. Each card is enclosed within card tags and, optionally, has title and identification attributes. The title attribute indicates the title to be displayed at the top of the ATM display screen. The identification attribute is used to identify each card and enables linking from one card to another. The card tag(s) further specify content (such as text and graphics information) to be displayed on the ATM display screen and the layout and format of such content. Graphics may be displayed, including the source of the graphic to be displayed within an image tag. An alternate attribute may be included within the image tag to identify the image to be displayed in the event the source is not available. In addition, the card tag(s) may specify information relating to any receipt to be printed, such as the text to be printed on the receipt and cutting the receipt.","The navigation tag facilitates navigation within or between cards and within the global communications network. Thus, for example, the navigation tag allows for the identification of a particular key on the ATM, association of that key with a label on the ATM display screen, and further association of the key with linking information. The linking information allows for display of information associated with a position within a card to which the user has linked or within a different card to which the user has linked upon the user's depression of an associated key. In addition, the linking information allows for display of information associated with a URL upon the user's depression of a key associated with the URL. Thus, a link to a URL is qualified with the server name and the appropriate protocol, for example, \u201chttp:\/\/www.merchant.com\/index.asp\u201d. All links to servers are preferably transmitted through service provider server A or B. A link to or within a card should be preceded by a place holder, such as \u201c#\u201d, for example \u201c#anothercard\u201d.","Other tags may be used within a card to control navigation. For example, certain tags may be used to cause the occurrence of a specific action upon the expiration of a specified time period. Another tag may facilitate redirection of the ATM to another page.","The input tag facilitates acceptance of one or more input variables from the user. This input tag specifies the manner in which input will be accepted from the user and passed to the service provider server A or B during the http requests. The input tag includes a name attribute, which identifies the name of the variable to set with the result of the user's text input. In addition, the input tag may include a type attribute indicating, for example, whether the input will be text (echoed on the ATM display screen as the user types) or a password (echoed on the ATM display screen in an obscured form as the user types). Further, the input tag may include variable format information. This formatting information may include input mask information, indicating whether the characters are uppercase, alphabetic, punctuation, numeric, the number of characters, as well as the next character in the field. In addition, the formatting information may indicate whether an input element of zero length is acceptable and whether there exists a default value for the field. The formatting information may further include maximum number of characters, and the minimum or maximum numerical value of the input.","The transmission of data within a card tag may be sent securely using, for example, Secure Socket Layer (\u201cSSL\u201d) protocol. The commencement of a SSL communication is indicated by an \u201chttps\u201d flag within the navigation tag. Several items of information are preferably sent in a secure communication, such as the user's debit or credit card number, expiration date, name, and PIN data. In addition, the particular ATM may have a unique identifier, which also may be included in the communication. Furthermore, each transaction using the methods of the present invention may have a transaction serial number, which may be included in the communication. The ATM A or B will store the transaction serial number for journaling and sending to service provider server A or B when the transaction reply is received by the ATM A or B. Preferably, the https request will include the value of the transaction. This will enable the logging of a transaction value against the merchant server  as discussed more fully with reference to .","Thus, referring again to , assuming the user responds to the offer presented on the ATM, the user response is received in step . In step , the data relating to the user's account (e.g., card number), data relating to the value of the transaction (e.g., the transaction price associated with the product\/service purchased by the user) and transaction identifier data are formatted. The formatting step includes adding to the user account data a secure navigation indicator. In step , the formatted user account data, transaction value data and transaction identifier data is transmitted to the merchant via the global communications network. After receiving this data, merchant may confirm the transaction to the user, which is received in step . In this case, in step , confirmation data is formatted by, for example, adding to the confirmation data a transaction status tag. The transaction status tag indicates the status of the transaction (i.e. authorized or declined) and, preferably, identifies the transaction serial number assigned by ATM A or B and the merchant server  identification number. In step , the formatted confirmation data is transmitted to the ATM.","In the preferred embodiment, once the transaction reply (described with reference to ) is received from merchant server  at ATM A or B, ATM A or B may log the success or failure of the transaction with service provider server A or B. The transaction reply may contain an exit tag, indicating that control should be returned to the ATM application. In other embodiments, however, chained transactions are available.","Other miscellaneous tags may be used with the methods and systems of the present invention. For example, service provider server A or B may retrieve cached data relating to the electronic commerce transaction from merchant server  at a particular time period. In addition, service provider server A or B may upload journal files at a particular time of the day. Each of these time periods may be set within a configuration tag using a download time element.",{"@attributes":{"id":"p-0086","num":"0085"},"figref":"FIG. 18","b":["1802","1801","1804","1","1808","1806","1807","1810","1811","1814","1809","1812","1814","1813"]},{"@attributes":{"id":"p-0087","num":"0086"},"figref":["FIG. 19","FIG. 19A"],"b":["104","1930","1936","1937","1934","1936"]},"While the invention has been described in detail and with reference to specific embodiments thereof, it will be apparent to one skilled in the art that various changes and modifications can be made therein without departing from the spirit and scope thereof. For example, the specific names of the tags provided herein are given by way of example and not limitation. Tags with similar functionality may be given different names within the scope of the present invention. Thus, it is intended that the present invention cover the modifications and variations of this invention provided they come within the scope of the appended claims and their equivalents."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The accompanying drawings, wherein like reference numerals are employed to designate like parts or steps, are included to provide a further understanding of the invention, are incorporated in and constitute a part of this specification, and illustrate embodiments of the invention that together with the description serve to explain the principles of the invention.","In the drawings:",{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 1A"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 1B"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 3A"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 3B"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 15A"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":["FIG. 15B","FIG. 15A"]},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 15C"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 15D"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 15E"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":["FIG. 15F","FIG. 15D"]},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 15G"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":["FIG. 15H","FIG. 15G"]},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 16"},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 17"},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIGS. 18A and 18B"},{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 19"}]},"DETDESC":[{},{}]}
