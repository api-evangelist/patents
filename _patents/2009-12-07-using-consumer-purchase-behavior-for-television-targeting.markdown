---
title: Using consumer purchase behavior for television targeting
abstract: In various embodiments, strategies, tools and techniques are provided for processing and analyzing data in an advertising measurement system accessible through a software-as-a-service model or a client-downloaded computer program. The system may be configured to receive and process household media exposure data, product purchase data, advertising data, program data, and demographic data, wherein the data may be obtained from various sources, including from a program delivery source (e.g., a television set-top box) located in a household of a consumer. The data may be matched and cross-correlated for calculating return on advertising investment measurements and other metrics. The data may be used to optimize media placement generally or to address advertising content to specific households. Methods for storing and accessing data in the advertising measurement system by distributing the data across multiple shards are also provided. In addition, methods for protecting privacy of communicated data are disclosed.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08000993&OS=08000993&RS=08000993
owner: TRA, Inc.
number: 08000993
owner_city: New York
owner_country: US
publication_date: 20091207
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATION\/PRIORITY CLAIM","FIELD OF THE INVENTION","BACKGROUND","DESCRIPTION"],"p":["The present application is a continuation-in-part of co-pending U.S. application Ser. No. 12\/102,388, filed Apr. 14, 2008, which is hereby incorporated in its entirety by reference. To the extent that new information is included in European Patent Application No. 09157878.1, filed Apr. 14, 2009, which differs from U.S. application Ser. No. 12\/102,388, priority is claimed under 35 U.S.C. \u00a7119 with respect to the new information included in European Patent Application No. 09157878.1.","The invention generally relates to systems, processes, tools and strategies for processing data and executing programs, services and other applications in a computer-based environment. In various embodiments, the invention more particularly relates to processing, analyzing and cross-correlating data associated with media programming, advertising, product or service purchases, voting results for political advertising, and demographic data.","Commercial enterprises need accountability for the significant financial resources they spend on advertising products and services. Industries such as television have seen an erosion of advertising resources spent relative to other media (e.g., the Internet), in large part because of the perception of a lack of return on investment (ROI) accountability. The marketplace requires a solution to a significant challenge in marketing: accurately measuring each of the media in which a product is advertised to determine each medium's relative contribution to ROI with respect to advertisement expense. Advertisers need to know not only which consumers potentially viewed their commercials, but also how many of the consumers exposed to the advertising actually made purchases or acted in response to the advertising content.","To measure advertising effectiveness in television media, for example, the viewing behavior of millions of households must be monitored and analyzed across an increasingly complex array of different television channels and program offerings. The problem has been exacerbated by the fragmentation of television programming options available to consumers through digital cable channels, video-on-demand (VOD), digital video recorder (DVR), interactive television (iTV), and other diverse programming options. This problem has caused many advertisers to question the adequacy of current media accountability methodologies.","It is important to find ways to measure television advertisement exposure that are cost effective for a relatively large sample size of consumer households. A large sample is needed because the number of channels has become so great that the ratings for the channels themselves and especially the breakdowns of the audiences of specific programs by demographic groups typically become unstable and unreliable with smaller sample sizes employed with prior analysis methods. This means that the sample size must be sufficiently large to facilitate dissection of the results by exposure to media and marketing communications. In order for statistically significant results to emerge from analysis for a typical brand, sample sizes in the hundreds of thousands of households may be deemed to be required. However, such sample sizes are typically not cost effective in systems that require installation of new data collection hardware in the home. For example, one important analysis negatively impacted by the unavailability of an appropriate sample size is a comparison of how the composition of marketing communications reaching consumers who switched to a subject product brand differs from the composition of other users within the product category who did not switch to the subject brand. Because of the importance of ROI, of making marketing investments more predictable, and of integrating marketing into a company's financial model, most companies have engaged in econometric modeling to try to solve this problem. Many agree that such modeling lacks granularity and has numerous validity gaps, leading to little or no impact on finding ways to understand and increase ROI.","In addition, privacy has become one of the most salient concerns of consumers and legislatures since the arrival of the Internet. There is a sensitivity to the potential for privacy to be compromised by modern technology, including marketing and advertising systems that acquire personally identifiable information about consumers. Accordingly, the ways in which advertising data and consumer information are collected, processed and analyzed must address the need for consumer privacy.","In view of the issues described above, more effective and efficient systems, processes, tools and strategies are needed to provide advertisers and other users with accurate measurements of the efficacy of their media advertising campaigns while promoting and protecting consumer privacy, and for purposes of media optimization, targeting and addressability.","In various embodiments, the present invention allows users to measure the sales effects of advertising, among various return on investment metrics, while utilizing household level data (e.g., as opposed to market level averages). Embodiments of the invention can facilitate cost effective data collection and analysis for relatively large sample sizes. In addition, embodiments of the invention can be implemented without the need to install or employ \u201csupplemental data collection devices\u201d in the household. Examples of such supplemental data collection devices include people meters, bar code scanning equipment, pager devices, and any other device or hardware that can be considered an item introduced into a household in addition to or to supplement a program delivery source (as described below) and which is externally operatively associated with the program delivery source. Items specifically not included within the definition of \u201csupplemental data collection devices\u201d include software or other computer-readable instructions, for example, that may be downloaded for internal use by a program delivery source and whose primary purpose is collection of viewership data or purchase data. Also, a store discount card may be used in connection with certain embodiments of the invention to collect purchase data, for example, but such cards are not considered within the scope of the term \u201csupplemental data collection device\u201d as applied herein.","In various embodiments, the present invention provides an advertising measurement system with the ability to cross-correlate advertising audience data collected via television distribution systems from television digital set-top boxes (\u201cDSTBs\u201d), for example, and other program delivery sources (e.g., Internet, radio, mobile devices, others) in multiple households, with television program data, with other market or media touchpoints (e.g., print, outdoor, web pages, radio), and with product purchase data derived from those same households, so that the purchase of a product or service can be viewed with regard to the stimuli that occurred prior to that purchase to the household making that purchase. Analyses conducted in accordance with embodiments of the invention benefit from being based on both individual and household level data. Also, such analyses are not necessarily dependent on supplemental data collection devices installed in the household (i.e., devices supplemental to equipment already installed in the household, such as DSTB). As applied herein, the term \u201chousehold\u201d may include a single residential address, for example, or other like locations to which programming and\/or advertising content is communicated for viewing by consumers. The processing system may be configured to collect television tuning data from DSTBs, validate the quality of clickstreams, and combine the data with additional sources of information such as purchasing data, demographic data, advertising data and programming data. As applied herein, a \u201cclickstream\u201d may be defined as a time-stamped minute\/second record of media exposure events (e.g., channel changes, volume changes, start, stop, pause, etc.) generated by media or program delivery sources a consumer controls with buttons or keys, such as television, digital video recorder (DVR), Internet, or wireless devices (e.g., mobile phones), or digitized records produced by passive or active people-metering technology. In certain embodiments, \u201cclickstream\u201d may also encompass digitized data for media input from digital or non-digital records such as subscription records, newsstand sales or purchase records, survey data, diaries, observational\/ethnographic research, or many other types of records. A \u201cclickstream\u201d may also include all data that represent media exposure and that can be attached at a household level. It can be appreciated that embodiments of the invention may be expanded to measure other advertising media or \u201cprogram delivery sources\u201d such as the Internet, radio, handheld devices, wireless devices (e.g., mobile phones), television distribution systems, cable, satellite, programs delivered through telephone networks, \u201cTiVo\u201d type systems, \u201cDirectTV\u201d type systems, or many others.","Through use of the advertising measurement system and associated calculations, metrics, data processing, and other methods and strategies described herein, advertisers and other users can be offered real-time, online access to web-based dashboard research reports of the processed, cross-correlated data. This can facilitate reallocation of advertising resources, perhaps shifting money from advertising with lower sales per dollar to advertising producing higher sales per dollar, thereby increasing the ROI of the advertising content. Users can generate media research reports from diverse databases of the processing system which employs specialized data analysis metrics.","In certain embodiments, the invention offers a software platform which allows advertising professionals, agencies, media, researchers, and other users to successfully measure and maximize advertisement campaign effectiveness and associated ROI. The invention can provide advertising customers with a portal to analyze the direct impact of marketing stimuli on ROI. Also, advertisers may be permitted to supplement existing data in the advertising measurement system with their own advertising campaign information to facilitate analyses of information from various households including media viewing habits, advertisement exposure levels, and subsequent consumer purchasing behavior as a result of the advertisement exposure.","For example and by way of illustration, embodiments of the invention may employ data collected directly from cable and satellite television DSTBs, a known television industry term for devices used by television distribution system providers to convert and process video signals received from a content provider for presentation on a consumer's television screen. DSTBs are typically microprocessor-based and generally also contain substantial memory and, in an increasing proportion of cases, return data communication paths. Downloadable software or other computer-readable instructions are also available which can be transmitted into the DSTBs from a head end of the television distribution system, for example, to empower the DSTBs with functional capabilities to track tuning behavior comparable to other types of meters previously used to monitor television usage by marketing\/media research companies. The return data communication path capabilities can also be used to draw data originating from the DSTBs \u201cupstream\u201d to collectors and other data aggregators who can process and report the data. The technique may involve downloading a compact module of software into the DSTB over the satellite or cable transmission facilities. This module then acts like a hardware-based meter in date-stamping, time-stamping and logging the channel changes and other commands from the viewer to the DSTB (e.g., turn on, turn off, sound up, sound down, etc.). Uploading such logs daily or periodically can capture with a certain degree of granular precision the television exposure patterns of each television set so measured.","The inventors have discovered, however, that it is often insufficient to use the raw viewing data generated by DSTBs. Embodiments of the invention therefore can be configured to apply one or more cleansing and editing algorithms to the viewing data to remove inconsistencies and account for potential limitations of the DSTB data collection software, for example. Examples of such cleansing or editing algorithms include: false positive editing (to correct for the phenomenon of DSTB powered up when the television connected to the DSTB is powered down); intab determination (to remove data derived from households whose tuning records are insufficiently complete due to network outages, DSTB crashes, cable malfunctions, and other like factors); multi set top box editing (to reflect multiple DSTBs within the same household); outage\/surfing determination (to adjust for DSTB record filtering performed by television distribution system providers or their software vendors); and\/or, geographic and demographic weighting (to project the intab sample to the population of which it is a sample). More detailed discussion of examples of such cleansing and editing algorithms is provided hereinbelow.","However, advertisers are often concerned not only with measuring what consumers potentially see their advertising content, but also with how many of those consumers act (e.g., make purchases) in response to the advertisements. Therefore, in addition to the economic challenge of measuring television exposure for a relatively large sample size of households, it is also a challenge to measure the purchase behavior or purchase history of that same population of households. In various embodiments, the invention may employ matching of name\/address lists obtained from the television distribution system providers with name\/address lists of those who possess product purchase records (e.g., grocery stores or supermarket chains). For example, many stores offer discounts to customers who agree to use frequent shopper cards or other discount cards at the point of purchase. Data derived from such discount cards allows the store to maintain a record of purchases made by consumers. In addition to products or services sold through supermarkets, many other types of products can be tracked efficiently to name\/address lists associated with advertiser records. For example, car companies, airlines, hotels, car rental companies, financial service providers, and other types of business entities and advertisers may maintain records of the names and addresses of consumers who bought their products. For example, in consumer electronics and appliance categories customers may register with the advertiser by completing a product warranty card.","By matching what programming each household has viewed or tuned to on a television, for example, with products the household has purchased, the advertiser can know which advertising has worked and which has not worked. Media other than television can also be measured by means of the list-matching approach. For example, magazines and newspapers typically have subscriber lists on a name\/address basis which can be cross-correlated with matching households that have been measured for television programming and purchase data. Also, consumer Internet usage can be measured in these households by downloading tracking software into the computer systems of cooperating households to monitor Internet traffic, and\/or by uploading Internet service provider (ISP) server records in a manner which protects privacy. Records of the household (e.g., name, address, telephone number, etc.) can be cross-correlated with matching households by adding the advertiser's direct mail, telemarketing, and other campaigns to the sphere of measurable marketing touchpoints. As applied herein, a \u201ctouchpoint\u201d is a term understood by those skilled in the art and is intended to encompass all means or media by which consumers may be influenced by marketing or advertising, including but not limited to television, radio, magazines, newspapers, Internet, outdoor media, transit media, direct mail, telemarketing, event sponsorships, matchbook covers, skywriting, point of purchase materials, in-store marketing, display, mobile, press releases, and many others. In certain embodiments, household interviews or surveys may also be conducted to complement results obtained from the list matching strategy.","In various embodiments, the invention addresses problems with prior market analysis approaches by making data collection cost effective for a variety of media and marketing communication channels at the household level with enhanced precision and within comparatively larger household sample sizes. , B and  schematically illustrate an overview of an exemplary architecture and associated processes for collecting, analyzing and processing clickstream data originating from a household  in which one or more content delivery sources  (e.g., television A, Internet B (e.g., web pages via an Internet connection through a modem, cable system, wireless connection, or other communication media), wireless device C, print subscriptions D, etc.) display or communicate programming content and advertising content to consumers within the household . In the example shown, a DSTB  is operatively associated with the television A and a digital video recorder (DVR) E. The DSTB  may be provided to the household  by a television distribution system provider, for example.","At step , program viewing data or clickstream data from the television A, for example, may be communicated from the DSTB  to an advertising measurement system  configured to receive and process such program data. It can be appreciated that clickstream data from the other content delivery sources B, C, D may also likewise be communicated to the system  at step . In addition, program data associated with content displayed or communicated by the content delivery sources  may also be communicated to the system  at step . Such program data may include actually aired program data, scheduled programming data, or other like program data. After edited data are uploaded to the advertising measurement system , the data can be parsed into a searchable database by automatic electronic conversion into a relational database format wherein attributes such as date, time, channel, viewing content (e.g., program or commercial code), household characteristics, DSTB data, and\/or other characteristics can be stored. Also, one or more cleansing and editing algorithms may be applied to the uploaded data (see discussion below).","At step , product purchase data associated with the consumers in the household  can be acquired. This product purchase data can be combined with the data uploaded to the advertising measurement system  from the household . It can be appreciated that different product categories may employ different best methods to obtain or collect purchasing data within households . For example, for automobiles the best method may be a name\/address match between the car manufacturer's sales database (e.g., by VIN or Vehicle Identification Number). For major appliances, warranty registrations provide a similar approach. For airline use, individual airline travel records by household  provide similar accuracy of purchasing data via name\/address match. For prescription pharmaceuticals, the marketers themselves have access to household  level data that can be matched directly to the households  in a given sample. For financial services, financial institutions often have household  level information about their customers. Retailers analyzing their own ROI also have access to household  level data that can be matched. For packaged goods, RFID codes printed into packaging may be read by sensors attached to all doorway entries, for example. In certain embodiments, product purchases may also be self-reported by households  via Internet questionnaires, for example. It can be appreciated that ROI measurements based on such product data can be based on changes in attitude toward product brands that drive purchase behavior changes; and marketers generally accept that when their brand has increased its standing in the consumer's mind, that fact can be measured by self-reporting methods.","At step , exposure of the household  to other marketing influences or market touchpoints (such as Internet surfing, magazines, newspapers, radio, etc.) can be obtained or measured based on activity of the household . In certain embodiments, measuring household  exposure to market touchpoints can be facilitated by use of software modules downloaded into the computer systems of the household . Marketers are generally willing to accept that ROI patterns among the households  with a DSTB  are representative of ROI patterns among all households . In certain embodiments, a relatively small sample of DSTBs  may be placed in non-DSTB households , such that the artificially placed DSTBs  are constrained to not increase the number of channels made available to the household , and the non-DSTB sample can be used as a check to ensure that broad ROI patterns observed in non-DSTB households  do not differ significantly from those measured in DSTB  households . If ROI patterns do differ in such households , then the artificial non-DSTB household  sample can be enlarged to allow more granular ROI analysis, and the two samples can be weighted and applied together to represent their respective population proportions.","At step , advertising data may be communicated and received by the advertising measurement system . In general, such advertising data may reflect advertising content displayed on the television A of the consumer in the household , such as when ads were aired, at what times, on what channels, on what networks, and other like details (described below). The advertising data may also be derived from other content delivery sources B, C, D within the household . The advertising data may also be supplied by users such as advertisers who interact directly with the system  to enter data into the system . In addition, at step  demographics data may be communicated to the system ; and proprietary data from advertisers or other users may be communicated at step .","At step , each of the different sets of data described above (i.e., clickstream data, program data, product purchase data, market touchpoint or media exposure data, and advertising data) can be aggregated, matched, and\/or cross-correlated and then stored in a suitable data storage medium or database within the advertising measurement system . At step , this cross-correlated data can be made accessible in real-time to interested parties such as advertisers, agencies, programming networks, and other users. Embodiments of the invention offer advertisers, agencies, networks and other users with household-level data and report generators that can be employed to analyze the subjects of their respective interests. Among other functionality and features, the report generators may include standard tables, multiple regression analyses implemented at the household level, statistical comparisons of households that switched to a given product brand versus the rest of the product category, and model-based projections of what the findings suggest should be the optimal reallocation of the marketing mix for a given product brand. Report generators can be configured to process and present a range of data and calculations of data including, for example and without limitation, ratings, shares, households using television or HUT calculations, demographics of product users, reach\/frequency, frequency distribution, trend, and many others. It can be seen that embodiments of the invention can facilitate more accurate analyses of ROI on marketing investments on a more granular, medium by medium basis. It can be appreciated that this tends to make marketing spending more cost effective and accountable. In the language of company management, marketing investment may cease to be a \u201cblack box\u201d within the financial spreadsheet of the company.","In certain embodiments, data may be stored in the advertising measurement system  without any personally identifiable information (\u201cPII\u201d), such that users of the system  will have no way of knowing the identity of consumers in a given household . Most business entities selling products or services maintain customer lists. These customers may be identified not only in terms of PII, such as by name or address, but also by use of abstract identification numbers meaningless to anyone outside of the business entity that assigns the company assigning that identification number or account number.","To protect privacy of consumer information, embodiments of the invention may be associated with a marketing research company  and\/or a list matcher . Both of these entities ,  may be involved in the process of compiling data on an individual household  basis, such as information supplied by supermarket chains and other holders of product purchase data, information supplied by television distribution system providers and other suppliers of media data, or other data sources or data suppliers . Such data suppliers  may communicate their purchase data or media data, for example, to the marketing research company  without PII, grouping data instead by account number (e.g., a \u201cTRA_KEY\u201d number). Thus, the data of each individual household  can be identified by an account number associated with that household  when the data is communicated from the data suppliers  to the marketing research company .","In parallel, the data suppliers  may send to the list matcher  only the PII and the account number associated with each household . The list matcher  then creates a table or thesaurus  which relates on a company-by-company basis each account number to other account numbers associated with the same household . The resulting table indicates, for example, that the household  which cable company A calls account number ABC is the same household  that supermarket chain B calls account Number DEF. After the list matcher  communicates the thesaurus  to the marketing research company , the thesaurus  can be used to cross-correlate media exposure data and product purchase data received from the data suppliers  so that all data relating to a unique household  can be anonymously associated with the records for that household .","PGP (Pretty Good Privacy) encryption can also be used to ensure consumer privacy by separating PII from other data and information (such as data relating to viewing habits).  illustrate the use of PGP encryption in the context of data sent from subscribers' digital set top boxes to a marketing research company  which aggregates the data for further use and interpretation by external entities. The digital set top box (DSTB)  in each subscriber's home maintains a log of the clickstream data viewed by the household , as well as other metrics related to the viewing habits of the household , over a given time interval in a log file. Each DSTB  has a unique identifier that serves to identify one particular DSTB  from any other. The distribution network operator  that supplies the DSTB  to the household  maintains a list of these DSTB identifiers and also personal identification information (PII) of the respective household  that the DSTB  having a particular identifier belongs to, for example name and address. Thus, the distribution network operator  holds PII for users of the DSTBs  which it supplies. The DSTBs  are able to transmit their log files, either by cable connection or by some form of wireless transmission, to the distribution network operator .","It is not practical for a marketing research company  to contact each DSTB  individually in order to obtain the log file of the viewing habits of the household  in which the DSTB  is placed. Instead the marketing research company  obtains these log files from a single location which is the distribution network operator  to which the individual DSTBs  transmit their logs.","However, since the distribution network operator  also maintains PII relating to subscribers' DSTBs , in order to protect privacy of consumer information (i.e. so that no single party has access to both household identity and household viewing behavior), the log files transmitted to the distribution network operator  contain an encrypted persistent identifier (TRA_KEY), encrypted using PGP encryption, for which the distribution network operator  does not have a private key. Even though the distribution network operator  can see the contents of the log files it cannot link the log files to the respective DSTB  from which they originated and hence cannot link a specific log file to a particular household , without the private key needed to unlock the persistent identifier. The marketing research company  has the private key capable of unlocking the encrypted persistent identifier but does not have any PII for the households .","In operation, at step S, each DSTB  generates a PGP key pair (i.e. respective pairs comprising a private key and a public key). The marketing research company  also generates a PGP key pair at S. PGP key generation and the principles of operation of PGP encryption are known in the art and will not be described in any further detail herein. At step S, the marketing research company  transmits its public key to the distribution network operator  while each respective DSTB  transmits its private key to the distribution network operator . At step S, the distribution network operator  transmits the marketing research company's public key to each of the DSTBs  while also transmitting a data package for each DSTB  to a list matcher . The data package for each DSTB  which is transmitted to the list matcher  contains, for each DSTB , the DSTB's public key, the subscriber's name\/address related to that DSTB, and also the unique identifier of the DSTB.","At step S, the list matcher  assigns an account number (e.g. a \u201cTRA_KEY\u201d) to each name\/address which is then to be used in place of the customer name\/address thus providing anonymity and customer data privacy protection but still allowing a means by which data relating to a particular household  can be tracked. As discussed in relation to , the list matcher  can create a table or thesaurus which relates, on a company-by-company basis, each account number to other account numbers associated with the same household  and the \u201cTRA_KEY\u201d just generated in response to the data package received can be added to the thesaurus. The list matcher  then encrypts the TRA_KEY using the public key of the DSTB  from which the data has been obtained. The encrypted TRA_KEY is transmitted, together with the associated DSTB identifier (so that the distribution network operator  is able to direct each encrypted TRA_KEY to the DSTB  to which it relates\u2014see step S), to the distribution network operator  at step S. Also at step S, an unencrypted copy of the TRA_KEY is transmitted by the list matcher  to the marketing research company .","At step S, the distribution network operator  uses the DSTB unique identifier that it received with each encrypted TRA_KEY to transmit each encrypted TRA_KEY to the DSTB  to which it relates. Once received by the appropriate DSTB , the DSTB  then decrypts the received TRA_KEY using its private key at step S.","At step S, each DSTB  re-encrypts its received TRA_KEY using the marketing research company's public key and appends this encrypted TRA_KEY to its log file (where the log file comprises the data relating to viewing behavior of the subscriber(s) associated with that DSTB ). Each DSTB  then transmits its log file with appended encrypted TRA_KEY to the distribution network operator  at step S. Thus the distribution network operator  can see the viewing behavior data and also has access to PII relating to each DSTB . However, because the viewing behavior (i.e. the log file) from each DSTB  is only identified by a TRA_KEY encrypted with a public key from the marketing research company , the distribution network operator  can not decrypt the TRA_KEY and so can not associate the log files that it stores with a particular DSTB  and thus consumer privacy is ensured.","The distribution network operator  transmits the log files to the marketing research company  at step S and the marketing research company  decrypts the encrypted TRA_KEY associated with the log file using its private key at step S. In this way, the marketing research company  knows the TRA_KEY associated with each log file that it receives and can then integrate the data relating to a particular household  with data received from other sources even though it does not have access to customer PII.","Thus, embodiments of the invention overcome privacy issues by separating PII from other data and information (e.g., media, purchase, etc.); no single party has access to both household  identity and household  purchase or viewing behavior. A party that knows a household  identity, for example, will not know the behavior of that household ; likewise, a party that knows the behavior of a household  will not know the identity of that household . The anonymized data can then be accessed and used by a variety of users , such as advertisers A, agencies B, media C, or other users D.","In certain embodiments of the invention, methods and systems for identifying the value of specific households  and DSTBs  in those households  in terms of likelihood that a household  or consumer will respond favorably to advertisements for a brand (e.g., whom does the advertiser want to be exposed to a given ad?), and likelihood that a household  or consumer will be exposed to airings of advertisements for a brand (e.g., how does the advertiser best deliver advertisements for the brand?). Such methods and systems may serve as a guidance system for targeting television A commercials or other advertising content which can be delivered selectively by DSTB . Such commercials may be considered \u201caddressable commercials\u201d  as known to those skilled in the art and may be communicated to each household  by an advertiser A, as shown in , for example. Addressable commercials  can be implemented using commercials stored on adjacent \u201cfeeder channels\u201d, on servers (e.g., as in IPTV, switched digital video, VOD, or network DVR), on hard drives in set top boxes or television appliances (TiVo, etc.). In the context of addressable commercials , various embodiments of the invention can be used to: (a) determine which households  should receive a specific commercial, how often, when, and in what type of program environment, based upon the correlation between the same type of household  (e.g., heavy purchaser of X product, occasional purchaser of Y brand, etc.), receipt of such messages, and its increased purchase of the advertised brand; and (b) track the purchase behavior inducing success of such placements so as to further correct or refine placement strategies and tactics to improve purchase behavior production rates. By providing a means for more closely aligning feasible placement of advertisements with ideal, unrestricted placement according to empirical purchase behavior correlation, addressable commercials  can increase return on investment yield for advertisers and other users.","In certain embodiments, the invention may use digital video recorder or DVR E clickstream data coupled with purchase data to measure and analyze ROI and to drive addressable advertising such as addressable commercials . For example, the system  may be configured to analyze the effects of DVR E usage on advertising effectiveness, in situations in which the DVR E is or is not used as a means of delivering addressable commercials . If DVR-based addressable commercials  are used, the system  can be configured to determine the degree to which use of the DVR E as a playback mechanism contributes to consumers fast-forwarding or skipping commercials and the degree to which such consumer behavior reduces sales response to such advertising. If the DVR E is used as a means of delivering addressable-to-DSTB commercials, either by insertion into normal pods or by means of showing self-selected advertising as an option on the list of content available on the DVR E, the system  can be configured to determine the degree to which that addressable advertising  of each type is not skipped or fast-forwarded over and to compare sales rates produced by addressable commercials  of both types versus non-addressable advertising.",{"@attributes":{"id":"p-0081","num":"0080"},"figref":["FIGS. 3A and 3B","FIG. 3A"],"b":["302","302","304","306","308","304","306","308","302"]},"The middle tier  of the system  may be programmed with business logic and may provide various application services such as caching, distributing computing resources, distributing transactions, data transformation, authentication, security, and may serve as a coordinator of other application components. The middle tier  may be configured with one or more web servers A and\/or application servers B configured for receiving input from the presentation tier , interacting with the data access tier  services to retrieve or update application persistent data, and\/or sending processed results to the presentation tier , potentially merging dynamic content with static pages presented to various users. The middle tier  may be hosted on a set of clustered application servers B, providing a robust and scalable environment for many different potential users. The middle tier  may be configured to support multiple roles involved in the system , including administrator functions, session management, processing credentials, and security functions. The middle tier  may also be configured to coordinate the use of server resources (e.g., database servers C) and communication among various application components via messaging services, as well as managing itself in terms of memory and CPU utilization requirements.","In various embodiments, caching performed by the middle tier  allows the system  to store recently used persistent data in middle-tier  memory, for example, which potentially minimizes time spent on repeated data retrieves and reduces the load on the data access tier . Authentication performed by the middle tier  may be used to check and track user  credentials in the system  and manage user  rights and privileges to view or modify certain application data as well as executing certain application services. The middle tier  may also record various operational events, such as dispatching database queries and their completion, users  logging in and out, starting and ending data ingestion tasks performed by a data ingestion utility , monitoring database node failures. By using distributed computing techniques, the middle tier  allows faster computation by splitting complex computational tasks into multiple subtasks and executing each of the subtasks in parallel on multiple processors. The middle tier  also coordinates transaction management and distributing transactions to allow certain functions to be executed across multiple data storage media, thereby promoting consistent performance of the function across all transaction participants. The middle tier  may also perform various data transformation functions such as transforming data between\/among multiple formats such as HTML, XML, XSLT, binary formats, and many others.","The middle tier  may be operatively associated with the data ingestion utility  which can be embodied as a data feed control process configured to initiate acquisition of data from various external applications or data sources  (e.g., data suppliers or third party data vendors), to make internal system calls to data cleansing and validation algorithms (as described in more detail below), and\/or perform other middle tier  services. Functions of the data ingestion utility  can be configured to execute automatically by scheduling data ingestion processes or can be manually initiated. The data ingestion process can be developed to clean, validate, transform and aggregate clickstream, demographic, programming and purchasing data received by or communicated from the advertising measurement system . The data ingestion utility  can be used to upload clickstream data, program data, demographic data, purchasing data, product data, and other types of data to the system . The utility  may also be responsible for data aggregation, index creation, data correlation or cross-correlation, and may coordinate the execution of various editing or cleansing algorithms (e.g., intab, false positive, outage\/surfing, viewers per viewing household (VPVH), weighting, failure, etc.).","In certain embodiments, the middle tier  may include various services configured to interface with the data access tier  and the presentation tier  of the advertising measurement system , such as through a Web Services interface  (as shown in ). These services may be embodied as application programming interfaces (APIs) or other types of computer-executable applications or software instructions embodied in various modules that execute various functions within the system  and enable integration into one or more computer systems or legacy systems of an advertiser, media agency, creative agency, or other users . In certain embodiments, the system  may be configured for direct data communication and\/or direct user interface (e.g., through application program interface or API calls) with one or more advertisers  to facilitate tasks or activities such as report generation, data collection (e.g., collecting supplemental household data), data analysis, and\/or many other functions. For example, an advertiser  may establish a predetermined report or group of reports to be automatically generated for the advertiser  by accessing a direct data connection with the system .","A statistics service module  may be configured to encapsulate typical extraction calculations performed on clickstream data which can be used in reports and in macro functionality at the report level, such that a request from a user  to generate a report may only require making a single call or a single Web Service method. The module  may be configured to correlate transparently clickstream data with other data sources (programming, purchases, demographics, etc.). An API in the statistics module  may be configured to invoke supported reports (e.g., return on investment or ROI reports, true target index or TTI reports, audience retention or AR reports, advertising\/media exposure or AME reports, reach frequency reports, and others\u2014see below for detailed examples of such reports) with their corresponding parameters. Additional API calls may allow users  to set up report selection criteria and filtering common to all reports (e.g., date\/time, demographics, etc.). Another API subset of the statistics module  may be configured to allow browsing campaigns, named demographic profiles, products, purchases, and other data sources. The statistics module  may function in connection with a database grid management service module  to launch parallel queries on relevant grid nodes, collect results, aggregate the results, perform calculations, and produce a final output. Working together, these modules ,  may also monitor query execution on various database nodes in the data access tier  and potentially retry failed queries on alternative nodes on which duplicate clickstream data is stored, for example.","The database grid management service module  may be embodied as an intelligent component configured to route queries to appropriate servers for parallel execution, for example. The database grid management module  may manage data storage media A, B partitioned across a plurality of database servers, route queries to appropriate servers for parallel execution, keep track of data mapping and data distribution, track communications with database servers, track processing of the queries, track combining and calculating data aggregation results, duplicate clickstream data on additional database servers, provide failover support (if a server fails, a query still could be executed on an operative server), track availability of the database servers and schedule queries to available servers. The database grid management module  may also track availability of the database servers on the data access tier , and schedule queries only to available servers.","For example, in certain embodiments, to enhance system  availability, data ingestion can be implemented by \u201cfailing\u201d an active database \u201cshard\u201d (see discussion of shards below) in the data access tier , or taking it out of service, so that queries can proceed on duplicate partitions, while the \u201cfailed\u201d shard is updated with new information. Once updating is completed, the shard can be brought back online, while duplicate shards can likewise be taken out of service and updated with the same data. This sequence of tasks can be implemented automatically by the database grid management module . As described below, embodiments of the invention that employ shard architecture can be used to make a computer system and its storage media scalable and potentially massively scalable.","A report archiving service module  may be configured to archive reports results into tables in a dedicated database A, rather than in their final output format (HTML, PDF, etc.), making archived results searchable and more compact. Reports can be archived with all selected criteria. When needed, the archived data may be extracted and a report produced in the desired output format. Because reports are archived in database tables, they may also be used to produce trend reports over periods of time, which could be longer than the retention time for raw clickstream data, for example. Archived reports may also be used as a cache mechanism; as long as a report exists with the same selection criteria as currently requested report, there is no need to generate a new report and an archived version can be used instead. Generating a report may also be treated in the system  as an auditable event.","An entitlement service module  may be configured with an interface to a user management application which provides access to a database A of users  of the system  and their associated entitlements. This module  provides functions for provisioning, identifying, and authenticating users of the system . The module  may be configured to allow administrators to define user entitlement (e.g., which reports they are allowed to generate, which campaigns can be accessed, which demographics can be accessed, etc.). The module  may also be configured to allow system administrators to create multiple tenants (client companies) and add end users  belonging to each of them or to create a single-tenant environment. Users  belonging to a tenant will only be able to access the resources associated with that tenant resources, and may not be made aware of the existence of other tenants.","A demographic service module  supports creation and maintenance of named demographic profiles, which can be used as reports filters. Named demographic profiles may be stored in a dedicated database A. As applied herein, the term \u201cdemographic\u201d as used in connection with data and other information includes, for example and without limitation, data that can be used to classify households  into types such as, when available, income, ethnicity, psychological characteristics, geographic data, household  composition data, as well as product ownership, product purchase data, media exposure data, and\/or any other segmentation approach.","A campaign service module  may be configured to support creation and maintenance of advertisement campaigns, which can be used in certain report functions. Campaigns can be assigned to individual end users  and stored in a dedicated database A. As applied herein, a \u201ccampaign\u201d may be defined as a set of advertisements specified by a user  of the advertising measurement system  to represent a cohesive advertising plan component executed during a time frame, media, and\/or geography as specified by the user.","In various embodiments, advertisers and other users  may be permitted to supplement or revise data stored in the advertising measurement system  with supplemental household data of various types (e.g., purchase data, demographics data, advertising data, market exposure or market touchpoint data, and many other types). For example, such advertiser supplemental household data may be derived from customer newsletters, direct mail lists, coupon redemption records, special service or warranty contracts with consumers, a custom segmentation strategy of the advertiser, and\/or from many other like sources of supplemental household data. The supplemental household data may be used in connection with data in the system  to enhance report generation or the performance of various data analyses, for example.","A monitoring service module  can be configured to provide visibility into the application state, such as by displaying logged-in users or showing currently running application tasks (e.g., queries, data uploads, etc.). This module  may also be configured to collect and make available performance statistics (e.g., response times, queue length, etc.), generate recommendations to rebalance shards or if to add additional components to improve system  performance.","An auditing service module  can be configured to preserve auditing events by documenting additions, deletions, and other modifications to data or information within the system  by various entities or users . Such auditing events may be stored by author or user , time stamp, action taken, or by other attributes of the event.","In various embodiments, a clickstream data injection module  may be configured to correlate clickstream data with other data sources (e.g., programming, purchases, demographics, and others). Also, a product module  may be configured to manage or process product-related data and information stored in a database A; and a purchases module  may be configured to manage or process purchase-related data and information stored in a database A, such as purchases made by consumers in a household .","In various embodiments, the advertising measurement system  may provide users  such as advertisers and agencies with tools to perform multivariate regression type analyses, for example, as well as marketing mix modeling. The system  can be configured to perform multivariate analyses using data stored in the system , such as granular and attribute-encoded observations of ad exposure and purchase events within specific households  over time, for example. Such analyses can facilitate the allocation of weights to certain components or variables for generating predictive estimates of the contribution of each such component to the combined sales effect of all of a given brand's advertising and promotion. For example, percentage ROI weights can be applied as a result of regression analyses which can be associated with specific creative, media, targeting, frequency, and recency attributes of a brand and its advertising strategy.","In operation, the middle tier  may undertake various data cleansing, editing, and format validation algorithms for data from television distribution system providers, such as identifying duplicate records, inconsistent records, and\/or confirming that variables are within the range of allowed values and that data patterns match within predetermined parameters.","A multi-DSTB editing algorithm may be employed to ensure that multiple DSTBs  in a household  tuned to the same television A network or other program delivery source count only once for the household , such as for purposes of calculating rating and cumulative reach metrics. In the event that multiple DSTBs  in the household  are tuned to different networks, then the household  can be credited with tuning once to each different network. The multi-DSTB editing algorithm functions to ensure that a household  is not counted more than once toward calculation of households using television (HUT), among other calculations.","A DSTB  may not be able to tell when the television A itself is off even though the DSTB  is on. This can lead to erroneous measurements if the household  is treated as if it were continuing to view the television A when it actually is not. A false positives editing algorithm may be applied to identify when the DSTB  or television A is powered off and hence no viewing is in process. The false positives editing algorithm can use defined heuristics or rules to eliminate the false positive viewing periods when it is most likely that no one in the household  is tuning to any station. The false positives editing algorithm yields edited tuning data that closely track the expected HUT (Household Using Television) as reported by other sources. In various embodiments, the false positives editing algorithm can apply a rule that assumes that a household  not making any clicks after X minutes means that the household  is no longer tuning, then after that specified time interval all further \u201capparent tuning\u201d can be edited out. The inventors have discovered that optimal values for X can be between one and four hours. Additionally, the value of X can be modified by demographics, program type or genre, specific program, and\/or by permutations of these values, and\/or can integrate information about signs for searching for weather or acceptable program choices prior to a period of extended inactive remote control usage, for example. The false positive editing algorithm can be further refined by truncating the tuning at the next half-hour, hour or other daypart boundary beyond the X minutes duration parameter. The false positive editing algorithm may also be adjusted by allowing the value for X to vary by hour of the day or other daypart. Also, this technique can be further refined by varying the parameter X in response to number of children in a household, for example, or age of household members, among other demographic distinctions. The inventors have discovered that such adjustments can account for the nature of programs by daypart and by other variations in tuning behavior (program duration, retention rate, etc.).","Alternatively, another solution to the false positives problem include detecting changes in the input impedance of the television set A as a proxy to determine that one or both of the television set A or the DSTB  have been powered down. Also, this technique may be refined by identifying a \u201cturn-off signature\u201d for each household by investigating the behavior of the household prior to powering down the television for the night (e.g., certain households may check for interesting programs across channels before giving up, or the household may habitually check the Weather Channel before turning off the television, etc.). In certain embodiments, home entertainment networks that allow different devices to communicate together and query the status of other devices on the network can be used to assist with solutions for addressing false positive tuning and other measurement challenges.","A weighting algorithm may be applied to match a panel (i.e., a sample size of consumers in different households ) to census or demographics information. When using a sample or panel of households  (a subset of the total television population), the households  can be weighted so that the sample represents the same basic demographic statistics as United States census data, for example. United States census data extracts can be obtained from external data sources . A data weighting algorithm can also be applied for outages, such as when a geographical area suffers outages over a significant part of the measured households , then the remaining in-service households  should be weighted so that the total demographic profile and the area's weight within the total measure universe matches what would have been the case had the outage not occurred. Factors to consider in applying the outage weighting algorithm may include the percentage of households  affected or the duration (e.g., time) of the outage.","An algorithm may be applied to distinguish between lost data and data derived from \u201cchannel surfing\u201d or other repeated changing of channels by the consumer to identify programming available for viewing. This algorithm addresses the issue of when tuning duration less than X seconds is invisible due to decisions made by data suppliers for minimizing the amounts of data they need to transport over bandwidth, and it cannot be determined whether the invisible tuning is due to short duration \u201csurfing\u201d or to a lost data condition. In certain embodiments, the algorithm may consider any invisible interval less than 60 seconds (parameterized and could be set to values up to about 5 minutes), for example, as short duration surfing. Times longer than this predetermined interval are considered lost data. The inventors have found such an interval sufficient because it implies that the user continuously surfed for 60 contiguous seconds while never pausing more than X seconds on a channel. In various embodiments, a minimum dwell time filter may be applied to data received by the advertising measurement system  to identify and distinguish data derived from actual program viewing versus data derived from mere channel surfing.","An intab editing algorithm may be applied to address households  that cannot tune to a television A (e.g., because of cable service disruptions) and which should be excluded from reporting statistics and data supplied to the advertising measurement system . In certain embodiments, to be considered intab for a report period, a DSTB  must be intab a minimum of 75% of days, by day of week, for example. For instance, if the report period is four weeks, then the DSTB  must be intab for at least three Mondays, three Tuesdays, and so on. After applying the 75% rule, the number of days can be rounded up. Thus, for example, a one-week report requires DSTBs  to be intab every day of the week. If reports are run on daily, weekly, and monthly periods, then interim versions of these reports may have been based on households  that were intab when first run, but became not-intab for a later report period. Thus, for example, interim reports may not be identical to the same report run at the end of a month. A DSTB  can be considered not-intab for any day in which the DSTB  was inoperable or could not return the status of the DSTB  for more than 10 minutes, or another predetermined time interval, during the day. A household  explicitly turning off the DSTB  does not necessarily make the DSTB  not-intab. Conditions that could cause not-intab periods include wide area failures affecting many DSTBs , such as general system failures in the cable plant (hardware or software), a major weather event that impairs a significant portion of the system off-line, or area-wide utility or power failures. Individual failure may also be a reason to make a DSTB  not-intab, which can be caused by buffer overflow that causes lost data, application software aborts and resets that cause buffered data to be lost, or days when service was not provided to the DSTB (e.g., service new or not yet been established or service disconnected). Any report period during which a DSTB  cannot be unambiguously associated with a single household  may be a reason for applying the not-intab designation. For example, a not-intab designation may apply if the DSTB  was moved to a different household , but the DSTB  still reported using the same ID as when it was in the previous household . Also, any day for which the household  opted-out of allowing its tuning to be measured may be considered not-intab. The actual tuning of these rules based on empirical results and validation methods allows the finalization of rules upon which media investment decisions may be made.","In the event that there is an absence of any positive indication that a DSTB  is intab or not-intab, the following heuristics may guide intab decisions: a household  that shows no activity because the decision is made not to view television (e.g., vacation) may still be considered intab; a DSTB  that does not submit data for more than four consecutive weeks may be considered not-intab for each of those weeks it failed to submit data (this heuristic assumes that few households  will be on vacation for more than one month, therefore the failure to return any data is assumed to be due to a system or DSTB  problem); data integrity errors, such as the DSTB  was not associated with a valid household  or no associated demographics with the household  may produce a not-intab designation; not all data sources provide explicit information when DSTBs  may have errors, so a rule can be applied to require the DSTB  to have at least one tuning record in the clickstream for the report period.","A viewership to purchase correlation algorithm may be applied to assist with measuring the effect of advertising on subsequent buying or product purchase behavior (the terms \u201cviewership\u201d, \u201cviewing\u201d and \u201cviewer\u201d can be defined as television A usage as measured by household  and DSTB  tuning records). In certain embodiments, this algorithm can be executed to determine correlation coefficients relating advertisement effectiveness (advertisement creative quality and related effectiveness, advertisement scheduling parameters including specific creative execution, commercial length, pod position, competitive protection (distance from commercials for competing brands), target segment, day of week, reach, frequency, recency, network, daypart, program environment, sponsorship versus commercial versus product placement, etc.) to changes in buying behavior. Such a measure could guide the decisions of an advertiser in deriving the most benefit from an advertising budget and advertising campaign. An ROI index report can be generated that includes two measures of the relationship: increasers as percentage of targets reached and percentage increase in purchase revenue among targets. These measurements allow comparing ROI and ROI Index values among different advertising strategies, under the assumption that advertising effectiveness differs by characteristics such as daypart and network hosting the advertisement airing. Such metrics can be divided by different product categories and their typical lead-lag time to purchase. Non-limiting examples of lag times between advertising and buying include: weekly (food), monthly (cleaning supplies), seasonally (clothing), or multi-yearly (automobiles). The analysis of such dose-response relationships may be further aided by the use of fitting to alternative shaped curves (diminishing returns, sigmoid, etc.), which have been found in marketing and in epidemiology in detecting, predicting and explaining the response of populations to stimuli.","A data fusion algorithm can be employed to ascribe marketing demographics, media exposure or other data from a marketing database to a second database or other databases. For example, product usage data from a marketing database may be fused to household  data that does not itself include that product usage data. Data fusion works on a statistical basis: the data in common between the multiple databases is used to group households . For example, if X percent of the group of households  in a first database uses a given product, then X percent of the households  in a second database can be ascribed as users of the product.","Within the data access tier  of the advertising measurement system , data may be stored and partitioned in association with multiple database management system (DBMS) servers or shards , , , , as shown in the system architecture example of  (for sake of convenience of disclosure, only four shards are displayed, but those skilled in the art will appreciate that more or less such shards are possible within the scope of the invention). Every shard -, can be configured to maintain the same data structure or data tables while storing different data. The amount of data stored on a single shard - can be determined by the smaller of the following two factors: the largest cost effective disk storage size, and the largest amount of data still allowing a desired query response time (e.g., five seconds or less). As shown, the shards - may be configured to communicate with the middle tier  of the advertising measurement system .","The inventors appreciate that the way data is partitioned in the data access tier  affects the efficiency of queries. For example, the number of distinct households  tuned at least once over a report period to the identified time interval, source, or content can be used to calculate a reach measurement. However, calculating this measurement becomes difficult if the same household  is exposed to identified time interval, source, or content multiple times over the report period, and records of those events are dispersed among different shards -. To validate that each household  is distinct, the ID of each household  could instead be aggregated and compared at a level higher than the data access tier . But such a data aggregation level would be external to the shards -, and this could cause potentially excessive data traffic between the shards - and the middle tier , thus adding more time to query processing. Therefore, in embodiments of the present invention, all information pertaining to a specific household  may be confined to a single shard -. In addition, certain information may be spread evenly across the shards - to avoid the situation in which some shards - work harder than others. A hash function may be used to determine a location of a specific household  on the shards -, such as when household  related data needs to be accessed or updated.","In various embodiments, the use of partitioning can facilitate submitting the same aggregate query to each of the shards - in parallel. For example, multiple instances of the same aggregate query may be executed on multiple shards -. After the multiple instances of the aggregate query have been executed on the shards -, the results from the multiple queries can be merged into a single query result by the system . It can be seen that such a query strategy provides an overall query response time for the multiple instances of the same aggregate query which is comparatively closer to the maximum response time for a single aggregate query than the time needed to sequentially process all of the data involved in executing the query.","As the amount of information within the advertising measurement system  grows, more shards - may be needed to sustain a desired data processing response time. After a new shard - is added to the system , existing data can be rebalanced between the shards - with a hash function, taking into account any new shards - now available. A similar technique may be used to constantly monitor performance of the shards - and rebalance data between\/among them according to the actual average response time achieved over a period of time, for example. This can be achieved by accounting for shard - capacity, which would be limited by the shard - physical capacity, but could be comparatively smaller for active shards - and comparatively larger for less active shards -. As a result of monitoring, the capacity of each shard - can be changed over time in response to its activity, thus distributing the data processing load between shards - more evenly. Such performance analyses, load balancing, tuning and optimization can be configured to be automated within the advertising measurement system  to provide the system  with a self-balancing quality.","As shown in , an example of an architecture having multiple copies of different partitions , , ,  in multiple shards , ,  is shown. This arrangement allows for the event that if any one of the shards , ,  fails, then the remaining shards , ,  would still possess copies of every single partition available, and the system  thus remains fully available.  shows a redundant configuration with eight shards -, each holding one of four duplicated partitions , , , . In this example, a failure of any one of the shards - would still leave the system  fully available, but eight servers would be needed instead of three (as shown in the example of ). However, the additional servers could be used to load balance concurrent queries, and improve the overall system  responsiveness.","As noted previously, query response time depends on data size. Typical sizes of data sets used in media analysis operations are large and hence query response time is high. However, in the present invention, the fact that the data is partitioned into shards makes the shard data size, not the overall database size, a determining factor affecting the query response time. Performance improvement in the present invention is gained by processing several smaller portions of data in parallel, on multiple database servers\/shards, each of which returns aggregated results (like count(*) or sum (*)), which can then be easily merged into and presented as a single result by a shard manager. The shard data size should be small enough to sustain a suitable query response time, which in turn may determine the number of shards needed, if and to the degree that the data storage is sufficient. In this way, the system can make use of all available server processing power for every analysis type used in media analysis operations while also providing a means for scaling the performance of the system by providing additional data shards to meet rising query response times. To further improve response time, the existence of duplicate partitions could be utilized by load balancing queries between the partitions. For example, if a query was scheduled against the first instance of partition A, the next concurrent query could be scheduled against the second instance of the same partition A instead of running both queries on the same shard. The existence of duplicate partitions could be also leveraged during data updates. A partition instance could be taken off line and updated without significantly affecting system  responsiveness, in comparison to having the partition instance remain online still responding to queries. Similarly, data staging, cleansing, and transformation can be performed on off-line partitions to avoid affecting system  responsiveness. The system can be continuously monitored, measuring and tracking partition response time and generating rebalancing recommendations, to move household  data from one partition to another, less loaded one. This can also help to improve the overall response time of the system  by limiting the situations in which individual partitions become too slow. Also, in addition to rebalancing, the system  can be configured to recommend adding components (e.g., data storage media, shards, etc.) to achieve an improvement.","The need to rebalance partitions may arise because some shards become overloaded, or because additional partitions are created. In both cases, the sequence performed by a partition to be rebalanced can be conducted as follows: obtain a new hash algorithm from the middle tier , accounting for additional partitions; generate a list of households  to be moved to different partitions and output them into multiple files, one for every destination partition; when households  are added to new target partition, obtain a signal from the middle tier  and delete the moved household  from the source partition. This algorithm may be applied to all existing partitions.","With reference to , multiple data feeds may flow into the advertising measurement system  from various business partners, vendors and other external applications or data sources  on a continuous basis. The system  may acquire data stream feeds on a predefined frequency and timeframe from the external applications and data sources  including the following types of data, for example and without limitation: clickstream data  (e.g., in the context of television programming, this may be data generated by the DSTB  which provides detailed information about a clicking event such as changing the television channel\u2014it may specify a cable box ID, time of the event, active channels, or other data); program data  including scheduled program data and actual program data (a \u201cprogram\u201d or \u201cprogramming\u201d may be defined as a specific piece of content such as \u201cFriends\u201d episode #, for example, which is a television program); advertising data  such as ad schedules; purchase data  such as purchase type data, purchase information data, or product category data; demographics data ; and\/or other data  such as marketing or markets data, zones (MSO) data, or many other types of data.","Upon receiving the data, the system  may execute various algorithms  (as previously described herein) for initial data cleaning, editing, quality assurance and formatting purposes. Also, data and other information obtained from the data feeds can be loaded into and stored in the data access tier  for ready access to perform various measurements, calculations, report generation, and other uses within the system  such as various user interface applications of the presentation tier .","In the process of receiving and processing data, the advertising measurement system  may preserve the original raw data while making a copy of the original raw data set. The algorithms  may be applied to the data set to format or prepare the prior to system  data load, and data within each feed may be validated prior to system  data load. Initially, data extraction may be performed to store the data in a landing area of the system . Once the data is extracted to the landing area, there are numerous transformations that may be performed, such as cleansing the data, combining data from multiple sources, filtering out duplicates, and\/or assigning database keys. A staging area of the system  may be configured with various database tables to contain the data in an intermediate form, where it can be readily manipulated. At this stage, applicable algorithms  (e.g., intab, false positive, outage\/surfing, failure, or others) can be applied to the data and derived tables can be built. In a further step, loading of data into the data access tier  can be performed. This step may be implemented as part of the middle tier  processing in order to partition the new data, for example, in association with storing the data in the data access tier .","In certain embodiments, clickstream data  originating from DSTBs  of televisions A, for example, may be supplied in data feeds by television distribution system providers working in conjunction with DSTB  technology providers. Program data  supplied to the advertising measurement system  may originate from cable operators, advertising media firms, and other third-party data providers who communicate daily or periodic data feeds of scheduled television program data, for example. Such data may identify what was scheduled to air on each television channel. In addition, files containing replacement data for actual programs aired (as ran logs) can be communicated after (e.g., three weeks after) the scheduled program data  is communicated. This data can be combined with other data streams to calculate ad campaign efficiency and ROI impact, among other measurements.","Advertising data  supplied to the advertising measurement system  may originate from periodic raw data files received directly from television networks (e.g., CBS) which may be sent via electronic mail as a flat file with post programming data (actual program data) and ad data or may be derived from user input. Unless available from the television network, ad schedule data can be provided by advertising customers along with advertising campaign definitions as entered through the user interface functionality of the presentation tier  of the system , for example. A sample of an ad schedule as entered by a user through the presentation tier  is shown in . Campaign definitions may be used for advertising based analyses and campaigns may include one or more ads.","Purchase data  supplied to the advertising measurement system  may be provided by consumer goods data scanning and data vendors. The purchase data  may include purchase data types and product categories which can be used to cross-correlate consumer buying patterns with data such as household  and program and channel viewing patterns obtained from DSTB  clickstream data to measure marketing and ROI impact. In certain embodiments, category\/product selections may be presented to users  to identify which universal product codes (\u201cUPCs\u201d) have associated data and which UPC codes to assign to different product brands. Purchase type data may represent static data used to designate the data grouping as \u201cCPG\u201d (consumer packaged goods), \u201cdurable goods\u201d, or \u201cAuto\u201d, for example. Purchase type data classification can be used to group data from other streams to allow raw tuning and program viewing data to be analyzed in terms of marketing and ROI impact, for example. Examples of purchase data  are shown in  ( illustrates a mapping between UPC and product category;  illustrates a mapping between UPC and brand of product; and,  illustrates a sample purchase category format).","Data feeds including demographic data  can be provided by multiple sources including cable operators, the United States Census Bureau, credit agencies, advertising customers and other third-party data providers. The demographic data  can be combined with other data streams to allow the raw tuning and program viewing data to be analyzed in terms of marketing and ROI impact. In certain embodiments, the same demographic data  per household  may be used and stored for the entire report period being measured, even when the demographic data  may have changed during that period. The demographic data  used are those that applied for the mid-day of the report, for example. Demographic data  profiles can be preserved within the system  to create the ability to view old reports using the then-current demographic data  profiles. In certain embodiments, if the demographic data  has changed during a reporting interval, then the system  may use the most recent demographic data  available for reporting purposes. The demographic data  can be applied at any geographic level, and may include data such as, for example and without limitation: state, county, ZIP Code, ZIP code (+4), precinct, voting district, city, block group, block, census block, census tract, markets, or other like data.","Other data  communicated to the advertising measurement system  may include market data. For example, there are different designated television market areas across the United States, typically defined by county. Zone data may also be communicated to the system . Zone data is an MSO specific definition of markets within the customer base of the MSO and can be supplied by each individual MSO. Users  may be permitted to specify zone data when defining the target group for any report.","In various embodiments of the advertising measurement system , data stored in the system  may be organized into various table structures for ready access and processing of the stored data, such as for generating reports through the presentation tier , for example. Many reports offered and generated through the system  require ad hoc demographic, geographic and consumer-specific data filtering, making it challenging to aggregate data or pre-calculate certain results. For example, relevant target households  matching numerous demographic criteria comprising many different demographic elements may need to be selected and processed in real-time. Even if a general population is the basis of a query, households  may be limited by geographic criteria. Subsequently, many queries may be centered on ad viewing or program viewing fact tables which reflect instances of a DSTB  viewing of advertising content such as commercials and program airings. As shown in , the ad viewing table contains basic facts about a program viewing event (e.g., viewing start time, household ID, and DSTB ID, ad airing ID (and the associated program ID foreign keys), viewing duration, jump-in second, and number of stay away seconds). The viewing start field can be calculated as a number of seconds. The household ID and the DSTB ID can be combined into a single four-byte field, leaving one byte for the DSTB ID within a household. Viewing start and jump-in second data can be used to calculate the ad airing start. The viewing duration and stay away second data complete the data set. The program viewing table has similar structure and its relationships are shown on the sample table illustrated in .","An example of a purchases table is shown in  which contains purchases made by household . Also, an example of a households table is shown in . The households table may be used to maintain information about individual households  and household-specific demographics. For compactness, demographic elements may be preserved in the table as individual bits in a demographic bitmap.","In another example, a geographic area table may be provided to define geographic areas, their names and types. A sample geographic area table is shown in . Also, a geographic area ZIP codes table may be used to determine which ZIP codes belong to certain geographic areas. This table may be used in connection with queries and reports that require geographic filtering. A sample of a geographic ZIP codes table is shown in .","In certain embodiments, a clickstream table may be provided to contain raw clickstream data. The raw clickstream data may be completely decomposed into the ad viewing and program viewing tables during extraction, transformation and loading processes performed by the middle tier  of the system . An example of a clickstream table is shown in .","In various embodiments, the ad viewing, program viewing, and purchases tables can be subject to partitioning and placed into shards. The remaining tables may or may not be partitioned, and may be maintained either only in the middle tier  database, such as in the case of the geographic area table; or may be replicated to every partition, such as in the case of the households table and the geographic area ZIP codes. Certain fully replicated tables may be designed sufficiently small to be loaded into and maintained in fast access memory, rather than on a slower data storage medium such as a disk based file system. This approach may be employed to improve the performance of queries and report generation by the system .","Additional table structures which may be employed in the advertising measurement system  include, for example and without limitation, the following sample tables: an ads table (see ); an ad airings table (see ); a campaigns table (see ); a channels table (see ); a clients table (see ); a dayparts table (see ); a networks table (see ); a product categories table (see ); a products table (see ); a purchases table (see ); a program airing table (see ); a programs table (see ); a report selection criteria table (which shows various report characteristics that can be selected or uses for generating reports\u2014see ); an audience retention report table (for use with generating an audience retention report\u2014see ); an ROI report table (for use with generating ROI reports\u2014see ); an AME report table (for use with generating advertising\/media exposure or AME reports\u2014see ); a DSTB intab table (for use with making intab calculations, for example\u2014see ); a DSTB false positive table (for use with making false positive algorithms, for example\u2014see ); and, a users table (for use with maintaining information for various users  of the system , for example\u2014see ). It can be appreciated that these are merely samples of table layouts, format and content, and many aspects of these tables may be varied or expanded within the scope of the invention.","In various embodiments, the presentation tier  may be web-based and configured to respond to many different kinds of user  interaction, such as gathering information from the user , sending the user information to business services of the middle tier  for processing, receiving results from the middle tier , and presenting those results to the user . The presentation tier  may employ a number of web applications which involve the middle tier  receiving, processing, storing, and communicating data with the presentation tier . In certain embodiments, the presentation tier  may be used to receive requests from users , collect input from user interfaces, provision and administer end users  and manage their entitlements, create and manage demographic profiles, create and manage advertisement campaigns, execute on demand and scheduled reports, or return results for display at the presentation tier . The data presentation tier  may be configured to allow users  to manipulate report result sets, add columns, hide columns, sort columns, change report layouts, add charts and pivot tables, or filter data without requiring additional access to the storage media of the data access tier , for example. Also, other administrative and reporting functions may be performed through access to the presentation tier , such as provisioning and administrating client organizations, provisioning and administrating end users and managing their entitlements, creating and managing demographic profiles, and creating and managing advertisement campaigns.","All or part of the following information may be displayed on a given report generated by the advertising measurement system : market (this will display the geographical area type and specific geographical area that the user  selected to generate the report); target group (this will display the demographic options selected); time frame (this will display whether a broadcasting day, week, month or other period was selected); name of schedule (the name of the schedule used to generate the report); intab sample size (this will display the sample size of the target group); date report run (date and time that the report was generated); and\/or, user name (the user name of the current user  of the system ).","In certain embodiments, an audience retention report may be generated by the advertising measurement system  for access and display through the presentation tier , for example. The audience retention or AR report measures how well an ad maintains its audience without switching away based on when and how the ad is delivered and the ad creative itself. Several examples of audience retention reports are displayed in FIGS. A-C. The audience retention report may use the following data as inputs, for example: campaign data, if applicable; time selection; report date range; geography; demographics; column selection; weighted or unweighted statistics; ad airing selection; included\/excluded media list\/ratings threshold; and, desired report groupings (e.g., by daypart, network or channel, program, half hour, or target\/total). A daypart is a segregation of a broadcasting week into different hour and day parts. Examples of potential daypart options are shown in the tabulation of  (these dayparts may be applicable to a variety of different reports generated by the system ). The system  may then process the input data and return audience retention report calculations. This processing may include matching clickstream data  and\/or applying one or more algorithms  (e.g., false positive; outage vs. surfing; multiset edit (MSE); census weighting; projection to population; lead lag time optimization; conformance to existing statistics; or others).","For example, in generating the audience retention report in a specified format, a first column may include selection criteria of the user  (e.g., by daypart, network, program, etc.). For each instance of a selection, a target record and a general record can be created and an audience column can identify which record is the target record (labeled as \u201cTarget\u201d), and which record is the general record (labeled as \u201cTotal\u201d). The \u201cTarget\u201d group and the \u201cTotal\u201d group each may have their own calculated statistics. A sample size column includes the number of households  who watched at least part of the advertisement defined by the advertising campaign selected by the user . A program rating column includes the rating for the television program associated with the advertisement. A rating column includes the percentage of households  in the population tuned to the row-identified time interval, source, or content averaged over the report period. A commercial rating includes a rating for the commercial. The rating can be calculated in the same manner as a program rating. A program cost per impression (\u201cCPM\u201d) column includes the cost per one thousand impressions on a program basis. CPM may be calculated as follows: Media Cost\/Number of Impressions*1000, wherein a value for Media Cost may be supplied by the user . A commercial CPM column includes a cost per one thousand impressions for a campaign and can be calculated in a manner similar to the program CPM value. The user  may supply the cost per advertisement, which is a subset of a campaign. A perfect play percentage column includes the percentage of viewers that watched a commercial in its entirety. A switch away percentage column includes the percentage of viewers that switched away from the advertisement while it was playing. A jump in percentage column includes the percentage of viewers that switched to the channel while the advertisement was playing. A modal switch away second column includes the number of seconds after the commercial started playing when viewers switched away from the commercial most often.","In certain embodiments, the audience retention report may also include a stay away column indicating the percentage of viewers that switched away from the advertisement while it was playing and did not return to the channel the advertisement was playing on for at least an hour (or another predetermined time period). Also, a stay away seconds column may provide an indication of the average number of seconds that the viewer user stayed away, for those viewers who switched away from the advertisement while it was playing and returned to the channel on which the advertisement was playing within an hour.","The audience retention report may also take into account a ratings threshold, so that if the report output is to be grouped by program or network (or both), programs and networks that are infrequently watched can be filtered out of the report. Also, if the report output is to be grouped by program or network, and a ratings threshold is selected, then the user  may be able to add programs to an included media list (if grouping by program) or networks to an included media list (if grouping by network). Adding a program\/network to an included media list causes that program\/network to always appear on the report, regardless of the ratings threshold. Likewise, if the report output is to be grouped by program or network, and a ratings threshold is selected, then the user  may be permitted to add programs to an excluded media list (if grouping by program) or networks to an excluded media list (if grouping by network). This is similar to the concept of an included media list, except that adding a program\/network to an excluded list will cause that program\/network to never appear on the report, regardless of the ratings threshold. Campaigns and advertisements used in various reports may be entered by the user  in advance, including times and channels advertisements were aired, for example. Also, specific measurements may be limited to the amount and scope of data correlated to the DSTB  data or demographic data , for example.","In the audience retention report, sample size may be determined by selecting all of the DSTBs  that fall under the given selection of input data (e.g., matching geographic, demographic and\/or consumer-specific inputs). The system  may then count the DSTBs  that meet the selected criteria and the number of matching target DSTBs  can be displayed on the report. If the total grouping feature is also enabled, then the total DSTBs  can be displayed on the total row of the report.","In certain embodiments, a reach frequency report may be generated by the advertising measurement system . A reach frequency or RF report may be designed to measure how many times an ad is exposed in a household  and how many households  are reached by that exposure. Examples of reach frequency reports are displayed in . The reach frequency report may use the following data as inputs, for example: campaign data, if applicable; time selection; report date range; geography; demographics; column selection; weighted or unweighted statistics; ad airing selection; included\/excluded media list\/ratings threshold; frequency grouping and selection; and, desired report groupings (e.g., by daypart, network or channel, program, half hour, or target\/total).","The system  may generate the reach frequency report in a specified format, including columns for audience (noting which record is the target record and which record is the general or total record); cost (this is the reported cost of the advertisements that were aired during the given time period); rating points (this is the sum of all ratings for the advertisement over the report period); cost per impression (CPM\u2014this is the cost to the advertiser for one thousand impressions); impressions (the total number of impressions received by a population); average frequency (this statistic is the average number of times that the target households viewed the selected advertisement out of those who saw the advertisement at least once); and, frequency (of the all the selected households who saw at least one ad airing, this is the percentage of households who were exposed to between Y and Z airings).","In certain embodiments, a return on investment or ROI report may be generated by the advertising measurement system . The ROI report can be created on demand and allow users to determine how purchasing habits of a target group of consumers changed as the result of viewing an advertisement. The ROI report can be configured to compare the ROI achieved under different scenarios of target household  demographics and ad delivery. This will allow users , such as advertisers, to see which parts of the day, on which channels, during which programs airing advertisements aimed at a target group, or other demographics data yielded the best returns on investment. Examples of ROI reports are displayed in .","The ROI report may use the following data as inputs, for example: time selection (current and base period); report date range; purchase data; user type (heavy, medium, or light category purchase rate); user loyalty; and\/or, report groupings (e.g., by daypart, network or channel, or frequency). The system  may generate the ROI report in a specified format, including one or more of the following columns or data fields: first grouping criteria; second grouping criteria (if applicable); percentage target reach (the percentage of households  of the selected demographic who tuned at least once over the base report period to the specified advertisement); target average frequency (out of the households  that viewed the advertisement at least once, this is the average number of times that a household  within the selected demographic viewed the advertisement within the base report period); target rating points (the sum of ratings for the advertisement over the base report period); cost per thousand impressions (CPM) targets (the cost to the advertiser for one thousand impressions from households  in the target demographic); increasers as percentage of targets reached (the percentage of households  in the target group that increased their level of purchasing of the product advertised between the base period and the current period); percentage increase in purchase revenue among targets (of the target population that increased spending, the percentage increase of money spent on a certain brand between the base period and the current period); ROI (return on investment on the specified advertising); and\/or, ROI Index (ROI for the specific media vehicle or type versus the average ROI for all media employed by the brand during the time period specified and within other report filters the user  has specified). The user  can be provided with additional parameters to manipulate to allow the user  to calculate an ROI measurement consistent with a specific approach of the user  to calculating ROI (e.g., based on total retail sales dollars versus incremental retail sales dollars, gross or net revenue, with or without long-term advertising effects multiplier, with or without consumer lifetime value (CLV), and many others).","In certain embodiments, an advertising\/media exposure report or AME report may be generated by the advertising measurement system . The AME report may be designed to measure how well an ad delivery schedule reaches the desired target audience. Examples of AME reports are displayed in . The AME report may use the following data as inputs, for example: time selection; report date range; geography; demographics; column selection; weighted or unweighted statistics; included\/excluded media list\/ratings threshold; minimum tuning parameter; and\/or, grouping (e.g., by daypart, network or channel, or frequency). The system  may generate the AME report in a specified format, including one or more of the following columns or data fields: selection (the first column includes the user  selection criteria, listing the dayparts, half hours or programs that are applicable to the analysis); household rating (the percentage of households  using DSTBs  during a specific daypart, half-hour, or were watching a specific program divided by the total households ); household rating index (a measurement of the rating of the target group with respect to the rating of the entire population); households using television (HUT is the percentage of all households  tuned into any channel during a time period); household share is the percentage of households  tuned to a particular channel during a daypart divided by the total households  tuned to any channel during the same daypart; reach is the percentage of households  tuned to the identified time interval, source, or content of households using television); cumulative reach (CUME is the number of distinct households  tuned sometime during the daypart to the specified channel divided by the total number of households ). Ratings and share calculations described herein may also be made per average second or in response to another suitable time period.","In certain embodiments, a true target index or TTI report may be generated by the advertising measurement system . The TTI report analyzes the target composition of alternative media environments across large number of different target groups in a single report. The TTI report may be configured to compare the efficiency of reaching the true target audience (e.g., defined by demographics, purchase history, etc.) by different ad delivery means (e.g., channel, program, time of day, etc.). The TTI report may allow users to compare the effectiveness of defined advertising campaigns against each other when shown during specific shows via a rating index (described below). Advertisers can use this information to reallocate advertising dollars to television programs with increased exposure to a target audience. Examples of TTI reports are displayed in .","The TTI report may use the following data as inputs, for example: campaign data; time selection (current and base period); report date range; consumer purchase data; user type (e.g., heavy, medium, light category purchase); user loyalty (may be measured as SOR or share of requirements, meaning the percentage share that the household  spends in a given product category or on a given product brand); report groupings (e.g., daypart, network or channel, frequency). The TTI report may be generated in a specified format including columns or data fields for program (the first column may be an enumeration of the programs that are shown during the selected time period); and, a campaign rating index (for each advertising campaign that is set up by the user executing the report).","A number of pre-calculations, system processing algorithms, and post user input processing may occur throughout the generation of the reports. In generating the reports, various data may be appended to a household , which can then be distributed across analyzed segments according to the report parameters. For example, some parameter values specify analysis of the viewership of discrete household  populations; while others split a single household  viewership across multiple dimensions.","In association with various embodiments of the invention,  illustrates an example of a login screen that may be presented to users  upon first accessing the presentation tier  of the advertising measurement system .  illustrates an example of a demographic selections screen display that permits the user  to make various selections associated with the kind of reports or calculations that the user  wants to generate in connection with using the system .  illustrates an example of a campaigns screen display that permits the user  to manage various advertising campaigns which the user  is permitted to access through the system .  includes an example of an included media screen display that allows users  to specify which programming content or television shows should be included or excluded from analyses or reports generated in connection with the system .  shows an example of a purchaser targets screen display that can be used to make certain selections regarding the purchasing behavior, for example, of households  involved in a given analysis.  includes an example of a targets screen display which may be used in connection with generating a true target index (TTI) report.  include examples of screen displays which may be used for generating ROI reports in connection with the system .  includes an example of a filter screen display that can be employed in generating various reports or conducting various analysis win connection with the system .","Various metrics or formulas may be calculated in connection with various embodiments of the invention. Non-limiting examples of these metrics include perfect play (percentage of DSTBs  that also tuned unbrokenly to the first and to the last second of an ad airing compared to the number of DSTBs  that tuned to any part of the ad airing); switch away (percentage of DSTBs  that tuned to the first second of an ad but switched away before the last second, compared to the number of DSTBs  that tuned to any part of the ad airing); jump in (percentage of DSTBs  that tuned to the last second of the ad airing but not to the first second compared to the number of DSTBs  that tuned to any part of the ad airing); average stay away seconds (average number of seconds the DSTBs  stayed away from a channel after switching away from the given ad airing); stayed away (percentage of those DSTBs  that switched away from a channel and did not return to that channel for X hours, wherein X can be a settable parameter, such as one hour); no play (for a given ad that aired in a given program, the percentage of DSTBs  that tuned to that program for at least X seconds (X being a settable parameter such as 600 seconds), but that missed being tuned to that ad); partial play (percentage of DSTBs  that were tuned to any part of an ad airing but did not tune to either the first or the last second of the ad, compared to the number of DSTBs  that tuned to any part of the ad airing); and, program partial play seconds (average number of total seconds tuned by DSTBs  to a program airing versus the length of the program).","Program metrics for program switch away, program jump in, program perfect play, program no play, program partial play, program stay away seconds, and program stayed away may be provided which correspond analogously to metrics defined for ad airings. In the context of programs, equivalent behavior can be readily modified to metrics such as average percentage of total program tuned, average percentage of ad time tuned, average percentage of ads tuned\/missed, and average number of switch-aways, among others.","One example of a metric is a rating. A rating defines what percentage of the total possible audience tunes to a time period of interest. Time period can be defined by one or more program airings, commercial airings, dayparts, or arbitrary time intervals. Ratings can be based on a single channel or multiple channels. Ratings can be by DSTB , by household , or by households  having applied a multi-STB edit algorithm, for example. The ratings can be aggregated as the rating per average second, per average minute, etc. The generalized formula below describes the idea of average second household ratings:",{"@attributes":{"id":"p-0148","num":"0147"},"maths":{"@attributes":{"id":"MATH-US-00001","num":"00001"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"RATING","mo":"=","mfrac":{"mrow":[{"munder":{"mo":"\u2211","mi":"HH"},"mo":"\u2062","mi":"seconds_tuned"},{"mi":["total_seconds","number_HH"],"mo":"*"}]}}}}},"A program\/network CPM can be calculated by determining the number of ad airings from the selected campaign that were aired during a given program or network during the selected time interval. This can be done by examining the households  that have been selected in accordance with the input data. Next, these households  may be filtered to determine which households  watched at least part of an ad airing during a particular program or on a certain network. This can be calculated by taking the ad airings times and overlaying them onto clickstream data  from the appropriate households  and determining if a household was tuned into a given program\/network. Using the cost ratio of ad airings belonging to a selected campaign, and the number of impressions gained during a program or network, the system  can calculate the program\/network CPM as follows:",{"@attributes":{"id":"p-0150","num":"0149"},"maths":{"@attributes":{"id":"MATH-US-00002","num":"00002"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mi":["Program","NetworkCPM"],"mo":"\/"},{"mfrac":{"mrow":[{"mfrac":[{"mrow":{"mi":["eImpressions","inputCPM"],"mo":"*"},"mn":"1000"},{"mi":["associatedAds","totalAds"]}],"mo":"*"},{"munderover":{"mo":"\u2211","mrow":[{"mi":"i","mo":"=","mn":"1"},{"mi":["numPro","Net"],"mo":"\/"}]},"mo":"\u2062","mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"j","mo":"=","mn":"1"},"mi":"numHHs"},"mo":"\u2062","msub":{"mi":["impression","ij"]}}}]},"mo":"*","mn":"1000"}],"mo":"="}}},"br":{},"b":["102","326"],"sub":["ij ","i ","j ","j "]},"In a like manner, commercial CPM may be calculated as follows:",{"@attributes":{"id":"p-0152","num":"0151"},"maths":{"@attributes":{"id":"MATH-US-00003","num":"00003"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"CommercialCPM","mo":"=","mrow":{"mfrac":{"mrow":[{"mfrac":[{"mrow":{"mi":["eImpressions","inputCPM"],"mo":"*"},"mn":"1000"},{"mi":["associatedAds","totalAds"]}],"mo":"*"},{"munderover":{"mo":"\u2211","mrow":[{"mi":"i","mo":"=","mn":"1"},{"mi":"associatedAds","mo":"\u2062","mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}]},"mo":"\u2062","mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"j","mo":"=","mn":"1"},"mi":"numHHs"},"mo":"\u2062","msub":{"mi":["impression","ij"]}}}]},"mo":"*","mn":"1000"}}}},"br":{},"b":"102","sub":["ij ","i ","j"]},"A perfect play percentage may calculated by examining the DSTBs  that have been selected in accordance with the input data. These DSTBs  may be filtered to determine which DSTBs  watched at least part of an ad airing. This can be done by taking the ad airings times and overlaying them onto clickstream data  from the appropriate DSTBs  to determine if a DSTB  was tuned into a channel that an ad airing was playing on at the same time that an ad airing was playing. Next, the DSTB  may be further examined to determine if the time span that the DSTB  was watching the channel started before and ended after the time of the given ad airing. The perfect play percentage can be calculated as the number of DSTBs  that watched an entire ad airing (determined by comparing the time spans of the DSTB  viewing versus the playing time of an ad airing) divided by the number of DSTBs  that watched at least part of an ad airing, as follows:",{"@attributes":{"id":"p-0154","num":"0153"},"maths":{"@attributes":{"id":"MATH-US-00004","num":"00004"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"PerfectPlay","mo":"=","mfrac":{"mrow":[{"munderover":{"mo":"\u2211","mrow":{"mi":"i","mo":"=","mn":"1"},"mi":"numAdAirings"},"mo":"\u2062","mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"j","mo":"=","mn":"1"},"mi":"numSTBs"},"mo":"\u2062","msub":{"mi":["viewWhole","ij"]}}},{"munderover":{"mo":"\u2211","mrow":{"mi":"i","mo":"=","mn":"1"},"mi":"numAdAirings"},"mo":"\u2062","mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"j","mo":"=","mn":"1"},"mi":"numSTBs"},"mo":"\u2062","msub":{"mi":["viewPart","ij"]}}}]}}}},"br":{},"b":"106","sub":["i ","i ","i ","j"]},"A switch away percentage can be calculated by examining the DSTBs  that have been selected in accordance with the input data. These DSTBs  may be filtered to determine which DSTBs  watched at least part of an ad airing. This can be done by taking the ad airings times and overlaying them onto clickstream data  from the appropriate DSTBs  and determining if a DSTB  was tuned to a channel on which an ad airing was playing at the same time the ad airing was playing. Next, the DSTB  may be further examined to determine if the time span that the DSTB  was watching the channel started before the given ad airing started, and ended before the given ad airing ended. This signifies that the consumer switched the channel before the ad airing was over. The switch away percentage is the number of DSTBs  that started watching an ad airing but did not finish (determined by comparing the time spans of the DSTB  viewing versus the playing time of an ad airing), divided by the number of DSTBs  that watched at least part of an ad airing, as follows:",{"@attributes":{"id":"p-0156","num":"0155"},"maths":{"@attributes":{"id":"MATH-US-00005","num":"00005"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"SwitchAway","mo":"=","mfrac":{"mrow":[{"munderover":{"mo":"\u2211","mrow":{"mi":"i","mo":"=","mn":"1"},"mi":"numAdAirings"},"mo":"\u2062","mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"j","mo":"=","mn":"1"},"mi":"numSTBs"},"mo":"\u2062","msub":{"mi":["viewStart","ij"]}}},{"munderover":{"mo":"\u2211","mrow":{"mi":"i","mo":"=","mn":"1"},"mi":"numAdAirings"},"mo":"\u2062","mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"j","mo":"=","mn":"1"},"mi":"numSTBs"},"mo":"\u2062","msub":{"mi":["viewPart","ij"]}}}]}}}},"br":{},"b":"106","sub":["i ","j ","i ","j"]},"A jump in percentage can be calculated by examining the DSTBs  that have been selected in accordance with the input data. These DSTBs  may be filtered to determine which DSTBs  watched at least part of an ad airing. This can be done by taking the ad airings times and overlaying them onto clickstream data  from the appropriate DSTBs  and determining if a DSTB  was tuned to a channel on which an ad airing was playing on at the same time that the ad airing was playing. The DSTB  can be further examined to determine if the time span that the DSTB  was watching the channel started after the given ad airing started. This signifies that the consumer switched onto the channel that the ad airing was on television during the ad airing. The jump in percentage can be calculated as the number of DSTBs  that started watching an ad airing starting in the middle of the ad airing (determined by comparing the time spans of the DSTB  viewing versus the playing time of an ad airing), divided by the number of DSTBs  that watched at least part of an ad airing, as follows:",{"@attributes":{"id":"p-0158","num":"0157"},"maths":{"@attributes":{"id":"MATH-US-00006","num":"00006"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"JumpIn","mo":"=","mfrac":{"mrow":[{"munderover":{"mo":"\u2211","mrow":{"mi":"i","mo":"=","mn":"1"},"mi":"numAdAirings"},"mo":"\u2062","mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"j","mo":"=","mn":"1"},"mi":"numSTBs"},"mo":"\u2062","msub":{"mi":["viewAfterStart","ij"]}}},{"munderover":{"mo":"\u2211","mrow":{"mi":"i","mo":"=","mn":"1"},"mi":"numAdAirings"},"mo":"\u2062","mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"j","mo":"=","mn":"1"},"mi":"numSTBs"},"mo":"\u2062","msub":{"mi":["viewPart","ij"]}}}]}}}},"br":{},"b":"106","sub":["i ","j ","i ","j"]},"A modal switch away second can be calculated by examining the DSTBs  that have been selected in accordance with the input data. These DSTBs  may be filtered to determine which DSTBs  watched at least part of an ad airing. This can be done by taking the ad airings times and overlaying them onto clickstream data  from the appropriate DSTBs  and determining if a DSTB  was tuned to a channel on which an ad airing was playing on at the same time that the ad airing was playing. The DSTB  can be further examined to determine if the time span that the DSTB  was watching the channel ended before the given ad airing ended. This signifies that the consumer switched the channel during the ad airing. Furthermore, how far into the ad airing the switch occurred can be determined. Then, after examining all DSTBs , determine at which second most DSTB  users switched the channel. The modal switch away second can be calculated as the number of seconds after the commercial started that most DSTBs  switched away from the ad airing, which is equal to the kth second that is used to maximize the following function:",{"@attributes":{"id":"p-0160","num":"0159"},"maths":{"@attributes":{"id":"MATH-US-00007","num":"00007"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msubsup":{"mi":["MAX","AdSeconds"],"mrow":{"mi":"k","mo":"=","mn":"1"}},"mo":"\u2062","mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"i","mo":"=","mn":"1"},"mi":"numAdAirings"},"mo":"\u2062","mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"j","mo":"=","mn":"1"},"mi":"numSTBs"},"mo":"\u2062","msub":{"mi":["switch","ijk"]}}}}}},"br":{},"b":"106","sub":["ijk ","i ","j ","b=i","i ","i"],"sup":"a"},"A stay away value can be calculated by examining the DSTBs  that have been selected in accordance with the input data. These DSTBs  may be filtered to determine which DSTBs  watched at least part of an ad airing. This can be done by taking the ad airings times and overlaying them onto clickstream data  from the appropriate DSTBs  and determining if a DSTB  was tuned to a channel on which an ad airing was playing on at the same time that the ad airing was playing. The DSTB  can be further examined to determine if the time span that the DSTB  was watching the channel ended before the given ad airing ended. This signifies that the consumer switched away from the channel during the ad airing. If this is the case, how long it was until the DSTB  tuned back to the channel that the ad airing was on can be determined. The stay away percentage can be calculated as the number of DSTBs  that started watching an ad airing at some point during the ad airing and then switched away for at least an hour before returning (determined by comparing the time spans of the DSTB  viewing versus the playing time of an ad airing), divided by the number of DSTBs  that watched at least part of an ad airing, as follows:",{"@attributes":{"id":"p-0162","num":"0161"},"maths":{"@attributes":{"id":"MATH-US-00008","num":"00008"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"StayedAway","mo":"=","mfrac":{"mrow":[{"munderover":{"mo":"\u2211","mrow":{"mi":"i","mo":"=","mn":"1"},"mi":"numAdAirings"},"mo":"\u2062","mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"j","mo":"=","mn":"1"},"mi":"numSTBs"},"mo":"\u2062","msub":{"mi":["viewStayAway","ij"]}}},{"munderover":{"mo":"\u2211","mrow":{"mi":"i","mo":"=","mn":"1"},"mi":"numAdAirings"},"mo":"\u2062","mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"j","mo":"=","mn":"1"},"mi":"numSTBs"},"mo":"\u2062","msub":{"mi":["viewPart","ij"]}}}]}}}},"br":{},"b":"106","sub":["i ","j","i ","j"]},"A stay away seconds value can be calculated by examining the DSTBs  that have been selected in accordance with the input data. These DSTBs  may be filtered to determine which DSTBs  watched at least part of an ad airing. This can be done by taking the ad airings times and overlaying them onto clickstream data  from the appropriate DSTBs  and determining if a DSTB  was tuned to a channel on which an ad airing was playing on at the same time that the ad airing was playing. After this has been determined, the DSTB  can be further examined to determine if the time span when the DSTB  was watching the channel ended before the given ad airing ended. This signifies that the consumer switched away from the channel during the ad airing. If this is the case, how long it was until the DSTB  tuned back to the channel that the ad airing was on can be determined. The stayed away seconds can be calculated as the average number of seconds that it took for a DSTB  to return to a channel after it switched away during a given ad airing, out of the DSTBs  that returned within an hour of the switch away, as follows:",{"@attributes":{"id":"p-0164","num":"0163"},"maths":{"@attributes":{"id":"MATH-US-00009","num":"00009"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"StayAwaySeconds","mo":"=","mfrac":{"mrow":[{"munderover":{"mo":"\u2211","mrow":{"mi":"i","mo":"=","mn":"1"},"mi":"numAdAirings"},"mo":"\u2062","mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"j","mo":"=","mn":"1"},"msub":{"mi":["numSTBsSwitch","i"]}},"mo":"\u2062","msub":{"mi":["secondsStayAway","ij"]}}},{"munderover":{"mo":"\u2211","mrow":{"mi":"i","mo":"=","mn":"1"},"mi":"numAdAirings"},"mo":"\u2062","msub":{"mi":["numSTBsSwitch","i"]}}]}}}},"br":{},"sub":["i ","i ","j ","i"],"b":"106"},"Cost can be calculated by determining the number of ad airings from the selected campaign that were aired during the selected time interval. Using the expected number of impressions, the expected CPM, and determining the fraction of ad airings in a campaign that are selected by the inputted time frame and grouping, the system  can calculate the cost of the given ad airings, as follows:",{"@attributes":{"id":"p-0166","num":"0165"},"maths":{"@attributes":{"id":"MATH-US-00010","num":"00010"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"Cost","mo":"=","mrow":{"mfrac":[{"mrow":{"mi":["eImpressions","inputCPM"],"mo":"\u22c6"},"mn":"1000"},{"mi":["associatedAds","totalAds"]}],"mo":"\u22c6"}}}},"br":{}},"Ratings points can be calculated by determining the number of ad airings from the selected campaign that were aired during the selected time interval and determining the rating of each applicable ad airing, which can be calculated as:",{"@attributes":{"id":"p-0168","num":"0167"},"maths":{"@attributes":{"id":"MATH-US-00011","num":"00011"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"RATING","mo":"=","mfrac":{"mrow":[{"munder":{"mo":"\u2211","mi":"HH"},"mo":"\u2062","mi":"seconds_tuned"},{"mi":["total_seconds","number_HH"],"mo":"\u22c6"}]}}}},"br":{}},"Next, grouping and summing the rating for all ad airings for specific time intervals and channels, as specified by user input, can be calculated as follows:",{"@attributes":{"id":"p-0170","num":"0169"},"maths":{"@attributes":{"id":"MATH-US-00012","num":"00012"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"RatingsPoints","mo":"=","mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"i","mo":"=","mn":"1"},"mi":"Report_period"},"mo":"\u2062","msub":{"mi":["rating","i"]}}}}},"br":{}},"Percentage target reach can be calculated by examining the DSTBs  that have been selected in accordance with the input data. Next, those DSTBs  tuned to the identified time interval, source, or content can be determined. Then, multi-DSTB household algorithms can be used to determine and count overlap of DSTBs  within a household . Dividing this result by the total number of DSTBs  that were selected in accordance with the input data then yields reach as follows:",{"@attributes":{"id":"p-0172","num":"0171"},"maths":{"@attributes":{"id":"MATH-US-00013","num":"00013"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"reach","mo":"=","mrow":{"mfrac":{"mrow":{"mi":"count","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"HH_tuned"}},"mi":"totalTargetHH"},"mo":"\u22c6","mn":"100"}}}},"br":{}},"Cost per impression (CPM) can be calculated by determining the number of ad airings from the selected campaign that were aired during the selected time interval. Next, the DSTBs  selected in accordance with the input data can be examined by filtering these DSTBs  to determine which were watched at least part of an ad airing. This can be done by taking the ad airings times and overlaying them onto clickstream data  from the appropriate DSTBs  to determine if a DSTB  was tuned to a channel on which a given ad airing was being played. Using the cost, ratio of ad airings belonging to a selected campaign, and the number of impressions gained during an ad airing, the system  can calculate the CPM as follows:",{"@attributes":{"id":"p-0174","num":"0173"},"maths":{"@attributes":{"id":"MATH-US-00014","num":"00014"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"CPM","mo":"=","mrow":{"mfrac":{"mrow":[{"mfrac":[{"mrow":{"mi":["eImpressions","inputCPM"],"mo":"\u22c6"},"mn":"1000"},{"mi":["associatedAds","totalAds"]}],"mo":"\u22c6"},{"munderover":{"mo":"\u2211","mrow":{"mi":"i","mo":"=","mn":"1"},"mi":"associatedAds"},"mo":"\u2062","mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"j","mo":"=","mn":"1"},"mi":"numSTBs"},"mo":"\u2062","msub":{"mi":["impression","ij"]}}}]},"mo":"\u22c6","mn":"1000"}}}},"br":{},"b":"106","sub":["ij ","i ","j"]},"Impressions can be calculated as the number of impressions for a group of ad airings. An impression can be defined as a consumer interacting with an advertisement once for some period of time. Viewing the entire advertisement is an impression, while viewing a small segment of the advertisement is also an impression. For example, a DSTB  consumer may yield one impression per ad airing. This is determined by analyzing clickstream data  and determining which DSTBs  from a selected population were able to view which selected ad airings.","Average frequency can be calculated by determining the number of ad airings from the selected campaign that were aired during the selected time interval. Next, the DSTBs  selected in accordance with the input data can be examined by filtering the DSTBs  to determine which were tuned for at least part of an ad airing. This can be done by taking the ad airings times and overlaying them onto clickstream data  from the appropriate DSTBs  to determine if a DSTB  was tuned to a channel on which a given ad airing was being played. The system  can calculate how many times each DSTB  was tuned into one of the selected ad airings, as follows:",{"@attributes":{"id":"p-0177","num":"0176"},"maths":{"@attributes":{"id":"MATH-US-00015","num":"00015"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"AverageFrequency","mo":"=","mfrac":{"mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"j","mo":"=","mn":"1"},"mi":"adAirings"},"mo":"\u2062","mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"i","mo":"=","mn":"1"},"mi":"viewingHH"},"mo":"\u2062","msub":{"mi":["viewed","ij"]}}},"mi":"viewingHH"}}}},"br":{},"sub":["ij ","j"]},"The definition of the frequency Y-Z column of the report may depend on input received from the user . It enumerates the number of households  who viewed at least a part of Y airings, Y+1 airings, . . . , Z\u22121 airings, or Z airings. As many as X of these columns may exist, depending on the input data. Finally, if this is the last of these X airings, the column is defined as Frequency Y\u2212\u221e, which represents the number of households  who saw an ad airing Y or more times. It can be calculated by determining the number of ad airings from the selected campaign that were aired during the selected time interval. Next, the DSTBs  selected in accordance with the input data can be examined by filtering the DSTBs  to determine which were watched at least part of an ad airing. This can be done by taking the ad airings times and overlaying them onto clickstream data  from the appropriate DSTBs  to determine if a DSTB  was tuned to a channel on which a given ad airing was being played. The system  can calculate how many times each DSTB  was tuned into one of the selected ad airings ad airing, or how many DSTBs  viewed an ad airing between Y and Z times, as follows:",{"@attributes":{"id":"p-0179","num":"0178"},"maths":[{"@attributes":{"id":"MATH-US-00016","num":"00016"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"FrequencyYZ","mo":"=","mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"i","mo":"=","mn":"1"},"mi":"viewingHH"},"mo":"\u2062","msub":{"mi":["viewYZ","i"]}}}}},{"@attributes":{"id":"MATH-US-00016-2","num":"00016.2"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msub":{"mi":["viewedYZ","i"]},"mo":"=","mrow":{"mi":"f","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"j","mo":"=","mn":"1"},"mi":"adAirings"},"mo":"\u2062","msub":{"mi":["viewed","ij"]}},"mo":[",",","],"mi":["Y","Z"]}}}}}}],"br":{},"sub":["ij ","i","i "]},{"@attributes":{"id":"p-0180","num":"0179"},"maths":{"@attributes":{"id":"MATH-US-00017","num":"00017"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"j","mo":"=","mn":"1"},"mi":"adAirings"},"mo":"\u2062","msub":{"mi":["viewed","ij"]}}}},"br":{},"sub":"i "},"In certain embodiments, users  may be able to view implications of moving cut-off points using a slider (e.g., by moving the slider, the user  would be able to see that moving the predetermined limit for a \u201cheavy\u201d category designation from 144 ounces per week to 120 ounces per week causes the \u201cheavy\u201d category to account for 40% of sales dollars versus 33% of sales dollars).","In generating the reports described herein, analysis of matchable clickstream data  may be performed, including identifying DSTBs  that were watching a given advertisement during a base period; determining the number of times that a DSTB  user viewed part of or the entire given advertisement during a base period and counting each instance of an advertisement at most once per DSTB  user; and, determining what channel, what program, and at what time the DSTB  user viewed the advertisement during a base period. Analysis of purchase data  may be performed by determining if a DSTB  user increased consumption of the advertised brand between a base period and a subsequent analysis period. If consumption was increased, the amount by which the DSTB  user increased consumption can be calculated.","Additional statistics that may be calculated by the system  include, for example and without limitation: the percentage of the population that viewed the advertisement at least once over the base period; the number of households  that viewed advertisement at least once; the average number of times that households  saw at least part of the advertisement; the sum of the ratings achieved by each instance of the advertisement over the base period; the cost of the advertisement per viewing, given the cost of the advertisement by the user; the percentage increase in the spending of the population that increased their consumption of a given product; the percentage ROI on the advertisements aired during the base period with respect to spending in the analysis period; and, a normalized index of the ROI measurement.","Also, an ROI matched weighting algorithm may be executed, wherein the report can be run on an ROI-matched subset of an intab sample, with geographic or demographic weighting applied to cause the weighted sample to reflect external data sources. A projection to population algorithm may permit a user  to input a number that represents a total population, and the system  can convert ratings and percentages into numbers in thousands, for example. A lead-lag time optimization algorithm may be executed to optimize the lead-lag time interval between causal exposure and sales effect based on a least squares or alternative mathematical model to determine best fit with results (i.e., to explain a maximum percentage of variance). Example lag times between advertising and buying include: weekly (food\/beverage), monthly (cleaning supplies), seasonally (clothing), and, annually\/multi-yearly (automobiles).","The household rating index can be calculated by calculating the rating for the target group selected with the demographic, consumer-specific, and geographic input data; and then calculating the rating for the total group (selected with only the geographic input). The household rating index can then be calculated by dividing the rating for the target group by the rating for the total group and multiplying by 100.",{"@attributes":{"id":"p-0186","num":"0185"},"maths":{"@attributes":{"id":"MATH-US-00018","num":"00018"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"ratingIndex","mo":"=","mrow":{"mfrac":{"mi":["targetRating","totalRating"]},"mo":"\u22c6","mn":"100"}}}},"br":{},"b":"102"},"Households using television or HUT can be calculated by examining the DSTBs  that have been selected in accordance with the input data and determining how many seconds each DSTB  was using television during the selected period of time. With regard to households  that operate multiple DSTBs  simultaneously, each such household  may be counted only once during the period of simultaneous DSTB  operation for purposes of this calculation. Next, the total amount of time that each DSTB  could have been using television if they continuously were watching television can be calculated. HUT is then calculated as the quotient of these two values, as follows:",{"@attributes":{"id":"p-0188","num":"0187"},"maths":{"@attributes":{"id":"MATH-US-00019","num":"00019"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msub":{"mi":["HUT","daypart"]},"mo":"=","mfrac":{"mrow":[{"munder":{"mo":"\u2211","mi":"HH"},"mo":"\u2062","msub":{"mi":"seconds_tuned","mrow":{"mi":["HH","daypart"],"mo":","}}},{"msub":{"mi":["totalSeconds","daypart"]},"mo":"\u22c6","mi":"numberHH"}]}}}},"br":{},"sub":["ij ","j"],"b":["102","102"]},"Household share can be calculated by calculating the rating for a given channel, daypart, and time interval; calculating the households using television for a given daypart and time interval; and share is the quotient of these two values, as follows:",{"@attributes":{"id":"p-0190","num":"0189"},"maths":{"@attributes":{"id":"MATH-US-00020","num":"00020"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msub":{"mi":"share","mrow":{"mi":["channel","daypart","timePreiod"],"mo":[",",","]}},"mo":"=","mfrac":{"msub":[{"mi":"rating","mrow":{"mi":["channel","daypart","timePeriod"],"mo":[",",","]}},{"mi":"HUT","mrow":{"mi":["daypart","timePeriod"],"mo":","}}]}}}},"br":{}},"Reach can be calculated by examining the DSTBs  that have been selected in accordance with the input data and determining how many of those DSTBs  were tuned to the identified time interval, source, or content. Reach can be calculated as follows:",{"@attributes":{"id":"p-0192","num":"0191"},"maths":{"@attributes":{"id":"MATH-US-00021","num":"00021"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"reach","mo":"=","mrow":{"mfrac":{"mrow":{"mi":"count","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"HH_tuned"}},"mi":"totalTargetHH"},"mo":"\u22c6","mn":"100"}}}},"br":{},"b":["102","102"]},"Cumulative reach or CUME can be calculated by examining the DSTBs  that have been selected in accordance with the input data and determining how many of those DSTBs  were tuned to the specified channel during a given daypart. The minimum tuning daypart parameter may be used as a criterion for determining whether a given household  should count towards CUME or not. If the household  tunes into a channel less than the amount specified by minimum tuning daypart, then it should not be counted toward CUME. CUME can be calculated as follows:",{"@attributes":{"id":"p-0194","num":"0193"},"maths":{"@attributes":{"id":"MATH-US-00022","num":"00022"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"CUME","mo":"=","mrow":{"mfrac":{"mrow":{"mi":"count","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"HH_tunedChannel"}},"mi":"totalTargetHH"},"mo":"\u22c6","mn":"100"}}}},"br":{},"b":"102"},"As described above, data such as clickstream data can be partitioned within the data access tier  such that all information related to a single household  is located in a single data partition. In order to calculate the reach or reach ratio across multiple partitions, both counts (distinct_target_HH_tuned and total_num_target_HH) can be summarized for every partition and the results divided into each other, as follows:",{"@attributes":{"id":"p-0196","num":"0195"},"maths":{"@attributes":{"id":"MATH-US-00023","num":"00023"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"target_reach","mo":"=","mrow":{"mfrac":{"mrow":[{"munder":{"mo":"\u2211","mi":"s"},"mo":"\u2062","msub":{"mrow":{"mi":"count","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":["distinct_target","_HH","_tuned"],"mo":["\u2062","\u2062"]}}},"mi":"s"}},{"munder":{"mo":"\u2211","mi":"s"},"mo":"\u2062","mrow":{"mi":["total_num","_target"],"mo":["\u2062","\u2062"],"msub":{"mi":["_HH","s"]}}}]},"mo":"\u22c6","mn":"100"}}}},"br":{},"b":["102","102"],"sub":"s "},"In connection with certain reach calculations, the data access tier  can be configured to be responsible for: choosing a sequence of partitions (A, B, C, . . . , n) out of all duplicate partitions and shards (load balancing); scheduling queries (e.g., count(distinct_target_HH_tuned) and total_num_target_HH); waiting for and collecting responses from individual shards; calculating the final result; and, communicating the final result to a service or module of the middle tier .","Those skilled in the art will appreciate that both of the reach and CUME calculations described above can be performed for any selected set of target households .","The examples presented herein are intended to illustrate potential and specific implementations of the present invention. It can be appreciated that the examples are intended primarily for purposes of illustration of the invention for those skilled in the art. No particular aspect or aspects of the examples are necessarily intended to limit the scope of the present invention. For example, no particular aspect or aspects of the examples of system architectures, table layouts, or report formats described herein are necessarily intended to limit the scope of the invention.","It is to be understood that the figures and descriptions of the present invention have been simplified to illustrate elements that are relevant for a clear understanding of the present invention, while eliminating, for purposes of clarity, other elements. Those of ordinary skill in the art will recognize, however, that these sorts of focused discussions would not facilitate a better understanding of the present invention, and therefore, a more detailed description of such elements is not provided herein.","Any element expressed herein as a means for performing a specified function is intended to encompass any way of performing that function including, for example, a combination of elements that performs that function. Furthermore the invention, as may be defined by such means-plus-function claims, resides in the fact that the functionalities provided by the various recited means are combined and brought together in a manner as defined by the appended claims. Therefore, any means that can provide such functionalities may be considered equivalents to the means shown herein.","In general, it will be apparent to one of ordinary skill in the art that various embodiments described herein, or components or parts thereof, may be implemented in many different embodiments of software, firmware, and\/or hardware, or modules thereof. The software code or specialized control hardware used to implement some of the present embodiments is not limiting of the present invention. For example, the embodiments described hereinabove may be implemented in computer software using any suitable computer software language type such as, for example, C, C#, .NET, SQL, MySQL, HTML, or C++ using, for example, conventional or object-oriented techniques. Such software may be stored on any type of suitable computer-readable medium or media such as, for example, a magnetic or optical storage medium. Thus, the operation and behavior of the embodiments are described without specific reference to the actual software code or specialized hardware components. The absence of such specific references is feasible because it is clearly understood that artisans of ordinary skill would be able to design software and control hardware to implement the embodiments of the present invention based on the description herein with only a reasonable effort and without undue experimentation.","In various embodiments, modules or software can be used to practice certain aspects of the invention. For example, software-as-a-service (SaaS) models or application service provider (ASP) models may be employed as software application delivery models to communicate software applications to clients or other users. Such software applications can be downloaded through an Internet connection, for example, and operated either independently (e.g., downloaded to a laptop or desktop computer system) or through a third-party service provider (e.g., accessed through a third-party web site).","Moreover, the processes associated with the present embodiments may be executed by programmable equipment, such as computers. Software or other sets of instructions that may be employed to cause programmable equipment to execute the processes may be stored in any storage device, such as, for example, a computer system (non-volatile) memory, an optical disk, magnetic tape, or magnetic disk. Furthermore, some of the processes may be programmed when the computer system is manufactured or via a computer-readable medium.","It can also be appreciated that certain process aspects described herein may be performed using instructions stored on a computer-readable memory medium or media that direct a computer or computer system to perform process steps. A computer-readable medium may include, for example, memory devices such as diskettes, compact discs of both read-only and read\/write varieties, optical disk drives, and hard disk drives. A computer-readable medium may also include memory storage that may be physical, virtual, permanent, temporary, semi-permanent and\/or semi-temporary.","A \u201cpropagation medium\u201d may include one or more data signals transmitted on one or more carrier waves. Such a medium may include any of the forms listed above with respect to storage devices and may further include, for example, a carrier wave modulated, or otherwise manipulated, to convey instructions that may be read, demodulated\/decoded and executed by a computer.","A \u201ccomputer\u201d or \u201ccomputer system\u201d may be, for example, a wireless or wire line variety of a microcomputer, minicomputer, server, mainframe, laptop, personal data assistant (PDA), wireless e-mail device (e.g., \u201cBlackBerry\u201d trade-designated devices), phone, smart phone, cellular phone, cable box, pager, processor, fax machine, scanner, or any programmable device configured to transmit and receive data over a network. Computer devices disclosed herein may include memory for storing certain software applications used in obtaining, processing and communicating data. It can be appreciated that such memory may be internal or external to the disclosed embodiments. The memory may also include any means for storing software, including a hard disk, an optical disk, floppy disk, ROM (read only memory), RAM (random access memory), PROM (programmable ROM), EEPROM (electrically erasable PROM), and other computer-readable media.","In various embodiments of the present invention disclosed herein, a single component may be replaced by multiple components, and multiple components may be replaced by a single component, to perform a given function or functions. Except where such substitution would not be operative to practice embodiments of the present invention, such substitution is within the scope of the present invention.","While various embodiments of the invention have been described herein, it should be apparent, however, that various modifications, alterations and adaptations to those embodiments may occur to persons skilled in the art with the attainment of some or all of the advantages of the present invention. The disclosed embodiments are therefore intended to include all such modifications, alterations and adaptations without departing from the scope and spirit of the present invention as set forth in the appended claims."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE FIGURES","p":["The utility of the embodiments of the invention will be readily appreciated and understood from consideration of the following description of the embodiments of the invention when viewed in connection with the accompanying drawings, wherein:",{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIGS. 1A","b":["1","1"]},{"@attributes":{"id":"p-0011","num":"0010"},"figref":["FIG. 1D","FIG. 1C"]},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIGS. 3A and 3B"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIGS. 9A through 9C"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 14A"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 14B"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 16"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 17"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 18"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 19"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 20"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 21"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 22"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 23"},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 24"},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 25"},{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 26"},{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 27"},{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 28"},{"@attributes":{"id":"p-0040","num":"0039"},"figref":"FIG. 29"},{"@attributes":{"id":"p-0041","num":"0040"},"figref":"FIG. 30"},{"@attributes":{"id":"p-0042","num":"0041"},"figref":"FIG. 31"},{"@attributes":{"id":"p-0043","num":"0042"},"figref":"FIG. 32"},{"@attributes":{"id":"p-0044","num":"0043"},"figref":"FIG. 33"},{"@attributes":{"id":"p-0045","num":"0044"},"figref":"FIG. 34"},"FIGS. A through C include examples of audience retention reports;",{"@attributes":{"id":"p-0047","num":"0046"},"figref":"FIG. 36"},{"@attributes":{"id":"p-0048","num":"0047"},"figref":"FIGS. 37A and 37B"},{"@attributes":{"id":"p-0049","num":"0048"},"figref":"FIGS. 38A and 38B"},{"@attributes":{"id":"p-0050","num":"0049"},"figref":"FIGS. 39A and 39B"},{"@attributes":{"id":"p-0051","num":"0050"},"figref":"FIGS. 40A and 40B"},{"@attributes":{"id":"p-0052","num":"0051"},"figref":"FIGS. 41 through 48"}]},"DETDESC":[{},{}]}
