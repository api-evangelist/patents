---
title: Communication application server for converged communication services
abstract: A communication application server for supporting converged communications in a communication system. The communication application server is responsive to communication service requests from external endpoints, applications or other c requesting entities, and in one embodiment comprises at least first and second components. The first component is operative: (i) to process a given one of the communication service requests to identify at least one corresponding communication service supported by the communication application server, (ii) to determine one or more executable communication tasks associated with the identified communication service; and (iii) to establish communication with one or more external servers to carry out execution of at least a subset of the one or more executable communication taks associated with the communication service. The second component is coupled between the first component and the one or more external servers, and provides, for each of the external servers, a corresponding interface for connecting the communication application server to the external server.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09015297&OS=09015297&RS=09015297
owner: Avaya Inc.
number: 09015297
owner_city: Basking Ridge
owner_country: US
publication_date: 20030114
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["RELATED APPLICATION(S)","FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION","Communication Application Server (CAS) Architecture","Communication Services ,","Access Manager ","Service Event Manager ","Communication Services Manager ","Intelligent Communication Services Router ","Connectors ","Service Creation Environment ","Communication Service Scripts ","Additional CAS Examples","Functions, Features and Advantages of CAS Architecture"],"p":["The present application claims the priority of U.S. Provisional Patent Application Ser. No. 60\/348,776 filed Jan. 15, 2002 in the name of inventors J. R. Putman et al. and entitled \u201cCommunication Application Server for Converged Communications Services,\u201d and U.S. Provisional Patent Application Ser. No. 60\/363,377 filed Mar. 11, 2002 in the name of inventors J. R. Putman et al. and entitled \u201cCommunication Application Server for Converged Communications Services and Federated Services,\u201d both of which are incorporated by reference herein.","The present invention relates generally to the field of communication systems, and more particularly to techniques for implementing communication services within such systems.","Efficient communication services are integral to the success of any enterprise. However, as enterprises \u201cvirtualize,\u201d it is becoming increasingly difficult to provide the requisite degree of communication efficiency using conventional techniques. Moreover, efficient communication must occur not only within a given enterprise but also between multiple enterprises. Unfortunately, conventional stand-alone telephony systems or other types of communication system hardware and software are often unable to provide adequate support for the many different modes of communication that may be required as integral parts of the business process of a given enterprise, particularly a virtual enterprise. The needs of a virtual enterprise dictate that the user experience be consistent and personalized, regardless of the mechanism or location for collaboration. In addition, business performance needs dictate that the existing enterprise infrastructure be leveraged, regardless of types of applications or services.","One conventional approach to converged communications involves deploying multiple applications on an Internet Protocol (IP) network. However, this approach is problematic in that it addresses only certain aspects of infrastructure convergence. Virtual enterprises need their users and applications to be interconnected regardless of the particular type of network infrastructure which is utilized.","Improved communication techniques are therefore needed which address the convergence of voice, data and other communication applications across disparate communication networks, while also providing the ability to handle seamlessly both real-time and non-real-time communications as demanded by a virtual enterprise.","The present invention provides a communication application server, and an associated method and article of manufacture, for providing converged communications in a manner which addresses one or more of the above-noted issues.","In accordance with one aspect of the invention, a communication application server is provided for supporting converged communications in a communication system. The communication application server is responsive to communication service requests from external endpoints, applications or other requesting entities, and in an illustrative embodiment comprises at least first and second components in the form of a communication service and session management component and a connectors component, respectively.","The communication service and session management component in the illustrative embodiment is operative: (i) to process a given one of the communication service requests to identify at least one corresponding communication service supported by the communication application server; (ii) to determine one or more executable communication tasks associated with the identified communication service; and (iii) to establish communication with one or more external servers to carry out execution of at least a subset of the one or more executable communication tasks associated with the communication service.","The connectors component is preferably coupled between the communication service and session management component and the one or more external servers, and provides, for each of the external servers, a corresponding interface for connecting the communication application server to the corresponding external server.","The communication service and session management component in the illustrative embodiment may include a service event manager, a communication services manager, and an intelligent router.","The communication application server in the illustrative embodiment may include one or more additional components, such as a common access framework component with an access manager, a feature services component, a federated communication services component, a federated core services component, and a service creation environment.","In accordance with another aspect of the invention, the communication service and session manager component of the communication application server includes a session manager operative to manage session information associated with the communication services request. The session information may comprise a session hierarchy. More specifically, the session hierarchy may comprise a user session associated with a plurality of communication services, a service session associated with a given one of the plurality of communication services, and a communication session associated with a communication task corresponding to the given one of the plurality of communication services. By way of example, the communication session may comprise one or more of a telephony session, a messaging session, an instant messaging session and a presence session. The communication session generally corresponds to a given one of the executable communication tasks associated with the given communication service, and may involve execution of at least a portion of the communication task by one of the external servers.","The present invention will be illustrated herein as implemented in exemplary communication systems. It should be understood, however, that the invention does not require the use of the particular system configurations shown, and is more generally suitable for use in conjunction with any communication system or communication service application for which improved processing efficiency is desired.","The illustrative embodiments of the invention may make use of the Session Initiation Protocol (SIP), described in Internet Engineering Task Force (IETF) Request for Comments (RFC) 3261, \u201cSIP: Session Initiation Protocol,\u201d Jun. 2002, which is incorporated by reference herein. For example, SIP enables the disaggregation of real-time communication services into simpler components that can be re-aggregated as necessary with other applications and services to support the needs of a virtual enterprise in a flexible and open environment. For both enterprise and service provider use, SIP provides lowered total cost of deployment and more rapid application development.","The present invention in an illustrative embodiment thereof is directed to a communication application server (CAS) configured to provide converged communications services. More particularly, in the illustrative embodiment, the CAS is configured to communication-enable enterprise applications, as well as multimodal clients, including all voice, messaging, media, and other communication services. In addition, the CAS supports SIP service offerings, data service offerings, voice service offerings, and extensible Markup Language (XML) dialects associated with communication. The CAS also supports the convergence of voice and data in and among enterprises.","Advantageously, the present invention in the above-noted illustrative embodiment provides techniques for achieving convergence within and across all means of communication, including but not limited to voice and data applications, disparate network infrastructures, disparate network services, and both real-time and non-real-time communication. For example, the present invention allows for the seamless collaboration between a variety of devices (e.g., wired telephones, mobile telephones, IP soft phones, pagers, personal digital assistants (PDAs), personal computers (PCs), etc.), interacting using a variety of mechanisms (e.g., phone calls, instant messaging, email), over a variety of media (e.g., voice, text, text-to-speech (TTS), etc.), and over multiple network infrastructures (e.g., IP, PSTN, wireless, etc.). The present invention thus allows enterprises to better leverage their existing investments and manage cost while improving productivity.","A CAS in accordance with the invention can be configured to utilize common communication services as incremental building blocks, such that more complex composable services based on these building blocks may be provided in a particularly efficient manner to enterprise applications and other end users. For example, an \u201cestablish a call\u201d service may be provided to the user at a PDA, PC, wireless phone, PC based softphone, or other endpoint device. This service can be initiated as a data request, a voice request or in another suitable format. The CAS may be configured to address issues such as presence of the callee and\/or caller; communication network that hosts the callee and\/or caller; mode of device (e.g., PSTN, IP telephony, SIP, etc.); context of the callee and\/or caller; management of security, profiling, personal call receipt preferences, call event, context of the callee and\/or caller; and management of the actual call connection. These and other CAS-based communication service processing operations may be provided transparently to the initiator of the \u201cestablish a call\u201d service.","The present invention can illustratively operate with a wide variety of SIP-based technologies, including, by way of example, an Avaya Call Processing (ACP) Enterprise Communication Service (ECS) switch, from Avaya Inc. of Basking Ridge, N.J., USA, which may be used as a SIP-enabled call feature platform, supporting SIP proxy, registrar, media gateway, and signaling gateway functions, as well as Avaya 4624 and Avaya 4630 Screen Phones functioning as SIP phones, with multi-modal, instant messaging (IM), and presence capabilities, or a SIP application server supporting VoiceXML and rules-based notification communication services, integrated with a business application. These are examples of Avaya products, but it should be understood that the invention does not require the use of any particular product, nor does it require the use of products from any particular vendor. Numerous other arrangements of communication hardware and software, from a wide variety of vendors, can be utilized in implementing the invention, as will become more readily apparent from the following description of the illustrative embodiments.",{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 1","b":["100","102","100","104","106","108","110","104","102","108","110","106","108","110","102","106","112","114"]},"The term \u201cappliance\u201d as used herein is intended to refer to one particular example of an endpoint.","The term \u201cendpoint\u201d refers to any device capable of communication, including appliances, sensors, electrical or electronic devices, end user communication devices, etc.","As a more particular example, the endpoints  may comprise one or more end user communication devices such as wired telephones, mobile telephones, IP soft phones, Bluetooth devices, pagers, PDAs, personal computers, or other types of communication system endpoints, configured in a conventional manner. The network  may comprise switch, circuit or packet components in any combination. For example, the network  may comprise an IP network, a public switched telephone network (PSTN), a wireless network, a cable network, a cellular network, a satellite network, or portions or combinations of these or other types of networks.","The enterprise server  runs enterprise software applications providing functions such as customer relationship management (CRM), supply chain management, employee resource management, sales force automation, databases, back office applications, etc.","The communications server  illustratively includes elements for supporting real-time communications, such as conventional telephony and IP telephony, non-real-time communications, such as email and messaging, and near-real-time communications, such as instant messaging, chat and short message services.","The servers ,  may be co-resident with the CAS or geographically remote therefrom, and each may be implemented in a single-server configuration, or in a distributed configuration so as to comprise multiple distributed servers.","The servers ,  are examples of what are more generally referred to herein as \u201cexternal servers.\u201d However, it should be noted that the term \u201cexternal server\u201d as used herein is intended to be more generally construed so as to include, by way of example and without limitation, a server which is functionally separate from the CAS but implemented on the same processing platform as the CAS.","The CAS  as shown in this illustrative embodiment includes a feature services component , a common access framework , a federated communication services component , a communication service and session management component , and a federated core services component . These particular components are shown by way of example only. It should therefore be appreciated that a CAS in accordance with the invention may be implemented using other arrangements of components.","The term \u201cfederated\u201d as used herein is intended to refer generally to centralized services that can be discovered or invoked across domains, in a manner substantially independent of the particular configuration or characteristics of any given domain, using a common framework or infrastructure. Such services generally can be dynamically located and executed. These services typically do not belong to the invoker, but are instead autonomous services.","The feature services component  includes one or more advanced communication service elements .","The common access framework  includes an access manager , a multi-modal interaction management element , and a presentation rendering element . The multi-modal interaction management element  and the presentation rendering element  may be considered elements of the access manager , or may be implemented as stand-alone elements separate from the access manager ,.","The federated communication services component  includes one or more communication service elements .","The communication service and session management component  includes a service event manager , a communication services manager , and an intelligent communication services router .","Also included in the CAS  is a set of connectors  which provide an interface between the CAS and each of the servers , . As shown in the figure, the connectors  send up to m communication requests to the server  and receive zero or more corresponding responses in accordance with the form of the request(s), and send up to n communication requests to the server  and receive zero or more corresponding responses in accordance with the form of the request(s), where n and m are each greater than or equal to zero. Certain types of requests therefore need not receive a particular response. Other types of interaction between the connectors component  and the external servers may be used.","Although not explicitly shown in the figure, routing requests and corresponding responses may be passed between the service event manager  and the intelligent router , and between the intelligent router  and the connectors . Alternatively, such routing requests and corresponding responses may be viewed as being part of the interactions explicitly shown between these elements in the figures.","The CAS  further includes a service creation environment (SCE)  which comprises one or more software tools for use in developing services supported by the CAS  and other components of the system . For example, the service creation environment  may comprise a set of software development toolkits that enable a developer to compose the services offered by the CAS , to create higher level services from the communication services offered by the CAS , to integrate the CAS  into capabilities associated with a given customer environment, or to provide other service creation functionality.","A set of core services interfaces  provides interfaces between the core services component  and other components of the CAS . For example, communication requests and associated responses may be sent over these interfaces.","The federated core services component  includes a communication service scripts database , core services information , and a user profile database .","The communication service scripts database may include, for example, voiceXML scripts, Call Processing Language (CPL) scripts, Xforms, CommXML, ccXML, or information configured using any other scripting engine or language suitable for interaction with the CAS. These scripts may alternatively be co-resident in whole or in part with the communication service and session management component .","The core services information  may include, for example, a directory, a registry, a persistent store, Quality of Service (QoS) information, etc.","The communication service scripts  are also referred to herein as \u201ccommunication scripts,\u201d \u201ccomm scripts,\u201d or simply \u201cscripts.\u201d","The core services component  is shown in dashed outline in the figure in that it is preferably a centralized component, one or more portions of which may be shared across multiple CASs in a given communication system.","Examples of federated core services include communicating user management, identification, profile, roles, directory, metadirectory, QoS, feature licensing, service licensing, service registry, communicating user presence, communicating user context, security, feature access lists, etc.","As shown in , a given one of the endpoints  may represent a requesting device for a particular communication service, while another of the endpoints  represents a receiver device for that communication service. Communication request and response information is communicated between the endpoints , the CAS , and the servers ,  over the network . Request and response information relating to authentication and authorization is communicated between the access manager  and elements , . The access manager  also communicates with the service event manager,  and the presentation rendering element  regarding possible responses to a given communication task. The service event manager  may also communicate with the communication services manager , intelligent communication services router  and via router  with the connectors  in determining the possible responses to a given communication task.","The CAS  may be implemented on a general-purpose computer or other data processing platform which comprises a processor coupled to a memory and one or more network interfaces. The term \u201cprocessor\u201d as used in this context is intended to be construed generally so as to encompass any arrangement of one or more microprocessors or other digital data processing devices configured in a conventional manner. The memory may include RAM, ROM, disk-based storage or other types of storage devices, including one or more persistent store elements, also configured in a known manner, and in any combination. The communication processing functions described herein are implemented at least in part in the form of one or more software programs which are stored in the memory and executed by the processor.","The CAS  as shown in  is by way of illustrative example only, and should not be construed as limiting the scope of the invention in any way. Other embodiments of the invention can be configured in which the CAS  includes only a subset of the elements shown in , such as, for example, the communication service and session management component  with elements ,  and , and the connectors component . Other arrangements of components may be used to provide CAS functionality in accordance with the invention.",{"@attributes":{"id":"p-0066","num":"0065"},"figref":"FIGS. 2A","b":["2","2"]},"With reference now to , the CAS  is shown as including components , , ,  and , as well as the connectors component  and service creation environment , all configured substantially as previously described.","The CAS in this illustration provides support for a set of communication applications which include, by way of example, \u201cnew\u201d communication applications -, migrated applications -, enhanced call feature applications -, and business applications -. The applications - may represent applications developed for the CAS using the service creation environment , while the applications - may represent legacy applications migrated from other processing platforms. The applications - are configured to provide enhanced call features using the capabilities of the CAS. The applications - may comprise one or more business communication applications configured in a conventional manner. The applications , which may be resident on one or more of the servers , , communicate with the CAS via interfaces . The interfaces  may utilize well-known conventional functionality such as web services, XML, Enterprise Java Beans (EJB), Common Object Request Broker Architecture (CORBA), Java\/COM, Java\/CORBA, etc.","Although not specifically shown in the figure, other services may be supported using the CAS , such as, for example, enterprise class services, Simple Object Access Protocol (SOAP) services, voice services, Net services, etc.","The CAS is coupled to endpoints  via the network , and also to a portal client  which includes one or more user interfaces (UIs) .","One or more of the components of the CAS may be managed in an application server environment utilizing one or more application servers  which may include a Java 2, Enterprise Edition (J2EE) application server, a Net server or other type of application server, as well as combinations of such servers. The application servers  may be configured, for example, to provide so-called container services, in a conventional manner. One or more of the components of the CAS communicate over network  via open interfaces with external components  including a telephony services component -, a web services component -, an instant messaging (IM services component -, a voice and data application services component -, an Enterprise Application Integrator (EAI) services component -, and a management services component -. Each of the external components  may comprise a server or other data processing platform One or more of the external components may be combined onto a single server or other platform.","The external components  preferably communicate with the CAS  via network  using well-known conventional protocols, such as SIP, Adjunct\/Switch Applications Interface (ASAI), Computer Supported Telephony Application (CSTA), XML, SOAP, JMS, JTA, Java Connector Architecture (JCA), JAXR, JAXP, VoiceXML, Common Profile for Instant Messaging (CPIM), Internet Messaging Access Protocol\u2014Version 4 (IMAP4), Java Naming and Directory Interface (JNDI), Lightweight Directory Access Protocol (LDAP), Security Assertion Markup Language (SAML), Directory Services Markup Language (DSML), Simple Network Management Protocol (SNMP), etc. The invention does not require the use of any particular protocol, however, for these or other communication system elements.","The communication services implementable under the control of the CAS  are initiated by the CAS but may execute at least in part on physical servers or other devices external to the CAS. The actual execution devices can be distributed over any number of physical locations, and can be hosted on servers such as those providing access to or otherwise associated with components  of , including J2EE application servers, Linux servers, .Net servers, etc. It is also possible that one or more of the communication services may execute at least in part on the same physical platform on which the CAS is implemented. Communication services can be offered via the CAS to enterprise applications, endpoint devices, or other system elements, without limitation.","For example, an enterprise application, such as a supply chain management application running on enterprise server , can interact with the CAS through one of the connectors  and hence gain access directly to the communication services manager . Note that this avoids authentication and access control in the access manager , thereby enabling the CAS to grant access to applications as well as appliances or other devices. If an application gains access to the CAS, it may or may not have been previously authenticated and authorized for the access. This is preferably an enterprise policy decision, established at administration time. However, if a communication service request is authorized only to selected individuals, is resource constrained, or is otherwise considered critical, a policy may be established that the request be required to re-authenticate and re-authorize the use of the service by requesting authentication and authorization from the access manager.","There may be multiple CASs associated with a given enterprise. Moreover, different instances of a given CAS can cooperate across different domains.","Referring now to , an alternative implementation of a communication system including a CAS  is shown. The CAS  as shown in this figure includes components , , ,  and , as well as the connectors component  and service creation environment , all configured substantially as previously described. The CAS  interacts with external applications via interfaces , which as noted previously may include well-known conventional interfaces such as web services, XML, EJB, Java\/COM, Java\/CORBA, etc.","In this implementation, common access framework component  comprises access or portal services for providing a single sign-on function  and multimodal presentation rendering . Communication service component  provides a third-party call control (3PCC) function  and IM function . Communication session management component  provides a presence function .","Examples of the core services associated with component  in this embodiment include licensing, QoS services, network management, provisioning and billing, common operations, administration, maintenance and provisioning (OAM&P), common reporting, and error, alarm and event management.","The connectors  in  are shown as including call control connectors , media connectors , and messaging connectors . More specific examples include EAI connectors, logging connectors, data connectors and web services connectors.",{"@attributes":{"id":"p-0080","num":"0079"},"figref":["FIG. 2C","FIG. 1","FIG. 1"],"b":["102","102","122","124","126","128","240","242","244","244","144"]},"The federated communication services  in this implementation include collaboration services, presentation rendering services, 3PCC services, personalization services, rM services, call routing services, script services, messaging services, presence services, and one or more other services. The federated core services  in this implementation include registry services, licensing services, context services, communicating user services, directory services, security services, and one or more other core services. It should be noted that services identified in  as being \u201cfederated\u201d may alternatively be implemented in a non-federated manner.","The CAS  in  interacts with external applications , including Unified Messaging (UM) & Unified Communications Center (UCC) applications A, call center applications B, business applications C, and other higher order composite applications D. The CAS  is coupled to or otherwise associated with the service creation environment  as shown. The CAS  is also coupled to via an application server  to a network  comprising first and second network portions - and -. Network portion - includes a number of telephony elements  such as a Private Branch Exchange (PBX) and PSTN. Network portion - includes a number of telephony elements  such as IP telephony elements, local area and wide area network elements, and associated switches, configured for providing traffic management, load balancing and context based switching in a conventional manner.","As noted above, a given communication system in accordance with the invention may include multiple CASs, each implemented in a manner similar to CAS  as described above. An example of such a system will now be described with reference to .",{"@attributes":{"id":"p-0084","num":"0083"},"figref":["FIG. 3A","FIG. 1","FIG. 1","FIG. 1"],"b":["300","300","104","106","300","102","102","102","102","102","102","120","124","120","124","102","122","126","150","126","144","102","102","102","128","128","102","152","102","102","152"]},"Each of the CASs A, B and C is associated with a corresponding application server . More specifically, CASs A, B and C are associated with respective application servers A, B and C. One of the CASs, namely CAS C, is shown as having one or more business applications  associated therewith, and the other CASs may be similarly configured. It should be noted that the business applications  may be executing remotely from the CAS rather than co-located with the CAS as in this example.","Also included in the multiple-CAS system  are processing elements  and , each of which represents a business processing element accessing converged communication services provided by one or more of the CASs. One or more of the processing elements ,  may be implemented as a server, workstation or other computer, or any other processing device having a memory coupled to a processor. Element  may be viewed as comprising a business application implemented remotely from the CAS.","In this embodiment, the processing element  includes a number of web service interfaces, generically denoted by ovals si where s=a, b, c, etc. More specifically, the processing element  includes web service interfaces ai and bi which have corresponding interfaces in the CAS A, and a web service interface ci, which has a corresponding interface in the CAS C.","Similarly, the processing element  includes a number of integration programs, which may illustratively comprise EJB programs, generically denoted by rectangles s where s=a, b, C, etc. The integration programs enable communication services to be integrated into business processing logic. More specifically, the processing element  includes integration programs a, b and c, which have corresponding elements in the CAS C, and integration programs d and e, which have corresponding elements in the CAS B.",{"@attributes":{"id":"p-0089","num":"0088"},"figref":["FIG. 3B","FIG. 3A"],"b":["310","102","102","102","102","120","122","124","126","150","152","202","210","102","312","310","312","102","315","102","315"]},{"@attributes":{"id":"p-0090","num":"0089"},"figref":"FIGS. 4 and 5"},"With reference to , a communication system  is shown which includes CAS , applications -, -, - and -, and application server , all as previously described. Also associated with the CAS  in this embodiment is a portal , and one or more electronic business applications , the latter being shown as being distinct from the applications . The portal  is preferably configured to support client user interfaces by providing appropriate presentation and display of service-related information to any of a number of different types of endpoint devices over any of a number of different communication media.","The system  also includes network portions A, B, C and D, arranged as shown. These network portions may represent, for example, different networks, different network environments, or different portions of one or more networks. Also shown are a number of endpoints , including conventional analog telephones -, - and -, IP phones - and -, and intelligent clients - and -.","The application server  is coupled via network portion D to intelligent clients - and -, and to a presence server , service registry , one or more other servers , and a directory . The service registry  and directory  may be part of a federated core services component  associated with the CAS  in the manner illustrated in .","The system  includes a conventional PBX  which is coupled between the network portion B, which may be representative of the PSTN, Internet or other network, or combinations thereof, and analog telephone endpoints -, -. The system further includes an IP-enabled PBX , also referred to as an IP-PBX, which is coupled between the network portion B and the network portion C with its associated sets of IP phones - and -. The IP-PBX  is configured to support well-known communication standards such as time division multiplexing (TDM), H.323, SIP, etc. The IP-PBX  also communicates with the CAS , and with another application server  that is coupled to the CAS .","The network portion A, which is shown as including the CAS and the other elements coupled to network portion D, further includes an edge server , which may be used as a gateway into the network portion A, and which may provide communication with other system elements not explicitly shown in the figure. The elements associated with the CAS  within network portion A are preferably configured to support IP services, virtual private networks (VPNs), firewalls, Domain Name Service (DNS) and other directory services, policy management services, etc.","The particular system configuration shown in  illustrates that the CAS  can be utilized in conjunction with conventional communication system equipment, such as PBX  and IP-PBX . The CAS  is thus compatible with migration from existing telephony processing platforms, which facilitates its implementation in a given communication system. For example, as systems migrate towards offering communication services that provide the features of multiple diverse servers, those communication services can be integrated into the CAS  and can also or alternatively be made interoperable with the CAS.","The CAS  in the system  may be viewed as forming the basis for a communication service node in the network portion A. It should be noted that there could be many such nodes associated with multiple virtual enterprises communicating with each other in a given system. Applications residing on various nodes are preferably able to invoke remote services on other nodes so as to provide seamless converged communication functionality to the virtual enterprises, supported by the above-noted federated core services.",{"@attributes":{"id":"p-0098","num":"0097"},"figref":"FIG. 5","b":["500","102","102","202","210","102"]},"The system  as shown further includes a network environment \u2032 which supports communications between a plurality of endpoints including mobile SIP endpoint A, analog telephony endpoint B, SIP endpoints C and D, and an IP endpoint E. Network environment \u2032 utilizes CAS  to support a set of session services . The session services  include a presence service , a context service , and a service registry . The presence service  in this example communicates with SIP endpoints A and C. The service registry  interacts with a telephony server  which is coupled to analog telephony endpoint B and a server . The service registry  also interacts with a set of electronic business applications  associated with an application server  and a storage element .","It is to be appreciated that the particular embodiments of the CAS  as shown in , as well as the other CAS embodiments described herein, are intended to be merely illustrative of the present invention. A CAS in accordance with the invention can be implemented using numerous alternative arrangements of elements, as will be readily apparent to those skilled in the art.","As is apparent from the foregoing, the present invention in accordance with one aspect thereof provides a CAS architecture that in an illustrative embodiment comprises a distributed services platform for development of converged communication services as well as the runtime processing of converged communication services.","Converged communication services may comprise communication services completely integrated into an enterprise business process, with the communication behavior being driven by substantially the same business rules as the enterprise process.","A CAS can allow enterprises to communication-enable their applications, to construct applications that are communication-based in unique ways through composition of federated services, and to use communication services as building blocks to rapidly create new business applications that are specific to a business need, all in a particularly efficient manner. Numerous additional functions, features and advantages that may be associated with a given embodiment of a CAS of the present invention will be presented below.","Various components of the CAS  will now be described in greater detail. These include the communication services  and , the access manager , the service event manager , the communication services manager , the intelligent communication services outer , the connectors , the service creation environment , and the communication service scripts .","The term \u201ccommunication service\u201d as used herein refers generally to an offered service accessible via the CAS . These communication services include, in the illustrative embodiment of , the advanced communication service elements  associated with the feature services component , and the communication services elements  associated with the federated communication services component . A given communication service may be provided via an \u201copen\u201d interface, e.g., a standard interface, or a \u201cproprietary\u201d interface, e.g., a non-standard interface published for use by a business application. The advanced communication service elements  associated with the feature services component  are generally higher-level services than the communication services elements , and may involve more complex recursive and hierarchical processing internal to the CAS. However, both elements  and  are considered to be encompassed by the term \u201ccommunication service\u201d as used herein, and both are processed in substantially the same manner within the CAS.","One or more of the communication services provided via the CAS  are preferably invocable by Internet-based standard interfaces, such as XML.","A communication service provides a communication-related capability or functionality within the system , and may be simple or complex. Examples include without limitation communication system features commonly known as \u201cfind me,\u201d \u201chide me,\u201d \u201creach me,\u201d conference-in-designated-parties, notify, establish-3-party-call, instant messaging, presence information, message management, rules-based routing, etc.","Another example is a service referred to herein as a \u201cclick-to-communicate\u201d service, which will be described in greater detail below.","Other examples include services that provide processing associated with communication, such as user-preference inbound call routing, communicating device user profiles, and so on.","Further examples include SIP services that provide processing associated with communication, such as instant messaging which requires no IM server, access of user profile information regarding communication devices associated with a user, etc.","Communication services can be registered in an appropriate registry, e.g., a registry in the core services information  associated with the federated core services component . Other techniques can be used to determine the characteristics of a given communication service.","As indicated previously, a given communication service may be \u201cfederated\u201d in that it can be discovered and invoked across domains using dynamic service location and remote service invocation. A federated service typically comprises an open standards-based interface that can be executed across different domain boundaries, e.g., enterprise or technical boundaries.","A given communication service may comprise at least a subset of the following elements.","1. A set of possible actions, associated parameters, associated types, related exceptions.","2. A description of behavior, including constraints such as pre-\/post-conditions, invariants, etc.","3. A description of policy, including information such as QoS requirements, resource requirements, security requirements such as encryption, routing choices, etc.","4. A process flow description of the processing steps associated with the requested service. A possible default may be sequential processing.","5. Descriptive information which can include the organization or other entity providing the service, a point of contact, a description of the service, etc.","Other elements may be used to specify a communication service accessible via the CAS , and the invention is not limited in this regard.","A number of more general examples are as follows.","A communication service denoted \u201ccommunicate,\u201d which may result in the setup of a call, the sending of a voicemail, the sending of an instant message, etc., depending on user preferences as expressed in corresponding rules.","A communication service denoted \u201cdetermine presence,\u201d which determines if the person to receive the message is present on an endpoint accessible over a network, and if so, determines which endpoint and the most recent presence registration.","A communication service denoted \u201clocate,\u201d which determines where a user is and on what endpoint.","A communication service denoted \u201ccommunicate with best cost,\u201d which involves determining endpoint location, evaluating routing rules, and arranging call setup to achieve a best cost. The best cost scenario may dictate that, instead of initiating a call setup, a user may be placed into email or voicemail, or an alternative channel such as the Internet may be used to transmit the message.","A communication service denoted \u201cconference,\u201d which obtains the address of each communication party, e.g., telephone number, IP address, Uniform Resource Locator (URL), etc., locates each communication party, determines if each communication party is present to receive a conference call (and if not, may send an instant message or invoke voicemail), communicates to the communication parties in the preferred manner (e.g., telephone, PDA, cell phone, softphone, SIP phone), determines best cost routing, and establishes the conference.","Numerous other types of communication services can be provided using a CAS in accordance with the present invention.","One or more of the communication services provided by the CAS may be modular services offering communication capabilities with open interfaces that provide the information, transaction, and communication services along with the support structure that enables the integration of business applications with underlying communication services. Advantageously, such an arrangement facilitates the rapid integration of business applications with common communication services, independent of the manner in which communication is provided.","The communication services may be configured utilizing a high level language and may be deployed as native enterprise Java beans (EJBs) or web services, for example, which are dynamically searchable and executable services. The actual service execution, accessed through the library, may be in a J2EE application server environment, in a distant non-J2EE environment, or other environment, as well as in a combination of different environments, managed by the CAS.","The communication services may comprise one or more libraries of services that are integratable along with other components into a business application or other communication application. Communication interface services may be used to connect communication service requests from business applications to underlying communication services, through the use of interfaces to network infrastructure elements. The connectors  may be utilized for functions such as data access and synchronizing behavior with external business processes. The federated core services  may be utilized for user information, user related preferences, security, directory services, etc. Resource management and information management services are accessed through the communication service and session management component  of the CAS. The particular services specifically needed for communication library execution may be obtained from a run-time registry service and composed through a software development kit (SDK) or other software tool of the service creation environment .","The above-noted communication libraries may function as multilevel building blocks, and a given library can be built from other libraries. The communication library interfaces to applications are preferably \u201copen\u201d in order to promote multi-vendor development of applications and the creation of new communication libraries. These communication libraries may be supported in the service creation environment  by well-defined programming specifications for creating new libraries. A repository of known communication libraries may be maintained in a registry and made available to application developers.","A given communication library can be configured to translate application level context into network policies, such as QoS, presence, security, etc. Context refers to selecting the most appropriate person or resource for a transaction or service, presenting the right information for personalization (e.g., right time, right format, etc.), based on information about the user maintained in the directory federated service. This information about the user may include, without limitation, user information and permissions (role in\/outside of organization), presence, user preferences both on initiating communication as well as receiving of communication, end-point media capabilities, and transaction histories.","Communication services are preferably modular and reusable across applications. For example, such services can be configured to initiate a communication session from within any application. In addition, an end-user could be using any access device (e.g., graphical web browser, Wireless Access Protocol (WAP)-enabled wireless device, phone for a voice-enabled web site, etc.) to reach a communication service. The communication services may be made extensible and customizable in that they can be composed together to provide enhanced communication related services, such as providing media translation in addition to call completion. As noted above, a given service can be built from other services, so as to provide a higher level capability, or a more complex communication capability (e.g., conference on demand that requires using presence services, location services, and basic multi-modal communication services).","In the illustrative embodiment of , the communication service and session management component  of the CAS is responsible for locating a given communication service, determining if the service comprises one or more tasks, directing the execution of the tasks in appropriate defined order, aggregating responses, returning results, and providing management of sessions, states, events, errors and alarms.",{"@attributes":{"id":"p-0134","num":"0133"},"figref":["FIG. 6","FIG. 22"],"b":"102"},"Communication services associated with the CAS  are generally provided to communication parties, where a communication party may denote one or more of the endpoints  or an associated user that is accessing a communication service. For example, a communication party may be a person, virtual business entity (company, group, organization, etc.), an automated service (interactive voice response (IVR), web service, etc.), or an appliance or other endpoint device with communication capability, etc. The term \u201cuser\u201d as utilized herein is therefore intended to include a communication system endpoint, appliance, application, an associated human user, or other communication party.",{"@attributes":{"id":"p-0136","num":"0135"},"figref":"FIG. 7"},"The particular diagrams shown in , and elsewhere herein, should be understood to be illustrative only. Alternative arrangements of elements, including elements not shown in these particular diagrams, may be used in implementing the invention.","The access manager  processes the access control and presentation control for communication service task requests, in accordance with business rules, personal rules, presence related associations, etc. It may be invoked by any CAS component that requires access control functionality.","The access manager preferably manages all access-related events. It handles multi-modal session information and presentation mark-up in conjunction with multi-modal interaction management component , where possible properties include multiple media, multiple devices under session control, etc. Concurrency may be with respect to all devices under session control, with respect to media inputs and outputs, and with respect to inputs from multiple devices. Users are able to interact with an application in multiple modes and in multiple sessions. The modes can be independent of one another, such as independent voice and pointing device inputs, or can be designed as concurrent, such as related voice and pointing device inputs. The latter are collectively treated as a concurrent and therefore compound event.","The access manager  can manage multiple media events associated with an interaction. For example, audio-related events (such as DTMF recognition events, speech recognition events, etc.) can be managed across one interaction channel, while text or video events are managed across another interaction channel, and application sharing events are associated with all channels. The access manager  provides the continuity and management of all media events related to the same communication control channel, each requiring a different media stream, such as multi-media collaboration across multiple devices. Typically, the access manager  does not manage the media itself but provides support to underlying components that support rendering and dialogue interactions based on media manipulation.","The access manager  thus provides access to communications services available via the CAS . For example, access can be provided to one or more system users, via one of the endpoint devices  or otherwise, to application  or appliance  through synchronous or asynchronous messaging, etc. The access manager analyzes a request, and invokes a CAS service as appropriate. For example, for an end user associated with one of the endpoints , the access manager may manage multi-modal interactions through meta-dialog markup, or manage presentation rendering for dialog markup languages. For application  or appliance , the access manager can provide support for the above-noted synchronous or asynchronous messaging.","The authentication and authorization control in the access manager may include functions such as identification, role-based access, etc. Also, the access manager can initiate a session or link to a previous session, so as to accommodate asynchronous, parallel event, or multiple parent session conditions. The access manager can manage a variety of other functions, such as access to voice services, portal services, media stream inputs and outputs, rendering to both media and device capabilities, and personalization of presentation based on policy, roles, application, device, etc. in the illustrative embodiment of , the access manager  is implemented within the common access framework . In other embodiments, the access manager  may comprise or otherwise be associated with a portal component which provides access, presentation, and personalization services within the CAS. Such a portal may be viewed as an example of a type of common access framework, and is preferably configured to support endpoint device independent access to communication services. A given portal may include conventional data portal and voice portal components.","A voice portal component may be configured to provide voice-enabled support, in the form of voice services that are interpreted through a standard interface such as VoiceXML, Speech Application Language Tags (SALT), XHTML, or other dialogue or media markup language. For example, the set of voice-enabled services defined by VoiceXML comprises grammar-based voice user interface dialogues. In such an arrangement, the CAS may be configured to dynamically generate and control the serving of VoiceXML pages to a VoiceXML media gateway or other suitable rendering layer of the CAS.","The access manager  can be configured to permit a user to access a personalized portal (e.g., based on business and personal roles, time information, scheduled information, location information, presence information, etc.) through any device. Thus, a user can access the CAS through, for example, a computer, TDM telephone, SIP telephone, wireless telephone, PDA device, pager device, kiosk, converged device, etc. In addition, the multiple modes of presentation supported by the access manager  permit access to the CAS through, for example, a web-browser interface, voice and audio interface, touch-tone interface, micro-browser interface, Short Message Service (SMS) interface, etc.",{"@attributes":{"id":"p-0145","num":"0144"},"figref":["FIGS. 8A and 8B","FIG. 1","FIG. 8A"],"b":["132","102","800","132","102","106","132","802","804","806","808","8","0","160","812"]},"Referring now to , the operation of the access manager  is illustrated in a situation in which a session has previously been established, e.g., in the manner described in conjunction with . It is assumed that there has been an interaction event denoted \u201cCall Jan,\u201d which specifies that the accessing user is calling a party denoted as Jan. The access manager causes a dialogue  to be presented to the user, indicating that the system is \u201cCalling Jan.\u201d The dialogue  may comprise markup which causes a media gateway to translate text to audio output. Blocks ,  and  operate substantially as described in conjunction with . In block , it is determined from the SID check in block  that there is an existing SID, and the interaction determination block  operates using this existing SID. The existing SID and the \u201cCall Jan\u201d interaction event are also used to formulate a communication request that is delivered via block  to the service event manager . The service request manager generates a corresponding response that is used in providing customization based on SID and event in block .","It is to be appreciated that the particular operations shown in the examples of  are for purposes of illustration only. An access manager in accordance with the invention is not required to implement any of these specific operations.","The service event manager  manages the communication service request, session, context, events and policies associated with the requester and potential receiver of the request. It initiates the communication services manager  to decompose the communication service into executable communication tasks or \u201ccomm tasks,\u201d and directs the intelligent communication services router  to link to one or more of the servers ,  through the connectors  to provide appropriate processing operations for the communication service. As indicated previously, and as is illustrated in conjunction with , the communication service may be decomposed into a number of communication tasks, any of which may be composite services, requiring recursive processing behavior. The service event manager  also preferably aggregates all communication task responses, as needed, into an overall response.","A session can be short-lived or long-lived, and may be based on synchronous or asynchronous events. It may be associated with a sub-session.","An example to a synchronous session is a session which exists while a requesting user remains connected to the CAS . The above-noted click-to-communicate service is a more particular example of a synchronous session. Sessions which are not synchronous are referred to herein as \u201casynchronous sessions.\u201d","A session may be viewed as a sequence of events that originate from a request and terminate either from a response or from some deactivation action, preferably an external deactivation action. Session services manage the working environment of a given user during and between service connections. This may include, for example, operations such as open and close user session, initiate and deactivate a service session, establish and remove a communication session, listen for asynchronous communication events, query and set user state, and update user context. The service event manager  will typically manage the sessions, initiating (as appropriate) a communication session through the intelligent router .","A user session generally includes all activities from initial sign on to signoff of a given user. If the user requests an asynchronous session establishment, the user session typically persists until all events associated with all requests are fulfilled, or until such time as an error is reported.","A service session generally includes all activities associated with fulfilling the service. This includes any communication services associated with components  and , and any routing requests. The service session typically persists until all events associated with the service are fulfilled, or until such time as an error is reported.","A communication session includes all activities that are managed by the intelligent router . The duration of this session is typically from the initial routing request to the fulfillment of that request. Similarly, a telephony or messaging session typically persists until all activities associated with the requested service are complete, or until such time as an error is reported.","As indicated above, the service event manager invokes the intelligent communication services router  to determine the communications routing strategy, which may involve a single server, multiple simultaneous server requests, resource-based routing decisions, routing to a separate server requiring appropriate rendering, etc. The service event manager  also initiates a main session for the original communication service, linking this to the user initiated session, and initiates a sub-session for each communication service task, managing sub-session state, context, and other related information.","The service event manager  may thus be viewed in the illustrative embodiment as comprising or being otherwise associated with a session manager, for managing session information in conjunction with the provision of communication services via the CAS . In subsequent description, separate references to a \u201csession manager\u201d may be viewed as referring to a session manager element of the service event manager , or to a session manager element otherwise accessible to the service event manager . Therefore, in one or more of the figures to be described below in conjunction with the service event manager , the service event manager and the session manager may be designated as separate elements. In this context, where the session manager corresponds to an element of the service event manager, references to the service event manager are intended to include all elements of the service event manager other than the session manager. Operations below referring to session may be carried out by a session manager, or by other components of a service event manager.","A session can be associated with one or more sub-sessions.","A session can be associated with a parallel session based on requested events. A user, for example, can bring up a PC browser after a session has been initiated for some communication activity, and request that the sessions be linked together.","A session can be associated with one or more parent sessions. If there are multiple parent sessions, a response regarding success or failure is \u201cfanned out\u201d to each of the multiple parent sessions.","A task process requests a session, requesting a response of success or failure of the task and zero or more sub-tasks, and recursive processing.","Execution of a task need not be co-resident with the session manager.","A given session may be initiated by a user-initiated task, by a process, or by other suitable mechanism.","An initiating session establishes a root identifier or token that relates the session to the properties of the initiating request. This provides identification of a communication party, authentication, task, etc. All sub-sessions are related to the initiating session token.","An initiating session may be requested to be associated with a parallel session, also referred to herein as a sibling session, that is not in direct hierarchical relationship with the initiating session. An example of this is multiple modes of communication that relate their media rendering to a common event.","The service event manager allocates session identifiers, associates sessions and sub-sessions, associates parallel sessions together, manages and tracks the success and failure of sessions, and manages the session tokens.","All communication requests are preferably session-managed, and hence interact with the service event manager if only to maintain session and associated states.","A request initiates a session. That session may be associated with a sibling session, or a parent session. Each session is preferably associated with a token and a session authorized communication party.","On successful completion of a task, the session is concluded, and all related sessions are informed. Related sessions may include parent session, sibling session, parallel session, etc.","On failure of a task, the session is concluded, and all related sessions are informed of the failure.","On a component or infrastructure failure, the session is concluded, and all related sessions are informed of the failure.","Session information is preferably recorded in persistent store.","Success or failure of a session can be responded to by a parent session, a user, a parallel session, or fanned out to multiple sessions.","As noted above, the session management operations within the service event manager  may be implemented using a session manager. Such a session manager may be an element of the service event manager, or otherwise associated with the service event manager.","A given session manager can be configured to manage the session token allocation and retirement. A session token is an example of what is more generally referred to herein as a session identifier or SID. A token is typically allocated on a new session, on a new sub-session, on a joining of two or more sessions, etc. Rules may be utilized to manage session duration, sub-session depth, persistence, sub-session end if still active, and session context management. As indicated previously, a session can be created, initiated, ended, terminated, or joined. The session manager communicates to other CAS components requesting sessions in terms of allocating a new session ID, and requesting termination of a process associated with a session. Also, other CAS components communicate to the session manager to request session initiation (top level), session creation (sub level), session join, session end, or session termination.",{"@attributes":{"id":"p-0175","num":"0174"},"figref":"FIG. 9","b":["140","142","144","150","900","900","140","900","140","900"]},"The session manager  preferably associates a session token with each session, and maintains a hierarchy of session tokens so as to be able to identify specific sessions and to relate the sessions to one another as appropriate. All operations on sessions, in this illustrative embodiment, operate on the session identified by the session token. Termination of a session is based on rules implemented in the session manager. These rules also specify handling of any related linked sessions, e.g., sub-sessions, parallel sessions, etc.","In this example, one or more different sets of inter-related session information are associated with each of the CAS components , ,  and  as shown. More specifically, service event manager  is associated with a User Session (including User Session ID, where \u201cuser\u201d can be human, application, appliance or other endpoint device, etc.) and a Service Session (including Service Session ID). The communication services manager  is associated with a Comm Session (including Comm Session ID). The intelligent router  is associated with an Intelligent Router Session (including IR Session ID). The connectors  are associated with a Connector Session (including Connector Session ID). Of course, this particular diagram is merely illustrative, and other types and arrangements of CAS components can be used to provide session management features in accordance with the invention.",{"@attributes":{"id":"p-0178","num":"0177"},"figref":"FIG. 10","b":["140","128","144","900","1000","1002","1004","1006","1008","1010","1012","102"]},"The service event manager in this example performs processing operations associated with a communication service , one or more other communication services , and an inbound request . The inbound request  represents a response, from execution element , which results in a new communication request.","As indicated previously, the session manager  may be configured to maintain a common session across multiple underlying platforms for every communication service request. To manage these session activities, the service event manager  recognizes the events that include the arrival of a communication service request, or the completion of such a service. Each of these services constitutes a service session context. Since the user is able to logon to the CAS  and subsequently initiate more than one service request, a user session may be maintained by the communication services manager . Each service, communication and session context is preferably associated with the context of the corresponding user through a persistent user history store, which may be implemented in a memory or other suitable machine-readable storage medium within or otherwise accessible to the CAS .","The rules engine  allows users to specify preferences regarding call and session handling based on various parameters such as originator of request, time of day, etc. These can be stored as communication service scripts  and executed as part of the rules engine environment. Rules can be set up at the individual user level as well as the administrator level.","The message transformation  provides the capability of interacting with external services registered through the registry . For example, the message transformation element  may provide the appropriate translation between the communication events in the service event manager to standards based messaging interfaces like XML. This element may be configured to provide transformation across, for example, EJBs, CORBA objects, CORBA beans, etc. to integrate with external messaging brokers. One or more of these transformations may be a part of J2EE, and may be automatically provided in the messaging broker.","The execution element  requests communication service for the service event , which may involve interaction with the intelligent router , the one or more other communication services , or other CAS elements. As indicated previously, another inbound request may be generated as a result of this execution.","The presence service  is configured to provide access to subscriber presence and availability information at the time of completing a communication service request. This may be achieved through queries to a presence service regarding user status, where the user is determined by the user profile.","The registry  may be an element of the federated core services component  of the CAS , as is illustrated in conjunction with element  of component  in the communication system of . The registry in this illustrative embodiment provides the ability to discover, identify and access a communication service.","The context management element  supports user context across the use of CAS services, throughout both synchronous and asynchronous activities. Context management services manage the user specific history of initiated and receiving of events. Context may be defined in terms of communication context as well as business context. The persistence of context for a user is preferably administrable by the customer, since user context typically requires a persistent history of activities associated with that user. That is, persistence may be through a single user session or may include all sessions, over some specified duration, associated with the corresponding user. Business rules associated with maintaining user context, although not explicitly shown in , may be used to direct the management and duration associated with persistence of the user context.","Context may include, for example, one or more of the following elements.","1. The user's identity: User distinguished name, business application ID, customer administrator, etc.","2. Role of the requester at the time of the request: user, administrator, special \u201cplatinum\u201d user, etc.","3. Location of the user.","4. Security policies associated with the user.","5. Personalization rules.","6. Privacy constraints, that may be associated with the communication and the user (e.g., request to not pass along caller identification).","7. Communication request.","8. Communication device information: what type of device is being used by the user to originate the request; what type of device is being used by the user to receive a communication response.","9. Duration and state of communication.","10. Service session context such as which service is requested, duration of the service session, etc.","11. Communication session context such as what the user requested in terms of communication services, media type; media stream (e.g., recording, voice call, video clip, set of images, etc.).","12. Preferences used that may be offered for the service requested.","13. Previous history associated with the user of communication services.","In multiple communication requests are composed into a business service (within the scope of a user session), these services should generally share this user context, and maintain a single persistent context history. This user context history may be made available to the user of the CAS through an open interface.","Context aids the CAS in providing a given user with appropriate communication services. For example, a repeated user of the CAS may be associated with a \u201cplatinum\u201d role, and thereby receive priority communication services. The CAS user may activate special communication to a \u201cgood\u201d customer, through a user-preferred mode of communication. Context also aids the CAS in understanding a user's request based on previous history, in determining the presence and availability of users, and in establishing a preferred means of communication.","By way of example, many web-based enterprises maintain personalized information about each of their customers. Such enterprises maintain information such as identity, service usage, goods purchased or returned, and context. CAS context as described above can augment this information to provide the such web-based enterprises with a holistic and consistent use of business rules across application and infrastructure layers.","The service event manager may also include other event, error and fault management elements, which are not explicitly shown in the  diagram. For example, such elements may be used to provide a common framework for identifying events of a critical nature, and associated notification of such events, recording events of interest (e.g., failure, security violation, etc.), and common logged information across products.","As indicated above, the session management operations performed by service event manager  may involve interaction with other CAS components. For example, the communication services manager  may operate in conjunction with the intelligent router  in assisting the service event manager  with providing session management.","The session management aspects of the CAS  can provide a number of desirable features to system users. For example, a user can control different aspects of an interaction from different endpoint devices. As a more particular example, a user could place a call from his\/her phone but add parties to the call from a softphone on his\/her PC. Also, .a user can send instant messages or launch video in the context of that call from his\/her PC while the audio is still rendered on the phone. Individual sessions may be maintained for each aspect of the interaction, and linked as appropriate. User context may be maintained to define the communication contexts for the duration of the overall session.",{"@attributes":{"id":"p-0207","num":"0206"},"figref":"FIGS. 11A and 11B","b":"102"},"Referring initially to , a session hierarchy is shown which includes a user session  initiated by a user a, a service session , and a communication session . The session hierarchy is managed in the CAS  in the manner described above. Associated with the user session  is a set of communication services , one or more of which may represent services associated with feature services component , federated communication services component , or federated core services . Associated with the service session  is a particular communication service , which may represent a particular one of the communication services .","The communication service  associated with the service session  generates a request which is processed by the service event manager  in conjunction with intelligent router  and federated core services component . The processing of the request may lead to the generation of one or more inbound requests for additional communication services , each of which is processed substantially as an initial communication service  in a hierarchy of communication services, or for a federated service supported by the federated core services component .","The communication session  involves the intelligent router  establishing communications with one or more enterprise or communications servers , , which in this example include a switch , a messaging server , an instant messaging server , a presence server , and one or more other media servers . The communication session  may thus include one or more of a telephony session with switch , messaging or instant messaging sessions with respective servers  and , a presence session with presence server , and one or more additional sessions with other media servers . Although not shown in the figure, connector component  may be used to establish connections between intelligent router  and the elements , , ,  and  as required.",{"@attributes":{"id":"p-0211","num":"0210"},"figref":["FIG. 11B","FIG. 11A"],"b":["140","140","144","1130","102","1130","1132","1","1132","2","1132","3","1130","104","1140"],"i":"b "},"As illustrated in element , the user session context information may include, by way of example, user identity, role at the time of the request, location of the user, personalization rules used, privacy constraints, security information such as logon information, communication service request and associated service session information, communication session information, duration of session, what the user requested (e.g., the communication context), preferences used, presence, etc. Other types and arrangements of information may be used.","The particular session hierarchies, processing operations and storage arrangements shown in  are intended as illustrative only, and numerous alternative arrangements implementable in a CAS in accordance with the invention will be readily apparent to those skilled in the art.",{"@attributes":{"id":"p-0214","num":"0213"},"figref":"FIG. 12"},"A broadcast-and-response service  is an example of a communication service which may be associated with a persistent session, and its operation is illustrated in the  diagram. The service  is a synchronous service at point  in the figure, and involves a broadcast operation  that requires access to a directory  as indicated at point  in the figure. The broadcast operation is one of a series of communication service operations that are associated with the service  in this example. The broadcast operation  as indicated at point  leads to the generation of a number of concurrent service requests, including call connect service , message service , and listen service . The listen service as indicated at point  is an asynchronous service which subsequently leads to execution of a respond service .","A more detailed example of the processing of a communication service request by the service event manager  is given below.","1. Request session:\n\n","2. Add user session ID to session information.","3. Process context:\n\n","4. Comm task:\n\n","5. Manage events.","6. Manage response:\n\n","It is to be appreciated that the foregoing example is merely illustrative of communication service request processing that may be implemented by the service event manager  in the CAS , and other types of request processing may be used.","The communication services manager  decomposes a given communication service request into its individual executable tasks, which as noted above are also referred to herein as \u201ccommunication tasks\u201d or simply \u201ccomm tasks,\u201d and may operate recursively and hierarchically. It preferably utilizes a schema or other communication service script, which may be defined by a description language, to determine the behavior of the communication task, the transactions, the expected return results, and the pre-conditions, post-conditions or other associated constraints. It uses this communication script, in addition to pre-defined or learned behavior, to determine the order of the tasks, and the nature of the aggregated results. It decomposes the communication service into a set of communication tasks, any of which may be composite services, requiring recursive processing behavior.","It should be noted that some of the communication tasks may be processed substantially in their entirety within the communication services manager . If the response to a given request is itself a request for a communication service, the communication services manager may be recursively initiated. The communications services manager also aggregates the responses from each communication task, based on type of response expected, e.g., synchronous, asynchronous, concurrent, none, error, and returns the response to the service event manager .","The communication services manager  is thus configured to provide run time service support for communication services implemented by the CAS . It is responsible for service decomposition and response aggregation. The incoming service request, a communication service, is decomposed into its one or more communication tasks and assembled in a logical workflow as defined by the communication service. That is, as mentioned previously, some of the communication services are compositions of multiple communication tasks. Each such communication task is processed in accordance with the defined script, to realize the overall communication service request. Response aggregation is the reverse process of assembling the responses in the same logical manner from the tasks into a response for the complete communication service.","By way of example, the above-noted \u201cclick-to-communicate\u201d service may include multiple communication services, e.g., services to request directory services, to connect a call, to connect to a PDA, etc. The associated transaction between the user and the CAS includes the full set of communication tasks that make up the click-to-communicate service.","As another example, a \u201cbroadcast-and-respond\u201d service is made up of two main services called broadcast and respond. The broadcast service sends the messages, registers the respond service to handle the response events, and then disconnects. The respond service may be invoked by the communication services manager  to manage the incoming events that comprise the responses to the original broadcast.","The communication services manager also initiates the registration and authentication associated with every one of the tasks from the decomposition. In addition, it is responsible for parsing and interpreting this request. To be able to do this successfully, script location services are invoked which may interface with standard LDAP directories, SIP location servers, etc. Finally, after any required authentication is successful, it passes the request to the service event manager . It should be noted that requests can be in the form of CPL scripts, SOAP scripts etc. Not all forms of requests require authentication.",{"@attributes":{"id":"p-0230","num":"0269"},"figref":"FIG. 13","b":["142","102","142","1302","1304","1306","1308","120","124","140","900"]},"An initiated request is processed by Validate Script element , which obtains the appropriate script or scripts from Location Service . Element  validates the script(s) and provides decomposition into executables which are parsed and interpreted by element . Element  determines at least one communication task  which interacts with the service event manager . The service event manager  may generate responses back to the communication task . In addition, its processing may result in triggering of another communication task , a communication service, and\/or another inbound request  requiring processing in accordance with communication services , . Responses received by element  are aggregated by element .",{"@attributes":{"id":"p-0232","num":"0271"},"figref":"FIG. 14","b":["142","160","142","1402","1404","1406","160","1402","1404","1406","1404","1402","1404","1304"]},"An example of the processing of a communication service request by the communication services manager  is given below.","1. Request new session token for request.","2. Get request script.","3. Validate script.","4. Parse into one or more comm tasks, zero or more internal comm tasks, zero or more comm services. Note that a comm service comprises one or more comm tasks, and a comm task comprises zero or more comm services. Each comm task results in particular processing steps, not specifically shown in this example but discussed in greater detail below.","5. Determine which comm service tasks to perform, in what order, and what aggregated results to return.","6. A comm task may be processed in the communication services manager and\/or may require invoking the service event manager. More than one invocation of the service event manager may result, depending on the composition of the communications service request.","7. Receive responses:\n\n","8. Respond as appropriate:\n\n","9. Report session status and request session conclusion.","Again, it is to be appreciated that the foregoing example is merely illustrative of communication service request processing by the communication services manager  in the CAS , and other types of request processing may be used.","The intelligent communication services router  processes the routing requests, manages events, and handles responses, media translation, re-routing, etc. It invokes the appropriate ones of the connector(s)  for communicating with external servers such as ,  and . It determines if a response results in another communication service request. It also provides resource management regarding the use of external servers. It routes inbound requests and responses, e.g., to the service event manager  for further processing, which in turn may invoke the communication services manager .","The intelligent communication services router  may include elements for interfacing with a wide variety of external servers, such as enterprise server , communications server , or the servers  identified in . These servers may more particularly include SIP proxy and redirect servers, IP telephony servers, switches such as MultiVantage\u2122 and Definity\u00ae from Avaya Inc. and other PBXs, gateways, etc., wireless network servers, messaging servers, media servers, computer-telephony integration (CTI) servers, databases, web services, etc.","The term \u201cserver\u201d as used herein is intended to include without limitation any one or more of these or other devices which are configurable to perform communication processing tasks on behalf of the CAS .","The intelligent communication services router  may also be configured to provide resource management of the above-noted infrastructure servers, in addition to providing routing services. For example, it can be configured to route inbound response events from an infrastructure server layer to the service event manager  for processing, which subsequently interacts with the communication services manager . Communication services may use the intelligent router to access contact control and media control services associated with underlying communication platforms.","Routing destinations may include web services sites as well as other application servers. As indicated above, the intelligent router  communicates with the various infrastructure components external to the CAS  through connectors .","The intelligent router  may be configured to include or to otherwise be associated with an element which operates as an edge server. Such an edge server may include a bank of user agents (UAs), where each user agent \u201cproxies\u201d for a user in the sense that it assists in maintaining a centralized state, such as user session information, for each user interacting with the CAS.",{"@attributes":{"id":"p-0250","num":"0295"},"figref":["FIG. 15","FIG. 10"],"b":["144","144","124","128","150","900","1006","1017","144","1504","1506","1508","1510"]},"The intelligent router  interacts with connectors , which in this example provide interfaces to a set of infrastructure servers  and a set of data servers , which may be viewed as corresponding generally to the servers ,  of . The set of infrastructure servers  in this example includes an IM server, presence server, IP network (with associated SIP proxy and SIP redirect servers), a wireless server, a PSTN server, a CTI server, a messaging server, and a media server. The IP, wireless, PSTN and CTI servers are shown as being associated with a gateway. The set of data servers  includes web service servers, EAI servers, database servers, and J2EE services servers.","It should be emphasized that the particular arrangement of elements in  is presented by way of illustrative example only, and numerous alternative arrangements may be used to implement the invention.","The following is an example of a set of processing operations which may be performed by the intelligent communication services router .","1. Request new session token for request.","2. Get request and destination information.","3. Connect to federated core services  as needed for QoS policy, directory of device profiles, security (e.g., authorization), directory of enterprise data, database of data, etc.","4. Determine if media format needs to be rendered for destination; perform rendering.","5. Record comm event to manage; append to previous event if asynchronous response.","6. Provide routing decisions based on presence information, personal routing rules, and business routing rules:\n\n","7. Determine resources; may require re-routing if resources unavailable.","8. Determine QoS needs; may require re-routing if appropriate QoS channel not available.\n\n","9. Invoice appropriate connector.","10. Receive responses:\n\n","b. Response for new composite communication service, recursively initiate communication services manager .\n\n","11.Respond as appropriate:\n\n","It is to be appreciated that the foregoing example is merely illustrative of a set of processing operations that may be implemented by the intelligent communication services router . Other processing operations may be used, as will be apparent to those skilled in the art.","The connectors  provide a logical mapping of request and response for the communication services accessible via the CAS , using synchronous, asynchronous, transactional or other techniques or combinations thereof. The purpose of the connectors is to assimilate the dissimilar communication platforms used to support services provided by the CAS into a single functional collective (spanning voice, data, messaging, e-mail, etc.) which provides a homogeneous environment to a given requesting user. In an illustrative embodiment, it does this by providing mediation that pulls together the various capabilities of the communication platforms used into the common interface that is exposed to the requesting user. The connectors  thus ensure that this interface will be presented to the requesting user in a way that is communication platform-independent.","The connectors  may comprise a set of interfaces, including, for example, APIs, protocols, IDLs or other interface definitions, etc. These interfaces hide the complexities of infrastructure server access from the requesting user, including the ability to initiate and receive on-line contacts (e.g., real-time contacts such as telephone call, chat, etc.) and offline contacts (e.g., email, voice mail, etc.). The connectors provide protocol management through appropriate server specific interfaces invoking the appropriate protocol for each communication or data element. These protocols include, but are not limited to SIP for real time communication sessions, HyperText Transport Protocol (HTTP) or XML\/SOAP for web services, Simple Mail Transport Protocol (SMTP) for email, proprietary ASAI to ACP for telephony services, EAI for data services, etc. The connectors manage the convergence of the service results received from these different environments.","The following is an example set of processing operations that may be performed by the connectors :","1. Request new session token for request.","2. Get request and destination information.","3. If routing request:\n\n","4. If communication or data request (from intelligent router, service event manager , infrastructure servers, etc.), determine appropriate connector for request.\n\n","5. Responses can be null, asynchronous, synchronous, error, or server failure.\n\n","c. Asynchronous:\n\n","The particular processing operations in the foregoing example should be considered illustrative only, and a given embodiment of the invention need not require any particular subset of these operations.","The service creation environment  provides an integrated platform for building communications services and integrating them with applications. In an illustrative embodiment, the service creation environment may be configured to comprise one or more of the following elements, features, or functions.","1. Interfaces for integrating communications services with application frameworks, to provide interfaces for building and integrating federated communications services with application frameworks.","2. SDKs or other software tools for building multi-modal interfaces for the access manager .","3. Testing and emulation tools for simulating communications services that are accessible via the CAS.","4. Deployment descriptions for CAS components.","5. Software tools for integrating federated communications services  with an application or application framework in terms of open web services, XML, EJB, Java\/COM bean, Java\/CORBA, etc.","6. Software tools to orchestrate federated communication services into higher level communication services which can be persisted into a registry of services, along with other federated communication services.","7. Software tools for building and orchestrating federated communications services within applications.","8. Software tools for tracking communication services utilization within an application.","9. Software tools to facilitate integration of communication services and components into applications.","10. Specifying communication service scripts","11. Software tools to facilitate discovery, reviewing and selecting communication service script based interfaces and integrated these interfaces into applications.","12. Combining services together to provide a composite service.","13. Supporting communication process flow services interleaved with business processes.","14. Integrating communication management services with business application management services (e.g., directory, security, etc.)","15. Integrating communication management services with business management information (e.g., user profile, security credentials, etc.)","16. Integrating the access manager with portal services.","17. Provisioning communications platforms and business platforms within a consistent service model (e.g., SNMP MIBS)","18. Provisioning integrated business rules with communication application service servicing rules (e.g., routing preferences, security, QoS, personal, user classes, class of service, etc.).","19. Software tools to instantiate a registry of communication scripts, web services, interface repository, etc. for use in discovery, selection, and integrating with business applications.","20. Software tools to manage a given CAS instance, including management of user provisioning and identity, persisted session storage, and management of events, errors, user profile, class of service, personalized rules, security credentials, etc.","The communication services of the CAS may be created by various parties, including parties associated with unrelated enterprises. These services may be integrated together through common interface specifications, as well as through the use of the federated services , . The integration of these services into an application, and the composition of these services into higher-level services, may be provided through a suite of SDKs or other software tools in the service creation environment . The service creation environment  is used to create new communication services and to create communication-enabled applications. These services may be utilized by the end user of the CAS to build applications.","The service creation environment  may be configured so as to map to an N-tier architecture which may include both business logic in the EJB sphere of control and multiple presentation layers (e.g., HyperText Markup Language (HTML)\/XML, VoiceXML, WAP\/Wireless Description Language (WDL)\/Handheld Device Markup Language (HDML), etc.).",{"@attributes":{"id":"p-0300","num":"0386"},"figref":"FIG. 16","b":["152","1600","130","138","128","1604","1606","1608","1610","1612"]},"A given communication service  can be composed of one or more other communication services, and may include additional definition as required. Associated with the Define Interfaces element  in this embodiment are an XML\/SOAP Definition element , which accesses XML dialect information  and SOAP message information , and an EJB Definition element , which accesses EJB information .","Other elements not explicitly shown may also or alternatively be utilized, such as a Net definition element, a Java definition element, etc., depending on the particular needs of a given deployment environment.","The Define Behavior element  may include information such as context, conditions, services, events, resource profiles, synchronization with external processes, etc.","The Define Steps element  defines the required order of communication tasks for implementing the communication service , including any decisions based on returned \u201cresultant behavior\u201d from a given communication task , also referred to herein as a \u201ccomm task.\u201d A given communication task can be composed of other tasks, can correspond to a single offered service, can correspond to an application service, or can correspond to a step within a given service.","The particular arrangement of processing elements in the example service creation environment of  should not be viewed as being a requirement of the invention. Other arrangements of processing elements may be used to implement a service creation environment within a CAS in accordance with the invention, as will be readily appreciated by those skilled in the art.","The communication service scripts  defined requested services in sufficient detail to allow these services to execute in the system. An associated description language may be used to capture these details (e.g., Web Services Description Language (WSDL), orchestration flow, etc.). Because a communication script can include more than one communication service, each such service is preferably delimited into an embedded script. Along with each service description, the script will generally indicate if the corresponding services are executed concurrently, in series, with expected asynchronous or synchronous responses, etc. The defaults, if not specified, may be executing the scripts in series, with responses appropriate to the communication requested. As indicated previously, communication as the term is used herein is intended to include real-time, near-real-time and non-real-time communications, and may involve voice, data or other information formats.","The communication service scripts  may include presentation scripts configured to manage multi-modal interactions and provide markup to be interpreted by servers or end-user appliances including web browsers, multi-modal browsers, voice browsers, etc.","A given communication service script may be configured to implement communication i services with a database-neutral, platform-neutral, and programming language-neutral interface.","A communication service script may be initiated by a business process, and a business process may be initiated by a communication service script. Similarly, a communication service script may wait for an input or other signal from a business process, and a business process may wait for an input or other signal from a communication service script.","Scripts may be designed to run in a distributed architecture across multiple infrastructure servers external to the CAS.","Script interfaces to applications are preferably based on open standards (e.g., XML based) to promote multi-vendor development of applications and the creation of new scripts.","A communication service ,  may be viewed as a particular instance of the script specification associated with a request of the corresponding service. For example, a \u201cclick to communicate\u201d service may initiate a communication session specifying originating communication party information, destination party (or parties) information, exceptions that request (with appropriate parameters) services such as set-up_VoIP_call, set-up_chat_session, or request_callback, each with appropriate parameters specified, and with a series indicated.","A given communication service script may include, by way of example, at least a subset of the following elements.","1. Identifier of the script.","2. Version of the script.","3. Owner of specification.","4. Name or other identifier of the communication service.","5. Communication request actions.","6. Communication attributes (e.g., schema) with indications of input, output, error, exceptions, etc.\n\n","7. Communication behavior (e.g., context), such as:\n\n","8. Embedded sequences of communication service scripts, with indication of concurrency, series, asynchronous\/synchronous response, including such elements as:\n\n","9. Unified Modeling Language (UML) sequence diagrams of interrelationships or orchestration process flow language to define communication behavior.","The particular script elements identified above are merely exemplary, and a given script utilized in a CAS in accordance with the invention may include only a subset of these elements, or other elements not specifically listed.",{"@attributes":{"id":"p-0324","num":"0426"},"figref":"FIGS. 17 through 24"},"With reference now to , a diagram illustrating an exemplary communication system  comprising a CAS in accordance with the invention is shown. The CAS includes a communication services component corresponding generally to the feature services  and federated communication services  of , a federated core services component , and a communication session management component corresponding generally to the communication service and session management component  of .","The CAS as illustrated in  for includes a portal services component , a set of infrastructure servers , and a set of data servers . The portal services component  provides an interface into the CAS for a user , and may be configured to include appropriate user interfaces as well as other elements associated with the common access framework  of . The set of infrastructure servers  includes a presence server, an instant messaging server, a CTI server, a PSTN server, an IP server, a wireless server, an asynchronous transfer mode (ATM) server, a messaging server and a media server. The PSIN, IP and wireless elements are associated with a gateway.","The set of data servers  includes web services servers, database servers, EAI servers, and J2EE services servers. An application user , which may comprise an appliance or any other device with communication capability, interacts with the component  in the manner shown. Based on its interactions with user  and application user , the component  may invoke one or more other communication services . The component  is also shown as interacting with an appliance , which may correspond to appliance  or one of the endpoints  in the communication system of .",{"@attributes":{"id":"p-0328","num":"0430"},"figref":"FIG. 18","b":["1800","102","1800","104","102","1802","102","1804","1802","1804","104","104","202"]},"A portal associated with the CAS  includes a number of communication layers, including a common portal client user interface layer , a common portal services layer , and a common portal support services layer . Although shown for clarity of illustration as being separate from the CAS , one or more of these layers may be incorporated within the CAS , e.g., as part of the common access framework  or other portal component of the CAS . The layers ,  and  are shared by the voice and data portals associated with respective voice browser  and web browser , and may be configured so as to provide convenient access to the CAS  for a diverse array of endpoints .","The CAS  as shown in  includes a processor  and a memory . As indicated previously herein, the term \u201cprocessor\u201d as used in this context is intended to be construed generally so as to encompass any arrangement of one or more microprocessors or other digital data processing devices configured in a conventional manner. The memory may include RAM, ROM, disk-based storage and other types of storage devices, including one or more persistent store elements, also configured in a known manner. The communication processing functions described herein are implemented at least in part in the form of one or more software programs which are stored in the memory  and executed by the processor .",{"@attributes":{"id":"p-0331","num":"0433"},"figref":["FIG. 19","FIG. 1"],"b":["1900","102","102","102","102","102","140","144","102","1902","102","1904","102","102","106","102","102","106","106"]},"The virtual enterprise achievable utilizing CASs A ands B allows users within the different physical enterprises  and  to interact as if they were part of the same physical enterprise. The first physical enterprise  has access via the CAS A to a set of servers  which includes a first telephony switch , a messaging server , an IM server , etc. Similarly, the second physical enterprise  has access via the CAS B to a set of servers  which includes a second telephony switch , a voice messaging server , etc. By interconnection of the CASs A and B, the users associated with the different physical enterprises can be provided with communication services supported by any of the servers in the different sets of servers  and . For example, a user  associated with the first physical enterprise  is provided with communication service , which corresponds to a \u201cplay message\u201d service, and a communication service  which corresponds to a \u201cclick-to-communicate\u201d service and includes associated communication tasks  as shown. One or both of these services may involve other services associated with the other physical enterprise , such as notification of a user  within enterprise  via a \u201cnotify\u201d service supported by the CAS B.","Of course, the particular number and arrangement of CASs in  is by way of example only, and a given system can include more or fewer CASs, each of which may be similarly arranged or distinctly arranged.",{"@attributes":{"id":"p-0334","num":"0436"},"figref":"FIGS. 20","b":["21","22"]},"Referring now to , the upper portion of the figure illustrates the development of connect and click-to-communicate services using the service creation environment . The user in this context is a system developer, and that user performs service define, produce and construct operations utilizing the service creation environment  as previously described. More specifically, in this example the developer defines the steps associated with the given service, that is, defines a communication workflow, constructs the appropriate APIs, defines service behavior, and the manner in which service responses will be handled. For the connect service, a set of steps  are defined, including establish session, process callee-set, resolve callee-address, process callee-preferences, establish communication service and session management communication connection, wait, and process incoming call or message. The click-to-connect service in this example may be constructed by modifying the connect service in the manner shown, leading to the set of steps , which includes the steps of the connect service as well as additional steps including media adjustment steps, and a process communication type step.","The lower portion of  illustrates the execution of the click-to-communicate service in the CAS  on behalf of a user which in this embodiment may be a business application, a business object transaction, or other CAS user requiring execution of the click-to-communicate service. Associated with this user is a set of client side API elements  in the form of communication service XML service declaration elements, including an element - for the click-to-communicate service, an element - for an alert service, an element - for the connect service, and an element - for a broadcast-respond service. The click-to-communicate service as defined in the service creation environment  to include the set of steps  is associated with the client side XML element -, and with a communication workflow , also referred to as a communication transaction.","The CAS  as illustrated in this example includes operational elements including a session manager operation , a get user profile operation , a get user preferences operation , an invoke API operation , an invoke media adjustment operation , and a receive API operation . These operations may be carried out using one or more of the components of the CAS  as previously described in conjunction with  and elsewhere herein.",{"@attributes":{"id":"p-0338","num":"0440"},"figref":["FIG. 21","FIG. 1"],"b":["2006","1","102","2008","102","2100","2102","2104","2106","2108","102"]},"The directory and preferences operations  and  interact with a directory server  (assuming the user preferences are stored persistently in the directory), the media conversion operation  interacts with a text-to-speech and speech-to-text converter , while elements  and  interact with a management server . The directory server  may access, for each callee associated with the click-to-communicate service, corresponding information from an associated storage device or other memory . This information may include, by way of example, user device type, network address, user product expertise or other special expertise, user evaluatable properties, user preferences, etc. The elements ,  and  are shown as being external to the CAS  in this example, but these elements could be at least partially incorporated into the CAS in other embodiments of the invention. Also, the CAS can include other operational elements and may interact with other external elements, as was described previously herein.","The communication workflow \u2032 associated with execution of the click-to-communicate service in the CAS  is generated in the service creation environment  as previously described, possibly using an intelligent workflow template or other suitable software development tool. The communication workflow as shown in this example includes a process callee-set operation , which involves accessing the directory server  via the directory element  of the CAS . The process callee-set operation  triggers a resolve_callee_address operation  for the callee, a select_callee operation , and a resolve_callee_address operation  for the callee group if any. Following these operations in the communication workflow is a process callee-preferences operation , which involves accessing the directory server  via the preferences element  of the CAS . This is followed by a process comm-type operation , which based on the particular callee preferences may trigger one of a number of operations, including in this example a call_connect operation, a message_connect operation, a chat_connect operation and a request_callback operation, which lead to the connection of the caller and callee(s) via element  of the CAS .","Element  triggers an asynchronous connection event , which is applied to a transformation operation  which compares the communication type to the callee preferences. If necessary, the transformation operation  accesses the text-to-speech and speech-to-text converter , and provides appropriately transformed communication information back to the requester of the click-to-communicate service.","With reference now to , a more detailed example of a communication workflow associated with a click-to-communicate service is shown. The particular workflow shown in this figure is denoted as workflow \u2033 and includes communication tasks and steps associated with an example click-to-communicate service.","The relationship between a communication service and a communication task has been previously referred to herein, and will now be described in greater detail. As shown generally at , a given communication service A can be decomposed into one or more communication tasks B, e.g., 1, . . . k tasks, each of which may include one or more steps C, e.g., 1, . . . p steps. Also, the given communication service A may include multiple other communication services D, e.g., 0, . . . r other services.","The set of tasks shown in  includes a communication task corresponding to the operation process callee-set  as previously described, as well as additional tasks including presence , check callee-preferences , check callee-presence , process caller-context , call , send message , chat  and instant message . It should be noted that these tasks are not necessarily an ordered set, and that the particular execution order is defined by the associated process flow.","The various communication tasks and steps shown in the figure may be processed using elements such as service element manager , communication services manager  and intelligent router  of the CAS , in the manner previously described.","The communication task process callee-set triggers execution of resolve_callee_address steps ,  as previously described. More specifically, for each callee in a possible set of one or more callees, a directory is accessed to determine the callee address, and then the remainder of the communication tasks in the defined workflow are performed for each of the callees.","The communication task check callee-preferences  triggers execution of steps to locate callee preferences, possibly from a remote directory server accessible to the CAS, to query a user preferences persistent store associated with the CAS, and to determine preference of communication.","The communication task check callee-presence  triggers execution of steps to interact with a presence service, to determine callee presence, and to make a decision on callee-connection type, e.g., to resolve IAW callee preferences using appropriate precedence rules.","The communication tasks , ,  and  trigger corresponding tasks denoted call_connect, message_connect, chat_connect and instant_message_connect, one or more of which may trigger execution of a media adjustment step, if needed.",{"@attributes":{"id":"p-0350","num":"0452"},"figref":"FIG. 23","b":["2300","102","2300","2108","2110","2116","2300","104","104","104","108","110","2302","1","2304","2","2302","2304","2306","108","110","2308","2310","102","2312"],"i":["x","y ","z"]},"In this example, a user \u201cJoe\u201d associated with endpoint x accesses the click-to-communicate service of CAS  by first sending an HaTP request to a web server  to obtain access to a procurement portal which includes one or more communication services supported by the CAS . After Joe has obtained access to the procurement portal and the associated CAS-supported services, Joe generates a merchandise order via a web page . It is assumed that this particular procurement order requires an approval. The displayed web page  thus includes a \u201cGet Approval\u201d button  that triggers access to the CAS-supported click-to-communicate service . Joe clicks on the button , which in this example first determines a designated group of approvers, shown as including John, Curly and Moe, selects a given approver from the group, e.g., the first approver in the group, and initiates a directory service  which attempts to locate a directory server via registry  as indicated at .","The directory service  utilizes directory server  to accessed stored user information , which in this example indicates for John an extension (), a preferred contact (telephone) and a telephony type (Switch ), and for Curly a preferred contact (web chat), and an IP address (135.9.153.35). The CAS  then attempts to access the first approver in the group, that is, John, by initiating a call communication task . The task  results in the placement of a telephone call to endpoint device , which is assumed to correspond to extension , via Switch  and telephony SPI .","As indicated in the figure, the approver John turns out to be unavailable at endpoint so the CAS records a failed connect and connect type as indicated at . The CAS via the defined click-to-communicate service  then selects the next approver from the group, namely Curly, and initiates a chat communication task . The chat communication task  results in the initiation of a web chat session between Curly at endpoint and Joe at endpoint via chat server  and the chat server SPI . Since this chat session is successfully established, the CAS  logs the connection event and records the connection type as indicated at .","Another example of a communication-enabled supply chain management application utilizing communication services provided by a CAS in accordance with the invention is as follows. For a given supply chain, the supply chain management software specifies how to handle different levels of exception conditions. For the more severe level, an emergency collaboration session may be called for with specific participants, where these participants can configure their reachability preferences using the same definition of severity levels. The communication system can then use these preferences, along with corresponding presence information, to determine the best means to set up the collaboration session, whether it be through an instant message if the participant is in the middle of a meeting, a phone call if the participant is on the road, or a web collaboration session if the participant is in the office.",{"@attributes":{"id":"p-0355","num":"0457"},"figref":"FIG. 24","b":["2400","102","104","104","108","110","2302","2304","2306","108","110","2410","102","2414","2416","1","2"]},"Associated with the CAS  in this example are the elements , ,,  and , all of which operate substantially as previously described herein.","It is assumed that users A and B are each utilizing different communication system switches to support their respective endpoints -A and -B, namely, user A utilizes Switch  and user B utilizes Switch . These two switches may be completely distinct, e.g., different models from different manufacturers, and thus ordinarily may be incompatible with one another outside of a connection established in a conventional manner via a PSTN. However, the CAS  allows each of the users -A and -B to transparently access the telephony switch of the other user, as if these users were in fact sharing the same physical switch.","In operation, when user A places a call to user B or vice-versa, the directory service  locates the directory server  utilizing the registry as indicated at , and accesses user profile information in element . This user profile information indicates that user A is associated with Switch  and that user B is associated with Switch . Another registry operation  is initiated in the CAS to determine the platform location of the particular switches involved. This results in access to storage element , which specifies IP addresses for Switch  and Switch . The CAS  can then establish a direct connection between the users A and B.","The foregoing examples illustrate the improved communication flexibility that is achievable using a CAS in accordance with the present invention.","The CAS architecture as illustrated in conjunction with , A, B, C, A and B, as well as other figures herein, provides a comprehensive framework for converged communication services involving a wide variety of diverse communication system functionalities such as telephony, messaging, applications, network communications, session services, portal services, etc. The following is a description of a number of the functions, features and advantages that may be associated with a given embodiment of a CAS in accordance with the present invention. It is to be appreciated that any subset of one or more of the functions, features or advantages listed below may be present in a given embodiment of the CAS. Moreover, the following list is not intended to be exclusive or exhaustive, and a given embodiment of the invention need not support any of the particular elements listed, and may support other elements that are not specifically listed.","1. Communication services driven by the same business rules as enterprise application services.","2. Communication applications exposed as open integratable application services.","3. Communication components that are integratable and composable into higher level services.","4. Communication services registered as part of a service registry.","5. Communication services invocable by open Internet-based standards (e.g., XML, XML\/SOAP, Java EJB, etc.).","6. Environment for creating communication services based on open standards.","7. Environment for creating composed communication services based on open standards.","8. Set of communication libraries.","9. Set of communication libraries that are integratable into an application through a communication application development toolkit.","10. Customizable communication software development toolkit with open interfaces.","11. Generic framework that can incorporate multiple communication environments and infrastructures.","12. Open environment for creating customized communication services and applications.","13. Converged communication environment that enhances the capabilities of all communication devices (telephones, PCs, pagers, cell phones, IP phones, intelligent phones, PDAs, etc.) regardless of their infrastructure (IP, PSTN, ATM, SMS, etc.).","14. Converged communication environment for real-time and non-real-time communication.","15. Intelligent communication for devices that deliver information when the user wants, where it is wanted, as the user wants, and on an endpoint device of choice.","16. Multimodal communication services delivered in a mode that is appropriate to the access appliance, as designated by the recipient.","17. Concurrent multi-modal communications.","18. Federated services that extend across multiple different domains of applications and infrastructure.","19. Federated services that ensure consistency of business rules across multiple domains including infrastructure, infrastructure services, applications, communication services, etc.","20. Federated services that extend across multiple different technology boundaries.","21. Federated services that provide open interfaces.","22. Specification of a user engaged in communication (e.g., communication party).","23. The CAS includes components to compose more complex services and each such complex services can be a composition of one or more less complex communication services. These complex services can in turn be integrated into the CAS as part of its set of offered communication services.","24. The CAS includes an execution environment to execute any communication services of the CAS, including authentication, execution, session management, context management, service execution, communication service execution of each part, aggregation of results, etc. Complex services can be a composition of many separate communication services, each of which is executed as defined.","25. The CAS provides the capability to execute synchronous or asynchronous communication services, separately or composed into a complex communication service.","26. Converged communication of traditional PSTN telephony with IP telephony and real-time IP communication.","27. Converged voice and data access to either voice or data information.","28. Converged communication and data based management services, including but not limited to event management.","29. The CAS may include basic building blocks of communication features which can be executed individually or composed to provide a higher level service.","30. Dynamic discovery and execution of communication services independent of the platform of the server.","31. Execution of the communication services independent of the software programming language.","32. Execution of the communication services independent of the software middleware environment.","33. Communication services to Enterprise and non-Enterprise telephony servers.","34. Communication services to Enterprise and non-Enterprise portal servers.","35. Communication services to Enterprise and non-Enterprise messaging servers.","36. Communication services to Enterprise and non-Enterprise media servers.","37. Communication services to Enterprise and non-Enterprise SIP servers.","38. Open, programmable environment of communication services for use by developers, through a service creation environment of open toolkits.","39. Open, standards-based set of interfaces to all major components of the CAS.","40. Peer-to-peer communication, with increased control and intelligence at the communication session endpoints.","41. Modular communication services to facilitate rapidly creating integrated Internet data-centric services with communication services by integrating disparate communication elements via well-defined standard open interfaces, even mixing the communication elements from different vendors or other sources.","42. Telephony switch features as separable distributable interworking services, accessible via open interfaces, interworking with other openly accessible communication elements, providing openly externally accessible communication services.","43. Increased use and centrality of voice control and manipulation of total communications as well as human visual and auditory presentation of information.","44. Enterprise-wide presence information about user, appliance, device, etc. across converged communications, including where and how to contact a given user at any time over any medium according to personal needs. The CAS can be configured to provide presence on a totally enterprise-wide distributed stage across various products, blended with presence across SIP servers, both enterprise based as well as rd party.","45. Intelligent routing based on presence, preferences, channel capacity, QoS, routing rules decisions, etc.","46. QoS based on business needs.","47. Communication services to \u201cpowerful\u201d endpoints, including desktop PCs, PDAs, cell phones, set top boxes, televisions, etc.","48. Enhanced customization for receiving communication, including presentation preference services, communication customized preferred manner of receiving communication requests, etc.","49. Use of voice for activation, control, and feedback, even for the desktop.","50. Distributed intelligence, control, software component services, infrastructure services, federated services, portal services, etc.","51. Application integration of telephony services.","52. Application integration of messaging services.","53. Application integration of media services.","54. Portal component configured for initiating and receiving services through web based interfaces.","55. Communication capabilities operative over a variety of endpoints and networks ensuring flexibility.","56. Communication services available anytime, anywhere, under any condition through reliability techniques.","57. Communication services that are simple and intuitive to install, use, and maintain.","58. Transparent access to communication-oriented services and to existing data-oriented information by means of standard APIs including J2EE interfaces, such as JNDI, Java Database Connectivity (JDBC), JavaMail, etc. as well as J2EE frameworks such as JCA, Java Authentication and Authorization Service (JAAS), etc.","59. Communication services in the form of modular software components that offer a communication-related service to the user.","60. Combining SIP and traditional telephony, providing seamless access by an application or endpoint device.","61. Enhanced capabilities to the SIP and traditional telephony environments, including, for example, providing presence as a communication service by extracting presence information from traditional communication services and converging this with presence of the SIP services.","62. Protocol management through appropriate connectors invoking the appropriate protocol for each communication or data element, including SIP for real-time communications, HTTP for web services, SMTP for e-mail, XML\/SOAP, proprietary ASAI to ACP, etc. and managing the convergence of the results of these different environments.","63. Service and session management capabilities providing transparent unified access to voice, web, IM, presence and other session services and providing session, context and interaction management for communication services.","64. Application session management managing the session and state of application requests of communication services, across multiple communication services, synchronously invoked or asynchronously invoked, with synchronous or asynchronous responses, integrated with an individual communication session and state management.","65. Context management across converged communications.","66. Third-party call control (3PCC) as an open communication service capability.","67. Communication service creation tools for communication services including voice portal services, SIP services, etc.","68. A combination of communication services and SIP services, bridging not only protocols but also the feature sets between traditional network infrastructure elements and IP infrastructure elements.","69. A single converged communication session including both SIP and traditional telephony requests.","70. Data and voice access to portal services.","71. Converged communication of SIP services extended to traditional telephony services, such as conferencing.","72. Converged communication of traditional telephony services extended to SIP services, such as 3PCC.","73. Communication services to the application through Internet based interfaces including XML\/SOAP, web services, EJB, etc.","74. Converged communication across traditional network infrastructure elements, such as telephony, media, messaging, etc., and SIP services.","75. Multimedia multi-modal portal that enables access of mobile end users, enterprise applications or other users to all CAS communication services.","76. Convergence of multi-telephony switches, multi-SIP services and multi-portal access, collectively and transparently to the requester of the communication service.","77. A software infrastructure, including components, interfaces, constraints, and rules, providing convergence of voice and data from infrastructure to application.","78. An ability to open communications as application web services that integrate voice and messaging related components and are integratable into a business application in a seamless manner.","79. Communication services that execute on a 3rd party application server.","80. Easily installable and configurable components for ease of integration into a customer's environment.","81. Interface specifications that are standards based or open to accommodate the blending of 3rd party partial solutions in creating new, possibly complex, communication services.","82. Access to a user profile of communication related information.","83. Provision of network edge services.","84. Supports a variety of client types, both outside and inside of corporate firewalls.","85. Supports client services through web containers in a web tier and supports business logic component services through generic component containers.","86. Additional connectors such as Java Telephony API (JTAPI), Intuity\u00ae Messaging API (IMAPI), etc.","87. Security services providing enhancement over similar services offered on external servers.","88. Common OAM&P across communication related components.","89. Provision of administration services.","90. Disaggregation of telephony applications into readily commoditized standard components, services and software.","91. Communication services integratable into customer application environments.","92. Enables integration and leverage of applications and services in a flexible, open environment.","93. Leverages existing data and web infrastructure in customer premises, e.g., application servers, portal servers, interfaces such as XML and SOAP, etc.","94. Services-based environment accommodates both peer-to-peer and client-server applications.","95. Acts as a runtime environment that provides the realization of communication services in a transparent manner.","96. Provides a development environment for the customers such as large enterprises, small or medium enterprises, systems integrators, independent software vendors, etc.","97. Provides the ability to access existing communication services, as well as enhanced communication services, in a converged manner.","98. Communication enabling of applications through a software infrastructure that provides the convergence of voice and data services.","99. Supports a virtual enterprise of mobile workers or customers that access services independent of voice or data endpoints.","100. Transparency of distributed heterogeneous solutions across multiple enterprises.","101. Support for fully distributed real-time, near-real-time and non-real-time service capabilities.","102. Dynamic discovery and use of communication services.","103. Integration of communication services into a customer enterprise as a library of services, remotely and dynamically executable services, etc.","104. Definition of complex communication services from composable communication services.","105. A common communication-enabling middleware that supports users, applications, and appliances.","106. Allows building of value added components that have intelligent behavior based on information gathered from an application context and historical behavior to drive system behavior and the user experience.","107. Enables the creation, sharing, and persistence of consistent context among business applications, communication systems, and a converged communications infrastructure.","108. Provides access to presence and availability management services on behalf of subscribers, including invocation of location services, DNS services, etc.","109. Allows a communication service to co-exist within CAS and a business application environment.","110. Allows a communication service or an associated interface to be integratable as a component into a business application for execution.","111. Allows a business application to combine communication services together to achieve a different, new or advanced capability.","112. Provides access to federated services that are selectable via an interface that allows separate identification and use of specific services, dynamically executable at runtime as a stand-alone capability, and autonomously available for selection without the need for deployment time or administration time provisioning.","113. Provides convergence between communication applications and enterprise applications.","114. Provides convergence amongst multiple communication applications and modes, real-time, near-real-time, and non-real-time, regardless of the underlying network infrastructure.","115. Provides convergence between communication applications infrastructure and enterprise applications infrastructure.","116. Provides convergence between common operating environment (COE) type services, e.g., a user in an enterprise space is the same user in a communication space, independent of how \u201cuser\u201d is stored and processed in each space.","117. Provides convergence between interfacing technologies in business applications and communication applications.","118. Provides convergence of processing behavior between communication and business applications, associated with access to and use of common metadata that drives the communication service processing, e.g., dynamically changing customer data such as context, presence, customer profile, order information, history, etc.","As noted above, a CAS in accordance with the invention can be configured in a given embodiment to provide one or more of the above-noted functions, features or advantages, but the invention is not required to include any particular arrangement of such elements.","Moreover, as mentioned previously, the invention can be implemented at least in part in the form of one or more software programs storable in a memory or other machine-readable storage medium, and executable by a processor of a CAS. A computer-readable storage medium or device disclosed herein expressly excludes transitory signals per se and transitory mediums such as carrier waves, wires, cables, fiber optics, infrared media, communication media, and the like.","The above-described embodiments of the invention are intended to be illustrative only, and numerous alternative embodiments within the scope of the appended claims will be apparent to those skilled in the art."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIGS. 2A","b":["2","2"]},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 3A"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 3B"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIGS. 4 and 5"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIGS. 8A and 8B"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIGS. 11A and 11B"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 16"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 17"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 18"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIGS. 19 through 24"}]},"DETDESC":[{},{}]}
