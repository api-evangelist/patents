---
title: Intelligent uplink resource release control in a mobile station
abstract: A mobile station for transferring delay-sensitive data to a wireless communications network is provided with an uplink resource release controller that selectively inhibits release of an uplink resource in order to meet requirements of a delay-sensitive data application, such as a VoIP or streaming application. In one embodiment, the uplink resource release controller causes dummy blocks to be written to a data buffer to prevent initiation of a countdown process. By intelligently controlling resource release, delay-sensitive data may be transmitted in a more reliable fashion, thereby increasing application performance.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08483140&OS=08483140&RS=08483140
owner: AT&T Mobiity II LLC
number: 08483140
owner_city: Atlanta
owner_country: US
publication_date: 20040527
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATION","BACKGROUND","SUMMARY","DETAILED DESCRIPTION OF PREFERRED EMBODIMENTS"],"p":["This application claims the benefit of U.S. Provisional Application No. 60\/550,613 by Daryl Robert Gazzard, filed Mar. 5, 2004 and entitled \u201cSystems and Methods of Providing Intelligent Application Resource Handling for Delay Sensitive Data Applications.\u201d The disclosure of the foregoing application is incorporated herein by reference.","1. Field of the Invention","The present invention relates generally to data communications in a wireless communication system, and more particularly, to systems and methods for controlling the allocation and release of uplink resources in connection with the transmission of data produced by delay-sensitive applications.","2. Description of the Prior Art","In today's wireless communications environment, data applications have become commonplace and widely used. Certain of these data applications, such as real-time and streaming applications, are delay sensitive and have very strict requirements with respect to transfer data rate and jitter. If these requirements are not met, the performance of the application may degrade substantially, leading to (for example) interruptions of, or dropouts in, audio or video streams. However, the majority of existing wireless data transmission technologies, such as GSM\/GPRS, do not adapt the transmission process to accommodate the requirements of delay-sensitive applications.","The problem associated with transmission of data produced by a delay-sensitive application in a standard communications environment such as GSM\/GPRS may best be understood with reference to . Generally described, a delay-sensitive data application  executing in a mobile station (MS)  or in a computer connected to MS  generates a flow of data that is representative, for example, of an audio or video stream. The data passes through one or more protocol layers (such as an Real-Time Protocol\/User Datagram Protocol\/Internet Protocol (RTP\/UDP\/IP) layer  and logical link control (LLC) layer ), which perform packetization, formatting and control functions, and arrives at data buffer  in radio link control\/media access control (RLC\/MAC) layer , where it is stored as data blocks for subsequent transmission to a base station system (BSS) .",{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 2","b":["110","114","100","114","100","110","100","110","100","114","102"]},"After the countdown process has been completed and the uplink resource has been released, MS  must again request and be granted the uplink resource. In this manner, transmission of data generated by data application  may involve multiple resource allocation\/release cycles. Since the resource allocation process can take a substantial period of time (particularly if the resource is heavily utilized), the occurrence of multiple resource allocation\/release cycles during a session can introduce operationally significant delays in data transmission, leading to degradation of the performance of the delay-sensitive data application.","Roughly described, an embodiment of the invention provides a mobile station (MS) for transferring data to a wireless communication network, which includes an uplink resource release controller (\u201ccontroller\u201d) configured to control release of an uplink resource in accordance with the requirements of a delay-sensitive data application, which may execute either on the MS or on a computing device connected to the MS. The delay-sensitive data application, which may take the form of (for example) a Voice-over-IP (VoIP) or streaming application, generates a flow of data that is stored as data blocks in a data buffer for transmission to the network. The controller includes logic for determining whether resource release procedures utilized by the network should be selectively inhibited. The controller may accept as input any number of fixed and\/or measured parameters, including without limitation data transfer rates required by the data application, historical delay data for upstream resource allocation, data buffer states, and data flow and transmission rates. In the event that the controller determines that release of the upstream resource will have an adverse effect on application performance, it executes actions to prevent release of the resource. In one example, the controller prevents release by causing dummy blocks to be written to the data buffer, thereby preventing the buffer from emptying to the point where the countdown process will be initiated. The controller may be implemented in any suitable form, including a software layer or application programming interface.",{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 3","b":["300","302","304","302","304","306","306","308","310","310","302"]},"While embodiments of the present invention are described herein with reference to their implementation in a conventional GSM\/GPRS system, it should be appreciated that the invention may be implemented in connection with any number of wireless data communication technologies, including without limitation Cellular Digital Packet Data (CDPD), Universal Mobile Telecommunications System (UMTS), WLAN, EDGE, and 3G data. Furthermore, while the invention is described and depicted in the context of wireless communications made between a mobile station and a fixed infrastructure network, the invention may also be applied to peer-to-peer communications, i.e., communications which take place directly between two mobile stations.",{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 4","b":["302","102","402","402","402","402","302","402"]},"Data application  generates a flow of data (encoding, for example, speech or an audio\/video stream), which is passed through a protocol stack that assembles the data produced by data application into discrete units having a prescribed length and format (referred to herein as \u201cdata blocks\u201d), performs all necessary encoding, and attaches control and error recovery information. A conventional protocol stack may include an RTP\/UDP\/IP layer , an LLC layer , and an RLC\/MAC layer . The function and operation of these layers are known in the art and need not be discussed herein. The lowermost physical layer  corresponds to the physical radio connection over which data is sent from MS  to BSS .","As described above, in GPRS systems the uplink resource release procedure is initiated when the number of remaining data blocks in the data buffer is less than a predetermined value, referred to in the GPRS protocol as the BS_CV_MAX. Following initiation of the countdown procedure, each transmitted data block is assigned a CV equal to the number of remaining data blocks in the data buffer. Network  releases the uplink resource when it receives a data block having a CV equal to zero, denoting that no remaining data blocks are to be transmitted. The GPRS protocol specifies that once the countdown procedure has been initiated, MS  cannot enqueue any new data blocks, i.e., it cannot send any data blocks that were not in the transmission queue at the time the countdown procedure was commenced. In accordance with a preferred embodiment, MS  is provided with an uplink resource release controller (\u201ccontroller\u201d)  that intelligently determines whether release of the uplink resource will cause an unacceptable delay, and, if it so determines, prevents initiation of the countdown procedure that terminates in resource release. Controller  is provided with appropriate logic for making the resource release determination based on various inputs, which may include application requirements, data flow rates, transmission rates, data buffer states and estimated resource allocation times. Exemplary application requirements may include implied human behavior (e.g., pressing a button\/silence suppression, or voice activity), or be based on parameters passed while establishing a session or buffer states. The operation of controller  will be discussed in further detail below in connection with the  flowchart.","While controller  is depicted herein as a software layer which sits between RTP\/UDI\/IP  and LLC , those skilled in the art will recognize that controller  may be alternatively implemented in any number of forms, including without limitation) as an ASIC or other integrated circuit. It should be further recognized that the functional components of controller  may alternatively be integrated into data application  or into one or more layers of the protocol stack.",{"@attributes":{"id":"p-0023","num":"0022"},"figref":["FIG. 5","FIG. 5"],"b":["302","304"]},"In the initial step , MS  requests and is granted an upstream resource. The procedure by which MS  requests and BSS  grants an uplink resource (alternatively referred to herein as the resource allocation procedure) is defined in the relevant (e.g., GPRS) protocol.","Once the uplink resource has been granted, MS  can begin to transmit data that was generated by data application , step . During active transmission periods (after the uplink resource has been allocated and prior to initiation of the countdown procedure), data generated by data application  is assembled into blocks and enqueued for transmission in data buffer . RLC\/MAC layer  manages transmission of data to BSS  via physical layer . Thus, data blocks are transmitted from the top of the queue and newly generated data blocks are added to the bottom of the queue. However, in the event that data application  stops generating new data, or if the rate at which data blocks are transmitted to the network substantially exceeds the rate at which new data blocks are added to data buffer , data buffer  will start to empty, as described below.","In step , controller  determines whether data buffer  is emptying, i.e., whether the number of remaining data blocks is approaching a number that will trigger initiation of the countdown process. This step may involve real-time monitoring of data buffer state information (i.e., whether data blocks are being transmitted and the number of data blocks currently enqueued). Alternatively and\/or additionally, controller  may detect or predict emptying of data buffer  using measurements or estimates of data flow rates generated by data application  and rates of transmission of data blocks from data buffer . Because the countdown process, once initiated, will invariably lead to release of the uplink resource, it is critical that controller  detects emptying of data buffer  and takes suitable action for preventing resource release (if deemed appropriate in step , described below) prior to setting of the CV and commencement of the countdown process. If controller  determines that data buffer  is not emptying, then process returns to transmitting data blocks, step . Those skilled in the art will recognize that step  will be performed concurrently (either on a continuous or periodic basis) with the transmission step .","If controller  determines that data buffer  is emptying, then in step , it determines if the release of the uplink resource should be allowed or prevented. The basis for this determination is whether release of the resource (and the consequent necessity of reallocating the uplink resource to MS ) will result in unacceptable delays in the delivery of data generated by data application  to the recipient. Controller  analyzes various inputs provided by MS  and\/or BSS  and the associated network  to make its determination. These inputs may include, without limitation, data transfer rates required by the data application , present data flow and transmission rates, application state data, delay times associated with upstream resource allocation (provided or measured by either MS  or BSS ), the availability of extended uplink release or other protocols, and an indication as to whether a downlink resource has been allocated to MS .","One factor which may be used by controller  to determine if the uplink resource release should be prevented is whether a natural break in the flow of data generated has occurred. A natural break is a temporary or permanent cessation of data flow associated with certain events or conditions that occur during normal operation of data application . For example, a natural break may occur in a VoIP application when the MS  user has stopped speaking. Data application  may alert controller  that a natural break has occurred by setting an appropriate flag; alternatively controller  may monitor other aspects of data application  operation to detect natural breaks. In some situations and in certain data applications, a natural break will have an associated duration sufficient to permit release of the uplink resource without adversely affecting the performance of data application .","Controller  is configured with logic that encodes a set of rules for intelligently determining from analysis of its inputs whether release of the uplink resource should be allowed or prevented. Implementations of these rules will be apparent to those skilled in the art in view of the considerations of data application  and network  performance. Generally speaking, uplink resource release should be inhibited where necessary to meet data application  data transfer requirements; however, excessive inhibition of uplink resource release will reduce the availability of the shared resource to other mobile stations, thereby adversely affecting overall network performance.","If controller  determines that release of the uplink resource should be allowed, it refrains from taking action to inhibit release, and data buffer  will empty to the point where the countdown procedure has been initiated, step . If, after the countdown procedure has been initiated, additional data is generated by data application , MS  must request and be granted the uplink resource (following resource release) before the additional data can be transmitted to BSS , per step .","In the event that controller  determines that uplink resource release should be prevented, it takes appropriate action to prevent release, step . In accordance with one implementation, controller  inhibits release by adjusting the data flow into data buffer  in order to stop it from emptying to the point of countdown initiation. This task may be accomplished, for example, by writing (or causing the writing of) dummy blocks to data buffer . Dummy blocks do not contain any useful information and may be disregarded by network  and\/or the recipient. However, their presence within the data buffer  queue prevents data buffer  from emptying to the point where the countdown procedure is initiated, thereby preventing release of the resource.","Those skilled in the art will recognize that various alternative methods may be available for preventing uplink resource release. The dummy block insertion method outlined above is presented by way of an illustrative example, and the invention should not be construed as being limited to that or any other method as the sole means for inhibiting release. Another example for preventing uplink resource release is MS  skipping allocated uplink slots (i.e., not sending a few allocated blocks) to throttle the data flow into network  and to allow buffer  to fill up a little.","After adjusting the data flow to data buffer  or taking another action which inhibits release of the uplink resource, the process loops back to the transmitting step . It should be recognized that although the  flowchart depicts steps - as occurring in sequence, certain of the steps may be performed concurrently, as discussed above in connection with steps  and .","It will be recognized by those skilled in the art that, while the invention has been described above in terms of preferred embodiments, it is not limited thereto. Various features and aspects of the above invention may be used individually or jointly. Further, although the invention has been described in the context of its implementation in a particular environment and for particular applications, those skilled in the art will recognize that its usefulness is not limited thereto and that the present invention can be beneficially utilized in any number of environments and implementations."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE FIGURES","p":["In the accompanying drawings:",{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 5"}]},"DETDESC":[{},{}]}
