---
title: Identifying user segment assignments
abstract: Disclosed are various embodiments for identifying segment assignments of users within segments of interest. Historical user behavior associated with users for whom segment assignments within segments of interest is analyzed. Probabilities associating possible segment assignments within a segment of interest with user behavior are calculated. User behavior of anonymous users and/or users for which segment assignments are unknown can be determined along with a confidence score.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08838522&OS=08838522&RS=08838522
owner: Amazon Technologies, Inc.
number: 08838522
owner_city: Reno
owner_country: US
publication_date: 20110310
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND","DETAILED DESCRIPTION"],"p":["Operators of electronic commerce systems, advertising networks, content delivery networks, or any system in which content is delivered may wish to know more information about users. Some users, particularly in the context of the Internet in which users are communicating with a system via a browser, mobile application, or the like, can be effectively anonymous to the operator of the system. That is to say, the user may not be associated with a user account or identity for which demographic information is known. Accordingly, in such a scenario, targeting users with relevant content can be difficult, as the system does not possess any demographic or other information on which to base targeting decisions.","Embodiments of the present disclosure are directed to determining demographic information about users of a content server. A content server can include, but is not limited to a search engine, electronic commerce system in which users can search, browse, and\/or purchase products, or any other system in which users interact with one or more computing devices over a network. An operator of a content server may desire to target users with content that is based at least upon the various demographic segments to which the user belongs. However demographic segment assignments pertaining to some users may be unknown, making targeting based on these segment assignments difficult. Additionally, other users may be effectively anonymous in that the user is not associated with a user account or other tracking mechanisms, which can also render content targeting difficult. Therefore, embodiments of the disclosure can associate segment assignments with such users along with a confidence score upon which improved content targeting can be accomplished.","With reference to , shown is a networked environment  according to various embodiments. The depicted networked environment  illustrates one example of an implementation of a system according to an embodiment of the disclosure. It should be appreciated that embodiments of the disclosure can be implemented in various ways. The networked environment  includes at least one computing device  and one or more clients  in communication over a network . The network  includes, for example, the Internet, intranets, extranets, wide area networks (WANs), local area networks (LANs), wired networks, wireless networks, or other suitable networks, etc., or any combination of two or more such networks.","The computing device  may comprise, for example, a server computer or any other system providing computing capability. Alternatively, a plurality of computing devices  may be employed that are arranged, for example, in one or more server banks or computer banks or other arrangements. For example, a plurality of computing devices  together may comprise a cloud computing resource, a grid computing resource, and\/or any other distributed computing arrangement. Such computing devices  may be located in a single installation or may be distributed among many different geographical locations. For purposes of convenience, the computing device  is referred to herein in the singular. Even though the computing device is referred to in the singular, it is understood that a plurality of computing devices  may be employed in the various arrangements as described above.","Various applications and\/or other functionality may be executed in the computing device  according to various embodiments. Also, various data is stored in a data store  that is accessible to the computing device . The data store  may be representative of a plurality of data stores as can be appreciated. The data stored in the data store , for example, is associated with the operation of the various applications and\/or functional entities described below.","The components executed on the computing device , for example, include a content server , a user behavior application , and other applications, services, processes, systems, engines, or functionality not discussed in detail herein. The content server  can facilitate delivery of content, such as network pages (e.g., HTML pages), multimedia content, and any other content over the network  to one or more clients . In one embodiment, the content server  can include a web server configured to deliver web pages to a browser executed on a client . The content server , in one embodiment, can also receive data from a browser executed a client , which can include, but is not limited to, browser requests to retrieve data served up by the content server , and other data as can be appreciated. The content server  can also include logic that dynamically constructs web pages from data retrieved from the data store  and\/or other sources. To this end, the content server  can communicate with other systems, services, application programming interfaces, etc., to facilitate the collection of data from users as well as the dynamic generation of content.","The content server  can facilitate various types of sites that deliver content to users. In one embodiment, the content server  can facilitate a search engine, electronic commerce site, and other forms of sites that deliver content to users over a network  as can be appreciated. To this end, the content server can transmit network pages or other user interface elements that can be rendered on a client . Similarly, the content server can receive data submitted by a user via user interface elements rendered on a client . The specific functionality and various implementations of a content server  should be appreciated by a person of ordinary skill in the art, and is not discussed in further detail herein. The various systems and methods that support the identification of user demographic information can be configured to work in conjunction with a content server  and\/or any system or application that transmits content to and\/or receives content from a client .","The user behavior application  is executed to identify user information based at least upon user behavior with regard to interactions with the content server . In some embodiments, the user behavior application  can, based upon the user's behavior in interactions with the content server , calculate a probability that an assumption regarding user information, such as a demographic segment assignment, is correct. In other words, the user behavior application  can determine with some degree of probability the correctness of an assignment of a user to a demographic segment, such as identification of the user as a male. Such user behavior can include search terms and\/or other data submitted via a client  to the content server . The user behavior can also include traffic received from a specific hyperlink that directs requests for content to the content server .","Accordingly, the user behavior application  can execute a segment assignment engine  that can analyze historical user behavior of users for which demographic segment assignments or other types of segment assignments are known. By analyzing historical user behavior data of users with known segment assignments, the segment assignment engine  can calculate a probability associated with a particular user behavior and a segment assignment. For example, the segment assignment engine  can identify users of the content server  for which a segment assignment corresponding to the user's sex is known. Then, for a particular historical user behavior, such as a search term submitted to the content server , the segment assignment engine  can calculate a percentage of male users and female users exhibiting the user behavior. Other examples of the calculation of a probability that a user behavior can be associated with a segment assignment are described in more detail below.","The user behavior application  can also execute a session engine  that can analyze the user behavior associated with users for which segment assignments are unknown. The session engine  can generate a confidence score and\/or probability that the user can be associated with a segment assignment based at least upon the segment assignments of other users exhibiting the same or similar historical behavior. The functionality of the session engine  is described in further detail below.","In some embodiments, the functionality of the user behavior application , the segment assignment engine  and\/or session engine  may be included in the content server . In other embodiments, the user behavior application , segment assignment engine , and\/or session engine  may be executed as a sub-module of the content server , or as a separate, standalone application, web service, etc. It should be understood that the depicted embodiment of a content server , the user behavior application , segment assignment engine  and\/or session engine  is but one example.","Also, the computing device  can include at least one data store , which may comprise data and applications operable to provide access to the data stored therein. It should be appreciated that the data store  may or may not reside within a computing device , but may be accessible via a network to the computing device . The data store  can include historical behavior data , which can include various information about user behavior logged by the content server  and associated with users. For example, the historical behavior data  can include search terms entered by users. As another example, historical behavior data can include traffic generated by a particular hyperlink as well as the identity of users accessing various hyperlinks. Historical behavior data  can also include response rates associated with e-mail campaigns and the identity of users to respond to various campaigns and other user behavior data that can be logged in connection with a user's interactions with a content server . The historical behavior data  can be indexed by users, by a specific user behavior for which data is collected, and in other ways.","Segment probability data  can include probabilities calculated by the segment assignment engine  that express probabilities that a segment assignment in a segment of interest can be associated with a particular user behavior based at least upon the historical user behavior of users for which a segment assignment in a segment of interest is known. Accordingly, the session engine  can determine a segment assignment along with a confidence score for the assignment for users of the content server  with unknown assignments within a particular segment of interest based on the segment probability data .","The data store  can also include user data , which can store information about users of a content server . As one example, if a content server  facilitates an electronic commerce site, user data  can include, for example, demographic information about a user. In other words, user data  can include segment assignments into various demographic segments of interest associated with a user. In the non-limiting example of an electronic commerce site, user data  can also include shipping addresses, telephone numbers, payment information, e-mail addresses, purchasing history, a search history, product browsing history, affinity groups with which the user is affiliated, and other data related to users. In the example of a search engine facilitated by the content server , user data  can include contact information, a search history, and other data as can be appreciated.","Accordingly, the content server  can facilitate targeting of content to users based upon their assignment to various segments of interest tracked by their user data . For example, an advertiser may wish to target users of a particular segment of interest such as age range, sex, etc. Accordingly, the content server  can facilitate presentation of content to users with particular segment assignments in one or more segments of interest when these users are interacting with the content server . However, in some embodiments, data regarding segment assignments of some users may not be known for some users for which user data  is stored. Additionally, segment assignments for anonymous users (e.g., users who have not authenticated themselves to the content server  and\/or users who are not associated with a user account) may also be unknown.","The data store  can also include session data , which can track user behavior in one or more sessions of interactions with the content server . As one example, session data  can track behavior of a user by associating the user's session with a session identifier. Session data  can include search terms or other textual and multimedia data submitted by the user to the content server . Session data  can also include URLs followed the user, products viewed in an electronic commerce site, locations viewed on a map site, activity in a social networking site, and other user activity and behavior as can be appreciated. In one embodiment, the content server  can set a session cookie in a browser on a client  associated with the user to track user behavior of the anonymous user. In another embodiment, the content server  can assign a session identifier that is embedded in uniform resource locators (URLs) provided to a browser on a client  associated with the user. Other variations of the various ways in which session data  should be appreciated. It should be appreciated that the depicted data store  and the table structure shown therein is but one example given for ease of depiction and explanation of various embodiments of this disclosure.","The client  is representative of one or more client devices that may be coupled to the network . The client  may comprise, for example, a processor-based system such as a computer system and\/or mobile device. Such computer system may be embodied in the form of a desktop computer, a laptop computer, a personal digital assistant, a cellular telephone, set-top box, music players, tablet computer systems, game consoles, or other devices with like capability.","The client may be configured to execute various applications such as a browser  and\/or other applications. The browser  may be executed in a client , for example, to access and render network pages, such as web pages, or other network content served up by the content server  and\/or other systems. A client can also be configured to execute a special purpose application, such as a mobile application , which may include client side code that renders a user interface that includes data provided by the content server .","Next, a general description of the operation of the various components of the networked environment  is provided. As referenced above, the user behavior application  can calculate a probability that users exhibiting certain behaviors in their interactions with a content server  can be assigned to various segments of interest by analyzing historical behavior data  associated with users for which segment assignments are known, or \u201cknown users.\u201d Accordingly, as other users interact with the content server , the user behavior application  can generate segment assignments associated with a confidence score for anonymous users or other users for which segment assignments are unknown.","Therefore, the segment assignment engine  can calculate these probabilities referenced above. The segment assignment engine  can comprise an offline process that analyzes historical behavior data  of known users. As noted above, historical behavior data  can include search terms submitted by users, hyperlinks followed by users, and any other data submitted or content server  traffic generated by users of the content server . Accordingly, for a given user behavior, such as a search term submitted by various known users, the segment assignment engine  can calculate a percentage of known users with their known segment assignments in various segments of interest that exhibit the user behavior.","As one example, assume that a given user behavior stored in the historical user behavior  in the data store  is a search term such as \u201ctelevision\u201d that is submitted to a search engine facilitated by the content server . Assume also that the user data  associated with at least a subset of users who have submitted the search term are users for which segment assignments in various segments of interest are known. As one example, assume that a segment of interest is the sex associated with the user. Accordingly, the segment assignment engine  can calculate a percentage of male and female users from among known users who have submitted the search term. In one embodiment, assuming an acceptable sample size, the segment assignment engine  can determine that these calculated percentages that are associated with each segment assignment can be extrapolated over an entire user population. In other words, if, assuming for the sake of illustration, that the segment assignment engine  determines that 90% of known users submitting the search term are male and 10% are female, the segment assignment engine  can store these percentages as segment probability data  for the user behavior, which is submission of the search term \u201ctelevision,\u201d and the segment of interest, which is the sex of the user.","Continuing the above example, assume that an anonymous user or a user for which a segment assignment for the segment of interest (sex) is unknown interacts with the content server  and exhibits a single user behavior, and that this user behavior is entry of the search term \u201ctelevision.\u201d The session engine  can track the session of the user, and if the session engine  detects that the user enters the search term \u201ctelevision,\u201d it can determine that there is a 90% probability that the user should be associated with a segment assignment of \u201cmale\u201d in the segment of interest \u201csex.\u201d Additionally, the session engine  can calculate a confidence score associated with such an assignment based at least upon the probability associated with the detected user behavior. Such a confidence score can also consider other factors, such as a sample size of user behaviors considered in a session. Accordingly, the session engine  can inform decisions to target the user based upon demographic targeting preferences with content based on this probability. For example, if an advertiser desires to target a male demographic with advertising content, the advertiser can do so with a greater likelihood that the user is being correctly targeted.","Additionally, the probability of a user being associated with a given segment assignment can be updated by the session engine  as the user exhibits additional behavior in interactions with the content server . As an example, if the anonymous user in the above example exhibits another user behavior for which the segment assignment engine  has determined segment probability data , the session engine  can recalculate a probability associated with a user's segment assignment. In other words, a probability that a user is correctly associated with one or more segment assignments in one or more segments of interest can be updated as additional observations about the behavior of the user are made by the session engine , observations of behavior for which segment probability data  has been determined by the segment assignment engine  about a plurality of users for which segment assignments in various segments of interest are known.","In some embodiments, the session engine  can take into account the previous N observations of user behavior associated with a user in calculating the probability and\/or confidence score associated with a segment assignment determination. In this way, the session engine  can maintain a moving time window of user behavior observations. As one example, the session engine  can observe multiple search terms entered by a user in a session and calculate transition probabilities emanating from the various segment assignments that are associated with the entered search terms. Accordingly, the session engine  can calculate a probability that an anonymous user is associated with any one of the possible segment assignments based upon the observed behavior of the user.","Additionally, the session engine  can calculate multiple segment assignments with associated probabilities and\/or confidence scores. For example, the session engine  can determine a probability and\/or confidence score that a user should be assigned to segments of interest that can include sex, income, race, and any other segment of interest based upon a single observed user behavior. Embodiments of the disclosure can employ various methods of statistical inference, which can include, but are not limited to Bayesian inference, Hidden Markov Models, and other mathematical and\/or statistical models from which an inference and\/or probability is determined based upon one or more observations about the behavior of the user.","Referring next to , shown is a flowchart that provides one example of the operation of a portion of the segment assignment engine  executed by the user behavior application  according to various embodiments. It is understood that the flowchart of  provides merely an example of the many different types of functional arrangements that may be employed to implement the operation of the portion of the segment assignment engine  as described herein. As an alternative, the flowchart of  may be viewed as depicting an example of steps of a method implemented in the computing device  () according to one or more embodiments.","As noted above, the segment assignment engine  can include a process that runs against a corpus of historical behavior data  that is associated with users having known segment assignments in one or more segments of interest. Accordingly, beginning with box , the segment assignment engine  can identify a segment of interest for which segment probability data  is to be determined. As noted above, segment probability data  can include one or more categories in which users can be associated with a segment assignment. These categories can include demographic categories, group memberships, or any categories in which users can be grouped. In box , the segment assignment engine  can identify users in user data  for whom a segment assignment in the segment of interest are known.","In box , the segment assignment engine  can identify those users in the segment of interest who are associated with historical behavior data  corresponding to the behavior of interest. As noted above, a behavior of interest can include a search performed in a search engine, electronic commerce site, etc., as well as other user behavior data that can be tracked in a content server  (). In box , the segment assignment engine  can calculate a percentage of users in the various segment assignments in the segment of interest. Accordingly, in box , these percentages can be stored associated with the behavior interest as segment probability data . These percentages can be equated to a probability that an anonymous user or a user for which a segment assignment in the segment of interest is unknown that exhibits the same user behavior falls within a particular segment assignment in the segment of interest.","Reference is now made to , which is a flowchart that provides one example of the operation of a portion of the session engine  executed by the user behavior application  according to various embodiments. It is understood that the flowchart of  provides merely an example of the many different types of functional arrangements that may be employed to implement the operation of the portion of the session engine  as described herein. As an alternative, the flowchart of  may be viewed as depicting an example of steps of a method implemented in the computing device  () according to one or more embodiments.","As noted above, the session engine  can generate segment assignments associated with a confidence score for anonymous user or users for which segment assignments in a segment of interest are unknown. Accordingly, in box , the session engine  can establish a session for a user. In some embodiments, a session can be established for an anonymous user by establishing a session cookie in a browser on a client. In other embodiments, a session can be established by passing a session identifier as a part of a URL or other data passed between a client and the content server . Other variations of session tracking should be appreciated. It should also be appreciated that in some embodiments, establishment of a session may be bypassed, and the session engine  can determine segment assignments of a user by observing a single user behavior.","In box , the session engine  can observe user behavior in the session. In one embodiment, the session engine  can track data submitted to the content server by the user (e.g. search terms, form data, etc.), hyperlinks clicked by the user, or other user behavior data. In box , the session engine  can identify user behavior in the session that corresponds to historical behavior data . In box , the session engine  can identify a segment of interest that is associated with the identified historical behavior data in the segment probability data . In box , the session engine  can generate a segment assignment with a confidence score for the user. In one embodiment, the session engine  can generate a confidence score and\/or probability associated with each possible segment assignment within a given segment of interest. In other embodiments, the session engine  can identify the most likely segment assignment. In box , the session engine  can determine if there are additional user behavior observations for which a segment assignment confidence score can be generated.","With reference to , shown is a schematic block diagram of the computing device  according to an embodiment of the present disclosure. The computing device  includes at least one processor circuit, for example, having a processor  and a memory , both of which are coupled to a local interface . To this end, the computing device  may comprise, for example, at least one server computer or like device. The local interface  may comprise, for example, a data bus with an accompanying address\/control bus or other bus structure as can be appreciated.","Stored in the memory  are both data and several components that are executable by the processor . In particular, stored in the memory  and executable by the processor  are the content server , user behavior application , and potentially other applications. Also stored in the memory  may be a data store  and other data. In addition, an operating system may be stored in the memory  and executable by the processor .","It is understood that there may be other applications that are stored in the memory  and are executable by the processors  as can be appreciated. Where any component discussed herein is implemented in the form of software, any one of a number of programming languages may be employed such as, for example, C, C++, C#, Objective C, Java, Javascript, Perl, PHP, Visual Basic, Python, Ruby, Delphi, Flash, or other programming languages.","A number of software components are stored in the memory  and are executable by the processor . In this respect, the term \u201cexecutable\u201d means a program file that is in a form that can ultimately be run by the processor . Examples of executable programs may be, for example, a compiled program that can be translated into machine code in a format that can be loaded into a random access portion of the memory  and run by the processor , source code that may be expressed in proper format such as object code that is capable of being loaded into a random access portion of the memory  and executed by the processor , or source code that may be interpreted by another executable program to generate instructions in a random access portion of the memory  to be executed by the processor , etc. An executable program may be stored in any portion or component of the memory  including, for example, random access memory (RAM), read-only memory (ROM), hard drive, solid-state drive, USB flash drive, memory card, optical disc such as compact disc (CD) or digital versatile disc (DVD), floppy disk, magnetic tape, or other memory components.","The memory  is defined herein as including both volatile and nonvolatile memory and data storage components. Volatile components are those that do not retain data values upon loss of power. Nonvolatile components are those that retain data upon a loss of power. Thus, the memory  may comprise, for example, random access memory (RAM), read-only memory (ROM), hard disk drives, solid-state drives, USB flash drives, memory cards accessed via a memory card reader, floppy disks accessed via an associated floppy disk drive, optical discs accessed via an optical disc drive, magnetic tapes accessed via an appropriate tape drive, and\/or other memory components, or a combination of any two or more of these memory components. In addition, the RAM may comprise, for example, static random access memory (SRAM), dynamic random access memory (DRAM), or magnetic random access memory (MRAM) and other such devices. The ROM may comprise, for example, a programmable read-only memory (PROM), an erasable programmable read-only memory (EPROM), an electrically erasable programmable read-only memory (EEPROM), or other like memory device.","Also, the processor  may represent multiple processors  and the memory  may represent multiple memories  that operate in parallel processing circuits, respectively. In such a case, the local interface  may be an appropriate network  () that facilitates communication between any two of the multiple processors , between any processor  and any of the memories , or between any two of the memories , etc. The local interface  may comprise additional systems designed to coordinate this communication, including, for example, performing load balancing. The processor  may be of electrical or of some other available construction.","Although the content server , user behavior application , and other various systems described herein may be embodied in software or code executed by general purpose hardware as discussed above, as an alternative the same may also be embodied in dedicated hardware or a combination of software\/general purpose hardware and dedicated hardware. If embodied in dedicated hardware, each can be implemented as a circuit or state machine that employs any one of or a combination of a number of technologies. These technologies may include, but are not limited to, discrete logic circuits having logic gates for implementing various logic functions upon an application of one or more data signals, application specific integrated circuits having appropriate logic gates, or other components, etc. Such technologies are generally well known by those skilled in the art and, consequently, are not described in detail herein.","The flowcharts of  show the functionality and operation of an implementation of portions of the user behavior application . If embodied in software, each block may represent a module, segment, or portion of code that comprises program instructions to implement the specified logical function(s). The program instructions may be embodied in the form of source code that comprises human-readable statements written in a programming language or machine code that comprises numerical instructions recognizable by a suitable execution system such as a processor  in a computer system or other system. The machine code may be converted from the source code, etc. If embodied in hardware, each block may represent a circuit or a number of interconnected circuits to implement the specified logical function(s).","Although the flowcharts of  show a specific order of execution, it is understood that the order of execution may differ from that which is depicted. For example, the order of execution of two or more blocks may be scrambled relative to the order shown. Also, two or more blocks shown in succession in  may be executed concurrently or with partial concurrence. Further, in some embodiments, one or more of the blocks shown in  may be skipped or omitted. In addition, any number of counters, state variables, warning semaphores, or messages might be added to the logical flow described herein, for purposes of enhanced utility, accounting, performance measurement, or providing troubleshooting aids, etc. It is understood that all such variations are within the scope of the present disclosure.","Also, any logic or application described herein, including the content server  and\/or user behavior application , that comprises software or code can be embodied in any non-transitory computer-readable medium for use by or in connection with an instruction execution system such as, for example, a processor  in a computer system or other system. In this sense, the logic may comprise, for example, statements including instructions and declarations that can be fetched from the computer-readable medium and executed by the instruction execution system. In the context of the present disclosure, a \u201ccomputer-readable medium\u201d can be any medium that can contain, store, or maintain the logic or application described herein for use by or in connection with the instruction execution system. The computer-readable medium can comprise any one of many physical media such as, for example, magnetic, optical, or semiconductor media. More specific examples of a suitable computer-readable medium would include, but are not limited to, magnetic tapes, magnetic floppy diskettes, magnetic hard drives, memory cards, solid-state drives, USB flash drives, or optical discs. Also, the computer-readable medium may be a random access memory (RAM) including, for example, static random access memory (SRAM) and dynamic random access memory (DRAM), or magnetic random access memory (MRAM). In addition, the computer-readable medium may be a read-only memory (ROM), a programmable read-only memory (PROM), an erasable programmable read-only memory (EPROM), an electrically erasable programmable read-only memory (EEPROM), or other type of memory device.","It should be emphasized that the above-described embodiments of the present disclosure are merely possible examples of implementations set forth for a clear understanding of the principles of the disclosure. Many variations and modifications may be made to the above-described embodiment(s) without departing substantially from the spirit and principles of the disclosure. All such modifications and variations are intended to be included herein within the scope of this disclosure and protected by the following claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Many aspects of the present disclosure can be better understood with reference to the following drawings. The components in the drawings are not necessarily to scale, emphasis instead being placed upon clearly illustrating the principles of the disclosure. Moreover, in the drawings, like reference numerals designate corresponding parts throughout the several views.",{"@attributes":{"id":"p-0004","num":"0003"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0005","num":"0004"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0006","num":"0005"},"figref":["FIG. 3","FIG. 1"]},{"@attributes":{"id":"p-0007","num":"0006"},"figref":["FIG. 4","FIG. 1"]}]},"DETDESC":[{},{}]}
