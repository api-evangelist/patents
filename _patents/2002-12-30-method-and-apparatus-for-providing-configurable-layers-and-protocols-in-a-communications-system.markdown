---
title: Method and apparatus for providing configurable layers and protocols in a communications system
abstract: The layers and protocols of an air interface layering architecture are designed to be modular and can be modified and upgraded to support new features, perform complex tasks, and implement additional functionality. Prior to commencement of data communication between a first entity (e.g., an access terminal) and a second entity (e.g., a radio network), a set of layers and/or protocols is selected for negotiation. For each selected layer and protocol (i.e., each attribute), a list of attribute values considered acceptable to the first entity is determined. The selected attributes and their associated attribute values are sent from the first entity and, in response, a list of processed attributes and their associated lists of processed attribute values are received. Each list of processed attribute values includes attribute values considered acceptable to the second entity. The layers and protocols in the first entity are then configured in accordance with the received list of processed attributes and their associated processed attribute values. Other features related to configurable layers and protocols are also provided.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07106779&OS=07106779&RS=07106779
owner: Qualcomm, Inc.
number: 07106779
owner_city: San Diego
owner_country: US
publication_date: 20021230
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"p":["The present application is a division of U.S. patent application Ser. No. 09\/499,196 now U.S. Pat. No. 6,539,030 B1, filed Feb. 7, 2000, and issued Mar. 25, 2003. U.S. Pat. No. 6,539,030 B1 is hereby incorporated by reference.","I. Field of the Invention","The present invention relates to wireless communication. More particularly, the present invention relates to method and apparatus for providing configurable layers and protocols in a communications system.","II. Description of the Related Art","The use of code division multiple access (CDMA) modulation techniques is one of several techniques for facilitating communication in which a large number of system users are present. Although other multiple access communication system techniques are known in the art, such as time division multiple access (e.g., TDMA and GSM), frequency division multiple access (FDMA), and AM modulation schemes such as amplitude companded single sideband (ACSSB), the spread spectrum modulation techniques of CDMA have significant advantages over these other modulation techniques for multiple access communications systems. The use of CDMA techniques in a multiple access communications system is disclosed in U.S. Pat. No. 4,901,307, entitled \u201cSPREAD SPECTRUM MULTIPLE ACCESS COMMUNICATION SYSTEM USING SATELLITE OR TERRESTRIAL REPEATERS,\u201d issued Feb. 13, 1990, and U.S. Pat. No. 5,103,459, entitled \u201cSYSTEM AND METHOD FOR GENERATING SIGNAL WAVEFORMS IN A CDMA CELLULAR TELEPHONE SYSTEM,\u201d issued Apr. 7, 1992, both assigned to the assignee of the present invention and incorporated herein by reference.","CDMA systems are typically designed to conform to one or more particular CDMA standards. Examples of such CDMA standards include the \u201cTIA\/EIA\/IS-95-A Mobile Station-Base Station Compatibility Standard for Dual-Mode Wideband Spread Spectrum Cellular System,\u201d the \u201cTIA\/EIA\/IS-95-B Mobile Station-Base Station Compatibility Standard for Dual-Mode Wideband Spread Spectrum Cellular System,\u201d the TIA\/EIA\/IS-98-A, -B, and -C standards entitled \u201cRecommended Minimum Performance Standard for Dual-Mode Spread Spectrum Cellular and PCS Mobile Stations,\u201d and \u201cThe cdma2000 ITU-R RTT Candidate Submission.\u201d New CDMA standards are continually proposed and adopted for use.","Each CDMA standard defines an air interface protocol used by that standard to support communication between communicating devices (i.e., between an access terminal and a radio network). The air interface protocol defines the mechanisms by which particular functions are to be performed, and may encompass a number of protocols that enable implementation of various functions.","Conventionally, each CDMA standard adopts a particular air interface protocol that performs a number of functions and is identified by a unique revision number. New functions can be implemented by defining new attributes, messages, and state machines, usually within the framework of the existing air interface protocol. A new air interface protocol is then defined that includes the new attributes, messages, and state machines along with other previously defined attributes, messages, and state machines. Similarly, if an existing protocol is modified or updated, a new air interface protocol is defined and a new revision is assigned.","Conventionally, each communicating device (e.g., each access terminal and radio network) is designed to support one or more complete revisions of the air interface protocol. Because the entire air interface protocol is defined by a single revision, each communicating device is required to support all required functions in a particular revision if it wishes to support any function in that revision. The communicating devices are typically designed to support one or more revisions (e.g., a range of revisions). Communication between the access terminal and radio network is then achieved using any one of the commonly supported air interface protocol revisions.","The desire for increased wireless functionality and capacity has resulted in ever more complex air interface protocols. In particular, the air interface protocols have evolved to perform numerous complex functions, including voice communication, data transmission, and so on.","The conventional method of defining a new revision for each new air interface protocol was adequate for more \u201csimple\u201d protocols in the original CDMA system design. As the number of functions and their complexity increase, the conventional method is cumbersome and inadequate. The conventional method also does not easily support the implementation of additional functions in an existing air interface protocol or implementation of a subset of the functions in the air interface protocol.","Thus, an air interface protocol structure that efficiently supports implementation of a variety of functions is highly desirable.","The present invention provides techniques used to implement configurable layers and protocols in a communications system. The layers and protocols of an air interface layering architecture are modular in design and can be modified and upgraded to support new features, perform complex tasks, and implement additional functionality. An access terminal and a radio network can communicate using the layers and protocols commonly supported by both, and this determination can be made at the time a communications session is opened. A basic set of layers and protocols supported by the access terminal and radio network ensures a minimum level of compatibility.","An embodiment of the invention provides a method for configuring a layer or protocol prior to commencement of data communication between a first entity (e.g., an access terminal) and a second entity (e.g., a data network). In accordance with the method, a set of one or more layers and one or more protocols is selected for negotiation, with each selected layer and protocol corresponding to an attribute to be negotiated between the first entity and the second entity. For each selected attribute, a list of selected attribute values is determined, with the list including one or more attribute values considered acceptable to the first entity. A list of selected attributes and their associated attribute values are sent from the first entity and, in response, a list of processed attributes and their associated lists of processed attribute values are received. Each list of processed attribute values includes one or more attribute values considered acceptable to the second entity. The layers and protocols in the first entity are then configured in accordance with the received list of processed attributes and their associated processed attribute values. In an embodiment, each processed attribute is associated with one processed attribute value. In an embodiment, the layers and protocols in the first entity are configured with their default values if corresponding processed attribute values are not received at the first entity","The first or second entity, or both, can implement a state machine having a number of states including: (1) an inactive state indicative of inactivity prior to a session negotiation, (2) an initiated state indicative of the session negotiation over the list of selected attributes, and (3) an open state indicative of active communication between the first and second entities. The initiated state can be implemented to include (1) an access terminal initiated state indicative of the session negotiation over attributes selected by the access terminal, and (2) a radio network initiated state indicative of the session negotiation over attributes selected by the radio network.","A communications session between the first and second entities can be established by sending an open-request message from the first entity and receiving an open-response message that indicates an acceptance or rejection of the request. The open-request and open-response messages can be sent and received via common communications channels.","The selected attributes and their associated attribute values can be sent via one or more configuration-request messages, and the processed attributes and their associated attribute values can be received via one or more configuration-response messages. The messages can be identified by an entity identifier assigned to the first entity. The elements in each list of selected attribute values can be arranged in an order based on preference of the first entity, and the elements in the received configuration-response messages can be received in an order corresponding to the order of the elements in the configuration-request messages. The configuration information can be sent and received via dedicated communications channels.","The first and second entities can communicate via default layers and protocols prior to completion of the configuration of the negotiated layers and protocols. In one implementation, if the first and second entities both select a set of attributes to be negotiated, the negotiation over the set selected by the first entity is completed prior to negotiation of the set selected by the second entity.","Another embodiment of the invention provides a method for providing configurable layers or protocols, or both, in a communications system. In accordance with the method, a set of default layers and protocols is maintained for communication between a first entity and a second entity. Similarly, a set of zero or more configurable layers and one or more configurable protocols, or a combination thereof, is maintained for communication, with each configurable layer and protocol corresponding to an attribute that can be negotiated between the first and second entities. A set of configuration messages is provided that can be used for sending and receiving configuration information related to each configurable attribute. A state machine is provided to track the operating state of the first entity. The state machine can include the phases and sub-phases described above.","The set of default layers and protocols typically includes a configuration protocol used for sending and receiving messages that support negotiation and configuration of the set of configurable attributes. The configuration messages can be implemented at a session layer of the communications system. Each configuration message can include an entity identifier that identifies the first entity and a transaction identifier that identifies a particular instance of the configuration message.","Yet another embodiment of the invention provides an access terminal in a spread spectrum communications system that includes a controller, an encoder, a modulator, and a transmitter. The controller receives and processes data (e.g., traffic and signaling data), the encoder encodes the processed data, the modulator modulates the encoded data, and the transmitter converts the modulated data into an analog signal suitable for transmission over a transmission medium. The controller implements a set of layers and protocols used to support data transmission, with zero or more of the layers and one or more of the protocols, or a combination thereof, being configurable by the access terminal prior to the data transmission.","The access terminal can further include a receiver, a demodulator, and a decoder. The receiver receives a forward link signal, the demodulator demodulates the received forward link signal, the decoder decodes the demodulated signal, and the controller configures one or more of the configurable layers and protocols based, in part, on the decoded data from the decoder.","The invention further provides method and apparatus suitable for implementing configurable layers and protocols at the radio network.",{"@attributes":{"id":"p-0037","num":"0036"},"figref":["FIG. 1","FIG. 1"],"b":["100","100","110","110","112","112","112","114","116","114","114","112"],"i":["a ","b "]},"As used herein, an access terminal is a device that provides data and\/or voice connectivity to a user. The access terminal may be a stand-alone, self-contained data device such as a cellular telephone, a personal digital assistant (PDA), or other types of stand-alone data devices. The access terminal may also be a unit or module configurable to couple to a computing device such as a desktop or laptop personal computer. As used herein, a radio network is the network equipment (e.g., base station transceiver , base station controller , and visitor location register  in ) that provides data and\/or voice connectivity between a data network (e.g., a packet switched data network such as the Internet) and the access terminals. Connectivity is typically provided at a link layer, as described below.",{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 2","b":["210","250","210","212","214","216","218","220","222","224"]},"At access terminal , the transmitted signal is received by an antenna , routed through a duplexer (D) , and provided to a receiver . Receiver  conditions the signal and provides the conditioned signal to a demodulator . The signal conditioning may include filtering, amplification, frequency conversion, and so on. Demodulator  demodulates the conditioned signal with a demodulation format that is complementary to the modulation format used at radio network . A decoder  receives and decodes the demodulated data with a decoding format that is complementary to the encoding format used at radio network . The decoded data is then provided to a controller .","Traffic and control data transmission from access terminal  to radio network  occurs via a complementary signal path. The traffic data from a buffer (not shown in ) and the control data from controller  is encoded by an encoder , modulated by a modulator , conditioned by a transmitter , routed through duplexer , and transmitted via antenna . At radio network , the transmitted signal is received by antenna , routed through duplexer , conditioned by an RF receiver , demodulated by a demodulator , decoded by a decoder , and provided to control system .","As used herein, a forward transmission refers to a transmission from radio network  to access terminal , and a reverse transmission refers to a transmission from access terminal  to radio terminal . The demodulation and decoding formats on the reverse path can be, and is typically, different from those of the forward path.","As with many communications systems, the communication between the access terminal and radio network is achieved via a set of \u201clayers\u201d that define the modes of operation, the supported features, and the capabilities of the communications system. Each layer consists of one or more layer protocols (or simply protocols) that perform the layer's functionality. Each layer communicates with the layer above it, below it, or both, via defined interfaces.","Originally, a CDMA system that conforms to the IS-95 standard supports one air interface protocol that defines the layers and their protocols. In some opinions, the IS-95 standard does a poor job of separating the protocols by function. The original air interface protocol has been modified numerous times to support additional functionality, such as improved Medium Access Control (MAC) functions. To implement the additional functionality, the necessary changes are made to the affected layers of the original air interface protocol and the modified air interface protocol is identified with a new revision number (and typically defined as a new standard). The modified air interface protocol typically retains most of the structures of the original air interface protocol (e.g., the same data frame structure, the same frame length, and so on), in order to maintain as much compatibility as possible with pre-existing systems and standards.","Once adopted, a new air interface protocol can be practiced by the access terminal and radio network if both are designed to support that air interface protocol. This method for generating new air interface protocols does not allow for easy implementation of new functions and features in the CDMA system.","In accordance with an aspect of the invention, the layers and their protocols are designed in a modular manner such that each layer (or protocol) can be modified or updated without the need to modify the remaining layers (or protocols). This can be achieved, in part, by defining and maintaining the interfaces between the layers such that new functions can be easily supported. The modular design also allows for isolated modification of a layer and its protocol(s).","Each layer includes one or more protocols that perform that layer's functionality. In accordance with another aspect of the invention, the protocol(s) of a particular layer can be individually negotiated between the access terminal and radio network (e.g., at the start of a communications session). The access terminal and radio network can each be designed to support a different set of protocols, but they can still communicate with each other via the protocols that are common to both. The negotiated layers and protocols feature allows for flexibility in the design and use of different versions of an air interface protocol, without the need to explicitly define and maintain each modification as a new air interface protocol, as is conventionally done.",{"@attributes":{"id":"p-0048","num":"0047"},"figref":["FIG. 3","FIG. 3"],"b":["300","300","310","314","316","318","320","322","324"]},"Physical layer  defines the \u201cphysical\u201d characteristics of the transmission between the access terminal and radio network. These physical characteristics may include, for example, the channel structure, the transmission frequency, the output transmit power level, the modulation format, the encoding scheme, and so on, for the forward and reverse links.","MAC layer  defines the procedures used to transmit and receive data over physical layer .","Security layer  provides secured services that may include, for example, authentication and encryption services.","Connection layer  provides air link connection establishment and maintenance services.","Session layer  provides layer and protocol negotiation, protocol configuration, and state maintenance services. Session layer  is described in further detail below.","Stream layer  provides multiplexing of various application streams. In a specific embodiment, the communications system supports four application streams labeled as streams  through . In an embodiment, stream  is used for signaling between the access terminal and radio network, stream  is used for packet data transmission, and streams  and  are used for other applications. As shown in , the signaling stream (e.g., stream ) is supported by a Signaling Link Protocol (SLP)  and a High Data Rate Messaging Protocol (HMP) , and the packet data stream (e.g., stream ) is supported by a Radio Link Protocol (RLP)  and a Point to Point Protocol (PPP) . In an embodiment, a default signaling stream (i.e., a default HMP\/SLP) is used as the default for stream  and a default packet service (i.e., a default PPP\/RLP) is used as the default for stream , if these streams have not been negotiated between the access terminal and radio network.","SLP  provides reliable and \u201cbest-effort\u201d delivery mechanisms for signaling messages, and HMP  provides message transmission services for signaling messages. RLP  provides retransmission and duplicate data detection for a particular defined data stream and one implementation is further described in IS-707. A different implementation of RLP  than that described in IS-707 can be designed and used, and this is within the scope of the present invention. When used in the context of the default packet service, RLP  can be defined to carry PPP packets. PPP  provides framing and multi-protocol support, and is further described by W. Simpson in \u201cThe Point-to-Point Protocol (PPP),\u201d RFC 1661, July 1994. Protocols running on top of PPP  can carry traffic data as well as perform various network administration tasks.",{"@attributes":{"id":"p-0056","num":"0055"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0057","num":"0056"},"figref":["FIGS. 4A through 4C","FIG. 1"],"b":["410","420","440","100","410","420","440"]},{"@attributes":{"id":"p-0058","num":"0057"},"figref":"FIG. 4B","b":["420","420","422","424","426","428","424","432","434","436"]},{"@attributes":{"id":"p-0059","num":"0058"},"figref":"FIG. 4C","b":["440","440","442","444","442","452","454","456","454","462","464","444","472","474","476","474","478"]},"A number of terms are used to describe the invention, and these terms are defined below.","A session refers to a shared operating state between an access terminal and a radio network. The shared operating state stores the protocols and the protocol configurations that have been negotiated and are available for use in communication between the access terminal and radio network. In accordance with an aspect of the invention, the layers, protocols, and protocol configurations can be negotiated between the access terminal and radio network when a session is set up and, in some implementations, can be renegotiated at any time during the session. In an embodiment, other than to set up a session, an access terminal is not able to communicate with a radio network without having an open session (i.e., the access terminal can communicate with the radio network for the express purpose of opening a session).","A connection is a particular state of the air-link in which the access terminal is assigned dedicated air-link resources (e.g., a forward traffic channel, a reverse traffic channel, and associated MAC channels). During any particular session, the access terminal and radio network can open and close a connection multiple times. In an embodiment, other than to set up a session, a connection does not exist without a session.","A stream is a transmission channel used to send information for a particular application. A stream can be defined to carry signaling information, traffic data, other types of data, or a combination thereof. The access terminal and radio network can be, and is typically, designed to support concurrent transmissions of multiple streams. Streams can be used to carry data with different quality of service (QoS) requirements, or other applications.",{"@attributes":{"id":"p-0064","num":"0063"},"figref":["FIG. 5","FIG. 3","FIGS. 4A through 4C","FIG. 5","FIG. 5"],"b":["300","410","300"]},"In the embodiment shown in , MAC layer  includes a control channel MAC protocol A, a forward traffic channel MAC protocol B, an access channel MAC protocol C, and a reverse traffic channel MAC protocol D. Control channel MAC protocol A provides the procedures used by the radio network to transmit, and the access terminal to receive, control channel . Forward traffic channel MAC protocol B provides the procedures used by the radio network to transmit, and the access terminal to receive, forward traffic channel . Access channel MAC protocol C provides the procedures used by the access terminal to transmit, and the radio network to receive, access channel . And reverse traffic channel MAC protocol D provides the procedures used by the access terminal to transmit, and the radio network to receive, reverse traffic channel .","Security layer  includes zero or more security protocols designed to protect against theft of the signal transmissions. In an embodiment, security layer  includes a basic security protocol (not shown in ) that protects against theft-of-service and theft-of-identity. Sensitive data communication can typically be protected using end-to-end authentication and encryption, and additional security at security layer  is typically not needed. However, interfaces are provided to allow various security protocols to be added, as needed.","Connection layer  includes an air-link management protocol A, an initialization state protocol B, an idle state protocol C, a connected state protocol D, an idle state supervision protocol E, a connected state supervision protocol F, a packet consolidation protocol G, a route update protocol H, and an overhead messages protocol I. Air-link management protocol A provides the overall state machine management that the access terminal and radio network follow during a connection. Initialization state protocol B provides the procedures that the access terminal follows to acquire a radio network and the procedures that the radio network follows to support network acquisition. Idle state protocol C provides the procedures that the access terminal and radio network follow when a connection is not open. Connected state protocol D provides the procedures that the access terminal and radio network follow when a connection is open. Idle state supervision protocol E provides the supervision procedures that the access terminal follows when a connection is not open. Connected state supervision protocol F provides the supervision procedures the access terminal and radio network follow when a connection is open. Packet consolidation protocol G provides transmit prioritizing and packet encapsulation for connection layer . Route update protocol H provides the means to maintain a route between the access terminal and radio network. And overhead messages protocol I provides broadcast messages containing information used by the protocols in connection layer .","Session layer  includes a session boot protocol A and a session control protocol B. Session boot protocol A provides the initial message exchange used to start a session and further provides the means to reject an access terminal that does not currently have a session. The initial message exchange assigns the access terminal with a UATI (Unicast Access Terminal Identifier) and selects the session control protocol that in turn negotiates and configures the protocols used in the session. The UATI is also referred to herein as a \u201cterminal identifier.\u201d In an embodiment, session boot protocol A is non-negotiable.","Session control protocol B provides initial negotiation and configuration of the protocols used during a session and further supports session supervision and session closing procedures. In an embodiment, session control protocol B supports two phases of negotiation\u2014an access terminal (AT) initiated negotiation and a radio network (RN) initiated negotiation. In the AT initiated negotiation phase, negotiation exchanges are initiated by the access terminal. This phase is typically used to negotiate the protocols that will be used in the session and to negotiate the configurations for the protocols (e.g., authentication key lengths). In the AN initiated negotiation phase, negotiation exchanges are initiated by the radio network. This phase is typically used to override default values used by the negotiated protocols. Session control protocol B can also provide a session keep alive mechanism. In an embodiment, in accordance with the keep alive mechanism, if nothing has flowed between the access terminal and radio network for some period of time, then one entity sends a keep alive message to which the other entity responds.","Session boot protocol A and session control protocol B are described in further detail below.","Stream layer  includes a stream protocol A. In the transmit direction, stream protocol A adds a stream header to data packets and ensures that the packets are octet aligned. In the receive direction, stream protocol A removes the stream header and forwards the packets to the proper application.","In an embodiment, the protocols are defined by their interfaces and protocol states. In a specific embodiment, four types of interfaces are defined and include: (1) headers and messages, (2) commands, (3) indications, and (4) public data. For the following discussion, the term \u201centity\u201d is used to denote either the access terminal or the radio network.","Headers and messages are used for communication between a protocol executing in one entity and the same protocol in the other entity.","Commands are used by a higher layer protocol to obtain a service from a lower layer protocol in the same entity. For example, commands can be used as primitives by a higher layer to cause a protocol at a lower layer to take some action (e.g., to abort any access attempt currently in progress). In an embodiment, commands can be sent between protocols in the same layer but are limited to one direction (i.e., the entity that receives a command from a particular protocol is prohibited from sending a command to the other entity in the same protocol).","Indications are used by a lower layer protocol to convey information regarding the occurrence of an event (e.g., to provide notifications when certain events occur). In an embodiment, protocols in a higher layer or in the same layer can register to receive indications. In an embodiment, indications between protocols in the same layer are limited to one direction (i.e., if protocol A registers to receive indications from protocol B in the same layer, protocol B is prohibited from registering to receive indications from protocol A).","Public data is used to share information in a controlled manner between protocols. Protocols can make available to other protocols some of the data they generate or receive through messages. Public data can be shared between protocols in the same layer as well as between protocols in different layers.","Protocol states are used to identify the particular operating states of a particular protocol. Each protocol state can be associated with a particular set of behavior characteristics that may be dependent on, for example, the operation condition, the environment of the entity (e.g., if a connection is opened or not, if a session is opened or not, and so on), and other factors. Transitions between protocol states are triggered by the occurrence of particular events, which are also captured by the operating states. Examples of events that can lead to a state transition include the receipt of a message, a command from a higher layer protocol, an indication from a lower layer protocol, and the expiration of a timer.","The radio network is capable of communicating with a number of access terminals concurrently. The radio network instantiates a signaling protocol for each access terminal with which it communicates and thereafter maintains a protocol state machine for the access terminal. The radio network is capable of maintaining multiple independent instantiations of the signaling protocol, each with its own independent state machine.","In an embodiment, an inactive state, an open state, and a close state are provided for each of a number of protocols. The inactive state is entered when the protocol is not functional at a particular time. For example, the access channel MAC protocol at the access terminal enters the inactive state when it has an open connection. The open state indicates that the session or connection (as applicable to the protocol) is opened, and the close state indicates that the session or connection is closed. In an embodiment, all states of a particular protocol other than the inactive state are collectively referred to as active states, although they may be individually named. For example, the forward traffic channel MAC protocol can be designed to have three states: inactive, variable rate, and fixed rate, with the variable and fixed rate states being referred to as the active states.","Each protocol supports a set of commands that facilitates communication with other protocols. Some common commands supported by many of the protocols include activate, deactivate, open, and close. Activate commands the protocol to transition from the inactive state to some other state. Deactivate commands the protocol to transition to the inactive state. Open (or close) commands the protocol to perform a function related to a session open (or close) or a connection open (or close).","In accordance with an aspect of the invention, a number of applications, layers, protocols, or configurations (i.e., for the applications, layers, and protocols), or a combination thereof, can be negotiated and configured when a session is set up. Each stream, layer and protocol is assigned a unique identifier (referred to herein as a Type) that identifies the general stream, layer or protocol (e.g., access channel MAC protocol). In a specific implementation, the identifier is an 8-bit value. The layering (e.g., shown in ) can also be negotiated.","In an embodiment, a stream, layer or protocol may further be associated with a Subtype that identifies a specific instance of the layer or protocol (e.g., the default access channel MAC protocol and perhaps one day, the extended and bloated access channel MAC protocol, or others).","The layering architecture shown in  supports a variety of applications. In accordance with an aspect of the invention, for minimum compatibility, a set of default applications are defined which is supported by all access terminals and radio networks. In an embodiment, the default applications include a default signaling application and a default packet application. The default signaling application provides the means to send messages between a protocol in one entity and the same protocol in the other entity. The default packet application provides a PPP octet stream between the entities.","In an embodiment, the default signaling protocol includes (1) a messaging protocol (e.g., the HDR messaging protocol) and (2) a link layer protocol that provides message fragmentation, retransmission, and duplicate data detection (e.g., the Signaling Link Protocol SLP). In an embodiment, the default packet application includes (1) the PPP (i.e., as defined by IETF RFC 1661) that provides PPP octet stream and (2) a link layer protocol (e.g., the Radio Link Protocol RLP) that provides octet retransmission and duplicate data detection.","In accordance with an aspect of the invention, the applications to be used, the streams on which the applications are carried, the layers, the protocols, and the configurations can be negotiated as part of a session negotiation. In an embodiment, the session negotiation is implemented in the session layer. In accordance with another aspect of the invention, each access terminal and radio network is designed to support a basic layering architecture and a basic set of protocols. Upon initiation of a communication between the access terminal and radio network, a session negotiation is performed, and the protocols in the basic set and additional protocols can be negotiated between the entities.","A set of default applications, layers, protocols, and configurations is used to support communication between the entities until the protocols are negotiated. Each layer includes zero or more default protocols. Default overhead signaling protocol messages can be used to exchange information related to the default layers, protocols, and configurations. The access terminal and radio network use the default settings until the session negotiation is completed, at which point they apply the negotiated layers, protocols, and configurations for used in subsequent communication.",{"@attributes":{"id":"p-0087","num":"0086"},"figref":["FIG. 6A","FIG. 5","FIG. 6A"],"b":["520","610","612","614","610","610","612","610","614","614","612","614","610"]},{"@attributes":{"id":"p-0088","num":"0087"},"figref":"FIG. 6B","b":["620","622","624","620","610","612","620","624","624","620"]},{"@attributes":{"id":"p-0089","num":"0088"},"figref":["FIG. 6C","FIG. 5"],"b":["520","630","632","634","636","630","630","632","632","634","634","636","636","0","3","636","630"]},{"@attributes":{"id":"p-0090","num":"0089"},"figref":"FIG. 6D","b":["640","642","644","646","648","640","640","642","642","644","644","646","646","646","640","648","648","640"]},"For simplicity, not all transitions are shown in . For example, the deactivate transitions are not shown in , and the failure transitions are not shown in .",{"@attributes":{"id":"p-0092","num":"0091"},"figref":["FIG. 7A","FIG. 4C"],"b":["610","610","444","710","712"]},"At block , the radio network determines whether to accept or reject the open request. If the session request is accepted, the radio network assigns an access terminal identifier to the access terminal and generates an open-response message that includes the assigned identifier, at block . The access terminal identifier is to be used by the access terminal for the duration of the session. Otherwise, if the session request is rejected, the radio network generates an open-response message that includes a reason for the rejection, at block . The open-response message further includes the random access terminal identifier extracted from the open-request message received from the access terminal. The open-response message is then sent to the access terminal on the forward common channel (e.g., control channel ), at block . In an embodiment, the messages in session open phase  are carried out by the (default) session protocol.","As shown in , session configuration phase  includes a session layer\/protocol negotiation sub-phase , a session layer\/protocol configuration sub-phase , and a session layer\/protocol activation sub-phase . These sub-phases are described in further detail below.",{"@attributes":{"id":"p-0095","num":"0094"},"figref":"FIG. 7B","b":["622","622"]},"Initially, the access terminal identifies a set of layers and protocols (or layers\/protocols, which are identified by their Types) to be negotiated, at block . For each selected layers and protocols, the access terminal identifies a set of acceptable configurations (which are identified by their Subtypes), at block . The access terminal then generates and sends one or more configuration-request messages over the reverse dedicated channel to the radio network, at block .","Each configuration-request message includes one or more Types that identify the corresponding one or more layers\/protocols to be negotiated. For each Type, the message further includes a list of one or more acceptable Subtypes, in descending order of preference. In an embodiment, to simplify message processing, each configuration-request message includes one or more complete and ordered Subtype lists (i.e., a Subtype list is not split within a configuration-request message and not split across multiple configuration-request messages).","The radio network receives the configuration-request message(s), at block , and identifies each Type and its associated list of Subtypes, at block . For each recognized Type in the configuration-request message, the radio network selects an acceptable Subtype from the associated list of Subtypes previously identified by the access terminal to be acceptable, at block . If the radio network does not recognize the Type or does not find an acceptable Subtype in the associated list, that Type is skipped. The radio network then generates and sends a configuration-response message that includes the Type(s) processed by the radio network and the Subtype selected for each Type, at block . Any Type skipped by the radio network is omitted from the configuration-response message. In an embodiment, to simplify processing by the access terminal, the Type(s) in the configuration-response message are arranged in the same order found in the configuration-request message.","The access terminal receives the configuration-response message, at block , and compares the Type(s) in the configuration-response message with the Type(s) in the configuration-request message, at block . For each Type in the configuration-request message that is not found in the configuration-response message, the access terminal set the Subtype for the Type to the default value, at block . For each Type in the configuration-response message, the access terminal sets the Subtype for the Type to the associated Subtype found in the received configuration-response message, at block .","In an embodiment, the radio network declares a configuration failure, at block , if it determines at any time during the message exchange that the Types or Subtypes selected by the access terminal will not operate.","In an embodiment, the access terminal declares a configuration failure, at block , if it determines at any time during the message exchange that:\n\n","If a configuration failure is declared, the party declaring the failure closes the session. The close-Type and close-Subtype are set to the Type and Subtype, respectively, of the link layer protocols. In an embodiment, if the access terminal and radio network are not able to agree on the configuration for one or more session layers\/protocols, the session is closed.","Once session layer\/protocol negotiation sub-phase  for a particular layer\/protocol is completed, the access terminal and radio network enter session layer\/protocol configuration sub-phase  for that layer\/protocol. In sub-phase , the access terminal and radio network determine the configuration of the layers and protocols negotiated during session layer\/protocol negotiation sub-phase . The messages for sub-phase  are carried by their respective layer\/protocol Types.","The session layer\/protocol configuration sub-phases for the one or more selected layers\/protocols can be performed serially, or in parallel to speed up the configuration process. For improved compatibility, the radio network can be designed to support both serial and parallel configuration, and the access terminal can be designed to support either serial or parallel configuration, or possibly both.","The implementation of configuration sub-phase  is dependent on the particular layer\/protocol to be configured. Various implementations of configuration sub-phase  can be contemplated and are within the scope of the present invention.",{"@attributes":{"id":"p-0106","num":"0111"},"figref":"FIG. 7C","b":["626","624","626","626","626"]},"In an embodiment, the access terminal initiates activation sub-phase  by sending a session-activate-request message on the reverse dedicated channel, at block . If the access terminal requires the release of the connection in order to activate the negotiated layers and protocols, it indicates this requirement in the session-activate-request message. The radio network receives and processes the message, at block . The radio network then sends a session-activate-response message on the forward dedicated channel, at block . If a connection release is required, the radio network indicates this requirement in the session-activate-response message.","At block , a determination is made whether the access terminal or radio network requires the release of the connection in order to activate the negotiated layers and protocols. If a connection release is required, the access terminal releases the connection, at block . Upon release of the connection, the access terminal and radio network activate and use the negotiated layers and protocols, at block . Alternatively, a determination can be made whether the session-activate-response message is received by the access terminal, at block . If the session-activate-response message is received, the access terminal and radio network activate and use the negotiated layers and protocols. The access terminal send an confirmation message back to the radio network upon receiving the session-activate-response message at block .","During the session, if it is determined that different layers, protocols, and\/or configurations are required, at block , the current session is terminated and a new session is established, at block .","In an embodiment, session layer\/protocol negotiation sub-phase  can be performed for all selected layers and protocols and, thereafter, session layer\/protocol configuration sub-phase  is performed for each selected layer and protocol. Alternatively, session layer\/protocol negotiation sub-phase  can be performed for a particular number of selected layers and protocols (e.g., one layer or protocol) followed thereafter by session layer\/protocol configuration sub-phase  for the selected layers and protocols (e.g., the negotiation and configuration sub-phases are performed as a combination for each layer and protocol).",{"@attributes":{"id":"p-0111","num":"0116"},"figref":["FIG. 8","FIG. 4"],"b":["622","624","810","444","812"]},"The access terminal and radio network then determine the layers and protocols to be negotiated. This can be achieved via an exchange of messages  and  between the access terminal and radio network on the assigned forward and reverse traffic channels (e.g., forward traffic channel  and reverse traffic channel  in ). Multiple messages can be sent by the access terminal and radio network. The message(s) sent by the access terminal are symbolically represented as message  in  and the message(s) sent by the radio network are symbolically represented as message .","In an embodiment, the open-request and open-response messages are sent via the common channels (e.g., the access channel and the control), which are shared with other access terminals, but the negotiation and configuration messages are sent via the dedicated channels assigned by the radio network. The open-request and open-response messages are designed to be short. The negotiation and configuration messages are typically more extensive, and are sent via the assigned dedicated channels for improved performance (i.e., shorter response time).","Once the layers and protocols are selected, negotiation is thereafter performed for each selected layer and protocol. In an embodiment, the layers and protocols selected by one entity (e.g., the access terminal) are negotiated first and the layers and protocols selected by the other entity (e.g., the radio network) are then negotiated. The entity negotiating a particular layer or protocol sends to the other entity a configuration-request message  (or ) that includes one or more selected layers and\/or protocols and a list of acceptable configurations for each selected layer and protocol. (The layers and protocols being negotiated are also referred to as attributes, and the configurations are also referred to as attribute values.)","The other entity receives the configuration-request message(s) and responds with corresponding configuration-response message(s)  (or ) that include the layers and\/or protocols being negotiated and their selected configurations. The exchange of configuration request\/response messages continues until both entities accept the negotiated attributes. A confirmation message  (or ) is then sent by the entity that initiates negotiation to confirm acceptance of the negotiated attribute. Additional selected attributes, if any, are then negotiated in the similar manner.","In , negotiation messages  and  and confirmation message  represent the messages for one set of attributes (i.e., one layer, one protocol, and so on). Another set of messages is sent for each set of attributes selected for negotiation. In the embodiment shown in , negotiation messages  and  and confirmation message  for the set of attributes selected for negotiation by the radio network are exchanged after the attributes selected by access terminal have been negotiated.","Upon completion of the protocol negotiation, communication between the access terminal and radio network can be performed using the negotiated layers and protocols.","In accordance with an aspect of the invention, the access terminal and radio network are designed to support a basic set of messages. In an embodiment, the access terminal and radio network support the messages listed in Table 1, which are further described below.",{"@attributes":{"id":"p-0119","num":"0124"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"70pt","align":"center"}}],"thead":{"row":[{"entry":[{},"TABLE 1"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]},{"entry":[{},"Message","Identifier","Channel"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"open-request","0x00","common"]},{"entry":[{},"open-response","0x01","common"]},{"entry":[{},"close","0x02","common"]},{"entry":[{},"hello","0x03","common and"]},{"entry":[{},{},{},"dedicated"]},{"entry":[{},"configuration-request","0x04","dedicated"]},{"entry":[{},"configuration-response","0x05","dedicated"]},{"entry":[{},"configuration-activate-request","0x06","dedicated"]},{"entry":[{},"configuration-activate-","0x07","dedicated"]},{"entry":[{},"response"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]}}}}},{"@attributes":{"id":"p-0120","num":"0125"},"figref":"FIG. 9A","b":["910","912","910","912"]},{"@attributes":{"id":"p-0121","num":"0126"},"figref":"FIG. 9B","b":["920","922","924","926","928","920","964","912","924","924"]},"In an embodiment, access-terminal-identifier field  is a 4-octet field having a value assigned as the access terminal identifier to be used by the access terminal for the duration of the session. If the value in result-code field  is 0x00, then access-terminal-identifier field  is set to 0x00000000 and the access terminal ignores this value. In an embodiment, session-inactivity-timer field  is an 8-bit field having a value indicative of the length of inactivity, in minutes, of the session. If the value in result-code field  is 0x00, indicating the acceptance of the open request, then the radio network sets the value in session-inactivity-timer field  to a value from a session inactivity timer that is used for the session. If the value in result-code field  is not 0x00, indicating the rejection of the open request, then session-inactivity-timer field  is set to 0x00 and the access terminal ignores this value.",{"@attributes":{"id":"p-0123","num":"0128"},"figref":"FIG. 9C","b":["930","932","934","936","938","930","932","934","936","938","938","938"]},{"@attributes":{"id":"p-0124","num":"0129"},"figref":"FIG. 9D","b":"940"},{"@attributes":{"id":"p-0125","num":"0130"},"figref":"FIG. 9E","b":["950","952","954","956","950","952","954","956"]},{"@attributes":{"id":"p-0126","num":"0131"},"figref":"FIG. 9F","b":["960","962","964","966","960","962","964","954"]},"In an embodiment, attribute-list field  is a variable length field that includes one (or possibly more) acceptable Subtype for each processed Type. The elements in attribute-list field  are (Type, Subtype) pairs. Attribute-list field  does not contain an element not found in the corresponding configuration-request message, and the elements in attribute-list field  are arranged in the order found in the corresponding configuration-request message. Again, the receiving entity can determine the length of the configuration-response message by using the length of the message.",{"@attributes":{"id":"p-0128","num":"0133"},"figref":"FIG. 9G","b":["970","972","974","970","972","974"]},{"@attributes":{"id":"p-0129","num":"0134"},"figref":"FIG. 9H","b":["980","982","984","980","982","972","984"]},{"@attributes":{"id":"p-0130","num":"0135"},"figref":["FIGS. 9A through 9H","FIGS. 9A through 9H"]},"The invention provides numerous advantages. First, the modular design of the layers and protocols allows for easy modification and upgrade of the communication system to support new features and functionality. The access terminal and radio network can communicate using the layers and protocols commonly supported by both, and this determination can be made at the time a session is opened. Second, the basic set of layers and protocols supported by the access terminals and radio networks ensures a minimum level of compatibility among the access terminals and radio networks. For a radio network to be forward compatible with this signaling protocol, it only needs to implement a limited set of functionality. For example, the radio network only needs to be able to send an empty configuration-response message in response to a received configuration-request message. Thus, the signaling protocol of the invention allows for easy implementation of future configurations even if no current configuration is needed.","The invention can be implemented in various manners, and can be implemented in software, hardware, or a combination thereof. For example, referring back to , the invention can be implemented by a combination of software and\/or hardware within control system  and controller , or other units coupled to control system  and controller . The hardware can be implemented in one or more integrated circuits, an application specific integrated circuit (ASIC), a digital signal processor (DSP), a controller, a microprocessor, or other circuits designed to perform the functions described herein.","The invention described herein can be applied to many spread spectrum communications systems. The invention is applicable to spread spectrum systems that currently exist and new systems that are continually being considered. A specific CDMA system is described in the aforementioned U.S. patent application Ser. No. 08\/963,386. Another CDMA system is disclosed in the aforementioned U.S. Pat. Nos. 4,901,307 and 5,103,459.","The foregoing description of the preferred embodiments is provided to enable any person skilled in the art to make or use the present invention. Various modifications to these embodiments will be readily apparent to those skilled in the art, and the generic principles defined herein may be applied to other embodiments without the use of the inventive faculty. Thus, the present invention is not intended to be limited to the embodiments shown herein but is to be accorded the widest scope consistent with the principles and novel features disclosed herein."],"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE SPECIFIC EMBODIMENTS"],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The features, nature, and advantages of the present invention will become more apparent from the detailed description set forth below when taken in conjunction with the drawings in which like reference characters identify correspondingly throughout and wherein:",{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIGS. 4A through 4C"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":["FIG. 5","FIG. 3"]},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIGS. 6A and 6B"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIGS. 6C and 6D"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 7A"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIGS. 7B and 7C"},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIGS. 9A through 9H"}]},"DETDESC":[{},{}]}
