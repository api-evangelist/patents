---
title: Using motion to improve local wireless network connectivity
abstract: The disclosure is directed to using motion to reduce unnecessary scans for local wireless networks. An aspect determines whether or not a motion state change event of a user device indicates a change from a moving motion state to a stationary motion state, and if the motion state change event indicates a change from a moving motion state to a stationary motion state, ignoring the motion state change event. An aspect of the disclosure is directed to using motion to reduce latency of scanning for local wireless networks. An aspect determines whether or not a user device is in motion, determines whether or not a periodic scan timer has expired and/or a received signal strength indicator (RSSI) is below a threshold, and if the user device is in motion and the periodic scan timer has expired or the RSSI is below the threshold, scanning for a local wireless network.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09380520&OS=09380520&RS=09380520
owner: QUALCOMM Incorporated
number: 09380520
owner_city: San Diego
owner_country: US
publication_date: 20130708
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["REFERENCE TO RELATED APPLICATIONS","BACKGROUND OF THE INVENTION","SUMMARY","DETAILED DESCRIPTION"],"p":["The present Application for Patent is a continuation-in-part of patent application Ser. No. 13\/800,431, entitled \u201cUSING MOTION TO IMPROVE LOCAL WIRELESS NETWORK CONNECTIVITY,\u201d filed Mar. 13, 2013, assigned to the assignee hereof and hereby expressly incorporated by reference herein.","The present Application for Patent is related to U.S. patent application Ser. No. 13\/800,699, entitled \u201cUSING MOTION TO OPTIMIZE PLACE OF RELEVANCE OPERATIONS,\u201d filed Mar. 13, 2013, assigned to the assignee hereof, and expressly incorporated herein by reference","1. Field of the Invention","The disclosure is directed to using motion to improve local wireless network connectivity.","2. Description of the Related Art","Mobile devices, such as cell phones, smart phones, tablet computers, laptops, personal digital assistants (PDAs), etc., are often capable of connecting to local wireless networks, such as wireless local area networks (WLANs), WiFi networks, Bluetooth networks, etc. Such networks are often used to provide data connectivity for mobile devices. However, maintaining a connection while a mobile device is moving from one geographic area to another can be challenging.","Currently, mobile devices simply perform periodic scans when not-connected, and suppress all scans when connected. When connected, scans are suppressed to save energy, but this can hinder the ability of the device to efficiently find and switch to a better access point (e.g. one with a higher signal-to-noise ratio). When not connected, the rate of scanning is a tradeoff between power consumption and the delay of establishing a connection. This is especially an issue with moving devices where the best access point may be changing relatively quickly. These scans can require significant power, and thus there is an opportunity to use motion information to improve the power performance of the connectivity management.","The disclosure is directed to using motion to improve local wireless network connectivity. A method for using motion to reduce unnecessary scans for local wireless networks includes determining whether or not a motion state change event of a user device indicates a change from a moving motion state to a stationary motion state, and if the motion state change event indicates a change from a moving motion state to a stationary motion state, ignoring the motion state change event.","A method of using motion to reduce latency of scanning for local wireless networks includes determining whether or not a user device is in motion, determining whether or not a periodic scan timer has expired and\/or a received signal strength indicator (RSSI) is below a threshold, and if the user device is in motion and the periodic scan timer has expired or the RSSI is below the threshold, scanning for a local wireless network.","An apparatus for using motion to reduce unnecessary scans for local wireless networks includes logic configured to determine whether or not a motion state change event of a user device indicates a change from a moving motion state to a stationary motion state, and logic configured to ignore the motion state change event if the motion state change event indicates a change from a moving motion state to a stationary motion state.","An apparatus for using motion to reduce latency of scanning for local wireless networks includes logic configured to determine whether or not a user device is in motion, logic configured to determine whether or not a periodic scan timer has expired and\/or a received signal strength indicator (RSSI) is below a threshold, and logic configured to scan for a local wireless network if the user device is in motion and the periodic scan timer has expired or the RSSI is below the threshold.","An apparatus for using motion to reduce unnecessary scans for local wireless networks includes means for determining whether or not a motion state change event of a user device indicates a change from a moving motion state to a stationary motion state, and means for ignoring the motion state change event if the motion state change event indicates a change from a moving motion state to a stationary motion state.","An apparatus for using motion to reduce latency of scanning for local wireless networks includes means for determining whether or not a user device is in motion, means for determining whether or not a periodic scan timer has expired and\/or a received signal strength indicator (RSSI) is below a threshold, and means for scanning for a local wireless network if the user device is in motion and the periodic scan timer has expired or the RSSI is below the threshold.","A non-transitory computer-readable medium for using motion to reduce unnecessary scans for local wireless networks includes at least one instruction to determine whether or not a motion state change event of a user device indicates a change from a moving motion state to a stationary motion state, and at least one instruction to ignore the motion state change event if the motion state change event indicates a change from a moving motion state to a stationary motion state.","A non-transitory computer-readable medium for using motion to reduce latency of scanning for local wireless networks includes at least one instruction to determine whether or not a user device is in motion, at least one instruction to determine whether or not a periodic scan timer has expired and\/or a received signal strength indicator (RSSI) is below a threshold, and at least one instruction to scan for a local wireless network if the user device is in motion and the periodic scan timer has expired or the RSSI is below the threshold.","Various aspects are disclosed in the following description and related drawings. Alternate aspects may be devised without departing from the scope of the disclosure. Additionally, well-known elements of the disclosure will not be described in detail or will be omitted so as not to obscure the relevant details of the disclosure.","The words \u201cexemplary\u201d and\/or \u201cexample\u201d are used herein to mean \u201cserving as an example, instance, or illustration.\u201d Any aspect described herein as \u201cexemplary\u201d and\/or \u201cexample\u201d is not necessarily to be construed as preferred or advantageous over other aspects. Likewise, the term \u201caspects of the disclosure\u201d does not require that all aspects of the disclosure include the discussed feature, advantage or mode of operation.","Further, many aspects are described in terms of sequences of actions to be performed by, for example, elements of a computing device. It will be recognized that various actions described herein can be performed by specific circuits (e.g., application specific integrated circuits (ASICs)), by program instructions being executed by one or more processors, or by a combination of both. Additionally, the sequence of actions described herein can be considered to be embodied entirely within any form of computer readable storage medium having stored therein a corresponding set of computer instructions that upon execution would cause an associated processor to perform the functionality described herein. Thus, the various aspects of the disclosure may be embodied in a number of different forms, all of which have been contemplated to be within the scope of the claimed subject matter. In addition, for each of the aspects described herein, the corresponding form of any such aspects may be described herein as, for example, \u201clogic configured to\u201d perform the described action.","A client device, referred to herein as a user equipment (UE), may be mobile or stationary, and may communicate with a radio access network (RAN). As used herein, the term \u201cUE\u201d may be referred to interchangeably as an \u201caccess terminal\u201d or \u201cAT,\u201d a \u201cwireless device,\u201d a \u201csubscriber device,\u201d a \u201csubscriber terminal,\u201d a \u201csubscriber station,\u201d a \u201cuser terminal\u201d or UT, a \u201cmobile terminal,\u201d a \u201cmobile station\u201d and variations thereof. Generally, UEs can communicate with a core network via the RAN, and through the core network the UEs can be connected with external networks such as the Internet. Of course, other mechanisms of connecting to the core network and\/or the Internet are also possible for the UEs, such as over wired access networks, WiFi networks (e.g., based on IEEE 802.11, etc.) and so on. UEs can be embodied by any of a number of types of devices including but not limited to PC cards, compact flash devices, external or internal modems, wireless or wireline phones, and so on. A communication link through which UEs can send signals to the RAN is called an uplink channel (e.g., a reverse traffic channel, a reverse control channel, an access channel, etc.). A communication link through which the RAN can send signals to UEs is called a downlink or forward link channel (e.g., a paging channel, a control channel, a broadcast channel, a forward traffic channel, etc.). As used herein the term traffic channel (TCH) can refer to either an uplink\/reverse or downlink\/forward traffic channel.",{"@attributes":{"id":"p-0036","num":"0035"},"figref":["FIG. 1","FIG. 1"],"b":["100","100"]},"Referring to , UEs 1 . . . N are configured to communicate with an access network (e.g., the RAN , an access point , etc.) over a physical communications interface or layer, shown in  as air interfaces , ,  and\/or a direct wired connection. The air interfaces  and  can comply with a given cellular communications protocol (e.g., Code Division Multiple Access (CDMA), Evolution-Data Optimized (EV-DO), Evolved High Rate Packet Data (eHRPD), Global System of Mobile Communication (GSM), Enhanced Data rates for GSM Evolution (EDGE), Wideband CDMA (W-CDMA), Long-Term Evolution (LTE), etc.), while the air interface  can comply with a wireless IP protocol (e.g., IEEE 802.11). The RAN  includes a plurality of access points that serve UEs over air interfaces, such as the air interfaces  and . The access points in the RAN  can be referred to as access nodes or ANs, access points or APs, base stations or BSs, Node Bs, eNode Bs, and so on. These access points can be terrestrial access points (or ground stations), or satellite access points. The RAN  is configured to connect to a core network  that can perform a variety of functions, including bridging circuit switched (CS) calls between UEs served by the RAN  and other UEs served by the RAN  or a different RAN altogether, and can also mediate an exchange of packet-switched (PS) data with external networks such as Internet . The Internet  includes a number of routing agents and processing agents (not shown in  for the sake of convenience). In , UE N is shown as connecting to the Internet  directly (i.e., separate from the core network , such as over an Ethernet connection of WiFi or 802.11-based network). The Internet  can thereby function to bridge packet-switched data communications between UE N and UEs 1 . . . N via the core network . Also shown in  is the access point  that is separate from the RAN . The access point  may be connected to the Internet  independent of the core network  (e.g., via an optical communication system such as FiOS, a cable modem, etc.). The air interface  may serve UE 4 or UE 5 over a local wireless connection, such as IEEE 802.11 in an example. UE N is shown as a desktop computer with a wired connection to the Internet , such as a direct connection to a modem or router, which can correspond to the access point  itself in an example (e.g., for a WiFi router with both wired and wireless connectivity).","Referring to , an application server  is shown as connected to the Internet , the core network , or both. The application server  can be implemented as a plurality of structurally separate servers, or alternately may correspond to a single server. As will be described below in more detail, the application server  is configured to support one or more communication services (e.g., Voice-over-Internet Protocol (VoIP) sessions, Push-to-Talk (PTT) sessions, group communication sessions, social networking services, etc.) for UEs that can connect to the application server  via the core network  and\/or the Internet .",{"@attributes":{"id":"p-0039","num":"0038"},"figref":["FIG. 2","FIG. 2","FIG. 2"],"b":["200","200","200","205","210","215","220","200","205","210","215","220","225","230","200","200","200"]},"While internal components of UEs such as the UEs A and B can be embodied with different hardware configurations, a basic high-level UE configuration for internal hardware components is shown as platform  in . The platform  can receive and execute software applications, data and\/or commands transmitted from the RAN  that may ultimately come from the core network , the Internet  and\/or other remote servers and networks (e.g., application server , web URLs, etc.). The platform  can also independently execute locally stored applications without RAN interaction. The platform  can include a transceiver  operably coupled to an application specific integrated circuit (ASIC) , or other processor, microprocessor, logic circuit, or other data processing device. The ASIC  or other processor executes the application programming interface (API)  layer that interfaces with any resident programs in the memory  of the wireless device. The memory  can be comprised of read-only memory (ROM) or random-access memory (RAM), electrically erasable programmable ROM (EEPROM), flash cards, or any memory common to computer platforms. The platform  also can include a local database  that can store applications not actively used in memory , as well as other data. The local database  is typically a flash memory cell, but can be any secondary storage device as known in the art, such as magnetic media, EEPROM, optical media, tape, soft or hard disk, or the like.","Accordingly, an aspect of the disclosure can include a UE (e.g., UE A, B, etc.) including the ability to perform the functions described herein. As will be appreciated by those skilled in the art, the various logic elements can be embodied in discrete elements, software modules executed on a processor or any combination of software and hardware to achieve the functionality disclosed herein. For example, ASIC , memory , API  and local database  may all be used cooperatively to load, store and execute the various functions disclosed herein and thus the logic to perform these functions may be distributed over various elements. Alternatively, the functionality could be incorporated into one discrete component. Therefore, the features of the UEs A and B in  are to be considered merely illustrative and the disclosure is not limited to the illustrated features or arrangement.","The wireless communication between the UEs A and\/or B and the RAN  can be based on different technologies, such as CDMA, W-CDMA, time division multiple access (TDMA), frequency division multiple access (FDMA), Orthogonal Frequency Division Multiplexing (OFDM), GSM, or other protocols that may be used in a wireless communications network or a data communications network. As discussed in the foregoing and known in the art, voice transmission and\/or data can be transmitted to the UEs from the RAN using a variety of networks and configurations. Accordingly, the illustrations provided herein are not intended to limit the aspects of the disclosure and are merely to aid in the description of various aspects of the disclosure.",{"@attributes":{"id":"p-0043","num":"0042"},"figref":["FIG. 3","FIG. 1"],"b":["300","300","200","200","120","140","140","175","170","300","100"]},"Referring to , the communication device  includes logic configured to receive and\/or transmit information . In an example, if the communication device  corresponds to a wireless communications device (e.g., UE A or B), the logic configured to receive and\/or transmit information  can include a wireless communications interface (e.g., Bluetooth, WiFi, 2G, CDMA, W-CDMA, 3G, 4G, LTE, etc.) such as a wireless transceiver and associated hardware (e.g., an RF antenna, a MODEM, a modulator and\/or demodulator, etc.). In another example, the logic configured to receive and\/or transmit information  can correspond to a wired communications interface (e.g., a serial connection, a USB or Firewire connection, an Ethernet connection through which the Internet  can be accessed, etc.). Thus, if the communication device  corresponds to some type of network-based server (e.g., the application ), the logic configured to receive and\/or transmit information  can correspond to an Ethernet card, in an example, that connects the network-based server to other communication entities via an Ethernet protocol. In a further example, the logic configured to receive and\/or transmit information  can include sensory or measurement hardware by which the communication device  can monitor its local environment (e.g., an accelerometer, a temperature sensor, a light sensor, an antenna for monitoring local RF signals, etc.). The logic configured to receive and\/or transmit information  can also include software that, when executed, permits the associated hardware of the logic configured to receive and\/or transmit information  to perform its reception and\/or transmission function(s). However, the logic configured to receive and\/or transmit information  does not correspond to software alone, and the logic configured to receive and\/or transmit information  relies at least in part upon hardware to achieve its functionality.","Referring to , the communication device  further includes logic configured to process information . In an example, the logic configured to process information  can include at least a processor. Example implementations of the type of processing that can be performed by the logic configured to process information  includes but is not limited to performing determinations, establishing connections, making selections between different information options, performing evaluations related to data, interacting with sensors coupled to the communication device  to perform measurement operations, converting information from one format to another (e.g., between different protocols such as .wmv to .avi, etc.), and so on. For example, the processor included in the logic configured to process information  can correspond to a general purpose processor, a digital signal processor (DSP), an ASIC, a field programmable gate array (FPGA) or other programmable logic device, discrete gate or transistor logic, discrete hardware components, or any combination thereof designed to perform the functions described herein. A general purpose processor may be a microprocessor, but in the alternative, the processor may be any conventional processor, controller, microcontroller, or state machine. A processor may also be implemented as a combination of computing devices, e.g., a combination of a DSP and a microprocessor, a plurality of microprocessors, one or more microprocessors in conjunction with a DSP core, or any other such configuration. The logic configured to process information  can also include software that, when executed, permits the associated hardware of the logic configured to process information  to perform its processing function(s). However, the logic configured to process information  does not correspond to software alone, and the logic configured to process information  relies at least in part upon hardware to achieve its functionality.","Referring to , the communication device  further includes logic configured to store information . In an example, the logic configured to store information  can include at least a non-transitory memory and associated hardware (e.g., a memory controller, etc.). For example, the non-transitory memory included in the logic configured to store information  can correspond to RAM, flash memory, ROM, erasable programmable ROM (EPROM), EEPROM, registers, hard disk, a removable disk, a CD-ROM, or any other form of storage medium known in the art. The logic configured to store information  can also include software that, when executed, permits the associated hardware of the logic configured to store information  to perform its storage function(s). However, the logic configured to store information  does not correspond to software alone, and the logic configured to store information  relies at least in part upon hardware to achieve its functionality.","Referring to , the communication device  further optionally includes logic configured to present information . In an example, the logic configured to present information  can include at least an output device and associated hardware. For example, the output device can include a video output device (e.g., a display screen, a port that can carry video information such as USB, HDMI, etc.), an audio output device (e.g., speakers, a port that can carry audio information such as a microphone jack, USB, HDMI, etc.), a vibration device and\/or any other device by which information can be formatted for output or actually outputted by a user or operator of the communication device . For example, if the communication device  corresponds to UE A or UE B as shown in , the logic configured to present information  can include the display A of UE A or the touchscreen display B of UE B. In a further example, the logic configured to present information  can be omitted for certain communication devices, such as network communication devices that do not have a local user (e.g., network switches or routers, remote servers, etc.). The logic configured to present information  can also include software that, when executed, permits the associated hardware of the logic configured to present information  to perform its presentation function(s). However, the logic configured to present information  does not correspond to software alone, and the logic configured to present information  relies at least in part upon hardware to achieve its functionality.","Referring to , the communication device  further optionally includes logic configured to receive local user input . In an example, the logic configured to receive local user input  can include at least a user input device and associated hardware. For example, the user input device can include buttons, a touchscreen display, a keyboard, a camera, an audio input device (e.g., a microphone or a port that can carry audio information such as a microphone jack, etc.), and\/or any other device by which information can be received from a user or operator of the communication device . For example, if the communication device  corresponds to UE A or UE B as shown in , the logic configured to receive local user input  can include the keypad A, any of the buttons A or B through B, the touchscreen display B, etc. In a further example, the logic configured to receive local user input  can be omitted for certain communication devices, such as network communication devices that do not have a local user (e.g., network switches or routers, remote servers, etc.). The logic configured to receive local user input  can also include software that, when executed, permits the associated hardware of the logic configured to receive local user input  to perform its input reception function(s). However, the logic configured to receive local user input  does not correspond to software alone, and the logic configured to receive local user input  relies at least in part upon hardware to achieve its functionality.","Referring to , while the configured logics of  through  are shown as separate or distinct blocks in , it will be appreciated that the hardware and\/or software by which the respective configured logic performs its functionality can overlap in part. For example, any software used to facilitate the functionality of the configured logics of  through  can be stored in the non-transitory memory associated with the logic configured to store information , such that the configured logics of  through  each performs their functionality (i.e., in this case, software execution) based in part upon the operation of software stored by the logic configured to store information . Likewise, hardware that is directly associated with one of the configured logics can be borrowed or used by other configured logics from time to time. For example, the processor of the logic configured to process information  can format data into an appropriate format before being transmitted by the logic configured to receive and\/or transmit information , such that the logic configured to receive and\/or transmit information  performs its functionality (i.e., in this case, transmission of data) based in part upon the operation of hardware (i.e., the processor) associated with the logic configured to process information .","Generally, unless stated otherwise explicitly, the phrase \u201clogic configured to\u201d as used throughout this disclosure is intended to invoke an aspect that is at least partially implemented with hardware, and is not intended to map to software-only implementations that are independent of hardware. Also, it will be appreciated that the configured logic or \u201clogic configured to\u201d in the various blocks are not limited to specific logic gates or elements, but generally refer to the ability to perform the functionality described herein (either via hardware or a combination of hardware and software). Thus, the configured logics or \u201clogic configured to\u201d as illustrated in the various blocks are not necessarily implemented as logic gates or logic elements despite sharing the word \u201clogic.\u201d Other interactions or cooperation between the logic in the various blocks will become clear to one of ordinary skill in the art from a review of the aspects described below in more detail.","Mobile UEs, such as cell phones, smart phones, tablet computers, laptops, PDAs, etc., are often capable of connecting to local wireless networks, such as WLANs, WiFi networks, Bluetooth networks, etc. Such networks are often used to provide data connectivity for mobile devices. However, maintaining a connection while a UE is moving from one geographic area to another can be challenging.","Currently, UEs simply perform periodic scans when not-connected, and suppress all scans when connected. When connected, scans are suppressed to save energy, but this can hinder the ability of the UE to efficiently find and switch to a better access point (e.g. one with a higher signal-to-noise ratio (SNR)). When not connected, the rate of scanning is a tradeoff between power consumption and the delay of establishing a connection. This is especially an issue with moving UEs, where the best access point may be changing relatively quickly. For example, a UE may scan for local wireless networks while the user is driving, even though the UE will not be able to connect to a wireless network before the UE is out of range of that network. In another example, the UE may be stationary and not connected, in which case scanning for available wireless networks is unnecessary, at least after an initial scan.",{"@attributes":{"id":"p-0053","num":"0052"},"figref":"FIG. 4","b":["410","420"]},"As shown, frequent scans can require significant power. However, when the UE is moving or is stationary but not connected, there is a reduced need to perform frequent scans. Thus, the motion state of the UE can be used to improve the power performance of the connectivity management. For instance, the motion state of the UE can be used to avoid unnecessary scans for available local wireless networks. The motion state classifier requires very little power, and thus is always on.","There are three broad motion states used to manage scans for local wireless networks.","First, if the UE is not connected and stationary, then scans are suppressed or slowed. The reason is that if the UE is not moving, then the access point signal strengths are unlikely to change significantly. Further, if a distance bound can be computed from the motion information, scans may be triggered only if the distance traveled exceeds a set threshold. This threshold can be set to optimize performance, and can be related to the coverage distance of the wireless network signals.","Second, if the UE is not connected and moving quickly (e.g. faster than a threshold), then scans are suppressed or slowed. The reason is that, since access points have limited range, if the UE is moving quickly enough, the UE is likely to be out of range before it can be detected and establish a connection (or the connection would be of such short duration as to be of no use).","Third, if the UE is connected and stationary, then scans are not likely to be needed (for connectivity purposes), and are suppressed or slowed. However, if motion is detected, then occasional scans may help the UE maintain connection with the best available access point. Further, a combination of signal strength and motion information can be used to determine the need for a scan. If the SNR for the connected access point is high, scans can be suppressed regardless of motion. However, if the SNR is low, scans can be triggered by motion, or by a distance traveled exceeding a set bound.","Certain UE states do not fall into the above three categories and should be addressed separately. For example, if the UE is stationary and a new, closer access point is turned on, the UE will not detect the new access point if it is not performing scans. This rarely happens, and can be addressed by the UE performing a long-interval heartbeat scan (e.g. 300 seconds) when it is stationary. Another example is that the UE may be connected to a mobile hotspot while \u201cin transit.\u201d This can be addressed by treating mobile hotspots as a separate case. It can also be addressed by performing a long-interval heartbeat scan (e.g. 300 seconds).","To determine whether the UE is stationary or moving, the motion of the UE can be classified into eight motion states: walk, run, sit, stand, absolute rest, fiddle, in-transit, and null. \u201cFiddle\u201d means the user is holding the UE. \u201cIn-transit\u201d means the mobile device is travelling in any vehicle, such as an automobile, a train, a plane, etc. \u201cNull\u201d means that the motion classifier cannot reach a level of confidence in the motion classification necessary to report a motion state. These motion states can be determined by the UE's accelerometer only, which requires very little power.","These eight fine-grained motion states can be remapped to two coarse-grained motion states: stationary (sit, stand, fiddle, absolute rest) and non-stationary (walk, run, in-transit). These coarse-grained motion states cause two motion state change events\u2014the UE can go from stationary to non-stationary, or from non-stationary to stationary.","There are several types of motion state change algorithms that can be used to determine the motion state of the UE. For example, the instant change detection (ICD) algorithm monitors consecutive motion states and detects any transition between stationary and non-stationary motion states (the algorithm ignores the null output). As another example, the cumulative sum control chart (CUSUM)-based change detection (CCD) algorithm accumulates and detects change upon crossing a maximum divided by two (e.g. the maximum may be 10 seconds). As yet another example, the CUSUM-based and collapse change detection (CCCD) algorithm detects change events within two minutes. This works because many of the CUSUM-based change events are generated within two minutes. The algorithm collapses, or combines, change events if they are generated within two minutes.","Motion change events can be determined from a function that uses the parameters \u201cevent type,\u201d \u201ctimestamp,\u201d and \u201cmetadata.\u201d The \u201cevent type\u201d parameter can be a one-bit binary value that indicates whether or not the motion change event is a change from a \u201cstationary\u201d motion state to a \u201cnon-stationary\u201d motion state. That is, a 1 can indicate a change from \u201cstationary\u201d to \u201cnon-stationary\u201d and a 0 can indicate either no change or a change from \u201cnon-stationary\u201d to \u201cstationary.\u201d The timestamp parameter can be a four byte value that indicates the epoch time. The metadata parameter is optional, and can indicate the current motion state and\/or a confidence level in the motion state change. The metadata parameter can include a three-bit field to indicate the motion state (three bits provides eight unique states) and four bytes for the confidence level. There is no need to consider the packet header size.",{"@attributes":{"id":"p-0064","num":"0063"},"figref":["FIG. 5","FIG. 5"],"b":["530","510","540","560","540","560","520","520"]},"Within the motion state manager , a motion detector  receives input from the sensor(s) . The motion detector  passes motion data to the motion state classifier , which classifies the motion as one of sitting, standing, fiddling, absolute rest, walking, running, or in-transit. The motion state classifier  passes the motion state to the motion state change detector , which determines whether or not the motion state of the UE has changed from a non-stationary motion state to a stationary motion state or from a stationary motion state to a non-stationary motion state.","The disconnected state manager  performs network scanning at . The disconnected state manager  scans for available local wireless networks upon a long-interval heartbeat trigger and\/or upon detecting that the UE has disconnected from a local wireless network. The disconnected state manager  sends a request to the local wireless network detector  to scan for available wireless networks and, in response, receives a list of access points (referred to as APs in ) and their associated received signal strength indication (RSSI) from the local wireless network detector .","At , the disconnected state manager  determines whether or not there are any available access points. If there are not, then at , the disconnected state manager  retrieves the current motion state of the UE from the motion state manager . At , the disconnected state manager  determines whether or not the UE is stationary based on the retrieved motion state. If it is, then the disconnected state manager  waits for the motion state to change from a stationary motion state to a non-stationary motion state. If, however, the UE is non-stationary, then the disconnected state manager  waits for the motion state to change from a non-stationary motion state to a stationary motion state. The disconnected state manager  detects a change from one motion state to another based on motion state change events received from the motion state manager . When the motion state changes, the flow returns to  to scan for available networks.","If, at , the disconnected state manager  determines that there is an available access point, then at , the UE performs access point connection authentication. Control then passes to the connected state manager .","The connected state manager  waits for trigger events at . The trigger events may occur upon a motion state change, as indicated by the motion state change detector , or upon an access point's RSSI rising above a threshold, as indicated by the local wireless network detector . At , the connected state manager  determines whether or not the current motion state is a non-stationary motion state. If it is not, then the flow returns to .","If the UE is in a non-stationary motion state, however, then, at , the connected state manager  determines whether or not the RSSI of the access point is below a threshold. If it is not, then the flow returns to . If the RSSI is below the threshold, however, then, at , the connected state manager  scans for other available networks. The connected state manager  sends a request to the local wireless network detector  to scan for available networks and, in response, receives a list of available access points and their corresponding RSSIs.","At , the connected state manager  determines if there are any available access points. If there are not, then control passes to the disconnected state manager . If there are, however, then the flow proceeds to , where the UE performs access point connection authentication.",{"@attributes":{"id":"p-0072","num":"0071"},"figref":"FIG. 6","b":["605","610","615","625","620"]},"If the mobile device is moving faster than the threshold (e.g. the user is driving), then at , the mobile device determines whether or not it is connected to a mobile hotspot. If the mobile device is not moving faster than the threshold (e.g. the user is walking or running), then at , the mobile device determines whether or not it has moved more than a threshold distance. If the mobile device has not moved more than the threshold distance, then at , the mobile device determines whether the signal strength of the wireless network to which it is connected (if it is connected) is below a threshold. If the mobile device has moved more than the threshold distance, then at , the mobile device scans for available local wireless networks. The threshold distance can be the approximate diameter of the type of local wireless network to which the mobile device is connected, or to which it is trying to connect. This may be a different threshold distance depending on the type of network.","If the signal strength is below the threshold, then at , the mobile device scans for available local wireless networks. If the signal strength is not below the threshold, then at , the mobile device prevents scanning for available local wireless networks.","Returning to , if the mobile device is connected to a mobile hotspot, then at , the mobile device prevents scanning for available local wireless networks. If the mobile device is not connected to a mobile hotspot, then at , the mobile device performs a periodic heartbeat scan for available local wireless networks. This can be a long-interval heartbeat scan, such as every 300 seconds.","Returning to , if the mobile device is connected to an external power source, then at , the mobile device prevents scanning for available local wireless networks. If the mobile device is not connected to an external power source, then at , the mobile device performs a periodic heartbeat scan for available local wireless networks.",{"@attributes":{"id":"p-0077","num":"0076"},"figref":"FIG. 7","b":"710"},"At , the mobile device determines the prior motion state and the current motion state. At , the mobile device determines whether the motion state of the mobile device changed from a non-stationary motion state to a stationary motion state. That is, the mobile device determines whether or not the motion state changed from one of walking, running, or in-transit to one of sitting, standing, fiddling, or absolute rest. If the motion state has changed from a non-stationary motion state to a stationary motion state, then at , the mobile device scans for an available local wireless network.","If, however, at , the motion state did not change from a non-stationary motion state to a stationary motion state, then at , the mobile device determines whether or not the motion state of the mobile device changed from a stationary motion state to a non-stationary motion state. That is, the mobile device determines whether or not the motion state changed from one of sitting, standing, fiddling, or absolute rest to one of walking, running, or in-transit. If the motion state has not changed from a stationary motion state to a non-stationary motion state, then the flow returns to .","If, however, at , the motion state has changed from a stationary motion state to a non-stationary motion state, then at , the mobile device determines whether or not the motion state is \u201cin-transit.\u201d If the motion state is not \u201cin-transit,\u201d then at , the mobile device scans for an available local wireless network. If, however, the motion state is \u201cin-transit,\u201d then at , the mobile device prevents scanning for available local wireless networks. The flow then returned to .","When the motion state changes from a stationary motion state to a non-stationary motion state and the mobile device scans for an available local wireless network, the mobile device may not select the local wireless network with the strongest signal. Rather, it would be preferable for the mobile device to select the available local wireless network toward which it is moving, if the mobile device can identify that local wireless network. On the other hand, if the motion state of the mobile device changes from a non-stationary motion state to a stationary motion state and the mobile device scans for an available local wireless network, the mobile device should preferably select the available local wireless network with the strongest signal.","Motion state change events enable \u201clow power communication\u201d between the wireless local network subsystem and the sensor subsystem. Additionally, motion state change events occur infrequently, which further reduces power consumption.",{"@attributes":{"id":"p-0083","num":"0082"},"figref":"FIG. 8","b":["810","820"]},"In an aspect, rather than simply triggering a scan when the motion state changes from stationary to non-stationary or vice versa, a UE can use its motion state to perform additional scanning optimizations.",{"@attributes":{"id":"p-0085","num":"0084"},"figref":"FIG. 9","b":["900","910","930"]},"In the architecture , the existing LFR is left \u201cintact,\u201d and the motion-aided local wireless network connectivity (MALWNC) engine  triggers additional scans to improve performance by utilizing motion information. This ensures that roaming performance returns to the level of the LFR only if motion information is not available. Also, it can make each additional MALWNC scan logic switchable so that it can easily be added\/removed without affecting the performance of the LFR.","For this purpose, the MALWNC  subscribes to motion state change events from the Coarse Motion Classifier (CMC)  on the advanced digital signal processor (ADSP) . The CMC  may correspond to the motion state manager  of  and\/or may include the motion detector , the motion state classification , and\/or the motion state change detector . The CMC  classifies motion states of the UE (e.g., Walk, Run, Stationary, Fiddle, In-Transit) every, for example, one second from 20 Hz, 3-axis acceleration samples. Then, it detects the changes of motion states (e.g., from Walk to Stationary states), whose rate is low in common (e.g., 100\/day). Although the CMC  and the MALWNC  may run in different subsystems, they can communicate with each other directly via a direct link without requiring costly wakeups of the application processor.","Based on the RSSI of the access point to which the UE is connected, the LFR can operate in three different modes:\n\n","A threshold Tis the connected access point RSSI threshold for roaming candidate lookup. A hysteresis of, for example, 5 dB can be applied to avoid needless triggering due to state transition between SCAN and WAIT states. That is, T=T+5 dB, for example.","Once a lookup scan is performed, the roaming candidate access point can be selected based on configured conditions. If a candidate is found, the host is informed and woken up for re-association and authentication. If not, the lookup scan can be continued or suspended depending on the scan algorithm.","The LFR may perform the following scan triggering algorithm. First, upon receiving a lookup DOWN event, the algorithm scans all channels in the occupied channel list (a.k.a. the channel cache). This is a split scan.","Second, if no candidates are found and the empty scan refresh period is non-zero, the algorithm fires a timer programmed to the configured value. Once the timer fires, the algorithm scans on all non-DFS channels in the valid list. This is a contiguous scan. If no candidates are found, this step is repeated. If, however, no candidates were found and the empty scan refresh period is zero, then the algorithm re-registers by lowering the lookup DOWN threshold by, for example, 3 dB.","Third, upon receiving the lookup DOWN event, the algorithm once again scans on all channels in the occupied channel list. This is a split scan. If no candidates are found, the algorithm immediately scans on all non-DFS channels in the valid list. This is a contiguous scan. If no candidates are found, the algorithm fires a timer programmed to a neighbor scan refresh period. Once the timer fires, the algorithm scans on all non-DFS channels in the valid list. This is a contiguous scan. If no candidates are found, the algorithm stops scanning.","Once the scan is finished, the list of access points and their RSSI values are passed to the LFR roam candidate selection module. Then, three conditions are checked to determine the roaming candidate:\n\n","These conditions address the \u201caccess point ping ponging\u201d case. This case can happen if the UE roams to a slightly better access point than the current one in terms of RSSI. After moving to the new access point, the UE may return to the old access point, and vice versa. The above conditions are a form of hysteresis, and help avoid this ping ponging.","The existing roaming engine (i.e., LFR) is currently well optimized to limit roaming power consumption, and performs very few scans in support of roaming. At the LFR's present performance, it may be difficult to further reduce the number of scans. Turning the focus to performance, there are aspects that can be improved by using motion context and a limited increase in power\/scans that would be difficult to achieve without motion.","There are two motion-aided scanning performance optimizations that can be implemented by the MALWNC, referred to herein as LowRSSI and ContinuousWalk. The UE can periodically scan for available local wireless networks while it is \u201cin motion\u201d to reduce the latency of connecting to a new local wireless network. The phrase \u201cin motion\u201d (or \u201cin-motion\u201d or \u201cinMotion\u201d) refers to a motion state of walk or run, and includes transitions between the two. That is, if the UE transitions from walk to run to walk, for example, the UE is considered to be \u201cin motion\u201d the entire time.","The LowRSSI optimization can be beneficial in the following case: the LFR permanently gives up on scanning for candidates if none are found in, for example, four scans after the RSSI goes below, for example, \u221278 dBm (i.e., three back-to-back scans followed by one additional scan after, for example, 20 seconds). Recovery in this case is achieved only if the RSSI improves, or through a disconnect\/reconnect cycle (operating system controlled). To avoid disconnection, it requires frequent scans to find viable roaming candidate.","The ContinuousWalk optimization can be beneficial in the following case: while moving, the LFR does not fully utilize many access points in an enterprise setting. Accordingly, the data throughput of the LFR is lower than the achievable throughput. In addition, the LFR could fail to roam if the RSSI drops rapidly (e.g., when moving to a different floor via a stairway). To achieve better data throughput and to avoid disconnection, aggressive roaming is required while moving (e.g., change lookup threshold from \u221278 dBm to \u221268 dBm).","These motion-aided scanning performance optimizations consider three performance metrics. First, the long-term power delta in mA resulting from new logic is considered. Second, the likelihood of disconnect during a scenario of interest is considered. This performance metric is more important than data throughput in general. This metric is important for latency-sensitive VoIP applications. Currently, the LFR accepts, for example, a 5% disconnection ratio, that is, the number of disconnection per total roams. Third, the data throughput delta during scenarios of interest is considered. This performance metric is important for high data rate applications. Higher throughput could shorten transmissions of bursty data, enabling power saving. Currently, the LFR considers it good enough if the access point supports a data rate higher than, for example, 5 Mbps.","Table 1 summarizes MALWNC scan triggers in addition to LFR scan triggers. There are three types of scan triggering logic. Each trigger is designed to address one of the optimizations described above, and are orthogonal to each other. As such, each trigger can be enabled individually based on commercialization needs and importance.",{"@attributes":{"id":"p-0102","num":"0107"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"4","colwidth":"84pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 1"},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}},{"entry":[{},{},"Ramifications in",{}]},{"entry":["Use Case","Optimization","roaming behavior","Performance impact"]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["LowRSSI","Periodic scan after","This scan helps to","Avoid disconnect"]},{"entry":[{},"LFR_GIVEUP state","avoid disconnect when","Some additional scans"]},{"entry":[{},"if current motion =","the user moves to a","may cost additional"]},{"entry":[{},"\u2018inMotion\u2019","low RSSI condition","power"]},{"entry":[{},{},"and stays there for"]},{"entry":[{},{},"more than, e.g., 20 sec,"]},{"entry":[{},{},"then starts moving"]},{"entry":[{},{},"again"]},{"entry":[{},{},"LFR scans have"]},{"entry":[{},{},"stopped at this point"]},{"entry":["Continuous","Scan upon","This scan helps to","Better data throughput"]},{"entry":["Walk","TDOWN event","roam to the BestAP","while moving in an"]},{"entry":[{},"AND current","while moving","enterprise setting"]},{"entry":[{},"motion = \u2018inMotion\u2019","LFR does not try to","with many APs"]},{"entry":[{},{},"scan since RSSI >","Avoid disconnect if"]},{"entry":[{},{},"T, so it may miss","RSSI drops rapidly"]},{"entry":[{},{},"high RSSI APs while","(e.g., moving to"]},{"entry":[{},{},"moving","different floor via"]},{"entry":[{},{},{},"stairs)"]},{"entry":[{},{},{},"Some additional"]},{"entry":[{},{},{},"scans and handovers may "]},{"entry":[{},{},{},"cost additional power"]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]}}}}},"Table 2 defines the terms used in Table 1 and elsewhere in this disclosure.",{"@attributes":{"id":"p-0104","num":"0109"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 2"},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Terminology","Definition"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["LFR_GIVEUP state","The LFR state such that it performed, e.g., four scans and could "]},{"entry":[{},"not find a roaming candidate. If RSSI > TOR disconnected,"]},{"entry":[{},"exit this state"]},{"entry":["inMotion","inMotion refers to the union of the \u201cWalk\u201d and \u201cRun\u201d"]},{"entry":[{},"motion states"]},{"entry":["TDOWN event","This event occurs when the RSSI of the connected AP goes"]},{"entry":[{},"below T"]},{"entry":[{},"Tis the RSSI threshold to trigger a scan while moving"]},{"entry":[{},"T> Tand default value is, e.g., \u221268 dBm"]},{"entry":[{},"5 dB hysteresis, e.g., is used to avoid needless triggering due"]},{"entry":[{},"to RSSI fluctuation. For example, T= T+ 5 dB"]},{"entry":["MOTION STOP","Refers to the motion state change from inMotion to a"]},{"entry":["event","Stationary state"]},{"entry":[{},"Stationary state refers to both absolute rest and semi-rest"]},{"entry":[{},"states, such as sitting and standing"]},{"entry":["T","RSSI threshold to trigger scan upon MOTION_STOP event"]},{"entry":[{},"T> Tand default value is, e.g., \u221265 dBm"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},"In the LowRSSI optimization, frequent periodic scans are necessary to find roaming candidates since the access point to which the UE is connected is about to be disconnected (e.g., RSSI<\u221281 dBm). However, frequent scans may drain power. Thus, periodic scans can be enabled only when the motion state is \u201cinMotion,\u201d thereby limiting the number of scans. Note that the percentage of time a UE is \u201cinMotion\u201d is typically low, for example, less than 5%.","Two parameters are associated with the scanning trigger. First, a time interval of the periodic scan (T). The default value may be, for example, 5 seconds. Second, the maximum number of scans in a contiguous motion segment (N). This parameter is to avoid unnecessary scans in a single access point case. The default value may be, for example, four.","All the scans in the LowRSSI optimization are contiguous scans, since the previous split scans of the LFR failed to find a candidate. In other use cases, split scans are used since they are additional scans to improve data throughput.",{"@attributes":{"id":"p-0108","num":"0113"},"figref":"FIG. 10","b":["1010","1000","1020","1020","1000","1030","1000","1000","1030"],"sub":"PS "},"If no_candidate_found in a scan result, the state machine  keeps scanning every T. This is a contiguous scan. Otherwise, the state machine  transitions to the REPORT_SCAN state .","The state machine  stops scanning if the PeriodicScanCounter>N(e.g., 4).","Upon a Lookup UP event (e.g., the RSSI has improved), the state machine  transitions to the WAIT state in the LFR. Upon an HB failure event (e.g., a beacon was missed), the state machine  transitions to the disconnected state.",{"@attributes":{"id":"p-0112","num":"0117"},"figref":["FIG. 11","FIG. 5"],"b":["1100","532","534"]},"At , the UE determines whether or not it is \u201cin motion,\u201d that is, in a motion state of walking or running. If it is in motion, then at , the UE determines whether or not a periodic scan timer has expired and\/or an RSSI is below a threshold. If the periodic scan timer has not expired or the RSSI is not below the threshold, then the flow returns to . At , however, if the UE is in motion and the periodic scan timer has expired or the RSSI is below the threshold, the UE scans for an available local wireless network.","At , the UE determines whether or not the scanning results in discovery of an available local wireless network. At , if the scanning results in the discovery of an available local wireless network, the UE connects to the available local wireless network. If the scanning results in the discovery of multiple available local wireless networks, the UE may connect to the local wireless network with the highest RSSI. If the scanning does not result in the discovery of an available local wireless network, the UE resets the periodic scan timer and scans for a local wireless network upon expiration of the periodic scan timer.","At , the UE determines whether or not a periodic scan counter is greater than a threshold. At , if the periodic scan counter is greater than the threshold, the UE stops scanning for a local wireless network. However, at , if the periodic scan counter is not greater than the threshold, then the UE increments the periodic scan counter.","If at  the UE determines that it is not in motion, that is, in a motion state of sit, stand, absolute rest, fiddle, or null, then at , the UE determines whether or not the previous motion state was an in-motion motion state. If it was not, then the flow returns to . If it was, however, then the flow proceeds to .","In another aspect of the disclosure, the UE can filter out unnecessary in-motion to stationary motion change events, thereby preventing unnecessary scans for available local wireless networks. For example, if a user frequently starts and stops walking in the same place, the UE will trigger a scan each time the user stops walking. However, since the user is still at the same location, the scan is unlikely to result in the discovery of a new local wireless network. To avoid such a case, the UE can adaptively filter out short in-motion segments. The filter threshold can be increased if no candidate local wireless network is found, or decreased if a candidate local wireless network is found.",{"@attributes":{"id":"p-0118","num":"0123"},"figref":["FIG. 12","FIG. 5"],"b":["1210","532","534"]},"At , the UE determines whether or not the motion state changed from an in-motion motion state to a stationary motion state, that is, from a motion state of walking or running to a motion state of sitting, standing, absolute rest, fiddling, or null. If the motion state has not changed from an in-motion motion state to a stationary motion state, then the flow returns to . Otherwise, the flow proceeds to .","At , the UE determines whether or not the difference between the time of the motion stop event (i.e., the motion state change from in-motion to stationary) and the time of the last motion start event (i.e., a motion state change from stationary to in-motion) is less than a cutoff threshold. If it is, then at , the UE ignores this motion state change event and the flow returns to . Accordingly, if the UE has not been in-motion for longer than the cutoff threshold, the UE ignores motion state change events and thereby suppresses scans for available local wireless networks.","If, however, at , the UE determines that the difference between the time of the motion stop event and the time of the last motion start event is not less than the cutoff threshold, then at , the UE scans for any available local wireless networks. Based on the scanning, at , the UE determines whether or not it is still in the same place as the previous scan. If it is, then at , the UE increases the cutoff threshold. If it is not, then at , the UE decreases the cutoff threshold. In both cases, the flow returns to . Accordingly, if the UE has been in motion for longer than the cutoff threshold but is still in the same place, the cutoff threshold is too short. If, however, the UE has been in motion for longer than the cutoff threshold and is no longer at the same place, the cutoff threshold is too long, as the UE may have missed available local wireless networks along the way.","As an example, the UE may increase the cutoff threshold at  by incrementing a cutoff counter and using it to retrieve the next value of a cutoff matrix that specifies minimum, maximum, and one or more intermediate values of the cutoff threshold. The UE may set the cutoff counter to the smaller of the cutoff counter plus one or the size of the cutoff matrix, thus preventing the cutoff counter from having a value larger than the size of the cutoff matrix. The UE can then set the cutoff threshold to the value of the cutoff matrix corresponding to the value of the cutoff counter. For example:\n\n","Note that the first value of the cutoff matrix, or Cutoff_Matrix(1), should not be zero, so as to always filter very short periods of motion. In the example above, the value of Cutoff_Matrix(1) is five seconds, which means that in-motion periods of less than five seconds are always filtered out. Further, when the UE is disconnected from a local wireless network, the cutoff counter should be reset to one.","In a similar way, the UE may decrease the cutoff threshold at  by decrementing the cutoff counter and using it to retrieve the next value of the cutoff matrix. The UE may set the cutoff counter to the larger of the cutoff counter minus one or one, thus preventing the cutoff counter from having a value smaller than one. The UE can then set the cutoff threshold to the value of the cutoff matrix corresponding to the value of the cutoff counter. For example:\n\n","There are several methods the UE can use to determine whether or not it is in the same place in . For example, the UE can use an available local wireless network selection-based method. In this method, once a scan is finished, the UE compiles a list of available access points and their respective RSSI values to check three conditions. First, for each available network, the UE determines whether or not the service set identifier (SSID) profile of the network matches a registered SSID profile. Next, the UE determines whether or not the RSSI of the available network is above a lookup threshold. Finally, the UE determines whether or not the absolute value of the RSSI of the available network minus the RSSI of the network to which it is currently connected, if any, is greater than a threshold. Each of these determinations should be \u201cyes.\u201d If any of these determinations are \u201cno,\u201d the UE is considered to be in the same place. Otherwise, it is considered to be a different place.","As another example, the UE can use a local wireless network signal distance-based method. In this method, once the scan is finished (i.e., scan A), the UE measures the local wireless network signal distance of the last scan (i.e., scan B) using the Tanimoto distance.","The Tanimoto distance D is [0 1]. The Tanimoto distance between two feature vectors (FVand FV) is defined as:",{"@attributes":{"id":"p-0128","num":"0137"},"maths":{"@attributes":{"id":"MATH-US-00001","num":"00001"},"math":{"@attributes":{"overflow":"scroll"},"mfrac":{"mrow":[{"mi":"F","mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}],"mrow":{"msub":{"mi":["V","A"]},"mo":"\u00b7","mi":"F"},"msub":{"mi":["V","B"]}},{"msup":[{"mrow":{"mo":["\uf605","\uf606"],"mrow":{"mi":"F","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msub":{"mi":["V","A"]}}},"mn":"2"},{"mrow":{"mo":["\uf605","\uf606"],"mrow":{"mi":"F","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msub":{"mi":["V","B"]}}},"mn":"2"}],"mo":["+","-"],"mrow":{"mi":"F","mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}],"mrow":{"msub":{"mi":["V","A"]},"mo":"\u00b7","mi":"F"},"msub":{"mi":["V","B"]}}}]}}}},"The distance for local wireless network point of reference (PoR) clustering is defined based on the RSSI values of all access points:",{"@attributes":{"id":"p-0130","num":"0139"},"maths":{"@attributes":{"id":"MATH-US-00002","num":"00002"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mfrac":{"mrow":[{"munderover":{"mo":"\u2211","mrow":{"mi":"i","mo":"=","mn":"1"},"mi":"n"},"mo":"\u2062","mrow":{"msub":[{"mi":["a","i"]},{"mi":["b","i"]}],"mo":"\u2062"}},{"mrow":[{"munderover":{"mo":"\u2211","mrow":{"mi":"i","mo":"=","mn":"1"},"mi":"n"},"mo":"\u2062","msubsup":{"mi":["a","i"],"mn":"2"}},{"munderover":{"mo":"\u2211","mrow":{"mi":"i","mo":"=","mn":"1"},"mi":"n"},"mo":"\u2062","msubsup":{"mi":["b","i"],"mn":"2"}},{"munderover":{"mo":"\u2211","mrow":{"mi":"i","mo":"=","mn":"1"},"mi":"n"},"mo":"\u2062","mrow":{"msub":[{"mi":["a","i"]},{"mi":["b","i"]}],"mo":"\u2062"}}],"mo":["+","-"]}]},"mo":","}}},"ul":{"@attributes":{"id":"ul0009","list-style":"none"},"li":{"@attributes":{"id":"ul0009-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0010","list-style":"none"},"li":"where a=(RSSI+101) of FP\u03b5[0101],\n        \n        "}}}},"RSSIcorresponds to the ith access point, FPcorresponds to an active local wireless network scan from instant A, and FPcorresponds to an active local wireless network scan from instant B.","If the distance between the current scan (i.e., scan A) and the previous scan (i.e., scan B) is less than a threshold (e.g., T), the UE determines that it is in the same place. If, however, the distance between the current scan and the previous scan is greater than a threshold (e.g., T), the UE determines that it is in a different place. If the UE cannot make either determination, it does nothing. The different place threshold (i.e., T) should be greater than or equal to the same place threshold (i.e., T).","In an aspect, the UE can filter out unnecessary drive to stationary motion state change events. For example, if a user frequently stops in traffic while driving, at traffic lights or in stop-and-go traffic, for example, the UE may trigger a scan each time the user has to stop moving. However, since the user is still driving, any scans would be unnecessary and the UE should be prevented from scanning for available local wireless networks. To accomplish this, the UE can ignore changes between the drive and stationary motion states except for the first change. The UE can begin scanning again when its motion state changes to a motion state other than driving or stationary, for example, walking.",{"@attributes":{"id":"p-0134","num":"0145"},"figref":["FIG. 13","FIG. 5"],"b":["1310","532","534"]},"At , the UE determines whether or not the motion state changed from a driving motion state to a stationary motion state, that is, a motion state of sitting, standing, absolute rest, or fiddling. If the motion state did change from a driving motion state to a stationary motion state, then at , the UE determines whether or not this is the first time the motion state changed from a driving motion state to a stationary motion state. If it is, then at , the UE scans for any available local wireless networks. If it is not, however, then at , the UE ignores the change in motion state, thereby suppressing unnecessary scans.","If, at , the motion state has not changed from a driving motion state to a stationary motion state, then at , the UE determines whether or not the motion state changed from a motion state of driving or stationary to another motion state, that is, from a motion state of driving, sitting, standing, absolute rest, or fiddling, to a motion state of walking, running, or null. If it has not, the flow returns to . Otherwise, the flow proceeds to , where the UE scans for any available local wireless networks.","In the various aspects, the UE can still perform a periodic heartbeat scan in case it misses a motion state change that would otherwise trigger a scan for available local wireless networks. In the walking aspect, the heartbeat scan may be performed every five minutes, for example, while in the driving aspect, the heartbeat scan may be performed every 20 minutes, for example.",{"@attributes":{"id":"p-0138","num":"0149"},"figref":"FIG. 14","b":["200","200","300"]},"MOTION_WAIT State :","Upon receiving a LOOKUP_DOWN_NOTIFICATION, transition from the MOTION_WAIT state . If the current state is \u201cNOT_IN_MOTION,\u201d wait for a MOTION_START_EVENT. Upon receiving a MOTION_START_EVENT, or if the current motion state is \u201cIN_MOTION,\u201d transition to the MOTION_DETECT state .","MOTION_DETECT State :","Upon entering this state, start a MOTION_TIMER, which may be, for example, 15 seconds. Once the timer expires (i.e., MOTION_TIMER_EXPIRY_EVENT), transition to the PERIODIC_SCAN state . Upon receiving a MOTION_STOP event, run a MOTION_STOP cutoff algorithm, described below, and stop and remove the MOTION_TIMER if it exists.","A motion stop cutoff algorithm is used to filter out unnecessary in-motion to stationary motion change events:",{"@attributes":{"id":"p-0144","num":"0155"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"[Step 1] Upon entering the INIT state, reset CutoffCounter = 1"},{"entry":"[Step 2] Upon receiving a MOTION_STOP event, check its cutoff"},{"entry":"\u2003\u2003IF |MOTION_STOP\u2212 MOTION_START| <"},{"entry":"\u2003\u2003\u2003\u2002CuttoffThreshold, Ignore this event for scan"},{"entry":"\u2003\u2003\u2003\u2002Transition to MOTION_WAIT state 1410"},{"entry":"\u2003\u2003ELSE do ONE_SHOT_SCAN 1440"},{"entry":"\u2003\u2003\u2003\u2002IF (no candidate found), CutoffCounter = MIN(CutoffCounter++,"},{"entry":"\u2003\u2003\u2003\u20023)"},{"entry":"\u2003\u2003\u2003\u2002ELSE, CutoffCounter = MAX(CutoffCounter\u2212\u2212, 1)"},{"entry":"\u2003\u2003CutoffThreshold = CutoffMatrix(CutoffCounter) where"},{"entry":"\u2003\u2003CutoffMatrix = [5 10 15] (sec)"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"In the algorithm above, the various numerical values, such as 1, 3, 5, 10, 15, are exemplary, and neither the disclosure nor the algorithm are limited to or by these values.","PERIODIC_SCAN State :","Step 1. Upon entering this state, scan all channels in the occupied channel list (a.k.a. channel cache). This is a split scan.","Step 2. If no candidate is found, start a timer programmed to the configured value with an exponential backoff (e.g., the MOTION_BACKOFF timer). For example: exponent=2, minTime=30 seconds, maxTime=240 seconds.","Step 3. Upon receiving a MOTION_BACKOFF_TIMEOUT_EVENT, scan on all non-DFS channels in the valid list. This is a contiguous scan.","Step 4. Upon receiving a MOTION_STOP_EVENT, stop and remove the MOTION_BACKOFF timer and transition to the ONE_SHOT_SCAN state .","ONE_SHOT_SCAN State :","Step 1. Upon entering this state, scan all channels in the occupied channel list. This is a split scan.","Step 2. If no candidates are found in the split scan, scan on all non-DFS channels in the valid list. This is a contiguous scan.","Step 3. After the contiguous scan is completed, transition to the MOTION_WAIT state if no candidates found.","The following is a list of event handling changes:","WLAN_START_ROAM_CANDIDATE_LOOKUP_REQ: In the scan state, this event is ignored.","LOOKUP_DOWN_NOTIFICATION: On receiving this event, transition\/enter the SCAN state from the WAIT state. The scan sub-state state-machine enters the MOTION_WAIT state.","LOOKUP_UP_NOTIFICATION: On receiving this event, exit the SCAN state regardless of the current sub-state. All SCAN sub-state state variables are reset and any timers are stopped.","ROAM_CANDIDATE_FOUND: This event can be generated while in the PERIODIC_SCAN state  or the ONE_SHOT_SCAN state . Exit the scan state when this event is received. All SCAN sub-state state variables are reset and any timers are stopped.","WLAN_HAL_INIT_SCAN_REQ_FROM_HOST: This event triggers a transition to a PAUSE state from the SCAN state. All SCAN sub-state state variables are reset and any timers are stopped.","WLAN_HAL_FINISH_SCAN_RSP: If in the PAUSE state, transition to the SCAN state and into the MOTION_DETECT sub-state. If in the SCAN state and in the PERIODIC_SCAN sub-state , use the event to advance the algorithm (self-transition). If in the SCAN state and the ONE_SHOT_SCAN sub-state  and this was the output from the last scan, transition to the MOTION_WAIT state.","Those of skill in the art will appreciate that information and signals may be represented using any of a variety of different technologies and techniques. For example, data, instructions, commands, information, signals, bits, symbols, and chips that may be referenced throughout the above description may be represented by voltages, currents, electromagnetic waves, magnetic fields or particles, optical fields or particles, or any combination thereof.","Further, those of skill in the art will appreciate that the various illustrative logical blocks, modules, circuits, and algorithm steps described in connection with the aspects disclosed herein may be implemented as electronic hardware, computer software, or combinations of both. To clearly illustrate this interchangeability of hardware and software, various illustrative components, blocks, modules, circuits, and steps have been described above generally in terms of their functionality. Whether such functionality is implemented as hardware or software depends upon the particular application and design constraints imposed on the overall system. Skilled artisans may implement the described functionality in varying ways for each particular application, but such implementation decisions should not be interpreted as causing a departure from the scope of the present disclosure.","The various illustrative logical blocks, modules, and circuits described in connection with the aspects disclosed herein may be implemented or performed with a general purpose processor, a digital signal processor (DSP), an application specific integrated circuit (ASIC), a field programmable gate array (FPGA) or other programmable logic device, discrete gate or transistor logic, discrete hardware components, or any combination thereof designed to perform the functions described herein. A general purpose processor may be a microprocessor, but in the alternative, the processor may be any conventional processor, controller, microcontroller, or state machine. A processor may also be implemented as a combination of computing devices, e.g., a combination of a DSP and a microprocessor, a plurality of microprocessors, one or more microprocessors in conjunction with a DSP core, or any other such configuration.","The methods, sequences and\/or algorithms described in connection with the aspects disclosed herein may be embodied directly in hardware, in a software module executed by a processor, or in a combination of the two. A software module may reside in RAM, flash memory, ROM, EPROM, EEPROM, registers, hard disk, a removable disk, a CD-ROM, or any other form of storage medium known in the art. An exemplary storage medium is coupled to the processor such that the processor can read information from, and write information to, the storage medium. In the alternative, the storage medium may be integral to the processor. The processor and the storage medium may reside in an ASIC. The ASIC may reside in a user terminal (e.g., UE). In the alternative, the processor and the storage medium may reside as discrete components in a user terminal.","In one or more exemplary aspects, the functions described may be implemented in hardware, software, firmware, or any combination thereof. If implemented in software, the functions may be stored on or transmitted over as one or more instructions or code on a computer-readable medium. Computer-readable media includes both computer storage media and communication media including any medium that facilitates transfer of a computer program from one place to another. A storage media may be any available media that can be accessed by a computer. By way of example, and not limitation, such computer-readable media can comprise RAM, ROM, EEPROM, CD-ROM or other optical disk storage, magnetic disk storage or other magnetic storage devices, or any other medium that can be used to carry or store desired program code in the form of instructions or data structures and that can be accessed by a computer. Also, any connection is properly termed a computer-readable medium. For example, if the software is transmitted from a website, server, or other remote source using a coaxial cable, fiber optic cable, twisted pair, digital subscriber line (DSL), or wireless technologies such as infrared, radio, and microwave, then the coaxial cable, fiber optic cable, twisted pair, DSL, or wireless technologies such as infrared, radio, and microwave are included in the definition of medium. Disk and disc, as used herein, includes compact disc (CD), laser disc, optical disc, digital versatile disc (DVD), floppy disk and blu-ray disc where disks usually reproduce data magnetically, while discs reproduce data optically with lasers. Combinations of the above should also be included within the scope of computer-readable media.","While the foregoing disclosure shows illustrative aspects of the disclosure, it should be noted that various changes and modifications could be made herein without departing from the scope of the disclosure as defined by the appended claims. The functions, steps and\/or actions of the method claims in accordance with the aspects of the disclosure described herein need not be performed in any particular order. Furthermore, although elements of the disclosure may be described or claimed in the singular, the plural is contemplated unless limitation to the singular is explicitly stated."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["A more complete appreciation of aspects of the disclosure and many of the attendant advantages thereof will be readily obtained as the same becomes better understood by reference to the following detailed description when considered in connection with the accompanying drawings which are presented solely for illustration and not limitation of the disclosure, and in which:",{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 9"},"Error! Reference source not found. illustrates an exemplary state diagram for scan triggering in a LowRSSI optimization.",{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 14"}]},"DETDESC":[{},{}]}
