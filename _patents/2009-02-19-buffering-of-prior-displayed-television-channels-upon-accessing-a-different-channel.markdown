---
title: Buffering of prior displayed television channels upon accessing a different channel
abstract: Systems and methods are provided for managing a time-shift buffer (TSB) that is used for buffering video presentations. One such method includes receiving user input identifying a storage capacity for the TSB and modifying a storage capacity of the TSB such that it is at least substantially equal to the storage capacity identified by the user input.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08577201&OS=08577201&RS=08577201
owner: Cisco Technology, Inc.
number: 08577201
owner_city: San Jose
owner_country: US
publication_date: 20090219
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","TECHNICAL FIELD","BACKGROUND OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS"],"p":["This application is a continuation of U.S. utility application having Ser. No. 10\/143,647, filed on May 10, 2002, which claims priority to U.S. provisional application having Ser. No. 60\/290,315, filed on May 11, 2001, both of which are entirely incorporated herein by reference. Furthermore, this application is related to U.S. utility patent application entitled, \u201cCHANNEL BUFFERING AND DISPLAY MANAGEMENT SYSTEM FOR MULTI-TUNER SET-TOP BOX\u201d, issued under U.S. Pat. No. 7,409,140 on Aug. 5, 2008, for which the inventors are Arturo Rodriguez and Ramesh Nallur, which is filed on even date herewith, and which is entirely incorporated herein by reference.","The invention is generally related to television systems, and, more particularly, is related to buffering video presentations.","Subscriber television systems are now capable of providing many services in addition to analog broadcast video. In implementing enhanced programming, the home communication terminal (\u201cHCT\u201d), otherwise known as the settop box, has become an important computing device for accessing various video services. In addition to supporting traditional analog broadcast video functionality, digital HCTs (or \u201cDHCTs\u201d) now also support an increasing number of two-way digital services such as video-on-demand.","A DHCT is typically connected to a cable or satellite television network and includes hardware and software for providing various services and functionality. In some systems, software executed by a DHCT can be downloaded and\/or updated via the subscriber television network. The ability to download software provides flexibility in adding or updating applications executed by the DHCT. Each DHCT also typically includes a processor, communication components and memory, and is connected to a television. While many conventional DHCTs are stand-alone devices that are externally connected to a television, a DHCT and\/or its functionality may be integrated into a television or other display device, as will be appreciated by those of ordinary skill in the art.","Some DHCTs include mechanisms for buffering a video presentation, including while it is being presented to a viewer. This buffering functionality allows a viewer to manipulate the video presentation using trick mode operations such as rewind, fast-forward, pause, and play. One problem with buffering functionality offered by current DHCTs is that the buffering capacity is fixed. When a viewer is presented with video presentations comprising data that exceeds the fixed buffering capacity, a portion of the previously buffered data is erased or over-written in order to accommodate the buffering of new data. For some users, the buffering capacity offered by a DHCT is more than satisfactory. However, other users may desire additional buffering capacity. For example, viewers that typically watch longer video presentations (e.g., 3 hour movies) may have a greater need for a larger buffer capacity than viewers that typically watch shorter video presentations (e.g., 30 minute sit-coms). Another problem with buffering functionality offered by DHCTs is that viewers may have different preferences regarding buffered video presentations. For example, viewers may have different preferences regarding whether buffered video presentations corresponding to previously displayed television channels should continue to be accessible after a change in television channels. Based on the foregoing, there exists a need for systems and methods that address these and\/or other problems associated with buffering video presentations.","The preferred embodiments of the invention now will be described more fully hereinafter with reference to the accompanying drawings. In particular, preferred embodiments of managing time-shift buffers (TSBs) will be described. A TSB comprises storage media that is used for buffering audio and\/or video (A\/V) data. The buffering of A\/V data allows a user of a digital home communication terminal (DHCT) to perform trick mode operations on a television presentation that is currently being broadcast. Such trick mode operations may include pause, fast-rewind, fast-forward, slow-reverse, slow-forward, and\/or play. In one embodiment of the invention, a user is provided with systems for managing one or more TSBs. Where more than one TSB is used in a DHCT, each TSB typically buffers A\/V data that is output by a respective tuner. In one embodiment, a TSB may buffer A\/V data that is received by the DHCT from a consumer electronics device such as, for example, a camcorder. The consumer electronics device may be connected to the DHCT via a wired or wireless port. In the description that follows,  will provide an example of system components that may be used to help implement and\/or manage a TSB. Furthermore, examples of methods for managing TSBs are illustrated in the flow charts of . Finally, user interface (UI) screens that may be provided in connection with managing a TSB are illustrated in . Note, however, that the invention may be embodied in many different forms and should not be construed as limited to the embodiments set forth herein. Furthermore, all examples given herein are intended to be non-limiting, and are provided in order to help convey the scope of the invention.",{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 1","b":["100","100","110","200","130","200","140","200","110","130","110","130","130","110","200","110","200","140","140"]},{"@attributes":{"id":"p-0027","num":"0026"},"figref":["FIG. 2","FIG. 2","FIG. 2","FIG. 1"],"b":["200","200","200","242","110","130","110"]},"The DHCT  further preferably includes at least one processor  for controlling operations of the DHCT , an output system  for driving the display device , and a tuner system  for tuning to a particular television channel or frequency and for sending and receiving various types of data to\/from the headend . In one embodiment, the output system  may be part of the media engine . Tuner system  can select from a plurality of transmission signals provided by the subscriber television system . Tuner system  enables the DHCT  to tune to downstream media and data transmissions, thereby allowing a user to receive digital or analog media content via the subscriber television system. The tuner system  includes, in one implementation, an out-of-band tuner for bi-directional quadrature phase shift keying (QPSK) data communication and a quadrature amplitude modulation (QAM) tuner (in band) for receiving television signals. In one embodiment, the tuner system  includes a plurality of tuners for receiving a plurality of video streams.","The DHCT  may include one or more wireless or wired communication ports  for receiving and\/or transmitting data to other devices. The communication ports  may include a USB (Universal Serial Bus), an Ethernet, an IEEE-1394 bus, an analog video input port, a serial port, and\/or a parallel port, among others. In one embodiment, the DHCT  may receive A\/V data from a consumer electronics device such as, for example, a camcorder, via one of the communication ports . The DHCT  may also include a receiver  for receiving externally-generated user inputs or commands from an input device such as, for example, a remote control.","The DHCT  includes at least one storage device  for storing video streams received by the DHCT . A PVR application , in cooperation with the operating system  and the device driver , effects, among other functions, read and\/or write operations to the storage device . Note that, references herein to write and\/or read operations to\/from the storage device , or portions thereof, will be understood to mean that such operations are performed to\/from the storage medium or media (e.g., hard disks) of the storage device , unless indicated otherwise. The device driver  is a software module that preferably resides in the operating system . The device driver , under management of the operating system , provides operating instructions to the storage device . The controller  of the storage device  receives operating instructions from the device driver  and implements those instructions to cause read and\/or write operations to a hard disk  (i.e., hard disk - or hard disk -). Furthermore, the device driver , in cooperation with the operating system , communicates with the storage device controller  to format and\/or manipulate a hard disk .","The storage device  is preferably coupled to a common bus  through a communication interface . The communication interface  is preferably an integrated drive electronics (IDE) interface or a small computer system interface (SCSI), although another interface such as, for example, IEEE-1394 or USB, among others, may be used. Alternatively, the storage device  can be externally connected to the DHCT  via a communication port . The communication port  may be, for example, an IEEE-1394, a USB, a SCSI, or an IDE, among others.","In one implementation, video streams are received in DHCT  via communications interface  and stored in a temporary memory cache. The temporary memory cache may be a designated section of DRAM  or an independent memory attached directly to communication interface . The temporary cache is implemented and managed to enable media content transfers to storage device . In one implementation, the fast access time and high data transfer rate characteristics of the storage device  enable media content to be read from the temporary cache and written to storage device  in a sufficiently fast manner. Multiple simultaneous data transfer operations may be implemented so that while data is being transferred from the temporary cache to storage device , additional data may be received and stored in the temporary cache.","The storage device  preferably includes a hard disk drive but may, in an alternative embodiment, include any type of storage medium, such as, for example, a magnetic, optical, or semiconductor based storage medium, among others. The storage device  preferably includes at least two hard disks - and - that include storage capacity corresponding to respective buffers TSB - and TSB -. In an alternative embodiment, TSB - and TSB - may be included on a single hard disk. In another embodiment, a TSB  (i.e., TSB - or TSB -) may reside in more than one storage medium. In yet another embodiment, a TSB  may reside in a storage medium that is not a hard disk.","In one embodiment of the invention, the operating system , device driver , and controller  cooperate to create a file allocation table (FAT). The FAT is where the operating system  stores information about hard disk clusters and the files associated with those clusters. The operating system  can determine where a file's data is located by using FAT entries. A FAT entry describes the physical locations of data for a video stream file (i.e., a file that the video stream is written to on a hard disk ). The FAT also keeps track of which clusters are free, or open, and thus available for use. To buffer a downloaded video stream into the storage device , the PVR application , in one preferred embodiment, creates a file and file name for the video stream to be downloaded. The operating system , in cooperation with the device driver , checks the FAT for an available, or writable, cluster for storing the video stream.","When an application such as PVR application  creates (or extends) a video stream file, the operating system , in cooperation with the device driver , queries the FAT for an available cluster to begin writing the video stream. The PVR application  (through communication with the operating system  and\/or device driver ) causes the controller  to write a downloaded video stream to the available cluster under a particular video stream file name. The FAT is then updated with the new video stream file name corresponding to the available cluster. If the video stream requires more storage space than what the cluster can offer, the operating system  queries the FAT for the location of another available cluster to continue writing the video stream. The FAT is updated to keep track of which clusters store a particular video stream under the given video stream file name.","A multiplicity of clusters may be required to write a file corresponding to a compressed video stream to a hard disk . The clusters corresponding to one particular video stream file may or may not be adjacent or contiguous in the hard disk . The clusters corresponding to a particular video stream file can be fragmented throughout a hard disk storage space. As described earlier, a file allocation table (FAT) keeps track of which clusters are employed to write a downloaded video stream to a hard disk . A defragmentation operation may be used by the device driver  to cause the clusters associated with a particular video stream file to be contiguous. Other preferred embodiments include other file allocation mechanism for storing data according to the functions described herein.","The DHCT  preferably comprises a signal processing system  which includes a demodulating system  and a transport demultiplexing and parsing system  (herein referred to as demultiplexing system ). The components of signal processing system  are preferably capable of QAM demodulation, forward error correction, demultiplexing MPEG-2 transport streams, and parsing elementary streams. One or more of the components of the signal processing system  can be implemented with software, a combination of software and hardware, or preferably in hardware.","The demodulating system  comprises functionality for demodulating analog or digital transmission signals. For instance, demodulating system  can demodulate a digital transmission signal in a carrier frequency that was modulated, among others, as a QAM-modulated signal. When tuned to a carrier frequency corresponding to an analog TV signal, demultiplexing system  is bypassed and the demodulated analog TV signal that is output by demodulating system  is instead forwarded to analog video decoder . Analog video decoder  converts the analog TV signal into a sequence of digitized pictures and their respective digitized audio. The digitized pictures and respective audio that are output by analog video decoder  are forwarded to the compression engine .","The compression engine  processes the sequence of digitized pictures and digitized audio and converts them into compressed video and audio streams, respectively. The compressed video and audio streams are produced in accordance with the syntax and semantics of a designated audio and video coding method, such as, for example, MPEG-2, so that they can be interpreted by video decoder  and audio decoder  for decompression and reconstruction at a future time. Each compressed stream consists of a sequence of data packets containing a header and a payload. Each header contains a unique packet identification code, or PID, associated with the respective compressed stream.","The compression engine  multiplexes the audio and video compressed streams into a transport stream, such as, for example, an MPEG-2 transport stream. Furthermore, the compression engine  can compress audio and video data corresponding to multiple video streams in parallel (e.g., multiple analog TV signals received by multiple tuners) and can multiplex the respective audio and video compressed streams into a single transport stream. The compression engine  may use a dedicated local memory module (not shown) for storing data before, during, and\/or after processing by the compression engine . The compressed streams output by compression engine  are provided as input to signal processing system .","The demultiplexing system  of the signal processing system  interprets sequence and picture headers and annotates their locations within their respective compressed stream. Annotating the location of sequence and picture headers facilitates the implementation of trick mode operations on a compressed stream. An analog video stream (e.g., corresponding to a TV presentation) that is received via a tuned analog transmission channel can be output as a transport stream by signal processing system  and stored in storage device . A compressed stream may be also output by signal processing system  and presented as input to media engine . The video decoder  and the audio decoder  of the media engine  can decompress the compressed stream for subsequent output to the display device  ().","The demultiplexing system  may include means for MPEG-2 transport demultiplexing. When tuned to carrier frequencies carrying a digital transmission signal, demultiplexing system  extracts data packets corresponding to desired video streams for further processing. Therefore, the demultiplexing system  may preclude further processing of data packets corresponding to unwanted video streams. The demultiplexing system  parses (i.e., reads and interprets) desired video streams to interpret sequence headers and picture headers, and deposits the video streams into DRAM . The processor  then causes the video streams to be transferred from DRAM  to the storage device .","A compressed video stream corresponding to a tuned carrier frequency carrying a digital transmission signal can be output as a transport stream by signal processing system  and stored in storage device . A packetized compressed stream can also be output by signal processing system  and presented as input to media engine . The video decoder  and\/or audio decoder  of the media engine  may decompress the compressed stream for subsequent output to the display device .","One having ordinary skill in the art will appreciate that signal processing system  may include other components not shown, including memory, decryptors, samplers, digitizers (e.g., analog-to-digital converters), and multiplexers, among others. Further, other embodiments will be understood, by those having ordinary skill in the art, to be within the scope of the preferred embodiments of the invention. For example, analog signals (e.g., NTSC) may bypass one or more elements of the signal processing system  and may be forwarded directly to the output system . In addition, data that is output by one DHCT component (e.g., signal processing system ) may be temporarily stored in DRAM  prior to being received as input by another DHCT component (e.g., media engine  or analog video decoder ). It will also be understood by those having ordinary skill in the art that components of signal processing system  can be located in different areas of the DHCT .","In one embodiment of the invention, a plurality of tuners and respective demodulating systems , demultiplexing systems , and signal processing systems  may simultaneously receive and process a plurality of respective broadcast digital video streams. Alternatively, a single demodulating system , a single demultiplexing system , and a single signal processing system , each with sufficient processing capabilities may be used to process a plurality of digital video streams that are received by a plurality of respective tuners.","In yet another embodiment, a first tuner in tuning system  receives an analog video signal corresponding to a first video stream and a second tuner simultaneously receives a digital compressed stream corresponding to a second video stream. The first video stream is converted into a digital format. The second video stream (or a compressed digital version thereof) is forwarded to the storage device  for storage on a hard disk . Data annotations for each of the two streams are performed to facilitate future retrieval of the video streams from the storage device . The first video stream and\/or the second video stream may also be forwarded to media engine  for decoding and subsequent presentation via display device  ().","A plurality of compression engines  may also be used to simultaneously compress a plurality of analog video streams. Alternatively, a single compression engine  with sufficient processing capabilities may be used to compress a plurality of analog video streams. Compressed digital versions of respective analog video streams may be forwarded to the storage device  for storage on a hard disk . Data annotations for each of the video streams may be performed to facilitate future retrieval of the video streams from the storage device . Depending on requirements in effect, only a subset of compressed video streams may be forwarded to the storage device . Any of the received video streams may also be simultaneously forwarded to media engine  for decoding and subsequent presentation via the display device .",{"@attributes":{"id":"p-0048","num":"0047"},"figref":["FIG. 3","FIG. 2"],"b":["249","200","249","249","251","252","244","249"]},"Basic functionality of the DHCT  is provided by an operating system  that is primarily stored in flash memory . The operating system  includes at least one resource manager  that provides an interface to and coordination of resources of the DHCT  such as, for example, computing resources. One or more software applications, herein referred to as applications, are executed by utilizing the computing resources in the DHCT . Applications stored in flash memory  or DRAM  are executed by processor  under the auspices of the operating system . Data required as input by an application is stored in DRAM  or flash memory  and read by processor  as needed during the course of the application's execution. Input data may be data stored in DRAM  by a secondary application or other source, either internal or external to the DHCT . Data generated by an application is stored in DRAM  by processor  during the course of the application's execution.","An application referred to as navigator  is also resident in flash memory  for providing a navigation framework for services provided by the DHCT . The navigator  registers for and in some cases reserves certain user inputs related to remote control keys such as channel up\/down, last channel, favorite channel, etc. A platform library  includes a collection of utilities useful to applications. Such utilities may include a timer manager, a compression manager, an HTML parser, a database manager, a widget toolkit, a string manager, and other utilities (not shown). These utilities are accessed by applications via application programming interfaces (APIs) as necessary so that each application does not have to incorporate these utilities. Two components of the platform library  that are depicted in  are a window manager  and a service application manager (SAM) client .","The window manager  provides a mechanism for implementing the sharing of the screen regions and user input. The window manager  is also responsible for, as directed by one or more applications, implementing the creation, display, and allocation of the limited DHCT  screen resources. The window manager  allows multiple applications to share the screen by assigning ownership of screen regions. The window manager  communicates with resource manager  to coordinate available resources (such as display memory) among different resource-consuming processes. Such processes may be directly or indirectly invoked by one or more applications.","The window manager  also maintains, among other things, a user input registry  in DRAM . The user input registry  may be accessed to determine which of various applications running on the DHCT  should receive data corresponding to a user input, and in which order. As an application is executed, it registers a request to receive certain user input keys or commands. When the user presses a key corresponding to one of the commands on the remote control device, the command is received by the receiver  and relayed to the processor . The processor  dispatches the event to the operating system  where it is forwarded to the window manager . The window manager  then accesses the user input registry  and routes data corresponding to the incoming command to the appropriate application.","The SAM client  is a client component of a client-server system, with the server component being located on the headend  (). A SAM database  in DRAM  includes a data structure of services that are created and updated by the headend . Many television services can be defined using the same application component, with different parameters. Television services may include, without limitation and in accordance with one implementation, the presentation of television broadcast programs, video-on-demand (VOD), music, and\/or an interactive program guide (IPG). In general, the identification of a service includes the identification of an executable application that provides the service along with a set of application-dependent parameters that indicate to the application the service to be provided. As a non-limiting example, a service of presenting a television program could be executed with a set of parameters to view HBO or with a separate set of parameters to view CNN. Each association of the application component (e.g., watchTV ) and one parameter component (HBO or CNN) represents a particular service that has a unique service I.D.","Applications can be downloaded into DRAM  at the request of the SAM client , typically in response to a request by the user or in response to a message from the headend. In this non-limiting example, DRAM  contains a PVR application , an interactive program guide (IPG) application , and a video-on-demand (VOD) application . It should be clear to one with ordinary skill in the art that these applications are not limiting and merely serve as examples for this present embodiment of the invention. Furthermore, one or more DRAM  based applications may, as an alternative embodiment, be resident in flash memory , or vice versa.","The PVR application  provides user interface (UI) screens that assist the user in buffering, recording, and viewing video presentations. For instance, the PVR application  may be configured to provide the user with the UI screens depicted in . As used herein, a video presentation may be a television presentation such as, for example, a movie, a television show, a cartoon, a news program, a sports program, or a series episode, among others. A video presentation may be received as a broadcast A\/V signal or may be downloaded interactively via the tuner system . A video signal may also be received via one of the communication ports  from a consumer electronics device such as, for example, a camcorder, a VCR, or a DVD player. The PVR application  may be implemented in hardware, software, firmware, or a combination thereof.","In a preferred embodiment, the PVR application  is implemented in software that is stored in a DRAM  and that is executed by processor . The PVR application , which may comprise an ordered listing of executable instructions for implementing logical functions, may be embodied in any computer-readable medium for use by or in connection with an instruction execution system, apparatus, or device, such as a computer-based system, a processor-containing system, or another system that can fetch instructions from the instruction execution system, apparatus, or device and execute them.","The PVR application  provides for A\/V data storage functionality by enabling the temporary writing to, and if requested, long-term recording to the storage device . Through mechanisms explained below, A\/V data is buffered in a TSB  (i.e., TSB - or TSB -). In accordance with a preferred embodiment, the PVR application  manages a TSB  at the application level for each tuner and\/or a local device providing A\/V data. Hence, each tuner in tuner system  and\/or local device attached to the DHCT  may have a respective TSB . Data that is buffered in a TSB  may have been received from a remote server via the subscriber television network  (), from a local device via a home communication network, or from a consumer device such as, for example, a video camera that is directly connected to the DHCT .","The A\/V data buffered in a TSB  may be retained (in response to user input) as a long-term recording or may be deleted as additional A\/V data is buffered. The A\/V data buffered in a TSB  may be deleted by, for example, deleting a TSB management file associated with the data and\/or by designating the clusters storing the A\/V data as writable (for eventual write operations that overwrite the A\/V data within those clusters).","A long-term recording will be understood to comprise A\/V data that is stored for an extended period of time as determined by the user. Long-term recordings are stored in clusters that are not assigned to a TSB . A long-term recording may be scheduled in advance of its broadcast time or may be achieved by selecting a video presentation buffered in a TSB  and designating it as a long-term recording. As will be described below, designating a video presentation as a long term recording can occur, in one implementation, by receiving user input selecting the video presentation from a list provided via a UI screen. The PVR application  responds by \u201cflagging\u201d the associated TSB management file as corresponding to a long-term recording. The designation of a video presentation as a long-term recording is relayed to the device driver  which may effect the removal of the clusters containing the video presentation from a TSB . In one embodiment, the removal of clusters containing the video presentation from a TSB  may be implemented by associating the clusters with a file corresponding to the long-term recording, and by replenishing the TSB  with an equal number of clusters from a pool of available clusters. A long-term recording may eventually be deleted from the storage device  in response to, for example, a user request. This deletion occurs, in one implementation, by configuring the associated non-buffer clusters as writable, and thus eventually available for the buffering or recording of other A\/V data. In an alternative embodiment, a buffered video presentation that is designated as a long term recording may be copied from a TSB  to another portion of a hard disk  for long term storage.","In one implementation, applications executing on the DHCT  work with the navigator  by abiding by several guidelines. First, an application utilizes the SAM client  for the provision, activation, and suspension of services. Second, an application shares DHCT  resources with other applications and abides by the resource management policies of the SAM client , the operating system , and the DHCT . Third, an application conforms to situations where shared resources are only accessible via the navigator . Fourth, when an application loses service authorization while providing a service, the application suspends the service via the SAM client . The navigator  may reactivate an individual service application when it later becomes authorized. Finally, an application client is designed to not have access to commands corresponding to certain user input keys reserved by the navigator  (e.g., power, channel +\/\u2212, volume +\/\u2212, etc.).","Data and software used in providing a DHCT service to a user may be stored in one or more of the following memory resources: a data storage device located at a headend, a data storage device located at a customer premises, a volatile or non-volatile memory internal to the DHCT , and\/or a hard drive internal to the DHCT . For example, an executable program or algorithm corresponding to an operating system (OS) component, or to a client platform component, or to a client application (e.g., PVR application ), or to respective parts thereof, may reside in and\/or execute out of DRAM  and\/or flash memory . An executable program or algorithm may also reside in a storage device  and\/or an external storage device and may be transferred into DRAM  for execution. Likewise, data input and\/or output for an executable program or algorithm may be stored in DRAM , in flash memory , in storage device , and\/or in a storage device connected to the DHCT .",{"@attributes":{"id":"p-0062","num":"0061"},"figref":"FIG. 4","b":["400","200","400","410","411","412","413","414","410","420"]},"The functions of an \u201cA\u201d key , a \u201cB\u201d key , and a \u201cC\u201d key  may vary depending on the UI screen being presented to a user at the time of the key's activation. For instance, when the UI screen illustrated in  is presented to a user, the \u201cC\u201d key  may be used to request a previously displayed UI screen. Other remote control keys may function as follows: a List key  may be used to request a list of video recordings that are stored in storage device ; an Info key  may be used to request additional information regarding a video presentation; and video control keys - may be used to control a VCR and\/or to request PVR functionality such as play (), fast-forward (), rewind (), stop (), pause (), and record ().",{"@attributes":{"id":"p-0064","num":"0063"},"figref":["FIG. 5","FIG. 1"],"b":["200","501","200","204","204","204"]},"After the user identifies a desired buffering capacity for a TSB , the amount of data that is buffered in a TSB  is limited (as indicated in step ) such that it does not, or substantially does not, exceed the capacity that is identified by the user input. One approach for limiting the amount of data that is buffered in a TSB  is to assign to the TSB a storage capacity (e.g., a certain number of clusters) that corresponds to the user selected buffering capacity. A buffering capacity that is identified in terms of a play-time may be implemented based on an estimated number of data units that typically provide such play-time. For example, if a user identifies a desired TSB capacity as one-hour, then the storage capacity that is assigned to a TSB  may be limited to a predetermined number of bytes that is estimated to provide an average play-time of one-hour.","More than one approach may be used to manage a TSB  after a certain storage capacity has been allocated to it. In one implementation, after the TSB is full of buffered data, then additional data being buffered in the TSB is written over previously buffered data. The previously buffered data that is over-written is preferably, but not necessarily, data that had been residing in the TSB for the longest duration as compared to other TSB content. In another implementation, after the TSB is full of buffered data, then a portion of the storage capacity allocated to the TSB is de-allocated from the TSB, and additional storage capacity that is equivalent to the de-allocated portion is assigned to the TSB to accommodate additional data buffering. The portion of storage capacity that is de-allocated from the TSB preferably, but not necessarily, contains data that had been residing in the TSB for the longest duration as compared to other TSB content.","The PVR application  may be used to help maintain a user defined storage capacity for a TSB . In a preferred embodiment, the storage capacity of a TSB  corresponds to a portion of a hard disk . If storage capacity is defined based on a desired play time, then a corresponding data unit capacity (e.g., in terms of bytes) may be determined based on an estimated data rate. For example, if a user selects a TSB storage capacity corresponding to 3 hours of play time, then assuming a constant bit rate of 2 mega bits per second (Mbps), the PVR application  may assign 0.9 gigabytes (GB) of storage capacity to the TSB .","The PVR application  may track available disk space and use it to maintain the TSB storage capacity at a desired level. For example, before the PVR application  effects a write operation to a TSB , it can query the device driver  (through the operating system ) to determine available hard disk space. After a write operation, the PVR application  can again poll the device driver  to get an update on available hard disk space.","A TSB  preferably comprises a plurality of clusters. The total storage capacity of the TSB clusters, at any one time, may be less than or greater than the user-defined TSB storage capacity because of variations in the bit-rate within a video stream and between video streams that are stored in a TSB . The variations, if any, of the amount of clusters in a TSB  will preferably represent a small percentage of the TSB capacity, thereby resulting in a substantially constant TSB size over time.","The PVR application  preferably manages a TSB  by creating a TSB management file associated with each buffered video presentation. A buffered video presentation may include an entire broadcast video presentation or only a portion thereof. For example, if the video presentation Friends is broadcast from 8:00 p.m. to 8:30 p.m., then the buffered video presentation of Friends may only include the portion that was broadcast between 8:15 and 8:30 p.m. The PVR application  determines at what time the video presentation was tuned based on a real-time clock value that is forwarded by the operating system . The PVR application  also receives program guide data from, for example, an IPG application  (). The program guide data may include start and end times of each video presentation and may be received by the IPG application  from the headend . The PVR application  may use the program guide data and the values from a real-time clock to create TSB management files for tracking respective buffered video presentations. The TSB management files may also be used to provide a UI screen that includes a list of video presentations currently stored in a TSB . In one embodiment, a TSB management file, which may be stored in DRAM , can include program guide data (e.g., title and broadcast time) as well as data representing the beginning and end time of buffered portions of video presentations.",{"@attributes":{"id":"p-0071","num":"0070"},"figref":"FIG. 6","b":["200","601","200","602"]},"When access to prior-channel buffered data is enabled, then a user may have access to buffered video presentations corresponding to two or more respective television channels that are displayed to the user as a result of one or more channel changes. In one implementation, a video presentation is only buffered and\/or accessible if the corresponding television channel is presented to a user for more than a predetermined time period. In one embodiment, this predetermined time period may be specified by user input.","As a non-limiting example, assume that a user requests that access to prior-channel buffered data be enabled, and that the user subsequently watches the video presentation Friends on channel . Then, in such a scenario, after the user effects a change of the displayed television channel from channel  to channel , the user will still be able to review the portion of Friends that was displayed on channel  prior to the change to channel . In other words, data that is buffered prior to a change in channels is not deleted or otherwise rendered inaccessible.","If a user requests that access to a prior-channel buffered data be disabled, then buffered video presentations corresponding to a prior channel are deleted and\/or rendered inaccessible. A video presentation may be rendered inaccessible by, for example, deleting a corresponding TSB management file and\/or by setting a flag that identifies the video presentation as inaccessible.","In another embodiment, a user may press a certain remote control key (e.g., the buffer key  or the record key , ) within a short time interval (e.g., 2 seconds) prior to invoking a change in TV channels (e.g., via the channel +\/\u2212key ) in order to cause a TV channel being currently viewed to continue being buffered in a TSB  after the change in TV channels is implemented. In this manner a user is provided with a quick method for activating inter-channel buffering. The activation of inter-channel buffering via a certain remote control key may be enabled or disabled by a user via an interactive configuration session (e.g., by selecting a corresponding option via a UI screen).",{"@attributes":{"id":"p-0076","num":"0075"},"figref":["FIG. 7","FIG. 1"],"b":["200","701","200","702","200","200"]},"After the DHCT  receives user input identifying a buffered video presentation that is to be stored as a long-term recording, the DHCT  stores the buffered video presentation as a long-term recording (as indicated in step ). One approach for storing a buffered video presentation as a long-term recording is to set a flag in a corresponding TSB management file identifying the video presentation as such, and to designate the storage space containing the buffered video presentation as not corresponding to a TSB  (i.e., to de-allocate the storage space from a TSB -i). Additional storage space having a capacity equal to the size of the de-allocated storage space may be allocated to the TSB  to maintain a desired buffering capacity. In another embodiment, a video presentation that is buffered in a TSB  may be converted to a long-term recording by being copied to another portion of a hard disk .",{"@attributes":{"id":"p-0078","num":"0077"},"figref":["FIG. 8","FIG. 4"],"b":["800","800","277","430","277","278","800","277","330","252"]},"A recorded programs list  contains recording entries corresponding to recorded video presentations. Each recording entry in the recorded programs list  includes information such as the title of a recorded video presentation, the date it was recorded, the start time of the recording, and the length (i.e., play time) of the recording. In one embodiment, the arrow keys  () can be used to scroll through the recorded programs list  and to highlight a desired recording entry.","The heading area  contains a heading for the RPL screen . In this example, the heading area contains the heading \u201cRecorded Programs List.\u201d The bottom area  of RPL screen  contains information about the current functions of relevant keys on the remote control device  (). As suggested in bottom area , the play key  may be used to request the playing of a video presentation corresponding to a currently highlighted recording entry, the \u201cB\u201d key  may be used to request recording options, and the \u201cC\u201d key  may be used to request a recording schedule.","Video corresponding to the television channel to which the DHCT  is currently tuned (for which audio may also be playing, and which typically corresponds to a video presentation occupying the full screen before the user is presented with RPL screen ) is displayed in a video area . Next to the video area  is a detailed focus area  that includes detailed information for a currently highlighted recording entry . In the current example, the currently highlighted recording entry  corresponds to the video presentation title JAG . The detailed focus area  may include information such as the title of the video presentation (e.g., JAG), the quality of the recording (e.g., Good), the anticipated end of the recording duration (e.g., until erased). A user may request additional information by activating the Info key  on the remote control device .","In one embodiment, the detailed focus  area may include an icon or a letter (e.g., A or D) to indicate whether the video presentation was received as an analog or digital signal. Furthermore, the PVR application  () may identify a quality of a recording to a user based on a parameter that was employed by the compression engine  in compressing an analog signal or based on a bit-rate of a received digital signal.",{"@attributes":{"id":"p-0083","num":"0082"},"figref":["FIG. 9","FIG. 4","FIG. 8","FIG. 4"],"b":["900","902","900","472","800","902","911","912","913","850","473","800","810","912","900","830","810","800"]},{"@attributes":{"id":"p-0084","num":"0083"},"figref":["FIG. 10","FIG. 9"],"b":["1000","1002","1000","912","900","1000","1002","1011","1012","1013","1011","1013"]},{"@attributes":{"id":"p-0085","num":"0084"},"figref":["FIG. 11","FIG. 10"],"b":["1100","1102","1100","1012","1000","1102","1111","1112","1113","1102"]},{"@attributes":{"id":"p-0086","num":"0085"},"figref":["FIG. 12A","FIG. 10","FIG. 4"],"b":["1200","1200","1013","1000","1201","1202","1202","436"]},{"@attributes":{"id":"p-0087","num":"0086"},"figref":["FIG. 12B","FIG. 12A","FIG. 10"],"b":["1210","1210","1200","1200","1013","1000","1212","1212","1213"]},"A favorite channel or presentation may have been identified as such via user input. A list of favorite channels and\/or presentations may be stored in a favorites database  (). Selecting option  enables a user to access a buffered video stream corresponding to a previously displayed channel after the user changes television channels (e.g., via the Channel +\/\u2212key ), only if the previously displayed channel or presentation had been designated as a \u201cfavorite.\u201d","Inter-channel buffering with respect to only favorite channels or presentations may be implemented by the PVR application . For example, after a user requests a change in television channels, the PVR application  may first access an IPG database  (containing a television program schedule) () to identify the currently displayed channel or presentation. The PVR application may then access a favorites database  to determine whether the currently displayed channel or presentation had been designated as a favorite. If the currently displayed channel or presentation had been designated as a favorite, then the PVR application  may enable the user to access a buffered video presentation corresponding to the favorite channel or presentation after a change in television channels is implemented. Otherwise, the PVR application  disables access to the buffered video presentation corresponding to the channel that was displayed prior to a change in channels.",{"@attributes":{"id":"p-0090","num":"0089"},"figref":["FIG. 13A","FIG. 10"],"b":["1300","1300","1011","1000","1300"]},"A buffered programs list  contains buffer entries corresponding to buffered video presentations. Each buffer entry in the buffered programs list  includes information such as the title of a buffered video presentation, the broadcast time of the original video presentation, the available time of the buffered video presentation (i.e., the beginning and end times of the buffering), and an indication as to whether the buffered video presentation is designated to be recorded (i.e., stored as a long-term recording). In one embodiment, the arrow keys  () can be used to scroll through the buffered programs list  and to highlight a desired buffer entry.","The bottom area  of BPL screen  contains information about the current functions of relevant keys on the remote control device . As suggested in bottom area , the play key  and the record key  may be used to request the playing and recording, respectively, of a video presentation corresponding to a currently highlighted buffer entry . The \u201cA\u201d key  may be used to request the recording of all the buffered video presentations, the \u201cB\u201d key  may be used to request a UI screen for sorting the buffered video presentation, and the \u201cC\u201d key  may be used to \u201cexit\u201d from the BPL screen .",{"@attributes":{"id":"p-0093","num":"0092"},"figref":["FIG. 13B","FIG. 4","FIG. 13A","FIG. 13B","FIG. 4"],"b":["1310","426","1300","1302","1324","1322","473","1322"]},{"@attributes":{"id":"p-0094","num":"0093"},"figref":["FIG. 14","FIG. 13","FIG. 4","FIG. 13A"],"b":["1400","1402","1460","1400","472","1300","1402","1411","1412","1413","1411","1413","411","412","400","1402","420"]},{"@attributes":{"id":"p-0095","num":"0094"},"figref":["FIGS. 15A","FIG. 14"],"b":["15","15","1500","1510","1520","1500","1306","1500","1412","1400"]},"As shown in , the SBPL screen  contains a buffered programs list  that is sorted based on the play-time duration of the buffered video presentations. As a result, a buffered video presentation that has a longer play-time is listed above another video presentation that has a shorter play-time. A user may request the SBPL  by, for example, selecting the buffered length option  while being presented with the Sort screen  ().","As shown in , the SBPL screen  contains a buffered programs list  that is sorted based on the broadcast time of the buffered video presentations. In other words, a video presentation that has an earlier start time is listed above another video presentation that has a later start time. A user may request the SBPL  by, for example, selecting the broadcast time option  while being presented with the Sort screen  ().","In an alternative embodiment, a UI screen for achieving functionality described herein may have fewer, additional, and\/or different components and\/or may have a different layout than is shown in . For example, in accordance with one embodiment, among others, a UI screen may not include a video area , a heading area , a detailed focus area , and\/or a bottom area .","It should be emphasized that the above-described embodiments of the invention, particularly any \u201cpreferred embodiments\u201d, are merely possible examples, among others, of the implementations, setting forth a clear understanding of the principles of the invention. Many variations and modifications may be made to the above-described embodiments of the invention without departing substantially from the principles of the invention. All such modifications and variations are intended to be included herein within the scope of the disclosure and invention and protected by the following claims."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Embodiments of the invention can be better understood with reference to the following drawings. The components in the drawings are not necessarily drawn to scale, emphasis instead being placed upon clearly illustrating the principles of the invention. In the drawings, like reference numerals designate corresponding parts throughout the several views.",{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0010","num":"0009"},"figref":["FIG. 3","FIG. 2"]},{"@attributes":{"id":"p-0011","num":"0010"},"figref":["FIG. 4","FIG. 2"]},{"@attributes":{"id":"p-0012","num":"0011"},"figref":["FIG. 5","FIG. 1"]},{"@attributes":{"id":"p-0013","num":"0012"},"figref":["FIG. 6","FIG. 1"]},{"@attributes":{"id":"p-0014","num":"0013"},"figref":["FIG. 7","FIG. 1"]},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":["FIG. 9","FIG. 1"]},{"@attributes":{"id":"p-0017","num":"0016"},"figref":["FIG. 10","FIG. 1"]},{"@attributes":{"id":"p-0018","num":"0017"},"figref":["FIG. 11","FIG. 1"]},{"@attributes":{"id":"p-0019","num":"0018"},"figref":["FIG. 12A","FIG. 1"]},{"@attributes":{"id":"p-0020","num":"0019"},"figref":["FIG. 12B","FIG. 1"]},{"@attributes":{"id":"p-0021","num":"0020"},"figref":["FIG. 13A","FIG. 1"]},{"@attributes":{"id":"p-0022","num":"0021"},"figref":["FIG. 13B","FIG. 1"]},{"@attributes":{"id":"p-0023","num":"0022"},"figref":["FIG. 14","FIG. 1"]},{"@attributes":{"id":"p-0024","num":"0023"},"figref":["FIGS. 15A","FIG. 14"],"b":["15","15"]}]},"DETDESC":[{},{}]}
