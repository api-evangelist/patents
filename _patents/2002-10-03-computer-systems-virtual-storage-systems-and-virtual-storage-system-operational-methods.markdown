---
title: Computer systems, virtual storage systems and virtual storage system operational methods
abstract: Computer systems, virtual storage systems, and virtual storage system operational methods are described. According to one aspect, a computer system includes a virtual storage system including a physical storage space, a virtual storage space, and a non-guaranteed available capacity utilized to generate a non-guaranteed snapshot volumes of virtual storage volumes of the virtual storage space, wherein the virtual storage system is configured to monitor the non-guaranteed available capacity and to present a report regarding the non-guaranteed available capacity responsive to the monitoring and a host configured to execute an application wherein generation of a non-guaranteed snapshot volume of at least one of the virtual storage volumes is desired, to access the report to determine the non-guaranteed available capacity, and to issue a request to the virtual storage system to generate the at least one non-guaranteed snapshot volume of the at least one virtual storage volume responsive to the accessing.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07089395&OS=07089395&RS=07089395
owner: Hewlett-Packard Development Company, L.P.
number: 07089395
owner_city: Houston
owner_country: US
publication_date: 20021003
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION"],"p":["The invention relates to computer systems, virtual storage systems, and virtual storage system operational methods.","Computer systems including hardware, software, firmware etc. have continued to experience expansive growth and sophistication in recent years. Peripherals and other components arranged to interface with computer systems have also experienced expansive growth and improvements.","In addition, computer systems are generally used in an increasing number of applications especially with the advancements made in networking solutions enabling communication between remotely spaced computers. For example, computer systems may be utilized in client applications, server applications as well as stand-alone personal computing applications.","With the increased processing speeds of computer systems, and the increasing usage of computer systems in new and varied applications, devices are desired to assist with storing and quickly accessing data processed and used by computer systems. Mass storage devices have been developed to handle large amounts of digital data utilized by computer systems. Redundant storage systems have been developed to provide continued, correct operations during the presence of a fault or other failure in a component or peripheral of a computer system. More specifically, three primary design criteria are typically considered when developing mass storage devices and include cost (low cost per unit of data storage), high input\/output performance, and availability (ability to recover data even though some components have failed and to insure continued operation). Redundant array of independent disk (RAID) systems have been utilized to provide redundant storage of relatively large amounts of data.","As described below, aspects of the present invention provide improved systems and methodologies for storing and providing data for use in associated computer applications.","Attention is directed to the following commonly assigned applications, which were filed the same day as the present application and are incorporated herein by reference: U.S. Pat. No. 6,807,605, entitled \u201c A System for Managing a Data Storage Array, a Method of Managing a Data Storage System, and a RAID Controller,\u201d by inventors David Umberger, Guillermo Navarro and Rodger Daniels; U.S. application Ser. No. 10\/264,573 filed 10\/3\/2002, entitled \u201c Method of Managing a Data Storage Array, and a Computer System Including a RAID Controller,\u201d by inventors David Umberger and Guillermo Navarro; U.S. Pat. No. 10\/264,659 filed 10\/3\/2002, entitled \u201c Virtual Storage Systems, Virtual Storage Methods and Methods of Over Committing a Virtual RAID Storage System,\u201d by inventors Michael B. and Lee L. Nelson; U.S. Pat. No. 6,996,582, entitled \u201c Virtual Storage Systems and Virtual Storage System Operational Methods,\u201d by inventors Rodger Daniels and Lee L. and U.S. Pat. No. 6,857,057,entitled \u201c Virtual Storage Systems and Virtual Storage System Operational Methods,\u201d by inventors Lee L. and Rodger Daniels.","According to one aspect of the invention, a computer system comprises a virtual storage system comprising a physical storage space, a virtual storage space, and a non-guaranteed available capacity utilized to generate a plurality of non-guaranteed snapshot volumes of a plurality of virtual storage volumes of the virtual storage space, wherein the virtual storage system is configured to monitor the non-guaranteed available capacity and to present a report regarding the non-guaranteed available capacity responsive to the monitoring and a host coupled with the virtual storage system and configured to execute an application wherein generation of a non-guaranteed snapshot volume of at least one of the virtual storage volumes is desired, to access the report to determine the non-guaranteed available capacity of the virtual storage system, and to issue a request to the virtual storage system to generate the at least one non-guaranteed snapshot volume of the at least one virtual storage volume responsive to the accessing of the report.","According to another aspect of the invention, a virtual storage system comprises physical storage means comprising a plurality of physical storage locations individually configured to store digital data and controller means coupled with the physical storage means and adapted to interface with a host, wherein the controller means is configured to provide a virtual storage means comprising a plurality of virtual storage volumes to provide a representation of the physical storage space and wherein the virtual storage system has a non-guaranteed available capacity usable to generate a non-guaranteed snapshot volume of at least one of the virtual storage volumes and wherein the controller means is further configured to monitor the non-guaranteed available capacity of the virtual storage system and to generate a report of the non-guaranteed available capacity.","According to still another aspect of the invention, a virtual storage system operational method comprises providing a virtual storage system comprising a physical storage space including a plurality of physical storage locations configured to store digital data and a virtual storage space comprising a plurality of virtual storage volumes, providing a mapping system including a plurality of pointers from the virtual storage volumes to the physical storage locations, copying the pointers of one of the virtual storage volumes to generate a non-guaranteed snapshot volume comprising the same pointers as the one virtual storage volume and the copying consuming non-guaranteed available capacity of the virtual storage system and overcommitting the virtual storage system and generating a plurality of reports having a uniform format and indicating the non-guaranteed available capacity of the virtual storage system, the generating the reports comprising generating the reports before and after the copying.","According to yet another aspect of the invention, a virtual storage system operational method comprises providing a virtual storage system comprising a physical storage space including a plurality of physical storage locations configured to store digital data and a virtual storage space comprising a plurality of virtual storage volumes, mapping a plurality of addresses of the virtual storage space to a plurality of physical storage locations of the physical storage space, monitoring a plurality of statuses of the virtual storage system and generating a report indicating non-guaranteed available capacity of the virtual storage system after the monitoring.","Referring to , an exemplary arrangement of a computer system is depicted as reference number . The exemplary computer system  includes a data storage system  and a host . According to aspects of the invention, storage system  is embodied as a virtual storage system. In one arrangement, storage system  is a virtual array (RAID) storage system having abstract addressing or mapping between a virtual storage space and physical storage space as described in further detail below. Virtual storage system arrangements differ from conventional disk array constructions which utilize mathematical functions to provide literal addressing which are fixed to blocks of physical storage space wherein a given address corresponds to a known physical block. Virtual storage systems implement adaptive, dynamic and arbitrary addressing enabling increased flexibility compared with conventional arrangements. For example, a plurality of virtual storage addresses of virtual storage space may be utilized to address a single physical storage location of physical storage space. In such a virtual storage system arrangement, point in time copies of data, also referred to as snapshot volumes of data, may be created which may result in over commitment of a virtual storage system as divergence of data occurs. Virtual storage system arrangements provide increased apparent capacity and flexibility compared with conventional constructions.","Storage system  arranged as a virtual storage configuration utilizes linear addressing space according to a Small Computer System Interface (SCSI) command set in one exemplary configuration. Although the presentation of storage system  to a host  may be consistent at different moments in time, a mapping system of a virtual storage system arrangement may change to accommodate demands or requirements of the storage system. Exemplary details regarding a virtual storage system are discussed in U.S. Pat. No. 5,392,244 to Jacobson et al., the teachings of which are incorporated herein by reference. Further details and aspects of virtual array technology are described in HP Virtual Array Technology, 2001 and Executive Summary: Virtualization, Simplification and Storage, Nov. 2001, both available from www.hp.com, and the teachings of which are incorporated herein by reference.","Still referring to , storage system  in the exemplary described arrangement includes a controller  and storage space  arranged to store data. Storage system  in the illustrated application is configured to interface with host . Storage system  is arranged to store data received from host  as well as provide requested data to host . Host  may be implemented as a workstation, personal computer, server, network of computer devices, or other appropriate computer structure utilizing a separate data storage system.","In accordance with one possible implementation, host  executes a plurality of applications desired by a particular user. As described further below, host , or other entity including for example, storage system , may desire the generation of a snapshot of data stored within storage system , also referred to as a business copy. Host  may access reports including status information from system  and\/or issue snapshot volume generation requests to system  in instances wherein host  desires the generation of a snapshot volume using system . Further details regarding accessing status information and generation of snapshot volumes are described in detail with respect to exemplary configurations below.","In the illustrated configuration, controller  is arranged to implement interfacing operations with respect to host  including handling of input\/output (I\/O) requests. In addition, controller  provides management of storage space  including addressing of storage space  and implementing storage of data therein. As described below in one exemplary configuration, controller  is arranged to create a virtual storage space representation of physical storage space and a mapping system to provide addressing therebetween.","In the depicted exemplary arrangement, controller  includes a central processing unit (CPU)  and memory . An exemplary central processing unit is a PowerPC 440 or 8240 available from Motorola, Inc.","Controller  of storage system  may be configured to implement AutoRAID operations as described in the '244 patent discussed above. Controller  implementing AutoRAID operations may monitor use of data stored within system  and determine a best RAID level for the data. For example, infrequently written data is stored in RAID 5DP providing storage efficiency while frequently written data may be stored in RAID 1+0 providing optimum performance. Data may be moved between RAID levels depending upon the age of the data, frequency of accessing the data, and other factors.","Memory  may be utilized to store maps as described further below for use in addressing storage space , to store executable code usable by controller , and to provide a cache for temporarily storing data. Memory  may include a plurality of separate memory areas for storing executable code, maps, and cache in one embodiment.","Referring to , an illustrative representation of storage space  of system  is shown. Storage space  includes a virtual storage space  and a physical storage space  according to an exemplary virtual storage architecture of the described system . Virtual storage space  includes a plurality of virtual storage volumes  and physical storage space  includes a plurality of physical storage volumes . The depicted number of volumes ,  is exemplary and more or less volumes  or volumes  may be utilized in a given application.","Virtual storage volumes  may be referred to as logical unit numbers (LUNs), logical volumes or logical drives. Virtual storage space  including virtual storage volumes  provide a convenient representation of storage capacity to host . Host  may utilize a SCSI command set to implement addressing of storage space  including virtual storage volumes . Host  may implement a logical volume manager, such as LVM software for use in an HP-UX operating system and available from Hewlett-Packard Company, to provide centralized management of storage system . For example, a logical volume manager may provide a virtualization of data storage of storage system  within host  for use in interfacing storage system  with host applications. Management features of system  may appear in a plurality of software management interfaces: SCSI command set, Virtual Front Panel (VFP), Graphical User Interface (GUI), Command Line User Interface (CLUI), Application Programming Interface (API), etc. for use in various solutions integrations.","Physical storage volumes  may comprise an array of disks individually configured to provide actual storage digital data (i.e., no data is stored using virtual storage space in the described configuration). In one aspect, controller  controls storage of data using volumes  according to desired RAID levels. The number of volumes  may be tailored to the particular implementation of system .","Virtual storage space  provides an abstract representation of physical storage space  to host . Virtual storage space  may be modified as desired by controller  or host . For example, virtual storage space  may be tailored to represent physical storage space  in a format which may be conveniently accessed by host . In turn, a logical volume manager of host  may provide yet another virtual abstraction of virtual storage space  (not shown) in a format which may be conveniently utilized by host applications.","Virtual storage space  of system  includes a plurality of addresses or storage locations . The depicted exemplary physical storage space  includes a plurality of addresses or storage locations . Addresses  of virtual storage space  are utilized to provide addressing of addresses  of physical storage space  wherein data is stored.","For example, in one embodiment, controller  operates to create and implement a mapping system  comprising a plurality of pointers . Pointers  of mapping system  may be stored within memory  and associate a plurality of respective addresses  of virtual storage space  with respective addresses  of physical storage space .","Host  may read or write data with respect to system  by submitting requests. Such requests may address a storage location  of virtual storage volumes . A request received from host  identifying a virtual storage location  has an associated pointer  which identifies the respective physical storage location  which contains the actual data to be read by host , or written to by host , as indicated in the request identifying the virtual storage location .","Individual virtual storage locations  may represent a common predefined amount of data at physical storage locations  in the described implementation. For example, virtual storage locations  may refer to clusters including 512 blocks which individually include 512 bytes of data in one exemplary arrangement. Accordingly, a virtual storage location  refers to a cluster size piece of data of a respective physical storage location  including 512 blocks individually comprising 512 bytes of data providing a total of 256 kbytes of data per physical storage address or location  in one embodiment.","Storage system  arranged according to a virtual storage architecture is able to implement operations not capable in conventional RAID systems. For example, controller  may create a virtual copy of a storage volume  by duplicating the pointers of the original volume  being copied rather than duplicating the data itself. Such duplication of pointers may be referred to as providing a point in time copy or a snapshot of a virtual storage volume .","Referring to , additional details of exemplary point in time copy or snapshot operations are described. A plurality of virtual storage volumes  and physical storage volumes  are shown in . A first virtual storage volume  may be referred to as a parent or original volume while a second virtual storage volume  may be referred to as a snapshot volume . Snapshot operations may be performed to create a new snapshot volume or to refresh an existing snapshot volume to provide a snapshot of the original volume.","In the depicted example, original volume  includes a plurality of respective pointers  at a given moment in time which map virtual storage locations  to physical storage locations . During a snapshot operation, controller  creates another virtual storage volume  of the original volume . In one embodiment, controller  copies the associated pointers  of volume  and creates volume  including the same pointers  pointing to or addressing the same physical storage locations  as original volume  at the moment in time when volume  is snapped.","When first created, snapshot volume  shares all of its associated physical storage space  with original volume . Thereafter, data of either the snapshot volume  or the original volume  may be updated responsive to operations from host  or internal operations of controller . When an update occurs, new physical storage space is allocated to hold the new\/modified data. The corresponding pointer(s)  for the new\/modified data of either the snapshot volume  or the original volume  (i.e., the volume that received the new\/modified data) are set to point to the new physical storage address  storing the new data while the corresponding respective pointer(s)  of the unmodified data point to the same or original address(s)  to preserve the snapped data. The provision of new pointers for the new\\modified data process is called divergence. Space that has diverged is no longer shared between snapshot volume  and original volume .","For example, as shown in , a virtual storage location  initially addresses a physical storage location . Accordingly, following a snapshot operation  of original volume , a respective virtual storage location  of snapshot volume  also addresses physical storage location . Thereafter, assume a first write operation  occurs to virtual storage location . Data is retrieved from physical storage location , modified by the first write operation, and stored as diverged data in a new physical storage location . The pointer  associated with virtual storage location  becomes a divergence pointer to address physical storage location  following the first write operation . However, a pointer  of virtual storage location  of snapshot volume  still addresses physical storage location  providing access to the unmodified original data which was snapped.","Updates to data of snapshot volume  may also occur as illustrated by the exemplary second write operation  to a virtual storage location  of snapshot volume . A pointer  previously associated with virtual storage location  and a corresponding physical storage location  is adjusted to now refer to a new physical storage location  following the second write operation and including the modified data which was previously stored as physical storage location . A pointer  associated with a virtual storage location  of original volume  still addresses physical storage location  following the second write operation.","Since a snapshot volume does not consume additional physical storage space at the moment in time the parent volume is snapped, it is possible to configure a snapshot volume so that available physical storage space of storage system  becomes exhausted as divergence occurs. System  permits snapshot operations even if system  does not have sufficient physical storage space to accommodate divergence of the resulting snapshot volume as data is modified. This state of the storage system  or physical storage space  may be referred to as over committed. It may be advantageous to allow storage system  to become over committed because one or more snapshot volumes of system  may not experience complete divergence in their cycle of use. In such a case and with over commitment, storage system  may give an appearance that it has more storage space (represented by virtual storage space) than its available physical storage space.","Accordingly, in at least one embodiment, available physical storage space of system  does not constrain configuration of snapshot volumes. However, it may be desired to constrain the generation of snapshot volumes for other reasons, or other constraints may exist within a given design of storage system  which limit the generation of snapshot volumes even though the physical storage available capacity is not a constraint. Some aspects of the invention provide apparatus and methods for indicating a non-guaranteed available capacity of storage system  which indicates the remaining capacity of system  to create non-guaranteed snapshot volumes.","In one aspect of the invention, snapshot volumes may be individually associated with a specific category including guaranteed snapshot volumes or non-guaranteed snapshot volumes upon creation of the respective snapshot volumes. Guaranteed snapshot volumes may correspond to volumes including critical data of host  (or otherwise indicated by a system administrator or other entity to be critical) while non-guaranteed snapshot volumes may correspond to non-critical data of host  (or otherwise indicated by the system administrator or other entity to be non-critical). According to this exemplary aspect, critical data may refer to data which has increased priority or importance compared with non-critical data.","In one operational aspect of storage system , guaranteed snapshot volumes are dependent upon the physical storage space and are created if sufficient physical storage space is present to store an entirety of the data of the parent volume being snapped or copied. Non-guaranteed snapshot volumes may be created independent of remaining physical storage space and the creation of such volumes may result in over commitment of the physical storage space. Additional exemplary details of guaranteed and non-guaranteed snapshot volumes are described in a U.S. patent application Ser. No. 10\/264,659 filed Oct. 3, 2002 entitled \u201cVirtual Storage Systems, Virtual Storage Methods And Methods Of Over Committing A Virtual RAID Storage System\u201d listing Michael Jacobson and Lee Nelson as inventors, having docket number 100110845-1 and the teachings of which are incorporated herein by reference. Aspects of the incorporated patent application provide automatic deletion of snapshot volumes as physical space nears exhaustion to avoid data unavailability or data loss.","Aspects of the invention utilize non-guaranteed available capacity to represent constraints on the generation of snapshot volumes using storage system  independent of an underlying implementation of storage system . Representations of non-guaranteed available capacity may be presented whether over commitment of physical space or other features of storage system  are the source of a constraint. As mentioned previously, non-guaranteed available capacity indicates a remaining capacity of storage system  to create non-guaranteed snapshot volumes. Accordingly, non-guaranteed available capacity is consumed as new non-guaranteed snapshot volumes are created.","According to one exemplary operational protocol of the present invention, one or more status impacting non-guaranteed available capacity may be monitored and utilized to represent non-guaranteed available capacity of storage system . Controller  may be arranged to monitor one or more status of storage system  to provide information regarding non-guaranteed available capacity according to presently described aspects of the invention. Since non-guaranteed available capacity is not limited by the physical storage space, CPU  of controller  may monitor one or more status independent of the physical storage space to determine non-guaranteed available capacity.","For example, a status corresponding to the mapping system of storage system  may be monitored to represent non-guaranteed available capacity. As mentioned above, storage system  may utilize a mapping system comprising a plurality of pointers to implement addressing intermediate the virtual storage space and the physical storage space. The mapping system and the pointers are stored in memory  of controller  in one embodiment. In the described arrangement, memory  has a finite size and accordingly can store a mapping system having a finite size and a respective number of pointers. In such an arrangement, portions of memory  allocated to the storage of pointers may constrain the creation of non-guaranteed snapshot volumes even though the physical storage available capacity is not a constraint. The remaining available capacity of memory  to store pointers is one exemplary status which may be monitored to provide monitoring of non-guaranteed available capacity.","In one embodiment, CPU  polls memory  to determine the available mapping space for storage of pointers for the mapping system (also referred to as the remaining available capacity of pointers). The pointers may be individually associated with a predetermined amount of non-guaranteed capacity and accordingly the number of available pointers capable of being stored within memory  may be converted to non-guaranteed capacity.","Alternate or additional statuses of storage system  may be monitored to determine non-guaranteed available capacity. Exemplary statuses include limitations for product structuring and marketing purposes. For example, non-guaranteed available capacity licenses (e.g., 10 TB, 20TB, 30TB, etc.) may be purchased with storage system . CPU  may monitor the consumed non-guaranteed capacity of storage system  with respect to the respective license for non-guaranteed available capacity of system  and the license may be the limiting constraint on the non-guaranteed available capacity. The above-described statuses of storage system  which may be monitored are exemplary and other status(es) may be monitored according to additional aspects of the invention (e.g., number and sizing of mapping space fragments discussed below).","In addition to monitoring operations described above, the described exemplary storage system  may be arranged to indicate an ability of system  to create non-guaranteed snapshot volumes by indicating the non-guaranteed available capacity of storage system  at one or more moment in time according to other aspects of the invention. One exemplary indication operation enables the generation of a report to indicate the non-guaranteed available capacity of storage system  at one or more moment in time. For example, storage system  may generate and make available the report responsive to a request from host  in one aspect. In another aspect, storage system  may update and make available the report at predefined moments in time (e.g., every second or other desired interval). In addition, reports may be generated at periodic moments in time to provide information regarding the current state of storage system  (e.g., before and after the generation of a new snapshot volume) or according to other desired protocols.","Exemplary reports generated include information which may be utilized in determining the number and\/or size of non-guaranteed snapshot volumes which can be created at respective moments in time as one or more status of storage system  changes. The non-guaranteed available capacity may be represented in a number of ways in exemplary reports. For example, one possible configuration of the reports indicates overall or total non-guaranteed available capacity of storage system , a number of non-guaranteed available capacity fragments, and\/or the size of the respective fragments in order from largest to smallest. Fragments represented in such an exemplary report indicate mapping fragments of mapping space available to create non-guaranteed snapshot volumes.","One exemplary cause of fragments in non-guaranteed available capacity is constraints in available mapping space (e.g., remaining memory available for pointers). Other reasons for fragmentation of non-guaranteed available capacity may exist. Alternatively, fragments of non-guaranteed available capacity may not exist in other configurations or implementations wherein non-guaranteed available capacity could be represented as a single value.","In one exemplary embodiment of storage system , the size of a non-guaranteed snapshot volume capable of being created at a given moment in time is limited by the size of the largest mapping fragment available at the particular moment in time. In addition, individual fragments correspond to individual non-guaranteed snapshot volumes which may be created in the exemplary embodiment. According to additional exemplary details, CPU  may monitor a status including the number and size of mapping fragments currently available for use within storage system  at moments in time to monitor the non-guaranteed available capacity of system .","Referring to Table A below, an exemplary report is shown which provides one possible format for indicating non-guaranteed available capacity of a storage system  according to aspects of the invention. Other report format configurations are possible. In addition, the non-guaranteed available capacity may be represented in additional or alternative ways according to other aspects of the invention.",{"@attributes":{"id":"p-0052","num":"0051"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"91pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"77pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE A"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"TOTAL","47 GB"]},{"entry":[{},"FRAGMENT 1","22 GB"]},{"entry":[{},"FRAGMENT 2","10 GB"]},{"entry":[{},"FRAGMENT 3","\u20028 GB"]},{"entry":[{},"FRAGMENT 4","\u20027 GB"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"According to the exemplary report of Table A, storage system  may create four non-guaranteed snapshot volumes with the largest possible snapshot volume capable of being created having a size of 22 GB at the particular moment in time when the report was generated and in accordance with the above-described operational protocol.","As mentioned above, a plurality of reports may be generated at a plurality of moments in time to indicate the status of storage system . In one aspect, the reports have a uniform format, such as the exemplary format depicted in Table A. As shown in the exemplary format, the report may provide the non-guaranteed available capacity without indicating the particular limitation which constrains or limits the non-guaranteed available capacity. For example, if five fragments of mapping space are available at a moment in time, and the licensed non-guaranteed available capacity would be exceeded if all five fragments were consumed during the generation of five corresponding non-guaranteed snapshot volumes, the controller  may generate the report indicating that a number of fragments less than five are available to assure that the non-guaranteed available capacity is not misrepresented and without representing or indicating the constraining status.","Host  during execution of applications, or for other reasons, may desire to access or determine the non-guaranteed available capacity of storage system  (e.g., if host  wishes to generate a non-guaranteed snapshot volume). Accordingly, controller  may be arranged to provide accessibility of host  to generated reports in one aspect. Host  may request the reports from storage system  and\/or controller  may periodically communicate current status reports to host  indicating the non-guaranteed available capacity. When it is desired to make a non-guaranteed snapshot of data within storage system , host  analyzes the report and determines if there is sufficient non-guaranteed available capacity to accommodate the snapshot operation. If non-guaranteed available capacity exists, host  may issue a request to storage system  to initiate the snapshot operation of the desired data. Operations according to the described exemplary procedure minimize lengthy polling of individual statuses of storage system  by host  to determine if capacity exists for creating a snapshot volume.","Referring to , an exemplary operational method executable by controller  to implement aspects of the invention described above is illustrated. The depicted methodology may be embodied as executable code within memory  and executed by CPU . The methodology is presented to illustrate exemplary steps for performing aspects of the invention. Other methods are possible including more, less or alternative steps.","Initially at a step S, the controller is configured to monitor one or more status of storage system  and including for example a remaining available capacity of mapping pointers, non-guaranteed available capacity remaining under a purchased license, the number and size of mapping space fragments, and\/or other status. Step S may be executed responsive to a request from host , at predefined moments in time, or responsive to other appropriate stimulus.","At a step S, the controller operates to generate and present a report regarding non-guaranteed available capacity of storage system . For example, the controller may provide host  or other entities access to the report.","At a step S, the controller monitors for the reception of a snapshot operation request.","If the condition of step S is negative, the controller may continue to monitor and update one or more status and update the report regarding non-guaranteed available capacity at steps S and S.","If the condition of step S is affirmative, the controller may proceed to generate the requested snapshot volume at a step S. Thereafter, the controller may monitor and update one or more status and update the report regarding non-guaranteed available capacity at steps S and S.","Aspects of the invention provide structural and methodical aspects of representing constraints on usage of snapshot operations without exposing implementation specific attributes of the design of storage system . Aspects of the invention enable non-guaranteed available capacity to be communicated without presenting individual specific constraints in a management interface. Users and software applications that utilize over committed storage systems need not be aware of the underlying details of the implementation (e.g., which features to poll regarding capacity) to determine the non-guaranteed available capacity according to aspects of the invention. This allows user experience and software applications to be reused on different implementations of snapshot operations and other features that result in over commitment which results in over commitment being a more manageable and useful capability.","The protection sought is not to be limited to the disclosed embodiments, which are given by way of example only, but instead is to be limited only by the scope of the appended claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0007","num":"0006"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 4"}]},"DETDESC":[{},{}]}
