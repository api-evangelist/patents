---
title: Request event manager and event lists for home and office systems and networks
abstract: A request event manager for a network of consumer electronic devices. In one embodiment, the request event manager maintains a database of home network services, and allows the home network services to be scheduled for execution over time. Home network services herein refer to high-level abstractions of a consumer electronic device's functionalities, and also content that is available from the consumer electronic device. The request event manager of the present invention also creates and maintains a service request list (SRL) which details the service actions in a hierarchical fashion. By maintaining a database of home network services, the request event manager of the present invention allows user applications to specify and schedule concatenated or hierarchical events such that different network activity across interconnected heterogeneous consumer electronic devices can be synchronized without requiring complicated logic to be implemented. The request event manager of the present invention may be implemented as part of a middleware infrastructure for a home network, and may reside within a home server.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07412538&OS=07412538&RS=07412538
owner: Sony Electronics, Inc.
number: 07412538
owner_city: Park Ridge
owner_country: US
publication_date: 20000614
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["RELATED CASES","FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE DISCLOSURE","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS"],"p":["This is a continuation-in-part of U.S. patent application Ser. No. 09\/476,419, filed on Dec. 30, 1999, and entitled \u201cA RESOURCE MANAGER FOR PROVIDING USER-DEPENDENT ACCESS CONTROL FOR A NETWORK OF CONSUMER ELECTRONIC DEVICES\u201d. This is also a continuation-in-part of U.S. patent application Ser. No. 09\/281,636, filed on Mar. 30, 1999, and entitled \u201cMETHOD OF MANAGING RESOURCES WITHIN A NETWORK OF CONSUMER ELECTRONIC DEVICES\u201d.","The present invention pertains generally to the field of consumer electronic devices. More specifically, the present invention pertains to the field of networked consumer electronic media devices.","A entertainment system typically includes a number of consumer electronic media devices such as televisions, compact disc (CD) players, tuners, digital video disc (DVD) players, a video cassette recorders (VCRs) and high-fidelity speakers. Many sets of wires are usually required to connect these components together to provide the desired functionality. For example, a wire is required for connecting the DVD player to the TV and another wire is required for connecting the DVD player to the tuner. Yet another wire is required for connecting the tuner to the speakers. Most of these devices only have a limited number of inputs and outputs for connecting to other devices. Thus, it is not surprising that most entertainment systems include only a handful of different devices.","Recently, a class of consumer electronic media devices has been introduced that can be networked together using a standard communication protocol layer (e.g., IEEE 1394 communication standard). The IEEE 1394 standard is an international standard for implementing an inexpensive high-speed serial bus architecture which supports both asynchronous and isochronous format data transfers. The IEEE 1394 standard provides a high-speed serial bus for interconnecting digital devices thereby providing universal input\/output connection. The IEEE 1394 standard defines a digital interface for applications thereby eliminating the need for an application to convert digital data to an analog form before it is transmitted across the bus. Correspondingly, a receiving application will receive digital data from the bus, not analog data, and will therefore not be required to convert analog data to digital form. The IEEE 1394 standard is ideal for consumer electronics communication in part because devices can be added to or removed from the serial bus while the bus is active. If a device is so added or removed, the bus automatically reconfigures itself for transmitting data between the then existing devices. Each device on the bus is a \u201cnode\u201d and contains its own address space.","The provision of the IEEE 1394 serial communication bus for networking consumer electronic devices has allowed the development of an entertainment network that consists of a large number of consumer electronic devices. In addition, the provision of the IEEE 1394 serial bus enables a single source device to provide content to multiple destination devices. For example, a DVD player located in the living room can be shared by multiple TV sets located in the bedrooms and in the kitchen. However, one problem associated with sharing source devices within the entertainment network is that multiple users may want to use the same source devices at the same time. Therefore, it would be advantageous to provide an access control system that allocates control of the devices intelligently.","Another problem associated with such an entertainment network is bandwidth contention. For example, if many TV sets and DVD players are connected to the home network, the IEEE 1394 serial bus may not have sufficient bandwidth to support multiple simultaneous isochronous channels for multiple video streams. Therefore, it would be advantageous to provide a method of managing a network of consumer electronic media devices. It would also be advantageous to provide a method of managing resources within a network of consumer electronic media devices such that the problem of bandwidth contention is addressed.","Yet another problem associated with an entertainment network is that, because content-containing media (e.g., CDs, DVDs) are distributed across the network, it is burdensome for a user to locate the desired content. For example, a home entertainment network may include several DVD players and DVD jukeboxes each capable of holding hundreds of DVDs. It would be difficult for a user to browse through every devices to locate the desired DVD. Therefore, it would be advantageous to provide a method of managing resources within the home network such that complicated management and control of the devices are hidden from the users.","Another problem associated with the entertainment network is that, when connected to the Internet, the consumer electronic devices and information contained therein may become compromised due to unauthorized access from third party users (e.g., hackers). Therefore, it would be advantageous to provide a method of managing resources within the home network such that the devices are protected from misuse and unauthorized accesses.","Still another problem associated with a network of consumer electronic devices is that there is no support for home-network applications when it comes to synchronizing different network activity across heterogeneous consumer electronic devices. For example, if an application wants to tune the cable set top box (STB) to channel 12 at 4:59 pm everyday, record a TV show at 5:00 pm everyday, rewind the VCR tape at 6:05 pm everyday, eject the tape from the VCR at 6:10 pm, then power off the VCR unit at 6:15 pm everyday, and forward all telephone calls between 9:00 am-4:00 pm everyday, the application would have to develop complicated logic to perform these tasks. If a user varied his schedule the application logic would have to be modified to reflect the needs of the user. This would complicate the application and limit the flexibility of home networking applications. Moreover, before the home-network applications schedule and executes any service, they have to know all the specific APIs (Application Programming Interfaces) and dependencies for each consumer electronic device on the home network. If a new consumer electronic device with different methods is installed on the network and the consumer electronic device offers similar or identical features to existing devices on the network, the application would have to be re-architectured. Therefore, there is a need for a method and system that allows home network applications to be easily and conveniently programmed to synchronize activities of heterogeneous consumer electronic devices of a network.","Accordingly, the present invention provides a request event manager for a network of consumer electronic devices. In one embodiment, the request event manager maintains a database of home network services, and allows the home network services to be scheduled for execution over time. Home network services herein refer to high-level abstractions of a consumer electronic device's functionalities, and also content that is available to the network of consumer electronic devices. The request event manager of the present invention may be implemented as part of a middleware infrastructure for a home network, and may reside within a home server.","According to one embodiment of the present invention, the request event manager creates and maintains a service request list (SRL) which details the service actions in a hierarchical fashion. By maintaining a database of home network services, the request event manager of the present invention allows user applications to specify and schedule concatenated or hierarchical events such that different network activity across interconnected heterogeneous consumer electronic devices can be synchronized without requiring complicated logic to be implemented.","In the present embodiment, the request event manager maintains a network service database that contains all the service offerings of all the devices of the network of consumer electronic devices. The service offerings represent the aggregate capabilities of the entire network of consumer electronic devices, and are not necessarily device specific or source specific. A home network application program implemented on top of the request event manager platform of the present invention may query the request event manager to list the available service listings. However, the home network application program may not know about the individual devices of the home network. In essence, the devices of the network are concealed by the request event manager. Only the functionalities of the devices are presented to the home network application.","The request event manager of the present invention also provides methods that allow home network applications to construct and modify service request lists. According to the present invention, service request lists contain details of the source device(s) and destination device(s) along with the control and timing information that are necessary for carrying out the requested event. The service request lists may also contain information that describes how the content is to be played back, special play attributes (e.g., video fade, scroll, overlay, etc.). Also contained in a service request list may be routing information that allows the source device(s) to be routed to the destination device(s). In the present embodiment, service request lists are created by home application programs using the request event manager's API (application programming interface) calls.","In furtherance of the present invention, service request lists are hierarchical data structures with the top level containing the \u201cevent name\u201d and the lowest level containing all the device's specific commands necessary to carry out the requested service. Particularly, in one embodiment, the top level of the service event list is called the Service level, and the next level down is called the Component level. Below the Component level are Unit level and Sub-unit levels. The Service level contains a handle for accessing the request list and description information as well as timing information. The Component level high-level commands can be issued for individual components. Individual component commands are issued at the Unit level. Finally, at the sub-unit level, more detailed commands are defined. Depending on the level of complexity of the devices of the network, the service request lists can be expanded into more layers.","In the following detailed description of the preferred embodiments, for purposes of explanation, numerous specific details are set forth in order to provide a thorough understanding of the present invention. However, it will be apparent to one skilled in the art that the present invention may be practiced without these specific details. In other instances, well-known structures and devices are not described in detail in order to avoid obscuring aspects of the present invention.","I. Computer System Environment of the Present Invention","Some portions of the detailed descriptions which follow are presented in terms of procedures, steps, logic blocks, processing, and other symbolic representations of operations on data bits within a computer memory. These descriptions and representations are the means used by those skilled in the data processing arts to most effectively convey the substance of their work to others skilled in the art. A procedure, computer executed step, logic block, process, etc., is here and generally conceived to be a self-consistent sequence of steps of instructions leading to a desired result. The steps are those requiring physical manipulations of data representing physical quantities to achieve tangible and useful results. It has proven convenient at times, principally for reasons of common usage, to refer to these signals as bits, values, elements, symbols, characters, terms, numbers or the like.","It should be borne in mind, however, that all of these and similar terms are to be associated with the appropriate physical quantities and are merely convenient labels applied to these quantities. Unless specifically stated otherwise as apparent from the following discussions, it is appreciated that throughout the present disclosure, discussions utilizing terms such as \u201ccollecting\u201d, \u201ccomputing\u201d, \u201cdetermining\u201d, \u201cgrouping\u201d, \u201cmapping\u201d, \u201cassigning\u201d or the like, refer to the actions and processes of a computer system, or similar electronic computing device. The computer system or similar electronic device manipulates and transforms data represented as electronic quantities within the computer system's registers and memories into other data similarly represented as physical quantities within the computer system memories into other data similarly represented as physical quantities within the computer system memories or registers or other such information storage, transmission, or display devices.","Specific aspects of the present invention are operable within a server system (e.g., a home server system). In general, a home server (or other intelligent electronic device such as a set-top-box) for the home entertainment network in accordance with the present invention includes a general purpose computer system  operable as a platform to implement and support elements of the present invention. As shown in , computer system  includes an address\/data bus  for communicating information including address, data, and control signals, a central processor  coupled with bus  for processing information and instructions, a volatile memory  (e.g., random access memory RAM) coupled with the bus  for storing information and instructions for the central processor  and a non-volatile memory  (e.g., read only memory ROM) coupled with the bus  for storing static information and instructions for the processor , a data storage device  such as a magnetic or optical disk and disk drive coupled with the bus  for storing information and instructions, an optional display device  coupled to the bus  for displaying information to the computer user, an optional alphanumeric input device  including alphanumeric and function keys coupled to the bus  for communicating information and command selections to the central processor , an optional cursor control or directing device  coupled to the bus  for communicating user input information and command selections to the central processor , and a communication device  coupled to the bus  for communicating signals that are input and output from the system . The communication device  is configured for connecting to a home entertainment network via an IEEE 1394 serial communication bus . Computer  may further include another communication device (e.g., a modem) for connecting the home network to the Internet.","Program instructions executed by the home server  can be stored in computer usable memory units such as RAM , ROM , or in the storage device , and when executed in a group can be referred to as logic blocks or procedures. It is appreciated that data produced at the various stages of the present invention, including path availability information and resource availability information, can also be stored in RAM , ROM  or the storage device  as shown in .","The display device  of  utilized with the computer system  of the present invention is optional and may be a flat panel liquid crystal display (LCD) device, a TV, a personal digital assistant (PDA) or other display device suitable for creating graphic images and alphanumeric characters recognizable to the user. The cursor control device  allows the computer user to dynamically signal the two dimensional movement of a visible pointer on a display screen of the display device . Many implementations of the cursor control device are known in the art including a trackball, mouse, joystick or special keys on the alphanumeric input device  capable of signaling movement of a given direction or manner of displacement.","II. Network Environment in Accordance with the Present Invention",{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 2","b":["200","200","200","210","212","214","213","211","211","220","222","222","215","213","200"],"i":["a","c","a","b "]},"It should be noted that home network  illustrated in  is exemplary only and that a home network in accordance with the present invention could include many different combinations of components. It should also be appreciated that consumer electronic devices of the network  may be accessed via user applications such as a web-browser.","The IEEE 1394 communication standard within network  of  supports isochronous data transfers of digital encoded information. Isochronous data transfers are real-time transfers which take place such that the time intervals between significant instances have the same duration at both the transmitting and receiving applications. Each packet of data transferred isochronously is transferred in its own time period. An example of a \u201creal-time\u201d application for the transfer of data isochronously is from VCR  to TV of . The VCR  records images and sounds and saves the data in discrete packets. The VCR  then transfers each packet, representing the images and sounds recorded over a limited time period, during that time period, for display by the TV . The IEEE 1394 standard bus architecture provides multiple channels for isochronous data transfers between applications. Specifically, a six bit channel number is broadcast with the data to ensure reception by the appropriate application. This feature of the IEEE 1394 bus allows multiple devices to simultaneously transmit isochronous data across the bus structure. This feature also enables media (e.g., CDs, DVDs, video cassettes, etc.) to be distributed across the home network . Further, this feature enables the devices of the home entertainment network  to be distributed across the home.","III. Resource Manager","In conventional home networks, users are presented with a \u201cdevice-centric\u201d view of the network. That is, users of conventional home networks are given a list of devices in the network, and the users must individually control each electronic devices in the network to get the desired functionality. For example, a user desiring to play a DVD must first select the DVD player from a user-interface of the home network system and then selects a \u201cplay\u201d button. Such a \u201cdevice-centric\u201d view of the home network can be cumbersome and complicated for the users if a large number of devices are connected to the home network. The resource manager of the present invention provides a solution to this problem by enabling the home network to present to the users a \u201ccontent-centric\u201d view, or \u201cservice-centric\u201d view, of the network. In accordance with the present invention, when presented with a \u201ccontent-centric\u201d view or \u201cservice-centric\u201d view, users can select the content or service available from the network without regard to the devices that contain and provide the service.","In accordance with the present invention, audio\/visual (A\/V) streams, movies stored on DVDs (or VCDs, etc.), sound tracks stored on CDs, web-pages, etc., that are accessible by a home network (e.g., network ) are considered \u201ccontents\u201d. \u201cServices\u201d herein refer to systems and methods of providing the users of the home network with the content accessible by the network and use of the devices of the network. For example, a service provided by the home server may be the delivery of a movie to a particular room in the house. As another example, if a user requests a movie to be played at the family room, then the \u201ccontent\u201d in this case would be the A\/V streams of the movie stored within a DVD jukebox coupled to the home network, and the \u201cservice\u201d would be the delivery of the A\/V streams to the family room. The resource manager of the present invention manages the resources underlying the service delivery operations such that services can be performed with minimal user control, significantly improving the ease-of-use of home audio-visual devices. The resource manager of the present invention also determines whether a service will be provided to a particular user (e.g., authorized user) with a policy-checking mechanism.",{"@attributes":{"id":"p-0042","num":"0041"},"figref":"FIG. 7","b":"700"},"As illustrated in , at step , the resource manager receives a service-based request from a user. For example, a service-based request may be \u201cplay a movie M at the family room.\u201d In the present embodiment, users may explicitly indicate the location where the services are to be delivered. If the location is not explicitly indicated by the users, the location can be inferred from the location where the request is made.","At step , the resource manager determines the identity of the user making the service-based request. In the present embodiment, the identify of a user can be ascertained by requiring the user to go through a user authentication process (e.g., a \u201clog in\u201d process) before the user is permitted to make a request for selected services. Any number of well known user authentication processes can be used in accordance with the present invention.","At step , the resource manager checks a database of pre-programmed and pre-determined policy statements, and at step , determines whether any policy statements are violated by the service-based request. An example of a policy statement would be \u201cuser A can only watch G-rated movies.\u201d Thus, in this example, if the movie M is an \u201cR-rated\u201d movie and if user A is the user making the request, the policy statement would be violated.","The resource manager may also perform a step  of checking a user-activities record to determine whether any policy statements are violated. An example is that the policy may be \u201cuser X may watch Y hours of TV per day.\u201d In this example, the resource manager accesses the user-activities record and determines whether user X has watched more than Y hours of TV that day.","If it is determined that one or more policy statements are violated by the service-based request, the resource manager denies the request and informs the user that the requested service is not permitted at step .","At step , if it is determined that the requested service does not conflict with any policy statements, the resource manager checks the availability of the resources that are necessary for bringing about the requested services. For example, if a DVD-player is needed for performing the requested service, then the resource manager will check whether the DVD-player is in use.","At step , the resource manager determines whether the resources needed for carrying out the requested service are available. It is important to note that, in accordance with the present embodiment, network bandwidth is a resource that is considered.","At step , if it is determined that the resources are available, the resource manager will send appropriate control signals to the devices (or device proxies) such that the requested service can be performed.","At step , if it is determined that some or all of the resources are already in use, the resource manager denies the request and informs the user that the requested service is not available. It should be noted that, if the incoming request has a higher priority than the request that is currently occupying a resource, then the resource manager grants the high priority request and terminates the service that is currently provided for the low priority request.",{"@attributes":{"id":"p-0052","num":"0051"},"figref":"FIG. 8"},"As illustrated, at step , the resource manager receives a service-based request from a user. As an example, the service-based request may be \u201cplay a movie M in the family room.\u201d","At step , the resource manager determines the identity of the user making the request. In the present embodiment, the identify of a user can be ascertained by requiring the user to perform a user authentication process (e.g., a \u201clog in\u201d process) before the user is permitted to make a request for services. user authentication processes are well known in the art, and are therefore not described in detail herein to avoid obscuring aspects of the present invention. The resource manager also retrieves preference information associated with the user.","At step , the resource manager determines whether the service-based request violates any policy statements and also determines whether the requisite resources are available. If it is determined that the services requested are not permissible and\/or unavailable, the resource manager may refuse to provide the service to the user at step , and the process  ends.","At step , if it is determined the services requested are permissible and available, the resource manager retrieves meta-data associated with the content of the requested service. An example of meta-data of a movie may be the rating information, or the identity of the director of the movie, etc. The meta-data may also include information regarding the optimum device configuration for the content. For example, the meta-data of a movie may indicate that the movie is best viewed when surround sound is turned on.","Another example of metadata may be the available camera shots at a football game. For example, one camera may be focusing on the quarterback, another camera may be focusing on the receiver and yet another camera may be focusing on the cheerleaders. The resource manager may, based on predefined user preferences, show only the camera feeds that are focusing on the quarterback on the TV. In one embodiment, the resource manager may show both camera feeds focusing on the quarterback and the receiver on a split screen if the predefined user preferences indicate that these camera shots are preferredly shown on the TV during a football game.","At step , the resource manager configures the devices of the network according to the meta-data associated with the requested service. Step  includes the step of sending appropriate control signals to the devices (or device proxies) of the home network. In the example of the split screen football game, the resource manager will set up the TV to play the football game in a split screen mode\u2014one screen for the quarterback camera and another for the receiver camera.","At step , the resource manager of the present invention performs the process for providing the requested service to the user. Thereafter, the process  ends.","A. Policy Checking","According to one embodiment, the resource manager of the present invention may refuse to provide requested services to a user even when the resources are available. Significantly, the resource manager can be pre-programmed with \u201cpolicy statements\u201d that dictate the conditions under which certain \u201cservices\u201d will be provided to certain users. An example of a \u201cpolicy statement\u201d would be \u201cuser X is allowed to watch only Y hours of TV per day.\u201d In this example, after user X has identified himself to the home network and requested a \u201cservice\u201d involving \u201cwatch TV\u201d, the resource manager would check whether the user has exceeded his daily limit of two hours of TV before performing the requested \u201cservice\u201d. If the limit has been exceeded, the resource manager will enforce the policy by refusing TV access to the user. Another example is that if content is broadcasted with difference presentations, some presentations may have different ratings (e.g., PG-13, R, etc.). The resource manager of the present invention may also allow or disallow different presentations of the same content.","In one embodiment, the home server of the present invention keeps track of the activities of the users via a logging manager. By keeping an accurate record of the activities of the users, more complicated policy statements can be applied by the resource manager. For instance, for the policy statement \u201cuser X can only watch TV programs for Y hours per day\u201d to be enforceable, the daily activities of user X must be monitored. In the present embodiment, a logging manager maintains a record of user activities. The resource manager, in order to enforce the policy, accesses the record via the logging manager to determine whether the time limit has been reached. If the limit has been reached, the resource manager would enforce the policy by refusing to provide or halting the TV program services to user X.","As another example, another policy statement may be \u201cuser Z can only spend $500 on on-line shopping each month.\u201d In this example, whenever user Z spends money purchasing items via an on-line shopping network, the money spent will be recorded by the logging manager. Further, whenever user Z requests to access an on-line shopping network, the resource manager will determine whether the pre-defined limit has been spent. If not, the resource manager provides the requested services by allowing user Z to access the on-line shopping network via the home network. However, if the limit has been reached, the resource manager will enforce the policy statement by refusing user Z access to the on-line shopping network.","B. Resource Checking","According to one embodiment, the resource manager of the present invention manages \u201csoft\u201d resources in addition to \u201chard\u201d resources. For simplicity, in the following discussion, \u201chard\u201d resources refer to the electronic devices, or hardware, of a home network. \u201cSoft\u201d resources, on the other hand, refer to resources that are not \u201chard\u201d resources. Examples of \u201csoft\u201d resources include a particular broadcast program, a TV channel, memory address space, a segment of an VCR tape that contains a movie or TV program, a home-shopping web-page, credits that can be used towards purchasing items on a home-shopping web-page, interactive games, etc. Another example of a \u201csoft\u201d resource is different camera shots for broadcast content. This can include different audio channels or meta-data. The definition of \u201csoft\u201d resources herein is broad. The resource manager is capable of managing hard and soft resources.","According to one embodiment, the resource manager of the present invention treats network bandwidth to be a \u201csoft\u201d resource. A specific process of the resource manager, called the path manager, routes A\/V streams from source devices to display devices via the home network. Network bandwidth is treated as a soft resource by the resource manager because network bandwidth is limited. Thus, the resource manager may refuse to provide a service if the requisite network bandwidth is unavailable.","In accordance with one embodiment, once the resource manager of the present invention has determined that a request for service does not violate any policy statements, the resource manager must determine whether the hard resources or soft resources necessary for providing such services are available. This is accomplished with the use of a resource pool. In the present embodiment, once a resource is used, it is removed from the resource pool. And, when a service is completed (or aborted by the user), the freed-up resources are returned to the resource pool. If resources become unavailable, they will be removed from resource pool. For instance, if a TV is unplugged, the TV resource will be removed from the resource pool.","An example illustrating the function of the resource pool follows. Suppose user Z requests a service for watching a movie at the family room and suppose the movie is stored as a DVD within a DVD-juke box. The resource manager upon determining that such a request does not violate any policy statements, will cause the DVD-juke box device (a hard resource) to be removed from the resource pool. The DVD containing the movie will also be removed from the resource pool. A certain amount of network bandwidth will also be removed from the resource pool because network bandwidth is required for delivering the movie service from the DVD-juke box to the TV in the family room. Thus, while the movie is being played, another user will not be able to obtain services that require some or all of the resources that are currently in use. For example, user X may request to watch a cartoon that is stored in the same DVD-juke box containing the DVD for the movie. Since the DVD-juke box is no longer in the resource pool, the resource manager will inform user X that the cartoon service is not available. An exception, however, is that if user X has a higher access privilege than user Z, then services will be provided to user X, and any services currently provided to user Z will be terminated.","IV. Exemplary Implementation of the Resource Manager",{"@attributes":{"id":"p-0068","num":"0067"},"figref":"FIG. 3","b":["214","214","310","320","330","340","214","350","360","214","355","214","370","370","200","370","211","3701","212","380","370"],"i":["a","i ","c ","c"]},"Significantly, according to the present invention, user interface or user application  is not allowed to communicate directly with software device proxies . Rather, user application  communicates to the resource manager  the services that the user desires to be performed. Particularly, user application  receives a service-based request from a user or other entities, and transmits the request to the resource manager .","In the present embodiment, the resource manager  of  determines whether the service-based request violates any policy statements stored within policy database . Thereafter, the resource manager  determines the availability of the source and destination devices, and checks whether sufficient bandwidth is available for carrying out the requested action. If policy statements are not violated and the devices and the bandwidth are available, the resource manager  will return a \u201cgranted\u201d signal to user application  and transmits the necessary control commands to the software device proxies -. The software device proxies -then control the devices via IEEE 1394 bus interface . If the devices or the requisite bandwidth are not available, or if one or more policy statements are violated, the resource manager  will return a \u201cdenied\u201d signal to the user application .","According to the present invention, resource manager  allows the resources of home network  to be checked-in or checked-out independent of application requests. At any time, the resource manager  can reclaim checked-out resources and reallocate them to other users. Likewise, a reserved resource can be reclaimed and reallocated to other users or reallocate them back into the resource pool .","According to the present invention, the resource manager  of , upon initialization of the home server , scans the home network  and determines all the available resources. Data representative of the routing paths and their bandwidths are then stored within path database . Data representative of the available devices are stored within resource pool . As the resources of the home network  changes, the resource manager  modifies the path database  and the resource pool accordingly.","User application  may also send a request for media services to be delivered at a future time. In the present embodiment, the request is in the form of a scheduled-event list. Particularly, the scheduled-event list may indicate the time the scheduled-event is to be performed, and the necessary routing paths and device information. The resource manager , upon receiving the scheduled-event list, then checks the reservation database  to determine whether the devices and the routing paths have already been reserved by other processes. If not, the resource manager  then enters the devices and routing paths within the reservation database . The resource manager  also accesses a scheduler (not shown) to schedule the future execution of the scheduled-event list.","Usage information of the network is stored within usage log  of . According to the present invention, every time a request for media service is granted, the event list is stored within the usage log . The usage information can be used to track warranty information of the devices. In addition, the usage information can be used to track the network usage of each user. The usage information may also be used by the resource manager  for restricting access to certain users who have exceeded their usage limitation.","It should be noted that, in one embodiment, the resource manager  is initialized before the home server  is booted up. During the initialization phase, the resource manager  queries the home network for available resources and their respective \u201cusage rights\u201d and associated policies. As new resources are added or removed from the home network, the resource database (or resource pool)  will be updated. The way the resource manager  discovers the new resource is through a system registry or system event process. The registry ro system event process is allowed to convey resource information and other information to the resource manager.",{"@attributes":{"id":"p-0076","num":"0075"},"figref":"FIG. 4","b":["400","310","320","320","350","330","340","355","360","370","320","360","320","310"]},{"@attributes":{"id":"p-0077","num":"0076"},"figref":["FIG. 5","FIG. 4"],"b":["500","500","510","320","310"]},"At step  of , the resource manager , upon receiving the ExecuteNowEvent request, looks up the policy database  and determines whether any policy statements are violated by the service-based request.","If it is determined that policy statements are violated, the process enters step , where the resource manager  of the present invention denies the service-based request.","However, at step , if it is determined that no policy statements are violated, the resource manager looks up the resource pool  and determines if the requested source and destination devices are available. According to the present invention, the resource pool  is a list of all devices connected to the network and is constructed upon initialization of the home server . The resource pool  is also continuously updated to keep track of devices that are added to and removed from the home entertainment network . If the source and destination devices are already in-use by other users or user-applications, a \u201cDenied\u201d signal is returned to the user application  at step .","At step , the resource manager  looks up the path database  to determine if there is sufficient bandwidth between the source device and the destination device. In the present embodiment, the path database  is a table for identifying the bandwidth requirements for all possible routing paths between the devices. Methods of calculating and determining the bandwidth requirements for all possible routing paths between the devices are well known in the art, and are therefore, not described herein to avoid obscuring aspects of the present invention. If the resource manager  determines that insufficient bandwidth is available, the resource manager  returns a \u201cDenied\u201d signal to the user application  at step . If the requested resources are available, sends control signals to the device proxies  and causes the devices to carry out the media service-based request immediately at step , and returns a \u201cGranted\u201d signal to the user application  at step . In addition, the source devices and destination devices are removed from the resource pool , and the path database is updated to reflect the bandwidth usage at step .",{"@attributes":{"id":"p-0082","num":"0081"},"figref":["FIG. 6","FIG. 4"],"b":["600","600","610","320","310"]},"In another embodiment of the present invention, ScheduledEvent request may include two types of requests: ExecuteWallClockEvent and ExecuteCalendarEvent. The ExecuteWallClockEvent request is for scheduling future execution of requests based on a 24-hr clock. The ExecuteCalendarEvent is for scheduling future execution of requests based on the calendar. For example, the ExecuteWallClockEvent request is used for scheduling the recording of the \u201cEvening News\u201d at 6:00 pm in the evening everyday. As another example, the ExecuteCalendarEvent request is used for scheduling the backing-up of the home computer system every Sunday.","At step  of , the resource manager , upon receiving the ScheduledEvent request, looks up the policy database  and determines whether any policy statements are violated by the service-based request.","If it is determined that policy statements are violated, the process enters step , where the resource manager  of the present invention denies the service-based request.","At step , the resource manager  looks up the reservation database  and determines if the requested source and destination devices are available. If the source and destination devices are already reserved by other users or other user applications, an \u201cUnavailable\u201d signal is returned to the user application  at step .","At step , the resource manager  looks up the path database  to determine if other reservations would affect the bandwidth of the routing path between the source device and the destination device at the request period. If the resource manager  determines that the routing path will be affected, the resource manager  returns a Failure signal to the user application  at step . If it is determined that the routing path will not be affected, the resource manager  then stores the SourceID, DestID, PathID, StartTime and EndTime within the reservation database  at step , and returns a \u201cReserved\u201d signal to the user application  at step .","VI. Request Event Manager (REM) and Service Request Lists (SRLs)","The preceding discussion has focused on a resource manager adapted for managing resources within a network of consumer electronic devices and for presenting a content-centric view of the network to the users. This section describes a request event manager (REM) that translates service-based content-centric requests into device-specific events, and executes the service-based requests by scheduling, co-ordinating, controlling and executing the device-specific events by means of service request lists (SRLs).","Today there are many different home-network solutions that focus on middleware infrastructures (i.e., HAVI, Jini, UP&P, VHN, etc.). However, none of the middleware solutions offer home-network applications support when it comes to synchronizing different network activity over time and across interconnected heterogeneous consumer electronic devices. For example, if an application wants to tune the cable set top box (STB) to channel 12 at 4:59 pm everyday, record a TV show at 5:00 pm everyday, rewind the VCR tape at 6:05 pm everyday, eject the tape from the VCR at 6:10 pm, then power off the VCR unit at 6:15 pm everyday, and forward all telephone calls between 9:00 am-4:00 pm everyday, the application would have to develop complicated logic to perform these tasks. If a user varied his schedule the application logic would have to be modified to reflect the needs of the user. This would complicate the application and limit the flexibility of home networking applications. Moreover, before the home-network applications schedule and execute any service, they have to know all the specific APIs (Application Programming Interfaces) and dependencies for each consumer electronic device on the home network. If a new consumer electronic device with different methods is installed on the network and the consumer electronic device offers similar or identical features to existing devices on the network, the application would have to be re-architectured. Therefore, a database of services is necessary to abstract methods and idiosynchrocies from interconnected consumer electronic devices, to logically group network services, and to schedule their execution over time. Accordingly, the present invention provides a request event manager that receives service-based requests from a user or a user application, and then converts the service-based requests into device-specific events that are executable by individual device of the network.",{"@attributes":{"id":"p-0091","num":"0090"},"figref":"FIG. 11","b":["214","214","1110","1110","1120","1130","1140","214","370","370","200","370","211","370","212","380","370"],"i":["a","c","a","i ","c ","c","i "]},"According to the present invention, service database  is a database of home-network services encompassing interconnected consumer electronic device's methods, functionality and content. The request event manager  of , upon initialization of the home server , scans the home network  and identifies all the devices that are connected thereto. The request event manager  also identifies the content that are stored within the devices. Data representative of the functionality of the devices and their content are then stored within service database . As devices and\/or content are added and\/or removed from the home network , the service database  is also updated accordingly.","Significantly, according to the present invention, user interface or user applications -do not communicate directly with software device proxies . Rather, user application -communicate service-based requests to the request event manager . \u201cServices\u201d herein refer to systems for and methods of providing the users of the home network with the content accessible by the network and use of the devices of the network. For example, a service provided by the home server may be the delivery of a movie to a particular room in the house. A service-based request herein refers to a request for \u201cservices\u201d as defined above. The request event manager of the present invention converts service-based requests into device-specific events, and schedules, controls and executes these device-specific events such that services can be performed with minimal user control.","According to the present invention, the request event manager  logically associates the service-based requests to the information that is stored within service database . That is, the request event manager  converts the service-based request into device-specific events that are necessary for carrying out the service-based request. The device-specific events are then stored within the SRL database  in the form of service request lists. SRLs are then executed by the request event manager  at their scheduled execution time. Request event manager executes device-specific events by transmitting the necessary control commands to the software device proxies -. The software device proxies -then control the devices via IEEE 1394 bus interface .","One advantage of the present invention is that complicated services that involve multiple devices of the home network over time can be easily managed. For example, for a service-based request that entails \u201cPlay Movie S at 9:00 pm\u201d, the request event manager  determines whether the content Movie S is available by checking the service database . If the service database indicates that the Movie S is a 2-hour long movie and is going to be broadcast at 7:00 pm, the request event manager  then checks a recording device (e.g., a A\/V HDD, digital VCR, a DVD-RAM device, etc.) to determine whether sufficient recording medium is available. The request event manager  also checks whether the devices are available at those time slots, for example, by checking the SRL database . The request event manager  may return a \u201cdenied\u201d signal to the user application if the requested service is not available. If the devices are available, the request event manager  may return a \u201cgranted\u201d signal to the user application, and may construct an SRL for the service-based request. The SRL is then stored within database , and is executed according to the scheduled execution time. In this way, all the home-network application needs to do is query the REM database and\/or submit a service request to be executed at a desired time. A more detailed description of an SRL will be presented below.","The service offerings listed in the REM database are relative to the aggregate consumer electronic device's capabilities across the home network and not necessarily from any single device or source. For example, if some audio and video content is being played to the TV, the video may be originating from one or more devices (i.e., a hard disk drive, DVD, etc.) while the audio signal may be originating from a completely different source device. From the user's perspective the audio\/video (A\/V) signal appears to be originating from the same source. Therefore, the application may not even know the home-network has multiple video sources that contain audio and video content. All the application sees is that content offerings originates from the REM service database. This feature is achieved by constructing a service request list (SRL) that details the source(s) and destination device(s) along with control and timing information. The SRL may also information describing how the content is played back and possible special play features (i.e., video fade, scroll, overlay, etc.). For example, if a two hour video clip is designated as the source material, a SRL can be constructed that play only twenty minutes of video that has been designated significant. The SRL would be constructed in such a way that only the significant segments are viewed and the rest of the video segments are skipped.",{"@attributes":{"id":"p-0097","num":"0096"},"figref":"FIG. 9","b":["900","910","910","920","920","910","930","910"],"i":["a","d "]},"In one embodiment of the present invention, the SRL may contain detailed information about the source and destination devices. Also contained in the SRL may be information about how and when the video is played back. The SRL may also contain routing information that allows the source to be routed to the destination device. If a HAVI network is used, this task could be performed by the Stream Manager. Once the SRL has all the information it needs, it will essentially skip to the start of the significant video segments and will start playing only the significant segments until the all of them are played.","In other cases, the application may want to know the available program selections (i.e., movies, EPG, etc.) that can be recorded and viewed at a time to be determined in the future. In this case, the application queries the REM database for A\/V content offerings and determines what it wants to view, and then schedules a time for viewing the A\/V content. In the present embodiment, timing information may be specified by a calendar date, a sequence of times\/dates, a relative time\/date (e.g., 2 hours from now), or an absolute time\/date.","According to one embodiment of the present invention, once the application determines what services it needs, it can create a SRL using the REM's API calls. The REM will provide methods that allow the application to construct, delete, and modify service request lists. Also, if the application chooses it can archive the SRL and call upon it in the future. The SRL can even be logically linked together allowing the ability to create more complex lists. To allow for greater flexibility individual SRL events can be modified throughout the life span of the SRL.","A discussion of a simple scenario follows. An exemplary service-based request may be \u201cRecord \u2018Sesame Street\u2019 from 9:00 am to 10:00 am and playback the recorded program at 3:00 pm.\u201d The request event manager of the present invention, upon receiving this service-based request from a user or a user application, determines the necessary devices of the network for carrying out this service-based request. In this example, the necessary device would be a tuner, a recording device (e.g., a DVD RAM, digital VCR, A\/V HDD, etc.) and a video display device (e.g., a digital TV). The request event manager then assembles a SRL to be executed according to the timing information contained therein. The SRL contains all the specific details for controlling the tuner device, the recording device, display device, routing information, and timing sequence. For instance, the SRL may contain an event \u201cset-up STB at 8:59 am\u201d and another event \u201cset-up A\/V HDD at 8:59 am\u201d. The request event manager of the present invention is also configured for executing these events at the appropriate times.","Controlling and managing all these devices, routing data, and scheduling each device to perform a task at specific times can become overwhelming. Nonetheless, the REM of the present invention is designed to handle these kinds of operations with a minimal set of commands. The REM hides the device interface from applications and presents high level methods for controlling content and not devices. The SRL will be given an \u201cevent name\u201d which the REM will maintain within the SRL database. The SRL is also made available to user applications. User applications reference SRLs by the event name and can alter its characteristics at any time. All the application has to do is query the REM service database and construct an SRL.","SRLs are hierarchical data structures with the top level containing the \u201cevent name\u201d and the lowest level containing all the device's specific commands necessary to carry out the desired service. In the case of the HAVI network the lower levels of the SRL (i.e., unit level or sub-unit level if the list expands past the unit level) would be the interface to the HAVI DCM\/FCMs. Each level in the SRL contains timing information and attribute information. For example, if a set top box (STB) is to be setup for an operation, the REM of the present invention may assign a setup execution time. At the unit level, individual times will be assigned by the REM for each operation in the setup sequence. The event list is logically layered depending on the complexity of the service and the number of resources required for carrying out the service.","The top level of the SRL (event list) structure is referenced as the Service Level. This level contains a handle for accessing the request list and descriptive information as well as liming information. The next level down in the SRL is referenced as the Component Level. At this level, high level commands can be issued for individual components. Also at this level heterogeneous components can be linked to perform specific operations. At the Unit Level the individual component commands (i.e., Power-On, Fast Forward, Seek, etc.) are issued. At the Sub-unit level, commands are issued for each individual sub-unit of the unit. Sub-units of a HAVI compliant device, such as the clock sub-unit, motor subunit, tuner subunits, etc., of a VCR, are defined by the HAVI architecture and can be controlled by individual FCM (\u201cFunctional Control Module\u201d). For example, before a consumer electronic device can be powered onto a channel, the device has to be allocated. The device has to be polled to make sure it is on-line. This may be done at the Sub-Unit level. In some cases these low-level commands may be AV\/C command that are sent to the device. For example, an AV\/C command may be set to a device issuing the specific power-on command. Once this is done the REM would wait for the device to respond with a status message (e.g., successful or unsuccessful). In some cases the SRL data structure may be even more complex and may expand into more layers. The complexity of the data structure is variable and may depend on the level of complexity of the individual devices and the operations being requested.","In accordance with an embodiment of the present invention,  illustrates a portion of the hierarchical structure of an SRL  that groups an STB, an AV-HDD and a logging database to perform a service. As illustrated, SRL  has four different levels: Service Level , Component Level , Unit Level  and Sub-unit Level . In the exemplary embodiment as illustrated, at the service level , SRL  includes a service level command \u201cArchive Sesame Street\u201d . At the Component Level , the service level command  is associated with five component level commands -. It should be noted that component level commands are directed to components of the home network that are required for carrying out the service. For example, command is directed to an STB, command is directed to an AV-HDD and command is directed to a logging database, etc. Each of the component level commands -are associated with unit level commands. For example, in the illustrated embodiment, component level command is associated with unit level commands -that are specific to a STB. Component level command is associated with unit level commands -. Each of the unit level commands -may be associated with sub-unit level commands (e.g., commands -). In the illustrated embodiment, sub-unit level commands -controls the sub-units of an STB.","At each level of the SRL, timing information must be specified. This information is maintained by the REM and can be altered to reflect specific occurrences defined by the application, REM, or another system component (i.e., an HAVI Device Control Module). Time can be measured in terms of a calendar date or 24 hour wall clock time. For example, the REM can be scheduled to perform a certain operation on every January 1. As another example, the REM may be scheduled to perform certain events every Monday through Friday at 5:00 pm. The REM defines events as occurring only once, repeatedly, or in given intervals as defined by the application. Also, time can be relative to another event start time or end time. This is referred to an auto-follow event. For example, after a Power-On Event occurs a Rewind Event can be issued thirty seconds after the Power-On Event. After a Power-Off Event is issued, a Message Event can be sent to an application. Therefore, the Rewind Event is dependent on the occurrence of the Power-On Event, and the Message Event is dependent on the occurrence of the Power-Off Event.","In summary, the REM is part of the middleware framework in a home\/office system or network for delivery of audio\/video presentations and other content. It concatenates or hierarchically aggregates smaller and simpler events into larger and more complex events. It also executes events. It manages the event list data structure\/database. It also provides read and write access to the event list to the applications level and to other components within the framework level.","Some significant features of the REM and the advantages of these features are further summarized as follows:","1. Device Independence","The REM treats events the same regardless of what device or devices they relate to. Devices include but are not limited to heating, ventilation and air conditioning (HVAC) systems, audio\/video appliances, Internet or cable service interfaces, etc. This allows complex events to be built up that neatly package or encapsulate smaller events on disparate sets and types of devices.","2. Scheduling Flexibility","Events can be scheduled at absolute times or at times relative to the time at which they are scheduled. The schedule can be based on a time of day clock, a time and day of week, a time and specific date, etc. The schedule can be an auto-follow time, i.e. one that automatically follows the completion of another event. The schedule can be based on an asynchronous and even unpredictable event; for example, if the phone rings, up the room lights, mute the movie and answer the phone.","3. Hierarchy","Event lists represent a set of sub-events. The sub-events may be events defined as an event list, or they may be a \u201cprimitive\u201d operation that is performed by a device in the system or network. There is no limit to the depth of nesting of events and sub-events and any event may contain any other event as one of its sub-events.","The advantage of this is that as system becomes more complex, the event structures automatically become more flexible and thus more able to handle the complexity. This applies both to an increase in complexity of individual devices and to an increase in complexity of the system or network, which can including a potentially unlimited set of devices.","Another advantage of this is that events may represent an aggregation of sub-events on disparate device types. For example, home control functions can be linked in with audio\/video appliance functions\u2014when the door bell rings, have the security camera output presented on the active television set.","Another advantage of this is that the user can schedule events that are meaningful to him. For example, what the user would like to think of as a \u201crecord\u201d event can hide or encapsulate the complexity of a lower-level series of sub-events: power on the recording device; check that it has tape\/disk loaded, rewind the tape or position the disk, set recording parameters (e.g. SP mode on a video tape), and record.","Another advantage of this is that events are centrally controlled. Users, applications programs and other middleware functions can access the current set of active and scheduled events in a consistent manner regardless of the device or devices supported.","4. Concurrency and Sequentially within Events","Event lists can represent both a sequence of events that fire (i.e. are initiated) in the order given in the list, or a multi-threaded set of events that occur concurrently. Also, via hierarchy, an event can be any combination of these two types of sets.","When an event that represents a series of sequential events fires, then the first of its sub-events fires, when that completes the second of its sub-events fires, and so on. When an event that represents a set of concurrent sub-events fires, then each of its sub-events are scheduled to fire in an indeterminate, concurrent or parallel manner.","One advantage of this feature is that, again, as the devices supported become more complex, the event structures automatically become more flexible and more able to handle the device complexity. Another is that, again, the user can work with higher-level events that are meaningful to him.","5. Concurrency Among Events","In a typical system or network, multiple events will be active at the same time. The advantage of this is that, as the system grows in complexity, the same event handling, scheduling and control mechanisms apply.","6. Support and Synergy with Other Functions","The REM also provides support for and synergy with other middle-ware\/framework functions. Additionally, the REM also provides support for and synergy with applications functions.","The present invention, a computer implemented process for scheduling and executing service-based requests, has thus been described. The computer implemented process may include a computer readable medium containing therein computer readable codes for causing a computer system to perform a method of synchronizing different network activity over time as described above with reference to various embodiments. While the present invention has been described in particular embodiments, it should also be appreciated that the present invention should not be construed as limited by such embodiments, but should be construed according to the below claims."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The accompanying drawings, which are incorporated in and form a part of this specification, illustrate embodiments of the invention and, together with the description, serve to explain the principles of the invention:",{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":["FIG. 3","FIG. 2"]},{"@attributes":{"id":"p-0020","num":"0019"},"figref":["FIG. 4","FIG. 3"]},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 11"}]},"DETDESC":[{},{}]}
