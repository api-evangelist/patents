---
title: On-demand contextually aware steering rules
abstract: A server device may store policy information that includes subscription information associated with one or more user devices, and an indication of how to route traffic upon detecting traffic associated with the one or more user devices associated with the stored subscription information. The server device may receive information associated with a particular traffic flow, where at least some of the received information is derived from the particular traffic flow. The server device may compare the received information to the stored policy information. The server device may detect, based on the comparing, that the particular traffic flow is associated with a particular one of the one or more user devices associated with the stored subscription information. The server device may route the particular traffic flow based on the stored policy information.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08775596&OS=08775596&RS=08775596
owner: Verizon Patent and Licensing Inc.
number: 08775596
owner_city: Basking Ridge
owner_country: US
publication_date: 20110913
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND","DETAILED DESCRIPTION OF PREFERRED EMBODIMENTS"],"p":["Service provider networks transport network traffic associated with a variety of services, applications, and content. The network traffic may include voice, text, video, and\/or other data. Service provider networks are sized and\/or scaled to transport an increasing quantity of traffic that is sent by and\/or received from more and more user devices and\/or content providers. Additionally, the increase in the quantity of traffic corresponds to an expanding demand for various types of services, applications, and\/or content.","Unfortunately, service provider networks are not always able to dynamically handle traffic based on the nature of the traffic itself, or based on conditions detected in an access network. Additionally, service provider networks are not always able to concurrently provide multiple services to users. For example, while service provider networks may be able to provide a content filtering service to a user device, or provide a service that treats certain types of data streams to or from the user device in certain ways, service provider networks may not easily be able to provide both types of services to the same user device.","The following detailed description refers to the accompanying drawings. The same reference numbers in different drawings may identify the same or similar elements.","A system and\/or method, described herein, may enable information, associated with traffic being transported over a radio access network (RAN), to be dynamically obtained on a real-time basis. The information, associated with the traffic, may be used to detect whether a condition exists within the RAN. Based on the detection of the condition, the system and\/or method may cause the traffic, transmitted via a service provider network with which the RAN is associated, to be transmitted to a user device in a manner that mitigates or remedies the condition.","As described herein, a RAN modeling server may monitor traffic flowing to and\/or from the service provider network via the RAN. The RAN modeling server may monitor packets, associated with the traffic, that are being transported over the RAN via cells that serve one or more user devices. The RAN modeling server may obtain information associated with the traffic based on the packet monitoring. The RAN modeling server may forward the information associated with the traffic to a content distribution system associated with the service provider network.","As also described herein, an analytics and reporting (AR) server, associated with the content distribution system, may use the information associated with the traffic, as well as subscriber information, associated with the user devices, to determine whether congestion and\/or another condition (e.g., a need for content filtering, jitter, dropped packets, etc.) exists within the RAN. The AR server may send a notification that indicates that a condition exists within the RAN. The notification may include an instruction, to a content optimization (CO) server, associated with the content distribution system, to send traffic to the one or more user devices in a manner that mitigates and\/or remedies the condition.",{"@attributes":{"id":"p-0014","num":"0013"},"figref":["FIG. 1","FIG. 1","FIG. 1","FIG. 1"],"b":["100","100","110","1","110","110","110","120","1","120","120","120","130","130","140","150","160","170"]},"Also, in some implementations, one or more of the devices of environment  may perform one or more functions described as being performed by another one or more of the devices of environment . For example, RAN server  and CDS  may be integrated into a single device. Devices, systems, and\/or networks of environment  may interconnect via wired connections, wireless connections, or a combination of wired and wireless connections.","User device  may include any computation or communication device, such as a wireless mobile communication device that is capable of communicating with base stations . For example, user device  may include a radiotelephone, a personal communications system (PCS) terminal (e.g., a device that may combine a cellular radiotelephone with data processing and data communications capabilities), a personal digital assistant (PDA) (e.g., a device that can include a radiotelephone, a pager, Internet\/intranet access, etc.), a laptop computer, a camera, a personal gaming system, a smart phone, or another type of mobile computation or communication device.","Base station  may include one or more devices that receive, process, and\/or transmit traffic, such as voice, video, text, and\/or other data, destined for and\/or received from user device . In one example, base station  may be a NodeB and\/or radio network controller (RNC). In one example implementation, base station  may be an eNodeB within a long term evolution (LTE) network based on the Third Generation Partnership Project (3GPP) standard. As shown in , one or more base stations  may be associated with a RAN that receives traffic from and\/or sends traffic to service provider network . Base station  may send traffic to and\/or receive traffic from user device  via an air interface and may include one or more cells via which signals are received from and\/or transmitted to user device .","RAN server  may include one or more server devices, or other types of computation or communication devices, that gather, process, search, store, and\/or provide information in a manner similar to that described herein. RAN server  may, for example, monitor traffic being transported via cells associated with base station  to dynamically obtain information associated with the traffic being transported via base station . In one example, RAN server  may monitor one or more interfaces associated with signal bearers (such as, for example, an S1-U interface between base station  and a service gateway server (SGW) associated with service provider network ) via which user device  communicates with service provider network . In another example, RAN server  may monitor one or more interfaces associated with control-plane signaling (such as, for example, an S11 interface between a mobility management entity (MME) server and the SGW and\/or an S10 interface between the MME and another MME during, for example, a handover event). The control-plane signaling may control signal bearers during establishment or execution of a communication session associated with user device .","RAN server  may identify information associated with user device  from packets associated with the traffic. The information, associated with user device , may include a device identifier (e.g., a mobile directory number (MDN), an electronic serial number (ESN), a subscriber identity module (SIM) universal resource identifier (URI), an international mobile subscriber identifier (IMSI), and\/or another identifier), a source address (e.g., an Internet protocol (IP) address), a status of user device  (e.g., active, dormant, off-line, etc.), etc. RAN server  may identify a type of traffic associated with user device  (e.g., streaming video, voice, data, etc.), information associated with a cell via which the traffic is being served to user device  (e.g., a cell identifier), information associated with a base station  with which the cell is associated (e.g., a base station identifier), etc. RAN server  may obtain information associated with a traffic load associated with the cell and\/or base station  via which user device  is communicating. The information associated with the traffic load may identify a quantity of bandwidth, data rate, and\/or throughput associated with the cell and\/or base station . RAN server  may also detect handovers associated with user device , such as, for example, a handover into or out of the cell. RAN server  may transmit the information associated with the traffic to CDS .","CDS  may include one or more devices that gather, process, search, store, and\/or provide information in a manner similar to that described herein. CDS  may perform operations associated with content distribution within environment . For example, CDS  may perform caching operations by obtaining content from content provider  and temporarily storing the content in a memory associated with CDS . CDS  may retrieve particular content, from the memory, in response to a request to receive the particular content from user device . CDS  may receive, from RAN server , information associated with traffic being transported via base station  to and\/or from user devices .","CDS  may also store subscriber information associated with one or more user devices . Subscriber information for a particular user device  may include information relating to subscriptions associated with the particular user device . For example, the subscriber information for a particular user device  may indicate whether the particular user device  has subscribed to a content filtering service, in which certain content (e.g., adult content) may be restricted. Subscriber information for a particular user device  may also indicate bandwidth limits associated with the particular user device  (e.g., a subscriber associated with the particular user device  may have subscribed to a service where the subscriber is only entitled to use a certain amount of bandwidth over a given time period). CDS  may receive the subscriber information from a device that stores policy information (e.g., RAN server , a policy charging and rules function (not pictured), or any other device that maintains policy and\/or subscriber information).","CDS  may use information associated with traffic to determine whether a condition exists within the RAN via which user devices  communicate with service provider network . CDS  may retrieve information associated with the traffic to identify trends associated with the traffic (such as, for example, whether a cell is congested (e.g., whether a quantity of bandwidth associated with the cell is above a predetermined threshold)). CDS  may also use attributes of traffic itself (e.g., identity of a subscriber associated with the traffic, a source address of the traffic, a destination address of the traffic, a source port of the traffic, a destination port of the traffic, a flow type of the traffic, etc.) to determine whether a condition exists within the RAN. CDS  may use the information\/attributes associated with the traffic in connection with subscriber information, stored by CDS , to determine whether a condition exists within the RAN via which user devices  communicate with service provider network .","CDS  may take corrective action, in response to the detection of a condition, such as by transporting traffic to user device  to remedy, mitigate, or avoid the condition. CDS  may, for example, cause a data rate, at which video traffic is being streamed to user device , to be down-rated (e.g., decreased) in order to reduce congestion within a cell. Also, or alternatively, CDS  may process traffic in order to ensure that the content is sent to user device  in a manner that satisfies a quality of service (QoS) threshold. CDS  may also, or alternatively, convert traffic into a format and\/or protocol based on a type of user device . CDS  may process the traffic by sending the traffic, to user device , at a bandwidth, data rate, and\/or packet size that maximizes network throughput without introducing congestion, jitter, and\/or other conditions. CDS  may additionally process the traffic by sending the traffic to a content filter when a user device , to which the traffic is being transmitted, is associated with a content filtering service.","Content provider  may include any type or form of content provider. For example, content provider  may include free television broadcast providers (e.g., local broadcast providers, such as NBC, CBS, ABC, and\/or Fox), for-pay television broadcast providers (e.g., TNT, ESPN, HBO, Cinemax, CNN, etc.), and\/or Internet-based content providers (e.g., Youtube, Vimeo, Netflix, Hulu, Veoh, etc.) that stream content from web sites and\/or permit content to be downloaded (e.g., via progressive download, etc.). Content provider  may produce media streams (e.g., television broadcasts). A \u201cmedia stream,\u201d as used herein, may refer to a stream of content that includes video content (e.g., a video stream), audio content (e.g., an audio stream), and\/or textual content (e.g., a textual stream). Content provider  may further include a provider that provides network-based text\/picture web pages (e.g., Internet web sites).","Service provider network  may include one or more wired and\/or wireless networks via which user devices  transmite and\/or receive content. For example, service provider network  may include a cellular network, a Public Land Mobile Network (PLMN), a second generation (2G) network, a third generation (3G) network, a fourth generation (4G) network (e.g., a long term evolution (LTE) network), a fifth generation (5G) network, and\/or another network. In another example, service provider network  may include a code division multiple access (CDMA) network and\/or devices, a global system for mobile communications (GSM) network and\/or devices, a general packet radio services (GPRS) network and\/or devices, or a combination of a CDMA, GSM, GPRS networks. Additionally, or alternatively, service provider network  may include a wide area network (WAN), a metropolitan area network (MAN), an ad hoc network, an intranet, a fiber optic-based network (e.g., a fiber optic service (FiOS) network), and\/or a combination of these or other types of networks.","Network  may include one or more wired and\/or wireless networks. For example, network  may include a cellular network, the PLMN, a 2G network, a 3G network, a 4G network (e.g., an LTE network), a 5G network, and\/or another network. Additionally, or alternatively, network  may include a WAN, a MAN, a telephone network (e.g., the Public Switched Telephone Network (PSTN)), an ad hoc network, an intranet, the Internet, a fiber optic-based network (e.g., a FiOS network), and\/or a combination of these or other types of networks.",{"@attributes":{"id":"p-0027","num":"0026"},"figref":["FIG. 2","FIG. 2","FIG. 2"],"b":["140","140","210","220","140","140","140","140"]},"AR server  may include one or more server devices, or other types of computation or communication devices, that gather, process, search, store, and\/or provide information in a manner similar to that described herein. In one example implementation, AR server  may determine whether a condition exists within a RAN associated with service provider network .","AR server  may receive, from RAN server , information associated with traffic being transported, via cells within the RAN, between service provider network  and user devices . AR server  may be programmed with an Application Programming Interface (API) that allows AR server  to receive and interpret the information from RAN server .","AR server  may retrieve, from a memory associated with AR server , policy information associated with the RAN. The policy information may, in one example, identify thresholds associated with a maximum quantity of bandwidth that the cells can transport before becoming congested. In another example, the policy information may identify a threshold associated with a respective maximum quantity of user devices  that can be served by each of the cells.","The policy information may also include subscriber information associated with one or more of user devices . Subscriber information, for a particular user device , may include information relating to subscriptions associated with the particular user device . For example, the subscriber information, for a particular user device , may indicate that the particular user device  has subscribed to a content filtering service, in which certain content (e.g., adult content) may be restricted. Subscriber information, for a particular user device , may also, or alternatively, indicate bandwidth limits associated with the particular user device  (e.g., a subscriber associated with the particular user device  may have subscribed to a service where the subscriber is only entitled to use a certain amount of bandwidth over a given time period).","AR server  may determine that a network condition exists, based on the received information associated with the traffic being transported, and\/or subscriber information associated with the traffic. Based on a determination that a network condition exists, AR server  may send a notification to CO server  that indicates that the network condition exists.","AR server  may run multiple software processes (or \u201cthreads\u201d), each thread corresponding to a particular traffic flow. A new thread may be instantiated when AR server  receives information for a particular traffic flow. When instantiating a new thread, AR server  may allocate resources (e.g., processor resources, disk resources, memory resources, etc.) to the thread. When AR server  detects that the particular traffic flow has terminated (e.g., upon receiving a notification from RAN server  that the traffic flow has terminated, or after an expiration of a particular duration of time since the last information regarding the traffic flow was received from RAN server ), AR server  may terminate the thread. When the thread is terminated, resources (e.g., processor resources, disk resources, memory resources, etc.) that were allocated to the thread may be released (e.g., placed into a pool of available resources).","CO server  may include one or more server devices, or other types of computation or communication devices, that gather, process, search, store, and\/or provide information in a manner similar to that described herein. In one example implementation, CO server  may perform content optimization operations on content being served to user devices . For example, CO server  may process content, destined for user device , to maximize throughput and\/or avoid congestion while being transported over service provider network  and\/or the RAN associated with service provider network . Also, or alternatively, CO server  may process the content to meet a level of QoS specified in a service level agreement (SLA) associated with a particular content provider  from which the content originates. CO server  may also, or alternatively, convert the content to a format, based on a type of user device , that enables the content to be received, processed, and\/or rendered on user device  within a period of time that is less than a threshold. CO server  may also, or alternatively, route the content to one or more content filtering devices (not pictured), which may analyze the content based on content filtering parameters (e.g., parameters that indicate that adult content should be blocked), and block some or all of the content based on the parameters.","CO server  may receive a notification from AR server  that indicates that a condition, associated with one or more cells and\/or base stations  within the RAN, exists. CO server  may, in response to the notification, cause content to be served to user device  in a manner that minimizes and\/or avoids the condition on the RAN.","The notification may, in one example, indicate that streaming video (e.g., being served to user device  via a cell associated with base station ) is being served at a data rate that is causing congestion within the cell. CO server  may, in response to the notification, down rate (e.g., decrease) the data rate and\/or another data rate associated with streaming video being served to other user devices . Further, CO server  may down rate the data rate to a level that is less than a threshold. The threshold may be identified, by CO server  and\/or AR server , as a level that reduces and\/or remedies the congestion while maintaining a QoS, associated with the video stream and\/or the other media streams (e.g., greater than a QoS threshold). The threshold may, in another example, be identified as a level in which a user, of the user device, does not perceive a reduction in video quality when the video is served at the down rated data rate.","Additionally, or alternatively, CO server  may, in response to the notification, serve content to user device  by resizing packets, associated with the content. Resizing the packets may enable the content to be more efficiently served to user devices . For example, CO server  may process the packets in a manner that conforms to a maximum transmission unit (MTU) associated with service provider network . Processing the packets in the manner that conforms to the MTU may permit the content to be served at a maximum data rate (e.g., greater than another threshold) while avoiding congestion within service provider network  and\/or the RAN associated with service provider network .","CO server  may process the packets by performing packet and\/or header compression. The packets may be resized and\/or compressed to achieve a maximum bandwidth and\/or data transfer rate while avoiding congestion and serving the content to user device .","The notification may indicate that traffic is destined for a user device , that is subscribed to a content filtering service. In response, CO server  may forward the traffic, destined for the user device , to one or more content filtering devices that analyze the traffic to determine whether the traffic includes content that is specified, by the subscriber information for user device , as restricted content.","CO server  may run multiple software processes (or \u201cthreads\u201d), each thread corresponding to a particular traffic flow. A new thread may be instantiated when CO server  receives information for a particular traffic flow. When instantiating a new thread, CO server  may allocate resources (e.g., processor resources, disk resources, memory resources, etc.) to the thread. When CO server  is finished processing packets associated with the traffic flow, CO server  may terminate the thread. When the thread is terminated, resources (e.g., processor resources, disk resources, memory resources, etc.) that were allocated to the thread may be released (e.g., placed into a pool of available resources).",{"@attributes":{"id":"p-0041","num":"0040"},"figref":["FIG. 3","FIG. 3","FIG. 3"],"b":["300","110","120","130","150","210","220","110","120","130","150","210","220","300","300","310","320","330","340","350","360","300","300","300","310","300","300"]},"Bus  may include a path, or a collection of paths, that permits communication among the components of device . Processor  may include a processor, microprocessor, or processing logic that interprets and executes instructions. Memory  may include any type of dynamic storage device that stores information and instructions for execution by processor , and\/or any type of non-volatile storage device that stores information for use by processor .","Input component  may include a mechanism that permits a user to input information to device , such as a keyboard, a keypad, a button, a switch, etc. Output component  may include a mechanism that outputs information to the user, such as a display, a speaker, one or more light emitting diodes (LEDs), etc. Communication interface  may include any transceiver-like mechanism that enables device  to communicate with other devices and\/or systems via wireless communications (e.g., radio frequency, infrared, and\/or visual optics, etc.), wired communications (e.g., conductive wire, twisted pair cable, coaxial cable, transmission line, fiber optic cable, and\/or waveguide, etc.), or a combination of wireless and wired communications. For example, communication interface  may include mechanisms for communicating with another device or system via a network, such as service provider network  and\/or network . In one alternative implementation, communication interface  may be a logical component that includes input and output ports, input and output systems, and\/or other input and output components that facilitate the transmission of data to other devices.","As will be described in detail below, device  may perform certain operations relating to RAN modeling and condition detection within a RAN associated with service provider network . Device  may perform these operations in response to processor  executing software instructions contained in a computer-readable medium, such as memory . A computer-readable medium may be defined as a non-transitory memory device. A memory device may include space within a single physical memory device or spread across multiple physical memory devices. The software instructions may be read into memory  from another computer-readable medium or from another device. The software instructions contained in memory  may cause processor  to perform processes described herein. Alternatively, hardwired circuitry may be used in place of or in combination with software instructions to implement processes described herein. Thus, implementations described herein are not limited to any specific combination of hardware circuitry and software.",{"@attributes":{"id":"p-0045","num":"0044"},"figref":"FIG. 4","b":["400","100","160","130","400","400","405","410","415","420","425","430","435","440","445","450","400","405","450","400","400"]},"UD ID field  may store information associated with user device  that communicates with service provider network . For example, the information, associated with user device , may include a device identifier (e.g., a MDN, an ESN, a SIM URI, an IMSI, and\/or another identifier). Source address field  may store a network address (such as, for example, an IP address, a media access control (MAC) address, a telephone number, etc.) associated with content provider . Source port field  may store a port number associated with content provider . Destination address field  may store a network address (e.g., an IP address, a MAC address, a telephone number, etc.) associated with user device . Destination port field  may store a port number associated with user device .","Base station ID field  may store information associated with base station  (e.g., a base station identifier), via which user device  communicates with service provider . Cell ID field  may store information associated with a particular cell (e.g., a cell identifier), associated with base station , that serves user device  when communicating with service provider network . UD status field  may store an indication regarding whether user device  is actively communicating with service provider network . For example, UD status field  may store an indication that user device  is present (e.g., powered up) on the RAN and actively communicating. Also, or alternatively, UD status field  may store an indication that user device  is present on the RAN, but is not actively communicating. In yet another example, UD status field  may store an indication that user device is not present on the RAN, such as, for example, when user device  is not powered up and\/or is not located within a cell associated with the RAN.","Flow type field  may identify the manner in which user device is communicating with service provider network . For example, flow type field  may store an indication that user device  is receiving streaming video via the particular cell and\/or base station . In another example, flow type field may store an indication that user device  is associated with a call session and\/or message session (e.g., using a short message service (SMS) protocol, a multimedia message service (MMS) protocol, an IM protocol, an email protocol, etc.) with another user device  via the particular cell and\/or base station , etc. Traffic load field  may store information associated with a bandwidth and\/or data rate associated with a flow to and\/or from user device  at a point in time or over a period of time.","RAN server  may monitor traffic being transported via one or more cells associated with one or more base stations  within the RAN and may store information, associated with traffic being transported to and\/or from user device , in data structure . For example, RAN server  may store information associated with base station  (e.g., -) and\/or an identifier associated with a cell (e.g., 1-C1) associated with base station  (e.g., shown as ellipse ). RAN server  may monitor packets associated with flows being transported via the cell and may obtain, from the packets, information associated with user device  such as, for example, a device identifier (e.g., IMSI-1), a source address (e.g., IP1), a source port (e.g., PORT1), a destination address (e.g., IP4), and\/or a destination port (e.g., PORT4) (e.g., as shown by ellipse ). RAN server  may, based on the packets, determine that user device  is present on the cell (e.g., active) and may identify a type of flow (e.g., streaming video) that is associated with user device  (e.g., as shown by ellipse ). RAN server  may identify a traffic load, such as, for example, a quantity of bandwidth, a data rate, etc. (e.g., BW-1) relating to the flow associated with user device  (e.g., as shown by ellipse ). RAN server  may obtain information associated with other traffic that is being transported via other cells and\/or base stations  within the RAN (e.g., as shown by ellipse ).",{"@attributes":{"id":"p-0050","num":"0049"},"figref":"FIG. 5","b":["500","110","160","500","130","500","130"]},"As shown in , process  may include monitoring traffic being transported to and\/or from a service provider network via a RAN (block ). For example, RAN server  may monitor packets being transported via a RAN associated with service provider network . In one example, RAN server  may monitor packets being transmitted via interfaces associated with signal bearers (such as, for example, an S1-U interface) via which user device  communicates with service provider network . In another example, RAN server  may monitor one or more interfaces associated with control-plane signaling (such as, for example, an S11 interface when establishing or executing a communication session and\/or an S10 interface during a handover event). When monitoring the packets, RAN server  may inspect a portion of the packets (e.g., a header portion, a trailer portion, a label portion, etc.) that does not include a payload portion of the packets. In another example implementation, RAN server  may inspect any portion of the packets (e.g., headers, trailers, labels, payloads, etc.).","As also shown in , process  may include obtaining information associated with the monitored traffic (block ). For example, RAN server  may obtain, as a result of the packet monitoring, information associated with user device , such as a device identifier (e.g., a MDN, an ESN, a SIM URI, an IMSI, and\/or another identifier), a source address (e.g., an IP address, a MAC address, etc.), a source port, etc. RAN server  may also identify a type of flow relating to user device . For example, the type of flow may include, but is not limited to, streaming video, progressive download, a voice call, a video conference, a message (e.g., based on an SMS protocol, MMS protocol, IM protocol, email protocol, etc.), a data session, etc. RAN server  may identify a traffic load associated with the flow by identifying a quantity of bandwidth and\/or a data rate associated with the flow.","The obtained information may include information associated with a cell, via which user device  communicates with service provider network . The information associated with the cell may indicate an amount of traffic being handled by the cell (e.g., a traffic load). Such information may be useful in determining whether the cell is congested or can handle additional traffic.","As yet further shown in , process  may include saving, in a data structure and as information associated with the traffic, the obtained information associated with the traffic (block ), and transmitting some or all of the obtained information associated with the traffic (block ). For example, RAN server  may store information associated with the traffic in a data structure that is stored in a memory associated with RAN server  (e.g., in a data structure that includes some or all of the data shown in data structure ). RAN modeling server  may send some or all of the obtained information associated with the traffic to AR server .",{"@attributes":{"id":"p-0055","num":"0054"},"figref":"FIG. 6","b":["600","110","160","600","140","210","220","600","140"]},"As shown in , process  may include receiving information associated with traffic being transported to and\/or from user device  via a RAN associated with service provider network  (block ). As mentioned above, the received information may identify attributes associated with user device  (e.g., a UD ID, a source address, a source port, etc.), a cell via which user device  communicates with service provider network  (identification of the cell, traffic load of the cell, etc.), and\/or attributes of the traffic itself (e.g., flow type, etc.). The information may be received by one or more devices of CDS  (e.g., by AR server ). The information may be received in the format of data structure . Alternatively, the information may be received in a similar format (e.g., a different arrangement from data structure , more information than data structure , or less information than data structure ).","As also shown in , process  may include detecting, based on the received information, that a network condition exists (block ), and determining a type of the network condition (block ). When detecting that the network condition exists, AR server  may compare the received information to policy information stored by AR server .","For example, AR server  may detect that a network condition exists when a traffic load of a particular cell exceeds a predetermined threshold (e.g., the cell is \u201ccongested\u201d). The traffic load may be identified from the received information (e.g., traffic load , included in data structure ). The AR server  may also determine that a network condition exists when a traffic load of a particular cell is substantially higher than a traffic load of another cell (i.e., the traffic load of one cell is higher than the traffic load of another cell, by at least a predetermined threshold). The predetermined thresholds may be included in policy information stored by AR server .","Additionally, or alternatively, AR server  may receive a notification that a cell is congested. AR server  may receive such a notification from a device that monitors traffic on cells (e.g., a policy charging and rules function, or any other type of device that monitors traffic on cells). Upon detecting such a network condition, AR server  may determine that the type of detected network condition is a \u201ccongestion\u201d network condition.","As another example, AR server  may detect that a network condition exists when user device  is associated with a content filtering service. AR server  may identify user device  by analyzing the information received at block  (e.g., by identifying a UD ID , destination address , and\/or destination port ). AR server  may compare the information (e.g., UD ID , destination address , and\/or destination port ) to policy information stored by AR server  to identify that user device  is associated with the content filtering service. When AR server  determines that user device  is associated with the content filtering service, AR server  may determine that a network condition has occurred, and that the type of network condition is a \u201ccontent filtering\u201d network condition.","As a further example, AR server  may detect that a network condition exists based on a type of traffic. AR server  may identify, from the received information (e.g., flow type , included in data structure ), a type of the traffic. AR server  may store policy information that identifies one or more cells that should handle certain types of traffic (e.g., voice traffic, streaming video traffic, etc.). AR server  may also identify a cell that is handling the traffic (e.g., by identifying cell ID , included in data structure ). If the identified cell is not one of the cells, indicated by the policy information, AR server  may determine that a network condition exists, and that the type of network condition is a \u201cflow type\u201d network condition.","Additionally, or alternatively, AR server  may identify that a flow type condition occurs based on a traffic load associated with a cell that is handling the traffic (e.g., based on traffic load , included in data structure ). The policy information stored by AR server  may indicate a maximum traffic load for cells that handle traffic of a particular type. If the traffic load of the cell handling the traffic is equal to or greater than the maximum traffic load, indicated by the policy information, then AR server  may determine that a network condition exists, and that the type of network condition is a \u201cflow type\u201d network condition.","Once a network condition is detected, and\/or when the type of network condition is determined, an appropriate response may be determined in response to the detected network condition (block ). AR server  may store policy information indicating how to handle traffic, based on types of network conditions that occur. For example, AR server  may store policy information that indicates that traffic should be re-routed to a less congested cell when a \u201ccongestion\u201d network condition occurs. In such a scenario, AR server  may identify the less congested cell, based on information received from RAN server  (i.e., information regarding congestion of one or more cells in the RAN).","Additionally, AR server  may store policy information that indicates that traffic should be re-routed to one or more content filtering devices when a \u201ccontent filtering\u201d network condition occurs. The policy information stored by AR server  may identify one or more content filtering devices associated with a content filtering subscription subscribed to user device , which is associated with the traffic. For example, if user device  is subscribed to a content filtering service that filters adult content, the policy information stored by AR server  may identify one or more content filtering devices that analyze traffic for adult content, and block the content from being received by user device  if the traffic includes adult content.","Furthermore, AR server  may store policy information that indicates that traffic should be re-routed to a particular cell (and\/or to a less congested cell) when a \u201cflow type\u201d network condition occurs. The policy information stored by AR server  may identify certain cells, within the RAN, that are designated to handle certain flow types. For example, the policy information may specify that video stream traffic is to be handled by one set of cells, while audio stream traffic is to be handled by a different set of cells.","Upon determining the appropriate response to the network condition (e.g., forwarding traffic to a less congested cell when a \u201ccongestion\u201d network condition occurs, forwarding traffic to a content filtering device when a \u201ccontent filtering\u201d network condition occurs, forwarding traffic to a different cell when a \u201cflow type\u201d network condition occurs, etc.), AR server  may communicate such appropriate response to CO server  via a notification message. The notification message may include any information that enables CO server  to forward the traffic. For example, the notification message may indicate one or more devices (e.g., cells) to which the traffic should be forwarded.","As further shown in , process  may include routing monitored traffic associated with the detected network condition, based on the determined appropriate response (block ). For example, if the notification message from CO server  indicates that a \u201ccongestion\u201d network condition has occurred, CO server  may forward traffic, identified by AR server  as being handled by a congested cell, to a different cell. As mentioned above, the different cell, to which to forward the traffic, may be identified in the notification message from AR server .","If the network condition is a \u201ccontent filtering\u201d network condition (as indicated by the notification message from AR server ), the notification message from AR server  may identify one or more content filtering devices. CO server  may forward the traffic to the one or more content filtering devices identified by the notification message.","If the network condition is a \u201cflow type\u201d network condition (as indicated by the notification message from AR server ), the notification message from AR server  may identify one or more cells to which to forward the traffic. CO server  may forward the traffic to the one or more cells identified by the notification message. Additionally, or alternatively, CO server  may first determine whether the one or more cells, identified by the notification message, are capable of serving user device  before forwarding the traffic to the one or more cells identified by the notification message.","The device(s) and processes described above allow traffic in a network to be intelligently routed based on network conditions, and\/or characteristics of the traffic itself. The detection of network conditions, and the manner of handling traffic based on detecting network conditions, can be easily programmed and changed (e.g., by adding, removing, or editing policy information stored by CDS  and\/or RAN server ).","The foregoing description of implementations provides illustration and description, but is not intended to be exhaustive or to limit the possible implementations to the precise form disclosed. Modifications and variations are possible in light of the above teachings or may be acquired from practice of the implementations. For example, while series of blocks have been described with regard to , the order of the blocks may be modified in other implementations. Further, non-dependent blocks may be performed in parallel.","It will be apparent that embodiments, as described above, may be implemented in many different forms of software, firmware, and hardware in the implementations illustrated in the figures. For example, while the above-described example embodiments are described in terms of a RAN in communication with a service provider network , the above-described device(s) and processes may be implemented in any type of network. For instance, instead of a RAN with a RAN server , user device  may be in communication with any type of network (e.g., a wireless LAN), that includes one or more traffic analysis devices that monitor traffic on the network. The network may also include one or more policy devices that store policy information associated with user device . The one or more traffic analysis devices and the one or more policy devices may provide traffic analysis and\/or policy information to CDS  (or any other device that is capable of performing the functions described above with respect to CDS ).","The actual software code or specialized control hardware used to implement embodiments is not limiting of the embodiments. Thus, the operation and behavior of the embodiments have been described without reference to the specific software code, it being understood that software and control hardware may be designed based on the description herein.","Even though particular combinations of features are recited in the claims and\/or disclosed in the specification, these combinations are not intended to limit the disclosure of the implementations. In fact, many of these features may be combined in ways not specifically recited in the claims and\/or disclosed in the specification. Although each dependent claim listed below may directly depend on only one other claim, the disclosure of the implementations includes each dependent claim in combination with every other claim in the claim set.","No element, act, or instruction used in the present application should be construed as critical or essential unless explicitly described as such. Also, as used herein, the article \u201ca\u201d is intended to include one or more items. Where only one item is intended, the term \u201cone\u201d or similar language is used. Further, the phrase \u201cbased on\u201d is intended to mean \u201cbased, at least in part, on\u201d unless explicitly stated otherwise."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0004","num":"0003"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0005","num":"0004"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0006","num":"0005"},"figref":["FIG. 3","FIGS. 1 and 2"]},{"@attributes":{"id":"p-0007","num":"0006"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 6"}]},"DETDESC":[{},{}]}
