---
title: Information processing apparatus and removable media management method
abstract: According to one embodiment, an information processing apparatus includes an identifier generation module, an identifier write module, an identifier storage, and a removable media control module. The identifier generation module generates a media identifier for a removable medium connected to the information processing apparatus. The identifier write module writes the generated media identifier in a predetermined area in the removable medium. The identifier storage stores the generated media identifier in an identifier list. The removable media control module permits use of a removable medium which is newly connected to the information processing apparatus if a media identifier included in the identifier list is written in a predetermined area in the newly connected removable medium.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08590051&OS=08590051&RS=08590051
owner: Kabushiki Kaisha Toshiba
number: 08590051
owner_city: Tokyo
owner_country: JP
publication_date: 20111018
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","FIELD","BACKGROUND","DETAILED DESCRIPTION"],"p":["This application is based upon and claims the benefit of priority from prior Japanese Patent Applications No. 2010-290997, filed Dec. 27, 2010; and No. 2011-018966, filed Jan. 31, 2011, the entire contents of all of which are incorporated herein by reference.","Embodiments described herein relate generally to an information processing apparatus to which removable media are connected, and a removable media management method applied to the apparatus.","Removable media such as a USB flash memory and SD card are generally used for carrying data between a plurality of computers. Using a removable medium, it is easy to read data stored in the removable medium into a computer and to write data stored in the computer in the removable medium.","On the other hand, since a security problem of, for example, sneaking confidential data out of a computer is posed, various methods of preventing data from being sneaked have been proposed.","For example, a technique which controls to permit use of only registered removable media has been proposed. With this technique, for example, an identifier (ID) of a removable medium, use of which is permitted in a computer, is pre-stored in the computer. When a removable medium is connected to the computer, it is determined whether use of the connected removable medium is permitted based on the stored ID of the removable medium. Then, data write accesses from the computer to the removable medium and read accesses of data stored in the removable medium can be controlled, thus suppressing sneaking data out of a computer.","However, an ID to be embedded in a removable medium such as a USB flash memory at the time of shipping of the removable medium depends on a vendor. Hence, no ID may be embedded in a removable medium or the same ID may be embedded in a plurality of removable media. It is difficult to control use of such removable media based on embedded IDs.","Various embodiments will be described hereinafter with reference to the accompanying drawings.","In general, according to one embodiment, an information processing apparatus includes an identifier generation module, an identifier write module, an identifier storage, and a removable media control module. The identifier generation module generates a media identifier for a removable medium connected to the information processing apparatus. The identifier write module writes the generated media identifier in a predetermined area in the removable medium. The identifier storage stores the generated media identifier in an identifier list. The removable media control module permits use of a removable medium which is newly connected to the information processing apparatus if a media identifier included in the identifier list is written in a predetermined area in the newly connected removable medium.","The first embodiment will be described hereinafter with reference to the drawings.",{"@attributes":{"id":"p-0036","num":"0035"},"figref":["FIG. 1","FIG. 1"],"b":["10","10","11","12","17","12","12","11","11","11"]},"The computer main body  has a thin box-shaped housing. A keyboard , a power button  used for powering on\/off the power supply of the computer , an input operation panel , a touch pad , speakers A and B, and the like are disposed on the top surface of the housing of the computer main body . Various operation buttons are provided on the input operation panel .","The right side surface of the computer main body  is provided with a USB connector  for connection to a USB cable or a USB device of, e.g. the universal serial bus (USB) 2.0 standard.",{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 2","b":"10"},"As shown in , the computer  includes a central processing unit (CPU) , a north bridge , a main memory , a south bridge , a graphic processing unit (GPU) , a video random access memory (VRAM) A, a sound controller , a basic input\/output system-read only memory (BIOS-ROM) , a local area network (LAN) controller , a hard disk drive (HDD) , an optical disk drive (ODD) , a USB controller A, a card controller B, a wireless LAN controller , an embedded controller\/keyboard controller (EC\/KBC) , and an electrically erasable programmable ROM (EEPROM) .","The CPU  is a processor which controls the operations of the respective modules in the computer . The CPU  executes an operating system (OS) , removable media management program , and various application programs, which are loaded from the HDD  into the main memory . The removable media management program  is software for managing use of a removable medium connected to the computer . This removable medium includes, for example, a USB flash memory, SD card, CompactFlash\u2122 memory card, Memory Stick\u2122, and external Serial ATA (eSATA)-connected or IEEE1394-connected storage devices.","The CPU  also executes a BIOS stored in the BIOS-ROM . The BIOS is a program for hardware control.","The north bridge  is a bridge device which connects a local bus of the CPU  and the south bridge . The north bridge  includes a memory controller which access-controls the main memory . The north bridge  also has a function of executing communication with the GPU  via, e.g. a PCI EXPRESS serial bus.","The GPU  is a display controller which controls the LCD  that is used as a display monitor of the computer . A display signal, which is generated by the GPU , is sent to the LCD .","The south bridge  controls devices on a peripheral component interconnect (PCI) bus and devices on a low pin count (LPC) bus. The south bridge  includes an integrated drive electronics (IDE) controller for controlling the HDD  and ODD . The south bridge  also has a function of communicating with the sound controller .","The sound controller  is a sound source device and outputs audio data, which is a target of playback, to the speakers A and B. The LAN controller  is a wired communication device which executes wired communication of, e.g. the IEEE 802.3 standard. On the other hand, the wireless LAN controller  is a wireless communication device which executes wireless communication of, e.g. the IEEE 802.11g standard. The USB controller A communicates with an external device which supports, e.g. the USB 2.0 standard (the external device is connected via the USB connector ). For example, the USB controller A executes read and write accesses of data to a removable medium such as a USB flash memory connected to the USB connector . The card controller B executes read and write accesses of data to a memory card such as an SD card, which is inserted into a card slot  arranged on the computer main body .","The EC\/KBC  is a one-chip microcomputer in which an embedded controller for power management and a keyboard controller for controlling the keyboard  and touch pad  are integrated. The EC\/KBC  has a function of powering on\/off the computer  in accordance with the user's operation of the power button .","A management example of a removable medium connected to the information processing apparatus will be described below with reference to .",{"@attributes":{"id":"p-0049","num":"0048"},"figref":"FIG. 3","b":["61","61","61","61","61","61","61","61"]},"On the other hand,  shows examples of a connection between an unregistered USB flash memory A and an information processing apparatus , and a connection between an unregistered memory card B and the information processing apparatus . The unregistered USB flash memory A has an unregistered identifier. The memory card B has no identifier. When the unregistered USB flash memory A is connected to the information processing apparatus , the information processing apparatus  inhibits, for example, reading data stored in the unregistered USB flash memory A and writing data in the unregistered USB flash memory A. When the unregistered memory card B is connected to the information processing apparatus , the information processing apparatus  inhibits, for example, reading data stored in the memory card B and writing data in the memory card B.","Since it is specified to embed a serial number in a device compatible with the USB 2.0 specification in a hardware manner, for example, serial numbers embedded in hardware are used as identifiers in the aforementioned USB flash memories A and A.",{"@attributes":{"id":"p-0052","num":"0051"},"figref":"FIG. 5","b":["61","62","61","62","61","62"]},"Furthermore, in the memory card B such as an SD card, no identifier information may be embedded or identifier information based on a specification different from the USB specification (for example, another configuration or format) may be embedded. For this reason, a method of managing USB flash memories may not apply to manage other types of removable media. When the memory card B such as an SD card is connected to a card reader compliant with the USB standard, identifier information embedded in the card reader may be used. However, when use of the card reader is controlled using the identifier information embedded in the card reader, use of all memory cards connected to that card reader is unwantedly permitted or inhibited.","In this embodiment, a unique media identifier is generated for a removable medium to be used, and the generated media identifier is written in a predetermined area in the removable medium. Then, the generated media identifier is added to an identifier list stored in, for example, the HDD  in the computer . Thus, when the removable medium is connected to the computer , use of the removable medium is controlled based on the media identifier written in the removable medium and the identifier list. In the following description, if a generated media identifier is written in a predetermined area in a removable medium, and is stored in the identifier list, the removable medium of interest will be referred to as a registered removable medium. Also, if a generated media identifier is not written in a predetermined area in a removable medium or if a media identifier written in the removable medium is not stored in the identifier list, the removable medium of interest will be referred to as an unregistered removable medium.",{"@attributes":{"id":"p-0055","num":"0054"},"figref":"FIG. 6","b":"10"},"In the policy setting mode, policies to specify rules associated with use of removable media are set. More specifically, a policy setting module  sets policies according to operations (inputs) by a system administrator. The system administrator sets, for example, a policy to be applied to a registered removable medium (to be also referred to as a first policy hereinafter) and a policy to be applied to an unregistered removable medium (to be also referred to as a second policy hereinafter). The policy setting module  saves policy information A indicating the set policies in a storage device such as the HDD .","In the removable media registration mode, a removable medium  connected to the computer  is registered. More specifically, an identifier generation module  generates a media identifier for the connected removable medium . An identifier write module  writes the generated media identifier in a predetermined area in the removable medium . An identifier registration module  stores the generated media identifier in an identifier list B.","In the removable media monitor mode, use of a removable medium  newly connected to the computer  is controlled. More specifically, a device monitor module  detects that a removable medium  is newly connected to the computer  based on, for example, a notification (message) output from the OS . Then, an identifier read module  reads data written in a predetermined area in the newly connected removable medium . Then, an identifier verification module  determines whether a media identifier corresponding to the read data is included in the identifier list B, that is, whether the newly connected removable medium is a registered removable medium.","If the media identifier corresponding to the read data is included in the identifier list B, the device monitor module  reads the policy to be applied to a registered removable medium from the policy A, and controls use of the removable medium according to the read policy. On the other hand, if the media identifier corresponding to the read data is not included in the identifier list B, the device monitor module  reads the policy to be applied to an unregistered removable medium from the policy A, and controls use of the removable medium according to the read policy.",{"@attributes":{"id":"p-0060","num":"0059"},"figref":["FIG. 7","FIG. 5"],"b":["22","22","22","10","22"]},"Hence, in this embodiment, a media identifier for the removable medium  is generated, and the generated media identifier is written in a predetermined area in the removable medium . When the removable medium  is connected to the computer , use of the removable medium  is controlled based on the data written in the predetermined area (data corresponding to the media identifier).","The media identifier is written in, for example, a predetermined file (identifier file)  stored in a user data area B. When the removable medium  is connected to the computer , whether the removable medium  is a registered removable medium is determined based on this data written in the predetermined file .","Alternatively, the media identifier is written in, for example, a free area (to be also referred to as an unused area hereinafter) in a file system management area A allocated in the removable medium . With the aforementioned method of writing the media identifier in the predetermined file , if this predetermined file  is copied to an area in another removable medium, that removable medium may be recognized as a registered removable medium. However, since the media identifier is written in a free area (free space) in the file system management area A, the media identifier stored in the removable medium  can be prevented from being copied to an area in another removable medium.","Furthermore, the media identifier may be written in, for example, a free area (unused area) in a partition table area B allocated in the removable medium . Since the media identifier is written in a free area in the partition table area B, the media identifier stored in the removable medium  can be prevented from being copied to an area in another removable medium. Also, if the removable medium  is formatted, since the media identifier written in the partition table area B is not erased, the removable medium  can be identified based on the written media identifier even after formatting.","Since the media identifier is written in a predetermined area in the removable medium , and is stored in the identifier list B, the removable medium  can be individually recognized based on the written media identifier when the removable medium  is connected to the computer . Thus, use of the removable medium  can be controlled according to the policy.","The functional configuration of the removable media management program  will be described below with reference to . The removable media management program  has a configuration to implement the operations in the policy setting mode, identifier registration mode and removable media monitor mode, which have been described above with reference to .","The removable media management program  includes a policy setting module , an identifier registration module  and a removable media management module .","The policy setting module  sets control rules in the policy information A. The set control rules are used for controlling use of a removable medium connected to the computer . The policy information includes, for example, a first policy to be applied to a registered removable medium and a second policy to be applied to an unregistered removable medium. The policy setting module  displays, for example, a setting screen used to set policies. The policy setting module  saves the first policy and the second policy in the policy information A according to user operations using the setting screen.",{"@attributes":{"id":"p-0069","num":"0068"},"figref":"FIG. 9","b":"109"},"The policy information A includes, for example, policies [registered removable medium] and [unregistered removable medium]. The policy [registered removable medium] indicates a policy to be applied to a registered removable medium. The policy [unregistered removable medium] indicates a policy to be applied to an unregistered removable medium. In the policies [registered removable medium] and [unregistered removable medium], for example, values indicating rules such as \u201cread\/write permitted\u201d, \u201cwrite inhibited\u201d, and \u201cuse inhibited\u201d are set. The value \u201cread\/write permitted\u201d indicates that reading data from a removable medium and writing data to the removable medium are permitted. The value \u201cwrite inhibited\u201d indicates that reading data from a removable medium is permitted and writing data to the removable medium is inhibited. The value \u201cuse inhibited\u201d indicates that reading data from a removable medium and writing data to the removable medium are inhibited. Note that in the policies [registered removable medium] and [unregistered removable medium], not only these three rules but also various other rules to control accesses to a removable medium can be set. For example, in each of the policies [registered removable medium] and [unregistered removable medium], for example, values \u201cvalid\u201d, \u201cinvalid\u201d, \u201cpermitted\u201d, and \u201cinhibited\u201d may be set.","In the example of the policy information A shown in , the value \u201cread\/write permitted\u201d is set in the policy [registered removable medium], and the value \u201cuse inhibited\u201d is set in the policy [unregistered removable medium]. When the value \u201cread\/write permitted\u201d is set in the policy [registered removable medium], reading and writing data from and to a registered removable medium are permitted. When the value \u201cuse inhibited\u201d is set in the policy [unregistered removable medium], reading and writing data from and to an unregistered removable medium are inhibited.","The identifier registration module  includes an identifier generation module , identifier write module , and list update module .","The identifier generation module  generates a media identifier for a removable medium connected to the computer . The media identifier is a value that can uniquely identify the removable medium to be associated. The identifier generation module  generates the media identifier including, for example, alphanumeric characters and symbols using (combining) a manufacture number (serial number) of the computer , a generation date and time, and a random number. The identifier generation module  may use a globally unique identifier (GUID) generated using, for example, an application programming interface (API) as the media identifier. The identifier generation module  outputs the generated media identifier to the identifier write module .","The identifier write module  writes the media identifier output from the identifier generation module  in a predetermined area in the connected removable medium. As has been described above with reference to , the identifier write module  writes the media identifier in, for example, a free area in a partition table area allocated in the removable medium, a free area in a file system management area allocated in the removable medium, or a predetermined data file stored in a user data area allocated in the removable medium. Then, the identifier write module  outputs the media identifier to the list update module .","The list update module  stores the media identifier, which is output from the identifier write module , in the identifier list B stored in the HDD . Therefore, every time a registration request of a removable medium is issued, a media identifier associated with that removable medium (a media identifier generated for that removable medium) is added to the identifier list B. That is, the identifier list B includes media identifiers corresponding to registered removable media.",{"@attributes":{"id":"p-0076","num":"0075"},"figref":"FIG. 10","b":"109"},"The identifier list B includes, for example, one or more media identifiers. In the identifier list B, if a new removable medium connected to the computer  is registered, a new media identifier for that removable medium is stored (added). In the example shown in , the identifier list B includes a media identifier \u201cID\u201d for a first removable medium, a media identifier \u201cID\u201d for a second removable medium, and a media identifier \u201cID\u201d for a third removable medium.","The removable media monitor module  includes a removable media detection module , an identifier read module , an identifier determination module , a policy decision module , and a removable media control module .","The removable media detection module  detects that a removable medium is newly connected to the computer . The removable media detection module  detects, for example, a connection of a USB flash memory to the USB connector  and an insertion of a removable medium such as an SD card into the card slot . The removable media detection module  detects a connection between a removable medium and the computer  using, for example, a notification (for example, a message) output from the OS . The removable media detection module  notifies the identifier read module  that the removable medium is newly connected to the computer .","The identifier read module  reads data stored in a predetermined area in the connected removable medium in response to the notification from the removable media detection module . This predetermined area is an area specified to store a media identifier generated for that removable medium. More specifically, the identifier read module  reads data written in, for example, a predetermined area in a partition table area allocated in the removable medium, a predetermined area in a file system management area allocated in the removable medium, or a predetermined data file stored in a user data area allocated in the removable medium. Then, the identifier read module  outputs the read data to the identifier determination module .","The identifier determination module  determines whether the identifier list B stored in the HDD  includes a media identifier corresponding to the data output from the identifier read module . In other words, the identifier determination module  determines whether the media identifier included in the identifier list B is written in the predetermined area in the newly connected removable medium.","If the identifier list B includes the media identifier corresponding to the data output from the identifier read module , the identifier determination module  determines that the connected removable medium is a registered removable medium. Then, the identifier determination module  notifies the policy decision module  that the connected removable medium is a registered removable medium.","On the other hand, if the identifier list B does not include any media identifier corresponding to the data output from the identifier read module , the identifier determination module  determines that the connected removable medium is an unregistered removable medium. Then, the identifier determination module  notifies the policy decision module  that the connected removable medium is an unregistered removable medium.","The policy decision module  reads a policy from the policy information A stored in the HDD  in accordance with the notification from the identifier determination module . That is, if the policy decision module  is notified that the connected removable medium is a registered removable medium, the policy decision module  reads the policy (first policy) to be applied to a registered removable medium from the policy information A. On the other hand, if the policy decision module  is notified that the connected removable medium is an unregistered removable medium, the policy decision module  reads the policy (second policy) to be applied to an unregistered removable medium from the policy information A. The policy decision module  outputs the read policy to the removable media control module .","The removable media control module  controls use of the connected removable medium based on the policy output from the policy decision module . For example, the removable media control module  controls permission or inhibition of use of the connected removable medium based on the policy output from the policy decision module .","For example, if the connected removable medium is a registered removable medium, and the read policy has the value \u201cread\/write permitted\u201d, the removable media control module  controls to permit reading data stored in the removable medium and writing data in the removable medium. Also, for example, if the connected removable medium is an unregistered removable medium, and the read policy has the value \u201cuse inhibited\u201d, the removable media control module  controls to inhibit reading data stored in the removable medium and writing data in the removable medium. Note that the removable media control module  executes the aforementioned removable media use control via, for example, the OS .","With the aforementioned configuration, use of a removable medium connected to the computer  can be controlled. When a removable medium is registered, the identifier generation module  generates a media identifier for that removable medium. Then, the identifier write module  writes the generated media identifier in a predetermined area in the removable medium. The list update module  stores the generated media identifier in the identifier list B. Then, when the removable medium is newly connected to the computer , the identifier determination module  can determine whether the removable medium of interest is a registered or unregistered removable medium based on data written in the predetermined area in that removable medium and the identifier list B. Then, the removable media control module  can control use of the newly connected removable medium in accordance with either the first policy or the second policy based on this determination result.","An example of the procedure of identifier registration process executed by the computer  will be described below with reference to the flowchart shown in .","The identifier registration module  determines whether a registration request of a media identifier, which is to be associated with a removable medium connected to the computer , is issued (block B). If no media identifier registration request is issued (NO in block B), the identifier registration module  again determines whether a media identifier registration request is issued by returning to block B.","If the media identifier registration request is issued (YES in block B), the identifier generation module  generates a media identifier for the removable medium (block B). The identifier write module  writes the generated media identifier in a predetermined area in the removable medium (block B). Then, the list update module  adds the generated media identifier to the identifier list B stored in the HDD  (block B).","An example of the procedure of removable media control processing will be described below with reference to the flowchart shown in .","The removable media detection module  determines whether a removable medium is newly connected to the computer  (block B). If a removable medium is not newly connected to the computer  (NO in block B), and the removable media detection module  again determines whether a removable medium is newly connected to the computer  by returning to block B.","If the removable medium is newly connected to the computer  (YES in block B), the identifier read module  reads data stored in a predetermined area in the removable medium (block B). Then, the identifier determination module  determines whether a media identifier corresponding to the read data is included in the identifier list B (block B).","If the media identifier corresponding to the read data is included in the identifier list B (YES in block B), the policy decision module  reads the policy to be applied to a registered removable medium from the policy information A stored in the HDD  (block B). On the other hand, if the media identifier corresponding to the read data is not included in the identifier list B (NO in block B), the policy decision module  reads the policy to be applied to an unregistered removable medium from the policy information A stored in the HDD  (block B).","Then, the removable media control module  controls use of the removable medium based on the policy read in block  or  (block B).","Another example of the configuration for the removable media management by the computer  will be described below with reference to . In the example shown in , a media identifier including a device identifier stored in a predetermined area in the computer  (that is, a device identifier associated with the computer ) is generated. This device identifier is, for example, a manufacture number (serial number) A of the computer .","As in the example shown in , the removable media management is executed in the three modes, that is, the policy setting mode, removable media registration mode and removable media monitor mode.","In the policy setting mode, policies to specify rules associated with use of removable media are set. More specifically, the policy setting module  sets policies according to operations (inputs) by the system administrator. The system administrator sets, for example, a policy to be applied to a registered removable medium and a policy to be applied to an unregistered removable medium. The policy setting module  saves the policy information A indicating the set policies in a storage device such as the HDD .","In the removable media registration mode, a removable medium  connected to the computer  is registered. More specifically, the identifier generation module  generates a media identifier A using, for example, a date and time and random number. The identifier generation module  sends an inquiry to, for example, the OS  to receive the manufacture number (device identifier) A of the computer  as a media identifier B. Then, the identifier generation module  generates a media identifier C by combining (concatenating) the media identifiers A and B.","Next, the identifier write module  writes the generated media identifier A in a predetermined area in the removable medium . The identifier registration module  stores the generated media identifier C in the identifier list B.","In the removable media monitor mode, use of a removable medium  newly connected to the computer  is controlled. More specifically, the device monitor module  detects that a removable medium  is newly connected to the computer  based on, for example, a notification (message) output from the OS .","Then, the identifier read module  reads data (to be referred to as an identifier A\u2032 hereinafter) written in a predetermined area in the newly connected removable medium . Also, the identifier read module  sends an inquiry to, for example, the OS  to receive the manufacture number A (to be referred to as an identifier B\u2032 hereinafter) of the computer . Then, the identifier read module  generates an identifier C\u2032 by combining the read identifiers A\u2032 and B\u2032.","Next, the identifier verification module  determines whether the generated identifier C\u2032 is included in the identifier list B. If the generated identifier C\u2032 is included in the identifier list B, the device monitor module  reads the policy to be applied to a registered removable medium from the policy A, and controls use of the removable medium according to the read policy. On the other hand, if the generated identifier C\u2032 is not included in the identifier list B, the device monitor module  reads the policy to be applied to an unregistered removable medium from the policy A, and controls use of the removable medium according to the read policy.","By using the media identifier including the device identifier, as described above, the removable medium  and computer  can be associated with each other to manage use of the removable medium . That is, the control can be made to permit use of the removable medium  in only a combination of the removable medium  and the computer  used upon registration of this removable medium .","Meanwhile, in an environment in which a large number of computers are connected within a network such as an in-house LAN, a plurality of removable media may be used in a plurality of computers connected within the network. In such environment, use of a plurality of removable media may be managed using the same policy.","For example, a removable medium registered in a first computer connected to the network is used not only in this first computer but also in a second computer connected to the network. In this case, it is troublesome to also register the removable medium, which has already been registered in the first computer, in the second computer in terms of process for registration.",{"@attributes":{"id":"p-0107","num":"0106"},"figref":["FIG. 14","FIGS. 1 and 2"],"b":["4","4","50","40","50","40","50","40","50","40"]},"The server apparatus  includes a policy setting module , a list management module , and a HDD . The HDD  stores policy information A and an identifier list B. The list management module  includes an update information reception module  and a list update module .","Each client apparatus  includes an identifier registration module  and a removable media monitor module . The identifier registration module  includes an identifier generation module , an identifier write module  and a update information transmission module . The removable media monitor module  includes a removable media detection module , an identifier read module , an identifier determination module , a policy decision module , and a removable media control module .","The policy setting module  included in the server apparatus  sets policies in the policy information A. The policies are used for controlling use of removable media connected to the client apparatuses . The policies include, for example, a first policy to be applied to a registered removable medium, and a second policy to be applied to an unregistered removable medium. The policy setting module  displays, for example, a setting screen used to set the policies. The policy setting module  sets the first policy and the second policy according to operations using the setting screen by the user (for example, a system administrator). The configuration of the policy information A is the same as that of the example described with reference to . The policies set by the policy setting module  are applied to a plurality of removable media connected to the one or more client apparatuses .","If a removable medium is connected to the client apparatus  and a registration request of that removable medium is issued, the identifier generation module  generates a media identifier for the connected removable medium. In the media identifier, a value that can uniquely identify the removable medium to be associated is set. The identifier generation module  generates a media identifier using (combining), for example, a manufacture number (serial number) of the client apparatus , a generation date and time, and a random number. The identifier generation module  may use a GUID generated using, for example, an API as a media identifier. The identifier generation module  outputs the generated media identifier to the identifier write module .","The identifier write module  writes the media identifier output from the identifier generation module  in a predetermined area in the connected removable medium. As has been described above with reference to , the identifier write module  writes the media identifier in, for example, a free area in a partition table area allocated in the removable medium, a free area in a file system management area allocated in the removable medium, or a specific data file stored in a user data area allocated in the removable medium. Then, the identifier write module  outputs the media identifier to the update information transmission module .","The update information transmission module  transmits the media identifier output from the identifier write module  to the server apparatus  (update information reception module ) connected via the network.","The update information reception module  included in the server apparatus  receives the media identifier transmitted from the client apparatus . Then, the update information reception module  outputs the received media identifier to the list update module .","The list update module  stores the media identifier output from the update information reception module  in the identifier list B stored in the HDD . Therefore, every time a registration request of a removable medium is issued, a media identifier associated with that removable medium (a media identifier generated for that removable medium) is added to the identifier list B. The configuration of the identifier list B is the same as that of the example described with reference to .","If a removable medium is newly connected to the client apparatus , the removable media detection module  detects that the removable medium is newly connected to the client apparatus . The removable media detection module  detects, for example, a connection of a USB flash memory to a USB connector arranged on the client apparatus  and an insertion of a removable medium such as an SD card into a card slot. The removable media detection module  detects a connection between a removable medium and the client apparatus  using, for example, a notification (for example, a message) output from an OS. The removable media detection module  notifies the identifier read module  that the removable medium is newly connected to the client apparatus .","The identifier read module  reads data stored in a predetermined area in the connected removable medium in response to the notification from the removable media detection module . This predetermined area is an area specified to store a media identifier generated for that removable medium. More specifically, the identifier read module  reads data written in, for example, a predetermined area in a partition table area allocated in the removable medium, a predetermined area in a file system management area allocated in the removable medium, or a predetermined data file stored in a user data area allocated in the removable medium. Then, the identifier read module  outputs the read data to the identifier determination module .","The identifier determination module  reads the identifier list B stored in the server apparatus  via the network. Then, the identifier determination module  determines whether the read identifier list B includes a media identifier corresponding to the data output from the identifier read module . In other words, the identifier determination module  determines whether the media identifier included in the identifier list B is written in the predetermined area in the newly connected removable medium.","If the identifier list B includes the media identifier corresponding to the data output from the identifier read module , the identifier determination module  determines that the connected removable medium is a registered removable medium. Then, the identifier determination module  notifies the policy decision module  that the connected removable medium is a registered removable medium.","On the other hand, if the identifier list B does not include any media identifier corresponding to the data output from the identifier read module , the identifier determination module  determines that the connected removable medium is an unregistered removable medium. Then, the identifier determination module  notifies the policy decision module  that the connected removable medium is an unregistered removable medium.","The policy decision module  reads the policy information A stored in the server apparatus  via the network. The policy decision module  reads a policy from the read policy information A according to the notification from the identifier determination module . That is, if the policy decision module  is notified that the connected removable medium is a registered removable medium, the policy decision module  reads the first policy to be applied to a registered removable medium from the policy information A. On the other hand, if the policy decision module  is notified that the connected removable medium is an unregistered removable medium, the policy decision module  reads the second policy to be applied to an unregistered removable medium from the policy information A. The policy decision module  outputs the read policy to the removable media control module .","The removable media control module  controls use of the connected removable medium based on the policy output from the policy decision module . For example, the removable media control module  control permission or inhibition of use of the connected removable medium based on the policy output from the policy decision module .","For example, if the connected removable medium is a registered removable medium, and the read policy has a value \u201cread\/write permitted\u201d, the removable media control module  controls to permit reading data stored in the removable medium and writing data in the removable medium. Also, for example, if the connected removable medium is an unregistered removable medium, and the read policy has a value \u201cuse inhibited\u201d, the removable media control module  controls to inhibit reading data stored in the removable medium and writing data in the removable medium.","With the aforementioned configuration, use of removable media connected to the client apparatuses  can be controlled. When a removable medium is registered, the identifier generation module  generates a media identifier for that removable medium. Then, the identifier write module  writes the generated media identifier in a predetermined area in the removable medium. The list update module  stores the media identifier generated in the client apparatus  in the identifier list B stored in the server apparatus . Then, if the removable medium is newly connected to the client apparatus , the identifier determination module  can determine whether the removable medium of interest is a registered or unregistered removable medium based on data written in the predetermined area in that removable medium and the identifier list B. Then, the removable media control module  can control use of the newly connected removable medium in accordance with either the first policy or the second policy based on this determination result.",{"@attributes":{"id":"p-0125","num":"0124"},"figref":["FIG. 15","FIGS. 1 and 2"],"b":["5","5","50","40","50","40","60","50","40","50","40"]},"The removable media management system  operates in, for example, one of a policy setting mode, removable media registration mode, removable media monitor mode, and list update mode. In the policy setting mode, policies to specify rules associated with use of removable media are set. In the removable media registration mode, a removable medium connected to each client apparatus  is newly registered. In the removable media monitor mode, use of a removable medium newly connected to the client apparatus  is controlled. In the list update mode, an identifier list B stored in the client apparatus  is updated.","The server apparatus  includes an identifier reception module , an identifier registration module , an identifier list transmission module , a user determination module , an identifier list storage , and a user list storage . The identifier list storage  and the user list storage  are implemented by, for example, a storage device such as an HDD. The identifier list storage  stores an identifier list B. The configuration of the identifier list B is the same as that of the example described with reference to .","The user list storage  stores a user list A. The user list A includes, for example, one or more pieces of user identification information (user IDs). Each user ID included in the user list A indicates that corresponding to a user who has an authority of new registration of a removable medium . As this user ID, for example, a login ID for the user to use the client apparatus  may be available. The user list A is created and updated by, for example, a system administrator.","Note that a storage area used as the identifier list storage  and that used as the user list storage  may be allocated in a storage device, and the identifier list B and user list A may be respectively stored in these areas. The server apparatus  may also include a policy setting module  and policy storage . The policy storage  is implemented by, for example, a storage device such as an HDD. The policy storage  stores policy information A. Note that a storage area used as the policy storage  may be allocated in a storage device, and the policy information A may be stored in this area.","Each client apparatus  includes an identifier generation module , an identifier write module , an identifier transmission module , a removable media registration module , a removable media detection module , an identifier read module , a removable media control module , a removable media determination module , an identifier list reception module , and an identifier list storage . The identifier list storage  is implemented by, for example, a storage device such as an HDD. The identifier list storage  stores the identifier list B. Note that a storage area used as the identifier list storage  may be allocated in a storage device, and the identifier list B may be stored in this area. The client apparatus  may also include a policy decision module .","The operations of the respective modules in the policy setting mode will be described below.","The policy setting module  included in the server apparatus  sets policies in the policy information A. The policies are used for controlling use of removable media  connected to the client apparatuses . The policies include, for example, a first policy to be applied to a registered removable medium, and a second policy to be applied to an unregistered removable medium. The policy setting module  displays, for example, a setting screen used to set the policies. The policy setting module  sets the first policy and the second policy according to operations using the setting screen by the user (for example, a system administrator). The configuration of the policy information A is the same as that of the example described with reference to . The policies set by the policy setting module  are applied to a plurality of removable media connected to the one or more client apparatuses . Note that the policy information A may be delivered to each client apparatus  and the delivered policy information A is stored in each client apparatus . In this case, as in the update process of the identifier list B, the server apparatus  transmits the policy information A to each client apparatus  when the client apparatus  is activated (booted), when the policy information A is updated, or at a predetermined period, thereby updating the policy information stored in the client apparatus .","Next, the operations of the respective modules in the removable media registration mode will be described below.","If a registration request of a removable medium is detected, the removable media registration module  in each client apparatus  transmits identification information (user ID) of the user who uses the client apparatus  to the user determination module  in the server apparatus . The registration request of a removable medium is issued by, for example, a user operation using an input screen. The identification information of the user to be transmitted is, for example, a login ID for that user to log into the client apparatus .","The user determination module  determines whether the user list A stored in the user list storage  includes the user ID transmitted by the removable media registration module . That is, the user determination module  determines whether the user corresponding to this user ID has a registration authority of removable media. If the user list A includes this user ID, the user determination module  transmits a notification, which indicates that registration of removable media is permitted, to the removable media registration module . On the other hand, if the user list A does not include this user ID, the user determination module  transmits a notification, which indicates that registration of removable media is not permitted, to the removable media registration module .","The removable media registration module  determines based on the notification transmitted from the user determination module  whether registration of removable media is permitted. If registration of removable media is not permitted, the removable media registration module  displays, for example, a message on a screen (LCD ). The message indicates that registration of removable media has failed.","If registration of removable media is permitted, the removable media registration module  permits use of a removable medium. The removable media registration module  controls to allow to read a media identifier from a removable medium connected after this process by permitting use of a removable medium. Then, the removable media registration module  detects a removable medium  connected to the client apparatus . The removable media registration module  requests the identifier read module  to read identification information associated with that removable medium  from the detected removable medium .","In response to the request from the removable media registration module , the identifier read module  determines whether hardware identification information is embedded in the detected removable medium . If hardware identification information is embedded in the removable medium , the identifier read module  detects a serial number included in the embedded hardware identification information.","More specifically, assuming that the removable medium  is a USB flash memory, the identifier read module  acquires hardware identification information (hardware ID) specified by a vendor using, for example, a Win32 PnpEntity class provided by Windows\u2122 Management Instrumentation (WMI). Device identification information indicates, for example, a device type, vendor name, product name, and serial number. The identifier read module  detects a hardware ID starting with \u201cUSBSTOR\u00a5\u201d or \u201cUSB\u00a5ID\u201d of the acquired hardware ID, thereby acquiring the hardware ID of the USB flash memory. The acquired hardware ID assumes, for example, the following value.\n\n","If a serial number is not detected from the removable medium  (that is, if a serial number (hardware identification information) is not embedded in the removable medium ), the identifier read module  determines whether a media identifier (software ID) is written in a predetermined area in the removable medium . If a media identifier is written in the predetermined area in the removable medium , the identifier read module  reads the media identifier from the predetermined area in the removable medium . This predetermined area is, for example, a free area between a master boot record area and partition area allocated in the removable medium . The predetermined area from which the media identifier is read will be described later with reference to , , , and . The identifier read module  outputs the read media identifier to the identifier transmission module .","If a media identifier is not written in the predetermined area in the removable medium , the identifier read module  requests the identifier generation module  to generate a media identifier.","In response to the request from the identifier read module , the identifier generation module  generates a unique media identifier (e.g. Universally Unique Identifier: UUID) having a first length (for example, 16 bytes). As this unique media identifier, for example, a globally unique identifier (GUID) is used. Since the GUID is a 128-bit binary value, it can be used as a unique identifier which does not overlap other GUIDs.","The identifier generation module  generates a first validation value having a second length (for example, 4 bytes) using the generated media identifier. This first validation value is used to check validity of a media identifier when the media identifier is read from the removable medium . The identifier generation module  calculates the first validation value by, for example, dividing the generated media identifier into a plurality of data bit parts each having a second length (for example, 32 bits), and calculating an exclusive OR of these data bit parts. Therefore, for example, when the generated media identifier has a 16-byte (128 bit) length, the identifier generation module  detects four data bit parts each having a 32-bit length by dividing the media identifier by 32 bits from its start bit. Then, the identifier generation module  calculates an exclusive OR of these four data bit parts as the first validation value.","Then, the identifier generation module  outputs the generated media identifier and the calculated first validation value to the identifier write module . Also, the identifier generation module  outputs the generated media identifier to the identifier transmission module .","The identifier write module  writes the media identifier and first validation value output from the identifier generation module  in a predetermined area in the removable medium . This predetermined area is, for example, a free area between a master boot record area and partition area allocated in the removable medium . The predetermined area in which the media identifier is written will be described later with reference to , , , and .","The identifier transmission module  transmits the serial number detected by the identifier read module , the media identifier read by the identifier read module , or the media identifier generated by the identifier generation module  as a media identifier for the removable medium  to the identifier reception module  in the server apparatus .","The configuration of a storage area in the removable medium  in which the media identifier is stored will be described below with reference to , , , and .",{"@attributes":{"id":"p-0148","num":"0148"},"figref":"FIG. 16","b":["70","22","70","22","701","703","706","702","701","703","703","702","701","703","703","702","701","703","702","703","701","703","703","703"]},"The media identifier is stored in a predetermined sector in the free area . That is, the aforementioned identifier write module  writes the media identifier in the predetermined sector in the free area . Also, the identifier read module  reads the media identifier written in the predetermined sector in the free area .",{"@attributes":{"id":"p-0150","num":"0150"},"figref":"FIG. 17","b":["71","22","71","22","711","711","711","711"]},"If no free area to write a media identifier is allocated in the removable medium  like in this storage area , the identifier write module  creates a free area used to write a media identifier in the removable medium  in response to a media identifier write request (for example, in response to reception of the media identifier output from the identifier generation module ). For example, the identifier write module  converts the storage area  of the removable medium  into an MBR format having a master boot record area, thereby converting the storage area  to a configuration including a free area between the master boot record area and partition area.","As shown in , the identifier write module  creates a free area  between a master boot record area  and a partition area  in the storage area  by creating these master boot record area  and single partition area . More specifically, the identifier write module  changes the partition boot record area A to the master boot record area . Then, the identifier write module  sets the start position of the partition area  at, for example, a 2048th-sector position using a partition table stored in the master boot record area . The identifier write module  creates the partition area , and formats the partition area  by a file system such as NTFS. Then, the removable medium  (storage area ) can be configured, so that the free area  exists between the master boot record  and partition area . Note that the identifier write module  may save data stored in the original partition area  in another storage area, and may copy the saved data after the partition area  is created.","The media identifier is stored in a predetermined sector in the created free area . That is, the aforementioned identifier write module  writes the media identifier in the predetermined sector in the created free area . Also, the identifier read module  reads data written in the predetermined sector in the free area  as a media identifier.",{"@attributes":{"id":"p-0154","num":"0154"},"figref":"FIG. 19","b":["702","722","70","71","702","722"]},"In response to a media identifier write request in the removable medium , the identifier write module  writes the media identifier in a predetermined sector (in this case, 10th sector)  in the free area , . More specifically, the media identifier is written in, for example, a start area A in the predetermined sector . This start area A has a size corresponding to the length (for example, 16 bytes) of the media identifier. Also, a first validation value is written in, for example, a last area B in the predetermined sector . This last area B has a size corresponding to the length (for example, 4 bytes) of the first validation value. Note that the identifier write module  may write a random number in all areas in the predetermined sector  before it writes the media identifier and first validation value. Alternatively, the identifier write module  may write a random number in a remaining area C after it writes the media identifier in the start area A and the first validation value in the last area B. Since reading the media identifier and first validation value from the removable medium  is made difficult by writing a random number, the removable medium  can be prevented from being abused.","If the media identifier is written in the free area , , as described above, it is never erased even if process for re-creating a partition or re-formatting process is applied to the removable medium . Therefore, this media identifier can be used as an identifier unique to the removable medium . That is, even if process for re-creating a partition or re-formatting process is applied to the removable medium , use of the removable medium  can be controlled using the media identifier written in the free area , .","In response to a media identifier read request from the removable medium , the identifier read module  reads the media identifier stored in the predetermined sector (in this case, 10th sector)  in the free area , . More specifically, the identifier read module  reads data (to be also referred to as identifier data) stored in, for example, the start area A in the predetermined sector  as a media identifier. This start area A has a size corresponding to the length (for example, 16 bytes) of the media identifier.","Referring back to , the identifier reception module  included in the server apparatus  receives the media identifier transmitted from the identifier transmission module . Then, the identifier reception module  outputs the received media identifier to the identifier registration module .","The identifier registration module  determines whether the identifier list B stored in the identifier list storage  includes the received media identifier. If the received media identifier is included in the identifier list B, the identifier registration module  transmits a notification to the removable media registration module . The notification indicates that the removable medium  associated with the received media identifier has already been registered.","Then, the removable media registration module  displays a message on a screen. The message indicates that the connected removable medium  has already been registered. The message may indicate that the media identifier stored in the removable medium  has already been registered in the identifier list B.","On the other hand, if the received media identifier is not included in the identifier list B, the identifier registration module  adds the received media identifier in the identifier list B. Then, the identifier registration module  transmits a notification, which indicates that registration of the removable medium  has succeeded, to the removable media registration module .","Then, the removable media registration module  displays a message on a screen. The message indicates that registration of the removable medium  is complete. The message may indicate that the media identifier stored in the removable medium  is added to the identifier list B.","With the above configuration, if the user who wants to newly register the removable medium  has a registration authority, the media identifier for that removable medium  is added to the identifier list B stored in the server apparatus , thereby registering the removable medium .","The operations of the respective modules in the removable media control mode will be described below.","The removable media detection module  detects that a removable medium  is newly connected to the client apparatus . The removable media detection module  notifies the identifier read module  that the removable medium  is newly connected to the client apparatus .","In response to the notification by the removable media detection module , the identifier read module  determines whether hardware identification information is embedded in the removable medium . If hardware identification information is embedded in the removable medium , the identifier read module  detects a serial number included in the embedded hardware identification information. The configuration for detecting the serial number by the identifier read module  is as has been described in the paragraphs of the removable media registration mode.","Next, the removable media determination module  determines whether the detected serial number is included in the identifier list B. That is, the removable media determination module  determines whether the newly connected removable medium  is a registered removable medium.","If the detected serial number is included in the identifier list B, that is, if the newly connected removable medium  is a registered removable medium, the policy decision module  reads the first policy to be applied to the registered removable medium  from the policy information A. On the other hand, if the acquired serial number is not included in the identifier list B, that is, if the newly connected removable medium  is an unregistered removable medium, the policy decision module  reads the second policy to be applied to the unregistered removable medium  from the policy information A.","On the other hand, if no serial number is embedded in the removable medium , the identifier read module  reads data stored in the predetermined area in the removable medium . As has been described above with reference to , the identifier read module  reads data (identifier data) written in the start area A as the media identifier. Also, the identifier read module  reads data (validation value data) written in the last area B as the first validation value. Then, the identifier read module  outputs the read media identifier and first validation value to the removable media determination module .","The removable media determination module  determines whether the newly connected removable medium  is a registered removable medium by using the media identifier and first validation value output from the identifier read module . More specifically, the removable media determination module  calculates a second validation value having the second length (for example, 4 bytes) using the media identifier by the same calculation method as that of the first validation value. The removable media determination module  calculates the second validation value by, for example, dividing the acquired media identifier into data bit parts each having the second length (for example, 4 bytes) and calculating an exclusive OR of these data bit parts. Therefore, when the acquired media identifier has a 16-byte length, the removable media determination module  divides the media identifier into four data bit parts each having a 32-bit length from its start bit. Then, the removable media determination module  calculates an exclusive OR of these four data bit parts as a second validation value.","Next, the removable media determination module  checks validity of the media identifier by comparing the first validation value and the calculated second validation value. More specifically, if the first validation value is equal to the second validation value, the removable media determination module  determines that the media identifier is valid. On the other hand, if the first validation value is not equal to the second validation value, the removable media determination module  determines that the media identifier is invalid. If the media identifier is invalid, the removable media determination module  determines that the newly connected removable medium  is an unregistered removable medium.","If the media identifier is valid, the removable media determination module  determines whether this media identifier is included in the identifier list B. If the media identifier is not included in the identifier list B, the removable media determination module  determines that the newly connected removable medium  is an unregistered removable medium. On the other hand, if the media identifier is included in the identifier list B, the removable media determination module  determines that the newly connected removable medium  is a registered removable medium.","The removable media determination module  outputs a notification, which indicates that the newly connected removable medium  is either a registered removable medium or an unregistered removable medium, to the removable media control module . Note that the removable media determination module  may output a notification, which indicates that the newly connected removable medium  is either a registered removable medium or an unregistered removable medium, to the policy decision module .","The removable media control module  controls use of the removable medium  according to the notification from the removable media determination module . For example, if the removable medium  is a registered removable medium, the removable media control module  permits use of the removable medium . On the other hand, for example, if the removable medium  is an unregistered removable medium, the removable media control module  controls to inhibit the removable medium  from being used by disabling the connection to the removable medium . For example, in order to control to inhibit the removable medium  from being used, the removable media control module  can use an API such as \u201cSetupDiSetClassInstallParams( )\u201d or \u201cSetupDiCallClassInstaller( )\u201d provided by Windows.","The removable media control module  can also control use of the removable medium  according to a predetermined policy. For example, this predetermined policy specifies to permit use of a registered removable medium (for example, to permit read and write accesses), and to inhibit use of an unregistered removable medium (for example, to inhibit read and write accesses).","As this predetermined policy, the policy output from the policy decision module  may be used. The policy decision module  reads a policy to be applied to the removable medium  from the policy information A in accordance with the notification from the removable media determination module . More specifically, if the newly connected removable medium  is a registered removable medium, the policy decision module  reads the first policy to be applied to the registered removable medium  from the policy information A. On the other hand, if the newly connected removable medium  is an unregistered removable medium, the policy decision module  reads the second policy to be applied to the unregistered removable medium  from the policy information A. Then, the policy decision module  outputs the read policy to the removable media control module .","Then, the removable media control module  controls use of the newly connected removable medium  based on the policy read by the policy decision module . For example, the removable media control module  controls permission or inhibition of use of the connected removable medium  based on the policy output from the policy decision module .","For example, if the connected removable medium  is a registered removable medium, and the read policy has a value \u201cread\/write permitted\u201d, the removable media control module  controls to permit reading data stored in the removable medium  and writing data in the removable medium . Also, for example, if the connected removable medium  is an unregistered removable medium, and the read policy has a value \u201cuse inhibited\u201d, the removable media control module  controls to inhibit reading data stored in the removable medium  and writing data in the removable medium .","With the above configuration, use of the removable medium  connected to the client apparatus  can be controlled. Note that use of the removable medium  may be controlled using only the media identifier without using hardware identification information such as a serial number. Using only the media identifier, use of the removable medium  can be controlled without using a serial number which may overlap among a plurality of removable media.","The operations of the respective modules in the list update mode will be described below.","The identifier list reception module  determines whether an update timing of the identifier list B stored in the identifier list storage  is reached. For example, when the client apparatus  is activated, when the user logs into the client apparatus , or when a predetermined period (for example, one hour) has elapsed since the previous update timing of the identifier list B, the identifier list reception module  determines that the update timing of the identifier list B is reached. Also, when a user operation is made (for example, when a new removable medium is registered), the identifier list reception module  may determine that an update timing of the identifier list B is reached.","When it is determined that the update timing of the identifier list B is reached, the identifier list reception module  transmits a transmission request signal of the identifier list B to the identifier list transmission module  included in the server apparatus  via the network .","The identifier list transmission module  receives the signal transmitted from the identifier list reception module . In response to reception of the signal, the identifier list transmission module  reads the identifier list B stored in the identifier list storage . Then, the identifier list transmission module  transmits the read identifier list B to the identifier list reception module .","The identifier list reception module  receives the identifier list B transmitted from the identifier list transmission module . Then, the identifier list reception module  updates the identifier list B stored in the identifier list storage  using the received identifier list B.","With the above configuration, the identifier list B stored in the client apparatus  can be updated using the identifier list B stored in the server apparatus .","An example of the procedure of media identifier registration process executed by the removable media management system  will be described below with reference to the flowchart shown in .","The removable media registration module  determines whether a removable media registration request is detected (block B). If no removable media registration request is detected (NO in block B), the removable media registration module  again determine whether a removable media registration request is detected by returning to block B.","If a removable media registration request is detected (YES in block B), the removable media registration module  transmits identification information (user ID) of the user who uses the client apparatus  to the user determination module  in the server apparatus  (block B). The identification information of the user to be transmitted is, for example, a login ID for that user to log into the client apparatus .","The user determination module  receives the user ID transmitted from the removable media registration module . Then, the user determination module  determines whether the user list A stored in the user list storage  includes the received user ID (block B). That is, the user determination module  determines whether the user corresponding to the received user ID has a registration authority of removable media. If the user list A includes the received user ID (YES in block B), the user determination module  transmits a notification indicating that registration of removable media is permitted to the removable media registration module  (block B). On the other hand, if the user list A does not include the received user ID (NO in block B), the user determination module  transmits a notification indicating that registration of removable media is not permitted to the removable media registration module  (block B).","The removable media registration module  receives the notification transmitted from the user determination module . Then, the removable media registration module  determines whether registration of removable media is permitted based on the received notification (block B). If registration of removable media is not permitted (NO in block B), the removable media registration module  displays a message indicating that registration of removable media has failed on a screen (LCD ) (block B).","If registration of removable media is permitted (YES in block B), the removable media registration module  permits use of a removable medium (block B). Then, the removable media registration module  detects a removable medium  connected to the client apparatus  (block B). The identifier read module  determines whether a serial number (hardware ID) is embedded in the detected removable medium  (block B). If a serial number is embedded in the removable medium  (YES in block B), the identifier transmission module  transmits that serial number to the identifier reception module  in the server apparatus  as a media identifier of the removable medium  (block B).","On the other hand, if no serial number is embedded in the removable medium  (NO in block B), the identifier read module  determines whether a media identifier (software ID) is written in a predetermined area in the removable medium  (block B). If a media identifier is written in the predetermined area in the removable medium  (YES in block B), the identifier read module  reads the media identifier from the predetermined area in the removable medium . The identifier transmission unit  transmits the read media identifier to the identifier reception module  in the server apparatus  (block B).","If no media identifier is written in the predetermined area in the removable medium  (NO in block B), the identifier generation module  generates a unique media identifier (block B). The identifier write module  writes the generated media identifier in the predetermined area in the removable medium  (block B). Then, the identifier transmission module  transmits the generated media identifier to the identifier reception module  in the server apparatus  (block B). Details of identifier write process corresponding to blocks B and B will be described later with reference to the flowchart shown in .","Next, the identifier reception module  receives the media identifier transmitted in block B or B. Then, the identifier registration module  determines whether the received media identifier has already been registered in the identifier list B in the identifier list storage  (block B). If the received media identifier has already been registered in the identifier list B (YES in block B), the identifier registration module  transmits a notification indicating that the received media identifier has already been registered in the identifier list B to the removable media registration module  (block B). The removable media registration module  displays a message indicating that the serial number embedded in the removable medium  or the media identifier written in the removable medium  has already been registered in the identifier list B on a screen (block B).","On the other hand, if the received media identifier is not registered in the identifier list B (NO in block B), the identifier registration module  adds the received media identifier to the identifier list B (block B). Then, the identifier registration module  transmits a notification indicating that registration of the removable medium  has succeeded to the removable media registration module  (block B). The removable media registration module  displays a message indicating that the serial number embedded in the removable medium  or the media identifier written in the removable medium  is registered in the identifier list B on a screen (block B).","With the above process, when the user who wants to register a removable medium has a registration authority, the user can register a media identifier of the removable medium  connected to the client apparatus  in the identifier list B stored in the server apparatus .",{"@attributes":{"id":"p-0197","num":"0197"},"figref":["FIG. 21","FIG. 20"],"b":["311","312"]},"The identifier generation module  generates a media identifier having the first length (block B). The first length is, for example, 16 bytes. Next, the identifier write module  determines whether a free area to write the media identifier is allocated in the removable medium  (block B). This free area is, for example, a storage area allocated between a master boot record area and partition area (first partition). If no free area is allocated in the removable medium  (NO in block B), the identifier write module  creates a free area in the removable medium  (block B). The free area is used to write the media identifier. The identifier write module  creates a master boot area, a partition area, and a free area between the master boot area and partition area in the removable medium .","If the free area is allocated in the removable medium  (YES in block B), or after the free area used to write the media identifier is created in block B, the identifier write module  writes a random number in a write target sector in the removable medium  (block B). More specifically, the identifier write module  generates a random number to be written in the write target sector. Then, the identifier write module  writes the generated random number in the write target sector. This write target sector is, for example, one of a plurality of sectors included in the free area between the master boot record area and partition area (first partition).","The identifier write module  writes the generated media identifier in a start area in the write target sector (block B). For example, when the generated media identifier has a 16-byte length, the identifier write module  writes the generated media identifier in an area from the first byte to the 16th byte in the write target sector.","Then, the identifier generation module  calculates a first validation value using the generated media identifier (block B). The identifier generation module  generates the first validation value by, for example, dividing the generated media identifier into a plurality of data bit parts each having the second length, and calculating an XOR of these data bit parts. This second length is, for example, 4 bytes (=32 bits). Therefore, for example, if the generated media identifier has a 16-byte length, the identifier generation module  divides the media identifier into four data bit parts each having a 32-bit length. Then, the identifier generation module  calculates an XOR using these four values. That is, an XOR having a 32-bit length is calculated as the first validation value.","The identifier write module  writes the calculated first validation value in a last area of the write target sector (block B). Therefore, for example, if the calculated first validation value has a 4-byte length, the identifier write module  writes the calculated first validation value in a 4-byte area from the last byte in the write target sector.","With the above process, the media identifier and first validation value can be written in the predetermined area in the removable medium . This predetermined area is, for example, the free area between the master boot record area and partition area. Even if this free area is not allocated in the removable medium , a free area is created in the removable medium , and then the media identifier and first validation value can be written in the predetermined area in the removable medium .","An example of the procedure of the identifier list update process will be described below with reference to the flowchart shown in .","The identifier list reception module  determines whether the update timing of the identifier list B stored in the identifier list storage  is reached (block B). If it is determined that the update timing of the identifier list B is not reached (NO in block B), the identifier list reception module  determines whether the update timing of the identifier list B is reached by returning to block B.","If it is determined that the update timing of the identifier list B is reached (YES in block B), the identifier list reception module  requests the identifier list transmission module  in the server apparatus  to transmit the identifier list (block B).","In response to the request of the identifier list reception module , the identifier list transmission module  reads the identifier list B in the identifier list storage  (block B). Then, the identifier list transmission module  transmits the read identifier list B to the identifier list reception module  (block B).","The identifier list reception module  receives the identifier list B transmitted from the identifier list transmission module  (block B). Then, the identifier list reception module  updates the identifier list B in the identifier list storage  using the received identifier list B (block B).","With the above process, the identifier list B in the client apparatus  can be updated using the identifier list B in the server apparatus .",{"@attributes":{"id":"p-0210","num":"0210"},"figref":"FIG. 23","b":"5"},"The removable media detection module  determines whether a removable medium is newly connected to the client apparatus  (block B). If no removable medium is newly connected to the client apparatus  (NO in block B), the removable media detection module  again determine whether a removable medium is newly connected to the client apparatus  by returning to block B.","If a removable medium is newly connected to the client apparatus  (YES in block B), the identifier read module  determines whether a serial number is embedded in the removable medium  (block B). For example, the identifier read module  determines whether hardware identification information including, for example, a vendor ID, product ID, and serial number is embedded in the removable medium .","If a serial number is embedded in the removable medium  (YES in block B), the identifier read module  reads the serial number embedded in the removable medium  (block B). Then, the removable media determination module  determines whether the identifier list B includes the read serial number (block B). That is, the removable media determination module  determines whether the newly connected removable medium  is a registered removable medium.","If the identifier list B includes the read serial number (YES in block B), that is, if the newly connected removable medium  is a registered removable medium, the policy decision module  reads the first policy to be applied to the registered removable medium  from the policy information A (block B). On the other hand, if the identifier list B does not include the read serial number (NO in block B), that is, if the newly connected removable medium  is an unregistered removable medium, the policy decision module  reads the second policy to be applied to the unregistered removable medium  from the policy information A (block B).","On the other hand, if no serial number is embedded in the removable medium  (NO in block B), the identifier read module  determines whether a media identifier is written in a first area in the removable medium  (block B). If no media identifier is written in the first area in the removable medium  (NO in block B), that is, if the newly connected removable medium  is an unregistered removable medium, the policy decision module  reads the second policy to be applied to the unregistered removable medium  from the policy information A (block B).","On the other hand, if the media identifier is written in the first area in the removable medium  (YES in block B), the identifier read module  reads the media identifier stored in the first area in the removable medium  (block B). Also, the identifier read module  reads a first validation value stored in a second area in the removable medium  (block B).","Next, the removable media determination module  calculates a second validation value using the read media identifier (block B). Then, the removable media determination module  determines whether the read first validation value is equal to the calculated second validation value (block B). If the first validation value is equal to the second validation value (YES in block B), the removable media determination module  determines whether the identifier list B includes the read media identifier (block B). If the identifier list B includes the read media identifier (YES in block B), that is, if the newly connected removable medium  is a registered removable medium, the policy decision module  reads the first policy to be applied to the registered removable medium  from the policy information A (block B).","If the first validation value is not equal to the second validation value (NO in block B), or if the identifier list B does not include the read media identifier (NO in block B), the policy decision module  reads the second policy to be applied to the unregistered removable medium  from the policy information A (block B).","Then, the removable media control module  controls use of the newly connected removable medium  based on the policy read in block B or B (block B).","With the above process, use of the removable medium  can be controlled using the hardware identification information (serial number) embedded in the removable medium  or the media identifier for the removable medium .",{"@attributes":{"id":"p-0221","num":"0221"},"figref":["FIG. 24","FIGS. 1 and 2"],"b":["6","6","50","40","45","50","40","60","50","45","60","50","40","45","50","40","45"]},"The removable media management system  operates in, for example, one of a policy setting mode, removable media registration mode, removable media monitor mode, and list update mode. In the policy setting mode, policies to specify rules associated with use of removable media are set. In the removable media registration mode, a removable medium connected to the removable media registration apparatus  is newly registered. In the removable media monitor mode, use of a removable medium newly connected to the client apparatus  is controlled. In the list update mode, an identifier list B stored in the client apparatus  is updated.","The server apparatus  includes an identifier reception module , an identifier registration module , an identifier list transmission module , a user determination module , an identifier list storage , and a user list storage . The identifier list storage  and user list storage  are implemented by, for example, a storage device such as an HDD. The identifier list storage  stores an identifier list B. The server apparatus  may also include a policy setting module  and a policy storage . The policy storage  stores policy information A.","The removable media registration apparatus  includes an identifier generation module , an identifier read module , an identifier write module , an identifier transmission module , and a removable media registration module .","The client apparatus  includes a removable media detection module , an identifier read module , a removable media control module , a removable media determination module , an identifier list reception module , and an identifier list storage . The identifier list storage  stores the identifier list B. The client apparatus  may also include a policy decision module .","The server apparatus  implements operations in the policy setting mode to set policies used to control use of a removable medium B connected to the client apparatus . The server apparatus  and removable media registration apparatus  implement operations in the removable media registration mode to register a removable medium A connected to the removable media registration apparatus . Also, the server apparatus  and client apparatus  implement operations in the list update mode to update the identifier list B stored in the client apparatus . Note that the detailed operations in the respective modes are the same as those described with reference to  (third embodiment).","The removable media management system  includes the removable media registration apparatus  used to register a removable medium A. Since the dedicated removable media registration apparatus  used to register the removable medium A is arranged, the user is inhibited from registering removable media using the client apparatus  which is normally used by the user. For example, by setting the removable media registration apparatus  at a place where only a system administrator can use that apparatus, registration of removable media or use of the client apparatus  by an unauthorized user can be prevented. In such case, process for determining whether the user who wants to register the removable medium A has an authority can be omitted.","As described above, according to the above embodiments, use of a removable medium can be controlled. In the above embodiments, in response to a registration request of a removable medium, a media identifier for a connected removable medium is generated, and the generated media identifier is written in a predetermined area in the removable medium. Also, the generated media identifier is stored in an identifier list.","When a removable medium is newly connected, whether that removable medium is either a registered or unregistered removable medium is determined based on data (media identifier) written in the predetermined area in the removable medium and the identifier list. Then, use of the connected removable medium is controlled to follow a corresponding policy according to the determination result.","Note that all the procedures of the registration process, removable media control process, and list update process of the above embodiments can be implemented by software. By only installing a program used to execute the procedures of the registration process, removable media control process, and list update process in a normal computer via a computer-readable storage medium that stores the program, and executing the installed program, the same effects as those of the above embodiments can be easily attained.","The various modules of the systems described herein can be implemented as software applications, hardware and\/or software modules, or components on one or more computers, such as servers. While the various modules are illustrated separately, they may share some or all of the same underlying logic or code.","While certain embodiments have been described, these embodiments have been presented by way of example only, and are not intended to limit the scope of the inventions. Indeed, the novel embodiments described herein may be embodied in a variety of other forms; furthermore, various omissions, substitutions and changes in the form of the embodiments described herein may be made without departing from the spirit of the inventions. The accompanying claims and their equivalents are intended to cover such forms or modifications as would fall within the scope and spirit of the inventions."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["A general architecture that implements the various features of the embodiments will now be described with reference to the drawings. The drawings and the associated descriptions are provided to illustrate the embodiments and not to limit the scope of the invention.",{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 16"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 17"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 18"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 19"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 20"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 21"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 22"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 23"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 24"}]},"DETDESC":[{},{}]}
