---
title: Shader complex with distributed level one cache system and centralized level two cache
abstract: A shader pipe texture filter utilizes a level one cache system as a primary method of storage but with the ability to have the level one cache system read and write to a level two cache system when necessary. The level one cache system communicates with the level two cache system via a wide channel memory bus. In addition, the level one cache system can be configured to support dual shader pipe texture filters while maintaining access to the level two cache system. A method utilizing a level one cache system as a primary method of storage with the ability to have the level one cache system read and write a level two cache system when necessary is also presented. In addition, level one cache systems can allocate a defined area of memory to be sharable amongst other resources.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08195882&OS=08195882&RS=08195882
owner: Advanced Micro Devices, Inc.
number: 08195882
owner_city: Sunnyvale
owner_country: US
publication_date: 20090601
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS REFERENCE TO RELATED APPLICATIONS","BACKGROUND","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"p":["This application claims the benefit under 35 U.S.C. \u00a7119(e) to Provisional Patent Application No. 61\/057,492 filed May 30, 2008; U.S. Provisional Patent Application No. 61\/057,483 filed May 30, 2008; U.S. U.S. Provisional Patent Application No. 61\/057,499 filed May 30, 2008; U.S. Provisional Patent Application No. 61\/057,504 filed May 30, 2008; and U.S. Provisional Patent Application No. 61\/057,513 filed May 30, 2008, which are incorporated by reference herein in their entireties.","1. Field of the Invention","The present invention is generally directed to computing operations performed in computing systems, and more particularly directed to graphics processing tasks performed in computing systems.","2. Related Art","A graphics processing unit (GPU) is a complex integrated circuit that is specially designed to perform graphics processing tasks. A GPU can, for example, execute graphics processing tasks required by an end-user application, such as a video game application. In such an example, there are several layers of software between the end-user application and the GPU.","The end-user application communicates with an application programming interface (API). An API allows the end-user application to output graphics data and commands in a standardized format, rather than in a format that is dependent on the GPU. Several types of APIs are commercially available, including DirectX\u00ae developed by Microsoft Corp. and OpenGL\u00ae developed by Silicon Graphics, Inc. The API communicates with a driver. The driver translates standard code received from the API into a native format of instructions understood by the GPU. The driver is typically written by the manufacturer of the GPU. The GPU then executes the instructions from the driver.","A GPU produces the pixels that make up an image from a higher level description of its components in a process known as rendering. GPUs typically utilize a concept of continuous rendering by the use of pipelines to processes pixel, texture, and geometric data. These pipelines are often referred to as a collection of fixed function special purpose pipelines such as rasterizers, setup engines, color blenders, hieratical depth, texture mapping and programmable stages that can be accomplished in shader pipes or shader pipelines, \u201cshader\u201d being a term in computer graphics referring to a set of software instructions used by a graphic resource primarily to perform rendering effects. In addition, GPUs can also employ multiple programmable pipelines in a parallel processing design to obtain higher throughput. A multiple of shader pipelines can also be referred to as a shader pipe array.","In addition, GPUs also support a concept known as texture mapping. Texture mapping is a process used to determine the texture color for a texture mapped pixel through the use of the colors of nearby pixels of the texture, or texels. The process is also referred to as texture smoothing or texture interpolation. However, high image quality texture mapping requires a high degree of computational complexity.","In addition, GPUs equipped with a Unified Shader also simultaneously support many types of shader processing, from pixel, vertex, primitive, surface and generalized compute are raising the demand for higher performance generalized memory access capabilities.","Texture filters rely on high speed access to local cache memory for pixel data. However, the use of dedicated local cache memory for texture filters typically precludes the use of more general purpose shared memory. While general purpose shared memory is more flexible, it typically has slower response time and hence is less performant.","Given the ever increasing complexity of new software applications, the demands on GPUs to provide efficient and high quality rendering, texture filtering and error correction are also increasing.","What are needed, therefore, are systems and\/or methods to alleviate the aforementioned deficiencies. Particularly, what is needed is a distributed level one cache system for each texture filter combined with a centralized, sharable level two cache system.","This section is for the purpose of summarizing some aspects of the present invention and to briefly introduce some preferred embodiments. Simplifications or omissions may be made to avoid obscuring the purpose of the section. Such simplifications or omissions are not intended to limit the scope of the present invention. Consistent with the principles of the present invention as embodied and broadly described herein, the present invention includes method and apparatus whereby a shader pipe texture filter utilizes a level one cache system as a primary method of storage but with the ability to have the level one cache system read and write to a level two cache system when necessary. While each level one cache system is associated with a particular shader pipe texture filter, level two cache memory has no such association and is therefore available to all level one cache systems. In addition, level one cache systems can allocate a defined area of memory in the level one cache system to be sharable amongst other resources.","In an embodiment of the invention, a level one cache system is configured with dual access so that two shader pipe texture filters have access to a single level one cache system.","In another embodiment more than one level two cache systems are configured to be accessible by each level one cache systems.","In another embodiment the communication between a level one cache system and a level two cache systems utilizes more than one memory channel thereby resulting in a greater data throughput.","In another embodiment one or more level one cache systems can allocate defined areas of memory in the level one cache system to be shared amongst other resources, including other level one cache systems. In certain instances this approach will allow for quicker fetch times of texel data where the required data has already been moved from a level two cache system to a level one cache system.","Further features and advantages of the invention, as well as the structure and operation of various embodiments of the present invention, are described in detail below with reference to the accompanying drawings. It is noted that the invention is not limited to the specific embodiments described herein. Such embodiments are presented herein for illustrative purposes only. Additional embodiments will be apparent to persons skilled in the relevant art(s) based on the teachings contained herein.","Features and advantages of the present invention will become more apparent from the detailed description set forth below when taken in conjunction with the drawings, in which like reference characters identify corresponding elements throughout. In the drawings, like reference numbers generally indicate identical, functionally similar, and\/or structurally similar elements. The drawing in which an element first appears is indicated by the leftmost digit(s) in the corresponding reference number.","The invention will be better understood from the following descriptions of various \u201cembodiments\u201d of the invention. Thus, specific \u201cembodiments\u201d are views of the invention, but each is not the whole invention. In one respect, the present invention relates to a distributed level one cache system with a centralized level two cache system. Each shader pipe texture filter has a dedicated level one cache system configured to provide read and write access to texel data contained within the level one cache system. In addition, there are one or more level two cache systems that are not dedicated to a shader pipe texture filter and as such are accessible by all of the level one cache systems.","While specific configurations, arrangements, and steps are discussed, it should be understood that this is done for illustrative purposes only. A person skilled in the pertinent art(s) will recognize that other configurations, arrangements, and steps can be used without departing from the spirit and scope of the present invention. It will be apparent to a person skilled in the pertinent art(s) that this invention can also be employed in a variety of other applications.","It is noted that references in the specification to \u201cone embodiment,\u201d \u201can embodiment,\u201d \u201can example embodiment,\u201d etc., indicate that the embodiment described can include a particular feature, structure, or characteristic, but every embodiment may not necessarily include the particular feature, structure, or characteristic. Moreover, such phrases are not necessarily referring to the same embodiment. Further, when a particular feature, structure, or characteristic is described in connection with an embodiment, it would be within the knowledge of one skilled in the art to incorporate such a feature, structure, or characteristic in connection with other embodiments whether or not explicitly described.","While the present invention is described herein with reference to illustrative embodiments for particular applications, it should be understood that the invention is not limited thereto. Those skilled in the art with access to the teachings provided herein will recognize additional modifications, applications, and embodiments within the scope thereof and additional fields in which the invention would be of significant utility.",{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 1","b":["100","100","110","120","130","125"]},"In the embodiment represented in , the shader pipe texture filter  employs the concept of bilinear filtering to determine the color of a particular pixel. During bilinear filtering, the shader pipe texture filter  analyzes texel data for the four nearest pixels to the pixel in question. The texel data for the four texels is then combined by a weighted average according to distance to calculate the desired result. The texel data in question is retrieved from the level one cache system  that is associated with the current shader pipe texture filter .","However, if the desired texel data is not in level one cache system  at the desired time, then level one cache system  issues a read request to level two cache system  for the desired texel data. In this instance, the required data is then copied from level two cache system  to level one cache system  in order to be analyzed and processed by shader pipe texture filter .",{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 2","b":["200","1","110","1","110","200","120","1","120","125","120","1","120"]},"In the embodiment of , each of the shader pipe texture filters, - through -N, employs the concept of bilinear filtering to determine the color of a particular pixel. As explained above, each shader pipe texture filter, - through -N, needs to analyze the texel data for the four nearest pixels to the pixel in question. Therefore, the texel data in question for each shader pipe texture filter is retrieved from its associated level one cache system. As such, shader pipe texture filter , -, issues a request for texel data to L1-1 cache system, -. The remaining shader pipe texture filters will issue texel data requests in a similar manner.","However, if the desired texel data for any particular shader pipe texture filter is not present in its associated level one cache system , then that level one cache system can issue a read request to the level two cache system  for the desired texel data. In the embodiment of  there are multiple level two cache systems, of which one or more could respond to the level one cache system request for texel data. However, in another embodiment, there can be a single level two cache system while having multiple shader pipe texture filter and associated level one cache systems.","In another embodiment regarding , one or more of the level one cache systems can allocate defined areas of memory in the level one cache system to be shared amongst other resources, including other level one cache systems. In certain instances, this approach allows for quicker fetch times of texel data where the required data has already been moved from a level two cache system to a level one cache system.",{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 3","b":["300","320","1","320","310","312","320","1","320","125"]},"In another embodiment regarding , one or more of the level one cache systems can allocate defined areas of memory in the level one cache system to be shared amongst other resources, including other level one cache systems. In certain instances, this approach allows for quicker fetch times of texel data where the required data has already been moved from a level two cache system to a level one cache system.",{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 4","b":["400","400","402","404","406","408","410","400","412"]},"The functions, processes, systems, and methods outlined in , , , and  can be implemented in software, firmware, or hardware, or using any combination thereof. If programmable logic is used, such logic can execute on a commercially available processing platform or a special purpose device.","As would be apparent to one skilled in the relevant art, based on the description herein, embodiments of the present invention can be designed in software using a hardware description language (HDL) such as, for example, Verilog or VHDL. The HDL-design can model the behavior of an electronic system, where the design can be synthesized and ultimately fabricated into a hardware device. In addition, the HDL-design can be stored in a computer product and loaded into a computer system prior to hardware manufacture.","It is to be appreciated that the Detailed Description section, and not the Summary and Abstract sections, is intended to be used to interpret the claims. The Summary and Abstract sections can set forth one or more but not all exemplary embodiments of the present invention as contemplated by the inventor(s), and thus, are not intended to limit the present invention and the appended claims in any way.","The present invention has been described above with the aid of functional building blocks illustrating the implementation of specified functions and relationships thereof. The boundaries of these functional building blocks have been arbitrarily defined herein for the convenience of the description. Alternate boundaries can be defined so long as the specified functions and relationships thereof are appropriately performed.","The foregoing description of the specific embodiments will so fully reveal the general nature of the invention that others can, by applying knowledge within the skill of the art, readily modify and\/or adapt for various applications such specific embodiments, without undue experimentation, without departing from the general concept of the present invention. Therefore, such adaptations and modifications are intended to be within the meaning and range of equivalents of the disclosed embodiments, based on the teaching and guidance presented herein. It is to be understood that the phraseology or terminology herein is for the purpose of description and not of limitation, such that the terminology or phraseology of the present specification is to be interpreted by the skilled artisan in light of the teachings and guidance.","While various embodiments of the present invention have been described above, it should be understood that they have been presented by way of example only, and not limitation. It will be apparent to persons skilled in the relevant art that various changes in form and detail can be made therein without departing from the spirit and scope of the invention. Thus, the breadth and scope of the present invention should not be limited by any of the above-described exemplary embodiments, but should be defined only in accordance with the following claims and their equivalents."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The accompanying drawings, which are incorporated in and constitute part of the specification, illustrate embodiments of the invention and, together with the general description given above and the detailed description of the embodiment given below, serve to explain the principles of the present invention. In the drawings:",{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 4"}]},"DETDESC":[{},{}]}
