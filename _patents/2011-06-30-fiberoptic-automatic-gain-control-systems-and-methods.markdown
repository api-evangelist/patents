---
title: Fiber-optic automatic gain control systems and methods
abstract: Methods and systems to control a gain applied to a free-space optical (FSO) signal to reduce time-varying intensity fluctuations. An optical pre-amplifier may provide a first, relatively moderate gain with low noise factor (NF). A second optical amplifier may provide a second gain. Amplification may include doped fiber amplification (DFA), such as erbium-doped fiber amplification (EDFA) and/or Raman amplification. A variable optical attenuator (VOA) may be controllable with a relatively fast response time to reduce the time-varying intensity fluctuations. The VOA may effectively control an overall system gain. The gain of the first and/or second optical amplifier may also be controllable to reduce the time-varying intensity fluctuations. Optical intensities may be detected at one or more locations to support one or more feed-forward and/or feedback control loops. A clamp may be applied when an optical power reaches a threshold.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08774635&OS=08774635&RS=08774635
owner: The Johns Hopkins University
number: 08774635
owner_city: Baltimore
owner_country: US
publication_date: 20110630
---

{"@attributes":{"id":"description"},"GOVINT":[{},{}],"heading":["STATEMENT OF GOVERNMENTAL INTEREST","BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["This invention was made with U.S. Government support under contract number FA8650-04-D-2413-D0006. The U.S. Government has certain rights in the invention.","1. Technical Field","Disclosed herein are methods and systems to receive and process optical signals, including free-space optical (FSO) signals, including methods and systems to control a gain applied to an optical signal in response to time-varying intensity fluctuations, to translate the optical signal to a substantially constant-intensity optical signal.","2. Related Art","Free Space Optics (FSO) systems are used for line-of-sight communications, and may be used over distances of several kilometers (km).","There is a move towards designing free space optical communications systems to couple received light into a single-mode fiber. This may permit relatively large optical bandwidths to be accessed using elements developed and utilized in terrestrial and sub-sea optical fiber networks, such as high density optical multiplexers and demultiplexers, optical attenuators, optical filters, and optical amplifiers.","Free space optical (FSO) links are inherently different than fiber optic links, in that a FSO communication link may suffer from attenuation effects, line-of-sight limitations, and\/or optical turbulence along a beam path. In addition to inducing beam spread above a diffraction limit, turbulence may introduce disruptive intensity fluctuations at a receive terminal, where large power swings may occur in millisecond scales. Power collected at a single mode FSO terminal output may vary dynamically with, for example, greater than 40 dB swings in the received signal due to scintillation.","Attenuation changes may lead to excessive errors with intensity-modulated direct detection data communications, both when amplitude variations occur over a time scale comparable to the bandwidth of the decision circuits designed to determine the presence of a mark or a space, when variations couple through the decision electronics affecting the decision threshold, or when the undesirable amplitude modulation exceeds an amplitude range of decision circuits.","Attenuation changes may be exacerbated by conventional fixed gain optical pre-amplifiers, such as erbium-doped fiber amplifiers (EDFAs), because they may output power levels well above a damage threshold of a detector in response to rapid power transients in a \u201cQ-switch\u201d effect.","High power levels may exist, for example, where a distance between FSO communication systems are relatively close to one another, such as within approximately 10 kilometers (km), and may arise over longer distances during benign turbulence, such as up to 100 km distances.","There is also a possibility of damage to sensitive optical detectors in cases where the upper limit of the power variations exceeds the damage threshold of the optical detector. For example, commercially available high-sensitivity receivers, such as avalanche photodiodes, have relatively limited dynamic ranges and suffer from saturation and damage from large power variations.","Conventional FSO systems utilize front-end, time-dependent loss mechanisms, such as an attenuator, prior to a receive-side optical amplifier to stabilize energy received from a fiber-coupled free-space optical terminal. Attenuation devices, by design, decrease the optical signal level to the receiver, even at minimum attenuation, and may thus reduce the optical signal-to-noise ratio (OSNR), of the received signal from which data is extracted, and may reduce the power of a received signal at a receiver input below an optimal level.","Optical amplifiers include, among others, doped fiber amplifiers (DFAs) and Raman amplifiers.","DFAs use a doped optical fiber as a gain medium to amplify an input optical signal. The input optical signal and a pump laser are multiplexed into the doped fiber, where the input signal is amplified through interaction with the dopant ions. The pump laser excites dopant ions into a higher energy from where they decay via stimulated emission of a photon at a wavelength of the input signal wavelength, and return to their lower energy level.","In an erbium doped fiber amplifier (EDFA), a fiber core is doped with trivalent Erbium ions, and may be pumped with a laser at a wavelength of 980 nm or 1,480 nm, and may exhibit gain in the 1,550 nm region.","In addition to decaying via stimulated emission, electrons in the upper energy level may also decay by spontaneous emission, in which photons are emitted spontaneously, or randomly, in all directions. A portion of the spontaneously emitted photons may be amplified by other dopant ions via stimulated emission, and are thus referred to as amplified spontaneous emission (ASE). Forward-propagating ASE may co-propagate with the amplified input signal and may thus degrade amplifier performance. Backward or counter-propagating ASE may reduce a gain of the amplifier.","Raman amplifiers are based on stimulated Raman scattering (SRS) phenomenon, in which a photon of a lower frequency input optical signal induces inelastic scattering of a photon of a higher-frequency pump laser, within a non-linear gain medium lattice, such as an optical fiber. The inelastic scattering produces a photon coherent with the input optical signal, and resonantly passes surplus energy to vibrational states of the gain medium.","Raman amplifiers include distributed and lumped Raman amplifiers. In a distributed Raman amplifier, a transmission fiber is used as the gain medium. The transmission fiber may be a highly nonlinear fiber with a relatively small core to increase interactions between the input optical signal and the pump laswer and thereby reduce the length of fiber needed. In a lumped Raman amplifier, a dedicated, shorter length of fiber is used as the gain medium.","A Raman amplifier pump laser light may be coupled into the transmission fiber in the same direction as the signal (forward-pumped), in the opposite direction (reverse-pumped), or both.","A Raman amplifier pump laser may use more power than that of an EDFA for a given gain, but may provide more distributed amplification within a transmission fiber, which may increase the distance the amplified light can travel, and may provide amplification over a wider range of regions.","Disclosed herein are methods and systems to receive and process optical signals, including free-space optical (FSO) signals.","Also disclosed herein are methods and systems to control a gain applied to an optical signal in response to time-varying intensity fluctuations, to translate the optical signal to a substantially constant-intensity optical signal.","Also disclosed herein are methods and systems to implement an optical gain control system with a relatively low noise figure (NF) and a relatively high-dynamic range, in a single-mode fiber architecture.","An optical gain control system may include a first optical amplifier, also referred to herein as an optical pre-amplifier, to provide a first gain level, which may include moderate gain with a low noise figure (NF).","The optical gain control system may further include a second optical amplifier to provide a second gain level.","The first and second optical amplifiers may each include a corresponding doped fiber amplifier (DFA), such as an erbium-doped fiber amplifier (EDFA). Alternatively, one or more of the first and second optical amplifiers may include a Raman amplifier.","The first and second optical amplifiers may define an upper gain level of the optical gain control system.","The optical gain control system may further include a variable optical attenuator (VOA), which may be controllable based on the time-varying intensity fluctuations, and with a response time that is faster than the time-varying intensity fluctuations. The VOA may be implemented to receive an amplified optical signal from the optical pre-amplifier.","The VOA may effectively control a system gain. The system gain may be at a maximum, which may be defined as the upper gain level, when the attenuation is at a minimum. Conversely, the system gain may be at a minimum when the attenuation is at a maximum.","The VOA may be controlled to apply a first attenuation level when an optical intensity or power of an optical signal is at target level. The target level may represent a maximum power level of the optical signal, and the first attenuation level may correspond to a system gain of less than the upper gain level.","When the optical power falls below the target level, the VOA may be controlled to reduce the attenuation level, and thus increase the system gain towards the upper gain level, to maintain the optical power at the target level.","Also disclosed herein are methods and systems to clamp the optical signal, or a gain applied to the optical signal, when the optical power reaches a threshold.","Also disclosed herein are methods and systems to controllably power-up optical amplification components, which may protect one or more optical components from power-related damage.","Also disclosed herein are hybrid optical components, which may be implemented to reduce costs and\/or losses.","Methods and systems disclosed herein are not limited to features summarized herein.","In the drawings, the leftmost digit(s) of a reference number identifies the drawing in which the reference number first appears.",{"@attributes":{"id":"p-0048","num":"0047"},"figref":"FIG. 1","b":["100","102","104"]},"FSO communication system  includes an optical transmitter  to output an optical signal, and an FSO terminal  having transmission optics to transmit the optical signal through free space as an optical signal . FSO terminal  may further include a pointing and tracking system.","The term \u201cfree space,\u201d as used herein, refers to a non-fiber or non-cable medium, and may include, without limitation, terrestrial atmospheric space (i.e., air), extraterrestrial or outer-space, and\/or a vacuum.","The term \u201coptical signal,\u201d as used herein, refers to propagating light, such as laser light or a laser beam. An optical signal may encompass a range of wavelengths, referred to herein as a wavelength bandwidth.","Optical signal  may have a center wavelength of, for example, approximately 1550 nanometers (nm), and may have an optical intensity or power within a range of, for example, approximately 100 milliwatts (mW) and 3 Watts (W), and may be within a range of approximately 2 W to 3 W. Methods and systems disclosed herein are not, however, limited to these examples.","Optical transmitter  may be implemented to modulate optical signal with information, and may be implemented to perform on-off keying (OOK) or phase shift keying (PSK) modulation with symbols in a sub-nano-second time frame.","FSO communication system  may further include an optical receiver , and FSO terminal  may further include combination optics to receive an optical signal as well as transmit. FSO communication system  may be referred to herein as a bi-directional communication system.","FSO communication system  may include an FSO terminal  and an optical receiver  to receive optical signal . FSO terminal  may include receive optics, and may include a pointing and tracking system.","FSO communication system  may further include an optical transmitter , and FSO terminal  may further include combination optics to transmit an optical signal as well as receive. FSO communication system  may be referred to herein as a bi-directional communication system.","In , optical signal  is also illustrated as a TX beam upon transmission by FSO communication system , and as a RX beam upon arrival at FSO communication system .","RX beam  may exhibit relatively large intensity or power variations, also referred to herein as fade, over relatively short time spans, such as on millisecond time-frames. A power level of RX beam  may vary, for example, from a sub-microwatt level to a milliwatt level. In other words, a dynamic range of RX beam  may be on the order of 4 or 5 orders of magnitude.","Optical receiver  may be implemented to compensate for relatively large and frequent power variations in RX beam , to provide a conditioned optical signal that exhibits essentially flat or minimal power variations.",{"@attributes":{"id":"p-0060","num":"0059"},"figref":"FIG. 2","b":["104","116","202","204","206"]},"FSO terminal  may be implemented to provide RX beam  to optical receiver  as a time-variant optical signal [I(t)] .","OAGC system  may be implemented to optically amplify optical signal  with a relatively low noise factor (NF), and dynamically adjust an attenuation applied to optical signal  to control an overall system gain in response to intensity fluctuations. OAGC system  may thus translate time-varying optical signal [I(t)]  to a substantially constant-intensity optical signal .","Optical signal  may have a varying optical signal-to-noise ratio, corresponding to modulating information imposed by transmitter  in , and may be referred to herein as optical signal OSNR(t) .","OAGC system  may be implemented to compensate for relatively high frequency intensity fluctuations in optical signal .","Optical-to-electrical converter  may be implemented to convert optical signal  to an electrical signal , and signal processor  may be implemented to process optical signal , such as to decode and\/or demodulate information from electrical signal . Optical-to-electrical converter  may include a photo-diode.",{"@attributes":{"id":"p-0066","num":"0065"},"figref":"FIG. 3","b":["202","302","304","310","304","316","306","318","308","320","310","322"]},"The term \u201cstage\u201d is used herein for illustrative purposes to refer to a group of one or more features and\/or components. A stage may represent a conceptual and\/or a literal grouping of features and\/or components. Methods and systems disclosed herein are not, however, limited to stage-based implementations.","OAGC system  may include at least one optical detector to detect optical intensities or power at one or more locations within OAGC system . An intensity may be detected with respect to optical signal  input to OAGC system  and\/or an optical signal within OAGC system , which may be referred to herein as power-in-fiber (PIF) detection. An intensity may be detected with respect to an optical signal output from OAGC system , which may be referred to herein as power-out-of-fiber (POF) detection.","OAGC system  may include a relatively high-speed controller  to control one or features of OAGC system  based on detected optical intensities. Controller  may be implemented to provide one or more of feed-forward control and feedback control.","As used herein, the term \u201cfeed-forward control\u201d refers to control based on an optical intensity detected upstream of a controlled feature, and the term \u201cfeedback control\u201d refers to control based on an optical intensity detected downstream of a controlled feature.","Controller  may include a micro-processor or field-programmable gate array (FPGA).","In the example of , controller  is illustrated as a single controller for illustrative purposes. Features and\/or functions described herein with reference to controller  may be distributed amongst multiple components of OAGC system .","OAGC system  may include an instruction processor  to monitor, control, and\/or report one or more features of OAGC system , and\/or to provide information to, or exchange information with controller . Processor  may include a micro-controller, memory, and firmware-embedded instructions to be copied into the memory upon boot-up for run-time execution by the micro-controller.","One or more features described herein with respect to one of controller  and processor , may be implemented with respect to controller  and\/or processor .","OAGC system  may protect optical-to-electrical converter  and processor  from saturation or catastrophic damage that might otherwise occur due to high optical power levels in input signal .","OACG system  may help to reduce bit errors that might otherwise arise from power fluctuations in optical signal , and which might otherwise introduce timing jitter in a digital \u201ceye.\u201d In other words, by maintaining a relatively constant output power level, power transients may be substantially prevented from coupling through receiver follow-on electronics and degrading bit error rate performance in processor  ().","OAGC system  may be implemented to provide relatively low-noise optical amplification, which may improve receiver sensitivity. Low-noise optical amplification may be a function of, and\/or characterized by a noise figure (NF) and gain metrics. A theoretical NF limit of an optical amplifier may be approximately 3 dB. In practice, an NF between 4.0 dB and 4.5 dB may be observed in a fielded system that includes input components such as taps to measure the input signal, isolators to remove backward-going amplified spontaneous emission, and filters to discriminate between the receive and transmit wavelengths. A system NF may be defined by or based upon an initial amplifier, such as optical amplifier  of stage .","Optical amplifier  may be implemented to provide a first gain level, with low NF, and optical amplifier  may be implemented to provide a second gain level. One or more of the first and second gain levels may be fixed or variable.","The first and second gain levels may define an upper gain level, and variable optical attenuator  may be controllable to effectively reduce the upper gain level in response to intensity fluctuations of optical signal , as detected at one or more places within OAGC system .","Variable optical attenuator (VOA)  may be implemented to dynamically respond to power fluctuations with a relatively fast response time, which may be equal to or less than approximately 1 microsecond (\u03bcs).","In , first optical amplifier  may be implemented to provide a relatively moderate net gain, or first gain level, with a relatively low NF. The first gain level may be, for example, between approximately 15 dB and 25 dB. Stage  may be referred to herein as a pre-amplifier stage, and first optical amplifier  may be referred to herein as a pre-amplifier.","Second optical amplifier  may be implemented to provide a second gain level, which may be less than, equal to, or greater than the first gain level, and which may be, for example, between approximately 20 dB and 30 dB.","OAGC system  may be implemented to provide an upper gain level based upon a pre-determined target output. For a nominal target output level of \u22125 dBm, and where sensitivities with forward error correction approach \u221248 dBm at 10 giga bits per second (Gbps), for example, OAGC system  may be implemented to provide an upper gain level of at least 40 dB.","The upper gain level may be enforced by clamping an output of one or more of first and second optical amplifiers  and  when a detected optical intensity reaches a threshold value. For example, first optical amplifier  may be clamped at a threshold of approximately \u221225 dBm. A clamp threshold may help to maintain a desired system output level.","One or more of optical amplifiers  and  may include a doped fiber amplifier (DFA), such as an erbium DFA (EDFA), and\/or yttrium-doped fiber amplifier, and may include a variable-gain DFA. Alternatively, one or more of optical amplifiers  and  may include a Raman optical amplifier, which may include a variable-gain Raman amplifier.","Example implementations of OAGC  and stages , , , and  are provided below with reference to .",{"@attributes":{"id":"p-0087","num":"0086"},"figref":["FIG. 4","FIG. 4","FIGS. 5 through 9"],"b":["202","312","302","314","302"]},{"@attributes":{"id":"p-0088","num":"0087"},"figref":"FIG. 5","b":["304","502","512","504","512","516","502","504","208","504","516"]},"Pump laser  may receive a pump power control signal  from one or more of controller  and processor  to control a pump power of pump laser . Pump laser  may include, for example, a 980 nm or a 1480 nm pump laser.","Gain fiber  may include an erbium doped fiber, such as a commercially available fiber known as HE980. An erbium doped fiber may provide optical gain with a relatively low NF.","Gain fiber  may be implemented with a relatively low mode field diameter and a relatively large numerical aperture, which may support relatively large signal intensities of pump signal  and signal wavelengths of optical signal . This may provide overlap between pump signal  and signal , overlap between signal  and erbium ion distribution, and\/or overlap with an ion inversion level.","Pump laser  may be implemented to pump gain fiber  relatively strongly so as to invert relatively highly along an entire length of gain fiber , for a relatively low NF.","Gain fiber  may be implemented to provide relatively moderate to high gain for low-power signals, with minimal added noise.","Stage  may be implemented to provide relatively constant (DC) gain, a relatively low noise figure, and relatively moderate gain. A transfer function of stage  may act as a limiting function at higher intensities or power of optical signal .","Stage  may include an a first optical isolator , which may be implemented as a single stage optical isolator, as opposed to a two stage isolator, which may reduce loss and\/or substantially prevent backward-going amplified spontaneous emission (ASE) from reaching front-end systems, such as FSO terminal  in .","Stage  may include a second optical isolator  to prevent backward-going energy from entering a gain cavity of pump laser , which may otherwise induce lasing and\/or introduce noise. Second optical isolator  may include a single or double stage optical isolator.","Stage  may include an optical tap  to provide a relatively small percentage of optical signal  as an optical tap signal . Optical tap signal  may be used for link characterization, logging data, and\/or to determine various operational functions. Optical tap signal  may be utilized for feed-forward control by one or more of controller  and processor  in .","Optical tap , optical isolator , and WDM coupler , or a subset thereof, may be integrated as a package, referred to herein as a hybrid component , which may reduce size and\/or losses.","Stage  may include a filter , illustrated here as a band pass filter (BPF), to filter out-of-band wavelengths from optical tap signal .","Stage  may include an optical coupler  to divide a filtered optical tap signal  amongst multiple devices, illustrated here a power meter  and a detector .","Detector  may include an optical-to-electrical detector, such as a photo-detector, to convert an optical signal from coupler  to an electrical signal (e.g., power versus time information), which may be provided to a linear and\/or logarithmic amplifier  to generate an indication  of a detected intensity or power level of optical signal . Indication  may be provided to controller  and\/or processor  (), such as for feed-forward control of VOA  (), and\/or other components of OAGC system .","Power meter  may be used for monitoring purposes.","Stage  may include a wavelength-sensitive multiplexer positioned prior to WDM  and\/or hybrid component , to receive optical signal  and a saturation laser tone from a saturation laser. A center wavelength of the saturation laser tone may be slightly offset from a center wavelength of optical signal , and may be, for example, within a 1550 nanometer (nm) band, and may be, for example, approximately 1554.3 nm. The saturation tone may substantially prevent amplifier Q-switching when optical signal  swings in power.","Stage  may further include a wavelength-sensitive demultiplexer positioned subsequent to WDM  and\/or hybrid component , to remove the saturation laser tone, such as by optical termination. The demultiplexer may output an optical signal that is, for example, approximately 3 orders of magnitude greater than optical signal .","Stage  may output an optical signal .",{"@attributes":{"id":"p-0106","num":"0105"},"figref":"FIG. 6","b":["306","318","324"]},"VOA  may be implemented to adjust attenuation relatively rapidly in response to an attenuation control  from controller  (), to quickly respond to optical power transients. Controller  may be implemented to provide attenuation control  in response to optical intensity indications received through one or more feed-forward and\/or feedback paths.","Stage  may include an optical filter  to remove amplified spontaneous emissions (ASEs) from signal , which may arise in stage . Filter  may include a band pass filter. Filter  may help to ensure that VOA  attenuates an optical wavelength or bandwidth of interest substantially without attenuating noise, which may improve effectiveness of one or more control loops associated with controller  and\/or processor  (). The second band pass filter may have a bandwidth within a range of, for example, 0.8 nm to 3.0 nm.","Where controller  () utilizes feed-forward information to control VOA , stage  may include a delay line  to time-delay optical signal  prior to VOA , to provide controller  with time to respond to the feed-forward information. Delay line  may be implemented to match a response time of a control loop, which may include time to detect an optical intensity, convert the optical intensity to an electrical signal, amplify the electrical signal, and derive attenuation control . Delay line  may include a fixed delay line.","Where stage , stage , and\/or stage  are feed-forward controllable, the corresponding stage may include a similar delay line.","Stage  may include an optical coupler  to provide a relatively small percentage of an attenuated optical signal  as an optical tap signal  to one or more devices. Optical tap signal  may be used for link characterization, logging data, and\/or to determine various operational functions. Optical tap signal  may be utilized for feed-forward control of one or more features downstream of coupler , and\/or for feedback control of one or more features upstream of optical coupler .","In the example of , optical tap signal  is provided to a detector . Detector  may include an optical-to-electrical detector, such as a photo-detector, an output of which may be provided to a linear and\/or logarithmic amplifier  to generate an indication  of an intensity or power level of optical signal . Indication  may be provided to controller  and\/or processor  (), such as for feed-forward and\/or feedback control of one or more features of OAGC system .","A remaining portion of attenuated optical signal  may be output from stage  as an attenuated optical signal .",{"@attributes":{"id":"p-0114","num":"0113"},"figref":"FIG. 7","b":["308","326"]},"In , stage  includes a pump laser , a gain fiber , and a WDM coupler  to couple a pump signal  from pump laser  and optical signal  into gain fiber , to provide optical amplification in a forward-pumped configuration, such as described in one or more examples herein.","Pump laser  may receive a pump power control signal  from one or more of controller  and processor  to control a pump power of pump laser .","Pump laser  may include an EDFA, and gain fiber  may include an erbium doped fiber, such as described in one or more examples herein.","Gain fiber  may be implemented with larger mode field diameter and a smaller numerical aperture relative to gain fiber  in stage  (), such as to support higher output power levels with a decreased pump intensity, and\/or reduce or substantially prevent non-linear effects.","Stage  may include a first optical isolator , which may be implemented as a single stage optical isolator, as opposed to a two stage isolator, which may reduce loss and\/or substantially prevent backward-going amplified spontaneous emission (ASE) from reaching stage .","Stage  may include an optical tap  to tap a relatively small percentage of optical signal , which may be used for feedback and\/or feed-forward control. For example, an optical tap signal  may be provided to a detector , an output of which may be provided to a linear and\/or logarithmic amplifier  to generate an indication  of an intensity or power level of optical signal . Indication  may be provided to controller  and\/or processor  (), such as for feed-forward and\/or feedback control of one or more features of OAGC system .","Optical tap , optical isolator , and WDM coupler , or a subset thereof, may be integrated as a package, referred to herein as a hybrid component , which may reduce size and\/or losses.","Stage  may include a second optical isolator  to prevent backward-going signals from entering a gain cavity of pump laser , which may otherwise induce lasing and\/or introduce noise. Optical isolator  may include a single or double stage optical isolator.","Stage  may output an optical signal .",{"@attributes":{"id":"p-0124","num":"0123"},"figref":"FIG. 8","b":["310","322","328","310"]},"Optical filter  may include an optical drop filter, centered approximately at a wavelength of interest, to filter ASE noise from optical signal . Optical filter  may have a filter bandwidth of, for example, between 50 and 100 GHz.","Optical filter  may include a fixed wavelength filter or a tunable filter controllable with a control .","In , optical filter  extracts or outputs a filtered version of optical signal  as an optical signal .","Stage  may include a first optical coupler  to provide a relatively small percentage of optical signal  as an optical tap signal  to one or more devices. First optical coupler  may output a remaining portion of optical signal  as optical signal , which may be provided to optical-to-electrical converter , as illustrated in .","Stage  may further include a second optical coupler  to divide optical tap signal  amongst multiple systems and\/or devices, illustrated here a power meter  and a detector .","Detector  may include an optical-to-electrical detector, such as a photo-detector, an output of which may be provided to a linear and\/or logarithmic amplifier  to generate an indication  of an intensity or power level of optical signal . Indication  may be provided to controller  and\/or processor  (), such as for feedback control.","Power meter  may be used for monitoring purposes.","Optical filter  may include a multi-channel optical demultiplexer  to output multiple optical bands or channels of optical signal , illustrated here as optical signals , , , and . This may permit OAGC system  to support multiple wavelength channels.","One or more optical signals , , , and  may be used for monitoring, reporting, and\/or feedback control. For example, one or more optical signals , , and  may represent a band outside of a filter bandwidth, and may be used to provide a noise level measurement.","In , an optical-to-electrical detector  and a corresponding amplifier  are illustrated to generate an indication  of a noise measure of optical signal . Indication  may be provided to controller  and\/or processor  (), such as for feedback control. One or more additional optical-to-electrical detectors and corresponding amplifiers may be implemented for other outputs of demultiplexer .",{"@attributes":{"id":"p-0135","num":"0134"},"figref":"FIG. 9","b":["312","316","318","320","322"]},"In the example of , controller  is implemented to output one or more controls , which may include one or more of pump power control  in , attenuation control  in , pump power control  in , and filter control  in .","Controller  may be implemented to generate or derive one or more controls  based on one or more indications . Indications  may include one or more of:","indication  in ;","indication  in ;","indication  in ; and","indication  and\/or  in .","Controls  and indications  are not, however, limited to the examples of .","Controller  may include feed-forward logic  and\/or feedback logic  to generate or derive one or more controls . Feed-forward logic  may include look-up logic  to look-up a control value in one or more look-up tables . Feedback logic  may include proportional-integral-derivative (PID) logic  to determine an error value as a difference between an indication  and a desired value, and to adjust one or more controls  to minimize the difference. Controller  may further include routing logic  to direct one or more indications  to feed-forward logic  and\/or feedback logic .","OAGC system  may include one or more control loops, examples of which are provided below. Methods and systems disclosed herein are not, however, limited to the example control loops.","OAGC  may include a VOA control loop to derive attenuation control  in . The VOA control loop may be implemented as a feed-forward control loop, a feedback control loop, or a hybrid feed-forward and feedback control loop.","A feed-forward VOA control loop may utilize indication  in .","A feedback VOA control loop may utilize one or more of indication  in , indication  in , indication  in , and indication  in .","A hybrid VOA control loop may utilize a combination of indication  in  and one or more of indication  in , indication  in , indication  in , and indication  in .","A VOA control loop may operate based on an average power, measured over a sub-millisecond time frame, and may be responsive to variations on an order of hundreds of microseconds. Such an implementation may provide suitable reaction to falling and rising edges of a fade, which may occur on the microsecond time frame. VOA control loop components, such as controller , VOA , an optical detector, a photo diode, and an electrical signal amplifier, may be selected to meet a desired response time.","OAGC  system may include one or more gain control loops to control a gain optical amplifier  and\/or optical amplifier . A gain control loop may include a feed-forward control loop, a feedback control loop, and\/or a hybrid control loop.","OAGC  system may include a clamp control loop to limit an intensity of an optical signal within OAGC  when the intensity reaches a threshold value.","A clamp control loop may be implemented to manage attenuation control  to clamp an upper limit of optical signal  () at a pre-determined level, such as \u221215 dBm. Such a clamp control loop may utilize indication  as feedback control.","A clamp control loop may be implemented to clamp a gain of amplifier  and\/or  when an intensity of an optical signal reaches the threshold value.","Controller  may include power-up control logic  to control one or more components of OAGC system  during power-up. Power-up control logic  may be implemented, for example, to delay power-up of stage  until stage  is powered-up. Start-up control logic  may be further implemented to ramp-up, or increase gain of stage  over time, and to subsequently ramp-up, or increase gain of stage  over time. Power-up control logic  may be further implemented to ramp-up gain of stage  and\/or stage  relatively slowly, such as over a period of up to approximately 2 seconds.","One or more features disclosed herein may be implemented in hardware, software, firmware, and combinations thereof, including discrete and integrated circuit logic, application specific integrated circuit (ASIC) logic, and microcontrollers, and may be implemented as part of a domain-specific integrated circuit package, or a combination of integrated circuit packages. The term software, as used herein, refers to a computer program product including a computer readable medium having computer program logic stored therein to cause a computer system to perform one or more features and\/or combinations of features disclosed herein.",{"@attributes":{"id":"p-0156","num":"0155"},"figref":"FIG. 10","b":"1000"},"At , a free space optical (FSO) signal is received, such as described above with reference to RX beam  in . The FSO signal may be modulated with information.","At , the FSO signal is amplified by a first gain level to generate a first amplified optical signal, such as described above with reference to optical amplifier  in .","At , the first amplified optical signal is filtered and then attenuated by an attenuation amount to generate an attenuated optical signal, such as described above with reference to variable optical attenuator  in .","At , the attenuated optical signal is amplified by a second gain level to generate a second amplified optical signal, such as described above with reference to optical amplifier  in .","At , the second amplified optical signal is filtered to extract an optical signal, or channel of interest, that includes the information, such as described above with reference to optical filter  in .","At , optical intensities are detected with respect to one or more of the received optical signal, the first amplified optical signal, the attenuated optical signal, the second amplified optical signal, the extracted optical signal, and a filtered portion of the second amplified optical signal, such as described in one or more examples herein.","At , one or more of the first gain level, the attenuation amount, the second gain level, and the filtering is controlled based on the detected intensities to reduce fluctuations in the detected intensities.","At , the extracted optical signal is converted to an electrical signal, such as described above with reference to optical-to-electrical converter  in .","At , the electrical signal is processed to recover the information, such as described above with reference to signal processor  in .","Methods and systems are disclosed herein with the aid of functional building blocks illustrating the functions, features, and relationships thereof. At least some of the boundaries of these functional building blocks have been arbitrarily defined herein for the convenience of the description. Alternate boundaries may be defined so long as the specified functions and relationships thereof are appropriately performed.","One skilled in the art will recognize that these functional building blocks can be implemented by discrete components, application specific integrated circuits, processors executing appropriate software, and combinations thereof.","While various embodiments are disclosed herein, it should be understood that they have been presented by way of example only, and not limitation. It will be apparent to persons skilled in the relevant art that various changes in form and detail may be made therein without departing from the spirit and scope of the methods and systems disclosed herein. Thus, the breadth and scope of the claims should not be limited by any of the example embodiments disclosed herein."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS\/FIGURES","p":[{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0038","num":"0037"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0040","num":"0039"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0041","num":"0040"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0042","num":"0041"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0043","num":"0042"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0044","num":"0043"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0045","num":"0044"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0046","num":"0045"},"figref":"FIG. 10"}]},"DETDESC":[{},{}]}
