---
title: Information processing terminal or control method therefor
abstract: Amount information stored in an IC chip installed in a portable terminal has been encoded, and no key is contained in the same terminal for protection against unauthorized use. On the other hand, in order to allow the information to be viewed even offline, a portion of the information can be displayed by a specific application. After a viewer application is downloaded from a service provider, followed by mutual authentication with the IC chip, the application is enabled on the terminal, and the extent viewed is registered. Therefore, the amount information stored in the IC card or IC chip can be displayed even in an offline environment.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07066385&OS=07066385&RS=07066385
owner: Sony Corporation
number: 07066385
owner_city: 
owner_country: JP
publication_date: 20021010
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"p":["This application is a 371 of PCT\/JP02\/10544 filed Oct. 10, 2002.","The present invention relates to a non-contact IC card or IC chip which has a memory function for storing data and which is configured such that data can be read from and written to the memory in a non-contact manner. Particularly, the present invention relates to a non-contact (or contact) IC card or IC chip including a wireless interface for wireless data access to the memory function from an external reader\/writer and a wired interface for connection with an external device and an information processing terminal such as a cellular telephone or a PDA incorporating such an IC card or IC chip when used.","More particularly, the present invention relates to an information processing terminal incorporating a non-contact (or contact) IC card or IC chip for electronically storing electronic money, electronic tickets and other amount information when used, and, particularly, an information processing terminal capable of allowing the amount information stored in the IC card or IC chip to be viewed in either an online environment or an offline environment.","Previously, a variety of apparatuses using a secret personal number or password for personal identity verification or authentication has been devised and put into practice. In banks or other financial institutions, for example, for using cash cards or credit cards, cash dispensers or other banking terminals prompt users to enter a secret personal number or a password for personal identity authentication, and cash cannot be deposited or withdrawn until it has been confirmed that the correct secret personal number or password was entered by the user.","A storage medium such as a magnetic strip placed on one cash card has only a single storage area for only the corresponding bank. The above-noted secret personal number or password entry merely allows access to the single storage area, and it may be insufficient for protection against forgery or theft.","For anti-forgery purposes, the cash card or credit card is often implemented as a contact IC card having an electric contact or a non-contact IC card for reading and writing data in a non-contact manner via wireless data communication. IC card readers\/writers installed in, for example, cash dispensers, at the entrances of concert halls, on station ticket gates, and so on are able to access IC cards passed thereover by users in a non-contact manner.","A user enters a secret personal number to the reader of an IC card reader\/writer to verify the entered secret personal number against a secret personal number stored in the IC card, thus realizing personal identity verification or authentication between the IC card and the IC card reader\/writer. When personal identity verification or authentication is successfully performed, for example, an application stored in the IC card can be used. The applications stored in an IC card may include, for example, these for amount information such as electronic money and electronic ticketing. Furthermore, IC cards having prepaid vouchers electronically stored therein or portable terminals connected thereto can be used as prepaid cards. (A secret personal number for use in accessing an IC card is referred to as a PIN (Personal Identification Number).)","Recently, with the development of nanotechnology, IC cards having a relatively large capacity of storage space have become commercially available and increasingly widespread. Since a traditional cash card has only a single storage area, i.e., a single application, carried therein, it is necessary to carry a plurality of cards for various uses or applications. On the other hand, the above-noted IC card having a large capacity memory can concurrently store a plurality of applications, and, therefore, a single IC card can be used for a plurality of applications. For example, more than one application used for electronic money for electronic payment, electronic tickets for admission to designated concert halls, digital prepaid vouchers, and so on can be stored on a single IC card so as to use the single IC card in various applications.","An IC card includes not only a non-contact interface with a card reader\/writer (card reading and writing apparatus) but also an external wired interface for connecting to an external device, and the IC card can be connected to or installed in an information processing terminal, such as a cellular telephone or a PDA (Personal Digital Assistant), when used. (In many cases where the IC card is installed in the terminal, the IC card is formed into one chip. The IC card and IC chip are hereinafter collectively referred to simply as an \u201cIC card\u201d.)","In such a case, a variety of application services using the IC card can be performed on the information processing terminal. For example, a user interface, such as a keyboard or a display on the information processing terminal, can be used for user interaction with the IC card on the information processing terminal. If the IC card is connected to a cellular telephone, the content stored on the IC card can be exchanged over a telephone line.","It is to be understood that, in the case where amount information such as electronic money, electronic tickets, and prepaid vouchers is stored in the IC card, the information processing terminal can realize amount information processing, such as electronic payment and prepaid-card-based payment and various other services. The information processing terminal can also provide processing according to a data transfer phase between the IC card and a card reading and writing apparatus, or processing according to the internal state of the IC card (for example, the information stored in the IC card can be viewed on a screen of a portable terminal).","The amount information stored in an IC card or IC chip is encoded using a predetermined key for preventing unauthorized use such as copying or tampering. Since an IC chip installed in a portable terminal would be easily interfered with via an external interface, in many cases, the portable terminal has no key, and the amount information is accessed using a key only online for the purpose of offline protection against unauthorized use or key theft.","However, in such cases, disadvantageously, the amount information cannot be viewed offline at all.","It is an object of the present invention to provide a better information processing terminal and control method therefor in which a non-contact IC card or IC chip having electronic money, electronic tickets, and other amount information electronically stored therein is installed when used.","It is another object of the present invention to provide a better information processing terminal and control method therefor in which the amount information stored in the IC card or IC chip can be viewed even in an offline environment.","The present invention has been made in order to overcome the aforementioned problems, and an information processing terminal which is equipped with an IC chip containing at least one type of amount information or a control method therefor includes:","an application obtaining means or step of obtaining an application for using the amount information from a predetermined external apparatus;","a mutual authentication means or step of performing mutual authentication between the predetermined external apparatus and the IC chip; and","an application registration means or step of enabling the application to be used in an area allowed for the predetermined external apparatus when the mutual authentication is successful.","The information processing terminal or control method therefor according to the present invention may further include:","an application starting means or step of starting the registered application;","a utilization extent checking means or step of checking an usable extent of the application; and","an authorization means or step of authorizing use of the amount information from the IC chip to an extent usable by the application.","The application used herein has a function of visually displaying, for example, amount information stored in the IC chip. The amount information refers to, for example, electronic money, electronic tickets, and so on.","According to the information processing terminal or control method therefor of the present invention, in order to allow the amount information stored in the IC chip to be viewed even offline, a portion of the information can be displayed by a specific application. After the information processing terminal downloads a viewer application from a service provider, followed by mutual authentication with the IC chip, the application is enabled on the terminal, and the extent viewed is registered.","Since the application does not cause the amount information stored in the IC chip to be displayed without limitation, no security problem occurs. Furthermore, the application can also be downloaded with authorization using previously designated URL information and key information contained in the IC card.","Other objects, features, and advantages of the present invention will become apparent from the following more detailed description taken in conjunction with embodiments of the present invention or with reference to the accompanying drawings.","Embodiments of the present invention are described in detail below with reference to the drawings.","The present invention pertains to use of an IC card or IC chip having amount information, such as electronic money and an electronic ticket stored therein, and, more specifically, to a system in which the IC chip is incorporated into a cellular telephone, a PDA (Personal Digital Assistant), or the like so that the amount information, such as electronic money or an electronic ticket, i.e., an application, is used.","A portable terminal with the IC chip installed therein is passed over a reader\/writer (R\/W), thus allowing for non-contact data communication between the installed IC chip and the reader\/writer. In the non-contact data communication, the IC chip can vary the load across an antenna thereof according to a response signal to a query signal from the reader\/writer, so that a signal that appears in a receiving circuit of the reader\/writer is amplitude-modulated for communication.","An application, such as amount information, stored in the IC chip is encoded with a predetermined key for the purpose of protection against unauthorized use such as copy or tampering. An IC chip installed in a portable terminal would be easily interfered with via an external interface, and the portable terminal has no key for the purpose of offline protection against unauthorized use or key theft. Thus, the application cannot be used offline at all.","According to the present invention, specific amount information stored in the IC chip is not encoded with a key so that it can be viewed even offline, and a portion of the information can be viewed using an application downloaded from a service provider. However, security problems occur if such an application also allows other information to be freely viewed. Therefore, after downloading the application, followed by mutual authentication with the IC chip, the application is enabled on the terminal, and the memory area that the application can view is restricted.",{"@attributes":{"id":"p-0042","num":"0041"},"figref":["FIG. 1","FIG. 1"],"b":["110","110","110","100"]},"As shown in , the IC chip  includes an antenna unit , an analog unit , a digital control unit , a memory , and an external interface .","The antenna unit  performs non-contact data transmission and reception to and from a reader\/writer . The analog unit  performs processing on an analog signal that is transmitted or received from the antenna unit , such as detection, modulation\/demodulation, and clock extraction. The IC chip  can vary the load across the antenna thereof according to a response signal to a query signal from the reader\/writer , so that a signal that appears in a receiving circuit of the reader\/writer is amplitude-modulated for communication. The non-contact data communication scheme itself is not directly related with the scope of the present invention, and a further description thereof is not made herein.","The digital control unit  totally controls processing on received data or data to be transmitted or other operations of the IC card. The digital control unit  is locally connected with the addressable memory , which can be used to store electronic money or electronic ticketing applications, load a program code executed by the digital control unit , or to save the working data in progress.","The memory  of the IC chip  stores various applications (described below). The applications may include, for example, those for amount information, such as electronic money and electronic ticketing.","The external interface  is a function module for connecting the digital control unit  to the portable terminal  according to an interface protocol different from that of a non-contact interface for connecting to the reader\/writer . The data written in the memory  can be transferred to the portable terminal  via the external interface .","In this embodiment, the external interface  which connects the portable terminal  to the IC chip  installed therein is implemented as a wired interface, such as a UART or IC interface. The interface specification of the external interface  is not limited in particular, and any other wired interface or a wireless interface, such as a Bluetooth or IEEE.802.11b interface, may be used.","The IC chip  can be driven by, for example, a reception wave received from a card reading and writing apparatus via the antenna unit . It is to be understood that a part or all components of the IC chip  may be driven by power supplied from the portable terminal .","The portable terminal  corresponds to, for example, an information processing terminal such as a cellular telephone or a PDA (Personal Digital Assistant). The portable terminal  includes a program control unit , a display unit , and a user input unit .","The program control unit  includes, for example, a microprocessor, a RAM, and a ROM (these components are not shown in ); and the microprocessor uses the RAM for a work area to execute various processing services according to a program code stored in the ROM. The processing services include the original functions of the portable terminal , including cellular telephone and PDA functions, and processing for the IC chip  (described below).","The program control unit  can access the IC card  via the external interface .","The program control unit  further includes an information storage unit . The information storage unit  is formed of, for example, a rewritable memory device such as an EEPROM (Electrically Erasable and Programmable ROM), an external storage device such as a hard disk, or the like.","In this embodiment, the information storage unit  stores data (described below) for managing amount information used on the memory  of the IC chip .","The display unit  is formed of, for example, a liquid crystal display (LCD). For example, the display unit  can present the processing result of the program control unit  on a screen for notifying the user.","The user input unit  is formed of a keyboard, a jog dial, or a touch panel laid on the display screen of the display unit , and is used for a user to input commands or data to the portable terminal .","The program control unit  of the portable terminal  is driven by power fed from a main power supply (not shown), such as a battery.","The portable terminal  in which the IC chip  is installed is passed over the reader\/writer (R\/W) , thereby initiating non-contact data communication between the installed IC chip  and the reader\/writer . After verification of a secret personal number, such as a PIN, the amount information stored in the IC chip , such as an electronic ticket or electronic money, can be accessed.",{"@attributes":{"id":"p-0059","num":"0058"},"figref":["FIG. 2","FIG. 2","FIG. 2"],"b":["104","100","103"]},"The memory area of the memory  of the IC chip  is used as, physically, \u201cservice code\u201d minimum units. Areas formed of consecutive service codes are allocated to each service provider (business entity), and each service provider can assign, in the areas allocated thereto, service codes used for a service (application) provided thereby.","The information storage unit  of the portable terminal  uses an area information table and an application management table to manage the use status of the memory area of the IC chip . The area information table is used to manage which area is allocated to which service provider, and the application management table is used to manage which service code of the area is assigned to which application.","Table 1 shows an example structure of the area information table. In the example shown in Table 1, service codes 1 through 20 are allocated to business entity A, and the subsequent service codes 21 through 30 are allocated to business entity B.",{"@attributes":{"id":"p-0063","num":"0062"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"84pt","align":"center"}}],"thead":{"row":[{"entry":"TABLE 1"},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["Name of",{},{}]},{"entry":["Business Entity","Start Service Code","End Service Code"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"char","char":"."}},{"@attributes":{"colname":"3","colwidth":"84pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["A","1","20"]},{"entry":["B","21","30"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}}},"Table 2 shows an example structure of the application management table. In the example shown in Table 2, service codes 2 through 10 (in the areas 1 to 20 allocated to the business entity A) are assigned to an electronic ticket (provided by the business entity A), and service codes 21 through 25 (in the areas 21 to 30 allocated to the business entity B) are assigned to electronic money (provided by the business entity B).",{"@attributes":{"id":"p-0065","num":"0064"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"77pt","align":"center"}}],"thead":{"row":[{"entry":"TABLE 2"},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["Application Name","Start Service Code","End Service Code"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"char","char":"."}},{"@attributes":{"colname":"3","colwidth":"77pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["electronic ticket","2","10"]},{"entry":["electronic money","21","25"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}}},{"@attributes":{"id":"p-0066","num":"0065"},"figref":"FIG. 3","b":["110","100","104","110","110","104","110","110","110"]},{"@attributes":{"id":"p-0067","num":"0066"},"figref":"FIG. 4","b":["110","100","104"]},"The application registration process starts with a request from the portable terminal  to a service provider for providing an electronic money application or the like. When the portable terminal  issues an application registration request to the corresponding service provider, the electronic money application or the like is registered in the memory  after performing mutual authentication between the portable terminal  and the service provider.","Then, a normal terminal notice and service code information are sent from the service provider to the portable terminal . Based on the service code information, the portable terminal  registers a new entry in the application management table.","The portable terminal  has no key for offline protection against unauthorized use of the amount information stored in the IC chip  or key theft. Thus, the application cannot be used offline at all (described above).","In this embodiment, on the other hand, in order to allow specific amount information stored in the IC chip  to be viewed even offline, a portion of the information in the memory  can be viewed using an application downloaded from a service provider to the portable terminal . However, security problems occur if this application also allows other information to be freely viewed. Therefore, after downloading the application, followed by mutual authentication with the IC chip, the application is enabled on the terminal, and the memory area, which the application can view, is restricted.",{"@attributes":{"id":"p-0072","num":"0071"},"figref":["FIG. 5","FIG. 6","FIGS. 5 and 6"],"b":["110","110","100","110","100","111","110"]},"First, the information storage manager downloads an application such as an offline viewer from a service provider (step S). The offline viewer is an application which allows the information stored in the memory  of the IC chip  to be viewed or displayed on a screen.","Then, the information storage manager requests the client to authenticate the downloaded application (step S).","In response, the client performs mutual authentication with the service provider based on URL information of the IC chip and the download site or the like (step S). The authentication is performed based on, for example, whether or not the service provider has the same key as the IC chip . If the authentication is not successful, the downloaded application is not enabled.","If the authentication is successful, the client enables the downloaded application and records the registered service range, which is previously designated to the service provider, in an extension region of the information storage manager to which the application is downloaded (step S). The client refers to the area information table (see Table 1) or the application registration table (see Table 2) to determine the registered service range of the downloaded application.",{"@attributes":{"id":"p-0077","num":"0076"},"figref":["FIG. 7","FIG. 8","FIGS. 7 and 8"],"b":["110","110","110","110"]},"When a user starts the application using a user interface such as the display unit  or the user input unit  of the portable terminal  (step S), the information storage manager checks the enability of the application (step S).","If the enability check is not successful, the application is not enabled, and the processing routine terminates. If the enability check is successful, the user makes visual confirmation using security PICT or the like (step S). Then, the application requests a device API (Application Programming Interface) or the like to read a designated service code to the information storage manager (step S).","In response, the device API checks the service code range in the extension region of the information storage manager and returns the result to the application (step S).","Then, the application specifies the service code range as an argument and makes the read request to the KVM (step S). The KVM reads the information of the designated service code range while maintaining high security, and passes it to the application.","The application receives the information of the service code range that it qualifies via the KVM to allow the information to be displayed on the screen of the display unit  (step S).","According to this embodiment, the downloaded application cannot be registered or enabled until authentication between the service provider and the IC card has been successfully performed, thus preventing the offline viewer from being downloaded from a spoof site.","According to this embodiment, furthermore, applications service limits are registered, thus preventing a legally downloaded offline viewer from accessing the service range of other business entities without authorization.","According to this embodiment, furthermore, execution of authorized offline viewers can be identified.","Appendix","The present invention has been described in detail with reference to specific examples. However, it is obvious that modifications or replacements may be made to the embodiment by those skilled in the art without departing from the spirit and scope of the present invention. The present invention has been disclosed in an exemplary form, and this form should not be construed as the restricted one. Reference should be made to the claims for delineation of the scope of the present invention.","According to the present invention, there can be provided a better information processing terminal and control method therefor in which a non-contact IC card or IC chip having electronic money, electronic tickets, and other amount information electronically stored therein is installed when used.","According to the present invention, furthermore, there can be provided a better information processing terminal and control method therefor in which the amount information stored in the IC card or IC chip can be viewed even in an offline environment.","According to the present invention, in order to allow amount information stored in an IC chip to be viewed even offline, the information processing terminal can be configured such that a portion of the information can be displayed by a specific application. After the information processing terminal downloads a viewer application from a service provider, followed by mutual authentication with the IC chip, the application is enabled on the terminal, and the extent viewed is registered. Since the application does not cause the amount information stored in the IC chip to be displayed without limitation, no security problem occurs."],"heading":["TECHNICAL FIELD","BACKGROUND ART","DISCLOSURE OF INVENTION","BEST MODE FOR CARRYING OUT THE INVENTION","INDUSTRIAL APPLICABILITY"],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 1","b":"110"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 2","b":["104","100"]},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 3","b":["110","100","104"]},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 4","b":["110","100","104"]},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 5","b":"110"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 6","b":["110","100","110"]},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 7","b":"110"},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 8","b":"110"}]},"DETDESC":[{},{}]}
