---
title: Method and apparatus for providing a presumptive drafting solution
abstract: A method, apparatus, and article of manufacture for providing a presumptive drafting solution. Input from a cursor control device is received, wherein the input reflects a movement in a computer drawing program of a cursor over a drawing having one or more geometric entities (having one or more geometric attributes). In one or more embodiments, a relevant geometric entity is identified based on how the cursor is moved over the drawing. A presumptive drafting solution is then provided based on the identified relevant geometric entity. In addition, prior drawing solutions (having one or more solution attributes) are obtained and compared to the one or more geometric attributes. A drawing solution having one or more solution attributes similar to the one or more geometric attributes may be provided to the user.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07401299&OS=07401299&RS=07401299
owner: Autodesk, Inc.
number: 07401299
owner_city: San Rafael
owner_country: US
publication_date: 20010905
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS"],"p":["This application is related to the following co-pending and commonly-assigned United States patent application, which application and all additional applications in the cited list herein are incorporated by reference herein:","application Ser. No. 09\/092,014, filed Jul. 9, 2001, by Brian D. Gantt, entitled \u201cDetermining and Displaying Geometric Relationships Between Objects in a Computer-Implemented Graphics System\u201d, which is a continuation of commonly-assigned U.S. application Ser. No. 09\/419,539, filed Oct. 18, 1999, by Brian D. Gantt, entitled \u201cMethod and System for Interactively Determining and Displaying Geometric Relationships Between Three Dimensional Objects Based on Predetermined Geometric Constraints and Position of an Input Device\u201d, which is a continuation of commonly-assigned U.S. application Ser. No. 08\/744,241, filed Nov. 5, 1996, by Brian D. Gantt, now U.S. Pat. No. 6,016,147, issued Jan. 18, 2000, entitled \u201cMethod and System for Interactively Determining and Displaying Geometric Relationships Between Three Dimensional Objects Based on Predetermined Geometric Constraints and Position of an Input Device\u201d, which is a continuation-in-part of U.S. Application entitled \u201cMethod And Apparatus For Interactively Manipulating and Displaying Presumptive Relationships Between Graphic Objects\u201d by the same inventor, Ser. No. 08\/436,158, filed May 8, 1995, which issued on Nov. 5, 1996 as U.S. Pat. No. 5,572,639.","1. Field of the Invention.","The present invention relates generally to computer drawing programs, and in particular, to a method, apparatus, and article of manufacture for providing suggestions for a drawing solution in a computer drawing program.","2. Description of the Related Art","The use of Computer Aided Design (CAD) and drawing programs is well known in the art. Such programs may include presumptive drafting techniques that attempt to provide a possible solution or suggestion to a user in a drawing. For example, the CAD software may suggest a specific point to a user who is trying to pick a point for geometry construction (e.g., suggest the endpoint of a line that the user's cursor has approached). In more complex forms, presumptive drafting can suggest the appropriate placement and orientation of objects such as doors in walls or faucets on pipes.","Prior art presumptive drafting systems analyze geometry and look for points (or angles or rotations, etc.) of interest. In the simplest case, the system examines only points of interest on a single object, such as the endpoints and midpoint of a line segment. Getting more complex, the system may examine various extensions off of the geometry, such as perpendicular or orthogonal projections from those various points of interest.","However, as the complexity grows, a very large number of items of interest may be generated very quickly. Consider an example with two line segments and a circle. The system may start with the basics of the line segments' endpoints and midpoints as well as the circle's center. The intersection point of where the two lines (or their extensions) meet may then be added, as well as any points where the lines (or extensions) intersect the circle. Orthogonal extensions paralleling the X, Y, and Z-axes) and perpendicular extensions (ninety (90) degrees from the line in some predefined plane) are added from these points of interest. The system may then begin to examine where those items intersect resulting in over a hundred points of interest and twenty lines of interest. There may also be several other methods of interest, such as tangent, parallel, as well as geometry that could connect the various points of interest. Further, the geometry under consideration is very rarely as simple as two line segments and a circle. Consequently, the number of potential solutions grows exponentially into an unmanageable number with the user actually interested in at most one solution.","These potential solutions may be maintained in a list. Presumptive drafting solutions may limit the number of potential solutions in the list by limiting the types of interest (endpoint, midpoint, extensions, etc.) or by only considering a subset of the geometry on the screen or by only considering solutions near the user's cursor. A geometric entity may be added to the list of items of interest that generate potential solutions merely by having a cursor control device (such as a mouse) pass over the geometric entity long enough for a background selection process to pick the passed over geometric entity. However, in such a prior art technique, no distinction is made for how the cursor control device moved over a drawing or geometric entity. Further, with additional prior art methods that limit the solutions to a manageable number of solutions, the solution the user is actually interested in may be trimmed out as well.","One or more embodiments of the invention provide presumptive drafting solutions to a user. A cursor's movement in a drawing is evaluated to determine whether a particular pattern or gesture identifies a particular geometric entity in a drawing. For example, a circle may identify a point. A mouse movement away from the point may signify an extension in the direction of the movement (e.g., perpendicular, tangential, etc.). Once a geometric entity has been identified, potential drafting solutions are provided to the user. Thus, if a point is identified, drafting solutions based on that point may be assigned higher priority. Similarly, if an extension is identified, drafting solutions containing the extension may be assigned higher priority.","Additionally, prior drafting solutions accepted by a user may be obtained and stored. Such prior drafting solutions may include other geometry in the current drawing, accepted solutions for similar work in another drawing, or a set of rules that define one or more potential drafting solutions. The prior drafting solutions are compared to the current drawing attributes (or potential drawing solutions that have been identified) to determine the most similar drawing solution. Once a similar drawing solution has been identified, the solution is provided to the user. Such a solution may be provided by assigning a higher priority to a similar solution or by limiting the available solutions to the similar solutions prior to exposing other solutions to a user.","Once a solution has been accepted by a user, the acceptance may be utilized to update the prior drafting solution in a type of auto-correction. For example, a list of sorted prior drafting solutions may be resorted such that the accepted solution is assigned a higher priority. Accordingly, the next time the prior solutions are used in a comparison, the solution previously accepted by the user may be provided to the user prior to other solutions.","In the following description, reference is made to the accompanying drawings which form a part hereof, and which is shown, by way of illustration, several embodiments of the present invention. It is understood that other embodiments may be utilized and structural changes may be made without departing from the scope of the present invention.","Overview","Presumptive drafting solutions are provided to a user. The cursor movement is evaluated to determine whether a particular pattern or gesture is identifying a particular geometric entity in a drawing. Once a geometric entity has been identified, potential drafting solutions are provided to the user. Additionally, prior drafting solutions accepted by a user may be compared to the current drawing attributes (or potential drawing solutions) to determine the most similar drawing solution. Once a similar drawing solution has been identified, the solution is provided to the user.","Hardware and Software Environment",{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 1","b":["100","102","104","106","100"]},"One or more embodiments of the invention may be implemented by a computer-implemented graphics\/drawing program , wherein the graphics program  is represented by a window displayed on the monitor . Generally, the graphics program  comprises logic and\/or data embodied in or readable from a device, media, carrier, or signal, e.g., one or more fixed and\/or removable data storage devices  connected directly or indirectly to the computer , one or more remote devices coupled to the computer  via a data communications device, etc.","Those skilled in the art will recognize that the exemplary environment illustrated in  is not intended to limit the present invention. Indeed, those skilled in the art will recognize that other alternative environments may be used without departing from the scope of the present invention.","Computer-Implemented Graphics Program",{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 2","b":["108","108","200","202","204","206"]},"The Graphical User Interface  displays information to the operator and provides the functionality for the operator's interaction with the graphics program .","The Image Engine  processes the DWG files  and delivers the resulting graphics to the monitor  for display. In the preferred embodiment, the Image Engine  provides a complete application programming interface (API) that allows other computer programs to interface to the graphics program  as needed.","Prioritization Based on Cursor Movement","In one or more embodiments of the invention, image engine  is utilized to determine and provide one or more presumptive drafting solutions that are stored in database  and presented to a user on graphical user interface . Image engine  provides a presumptive drafting solution by prioritizing potential solutions. These potential solutions are prioritized by prioritizing the geometry of a drawing that is considered for use in a solution. In turn, the geometry is prioritized by analyzing the movements of a cursor control device  for particular hints or gestures.","In one or more embodiments of the invention image, engine  analyzes the cursor control device  movements over and around the geometry of a drawing to prioritize the user's interest level in that geometry (or in part of that geometry). The prioritization may then be used to sort potential solutions or to limit which solutions are considered\/calculated (i.e., low priority geometry may not be considered in searching for solutions unless higher priority solutions have all been rejected by the user).","The following examples illustrate how a cursor's movement is evaluated to identify relevant geometry in accordance with one or more embodiments of the invention.",{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 3","b":["302","106","304","306","308","302","306","302","308","308","304","306","308"]},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 4","b":["302","106","402","404","402","404","406","408","402","302","406","308","404","302","302","306","306","308","306","308","406","408","306","308"]},"In addition to (or instead of) identifying points  and  as being of interest to the user, the two gestures (i.e., the circle and the X) may be associated with an additional meaning. For example, a circle or an X around a point may specify an interest in extensions from that point. Alternatively, a circle or X around a point may specify a user's disinterest in a point to eliminate that point from consideration. Accordingly, how a cursor  is moved determines relevant geometric entities.","The gestures indicated by paths  and  are examples of the types of gestures that may be used. Any gesture may be utilized in accordance with embodiments of the invention. Further, instead of an identifiable\/distinguishable gesture, merely allowing a cursor  to linger over each point for a certain period of time may identify one or more points on a drawing (e.g., points  and ).",{"@attributes":{"id":"p-0037","num":"0036"},"figref":["FIG. 5","FIG. 5"],"b":["302","502","504","506","502","508","308","508","508"]},"Path  lingers over endpoint  of line  and then moves away horizontally. As a result, the horizontal extension from endpoint  is assigned a higher priority than the vertical or perpendicular extensions from that point.","Path  moves along line  briefly and then away from line  a short distance before proceeding in parallel to line . As a result, the angle of line  may be assigned a high priority. This prioritization of an angle is useful when a user is seeking an alignment or angle rather than a specific point.",{"@attributes":{"id":"p-0040","num":"0039"},"figref":"FIG. 6","b":"602"},"At step , cursor input is received from a cursor control device . The cursor input reflects the movement of the cursor across a drawing. At step , one or more relevant geometric entities are identified based on how the cursor moves over the drawing. Accordingly, as described above, the path of the cursor is evaluated to determine any relevant geometry identified by the path. For example, in , lines  and  are identified by path . Similarly, in , points  and  are identified, and in , points  and  and extensions from those points ate identified.","At step , the identified geometric entities are prioritized based on the cursor movement. For example, as described above, a circle around a point (e.g., path  of ), hovering over a point, or an X on a point (e.g., path  of ) identifies a point (and\/or extensions from that point) as high priority. Similarly, hovering over, circling, or following a point or line and then moving away or paralleling the point or line at a certain angle (e.g., paths , , and  of ) may identify an extension as high priority. Accordingly, how a cursor is moved with respect to existing geometric entities of a drawing determines the priority of the existing geometric entities and\/or extensions of the existing geometric entities.","The prioritization of step  may comprise sorting the potential geometric solutions while placing the identified relevant geometric entities at the top (or bottom) of the sorted list. Alternatively, the prioritization may comprise limiting the available solutions to the higher (or lower) priority solutions until the user rejects all of the higher (or lower) priority solutions.","Once the solutions have been prioritized, the solutions may be suggested\/provided to the user at step .","Prioritization Based on Similarity","In one or more embodiments of the invention, image engine  provides a potential\/possible solution based on the similarity (determined by a comparison) between the current drawing and prior drawing solutions accepted by the user. This comparison between prior accepted solutions and the current geometry of a drawing is based on the presumption that the solution the user prefers is likely similar to a solution the user (or another user) previously accepted\/utilized.","Solutions can be similar in many ways and the more ways in which a solution is similar to a current drawing or geometry, the higher the solution may score in an overall similarity rating. Many features may be examined to determine similarity. The aspects\/features of a drawing\/geometry that are utilized in a comparison are referred to as attributes. Thus, geometric attributes of a drawing are compared to solution attributes of potential solutions to determine similarity.","Any attribute or property of a drawing\/geometric entity may be considered or used as a basis for the similarity comparison. Some of these attributes are described below. However, the number and type of attributes considered are not intended to be limited to those described below. Examples of attributes include line styles, line weights, color, or layer. For example, a dashed line may have behaved very differently from a solid line in previous solutions.","Specifics of a geometric solution may also be attributes that are considered. For example, lines may only connect at specific angles.","Additionally, offsets and alignments with other geometry may be considered. For example, rectangles on a \u201cdesks\u201d layer may always be placed three inches to the left of boxes on a \u201cwall sockets\u201d layer. Similarly, coffee tables may always parallel sofas at a given distance.","Further, extensions from the geometry may be attributes that are considered. For example, blue circles may usually be tangent to yellow lines and the perpendicular extensions from their endpoints.","In addition to the particular attributes that ate examined in the similarity comparison, which prior solutions to examine may also be a factor. Generally, the user is drawing some real world system, and things in the teal world have a certain consistency. Based on this presumption, the current geometry being drawn is likely similar and consistent with other existing geometry in the drawing. Thus, the prior solutions examined may simply be the other existing geometry in the drawing. For example, a circuit diagram may have consistencies in how the various electrical connections are made, and that shows up in how the geometry interacts with itself in a repetitive manner.","Alternatively, the prior solutions that are examined may be other geometry that the user (or another user) has drawn in the past. Such geometry may exist in the current drawing or other drawings. For example, by comparing to and utilizing such a set of solutions, a user may start a new circuit diagram and have the solutions of his prior circuit diagrams to draw on.","In addition to examining solutions from the current drawing and other prior drawings, prior solutions may be extracted and generalized into a set of solution rules for a specific type of work. Based on the solution rules and the geometry being drawn, particular solutions would be provided\/suggested to a user. Further, a set of solution rules may be particular for a specific type of drawing or geometry. For example, a set of solution rules may exist for running pipes through walls. Another set of solutions rules may exist for placing electrical elements in a house. The sets of solution rules may be managed automatically (e.g., inherit a set of rules from other drawings) by image engine  or database , may be managed explicitly by the user, or may be established across multiple users performing the same type of work.","In addition to the image engine  developing a set of solution rules based on specific user actions, a third party (e.g., a CAD vendor) may independently develop a set of behavior rules for certain objects or geometry in order to provide preferred smart objects to a user. For example, smart air ducts may be given strongly reinforced (i.e., 100% correct) prior solutions that always terminate in ceiling vents. Additionally, such third party rule development may allow independent business relationships wherein certain parts or models of third parties are suggested in certain circumstances.","When an appropriate prior solution has been examined for its similarity to the present solutions being considered, those solutions will be sorted so that the solutions most similar to the prior ones are the first solutions presented to the user. Additionally, the provided\/suggested solutions and\/or prioritization may be self-correcting in that the order of the sorted list of solutions may be updated when a prior drawing solution is accepted or rejected by a user. Thus, the user's actions (in accepting or rejecting a suggested solution) may be stored and used to self-correct the solution prioritization.","In a self-correcting embodiment, if a user does not accept the suggested solution (e.g., by merely passing on the solution or if the user requests a different solution [e.g., by some explicit action like hitting the <TAB>key]), image engine  may store and use the non-acceptance to adjust the similarities and\/or prioritization of solutions. Image engine  may also conduct a further analysis of the rejected solution and the current drawing to reprioritize solutions. For example, the current situation may be different from prior drawings (based on different circumstances or information) or prior solutions may have been abnormalities. Accordingly, the majority or higher percentage of accepted solutions may still be presented to a user instead of the abnormally accepted solution. Additionally, if a user accepts a top priority solution, image engine  knows\/learns that the similar prior solution was a good guide.","The following examples illustrate similarity comparisons to determine an appropriate solution suggestion. Suppose a user is drawing a line on a layer (a logical grouping of data that are like transparent acetate overlays on a drawing; layers can be viewed individually or in combination) referred to as \u201cleads\u201d, and has already chosen a start point and is now looking for the endpoint. Three potential solutions are under consideration: the endpoint of another line on the \u201cleads\u201d layer, the midpoint of a line on the \u201cleads\u201d layer, and the center of a circle on layer \u201csockets\u201d.","By examining prior solutions, it is determined that multiple lines exist on the \u201cleads\u201d layer. These multiple lines may be examined to determine where their endpoints were placed. For example, upon examination, it may be determined that many endpoints were placed at the endpoints of other lines on the \u201cleads\u201d layer. Further, there are no lines wherein the endpoint fell on the midpoint of another line on the \u201cleads\u201d layer. Additionally, several line endpoints on the \u201cleads\u201d layer exist on the center of circles on the \u201csockets\u201d layer. Accordingly, when basing suggestions\/solutions on a similarity with prior solutions, midpoint solutions may be eliminated or given low priority compared to endpoint or circle-center solutions.","Continuing with the above example, examination may also determine that while lines on the \u201cleads\u201d layer often go from the \u201cleads\u201d layer to other points on the \u201cleads\u201d layer and from the \u201cleads\u201d layer to the \u201csockets\u201d layer, lines never go from a point on the \u201csockets\u201d layer to another point on the \u201csockets\u201d layer. Accordingly, if the line also started at the center of a circle on the \u201csockets\u201d layer, potential solutions direct the user to endpoints on a line in the \u201cleads\u201d layer and away from points on the \u201csockets\u201d layer.",{"@attributes":{"id":"p-0060","num":"0059"},"figref":"FIG. 7","b":["702","704","202","706"]},"At step , the one or more prior drawing solutions are compared to either the list of solutions currently being considered or the geometry currently being drawn by the user. To conduct the comparison, one or more solution attributes from the one or more prior drawing solutions are compared to solution attributes of the current list of drawing solutions being considered. Alternatively, one or more solution attributes from the one or more prior drawing solutions are compared to one or more geometric attributes of the geometric entity being drawn.","Thus, the geometric attributes of the current entity being drawn (or the other geometric entities in the drawing) may be compared to geometric entities of prior drawing solutions (i.e., the other drawings on the page, solutions accepted by a user in the past, or solutions that comply with the set of rules). Similarly, if an analysis of the cursor movements as described above result in multiple possible drawing solutions, the attributes of the multiple possible drawing solutions may then be compared to attributes of prior drawing solutions actually selected by the user to determine the most relevant solution.","When a similar prior drawing solution is found, the prior drawing solution is provided to the user at step . As described above, providing the drawing solution to the user may be implemented in various ways. For example, the similar drawing solution may be given higher priority in a list of drawing solutions. Alternatively (or in addition to a sorted list), a group of similar drawing solutions (sorted or not) may be the first drawing solutions offered to the user for consideration. Such a group of similar drawing solutions may be required to be eliminated prior to offering any other prior drawing solutions.","At step , the prior drawing solution accepted by the user is obtained\/received. At step , the list of prior drawing solutions is updated\/auto-corrected to reflect the user's acceptance of a particular drawing solution.","As described, by using a similarity comparison, a user is not presented with an excessive amount of non-applicable\/non-interesting drawing solutions. Instead, a user is provided with desirable solution suggestions that are obtained without limiting the types of extrapolations that a presumptive drafting system can consider. Further, with self-correcting capability, as the body of prior solutions is built up and refined, the geometry and objects behave in a manner that the user expects (i.e., preferring certain types of connections, placements, alignments, etc.) without the user having done anything explicit to collect that knowledge.","Conclusion","This concludes the description of the preferred embodiment of the invention. The following describes some alternative embodiments for accomplishing the present invention. For example, any type of computer, such as a mainframe, minicomputer, or personal computer, or computer configuration, such as a timesharing mainframe, local area network, or standalone personal computer, could be used with the present invention. In summary, embodiments of the invention provide the prioritization of a geometric entity based on how the cursor is moved on a drawing. Additionally, prior drawing\/drafting solutions are compared to the current geometry in a drawing and potential solutions are suggested based on similarity.","One or more benefits of the invention may include that when a solution is suggested to a user, there is a greater chance that the solution will be the solution that the user desires. Such a prioritization is performed without extensive effort or actions by the user.","The foregoing description of the preferred embodiment of the invention has been presented for the purposes of illustration and description. It is not intended to be exhaustive or to limit the invention to the precise form disclosed. Many modifications and variations are possible in light of the above teaching. It is intended that the scope of the invention be limited not by this detailed description, but rather by the claims appended hereto."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Referring now to the drawings in which like reference numbers represent corresponding parts throughout:",{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 7"}]},"DETDESC":[{},{}]}
