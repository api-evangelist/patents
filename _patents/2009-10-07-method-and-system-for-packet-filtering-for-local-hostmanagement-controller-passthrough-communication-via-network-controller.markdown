---
title: Method and system for packet filtering for local host-management controller pass-through communication via network controller
abstract: A network controller in a communication device may be operable to provide pass-through communication of local host-management traffic between a local host and a management controller within the communication device, wherein the local host may be operable to utilize its network processing resources during communication of the local host-management traffic. The network controller may use packet filtering to provide the pass-through communication, wherein the network controller may utilize a plurality filtering rules during filtering of packets received in the network controller. The filtering rules may specify packet processing and/or forwarding actions by said network controller based on one or more specified conditions. The specified conditions may based on one or more match criteria; wherein the match criteria comprising source address, destination address, and/or traffic type data in the received packets. Address learning mechanisms may be used in the network controller to enable configuring and/or performing packet filtering transparently.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08645567&OS=08645567&RS=08645567
owner: Broadcom Corporation
number: 08645567
owner_city: Irvine
owner_country: US
publication_date: 20091007
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS\/INCORPORATION BY REFERENCE","FEDERALLY SPONSORED RESEARCH OR DEVELOPMENT","MICROFICHE\/COPYRIGHT REFERENCE","FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","BRIEF SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION"],"p":["This patent application makes reference to, claims priority to and claims benefit from U.S. Provisional Application Ser. No. 61\/147,949 filed on Jan. 28, 2009, and U.S. Provisional Application Ser. No. 61\/228,255 filed on Jul. 24, 2009.","Each of the above stated applications is hereby incorporated herein by reference in its entirety.","[Not Applicable].","[Not Applicable].","Certain embodiments of the invention relate to device management. More specifically, certain embodiments of the invention relate to a method and system for packet filtering for local host-management controller pass-through communication via a network controller.","Information Technology (IT) management may require performing remote management operations of remote systems to perform inventory, monitoring, control, and\/or to determine whether remote systems are up-to-date. For example, management devices and\/or consoles may perform such operations as discovering and\/or navigating management resources in a network, manipulating and\/or administrating management resources, requesting and\/or controlling subscribing and\/or unsubscribing operations, and executing and\/or specific management methods and\/or procedures. Management devices and\/or consoles may communicate with devices in a network to ensure availability of remote systems, to monitor\/control remote systems, to validate that systems may be up-to-date, and\/or to perform any security patch updates that may be necessary.","Further limitations and disadvantages of conventional and traditional approaches will become apparent to one of skill in the art, through comparison of such systems with some aspects of the present invention as set forth in the remainder of the present application with reference to the drawings.","A system and\/or method is provided for packet filtering for local host-management controller pass-through communication via a network controller, substantially as shown in and\/or described in connection with at least one of the figures, as set forth more completely in the claims.","These and other advantages, aspects and novel features of the present invention, as well as details of an illustrated embodiment thereof, will be more fully understood from the following description and drawings.","Certain embodiments of the invention may be found in a method and system for packet filtering for local host-management controller pass-through communication via a network controller. In various embodiments of the invention, a network controller in a communication device may be operable to provide pass-through routing of local host-management traffic between a local host and a management controller within the communication device. The local host may be operable to utilize its network processing resources and functions during communication of the local host-management traffic via the network controller. Communication between the network controller and the management controller may be performed based on the Network Controller Sideband Interface (NC-SI) protocol. The network controller may be operable to utilize, via a plurality of filters for example, packet filtering of packets received via the network controller during the pass-through routing to determine whether to forward any of the received packets to the local host and\/or the management controller to facilitate local host-management communication. The packet filtering may be performed on inbound packets received from external network links supported via the network controller, on outbound packets communicated via the management controller, and\/or on outbound packets communicated via the local host. The packet filtering may be based on, for example, medium access control (MAC) addressing information in received packets. The packet filters in the network controller may be configured to perform packet filtering of received packets based on filtering rules. The filtering rules may specify processing and\/or forwarding actions by the network controller based on one or more specified conditions. The specified conditions may be based on one or more match criteria, wherein the match criteria may comprise source addressing data, destination addressing data, and\/or traffic type data included in the received packets. Exemplary traffic types comprise unicast, multicast, broadcast, and\/or virtual local area network (VLAN) based traffic. A plurality of routing learning mechanisms may be utilized in the network controller to enable performing the packet filtering in the network controller, during pass-through routing, independent from, and\/or transparent to the local host and\/or the management controller. The routing learning mechanisms may comprise a MAC address learning mechanism, wherein the network controller may be operable to generate, maintain, and\/or update MAC address matching data.",{"@attributes":{"id":"p-0018","num":"0017"},"figref":["FIG. 1","FIG. 1"],"b":["102","104","106","108","110","112","114","116","118"]},"The management device  may comprise suitable logic, circuitry, code, and\/or interfaces that may enable management of network devices, for example the network device , via a management connection, for example the management connection . For example, the management device  may be utilized by Information Technology (IT) operators and\/or system administrators to enable management of a plurality of devices in an IT network. The management device  may comprise the processor , the memory , and\/or the remote management agent , to enable performing management operations. Exemplary management operations may comprise discovering and\/or navigating management resources in a network, manipulating and\/or administrating management resources, requesting and\/or controlling subscribing and\/or unsubscribing operations, and executing and\/or specific management methods and\/or procedures. The management device  may perform management operations, via the remote management agent  for example, wherein the management device  may utilize a network interface to communicate with devices in a network via the management connection .","The remote management agent  may comprise a dedicated entity that is operable to enable performing management operations in the management device . The remote management agent  may comprise suitable logic, circuitry, code, and\/or interfaces that may enable performing management operations based on one or more management standards. For example, the remote management agent  may enable performing control and\/or management operations, based on Web Service Management (WS-Management) and\/or Alert Standard Format\/Intelligent Platform Management Initiative (ASF\/IPMI) protocols. The remote management agent  may comprise a logical and\/or software entity that may be integrated within an OS running in the management device ; a logical and\/or software entity that may be integrated within a network controller (NIC) which may be running in the management device ; and\/or a logical and\/or software entity that may be integrated within a dedicated management sub-system within the management device .","The processor  may comprise suitable logic, circuitry, code, and\/or interfaces that may enable performing control and\/or processing operations in the management device . The invention may not be limited to a specific processor, but may comprise for example, a general purpose processor, a specialized processor or any combination of suitable hardware, firmware, software and\/or code, which may be enabled to support and\/or control operations of the management device . The memory  may comprise suitable logic, circuitry, code, and\/or interfaces that may enable permanent and\/or non-permanent storage and fetch of data and\/or code used by the processor , for example, during management related processing operations. In this regard, the memory  may comprise different memory technologies, or combinations thereof, including, for example, read-only memory (ROM), random access memory (RAM), and\/or Flash memory.","The network device  may comprise suitable logic, circuitry, code, and\/or interfaces that may enable performing management operations that may be initiated and\/or requested by one or more management devices, for example the management device , via a management connection, for example the management connection . The network device  may be integrated into a network that may be managed by one or more instances of the management device . For example, the network device  may comprise a personal computer (PC), or a server, which may be operated in a network managed by the management device . The network device  may comprise the processor , the memory , and\/or the management service  to enable participating in management operation, in a network that may be managed via the management device .","The management service  may comprise a dedicated entity that is operable to enable performing and\/or supporting management operations in the network device . The management service  may comprise logic, circuitry, and\/or code that may enable performing management operation based on one or more management standards. For example, the management service  may enable participating in control and\/or management operations, based on WS-Management and\/or ASF\/IPMI protocols. The management service  may comprise a logical and\/or software entity that may be integrated within an OS running in the network device ; a logical and\/or software entity that may be integrated within a network controller (NIC) which may be running in the network device ; and\/or a logical and\/or software entity that may be integrated within a dedicated management sub-system within the network device .","The processor  may comprise suitable logic, circuitry, code, and\/or interfaces that may enable performing control and\/or processing operations in the network device . The invention may not be limited to a specific processor, but may comprise for example, a general purpose processor, a specialized processor or any combination of suitable hardware, firmware, software and\/or code, which may be enabled to support management based operations in accordance with the various embodiments of the invention. The memory  may comprise suitable logic, circuitry, code, and\/or interfaces that may enable permanent and\/or non-permanent storage and fetch of data and\/or code used by the processor , for example, during management related processing operations. In this regard, the memory  may comprise different combinations of memory technologies, including, for example, read-only memory (ROM), random access memory (RAM), and\/or Flash memory.","The management connection  may comprise networking interfaces and\/or link that may enable communicating management based traffic between management devices, for example the management device , and network devices such as the network device . For example, the management connection  may comprise Ethernet (IEEE 802.3) based networking connections, which may be operable to communicate management and\/or non-management traffic packets, to and\/or from the network device , to facilitate exchange of management messaging and\/or data between the management device  and the network device .","In operation, management operations may be performed in the management device , wherein network packets may be communicated between the management device  and the network device  via the management connection , wherein the network packets may comprise management messaging and\/or data based on one or more standards-based management protocols. For example, the remote management agent  and\/or the management service  may enable utilizing WS-Management and\/or ASF\/IPMI messaging, via the management connection , to enable management operations between the management device  and the network device .","The ASF\/IPMI protocol is a first generation management standard that may be utilized to perform out-of-band management operations, where network devices may be managed remotely by system administrators. The ASF\/IPMI protocol based management may comprise use of User Datagram Protocol (UDP) based stack to enable communication between management devices and network devices. Devices comprising ASF\/IPMI functionality and\/or interfaces may be ASF\/IPMI capable, wherein said devices may perform management operations via ASF\/IPMI messages. For example, in instances where the network device  may be ASF\/IPMI capable, the management device  may utilize ASF\/IPMI based messaging to perform management of the network device .","More recently, the WS-Management protocol has been developed as the next generation management protocol. WS-Management is based on Web Services, which typically utilize SOAP (XML based messaging) and\/or HTTP(S) as a SOAP transport for communications. SOAP over HTTP(S) may require use of HTTP\/TLS\/TCP stack implementation, which may ensure improved security, reliability, and OS-independence. Within the WS-Management protocol, the Common Information Model (CIM) has been defined to provide object oriented representation of management data and\/or managed subsystem which may be utilized during WS-Management operations. Managed devices may also comprise Intelligent Platform Management Interface (IPMI) and\/or ASF\/IPMI internal interfaces\/protocols to support out-of-band management operations that may be performed via WS-Management messages. For example, the network device  may comprise a WS-Management stack to support receiving and\/or sending WS-Management based messaging to enable supporting remote management operations in the network device , by the management device  for example.","The WS-Management stack may enable generating and\/or processing WS-Management based data and\/or messaging that may be utilized to request and\/or perform management services based on, for example, CIM binding. The WS-Management stack may enable implementing and\/or using WS-Management services standards. The network device  may also comprise an IPMI stack to facilitate internal communications between components of the network device , during management operations for example. Consequently, TCP\/IP based communications, via the management connection , may be utilized during WS-Management operations between the management device  and the network device . The management device  and\/or the network device  may utilize network cards (NIC) to enable sending and\/or receiving network traffic via the management connection . Network controllers that may be utilized in the management device  and\/or the network device  may process network traffic that may comprise WS-Management based messaging, which may be transmitted and\/or received via TCP\/IP packets.","In an exemplary aspect of the invention, the network device  may be configured to enable performing management operations locally, by interacting directly, for example, with the network device , utilizing similar mechanisms as the ones used during remote management operations. For example, rather than accessing the network device  remotely, via the management device , system administrators may perform management operations directly in the network device . In an embodiment of the invention, similar functionality and\/or interfaces that may be used to communicate during management operations performed via the management device  may also be used directly via the network device . For example, a web browser based function may be supported, via the network device , to enable performing and\/or triggering WS-Management based operations directly within the network device . Consequently, the network device  may be operable to support local management messaging that is communicated from\/to the network device  in similar fashion as remote management messaging that is communicated via network traffic.",{"@attributes":{"id":"p-0031","num":"0030"},"figref":["FIG. 2A","FIG. 2A"],"b":["200","202","204","206","208","210","212","214"]},"The system  may comprise the network controller , the management controller , the local host , and may also comprise suitable logic, circuitry, code, and\/or interfaces that may enable reception, transmission, and\/or processing of network traffic; and\/or participating in management operations based on one or more management standards. For example, the system  may be integrated in, and\/or may correspond to various components in the network device , and may enable the network device  to participate in WS-Management and\/or ASF\/IPMI management operations, substantially as described in .","The network controller  may comprise suitable logic, circuitry, code, and\/or interfaces which may enable processing of the network traffic . The network traffic  may comprise received and\/or transmitted network packets communicated via a network connection, for example an Ethernet (IEEE 802.3) connection. The network traffic  may comprise packets that are sent to and\/or from the local host , which may be communicated between the network controller  and the local host  via the host traffic . The host traffic  may be communicated via one or more connections based on one or more interfaces. For example, the host traffic  may be communicated via a Peripheral Component Interconnect Express (PCI-E) bus.","The network controller  may also be operable to communicate with the management controller  to enable exchange of management based messaging and\/or data, via the management traffic , which may be communicated between the management controller  and external devices, for example. In that regard, the management traffic  may comprise data and\/or messages that may be transmitted and\/or received in the system  during management operations. For example, the management traffic  may comprise WS-Management based messaging communicated by the system  to enable performing of WS-Management services. The management traffic  may be communicated, for example, via Network Controller Sideband Interface (NC-SI) based connections.","The management controller  may comprise suitable logic, circuitry, code, and\/or interfaces that may enable managing and\/or controlling management based operations. The management controller  may be operable to process management messaging and\/or data, received and\/or transmitted via the network controller  for example, which may be based on a specific management standard including the WS-Management standard for example. In that regard, the management controller  may be operable to determine and\/or perform management operations based on the WS-Management stack. The management controller  may also be operable to interact with other components in the system  to communicate, manage, control, and\/or process management messaging and\/or data. For example, the management controller  may be enabled to communicate with the local host  to enable performing management operations that are requested and\/or controlled locally and\/or directly via the system . The management controller  may communicate directly with the local host  via a Low Pin Count (LPC) bus, for example.","In operation, the network controller  may enable processing network traffic . In the downlink direction, the network controller  may be operable to process network packets to separate and\/or route inbound host-based and management-based messaging. In the uplink direction, the network controller  may be operable to receive messages which originate from the local host  and\/or the management controller . The network controller  may then generate network packets that may be communicated external to the system , by the network traffic . The management controller  may be utilized, in the system , to handle the processing management messages and\/or data received from external devices and\/or systems, and\/or to perform, manage, and\/or control management operations, based on the WS-Management standard for example.","In an exemplary aspect of the invention, the management controller  may be operable to perform, manage, and\/or control management operations that may be initiated and\/or requested directly and\/or locally in the system . Local interactions with the system  may be facilitated via, for example, a web browser-based interface, which may be supported via the local host . The local host  may communicate the management commands and\/or requests to the management controller , and\/or receive management related data and\/or responses, via the host-management link . Presently, network devices do not support intelligent filtering capabilities to enable local host to local management controller communications using standard networking stack via standard network interfaces. Without such filtering capabilities described in this invention, local hosts and local management controllers may not be able to communicate using unmodified networking stacks and network interfaces. In this regard, network controllers that lack intelligent filtering capabilities will not be able to route network traffic, within network devices, between local hosts and local management controllers. Direct interfacing between the management controller  and the local host , via the host-management link , may be register based and\/or bus based, and may require dedicated communication transport stacks that may be unique to the interfaces used. Communication via the host-management link  may utilize, for example, Keyboard Controller Style (KCS) based interfaces to facilitated communication via a LPC bus. Use of dedicated and\/or direct host-management interfacing, however, may not be desirable because it may require additional and\/or dedicated support via the local host  and\/or the management controller . The local host  may also need to have knowledge about the management controller  and\/or the local host , and\/or their available interfacing capabilities, to facilitate such direct interfacing. This may also lead to requiring use of separate communication stacks, via the local host  and\/or management controller , based on whether management communication, via the local host , is local or remote. In addition, use of a dedicated host-management link (e.g., via LPC bus) may degrade performance due to limitations in data transfer rates. In addition, delays may also be caused by necessary interface-specific processing on both ends. For example, in cases where a WS-Management stack is utilized, in the local host , to perform management operations requested remotely, a different stack, an IPMI based stack for example, may be utilized to enable use of an LPC based interface to communicate with the management controller . Therefore, different application programming interface (API) and\/or access protocol may be used and\/or needed during direct host-management controller interaction via the host-management link .","In various embodiments of the invention, the network controller  may be operable to provide pass-through routing support, wherein the local host-management controller traffic may be communicated via the network controller  to make use of, for example, already existing interfaces between the network controller , and the local host  and the management controller , respectively. For example, a local host-management routing functionality may be provided via the network controller , which may enable communication of management messages and\/or data between the local host  and the management controller  using existing network processing function in the local host , such that the management messages and\/or data may be communicated as network messages. The network controller  may be operable to provide pass-through communication support to facilitate local host-management traffic routing, wherein the network controller  may provide and\/or support, for example, control and\/or configuration logic, packet filtering capabilities, and\/or communication interfaces to enable such communication between the local host  and the management controller .","In an exemplary aspect of the invention, the network controller  may be operable to utilize packet filtering to provide pass-through routing between the local host  and the management controller , to facilitate, for example, use of the local host to run local management operation in the system  by using management functionality available via the management controller . The network controller  may be operable, for example, to forward traffic received from the local host , which may comprise management related messages and\/or data, external to the system  and\/or to the management controller . Similarly, the network controller  may also be operable to forward traffic received from the management controller , which may comprise management related messages and\/or data, external to the system , to facilitate out-of-band management operations for example, and\/or to the local host , during local management operations. The packet filtering operations performed in the network controller  may be based on, for example, addressing information included in the packets received from the local host  and\/or the management controller . For example, the network controller  may be operable to use medium access control (MAC) addresses, which may be unique to the local host  and\/or the management controller , to determine whether and\/or how to forward packets between the local host  and the management controller . The local host  and\/or the management controller  may be operable to communicate with, and\/or configure the network controller  to enable initializing, controlling, and\/or managing the packet filtering operations in the network controller . The network controller  may also be operable to utilize learning mechanism to facilitate intelligent filtering, wherein the network controller  may be operable to generate, update, and\/or maintain packet forwarding parameters based on, for example, monitoring of addressing information and\/or forwarding operations prior to initiating local host-management communication in the system .",{"@attributes":{"id":"p-0040","num":"0039"},"figref":["FIG. 2B","FIG. 2B"],"b":["202","204","230","232","234","236","238","240","242","244","250","252","258"]},"The network-side PHY\/MAC processing module  may comprise suitable logic, circuitry, code, and\/or interfaces that may enable performing PHY and MAC processing operations within the network controller  during external transmission and\/or reception of data. The network-side PHY\/MAC processing module  may be operable to enable physical transmission and\/or reception of bit streams, which may correspond to transmitted and\/or received network packets, via physical links that may be based on one or more network connectivity standards, including Ethernet (IEEE 802.3) physical layer interface for example. The network-side PHY\/MAC processing module  may also be operable to perform MAC addressing and\/or channel access management operations, which may be based on one or more specific network connectivity standards. For example, in instances where the network traffic  may be transmitted and\/or received via Ethernet (IEEE 802.3) connections, the network-side PHY\/MAC processing module  may enabled performing MAC operations based on the Carrier Sense Multiple Access With Collision Detection (CSMA\/CD) protocol.","The sideband physical interface module  may comprise suitable logic, circuitry, code, and\/or interfaces that may be operable to provide physical transfer of data between network controller  and the management controller  based on one or more supported sideband interfaces. The physical connectivity and\/or data transport operations of the sideband physical interface module  may be based on, for example, the Reduced Media Independent Interface (RMII) protocol. The data transferred via the sideband physical interface module  may comprise, for example, Ethernet frames that may comprise PHY\/MAC addressing information. Communication between the network controller  and the management controller  may be performed based on the network controller sideband interface (NC-SI), which is a DMTF based sideband interfacing protocol that defines interfacing between a management controllers and network controllers during transmission and\/or reception of management traffic by the management controllers via the network controllers, during out-of-band management operations for example. In this regard, the network-side sideband interface command support module  and\/or the management-side sideband interface command support module  may be operable to, for example, support NC-SI based communication between the network controller  and the management controller . The network-side sideband interface command support module  and the management-side sideband interface command support module  may similarly be operable to provide command support if other sideband interface protocols are used.","The host interface  may comprise suitable logic, circuitry, code, and\/or interfaces that may enable data communication between the network controller  and the local host . The host interface  may support physical transfer of data between the network controller  and the local host  utilizing an inter-system bus. For example, the host interface  may utilize a Peripheral Component Interconnect Express (PCI-e) bus to communicate host traffic to and\/or from the network controller .","The network controller  may utilize packet filtering to provide pass-through routing support for local host-management communication between the local host  and the management controller . The filtering operations may be performed, for example, via the filtering management module , the outbound host packet filtering module , the inbound network packet filtering module , and\/or the outbound management packet filtering module . The filtering management module  may comprise suitable logic, circuitry, code, and\/or interfaces that may enable managing filtering operations within the network controller .","The filtering management module  may be operable to, for example, configure, control, and\/or manage operations of the outbound host packet filtering module , the inbound network packet filtering module , and\/or the outbound management packet filtering module . The outbound host packet filtering module  may comprise suitable logic, circuitry, code, and\/or interfaces that may enable filtering packets received in the network controller  and originating from the local host , via the host interface  for example. The outbound host packet filtering module  may be operable to determine whether to route these packets internally to the management controller  and\/or external to the system . The inbound network packet filtering module  may comprise suitable logic, circuitry, code, and\/or interfaces that may enable filtering of external network packets received in the network controller . The inbound network packet filtering module  may be operable to determine whether to drop and\/or forward the received packets, determining, for example, whether to route these packets to the local host  and\/or to the management controller . The outbound management packet filtering module  may comprise suitable logic, circuitry, code, and\/or interfaces that may enable filtering packets received in the network controller  and originating from the management controller , via the sideband physical interface module  for example. The outbound management packet filtering module  may be operable to determine whether to route the packets internally to the local host  and\/or external to the system .","The management-side PHY\/MAC processing module  may comprise suitable logic, circuitry, code, and\/or interfaces that may enable performing PHY and MAC processing during communication of data between the management controller  and the network controller . The management-side PHY\/MAC processing module  may be operable to enable performing physical transfer of data comprising PHY\/MAC based addressing. The external networking interface of the managment controller  may comprise suitable logic, circuitry, code, and\/or interfaces that may enable processing of packets that are communicated between the management controller  and one or more external entities and\/or devices via the network controller .","The management stack processing module  may comprise suitable logic, circuitry, code, and\/or interfaces that may enable processing messaging and\/or data based on one or more management standards, during management operations for example. The management stack processing module  may be operable to support WS-Management based messaging and\/or data. The host interface of the management controller  may comprise suitable logic, circuitry, code, and\/or interfaces that may enable processing of packets that are communicated between the management controller  and the local host  via the network controller . The host interface may comprise, for example, a server function that may enable providing addressing information may enable simulating a network-like path to enable the local host  to communicate with the management controller  via the network controller .","In operation, the network controller  may enable external communication for the local host  and\/or the management controller . The network controller  may be operable to transmit and\/or receive Ethernet packets that may comprise data and\/or messages originating from and\/or destined for the local host  and\/or the management controller , which may be communicated by external entities and\/or devices. The network-side PHY\/MAC processing module  may be operable, for example, to perform physical layer and\/or MAC operations. Received external network packets may be filtered via the inbound network packet filtering module  in order to determine whether these packets are destined for the local host  or to the management controller . The filtering may be performed based on the MAC\/IP addressing information corresponding to the local host  and\/or management controller . Based on this determination, the packets may be routed accordingly.","Data communicated between the local host  and one or more external devices may be transferred between the local host  and the network controller  via the external networking port in the host interface . During out-of-band management operations, network packets comprising management data and\/or messaging may be communicated by the remote management agent , via the management connection , to the system  where the network controller  may be operable to receive and\/or transmit the network packets. External networking packets may be communicated between the management controller  and the network controller  using, for example, NC-SI interface. The sideband physical interface module  and\/or the management-side PHY\/MAC processing module  may provide physical transfer of data between the network controller  and the management controller .","The network controller  may be operable to provide pass-through routing operations to enable and\/or support local host-management communication between the local host  and the management controller , using, for example, existing interfaces between the network controller  and the local host , and\/or between the network controller  and the management controller . The local host-management communication between the local host  and the management controller , via the network controller , may simulate, for example, network traffic to enable use of networking functionality and\/or networking support in the local host  and\/or management controller . Accordingly, the local host  may be operable to transmit and\/or receive, via the host interface  in the network controller , packets comprising local management messages and\/or data during local management operations in the system . Similarly, the management controller  may transmit and\/or receive, via the sideband physical interface module  in the network controller  and\/or based on, for example, the NC-SI interface between the management controller  and the network controller , packets comprising local management messages and\/or data.","In an exemplary embodiment of the invention, the communication of local management packets via the network controller  may be performed by the local host  and\/or the management controller  using the same functions otherwise used in the local host  and\/or the management controller  to perform external networking communication via the network controller . The network controller  may be operable to utilize packet filtering, for example, to determine how and\/or when to forward packets locally within the system  rather than communicating these packets external to the system . The network controller  may utilize, for example, the filtering management module , the outbound host packet filtering module , the inbound network packet filtering module , and\/or the outbound management packet filtering module  to enable filtering packets received via the network controller , locally and\/or externally, during pass-through routing support in the system . The packet filtering operations may be performed, for example, based on a determination that one or more matching conditions were met.","A plurality of filtering rules may be specified for the outbound host packet filtering module , the inbound network packet filtering module , and\/or the outbound management packet filtering module  to enable determining if a received packet is successfully matched, and\/or to specify appropriate actions when a match is made. The filtering rules may be utilized, via the filtering management module  for example, to configure the outbound host packet filtering module , the inbound network packet filtering module , and\/or the outbound management packet filtering module  to enable use of packet filtering to provide pass-through routing of local host-management traffic via the network controller . The filtering rules may comprise one or more match conditions, which may be based on, for example, source, destination, and\/or traffic type information; and\/or corresponding packet forwarding actions that may be taken when possible matches are determine during filtering of packets received via the network controller .","The inbound network packet filtering module  may be configured, for example, to forward received network packets from external entities via the network traffic , to the local host  and\/or to the management controller . The forwarding operations of the inbound network packet filtering module  may be performed, for example, based on destination MAC address data in the received packets and\/or based on determination of the type of traffic. Exemplary types of traffic may comprise unicast traffic, multicast traffic, broadcast traffic, and virtual local area network (VLAN) based traffic. With unicast traffic, for example, packets with destination MAC address matching that of the local host  may be forwarded to the local host , and packets with destination MAC address matching that of the management controller  may be forwarded to the management controller . In instances where no matches are found, the packets may be dropped, or, alternatively, may be forwarded to local host  and\/or the management controller , where they may be further processed to determine whether to accept or drop them. With broadcast traffic and\/or multicast traffic, which may be determined based on a match between the destination MAC address in the received packets and one or more predetermined and\/or reserved values, the inbound network packet filtering module  may be configured to forward the packets to the local host  and\/or the management controller . Further matching criteria may also be utilized when configuring the inbound network packet filtering module  for processing multicast and\/or broadcast traffic packets.","The additional matching criteria may require examining one or more header and\/or payload fields in the received packets. For example, where the received packets may comprise Ethernet frames, forwarding operations may depend on determination of the value of the EtherType, which may be utilized to determine a communication protocol associated with the received packets. With VLAN traffic, similar criteria as used with unicast, multicast, and\/or broadcast traffic may be utilized, in conjunction with additional criteria that may be specific to VLAN tagging data in the received packets, during forwarding operations. Configuring the inbound network packet filtering module  may be performed, for example, via the filtering management module  in the network controller . In addition, the configuration may be performed based on input, commands, and\/or requests sent by the local host  and\/or the management controller . For example, the local host  may specify, through communication via the host interface , that the inbound network packet filtering module  be configured to forward received inbound network unicast traffic packets with the destination MAC field that matches specified MAC addressed, all broadcast packets, and all multicast packets to the local host . The local host  may also specify that all VLAN untagged and VLAN tagged packets are forwarded to the local host , in conjunction with default and\/or specified settings for unicast, multicast, and broadcast traffic. The management controller  may utilize, for example, available and\/or applicable NC-SI based commands to specify filtering rules that are applicable to packets that are forwarded to the management controller via the inbound network packet filtering module .","The outbound host packet filtering module  may similarly be configured, using dedicated set of filtering rules, via the filtering management module , and\/or based on input and commands from the local host  and\/or the management controller , to enable routing packets communicated by local host . The received outbound host packets may be forwarded external to the system , via the network traffic , and\/or to the management controller . For example, with unicast traffic packets sent by the local host , the outbound host packet filtering module  may be configured to match the destination MAC address in the received packet with the MAC addressing information corresponding to the management controller . In instances where a match is found, the received packets may be forwarded to the management controller ; otherwise, the packets may be forwarded external to the system .","The configuring of the filtering and\/or forwarding operations of the outbound host packet filtering module  may be achieved by specifying, for example, that the filtering rules applicable to inbound multicast and broadcast network traffic are utilized to determine whether the outbound host traffic is forwarded to the management controller . In other words, the same set of multicast and broadcast filtering rules may be applied and\/or utilized for both inbound network packets and outbound host traffic with regard to packet forwarding to the management controller .","The outbound management packet filtering module  may also be similarly configured, using yet another dedicated set of filtering rules, via the filtering management module , and\/or based on input and commends from the local host  and\/or the management controller , to enable routing packets communicated by management controller . The received outbound management packets may be forwarded external to the system , via the network traffic , and\/or to the local host . For example, with unicast traffic packets sent by the management controller , the outbound management packet filtering module  may be configured to match the destination MAC address in the received packet with the MAC addressing information corresponding to the local host ; and to determine, accordingly, whether the received packets may be forwarded to the local host  and\/or external to the system . The configuring of the filtering and\/or forwarding operations of the outbound management packet filtering module  may further be simplified by specifying, for example, any unmatched outbound unicast management packets, and\/or all outbound multicast and\/or broadcast packets are forwarded to both the local host  and external to the system  via the network traffic .","The network controller  may be operable to perform pass-through routing transparently to enhance routing of local host-management traffic between the local host  and the management controller . The pass-through routing may be transparent in that it may require no and\/or limited participation by the local host  and\/or the management controller  during configuration, and\/or use of packet filtering operations in the network controller . For example, various MAC address learning mechanisms may be utilized independently in the network controller , via the filtering management module  for example, to enable generating, maintaining, and\/or updating local routing information based on MAC addressing data. The network controller  may monitor, for example, destination MAC addresses in received inbound packets, which may be filtered via the inbound network packet filtering module , and correlate these destination MAC addresses with, for example, the local host  and\/or the management controller . Subsequently, during filtering of outbound host and\/or management traffic, for example, the stored MAC addresses may be utilized to determine whether to route received packet locally within the system .","In instances where the management controller  and\/or the local host  may utilize, for example, different and\/or unique MAC addresses and\/or TCP ports to send and\/or receive external and\/or internal traffic packets, the network controller  may utilize a source MAC address learning mechanism. During source MAC learning operations, the source MAC addresses and\/or ports of inbound network traffic packets and\/or outbound host traffic packets, which may be forwarded to the management controller  via the inbound network packet filtering module  and\/or the outbound host packet filtering module  in the network controller , may be tracked and\/or monitored. This information may then be stored via the filtering management module , and may subsequently be utilized to match destination MAC addresses and\/or port used during filtering of outbound management traffic via the outbound management packet filtering module . Furthermore, the network controller  may monitor, via the outbound management packet filtering module , the source MAC addresses and\/or ports of packets communicated by the management controller  via the network controller , and may store, via the filtering management module  for example, this information.","The filtering management module  may then generate and\/or update routing traffic during local host-management communication based on stored source MAC addressing and\/or port information for packets forwarded to, and\/or sent from the management controller . For example, the destination MAC address and\/or port information in the outbound management packets may be matched against previously stored source MAC address and\/or port information of inbound management packets to determine whether to forward the received outbound management packets to the local host  and\/or external to the system . Forwarding outbound management packets may also be performed based on matching of the source MAC address and\/or port with previously monitored destination MAC address and\/or port information in inbound management packets. In instances where no match may be found, the outbound management packets may be forwarded to both the local host  and external to the system , by default, since the local host  may be operable to, based on standard network processing operations, simply drop any packet received that are not actually destined for it.",{"@attributes":{"id":"p-0061","num":"0060"},"figref":["FIG. 3A","FIG. 3A"],"b":"300"},"In step , inbound packet filtering may be setup in a network controller. For example, the inbound network packet filtering module  may be setup and\/or configured in the network controller  to enable filtering network packets received in the system , via the network traffic . Configuring of the inbound network packet filtering module  may be performed, for example, via the filtering management module , and may be done based on preexisting and\/or predetermined filtering rules and\/or based input and\/or commands received from the local host  and\/or the management controller , substantially as described with regard to, for example, . The filtering rules used in configuring the inbound network packet filtering module  may comprise one or more match criteria and\/or processing actions.","In step , filtering of network packets received from external links in the network controller  may be performed. For example, network packets received in the network controller , via the network traffic , may be filtered via the inbound network packet filtering module . During packet filtering, matching criteria, specified via filtering rules for the inbound network packet filtering module  for example, may be utilized to determine appropriate processing of the received network packets. Exemplary packet processing actions may comprise dropping the received network packets or forwarding them to the local host  and\/or the management controller . In step , a determination of forwarding destination of the received network packets may be performed in the network controller .","The matching criteria, which may comprise one or more match conditions based on source, destination, and\/or traffic type information in received network packets, may be utilized to determine whether and\/or how the received network packets may be forwarded. The packet forwarding may be based on determination of, for example, the destination MAC address information in the received packet. In instances where it may be determined that the received network packets received are destined for the local host , the exemplary steps may proceed to step . In step , the received network packets may be forwarded to the local host , via the host interface  for example.","Returning to step , in instances where it may be determined that the received network packets are destined for the management controller , the exemplary steps may proceed to step . In step , the received network packets may be forwarded to the management controller , based on, for example, the NC-SI interface, via the sideband physical interface module  and the management-side PHY\/MAC processing module . In certain instances, received network packets may be forwarded both to the local host  and the management controller  at the same time, substantially as described with regard to, for example, .",{"@attributes":{"id":"p-0066","num":"0065"},"figref":["FIG. 3B","FIG. 3B"],"b":"330"},"In step , outbound packet filtering may be setup in a network controller. For example, the outbound host packet filtering module  and\/or the outbound management packet filtering module  may be setup and\/or configured in the network controller  to enable filtering packets received in the network controller  from the local host  and\/or the management controller , respectively. Configuring the outbound host packet filtering module  and\/or the outbound management packet filtering module  may be performed, for example, via the filtering management module , and may be done based on preexisting and\/or predetermined filtering rules and\/or based input and\/or commands received from the local host  and\/or the management controller , substantially as described with regard to, for example, . The filtering rules used in configuring the outbound host packet filtering module  and\/or the outbound management packet filtering module  may comprise one or more match criteria and\/or processing actions.","In step , filtering of packets received internally in the network controller  may be performed. For example, packets received in the network controller  from the local host  and\/or the management controller  may be filtered via the outbound host packet filtering module  and\/or the outbound management packet filtering module . During filtering operations, matching criteria, specified, for example, via filtering rules for the outbound host packet filtering module  and\/or the outbound management packet filtering module  may be utilized to determine appropriate processing of the received packets, which may comprise dropping the received packets or forwarding them to the local host  and\/or the management controller . The filtering rules may enable use of the network controller  to provide, via packet filtering, pass-through routing of packets between the local host  and the management controller  to enable local host-management communication, substantially as described with regard to, for example, .","In step , a determination of forwarding destination of the received packets may be performed in the network controller . The determination of packet forwarding destination may be based on matching based on one or more match parameters, including source, destination, and\/or traffic type information in the received packets. In instances where it may be determined that the received packets received are to forwarded externally, the exemplary steps may proceed to step . In step , the received packets may be processed via the network-side PHY\/MAC processing module  for transmission as network packets via the network traffic .","Returning to step , in instances where it may be determined that the received packets are to be forwarded locally, within the system , the exemplary steps may proceed to step . In step , local forwarding of the received packets may be performed. For example, received packets destined for the local host  may be forwarded to the local host  via the host interface . Similarly, received packets destined for the management controller  may be forwarded to the management controller , based on, for example, the NC-SI interface, via the sideband physical interface module  and the management-side PHY\/MAC processing module . In certain instances, received packets may be forwarded both locally, to the local host  and\/or the management controller , and externally, via the network traffic , at the same time, substantially as described with regard to, for example, .",{"@attributes":{"id":"p-0071","num":"0070"},"figref":["FIG. 3C","FIG. 3C"],"b":"360"},"In step , packets received in the network controller  may be processed. The network controller  may be operable to process packets received via the network traffic , from the local host , and\/or the management controller ; via the inbound network packet filtering module , the outbound host packet filtering module , and\/or the outbound management packet filtering module , respectively, for example. In step , the network controller  may be operable to determine addressing and\/or routing related information in the received packets. For example, the network controller  may be operable to determine and\/or track source MAC addressing and\/or port information in received packets via the outbound host packet filtering module , the inbound network packet filtering module , and\/or the outbound management packet filtering module . In step , the tracked addressing and\/or routing related information maybe utilized to generate and\/or update MAC learning based routing information in the network controller . For example, tracked and\/or monitored source MAC addresses may be utilized to generate and\/or update, via the filtering management module  for example, routing information. The routing information may be based on source MAC learning mechanisms used in the network controller ; substantially as described with regard to, for example, .","Various embodiments of the invention may comprise a method and system for packet filtering for local host-management controller pass-through communication via network controller. The network controller  in a system  may be operable to provide pass-through routing of local host-management traffic between the local host  and the management controller  within the system . The local host  may be operable to utilize its network processing resources and\/or functions during communication of the local host-management traffic via the network controller . Communication between the network controller  and the management controller  may be performed, for example, based on the Network Controller Sideband Interface (NC-SI) protocol. The network controller  may be operable to utilize packets filtering of packets received via the network controller  during the pass-through routing to determine whether to forward any of the received packets to the local host  and\/or the management controller  to facilitate local host-management communication. For example, the filtering management module , an outbound host packet filtering module , an inbound network packet filtering module , an outbound management packet filtering module  may be utilized to perform packet filtering operations in network controller . The packet filtering may be performed on inbound packets, via the inbound network packet filtering module , which may be received from external network links supported via the network controller ; on outbound packets communicated via the management controller , via the outbound management packet filtering module ; and\/or on outbound packets communicated via the local host, via the outbound host packet filtering module . Packet filtering in the network controller  may be configured and\/or managed via the filtering management module , wherein configuration of filtering operations may be performed based on filtering rules. The filtering rules may specify processing and\/or forwarding actions by the network controller  based on one or more specified conditions. The specified conditions may be based on one or more match criteria, wherein the match criteria may comprise source addressing data, destination addressing data, and\/or traffic type data included in the received packets. Exemplary traffic types comprise unicast, multicast, broadcast, and\/or virtual local area network (VLAN) based traffic. A plurality of routing learning mechanisms may be utilized in the network controller , via the filtering management module  for example, to enable performing the packet filtering in the network controller , during pass-through routing, independent from, and\/or transparent to the local host  and\/or the management controller . The routing learning mechanisms may comprise MAC address learning mechanisms, wherein the network controller  may be operable to generate, maintain, and\/or update MAC address matching data.","Another embodiment of the invention may provide a machine and\/or computer readable storage and\/or medium, having stored thereon, a machine code and\/or a computer program having at least one code section executable by a machine and\/or a computer, thereby causing the machine and\/or computer to perform the steps as described herein for packet filtering for local host-management controller pass-through communication via network controller.","Accordingly, the present invention may be realized in hardware, software, or a combination of hardware and software. The present invention may be realized in a centralized fashion in at least one computer system, or in a distributed fashion where different elements are spread across several interconnected computer systems. Any kind of computer system or other apparatus adapted for carrying out the methods described herein is suited. A typical combination of hardware and software may be a general-purpose computer system with a computer program that, when being loaded and executed, controls the computer system such that it carries out the methods described herein.","The present invention may also be embedded in a computer program product, which comprises all the features enabling the implementation of the methods described herein, and which when loaded in a computer system is able to carry out these methods. Computer program in the present context means any expression, in any language, code or notation, of a set of instructions intended to cause a system having an information processing capability to perform a particular function either directly or after either or both of the following: a) conversion to another language, code or notation; b) reproduction in a different material form.","While the present invention has been described with reference to certain embodiments, it will be understood by those skilled in the art that various changes may be made and equivalents may be substituted without departing from the scope of the present invention. In addition, many modifications may be made to adapt a particular situation or material to the teachings of the present invention without departing from its scope. Therefore, it is intended that the present invention not be limited to the particular embodiment disclosed, but that the present invention will include all embodiments falling within the scope of the appended claims."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF SEVERAL VIEWS OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 2A"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 2B"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 3A"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 3B"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 3C"}]},"DETDESC":[{},{}]}
