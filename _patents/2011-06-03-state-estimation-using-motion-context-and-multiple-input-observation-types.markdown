---
title: State estimation using motion context and multiple input observation types
abstract: Techniques for estimating the current state (e.g., position, velocity) of a mobile device based on motion context and multiple input observation types are disclosed. In some implementations, an Extended Kalman Filter (EKF) formulation is used to combine multiple input observations received from a variety of sources (e.g., WiFi, cell, GPS) to compute a minimum error state estimate. In some implementations, the EKF is updated using position estimates from an active cell and/or a candidate active cell during a cell-hopping event.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08615253&OS=08615253&RS=08615253
owner: Apple Inc.
number: 08615253
owner_city: Cupertino
owner_country: US
publication_date: 20110603
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["TECHNICAL FIELD","BACKGROUND","SUMMARY","DETAILED DESCRIPTION","State Estimation System Overview","EKF Update Overview","Motion Context Update","Zero-Velocity Update Process","Example Functional\/Measurement Model","Example State Vector","Example States Variance-Covariance Matrix","Example State Space Discrete System Model","Example State Space Discrete System Model","Example PV Scalar Dynamic model","Example Process Noise Matrix","Active Cells and Cell Hopping Model","Example State Estimation Process","Exemplary Operating Environment","Exemplary Device Architecture","Exemplary Dual EFK System"],"p":["This disclosure relates generally to state estimation for mobile devices.","Modern mobile devices, such as smart phones and electronic tablets, incorporate various technologies that can provide position-velocity (PV) measurements of the mobile device. Integrating these multiple PV measurements to compute a minimum error estimate of PV requires a new state estimator design.","Techniques for estimating the current state (e.g., position, velocity) of a mobile device based on motion context and multiple input observation types are disclosed. In some implementations, an Extended Kalman Filter (EKF) formulation is used to combine multiple input observations received from a variety of sources (e.g., WiFi, cell, GPS) to compute a minimum error state estimate. In some implementations, the EKF is updated using position estimates from an active cell and\/or a candidate active cell during cell-hopping events.","Particular implementations of the disclosed implementations provide one or more of the following advantages: 1) an ability to provide a PV estimate on demand with an uncertainty growth model; 2) an ability to optimally combine a priori state information with a current update; 3) an ability to combine multiple PV updates from multiple sources; 4) an ability to use motion context to set the filter dynamic model to control uncertainty growth; 5) an ability to perform zero-velocity updates based on motion context; 6) an ability to prevent large changes in PV from inputs that are outliers; and 7) an ability to provide speed and direction of travel estimates from position only inputs.","The details of one or more disclosed implementations are set forth in the accompanying drawings and the description below. Other features, aspects, and advantages will become apparent from the description, the drawings and the claims.","Like reference symbols in the various drawings indicate like elements.",{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 1","b":["100","100","102","104","106","108","114","116"]},"System  can be implemented in software (e.g., in an operating system or library) as a location resource for client applications running on the mobile device. In such a configuration, applications can request location updates from system  through an exposed Application Programming Interface (API). The location updates can include computing PV estimates. The processes for computing the PV estimates can be transparent to the applications requesting the location updates.","GNSS update module  can include a Global Positioning Receiver (GPS) that provides PV estimates for the mobile device using satellites. Since GPS PV information may have already been filtered in the GPS receiver or elsewhere, the GPS PV information can be used to initialize the state estimator .","WiFi update  can be a process implemented in software that provides position estimates for the mobile device based on signal measurements and information received from wireless network access points (e.g., WiFi routers) observed by the mobile device. These signal measurements and information can be compared with reference signal measurements and information stored in a database on the mobile device or on a network to determine the position estimate of the mobile device.","Cell measurement module  can be a process implemented in software that computes a position estimate of the mobile device based on cell towers of a cellular network using, for example, cell-of-origin (COO) techniques that consider the unique identifiers of base stations and in some cases their locations to compute a position estimate for the mobile device. In practice, a network carrier offering location services to third parties can present an API to which queries can be sent by validated users. A reply to the queries can include the center of a circle and a radius representing an expected error or the size of the circle in which the mobile device is expected to be.","ZUPT update module  can be a process implemented in software that provides zero-velocity updates to state estimator , which can be derived from 3-axis accelerometer sensors onboard the mobile device.","In some implementations, motion context  can be determined by measurements provided by onboard sensors (e.g., accelerometer, gyro sensors). Motion context  can be static or dynamic. If the mobile context  is static, then ZUPT update module  can provide a zero-velocity update to state estimator . If the mobile context  is dynamic, then a motion type can be determined and dynamic model parameters specific to the motion type can be selected (or computed) by parameter selector . The parameters can be used to adjust the growth of uncertainty of the state estimates computed by state estimator . For example, accelerometer measurements can be used to determine the speed of the mobile device, which can be compared to a threshold speed value to determine a motion type. Some examples of motion types include walking, running or riding in a car or other vehicle.","The appropriate dynamic model parameters can be selected (or computed) by parameter selector  for the determined motion type and sent to state estimator . State estimator  can use the selected parameters to update a dynamic model in state estimator , such as updating a process noise matrix Q of the EKF defined in Table I below. The dynamic model parameters can be pre-computed and stored in database  on the mobile device or made accessible through a network connection (stored in the \u201ccloud\u201d).","In some implementations, state estimator  can be a process implemented in software and\/or hardware that integrates multiple input observations and motion context to compute a filtered state  using knowledge of the mobile device system and measurement dynamics, assumed statistics of system noises and measurement noises, and initial condition information.","In the examples that follow, state estimator  is a sequential, discrete-time EKF. The EKF is an efficient (unbiased and minimum variance) recursive filter that estimates the error states of a dynamic system, such as the position and velocity of the mobile device.","Table I below provides a summary of equations for the sequential discrete-time EKF.",{"@attributes":{"id":"p-0029","num":"0028"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":"TABLE I"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Discrete-time sequential EKF equations"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Function Model (linearized form)","{circumflex over (\u03b4)}: error state vector"]},{"entry":["z= h{circumflex over (\u03b4)}","h: idesign vector"]},{"entry":["Measurement Model","v: imeasurement innovation"]},{"entry":["v= z+ \u03b5= l\u2212 {circumflex over (l)}","l\u2212 {circumflex over (l)}: measured minus estimated"]},{"entry":[{},"value"]},{"entry":[{},"\u03b5: measurement noise"]},{"entry":["Dynamics (from epoch k \u2212 1 to k)","{circumflex over (x)}: vector of unknown parameters"]},{"entry":["{circumflex over (x)}= \u03a6{circumflex over (x)}+ w","\u03c6: state transition matrix"]},{"entry":[{},"w: white noise sequence"]},{"entry":["Stochastic Model","Q: process noise matrix."]},{"entry":["n\u03b5~N(0, \u03c3), normally distributed","Allows sequential"]},{"entry":["E[\u03b5\u03b5] = 0, independent","processing"]},{"entry":["measurements",{}]},{"entry":["E[\u03b5\u03b5] = 0, not correlated in time",{}]},{"entry":["w~N(0, Q), driven by white noise",{}]},{"entry":["E[ww] = 0, not correlated in time",{}]},{"entry":["E[w\u03b5] = 0 \u2200 k, i, independence",{}]},{"entry":["assumption",{}]},{"entry":["Initial Conditions",{}]},{"entry":["E[x] = {circumflex over (x)}",{}]},{"entry":["E[{circumflex over (x)}{circumflex over (x)}] = P",{}]},{"entry":["Covariance Prediction","\u2212 superscript means pre-update"]},{"entry":["P = \u03a6P\u03a6+ Q","+ superscript means post-update"]},{"entry":["State Update","k: Kalman gain vector"]},{"entry":{}},{"entry":[{"maths":{"@attributes":{"id":"MATH-US-00001","num":"00001"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mtable":{"mtr":[{"mtd":{"mrow":{"msubsup":{"mover":{"mi":"\u03b4","mo":"^"},"msub":{"mi":"x","msub":{"mi":["k","i"]}},"mo":"-"},"mo":"=","mn":"0"}}},{"mtd":{"mrow":{"msubsup":{"mover":{"mi":"\u03b4","mo":"^"},"msub":{"mi":"x","msub":{"mi":["k","i"]}},"mo":"+"},"mo":"=","mrow":{"msub":[{"mi":["k","i"]},{"mi":["v","i"]}],"mo":"\u2062"}}}},{"mtd":{"mrow":{"msubsup":{"mover":{"mi":"x","mo":"^"},"msub":{"mi":["k","i"]},"mo":"+"},"mo":"=","mrow":{"msubsup":[{"mover":{"mi":"x","mo":"^"},"msub":{"mi":["k","i"]},"mo":"-"},{"mover":{"mi":"\u03b4","mo":"^"},"msub":{"mi":"x","msub":{"mi":["k","i"]}},"mo":"+"}],"mo":"+"}}}}]},"mo":"\u2003"}}}},{}]},{"entry":{}},{"entry":["Kalman Gain","scalar inversion"]},{"entry":{}},{"entry":[{"maths":{"@attributes":{"id":"MATH-US-00002","num":"00002"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msub":{"mi":["k","i"]},"mo":"=","mrow":{"msubsup":[{"mi":"P","msub":{"mi":["k","i"]},"mo":"-"},{"mi":["h","i","T"]}],"mo":["\u2062","\u2062"],"mfrac":{"mn":"1","msubsup":{"mi":"\u03c3","msub":{"mi":["v","i"]},"mn":"2"}}}}}}},"\u03c3: variance of the innovation (computationally efficient)."]},{"entry":{}},{"entry":["\u03c3= hPh+ \u03c3",{}]},{"entry":["Covariance Update","performed sequentially"]},{"entry":"P = [l \u2212 kh]P"},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},"Table II below defines EKF notation that will be used in the description that follows the tables.",{"@attributes":{"id":"p-0031","num":"0030"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":"TABLE II"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"EKF Notations"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"154pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u03c6","igeodetic latitude measurement"]},{"entry":[{},"\u03bb","igeodetic longitude measurement"]},{"entry":[{},"{circumflex over (\u03c6)}","filtered estimate of geodetic latitude"]},{"entry":[{},"{circumflex over (\u03bb)}","filtered estimate of geodetic longitude"]},{"entry":[{},"R","measurement variance-covariance matrix"]},{"entry":[{},"v","inorthing-velocity (geodetic local-level"]},{"entry":[{},{},"frame) measurement"]},{"entry":[{},"v","ieasting-velocity (geodetic local-level"]},{"entry":[{},{},"frame) measurement"]},{"entry":[{},"{circumflex over (v)}","filtered northing-velocity"]},{"entry":[{},"{circumflex over (v)}","filtered easting-velocity"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}]}}},{"@attributes":{"id":"p-0032","num":"0031"},"figref":["FIG. 2","FIG. 1"],"b":["202","100","200","204","116"]},"Process  continues by checking to see if a GNSS update is available from GNSS update module . If a GNSS update is available, process  initializes the EKF  with the GNSS update by specifying initial values for the initial state vector xand initial variance-covariance matrix Pof the EKF. If a GNSS update is not available, and the EKF is not initialized , then the EKF can be initialized  using the last known state vector x and variance-covariance matrix P or some other initialization parameters that can be pre-computed and stored in, for example, database . Process  then returns to the calling process.","Once the EKF is initialized, a backup of the state can be stored () in database  and an EKF prediction step can be performed () using the prediction equations described in Table I. After the prediction step, the state vector estimate can be updated () using the update equations disclosed in Table I.","In some implementations, a measurement innovation vis formed and tested () against a threshold or an acceptable measurement range to ensure that the measurement is not erroneous. Such an outlier observation can cause the EKF to diverge from a minimum variance state estimate. The measurement innovation can be obtained from one of WiFi update module  or cell update module . If the measurement innovation is below the threshold or within the acceptable measurement range, the measurement innovation can be applied in the EKF update step (). If the measurement innovation is above the threshold or outside the acceptable measurement range, process  reverts back to the backup EKF state (), and returns to the calling process.",{"@attributes":{"id":"p-0036","num":"0035"},"figref":["FIG. 3A","FIG. 1"],"b":["300","100","300","304","110"]},"If the EKF is uninitialized (), then process  determines whether motion context  is static (). If static, process  tunes () the EKF for static dynamics. For example, parameter selector  () can select the appropriate pre-computed dynamic model parameters for a static mobile device. Such parameters can be used to replace or derive elements of a process noise matrix Q of the EKF. For example, the parameters can be selected to have a slower growth of uncertainty on the EKF estimates of PV.","Likewise, if process  determines motion context  to be dynamic, then process  determines a motion type, such as walking , running , driving  or other motion type . Process  can then tune the EKF for walking (), running () or driving (). In some implementations, motion context  and the motion type can be determined by the sensed speed of the mobile device derived from accelerometer sensor readings. After motion type is determined and the EKF is tuned for the determined motion type, process  returns to the calling process.",{"@attributes":{"id":"p-0039","num":"0038"},"figref":["FIG. 3B","FIG. 1"],"b":["300","100","300","304"]},"If the EKF is initialized (), then process  performs an EKF prediction step (). Process  then determines whether motion context  is static or dynamic (). If static, process  tunes () the EKF for static motion context and performs a zero-velocity update (). For example, parameter selector  () can select or compute the appropriate dynamic model parameters for a static motion context . Such parameters can be used to replace or derive elements of a process noise matrix Q of the EKF. The parameters can be selected to have a slower growth of uncertainty on the EKF estimates of PV.","Likewise, if process  determines motion context  to be dynamic, then process  determines the motion type to be walking (), running (), driving () or other motion type (). Process  then tunes the EKF for the determined one of walking (), running () or driving (). In some implementations, the motion type can be determined by the sensed speed of the mobile device taken from accelerometer sensor readings. After motion type is determined and the EKF is tuned for the motion type, process  returns to the calling process.",{"@attributes":{"id":"p-0042","num":"0041"},"figref":["FIG. 4","FIG. 1"],"b":["400","100","400","404","406","408","410","412","414"]},"In some implementations, GNSS, WiFi-derived and cell-derived position and velocity inputs can be linearly mapped to the EKF states, which includes geodetic latitude and longitude and North and East velocities. Accordingly the following observations can be used as inputs to the EKF:\n\n","The EKF is not restricted to the use of these input types and can be updated with other potential position and velocity sources. Formulations for measurement innovations and measurement noise for each of these input types will now be described with reference to Tables I and II.","The cell-derived position measurement update can be formulated as",{"@attributes":{"id":"p-0046","num":"0049"},"maths":{"@attributes":{"id":"MATH-US-00003","num":"00003"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mrow":{"msub":{"mi":["z","cell"]},"mo":"=","mrow":{"mrow":[{"mo":["[","]"],"mtable":{"mtr":[{"mtd":{"msub":{"mi":["\u03d5","i"]}}},{"mtd":{"msub":{"mi":["\u03bb","i"]}}},{"mtd":{"mn":"0"}},{"mtd":{"mn":"0"}}]}},{"mo":["[","]"],"mtable":{"mtr":[{"mtd":{"mover":{"mi":"\u03d5","mo":"^"}}},{"mtd":{"mover":{"mi":"\u03bb","mo":"^"}}},{"mtd":{"mn":"0"}},{"mtd":{"mn":"0"}}]}}],"mo":"-"}},"mo":","}},{"mrow":{"mo":["(",")"],"mn":"1"}}]},{"mtd":[{"mrow":{"mrow":{"msub":{"mi":"h","mrow":{"mo":["[","]"],"mrow":{"mn":["1","4"],"mo":","}}},"mo":"=","mrow":{"mo":["[","]"],"mtable":{"mtr":{"mtd":[{"mn":"1"},{"mn":"1"},{"mn":"0"},{"mn":"0"}]}}}},"mo":","}},{"mrow":{"mo":["(",")"],"mn":"2"}}]},{"mtd":[{"mrow":{"msub":{"mi":["R","cell"]},"mo":"=","mrow":{"mrow":{"mo":["[","]"],"mtable":{"mtr":[{"mtd":[{"msubsup":{"mi":["\u03c3","N"],"mn":"2"}},{"mn":"0"},{"mn":"0"},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"msubsup":{"mi":["\u03c3","E"],"mn":"2"}},{"mn":"0"},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"}]}]}},"mo":"."}}},{"mrow":{"mo":["(",")"],"mn":"3"}}]}]}}}},"The WiFi-derived position measurement update can be formulated as",{"@attributes":{"id":"p-0048","num":"0051"},"maths":{"@attributes":{"id":"MATH-US-00004","num":"00004"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mrow":{"msub":{"mi":["z","WiFi"]},"mo":"=","mrow":{"mrow":[{"mo":["[","]"],"mtable":{"mtr":[{"mtd":{"msub":{"mi":["\u03d5","i"]}}},{"mtd":{"msub":{"mi":["\u03bb","i"]}}},{"mtd":{"mn":"0"}},{"mtd":{"mn":"0"}}]}},{"mo":["[","]"],"mtable":{"mtr":[{"mtd":{"mover":{"mi":"\u03d5","mo":"^"}}},{"mtd":{"mover":{"mi":"\u03bb","mo":"^"}}},{"mtd":{"mn":"0"}},{"mtd":{"mn":"0"}}]}}],"mo":"-"}},"mo":","}},{"mrow":{"mo":["(",")"],"mn":"4"}}]},{"mtd":[{"mrow":{"mrow":{"msub":{"mi":"h","mrow":{"mo":["[","]"],"mrow":{"mn":["1","4"],"mo":","}}},"mo":"=","mrow":{"mo":["[","]"],"mtable":{"mtr":{"mtd":[{"mn":"1"},{"mn":"1"},{"mn":"0"},{"mn":"0"}]}}}},"mo":","}},{"mrow":{"mo":["(",")"],"mn":"5"}}]},{"mtd":[{"mrow":{"msub":{"mi":["R","WiFi"]},"mo":"=","mrow":{"mrow":{"mo":["[","]"],"mtable":{"mtr":[{"mtd":[{"msubsup":{"mi":["\u03c3","N"],"mn":"2"}},{"mn":"0"},{"mn":"0"},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"msubsup":{"mi":["\u03c3","E"],"mn":"2"}},{"mn":"0"},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"}]}]}},"mo":"."}}},{"mrow":{"mo":["(",")"],"mn":"6"}}]}]}}}},"The GNSS position and velocity measurement update can be formulated as",{"@attributes":{"id":"p-0050","num":"0053"},"maths":{"@attributes":{"id":"MATH-US-00005","num":"00005"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mrow":{"msub":{"mi":["z","GPS"]},"mo":"=","mrow":{"mrow":[{"mo":["[","]"],"mtable":{"mtr":[{"mtd":{"msub":{"mi":["\u03d5","i"]}}},{"mtd":{"msub":{"mi":["\u03bb","i"]}}},{"mtd":{"msub":{"mi":["v","Ni"]}}},{"mtd":{"msub":{"mi":["v","Ei"]}}}]}},{"mo":["[","]"],"mtable":{"mtr":[{"mtd":{"mover":{"mi":"\u03d5","mo":"^"}}},{"mtd":{"mover":{"mi":"\u03bb","mo":"^"}}},{"mtd":{"msub":{"mover":{"mi":"v","mo":"^"},"mi":"N"}}},{"mtd":{"msub":{"mover":{"mi":"v","mo":"^"},"mi":"E"}}}]}}],"mo":"-"}},"mo":","}},{"mrow":{"mo":["(",")"],"mn":"7"}}]},{"mtd":[{"mrow":{"mrow":{"msub":{"mi":"h","mrow":{"mo":["[","]"],"mrow":{"mn":["1","4"],"mo":","}}},"mo":"=","mrow":{"mo":["[","]"],"mtable":{"mtr":{"mtd":[{"mn":"1"},{"mn":"1"},{"mn":"1"},{"mn":"1"}]}}}},"mo":","}},{"mrow":{"mo":["(",")"],"mn":"8"}}]},{"mtd":[{"mrow":{"msub":{"mi":["R","GPS"]},"mo":"=","mrow":{"mrow":{"mo":["[","]"],"mtable":{"mtr":[{"mtd":[{"msubsup":{"mi":["\u03c3","N"],"mn":"2"}},{"mn":"0"},{"mn":"0"},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"msubsup":{"mi":["\u03c3","E"],"mn":"2"}},{"mn":"0"},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"msubsup":{"mi":["\u03c3","vN"],"mn":"2"}},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mn":"0"},{"msubsup":{"mi":["\u03c3","vE"],"mn":"2"}}]}]}},"mo":"."}}},{"mrow":{"mo":["(",")"],"mn":"9"}}]}]}}}},"If the GNSS PV updates have been filtered by the GNSS receiver or in a hybrid system that includes inertial sensors and in some cases cell-derived and WiFi-derived positions, further filtering of the GNSS PV updates using the disclosed EKF may not be desirable. For these cases, GNSS PV information can be used as a \u201cseed\u201d to the EKF by setting the initial EKF conditions for further filtering with WiFi-derived and cell-derived position sources.","The zero-velocity update (ZUPT) can be formulated as",{"@attributes":{"id":"p-0053","num":"0056"},"maths":{"@attributes":{"id":"MATH-US-00006","num":"00006"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mrow":{"msub":{"mi":["z","ZUPT"]},"mo":"=","mrow":{"mrow":[{"mo":["[","]"],"mtable":{"mtr":[{"mtd":{"mn":"0"}},{"mtd":{"mn":"0"}},{"mtd":{"mn":"0"}},{"mtd":{"mn":"0"}}]}},{"mo":["[","]"],"mtable":{"mtr":[{"mtd":{"mn":"0"}},{"mtd":{"mn":"0"}},{"mtd":{"msub":{"mover":{"mi":"v","mo":"^"},"mi":"N"}}},{"mtd":{"msub":{"mover":{"mi":"v","mo":"^"},"mi":"E"}}}]}}],"mo":"-"}},"mo":","}},{"mrow":{"mo":["(",")"],"mn":"10"}}]},{"mtd":[{"mrow":{"mrow":{"msub":{"mi":"h","mrow":{"mo":["[","]"],"mrow":{"mn":["1","4"],"mo":","}}},"mo":"=","mrow":{"mo":["[","]"],"mtable":{"mtr":{"mtd":[{"mn":"0"},{"mn":"0"},{"mn":"1"},{"mn":"1"}]}}}},"mo":","}},{"mrow":{"mo":["(",")"],"mn":"11"}}]},{"mtd":[{"mrow":{"mrow":{"msub":{"mi":["R","ZUPT"]},"mo":"=","mrow":{"mo":["[","]"],"mtable":{"mtr":[{"mtd":[{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"msubsup":{"mi":["\u03c3","vN"],"mn":"2"}},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mn":"0"},{"msubsup":{"mi":["\u03c3","vE"],"mn":"2"}}]}]}}},"mo":","}},{"mrow":{"mo":["(",")"],"mn":"12"}}]}]}}},"br":{},"sub":["vN","vE"],"sup":["2 ","2 "]},"The unknown states estimated by the EKF are",{"@attributes":{"id":"p-0055","num":"0058"},"maths":{"@attributes":{"id":"MATH-US-00007","num":"00007"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":{"mi":"x","mo":"=","mrow":{"mo":["[","]"],"mtable":{"mtr":[{"mtd":{"mi":"\u03d5"}},{"mtd":{"mi":"\u03bb"}},{"mtd":{"msub":{"mi":["v","N"]}}},{"mtd":{"msub":{"mi":["v","E"]}}}]}}},"mo":","}},{"mrow":{"mo":["(",")"],"mn":"13"}}]}}}},"br":{},"sub":["N ","E "]},"The variance-covariance matrix of the states () is expressed in terms of meters (not radians) for the position states and in terms of meters per second for the velocity states (using geodetic local-level coordinate frame). The states variance-covariance matrix can be given by",{"@attributes":{"id":"p-0057","num":"0060"},"maths":{"@attributes":{"id":"MATH-US-00008","num":"00008"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mrow":{"mi":"P","mo":"=","mrow":{"mo":["[","]"],"mtable":{"mtr":[{"mtd":[{"msubsup":{"mi":["\u03c3","N"],"mn":"2"}},{"msub":{"mi":["\u03c3","NE"]}},{"msub":{"mi":["\u03c3","NvN"]}},{"msub":{"mi":["\u03c3","NvE"]}}]},{"mtd":[{"msub":{"mi":["\u03c3","NE"]}},{"msubsup":{"mi":["\u03c3","E"],"mn":"2"}},{"msub":{"mi":["\u03c3","EvN"]}},{"msub":{"mi":["\u03c3","EvE"]}}]},{"mtd":[{"msub":{"mi":"\u03c3","mrow":{"mi":["N","vN"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}}},{"msub":{"mi":["\u03c3","EvN"]}},{"msubsup":{"mi":["\u03c3","vN"],"mn":"2"}},{"msub":{"mi":["\u03c3","vNvE"]}}]},{"mtd":[{"msub":{"mi":["\u03c3","NvE"]}},{"msub":{"mi":["\u03c3","EvE"]}},{"msub":{"mi":["\u03c3","vNvE"]}},{"msubsup":{"mi":["\u03c3","vE"],"mn":"2"}}]}]}}},"mo":","}},{"mrow":{"mo":["(",")"],"mn":"14"}}]},{"mtd":[{"mrow":{"msub":{"mi":"P","mn":"0"},"mo":"=","mrow":{"mrow":{"mo":["[","]"],"mtable":{"mtr":[{"mtd":[{"msubsup":{"mi":["\u03c3","N"],"mn":"2"}},{"mn":"0"},{"mn":"0"},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"msubsup":{"mi":["\u03c3","E"],"mn":"2"}},{"mn":"0"},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"msubsup":{"mi":["\u03c3","vN"],"mn":"2"}},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mn":"0"},{"msubsup":{"mi":["\u03c3","vE"],"mn":"2"}}]}]}},"mo":"."}}},{"mrow":{"mo":["(",")"],"mn":"15"}}]}]}}}},"In some implementations, the state perturbations can be given by",{"@attributes":{"id":"p-0058","num":"0061"},"maths":{"@attributes":{"id":"MATH-US-00009","num":"00009"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":{"msub":{"mi":"\u03b4","mrow":{"mi":["X","\u03d5\u03bb"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}},"mo":"=","mrow":{"mo":["[","]"],"mtable":{"mtr":[{"mtd":{"msub":{"mi":["\u03b4","\u03d5"]}}},{"mtd":{"msub":{"mi":["\u03b4","\u03bb"]}}},{"mtd":{"msub":{"mi":["\u03b4","vN"]}}},{"mtd":{"msub":{"mi":["\u03b4","vE"]}}}]}}},"mo":","}},{"mrow":{"mo":["(",")"],"mn":"16"}}]}}}},"br":{},"sub":["\u03c6 ","\u03bb ","vN ","vE "]},{"@attributes":{"id":"p-0059","num":"0062"},"maths":{"@attributes":{"id":"MATH-US-00010","num":"00010"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":{"msub":{"mi":["\u03b4","x"]},"mo":"=","mrow":{"mo":["[","]"],"mtable":{"mtr":[{"mtd":{"msub":{"mi":["\u03b4","N"]}}},{"mtd":{"msub":{"mi":["\u03b4","E"]}}},{"mtd":{"msub":{"mi":["\u03b4","vN"]}}},{"mtd":{"msub":{"mi":["\u03b4","vE"]}}}]}}},"mo":","}},{"mrow":{"mo":["(",")"],"mn":"17"}}]}}}},"br":{},"sub":["N ","E "]},{"@attributes":{"id":"p-0060","num":"0063"},"maths":{"@attributes":{"id":"MATH-US-00011","num":"00011"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":{"msubsup":{"mi":["x","k"],"mo":"+"},"mo":"=","mrow":{"mrow":[{"msubsup":{"mi":["x","k"],"mo":"-"},"mo":"+","msub":{"mi":["\u03b4","x"]}},{"msubsup":{"mi":["x","k"],"mo":"-"},"mo":"+","mrow":{"mo":["[","]"],"mtable":{"mtr":[{"mtd":{"mfrac":{"mrow":[{"mi":["\u03b4","N"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},{"mo":["(",")"],"mrow":{"mi":["M","h"],"mo":"+"}}]}}},{"mtd":{"mfrac":{"mrow":[{"mi":["\u03b4","E"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},{"mo":["(",")"],"mrow":{"mrow":[{"mo":["(",")"],"mrow":{"mi":["N","h"],"mo":"+"}},{"mo":["(",")"],"mi":"\u03d5"}],"mo":["\u2062","\u2062","\u2062"],"mi":"cos","mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}}]}}},{"mtd":{"msub":{"mi":["\u03b4","vN"]}}},{"mtd":{"msub":{"mi":["\u03b4","vE"]}}}]}}}],"mo":"="}},"mo":","}},{"mrow":{"mo":["(",")"],"mn":"18"}}]}}}},"br":{}},"The meridian radius of curvature (for WGS84) is calculated by:\n\n(1)\/\u2003\u2003(19)\n\nwhere\n\n6378137.0,\u2003\u2003(20)\n\n=0.00669437999014132,\n\n\u221a{square root over (1sin(\u03c6))}.\u2003\u2003(21)\n","The prime vertical radius of curvature is calculated by:\n\n\u2003\u2003(22)\n","In some implementations, the state space discrete system model is given by",{"@attributes":{"id":"p-0064","num":"0067"},"maths":{"@attributes":{"id":"MATH-US-00012","num":"00012"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mrow":{"msub":{"mi":"x","mrow":{"mi":"k","mo":"+","mn":"1"}},"mo":"=","mrow":{"mrow":{"mi":"\u03a6","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msub":{"mi":["x","k"]}},"mo":"+","msub":{"mi":["w","k"]}}},"mo":","}},{"mrow":{"mo":["(",")"],"mn":"23"}}]},{"mtd":[{"mrow":{"mrow":{"mi":"\u03a6","mo":"=","mrow":{"mo":["[","]"],"mtable":{"mtr":[{"mtd":[{"mn":"1"},{"mn":"0"},{"mrow":{"mfrac":[{"mn":"1","mrow":{"mo":["(",")"],"mrow":{"mi":["M","h"],"mo":"+"}}},{"mn":"1","msub":{"mi":["\u03b2","v"]}}],"mo":["\u2062","\u2062"],"mrow":{"mo":["(",")"],"mrow":{"mn":"1","mo":"-","msup":{"mi":"\u2147","mrow":{"mrow":{"mo":"-","msub":{"mi":["\u03b2","v"]}},"mo":["\u2062","\u2062","\u2062"],"mi":["\u0394","t"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}}}}}},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"1"},{"mn":"0"},{"mrow":{"mfrac":[{"mn":"1","mrow":{"mo":["(",")"],"mrow":{"mrow":[{"mo":["(",")"],"mrow":{"mi":["N","h"],"mo":"+"}},{"mo":["(",")"],"mi":"\u03d5"}],"mo":["\u2062","\u2062","\u2062"],"mi":"cos","mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}}},{"mn":"1","msub":{"mi":["\u03b2","v"]}}],"mo":["\u2062","\u2062"],"mrow":{"mo":["(",")"],"mrow":{"mn":"1","mo":"-","msup":{"mi":"\u2147","mrow":{"mrow":{"mo":"-","msub":{"mi":["\u03b2","v"]}},"mo":["\u2062","\u2062","\u2062"],"mi":["\u0394","t"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}}}}}}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"msup":{"mi":"\u2147","mrow":{"mrow":{"mo":"-","msub":{"mi":["\u03b2","v"]}},"mo":["\u2062","\u2062","\u2062"],"mi":["\u0394","t"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}}},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mn":"0"},{"msup":{"mi":"\u2147","mrow":{"mrow":{"mo":"-","msub":{"mi":["\u03b2","v"]}},"mo":["\u2062","\u2062","\u2062"],"mi":["\u0394","t"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}}}]}]}}},"mo":","}},{"mrow":{"mo":["(",")"],"mn":"24"}}]},{"mtd":[{"mrow":{"mrow":{"msub":{"mi":"x","mrow":{"mi":"k","mo":"+","mn":"1"}},"mo":"=","mrow":{"msub":{"mrow":[{"mo":["[","]"],"mtable":{"mtr":[{"mtd":{"mi":"\u03d5"}},{"mtd":{"mi":"\u03bb"}},{"mtd":{"mi":"vN"}},{"mtd":{"mi":"vE"}}]}},{"mi":"k","mo":"+","mn":"1"}]},"mo":"=","mrow":{"msub":[{"mrow":{"mrow":[{"mo":["[","]"],"mtable":{"mtr":[{"mtd":[{"mn":"1"},{"mn":"0"},{"mrow":{"mfrac":[{"mn":"1","mrow":{"mo":["(",")"],"mrow":{"mi":["M","h"],"mo":"+"}}},{"mn":"1","msub":{"mi":["\u03b2","v"]}}],"mo":["\u2062","\u2062"],"mrow":{"mo":["(",")"],"mrow":{"mn":"1","mo":"-","msup":{"mi":"\u2147","mrow":{"mrow":{"mo":"-","msub":{"mi":["\u03b2","v"]}},"mo":["\u2062","\u2062","\u2062"],"mi":["\u0394","t"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}}}}}},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"1"},{"mn":"0"},{"mrow":{"mfrac":[{"mn":"1","mrow":{"mo":["(",")"],"mrow":{"mrow":[{"mo":["(",")"],"mrow":{"mi":["N","h"],"mo":"+"}},{"mo":["(",")"],"mi":"\u03d5"}],"mo":["\u2062","\u2062","\u2062"],"mi":"cos","mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}}},{"mn":"1","msub":{"mi":["\u03b2","v"]}}],"mo":["\u2062","\u2062"],"mrow":{"mo":["(",")"],"mrow":{"mn":"1","mo":"-","msup":{"mi":"\u2147","mrow":{"mrow":{"mo":"-","msub":{"mi":["\u03b2","v"]}},"mo":["\u2062","\u2062","\u2062"],"mi":["\u0394","t"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}}}}}}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"msup":{"mi":"\u2147","mrow":{"mrow":{"mo":"-","msub":{"mi":["\u03b2","v"]}},"mo":["\u2062","\u2062","\u2062"],"mi":["\u0394","t"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}}},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mn":"0"},{"msup":{"mi":"\u2147","mrow":{"mrow":{"mo":"-","msub":{"mi":["\u03b2","v"]}},"mo":["\u2062","\u2062","\u2062"],"mi":["\u0394","t"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}}}]}]}},{"mo":["[","]"],"mtable":{"mtr":[{"mtd":{"mi":"\u03d5"}},{"mtd":{"mi":"\u03bb"}},{"mtd":{"mi":"vN"}},{"mtd":{"mi":"vE"}}]}}],"mo":"\u2061"},"mi":"k"},{"mi":["w","k"]}],"mo":"+"}}},"mo":","}},{"mrow":{"mo":["(",")"],"mn":"25"}}]}]}}},"br":{},"sub":"v "},{"@attributes":{"id":"p-0065","num":"0068"},"figref":["FIG. 5","FIG. 1","FIGS. 1-4"],"b":"100"},"It is desired to make use of short-term velocity propagation if this is known (e.g., from GNSS velocity or derived from a number of consecutive position updates). For example, if the user is traveling North on a freeway at 100 km\/hour based on a filter update, it is likely that the user is still traveling quickly a few seconds later. Thus, the dynamic model used by the EKF allows for short-term velocity propagation. After \u0394Tseconds elapsed time without a PV update, additional process noise (e.g., random walk) corresponding to the position states can be added if the motion state is not static. The magnitude of the additional random walk noise depends on the motion type. Less random walk noise is added for walking compared to driving, for example.",{"@attributes":{"id":"p-0067","num":"0070"},"figref":"FIG. 5","sub":["rw ","v","v "]},"Based on the scalar PV dynamic model, the process noise matrix for the EKF can be given by",{"@attributes":{"id":"p-0068","num":"0071"},"maths":{"@attributes":{"id":"MATH-US-00013","num":"00013"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mrow":{"msub":{"mi":["Q","k"]},"mo":"=","mrow":{"mo":["[","]"],"mtable":{"mtr":[{"mtd":[{"msub":{"mi":"q","mn":"11"}},{"mn":"0"},{"msub":{"mi":"q","mn":"13"}},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"msub":{"mi":"q","mn":"22"}},{"mn":"0"},{"msub":{"mi":"q","mn":"24"}}]},{"mtd":[{"msub":{"mi":"q","mn":"31"}},{"mn":"0"},{"msub":{"mi":"q","mn":"33"}},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"msub":{"mi":"q","mn":"42"}},{"mn":"0"},{"msub":{"mi":"q","mn":"44"}}]}]}}},"mo":","}},{"mrow":{"mo":["(",")"],"mn":"26"}}]},{"mtd":[{"mi":"where"},{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}]},{"mtd":[{"mrow":{"mrow":[{"msub":{"mi":"q","mn":"11"},"mo":"=","mrow":{"mfrac":{"msub":{"mi":["q","v"]},"msubsup":{"mi":["\u03b2","v"],"mn":"2"}},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mrow":[{"mi":["\u0394","t"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},{"mfrac":{"mn":"2","msub":{"mi":["\u03b2","v"]}},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mn":"1","mo":"-","msup":{"mi":"\u2147","mrow":{"mrow":{"mo":"-","mi":"\u03b2\u0394"},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mi":"t"}}}}},{"mfrac":{"mn":"1","mrow":{"mn":"2","mo":"\u2062","msub":{"mi":["\u03b2","v"]}}},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mn":"1","mo":"-","msup":{"mi":"\u2147","mrow":{"mrow":{"mo":"-","mn":"2"},"mo":["\u2062","\u2062","\u2062"],"mi":["\u03b2\u0394","t"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}}}}}],"mo":["-","+"]}}}},{"msub":{"mi":"q","mn":"13"},"mo":"=","mrow":{"msub":{"mi":"q","mn":"31"},"mo":"=","mrow":{"mfrac":{"msub":[{"mi":["q","v"]},{"mi":["\u03b2","v"]}]},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mrow":[{"mfrac":{"mn":"1","msub":{"mi":["\u03b2","v"]}},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mn":"1","mo":"-","msup":{"mi":"\u2147","mrow":{"mrow":{"mo":"-","mi":"\u03b2\u0394"},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mi":"t"}}}}},{"mfrac":{"mn":"1","mrow":{"mn":"2","mo":"\u2062","msub":{"mi":["\u03b2","v"]}}},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mn":"1","mo":"-","msup":{"mi":"\u2147","mrow":{"mrow":{"mo":"-","mn":"2"},"mo":["\u2062","\u2062","\u2062"],"mi":["\u03b2\u0394","t"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}}}}}],"mo":"-"}}}}},{"msub":{"mi":"q","mn":"22"},"mo":"=","mrow":{"mfrac":{"msub":{"mi":["q","v"]},"msubsup":{"mi":["\u03b2","v"],"mn":"2"}},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mrow":[{"mi":["\u0394","t"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},{"mfrac":{"mn":"2","msub":{"mi":["\u03b2","v"]}},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mn":"1","mo":"-","msup":{"mi":"\u2147","mrow":{"mrow":{"mo":"-","mi":"\u03b2\u0394"},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mi":"t"}}}}},{"mfrac":{"mn":"1","mrow":{"mn":"2","mo":"\u2062","msub":{"mi":["\u03b2","v"]}}},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mn":"1","mo":"-","msup":{"mi":"\u2147","mrow":{"mrow":{"mo":"-","mn":"2"},"mo":["\u2062","\u2062","\u2062"],"mi":["\u03b2\u0394","t"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}}}}}],"mo":["-","+"]}}}},{"msub":{"mi":"q","mn":"24"},"mo":"=","mrow":{"msub":{"mi":"q","mn":"42"},"mo":"=","mrow":{"mfrac":{"msub":[{"mi":["q","v"]},{"mi":["\u03b2","v"]}]},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mrow":[{"mfrac":{"mn":"1","msub":{"mi":["\u03b2","v"]}},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mn":"1","mo":"-","msup":{"mi":"\u2147","mrow":{"mrow":{"mo":"-","mi":"\u03b2\u0394"},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mi":"t"}}}}},{"mfrac":{"mn":"1","mrow":{"mn":"2","mo":"\u2062","msub":{"mi":["\u03b2","v"]}}},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mn":"1","mo":"-","msup":{"mi":"\u2147","mrow":{"mrow":{"mo":"-","mn":"2"},"mo":["\u2062","\u2062","\u2062"],"mi":["\u03b2\u0394","t"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}}}}}],"mo":"-"}}}}},{"msub":{"mi":"q","mn":"33"},"mo":"=","mrow":{"mfrac":{"msub":{"mi":["q","v"]},"mrow":{"mn":"2","mo":"\u2062","msub":{"mi":["\u03b2","v"]}}},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mn":"1","mo":"-","msup":{"mi":"\u2147","mrow":{"mrow":{"mo":"-","mn":"2"},"mo":["\u2062","\u2062","\u2062"],"mi":["\u03b2\u0394","t"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}}}}}},{"msub":{"mi":"q","mn":"44"},"mo":"=","mrow":{"mfrac":{"msub":{"mi":["q","v"]},"mrow":{"mn":"2","mo":"\u2062","msub":{"mi":["\u03b2","v"]}}},"mo":"\u2062","mrow":{"mrow":{"mo":["(",")"],"mrow":{"mn":"1","mo":"-","msup":{"mi":"\u2147","mrow":{"mrow":{"mo":"-","mn":"2"},"mo":["\u2062","\u2062","\u2062"],"mi":["\u03b2\u0394","t"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}}}},"mo":"."}}}],"mo":[",","\u2062",",","\u2062",",","\u2062",",","\u2062",",","\u2062"],"mstyle":[{"mtext":{}},{"mtext":{}},{"mtext":{}},{"mtext":{}},{"mtext":{}}]}},{"mrow":{"mo":["(",")"],"mn":"27"}}]}]}}}},"If the elapsed time since the last position update to the EKF is more than \u0394Tseconds and the current motion state is not static, additional random walk process noise can be added to the process noise matrix Q given by",{"@attributes":{"id":"p-0070","num":"0073"},"maths":{"@attributes":{"id":"MATH-US-00014","num":"00014"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mrow":{"msub":{"mi":["Q","k"]},"mo":"=","mrow":{"mo":["[","]"],"mtable":{"mtr":[{"mtd":[{"mrow":{"msub":[{"mi":"q","mn":"11"},{"mi":["q","p"]}],"mo":"+"}},{"mn":"0"},{"msub":{"mi":"q","mn":"13"}},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mrow":{"msub":[{"mi":"q","mn":"22"},{"mi":["q","p"]}],"mo":"+"}},{"mn":"0"},{"msub":{"mi":"q","mn":"24"}}]},{"mtd":[{"msub":{"mi":"q","mn":"31"}},{"mn":"0"},{"msub":{"mi":"q","mn":"33"}},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"msub":{"mi":"q","mn":"42"}},{"mn":"0"},{"msub":{"mi":"q","mn":"44"}}]}]}}},"mo":","}},{"mrow":{"mo":["(",")"],"mn":"28"}}]},{"mtd":[{"mi":"where"},{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}]},{"mtd":[{"mrow":{"mrow":[{"msub":{"mi":["q","p"]},"mo":"=","mfrac":{"mrow":{"mi":["s","\u0394","t"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}]},"mn":"2"}},{"msub":{"mi":["s","pedestrian"]},"mo":"=","msup":{"mrow":{"mo":["(",")"],"mi":"x"},"mn":"2"}},{"msub":{"mi":["s","other"]},"mo":"=","mrow":{"msup":{"mrow":{"mo":["(",")"],"mrow":{"msqrt":{"mn":"2"},"mo":"*","mi":"y"}},"mn":"2"},"mo":"."}}],"mo":[",","\u2062",",","\u2062"],"mstyle":[{"mtext":{}},{"mtext":{}}]}},{"mrow":{"mo":["(",")"],"mn":"29"}}]}]}}}},"In equations (2), qis a function of the user motion context with higher process noise for non-pedestrian motion. The variables x and y are process noise for position (in meters) for pedestrian and other motion states, respectively. For example, x=500 m and y=1000 m, to adjust the growth of uncertainty based on the speed of the user\/mobile device.","When the mobile device is \u201ccamped\u201d on a cell, the location of the user is bounded by the region of likely connection to the cell. This means that position information from a cell-derived filter solution remains active until the connection to the cell is lost. Any time the filter is propagated, for example if there is a change in motion context, the cell update can be applied. Any time, the connection to the cell is lost, for example if moving away from the cell or if the device is in sleep mode, the cell update can be applied. However, it may not be desirable to apply the cell position update often over a short time span. The information provided to the EKF should be independent and uncorrelated. If the cell updates are applied often over a short period, the filter solution will be using time-correlated observations. Thus, a decorrelation time period can be used. Effectively, cell position updates cannot be applied consecutively with the same position more than once during the decorrelation time period.","If a mobile device is switching from one active cell to another, it may not be desirable to hop form one cell location completely to the other cell location. If the concept of an active cell is applied, the filter can be updated with a prior active cell first before applying a position update from a new candidate active cell. This is intuitively correct since the first cell position is still active when the switch to the candidate active cell occurs.","In some implementations, active cell rules and assumptions can be as follows:\n\n","If the mobile device is camped out on cell A, then the EKF can use the cell A position update and store cell as the \u201cactive\u201d cell for providing position updates to the EKF. If hopping occurs and cell-derived updates are available from both cell A and cell B, then the EKF can update with the position from cell A, followed by an update with the position from cell B (e.g., a neighboring cell). If the mobile device dwells within the active areas of cell A and cell B for a predetermined amount of time dT (e.g., 2 hours), then the EKF can update with the position from the active cell A; otherwise, the EKF can update with the position from cell B, followed by an update with the position from cell A.",{"@attributes":{"id":"p-0076","num":"0085"},"figref":["FIG. 6A","FIG. 1","FIG. 8"],"b":["600","100","600","800"]},"Process  can begin by receiving one or more position observations (). In some cases, the observations can be WiFi-derived, cell-derived, GNSS or any another source of position or velocity data.","Process  can continue by determining a motion context (). For example, the motion context can be either static or moving. If moving, there can be various motion types that can be modeled. These motion types include but are not limited to walking, running and driving.","Process  can continue by tuning a state estimator of a mobile device based on the determined motion context and the one or more input observation (). The state estimator can be an EKF and the tuning can include selecting\/computing dynamic model parameters derived for the static motion context and the various motion types in the dynamic motion context. For example, tuning can include adjusting the elements of a process noise matrix Q of an EKF based on a PV dynamic model that adds additional process noise (e.g., random walk noise) to position states in Q to control the growth of uncertainty in the position estimates provided by the EKF solution.",{"@attributes":{"id":"p-0080","num":"0089"},"figref":["FIG. 6B","FIG. 1"],"b":["608","100","608","610"]},"Process  can continue by updating the state estimator of a mobile device based on the cell-hopping event (). For example, when transitioning from active cell A to candidate active cell B during a cell-hopping event the following logic can be employed:",{"@attributes":{"id":"p-0082","num":"0091"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"A is the active cell which last updated the EKF at t0"]},{"entry":[{},"B is the candidate cell update at time t0+dT"]},{"entry":[{},"if( dT > dwellTimeThreshold )"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"UpdateEKF with A then B"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"else"]},{"entry":[{},"\u2003UpdateEKF with B"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}}},"The threshold dT for the change in time is to protect against adding the same cell update repeatedly and biasing the filter.",{"@attributes":{"id":"p-0084","num":"0093"},"figref":["FIG. 7","FIG. 1"],"b":["700","100","702","702","710","712","714","716","718","1214"],"i":["a ","b "]},"In some implementations, both voice and data communications can be established over wireless network  and the access device . For example, mobile device can place and receive phone calls (e.g., using voice over Internet Protocol (VoIP) protocols), send and receive e-mail messages (e.g., using Post Office Protocol 3 (POP3)), and retrieve electronic documents and\/or streams, such as web pages, photographs, and videos, over wireless network , gateway , and wide area network  (e.g., using Transmission Control Protocol\/Internet Protocol (TCP\/IP) or User Datagram Protocol (UDP)). Likewise, in some implementations, the mobile device can place and receive phone calls, send and receive e-mail messages, and retrieve electronic documents over the access device  and the wide area network . In some implementations, mobile device or can be physically connected to the access device  using one or more cables and the access device  can be a personal computer. In this configuration, mobile device or can be referred to as a \u201ctethered\u201d device.","Mobile devices and can also establish communications by other means. For example, wireless mobile device can communicate with other wireless devices, e.g., other mobile devices or , cell phones, etc., over the wireless network . Likewise, mobile devices and can establish peer-to-peer communications , e.g., a personal area network, by use of one or more communication subsystems, such as the Bluetooth\u2122 communication devices. Other communication protocols and topologies can also be implemented.","The mobile devices or can for example, communicate with one or more services  and  over the one or more wired and\/or wireless networks. For example, a cell-derived position update service  (e.g., a wireless network carrier) can provide mobile devices , with cell-derived position updates and WiFi-derived position update service  (e.g., an Internet service) can provide mobile devices , with WiFi-derived position updates, as described in reference to .","Mobile device or can also access other data and content over the one or more wired and\/or wireless networks. For example, content publishers, such as news sites, Rally Simple Syndication (RSS) feeds, web sites, blogs, social networking sites, developer networks, etc., can be accessed by mobile device or . Such access can be provided by invocation of a web browsing function or application (e.g., a browser) in response to a user touching, for example, a Web object.",{"@attributes":{"id":"p-0089","num":"0098"},"figref":["FIG. 8","FIGS. 1-7"],"b":["800","800","802","804","806","802","804","806"]},"Sensors, devices, and subsystems can be coupled to peripherals interface  to facilitate multiple functionalities. For example, motion sensor , light sensor , and proximity sensor  can be coupled to peripherals interface  to facilitate orientation, lighting, and proximity functions of the mobile device. For example, in some implementations, light sensor  can be utilized to facilitate adjusting the brightness of touch screen . In some implementations, motion sensor  (e.g., an accelerometer, gyros) can be utilized to detect movement and orientation of the device . Accordingly, display objects or media can be presented according to a detected orientation, e.g., portrait or landscape.","Other sensors can also be connected to peripherals interface , such as a temperature sensor, a biometric sensor, or other sensing device, to facilitate related functionalities.","Location processor  (e.g., GPS receiver) can be connected to peripherals interface  to provide geo-positioning. Electronic magnetometer  (e.g., an integrated circuit chip) can also be connected to peripherals interface  to provide data that can be used to determine the direction of magnetic North. Thus, electronic magnetometer  can be used as an electronic compass.","Camera subsystem  and an optical sensor , e.g., a charged coupled device (CCD) or a complementary metal-oxide semiconductor (CMOS) optical sensor, can be utilized to facilitate camera functions, such as recording photographs and video clips.","Communication functions can be facilitated through one or more communication subsystems . Communication subsystem(s)  can include one or more wireless communication subsystems. Wireless communication subsystems  can include radio frequency receivers and transmitters and\/or optical (e.g., infrared) receivers and transmitters. Wired communication system can include a port device, e.g., a Universal Serial Bus (USB) port or some other wired port connection that can be used to establish a wired connection to other computing devices, such as other communication devices, network access devices, a personal computer, a printer, a display screen, or other processing devices capable of receiving or transmitting data. The specific design and implementation of the communication subsystem  can depend on the communication network(s) or medium(s) over which device  is intended to operate. For example, a mobile device can include communication subsystems  designed to operate over a GSM network, a GPRS network, an EDGE network, a WiFi or WiMax network, and a Bluetooth network. In particular, the wireless communication subsystems  can include For example, device  may include wireless communication subsystems designed to operate over a global system for mobile communications (GSM) network, a GPRS network, an enhanced data GSM environment (EDGE) network, 802.x communication networks (e.g., WiFi, WiMax, or 3G networks), code division multiple access (CDMA) networks, and a Bluetooth\u2122 network. Communication subsystems  may include hosting protocols such that the mobile device  may be configured as a base station for other wireless devices. As another example, the communication subsystems can allow the device to synchronize with a host device using one or more protocols, such as, for example, the TCP\/IP protocol, HTTP protocol, UDP protocol, and any other known protocol.","Audio subsystem  can be coupled to a speaker  and one or more microphones  to facilitate voice-enabled functions, such as voice recognition, voice replication, digital recording, and telephony functions.","I\/O subsystem  can include touch screen controller  and\/or other input controller(s) . Touch-screen controller  can be coupled to a touch screen  or pad. Touch screen  and touch screen controller  can, for example, detect contact and movement or break thereof using any of a number of touch sensitivity technologies, including but not limited to capacitive, resistive, infrared, and surface acoustic wave technologies, as well as other proximity sensor arrays or other elements for determining one or more points of contact with touch screen .","Other input controller(s)  can be coupled to other input\/control devices , such as one or more buttons, rocker switches, thumb-wheel, infrared port, USB port, and\/or a pointer device such as a stylus. The one or more buttons (not shown) can include an up\/down button for volume control of speaker  and\/or microphone .","In one implementation, a pressing of the button for a first duration may disengage a lock of the touch screen ; and a pressing of the button for a second duration that is longer than the first duration may turn power to mobile device  on or off. The user may be able to customize a functionality of one or more of the buttons. The touch screen  can also be used to implement virtual or soft buttons and\/or a keyboard.","In some implementations, device  can present recorded audio and\/or video files, such as MP3, AAC, and MPEG files. In some implementations, device  can include the functionality of an MP3 player and may include a pin connector for tethering to other devices. Other input\/output and control devices can be used.","Memory interface  can be coupled to memory . Memory  can include high-speed random access memory or non-volatile memory, such as one or more magnetic disk storage devices, one or more optical storage devices, or flash memory (e.g., NAND, NOR). Memory  can store operating system , such as Darwin, RTXC, LINUX, UNIX, OS X, WINDOWS, or an embedded operating system such as VxWorks. Operating system  may include instructions for handling basic system services and for performing hardware dependent tasks. In some implementations, operating system  can include a kernel (e.g., UNIX kernel).","Memory  may also store communication instructions  to facilitate communicating with one or more additional devices, one or more computers or one or more servers. Communication instructions  can also be used to select an operational mode or communication medium for use by the device, based on a geographic location (obtained by the GPS\/Navigation instructions ) of the device. Memory  may include graphical user interface instructions  to facilitate graphic user interface processing; sensor processing instructions  to facilitate sensor-related processing and functions; phone instructions  to facilitate phone-related processes and functions; electronic messaging instructions  to facilitate electronic-messaging related processes and functions; web browsing instructions  to facilitate web browsing-related processes and functions; media processing instructions  to facilitate media processing-related processes and functions; GPS\/Navigation instructions  to facilitate GPS and navigation-related processes and instructions for implementing the EKF described in reference to ; camera instructions  to facilitate camera-related processes and functions; and motion context instructions  for implementing the motion context processes described in reference to . The memory  may also store other software instructions for facilitating other processes, features and applications, such applications that use the PV estimations provided by system , such as applications related to navigation, social networking, location-based services or map displays.","Each of the above identified instructions and applications can correspond to a set of instructions for performing one or more functions described above. These instructions need not be implemented as separate software programs, procedures, or modules. Memory  can include additional instructions or fewer instructions. Furthermore, various functions of the mobile device may be implemented in hardware and\/or in software, including in one or more signal processing and\/or application specific integrated circuits.","In some implementations, two EKFs can be used in the system. A primary EKF can be used for a predetermined time, referred to as the filter time of applicability (FTOA). If a period of time elapses without a PV update that is longer than FTOA, then two EKFs are used. One EKF uses a static assumption for a portion of time since the last PV update. This is referred to as long-term static (LTS) assumption. The other is the primary EKF unmodified. The LTS EFK can be modified by artificially applying a static motion update, which modifies the process noise matrix Q and performs ZUPT after either a certain period has elapsed or the position uncertainty of the primary EFK has exceeded a threshold. The benefits of the dual EKF method are the ability to perform well when the device is static over long periods and the ability to perform well when the device has moved substantially over long periods.","When a next PV update occurs, a hypothesis test is used to determine if the LTS EKF is valid, and if so, the LTS EKF information is used to estimate PV and to re-seed the primary EKF. For example, if the EKF location estimation (pre-update) is contained within six times the uncertainty of the PV update and the PV update passes innovation testing (e.g., the distance between the EKF location estimate and the PV location is less than six times the 1-sgma uncertainty of the PV location) the static hypothesis is valid. If the LTS assumption fails, then the primary EKF continues to estimate PV and the LTS EKF is re-seeded. The LTS EKF can run as a parallel copy of the primary EKF but it is artificially re-seeded with a static motion update after a time set since the last PV update of the primary EKF, or after a set amount of position uncertainty growth in the primary EKF, which can be determined by examining the magnitude of diagonal elements of the error covariance matrix P. Active cell updates do not apply to the LTS EKF, only to the primary EKF.",{"@attributes":{"id":"p-0105","num":"0114"},"figref":"FIG. 9","b":["900","900","902","904","908","116","910","906"]},"If the innovation testing passes (), the elapsed time \u0394t since the previous PV update is determined (). If the elapsed time is less than FTOA, the primary EKF is used for state estimation (), the primary EKF state and error covariance are used to re-seed the LTF EKF (), and process  returns to calling program () with the estimated state vector.","If the elapsed time is greater than FTOA, the LTS EFK is updated with the PV update () and a static hypothesis test and innovation testing are performed (). If the tests pass (), then the motion context is copied from the primary EKF to the LTS EKF () and the LTS EKF state and error covariance are used to re-seed the primary EKF (), and process  returns to calling program ().","The described features can be implemented advantageously in one or more computer programs that are executable on a programmable system including at least one programmable processor coupled to receive data and instructions from, and to transmit data and instructions to, a data storage system, at least one input device, and at least one output device. A computer program is a set of instructions that can be used, directly or indirectly, in a computer to perform a certain activity or bring about a certain result. A computer program can be written in any form of programming language (e.g., Objective-C, Java), including compiled or interpreted languages, and it can be deployed in any form, including as a stand-alone program or as a module, component, subroutine, or other unit suitable for use in a computing environment.","Suitable processors for the execution of a program of instructions include, by way of example, both general and special purpose microprocessors, and the sole processor or one of multiple processors or cores, of any kind of computer. Generally, a processor will receive instructions and data from a read-only memory or a random access memory or both. The essential elements of a computer are a processor for executing instructions and one or more memories for storing instructions and data. Generally, a computer will also include, or be operatively coupled to, communicate with, one or more mass storage devices for storing data files; such devices include magnetic disks, such as internal hard disks and removable disks; magneto-optical disks; and optical disks.","Storage devices suitable for tangibly embodying computer program instructions and data include all forms of non-volatile memory, including by way of semiconductor memory devices, such as EPROM, EEPROM, and flash memory devices; magnetic disks such as internal hard disks and removable disks; magneto-optical disks; and CD-ROM and DVD-ROM disks. The processor and the memory can be supplemented by, or incorporated in, ASICs (application-specific integrated circuits).","To provide for interaction with a player, the features can be implemented on a computer having a display device, such as a CRT (cathode ray tube) or LCD (liquid crystal display) monitor for displaying information to the player. The computer can also have a keyboard and a pointing device such as a game controller, mouse or a trackball by which the player can provide input to the computer.","The features can be implemented in a computer system that includes a back-end component, such as a data server, that includes a middleware component, such as an application server or an Internet server, or that includes a front-end component, such as a client computer having a graphical user interface or an Internet browser, or any combination of them. The components of the system can be connected by any form or medium of digital data communication such as a communication network. Some examples of communication networks include LAN, WAN and the computers and networks forming the Internet.","The computer system can include clients and servers. A client and server are generally remote from each other and typically interact through a network. The relationship of client and server arises by virtue of computer programs running on the respective computers and having a client-server relationship to each other.","One or more features or steps of the disclosed embodiments can be implemented using an API. An API can define on or more parameters that are passed between a calling application and other software code (e.g., an operating system, library routine, function) that provides a service, that provides data, or that performs an operation or a computation. The API can be implemented as one or more calls in program code that send or receive one or more parameters through a parameter list or other structure based on a call convention defined in an API specification document. A parameter can be a constant, a key, a data structure, an object, an object class, a variable, a data type, a pointer, an array, a list, or another call. API calls and parameters can be implemented in any programming language. The programming language can define the vocabulary and calling convention that a programmer will employ to access functions supporting the API. In some implementations, an API call can report to an application the capabilities of a device running the application, such as input capability, output capability, processing capability, power capability, communications capability, etc.","A number of implementations have been described. Nevertheless, it will be understood that various modifications may be made. For example, other steps may be provided, or steps may be eliminated, from the described flows, and other components may be added to, or removed from, the described systems. Accordingly, other implementations are within the scope of the following claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0007","num":"0006"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0008","num":"0007"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0009","num":"0008"},"figref":["FIG. 3A","FIG. 1"]},{"@attributes":{"id":"p-0010","num":"0009"},"figref":["FIG. 3B","FIG. 1"]},{"@attributes":{"id":"p-0011","num":"0010"},"figref":["FIG. 4","FIG. 1"]},{"@attributes":{"id":"p-0012","num":"0011"},"figref":["FIG. 5","FIG. 1"]},{"@attributes":{"id":"p-0013","num":"0012"},"figref":["FIGS. 6A-6B","FIG. 1"]},{"@attributes":{"id":"p-0014","num":"0013"},"figref":["FIG. 7","FIG. 1"]},{"@attributes":{"id":"p-0015","num":"0014"},"figref":["FIG. 8","FIGS. 1-7"]},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 9"}]},"DETDESC":[{},{}]}
