---
title: Multimedia display based on audio and visual complexity
abstract: A computer-implemented method and system are provided for profiling or analyzing audio data based on an audio parameter. The audio data is divided into audio data into segments. Each segment is characterized by the audio parameter in a defined range. Effects are selected according to the segments meeting criteria for the audio parameter of the effects. A media presentation is authored or generated using the selected effects.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08626322&OS=08626322&RS=08626322
owner: Apple Inc.
number: 08626322
owner_city: Cupertino
owner_country: US
publication_date: 20090702
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"p":["This application claims the benefit and priority of the U.S. Provisional Patent Application No. 61\/193,852 filed on Dec. 30, 2008, which is hereby incorporated by reference.","The present invention relates generally to the field of authoring media presentations and, in particular, to authoring media presentations using profiled audio data.","Current media presentation applications offer features for creating slides and manually customizing the ways in which a set of slides, i.e., a slideshow, is played. Such applications also offer features for attaching themes to slideshows, where such themes may affect the appearance and general behavior of the slideshows when played. In addition, such applications further offer features such as customizing slide colors, customizing transition behavior, customizing transition delay, and manually adding clip art\/image\/audio\/video files to one or more slides in a slideshow. These applications also permit basic sequential transition, forward or backward, from one slide to another in a slideshow containing more than one slide. A user may customize the time that one slide should be viewed prior to the application invoking a transition to another slide, which may further have a custom viewing time associated with it, as well.","However, current media presentation applications do not dynamically profile audio data, such as a slideshow soundtrack, based on various audio parameters, including beats per minute, rhythmic strength, harmonic complexity, and\/or square root of the arithmetic mean of the square of density variations (RMS) strength. In addition, current media presentation applications do not utilize the profiled audio data to select appropriate effects, transitions, or filters and assemble them in useful ways to author a media presentation. Current media presentation applications also do not set effect durations, in\/out points, and transitions in-sync with audio alone or the audio of a video.","Moreover, current media presentations applications do not author media presentations by defining a layer, where the layer comprises one or more effects, associating media content with the layer, aggregating the layer with one or more other layers, and assembling the aggregated layers.","Finally, current media presentation applications do not provide automatic, as well as user-defined, authoring, rendering, exporting, and sharing media presentations\/slideshows in an easily integrated platform.","Accordingly, the present invention is directed to a system and method for authoring media presentations that substantially obviates one or more problems due to limitations and disadvantages of the related art.","An object of the present invention is to provide systems and methods for profiling audio data based on various audio parameters.","Another object of the present invention is to provide systems and methods for profiling audio data based on beats per minute, rhythmic strength, harmonic complexity, and\/or square root of the arithmetic mean of the square of density variations (RMS) strength.","Another object of the present invention is to provide systems and methods for automatically authoring a media presentation using the profiled audio data.","Another object of the present invention is to provide systems and methods for selecting effects, transitions, or filters and assembling them in useful ways to author a media presentation.","Yet another object of the present invention is provide systems and methods to adjust effect durations, in and out points, and transitions to be in-sync with audio alone or the audio of a video.","Additional features and advantages of the invention will be set forth in the description which follows, and in part will be apparent from the description, or may be learned by practice of the invention. The objectives and other advantages of the invention will be realized and attained by the structure particularly pointed out in the written description and claims hereof as well as the appended drawings.","To achieve these and other advantages and in accordance with the purpose of the present invention, as embodied and broadly described, a method comprises analyzing audio data based on an audio parameter, dividing the audio data into segments, wherein each segment is characterized by the audio parameter in a defined range, selecting effects according to the segments meeting criteria for the audio parameter of the effects, and generating a media presentation using the selected effects.","In another aspect, a system comprises memory configured to store audio data and one or more processors configured to analyze the audio data based on an audio parameter, divide the audio data into segments, wherein each segment is characterized by the audio parameter in a defined range, select effects according to the segments meeting criteria for the audio parameter of the effects, and generate a media presentation using the selected effects.","In another aspect, a computer-readable storage medium stores one or more programs configured for execution by a computer, the one or more programs comprising instructions to analyze audio data based on an audio parameter, divide the audio data into segments, wherein each segment is characterized by the audio parameter in a defined range, select effects according to the segments meeting criteria for the audio parameter of the effects, and generate a media presentation using the selected effects.","In another aspect, a computer-implemented method comprises analyzing audio data based on an audio parameter, dividing the audio data into segments, wherein each segment is characterized by the audio parameter in a defined range, linking an audio requirements profile of each of one or more effects to an audio parameter, adjusting the one or more effects based on the audio parameter, generating a media presentation using the adjusted one or more effects.","In another aspect, a system comprises memory configured to store audio data and one or more processors configured to analyze audio data based on an audio parameter, divide the audio data into segments, wherein each segment is characterized by the audio parameter in a defined range, link an audio requirements profile of each of one or more effects to an audio parameter, adjust the one or more effects based on the audio parameter, and generate a media presentation using the adjusted one or more effects.","In yet another aspect, a computer-readable storage medium stores one or more programs configured for execution by a computer, the one or more programs comprising instructions to analyze audio data based on an audio parameter, divide the audio data into segments, wherein each segment is characterized by the audio parameter in a defined range, link an audio requirements profile of each of one or more effects to an audio parameter, adjust the one or more effects based on the audio parameter, and generate a slideshow\/media presentation using the adjusted one or more effects.","It is to be understood that both the foregoing general description and the following detailed description are exemplary and explanatory and are intended to provide further explanation of the invention as claimed.","Reference will now be made in detail to embodiments, examples of which are illustrated in the accompanying drawings. In the following detailed description, numerous non-limiting specific details are set forth in order to assist in understanding the subject matter presented herein. It will be apparent, however, to one of ordinary skill in the art that various alternatives may be used without departing from the scope of the present invention and the subject matter may be practiced without these specific details. For example, it will be apparent to one of ordinary skill in the art that the subject matter presented herein can be implemented on any type of standalone system or client-server compatible system containing any type of client, network, server, and database elements.",{"@attributes":{"id":"p-0036","num":"0035"},"figref":["FIG. 1","FIG. 1"],"b":["1000","1001","1002","1001","1003","6001","7001","1004","1005","1006","1007","1008","6002","7002","1009","1010","1011","1009","1012","1013","1014","1015","1000","1000","1001","6004","7004","1004","1005","7008","7009","1013","1014","1009","1012","6002","7002","7006","7012","7013","1008","1008","1015","1003"]},"In some embodiments, the exemplary embodiment of an application , and its features\/components, may be implemented by one or more modules\/engines (, reference numerals -) executed using an exemplary system  () with a central processing unit (CPU)  (and, alternatively, multiple CPUs), memory  for storing data (e.g., instructions from an operating system  or one or more programs (e.g., , )) to be fetched by the CPU for execution, a display device  for displaying the exemplary application  using a graphics module to a display screen, a network interface card (NIC)  for sending and receiving data over a wired or wireless communications network, local storage  for storing media content and other data (e.g., an operating system , the exemplary embodiment of an application , other applications, etc.), and auxiliary device(s)\/component(s)  (e.g., TV (or, other display), portable storage, portable media player, etc.), which may all be connected via a bus for sending and receiving data according to a frequency (e.g., synchronous or asynchronous).","In some embodiments, the features\/components of the application  may be described as follows. The document  (also, , reference numeral ) is the top level object of the media presentation\/slideshow that may be created (e.g., steps , ) using the exemplary application . The document is the object that may comprise: all of the custom\/default layers ,  (also, , reference numeral ) (e.g., steps , , ), effect containers such as, for example, those within the effect containers region  (also, , reference numeral ); effects such as, for example, those within the effect containers (also, , reference numeral ); gaps  or transitions  for separating or linking effects, respectively (also, , reference numeral ); slides such as, for example, the images of  or other media content as described above (also, , reference numeral , ) (e.g., step , ); frames ; a document\/layer\/effect stack ; a layer\/effect\/slide\/filter stack ; a playlist ; an animation path ; a song ; a keyframe  (which may, for example, be one dimensional (1D) , two dimensional (2D)  or a vector ()); filters ; a layer\/effect container\/effect\/slide\/filter stack ; and, any other possible combination of the aforementioned. Moreover, a document may contain layers that may be stacked\/placed one on top of another to provide the media presentation\/slideshow with an added level of flexibility in what is available for actual display (e.g., steps , , ). Accordingly, the application supports the presentation of less than all of the available layers. Stacking may involve a process, for example, of logically associating, or linking, layers. That is, a background layer  may be considered the lowest level layer in a stack of layers, followed by a foreground layer  and a plurality of other foreground layers, all of which would be logically associated according to their position from, for example, background layer , or from each other foreground layer. During display\/play of a document such as, for example, document , the layers would be displayed\/played according to their respective positions in the stack (logical associations). The next feature\/component is the layers  (background),  (foreground) (also, , reference numeral ) within a document  (also, , reference numeral ) (e.g., steps , ). Each layer ,  of a stack of layers (e.g., aggregated layers; steps , ) within a document can be positioned, sized, and rotated using the exemplary application . Further, each layer ,  may also have a custom audio file\/track (or, alternatively, a set of audio files\/tracks, or other media content) associated with it and other layers , , thus, providing a media presentation\/slideshow with multiple audio files\/tracks during presentation (e.g., steps , ). Each layer ,  may also contain effect containers (like, for example, those illustrated in the effect containers region ) (e.g., steps , ), which may be linked together in a layer using transitions  (also, , reference numeral ) or separated from one another using gaps  (or, alternatively, some other effect separation variable like, for example, random separation\/transition, or a combination of gaps and transitions, etc.) (e.g., ). Transitions , which through visual action\/expression may create the appearance that two effect containers are linked together, may be able to provide a rather \u201cfluid\u201d (or, alternatively, a \u201cnon-fluid\u201d) experience between effect containers when presenting a media presentation\/slideshow. For example, transitions may be the visual action\/expression of a page flipping, a slide dissolving, a slide being pushed along in any direction, a cube breaking apart (or, being assembled), a page rolling for the purpose of unveiling\/hiding contents, a puzzle being assembled (or, disassembled), or any other type of visual action\/expression applied to an effect container or slide and capable of being rendered on a display device. Slides in the exemplary application may be the actual image, movie, text, or other media content that may be within an effect, which may be within an effect container (e.g., steps , ). Slides may have frames applied as an added layer (e.g., on top), where a frame may be a visual element\/expression such as, for example, making an image appear as if it was taken using an instant photo camera (e.g., Polaroid\u00ae), is part of a filmstrip, has a solid\/dashed\/shadowed\/other border surrounding it, or other type of frame-related visual element\/expression. Further, each slide may have an animation path  that may determine which part of a slide image, movie, text, or other media content, is actually displayed\/played; similarly, an animation path  associated with the slide may cause a panning\/zooming effect to be executed on the image, movie, text, or other media content, where the panning\/zooming may occur within the effect of the slide. As applied to a layer, a user may also customize an animation path  via the exemplary application  to, for example, smoothly transition a layer's rotation from around zero (0) degrees all the way to three hundred sixty (360) degrees, over a default or custom period of time (e.g., steps , ). In some embodiments, transitions  may have durations associated with them to determine how long the transitions are played. The transition duration may be subtracted directly from the total duration of the effect containers separated\/divided by the transition. For example, when transitioning from an effect container with a three (3) second duration to another effect container with a three (3) second duration, that is, having a six (6) second total duration, using a transition with a one (1) second duration, the effect containers may only be played for a total of five (5) seconds (i.e., the total six (6) second duration of the effect containers minus the one (1) second transition display\/play duration leaves five (5) seconds of display\/play duration for the effect containers).","In some embodiments, effect containers may be able to determine the order that images (or, alternatively, other media content) associated with a layer (e.g., steps , ) are presented during a media presentation\/slideshow. Such a determination may be based according to characteristics associated with the images (or, alternatively, other media content) (e.g., steps , ). The characteristics may comprise a resolution, size, quality indicator, dots-per-inch, frames per second, window size, bit error rate (BER), compression type, or some other media content characteristic. The exemplary application  may execute this process of assembling the layers (e.g., steps , ) either manually or according to algorithms processing the characteristics and other layer-related data (described above). Further with respect to effect containers (e.g., a container or group of effects), multiple effects may be transitioned as one set into the next effect container. For example, effect containers are necessary in order for different text to be displayed on top of different effects. In some embodiments, from an implementation viewpoint, the effect containers permit the logical\/physical grouping of different effects and link each of the effects to their respective different text, which is to be displayed on top of each respective effect. Each effect container may, for example, further contain a variable for storing a specific duration for determining how long each of the effects associated with an effect container (or, alternatively, \u201cwithin\u201d the effect container) are displayed\/played.","In some embodiments, a keyframe  (which may, for example, be one dimensional (1D) , two dimensional (2D)  or a vector ()), may be used by an animation path  to guide or instruct the rate at which animation path  should operate. Meaning, the higher the value of a keyframe , the increased rate the animation path  may operate (e.g., a faster pan-zoom effect or a faster layer rotation), and the lower the value of a keyframe , the lower rate the animation path  may operate at (e.g., a slower pan-zoom effect or a slower layer rotation). A 1D  keyframe may be a keyframe that animates a property that has one value like, for example, a rotation angle. A 2D  keyframe may be a keyframe that animates a property that has more than one value like, for example, a position (x-axis point, y-axis point) or a size (width\/length, height). And, a vector  keyframe may be a keyframe that animates a property that has more than two values like, for example, colors that manipulate the different values of their constituent color components (e.g., red, green, blue, alpha).","In some embodiments, filters  operate as visual elements that are applied to a layer, effect container, effect, or slide. A filter  may be, for example, a shadow, blurred image, or some other compatible visual element capable of being applied to a layer, effect container, effect, or slide (e.g., steps , ).","In some embodiments, a playlist  associated with a document  may contain a list of songs (e.g., steps , ). The playlist  may organize songs such that they are played in a specific order, determined manually by a user of the exemplary application , or automatically through the exemplary application . An automatic playlist may be created according to song genre, file characteristics (e.g., type, size, date, etc.), or according to the feature for dynamically profiling a slideshow soundtrack based on various criteria like beats per minute (BPM), rhythmic strength (RS), harmonic complexity (HC), and\/or root mean square density (RMS or RMS strength). The songs (e.g., a reference to a playlist) may be stored in digital format in local storage  or on an auxiliary device\/component  that communicates with the system  through a communications protocol or standard. The songs may be stored in a single file (or, other logical\/physical data aggregator) or many files. In addition to songs, a playlist  may contain other compatible media content like videos with audio content (which, for example, may be parsed from the video file into an individual song\/audio file, or playlist). To associate a playlist, song\/audio file, or any compatible media content with a document , the user may select it\/them from the select media content  menu and drag the respective playlist, song\/audio file, or other compatible media content, via the exemplary application , into the effect containers region  (see, for example, the reference to \u201cDrag Audio Here\u201d in the exemplary application ) (e.g., steps , ). Songs may be played in the background while a document is being displayed\/played, or they may, alternatively, be associated with foreground layers or effects that may be organized on top of another, thus, enabling the songs to be switched in coordination with the various switching (e.g., via gaps or transitions) from one layer or effect to another (e.g., steps , ). Further, songs may, according to a default setting, start and stop playing based on the start and stop times that may be given from a media player or media management application. The user of the exemplary application  may, however, define a custom start or stop time via a song (or, playlist) menu option of the application .",{"@attributes":{"id":"p-0043","num":"0042"},"figref":["FIG. 2","FIG. 1"],"b":["2000","1003","2001","2002","2003","6001","7001","6002","7002","7008","7009","2001","2002","2003","2011","2013","2003","2007","2008","2009","2002","2003","2010","2003","2012","2003","7007","7014","2012","1000","2000","7015","7007"]},{"@attributes":{"id":"p-0044","num":"0043"},"figref":"FIG. 2A","b":["2000","2020","2021","2022","2023","2022","2020","2021","2023","2021","2022","2023","2021","20222","2023"]},{"@attributes":{"id":"p-0045","num":"0044"},"figref":"FIG. 3","b":["1000","4000","4001","3000","4002","4006","4005","3001","3002","3002","3002","3003","3003","3003","3004","3004","3004","3003","3002","3000","3019","1000","4000"]},{"@attributes":{"id":"p-0046","num":"0045"},"figref":["FIG. 3A","FIGS. 4-5"],"b":["3000","3020","3021","3022","3023","3000","1000"]},"In some embodiments, the core  module may be considered the low-level data structure module and it may, for example, perform routines for representing how a slideshow\/media presentation document is constructed, and contain the necessary information for accurately representing a slideshow\/media presentation document according to features, many of which are described herein (e.g., steps -, -). Some of those features may include, for example, features related to timing (e.g., gaps , transitions ), positioning (e.g., background layer , foreground layer , effects of effect containers -, slides , filters , text ), sizing (e.g., keyframe , animation path , as well as their interaction), and files (e.g., songs , playlists ).","In some embodiments, the producer  may be considered the module for creating how a slideshow will look and feel (e.g., steps -, -), performing several analyses related to media content (e.g., images, audio, video of layers, effect containers, effects, and slides) (e.g., step ), and automatically assembling slideshows\/media presentations according to data that may result from the analyses (e.g., steps , , ). The several analyses (e.g., step ) may include analysis of characteristics related to layers, effect containers, effects, and slides. Such characteristics may include, for example, layer type (e.g., background , foreground ), layer number (e.g., position in relation to the background-most layer ), number of effect containers, length of gaps  and transitions , type of transitions , type of effects, number of effects, number of slides, type of slides, document length , user preferences (e.g., for ordering layers, effect containers, effects, slides), audio analyses, video analyses, or other similar characteristics. After performing the several analyses using, for example, the producer , the resulting data from the several analyses may be processed by the producer , the core , the renderer , the exporter , or other module (e.g., step ). The producer  may, for example, interface with and utilize the application programming interfaces (API) of frameworks like, for example, browsers or QuickTime\u00ae to gather such information as thumbnail data and resolutions for images, as well as audio or video durations or other characteristics. The gathered information may then be processed by the producer  in accordance with one or more general\/specific algorithms (or, other analytical methods) and then used by the producer  (or, other module with which the producer  may call), for example, to automatically assemble a slideshow or media presentation document (e.g., ). The producer  may further, for example, assemble a document via core  for play\/display using the features of renderer , by accessing photos and coupling such photos with a style (e.g., ). In addition, the producer  may also, for example, perform audio analysis functions on songs  or a set of songs (playlist ) using such analysis like, for example, beat detection\/mapping as described below. The producer  may also keep track of available styles (e.g., ), effects , transitions , and frames .","In some embodiments, the renderer  may be considered the play\/display module. The renderer  may receive slideshow\/media presentation data from, for example, the core  and producer  and may render such data such that it may be sent to a graphics card or other display device (or interface) (e.g., ). The renderer  may interface with QuickTime\u00ae media player (e.g., the framework of QuickTime\u00ae media player) or another compatible application (or, framework) for audio\/video decoding. In addition, the renderer  may also interface with a composer-type application for actual rendering (e.g., of the slides), and the same or another similar application for applying filters .","In some embodiments, the exporter  may be considered the sharing module. The exporter  may, for example, use renderer  to export the slideshow\/media presentation document to different formats (e.g., file formats) like those supported by QuickTime\u00ae or other similar applications. The exporter  may, for example, obtain movie frame-type data from renderer  and add it to a movie-type file. When the exporter  is finished retrieving data for each movie, the slideshow\/media presentation document would be available for access and sharing through the exemplary application  or other applications that may access or handle the document in its final format.",{"@attributes":{"id":"p-0051","num":"0050"},"figref":["FIG. 4","FIG. 4"],"b":["4000","1000"]},{"@attributes":{"id":"p-0052","num":"0051"},"figref":["FIG. 5","FIG. 3A","FIG. 4"],"b":["5001","5004","5010","5013","5000","5001","5004","5010","5013","4008","5008","4009","5009","4008","5008","4009","5009","4008","5008","4009","5009"]},{"@attributes":{"id":"p-0053","num":"0052"},"figref":["FIG. 6","FIG. 4"],"b":["6000","6001","6002","6003","6004","6000","6001","6004","1000"]},{"@attributes":{"id":"p-0054","num":"0053"},"figref":["FIG. 7","FIG. 4"],"b":["7000","6000","7005","7015","7000","7001","7015","1000"]},{"@attributes":{"id":"p-0055","num":"0054"},"figref":["FIG. 8","FIGS. 1 and 3A"],"b":["1008","1003","1000"]},{"@attributes":{"id":"p-0056","num":"0055"},"figref":["FIG. 9","FIG. 9"],"b":"9000"},"At step , the song\/audio file or playlist (i.e., audio data) is analyzed based on various audio parameters. Producer  may perform the analysis on the song\/audio file or playlist in the effects container region  of exemplary application . Alternatively, producer  may analyze all of the songs\/audio files stored in local storage  or auxiliary device\/component .","In some embodiments, producer  performs beat mapping to analyze the song\/audio file or playlist. Beat mapping is a process for accurately finding the beats of music, including at the beginning of a song, after song breaks, or when the pace of the music changes. Beat mapping may also include beat pattern recognition (e.g., first beats of bars, drum breaks, etc.). It allows mapping of effects  (or ), transitions  (or ), or filters  to the beat and the flow of the music. For example, when effects play for four beats (or one bar), beat mapping allows the effects, filters, or transitions to be synced to the real bars of the music.","An example of a beat mapping algorithm is provided. It will be apparent to those skilled in the art that various modifications may be made to the beat mapping algorithm. The beat mapping algorithm has two phases: 1) beat detection and 2) analysis of the beats. During the beat detection phase, the audio files\/songs are analyzed to determine features that indicate the pace of the music. The features of pace may include the beats, which is a strong change in sound energy (e.g., base drum or snare drums) or a change in notes of the music. The second phase is analysis of the beats to find the patterns of the music and to infer the full beat of the music. In some embodiments, analysis of the sound signal is performed on frequency bands. Analysis using frequency bands allows a first instrument, such as a bass drum, to be separated from voices or other instruments, such as snare drums.","The beat detection phase may include Fourier analysis. For example, the analysis may include computing Fast Fourier Transforms (FFTs) of the sound signal on windows approximately 1\/40 second wide at about eighty (80) windows per second. Each window may overlap. Before performing the FFTs, Hamming windows may be applied to minimize the edge effects on the FFTs. In this example, 80 FFTs per second result, which are then separated into bands (e.g., 8 or 16). For each band and each window, the energy, energy history, and the relative energy delta may be computed. Energy history may represent the sum of the energies a time interval before the window. The relative delta may represent the energy delta with the previous window with respect to the energy history. In this example, a large energy delta in a quiet part of a song is more important than an equally large energy delta in a loud part. Beats of music may be detected using the relative energy. The beats are a time when the relative energy delta is greater than a defined number. For example, this occurs when there is a loud boom in a piece of music. The defined number determines how sensitive the beat detection is. The defined number may be deduced from the music using energy variance or may be held constant.","In some embodiments, the analysis of the beats phase may include finding patterns in the detected beats, removing extra beats, and\/or handling missing beats. Various techniques may be used to analyze the beats including a phase-locked loop with gradient method, multi-agent systems, comb filters, or particle systems. It will be apparent to those skilled in the art that various modifications and variations can be made to the types of processes used for analyzing beats.","An example of the analysis of the beats phase may include analysis using a type of auto-convolution and then using a type of comb filter algorithm. The type of auto-convolution may include generating intervals between the beats that are close to each other. The length of the intervals is then compared using a modified greatest common denominator (GCD) to find a close common denominator between them. For example, if two intervals are of length forty nine (49) and sixty three (63), the modified GCD will find that sixteen (16) is a close common denominator to them. A common denominator found often generally has a greater chance to be related to the local period of the beat. This type of auto-convolution analysis allows intervals to be related, and thus it may be statistically possible to find the number of beats per bar. The number of beats per bar is typically four (4), however it can be three (3) or (5). In addition, the auto-convolution analysis allows for identifying which beat period is associated with which beat. This may be used to build beat sets (i.e., beats that are related to each other using the given beat period) and then to find patterns or music phrases. Because the beat periods may be approximations due to the imprecision of mathematical processes, such as the sampling rate, the FFT window, beat detection, etc., the same interval may have a period that varies by two samples. Thus, a phase to consolidate the periods may be used. For example, if the periods are  and , they may become the same period. The cardinal of the sets of beats that are related to each period may then be taken. The likely period of the mean beat may then be deduced. Because of the consolidation phase, which allows for an identification of related beat sets, an identification of several distinct phases of beats with different beat periods may be made.","The comb filter analysis may include taking a comb function that is equal to one (1) where a beat was detected (A) and zero (0) where not (A) and convolving it with a function that is mainly zero and has triangular spikes around potential beats given a beat period and a number of beats (B(p,n)). The detected beats (A) may be analyzed as follows:",{"@attributes":{"id":"p-0064","num":"0063"},"chemistry":{"@attributes":{"id":"CHEM-US-00001","num":"00001"},"img":{"@attributes":{"id":"EMI-C00001","he":"3.56mm","wi":"30.40mm","file":"US08626322-20140107-C00001.TIF","alt":"embedded image","img-content":"chem","img-format":"tif"}}},"br":[{},{}]},"The convolution gives a score of how the tried period p matches the detected beats in the signal. For example, the narrower the triangles, the more the match must be precise. This calculation is done for each beat. The period may be adapted to find the best match around the current period. The match may be done with two beats first and if the score is good (approximately equal to two (2)), then the beat is taken and the matching analysis may move to the next beat. If the beat is not good, then the match is attempted with four (4), eight (8), sixteen (16), and thirty two (32) beats. The amount by which the period may be adapted may depend on the number of potential beats that are being tested. For example, for two (2) or four (4) beats, the period may hardly change. For thirty two (32) beats, the period may change more. Thus, if there is a good match for the next potential thirty (32) beats, even if there is a large change in period, the analysis may be more correct. However, if the analysis is only done for two (2) or four (4) beats, then the analysis may focus on whatever extra beat exists. The comb filter algorithm described above may be performed forward and backward from a reference beat. The reference beat may be chosen using criteria meant to ensure that it is the main beat of the music. The main beat may be the biggest beat set and the comb filter algorithm may sufficiently extend from it both backwards and forwards.","In some embodiments, beat mapping, including beat detection and analysis of the beats, is used to determine values for an audio parameter or audio parameters of a song. For example, for each song, producer  analyzes the song using beat mapping to determine values for audio parameters - as shown in . The audio parameters - may include beats per minute (BPM), rhythmic strength (RS), harmonic complexity (HC), and\/or square root of the arithmetic mean of the square of density variations (RMS strength). Other parameters may also be used. BPM may refer to the basic pace of a piece of music. Typically, the BPM for a song is not a constant value through the duration of the song. Rather the BPM adjusts dynamically throughout the song. The RS of a piece of music may characterize the rhythm of the piece of music. For example, a drum in a techno song may receive a high score, while a flute in a classical piece of music may receive a low score. In this example, the RS may be different between two pieces of music even though the pace of each of the pieces is the same. The HC of a song may represent how many instruments or musical parts are playing at the same time. HC is used to identify and differentiate different parts of a song. For example, HC may be used to identify and differentiate between the introduction, the waiting period (i.e., with few parts), and the main melodies (i.e., where the full range of instruments may be deployed) of a song. The RMS strength (i.e., square root of the arithmetic mean of the square of density variations) of a song is used to distinguish between the loud parts and the more peaceful of a song. The RMS strength may be based on the actual volume of the song and is used as a relative measure.","At step  shown in , the song\/audio file or playlist is divided into segments. Step  may be performed by producer . A segment may be defined as a period of time in the song\/audio file or playlist where the audio parameter(s) - is in a range of values. The range of values may be user-defined or automatically defined by system . Producer  may divide the song\/file or playlist into chunks based on values of the parameters. If the audio parameters fall within a particular range of values, then producer  may create a segment or segments. For example, as shown in , segments - each have a different range of values for audio parameter(s) -. In some embodiments, system  uses the segments - of songs\/audio files or playlists and associated audio parameter(s) - in the authoring or generation of slideshow\/media presentations. More specifically, producer  may apply the segments - of songs\/audio files or playlists and associated audio parameter(s) - to effects - (also, , reference numeral  and , reference numeral ). Producer  may also apply this information to transitions  (also, , reference numeral ), or filters .","At step , effects  (also, , reference numeral  and , reference numerals -) are selected. The processes for selecting effects may apply to transitions  (also, , reference numeral ), or filters . Producer  may select the effects. For example, producer  may select effects according to whether the segments - meet an acceptance range(s) (or criteria) for audio parameter(s) of the effects . If the segment meets the acceptance range(s) (or criteria) for the audio parameter(s) of the effect, the effect is included in a list of possible effects for authoring a media presentation\/slideshow. If the segment does not meet the acceptance range(s) (or criteria) for the audio parameter(s) of the effect, the effect is excluded in the list of possible effects for authoring a media presentation\/slideshow.","In some embodiments, the selection of effects may include additional steps. These steps may be performed by producer . For example, producer  may associate each of the segments - with a segment profile. The segment profile may include the defined range of the audio parameter(s) for each segment. Producer  may define an audio requirements profile for each of the effects. The audio requirements profile may include the acceptance range(s) or criteria for the audio parameter(s). A style of an effect may also have acceptance range(s). Producer  may compare the segment profile for each of the segments to the audio requirements profile for each effect. Producer  may determine whether the segment profile for each of the segments meets the criteria for the audio parameter in the audio requirements profile. If the segment meets the acceptance range(s) (or criteria) for the audio parameter(s) of the effect, the effect is included in the list of possible effects for authoring a media presentation\/slideshow. If the segment does not meet the acceptance range(s) (or criteria) for the audio parameter(s) of the effect, the effect is excluded in the list of possible effects for authoring a media presentation\/slideshow.","In some embodiments, a user may select or filter (i.e., include or exclude) effects  (also, , reference numeral  and , reference numerals -) using application . A user may drag the audio file\/song into the add effect containers region  (see, for example, the reference to \u201cDrag Audio Here\u201d in the exemplary application ). Producer  may automatically filter or select the effects as described above. The selected or filtered effects may be displayed in the main effects library  or in the edit layers and add effect containers region  by producer .","At step , a media presentation is authored or generated using the selected or filtered effects. The selected or filtered effects may be synchronized with the audio files\/songs. Producer  along with core  and renderer  may automatically assemble the selected or filtered effects with the audio files\/songs in the effects containers region . Producer  may automatically rearrange or assemble the selected or filtered effects to be synchronized with the audio files\/songs.",{"@attributes":{"id":"p-0072","num":"0071"},"figref":["FIG. 10","FIG. 10"],"b":["10001","10002","8001","8002","10003","10005","10003","9001","9003","3021","10003"]},"At step , the effects may be adjusted based on the linked audio parameters -. The effect style  may also be adjusted. For example, the transition duration  or , effect duration, the in point of an effect (i.e., the time the effect begins), and out point of the effects (i.e., the time the effect ends) may be adjusted. For example, transition durations  or  may be adjusted to be shorter for a higher BPM. The transition durations  or  may be lengthened for a longer BPM.","At step , a media presentation is authored or generated using the adjusted effects. Because the effects are adjusted based on the audio parameters -, they may be synchronized with the audio files\/songs. For example, producer  along with core  and renderer  may automatically assemble the adjusted effects  (also, , reference numeral  and , reference numerals -) with the audio file\/song in the effects containers region . Producer  may automatically rearrange or assemble the adjusted effects to be synchronized with the audio files\/songs. In some embodiments, the method shown in  can be used in conjunction with the method shown in .","It will be apparent to those skilled in the art that various modifications and variations can be made to the present invention without departing from the spirit or scope of the invention. Thus, it is intended that the present invention cover the modifications and variations of this invention provided they come within the scope of the appended claims and their equivalents."],"BRFSUM":[{},{}],"heading":["FIELD OF INVENTION","BACKGROUND OF INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The accompanying drawings, which are included to provide a further understanding of the invention and are incorporated in and constitute a part of the specification, illustrate embodiments of the invention and together with the description serve to explain the principles of the invention. In the drawings:",{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 2A"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 3A"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 10"}]},"DETDESC":[{},{}]}
