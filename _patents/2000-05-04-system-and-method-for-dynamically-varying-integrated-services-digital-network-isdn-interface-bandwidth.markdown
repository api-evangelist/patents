---
title: System and method for dynamically varying integrated services digital network (isdn) interface bandwidth
abstract: A method for dynamically varying bandwidth of a primary rate ISDN interface includes requesting, over a data (D) channel, allocation of at least one first B channel of the primary rate ISDN interface. When notification of allocation of the first B channel is received, over the D channel, data is sent over the first B channel. A relationship is monitored between a first bandwidth demand parameter and first and second threshold values. If a predetermined relationship exists between the first bandwidth demand parameter and the first threshold value, allocation of at least one second B channel of the primary rate ISDN interface is requested. In response to receiving notification of allocation of the second channel, data is sent over the second B channel. The second B channel is released in response to a relationship between the first bandwidth demand parameter and a second threshold. A hyper primary rate ISDN interface (HPRI) defines a virtual primary rate interface (PRI) that does not include a predetermined number of B channels. A bandwidth user can statically request any number of the available bearer channels. Alternatively, B channels can be dynamically allocated or de-allocated based on demand.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06973037&OS=06973037&RS=06973037
owner: Nortel Networks Limited
number: 06973037
owner_city: St. Laurent
owner_country: CA
publication_date: 20000504
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["TECHNICAL FIELD","BACKGROUND ART","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION","Operating Environment","Host-Side Software","Switch-Side Software","Bandwidth Allocation Control Protocol"],"p":["This invention relates generally to an ISDN interface and more particularly to a variable bandwidth primary rate ISDN interface.","The existing public switched telephone network (PSTN) was intended to carry voice transmissions, i.e., people talking to other people, over standard, twisted pair copper phone lines. The integrated services digital network (ISDN) uses the same copper phone lines. The \u201cintegrated\u201d portion of ISDN, however, refers to the combination of voice and data services over the same wires (that is, it is possible for computers to connect directly to the PSTN without having to convert signals to analog audio signals). Because ISDN uses the existing local telephone wiring, ISDN is available to home and business customers.","In the integrated services digital network, there are two levels of service, namely basic rate interface (BRI) and primary rate interface (PRI). Both BRI and PRI include a number of B channels (B for bearer) and a D channel (D for data).","The D channel is used to exchange signaling information between the telephone company's central office (CO) and ISDN equipment, for example, between a CO and a private branch exchange (PBX), such as a multiple line office telephone network. The B channel carries voice or data signals. Each B channel can carry a separate telephone call and is typically identified by a separate telephone number.","PRI consists of twenty-three B channels and one D channel on a T1 line, or 23B+D, and thirty B channels and one D channel on an E1 line, or 30B+D. Each channel can carry 64 kilobits per second (kbps). Thus, a PRI user can have up to 1.544 Mbps service on a T1 line, or up to 2.048 Mbps service on an E1 line. PRI uses the Q.931 protocol to send call signaling messages over the D channel.","PRI channels are carried by T1 lines in the United States, Canada, and Japan and by E1 lines in other countries. The twenty-three\/thirty B channels that a customer is allocated can be used flexibly and reassigned if necessary to meet special needs when large amounts of data are sent and received, such as video conferences or downloading large files.","When a customer, such as a business, purchases a T1 line, the customer is allocated all twenty three bearer channels of the T1 line and the data channel of the T1 line. At any given time, the customer can only be using some of the channels on the T1 line, while other channels remain idle. However, the customer is required to pay for the bandwidth for the entire T1 line, which is currently about $2,000 per month. In addition, if a customer's bandwidth needs extend beyond those of a single T1 line, the customer must purchase another fixed unit of bandwidth, such as another T1 line. Thus, under the current scheme, ISDN bandwidth cannot be allocated dynamically to customers.","In order to maintain quality of service (QoS) a customer must purchase a predetermined number of B channels to meet anticipated demand. Moreover, the CO must also have switching circuits available to accommodate the customer's fixed bandwidth whether or not the circuits are used. However, as indicated above, T1\/E1 lines are not inexpensive and multiple lines can result in excessive cost to the customer who only occasionally needs a large bandwidth.","Quality of service includes many different measurements used to determine the quality of a given network connection. For example, quality of service can be the end-to-end delay between endpoints, the bit rate, the unused bit rate, etc. Various schemes for managing quality of service have been implemented in upper layer protocols, i.e., layer  and above. For example, in the TCP\/IP protocol stack, it is known to provide quality of service management functions at the IP layer (layer ), and at the transport layer (layer ). Similarly, in the ATM protocol stack, it is known to provide quality of service management functions at the ATM layer (layer ). While these techniques effectively manage quality of service at higher levels, the quality of service of a given connection is ultimately limited by the bandwidth provided by the physical layer (layer ). Therefore, what is needed is a method for dynamically allocating bandwidth at the physical layer.","One technology known as BONDING (Bandwidth ON Demand Interoperability) used with BRI combines two telephone lines into a single channel, effectively doubling the data transfer speeds. However, to take advantage of channel BONDING, there must be two or more modems and two or more telephone lines already allocated to the user. In addition, BONDING is accomplished with respect to BRI, and not PRI. Accordingly, BONDING does not provide a method for dynamically allocating primary rate ISDN bandwidth.","This invention results from the realization that a truly effective and efficient primary rate ISDN interface is accomplished by dynamically allocating and deallocating B channels to increase and decrease bandwidth as the demand varies by monitoring a bandwidth demand parameter and comparing it to a predetermined threshold value.","The invention features a method of dynamically varying the bandwidth of a primary rate integrated services digital network interface for transmitting data. The method includes sending data over a first channel, monitoring a relationship between a first bandwidth demand parameter and a first threshold and monitoring a relationship between the first bandwidth demand and a second threshold. At least one additional channel for transmitting data is allocated in response to a predetermined relationship between the first bandwidth demand parameter and the first threshold. The additional channel for transmitting data is released in response to a predetermined relationship between the second value and the second threshold.","The first bandwidth demand parameter can include the level of data stored in a queue and the first threshold can include a first predetermined level of data in the queue. The second threshold can include a second predetermined level of data in the queue. A second bandwidth demand parameter that can be monitored can include an amount of time that the additional channel has been allocated and the second threshold can include a predetermined amount of time. When the additional channel has been allocated for a predetermined amount of time, the channel can be released.","It is therefore an object of the present invention to provide a system and method for dynamically allocating bandwidth based on demand.","A hyper primary rate interface (HPRI) defines a virtual primary rate interface (PRI) that does not include a predetermined number of B channels. A bandwidth user can statically request any number of the available bearer channels. Alternatively, B channels can be dynamically allocated or de-allocated based on demand.","An object of the invention having been stated hereinabove, and which is achieved in whole or in part by the present invention, other objects will become evident as the description proceeds when taken in connection with the accompanying drawings as best described hereinbelow.","Traditional primary rate ISDN interfaces are defined by a provisioned or fixed allocation of B and D channels. The allocation of multiple channels has typically been cost prohibitive to home users and small businesses because the user must pay for the channels whether or not they are being used.",{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 1","b":["10","10","12","14","16","18","12","14","16","20","14","18","20","14","18","20","12","18"]},"CO  is connected via multiple T1\/E1 lines , consisting of a number of B and D channels, to Internet service provider (ISP) . Additional HPRIs  are provided between T1\/E1lines  and both CO  and ISP . ISP  typically includes a modem , a server  and a router  to provide access to Internet .",{"@attributes":{"id":"p-0029","num":"0028"},"figref":["FIG. 2","FIG. 2","FIG. 1"],"b":["14","12","26","28","18"]},"In , a bandwidth watcher  monitors bandwidth demand of a bandwidth user. For example, bandwidth watcher  can monitor send queues of a host computer at the network layer, the transport layer, the application layer, the datalink layer or the physical layer. Bandwidth watcher  communicates with connection maker\/breaker  to dynamically request and release physical layer bandwidth in response to demand using bandwidth allocation control protocol (BACP) . Bandwidth allocation control protocol  provides novel messages for dynamically requesting and releasing bandwidth. Connection maker\/breaker  sends bandwidth allocation control protocol messages over D channel  between a service recipient, such as an end user, and a service provider, such as a telephone end office.","Bandwidth watcher  and connection maker\/breaker  cooperate to dynamically request and release B channels  in response to bandwidth demand. For example, if an end user requires one B channel initially and later needs two additional B channels, the additional B channels can be allocated dynamically without requiring the customer to purchase fixed blocks of bandwidth. When the customer's needs decrease, the B channels can be de-allocated using the bandwidth allocation control protocol, thus freeing up bandwidth for other users. As a result, end offices can be designed more efficiently. The mechanisms for monitoring bandwidth and for allocating additional bandwidth will be discussed in more detail below.","The remaining blocks illustrated in  illustrate conventional call control and Internet protocol software and are included for completeness. For example, protocol stack generally designated  includes protocol software through which applications  communicate with applications executing on other physical machines. For example, applications  access TCP\/IP protocol software  using an application programming interface . In the illustrated embodiment, the application programming interface is the Winsock interface. In an alternative embodiment, the application programming interface could be the Berkley sockets interface. As stated above, bandwidth watcher  monitors bandwidth demand at one or more layers of protocol stack  to determine whether additional physical layer bandwidth is needed. Multi-link protocol software  controls segmentation and reassembly of packets between end users. Data link layer software layer  handles communications between physical machines. For example, data link layer software  can include Ethernet software. Channel bundler  inserts data into time slots in B channels  to increase bandwidth by bonding multiple channels.","Protocol stack generally designated  performs conventional call control signaling. For example, call control block  can include an application layer call control such as the session initiation protocol (SIP). As stated above, connection maker\/breaker  requests and releases additional B channels in response to bandwidth demand. Q.931 block  includes functionality for call setup and call teardown between end users. LAPD block  provides datalink layer services for D channel communications.","Applications , Winsock interface , and TCP\/IP module  are typical protocol stack functions implemented on a host computer. The remaining blocks illustrated in  that comprise a hyper primary rate interface (HPRI) according to embodiments of the present invention may be implemented in or on a host computer, or on a hardware module located external to the host computer.",{"@attributes":{"id":"p-0035","num":"0034"},"figref":["FIG. 3","FIG. 2","FIG. 3","FIG. 3"],"b":["200","202","1","202","2"]},"In step ST, bandwidth watcher  monitors a relationship between a bandwidth demand parameter and first and second threshold values. In this example, it is assumed that the bandwidth demand parameter is the level of data in a send queue associated with a sending application. The first threshold value can be a first level of data in the send queue that indicates that additional bandwidth is needed. The second threshold can be a second level of data in the send queue lower than the first level that prompts the release of additional bandwidth. Having two thresholds provides a hysteresis and reduces the likelihood of oscillation between allocation and de-allocation of additional bandwidth.","In step ST, bandwidth watcher  determines whether the bandwidth demand parameter is greater than the first threshold. If the bandwidth demand parameter is not greater than the first threshold, bandwidth watcher  continues monitoring the bandwidth demand parameter. If, on the other hand, the bandwidth demand parameter exceeds the first threshold, in step ST, bandwidth watcher  instructs connection maker\/breaker  to request at least one additional B channel from the central office switch. In this step, the number of additional B channels requested depends on the bandwidth demand. Because embodiments of the present invention do not require allocation of fixed blocks of B channels, such as 23 B channels in the conventional PRI case, any number of additional B channels can be requested. In step ST, provided that the additional channels are available, bandwidth watcher  receives notification that additional bandwidth bas been allocated. The notification preferably identifies the additional channels and provides information sufficient for the host to use the additional channels.","In step ST, bandwidth watcher  determines whether the bandwidth demand parameter is below the second threshold. As stated above, the second threshold is a de-allocation value which is lower than the first threshold. If bandwidth watcher  determines that the bandwidth demand parameter is not less than the second threshold, bandwidth watcher  continues to monitor the relationship between the bandwidth demand parameter and the threshold values. If bandwidth watcher  determines that the bandwidth demand parameter is below the second threshold, in step ST, bandwidth watcher instructs connection maker\/breaker  to release the additional channel. Thus, the flow chart in  illustrates steps that can be performed to dynamically request and release additional B channels in response to bandwidth demand. The bandwidth demand is determined in this example by the level of data in a send queue.","While  illustrates steps required for dynamic bandwidth control based on send queue data levels,  illustrates exemplary steps that can be performed by bandwidth watcher  and connection maker\/breaker  to dynamically request and release additional B channels based on a single send queue data level and a timer. In , it is assumed that at least one D channel is open between the end user device and the central office switch to allow exchange of bandwidth allocation control protocol messages. Referring to , in step ST, connection maker\/breaker requests an initial bandwidth allocation. As stated above, this initial request can be performed by sending a bandwidth allocation protocol message. Assuming that the central office has bandwidth available, in step ST, the bandwidth watcher receives notification that the initial bandwidth has been allocated. This notification can be a bandwidth allocation control protocol message identifying the B channels that can be used by the host. In step ST, bandwidth watcher  monitors a bandwidth demand parameter. In this example, like the first example, the bandwidth demand parameter is the level of data in the send queue.","In step ST, bandwidth watcher  determines whether the bandwidth demand parameter exceeds a first threshold. The first threshold can be a predetermined maximum level of data in the send queue. If the bandwidth demand parameter does not exceed the threshold, bandwidth watcher  continues to monitor the parameter. In step ST, if bandwidth watcher  determines that the bandwidth demand parameter exceeds the threshold, bandwidth watcher  instructs channel maker\/breaker  to request at least one additional B channel to the end user (step ST).","In step ST, bandwidth watcher  receives notification that additional channel(s) have been allocated via the bandwidth allocation control protocol. In step ST, once the additional B channel or channels have been allocated, bandwidth watcher  starts a timer. The value of the timer can be set according to the amount of data waiting in the queue to be sent. For example, if a large amount of data exists in the send queue, bandwidth watcher  can set the timer to a value sufficiently large to ensure transmission of all of the data. In step ST, bandwidth watcher  reads the timer value. In step ST, bandwidth watcher  determines whether the timer has expired. If the timer has not expired, bandwidth watcher  continues to monitor the timer value. If, in step ST, the timer has expired, bandwidth watcher  instructs connection maker\/breaker  to release the additional bandwidth. Thus,  illustrates exemplary steps that can be performed on a host for requesting and releasing ISDN bandwidth based on a threshold value and a timer value.",{"@attributes":{"id":"p-0042","num":"0041"},"figref":"FIG. 5","b":["18","502","18"]},"Central office switch  includes central primary rate interface resource manager  for managing a common pool of primary rate interface resources. Central primary rate interface resource manager  monitors the total amount of used primary rate interface bandwidth and the total amount of available primary rate interface bandwidth. Central primary rate interface resource manager  may implement call admission control (CAC) for the central office switch to admit or reject extra bandwidth, according to a vendor-specific algorithm. Host interface managers  receive bandwidth allocation control protocol messages from hosts  and manage primary rate interface bandwidth for each host. Accordingly, each host interface manager includes a bandwidth allocation control protocol (BACP) message processor  and a host primary rate interface resource manager . The bandwidth allocation control protocol message processor  of each host interface manager receives bandwidth allocation control protocol messages from each host and communicates with host primary rate interface resource manager  to allocate and de-allocate primary rate interface bandwidth. Each bandwidth allocation control protocol message processor  also formulates bandwidth allocation control protocol messages in response to messages received from each host . Thus, by communicating with each host using bandwidth allocation control protocol messages, central office switch  is capable of dynamically allocating and releasing primary rate interface resources to each host. This system can be contrasted with the conventional central office switch described above where a primary rate interface of  bearer channels and one data channel are statically allocated to each host and cannot be changed without hardware and\/or software modification to the central office switch.",{"@attributes":{"id":"p-0044","num":"0043"},"figref":["FIG. 6","FIG. 5"],"b":["506","1","506","2","506","3","506"]},"In step ST, host interface manager  determines whether the message is a request message, i.e., a message requesting primary rate interface bandwidth. If the message is a request message, in step ST, host interface manager  determines whether resources are available to fulfill the request. Determining whether resources are available can include examining resources managed by host interface manager . If host interface manager  has sufficient resources to allocate the requested bandwidth, host interface manager  can respond to the request by allocating resources for the host and notifying the host of the additional bandwidth allocation (step ST). If resources are not available, host interface manager  can notify the host that resources are not available (step ST) and return to step ST to receive the next bandwidth allocation control protocol message.","In step ST, if the message received from the host is not a release message or a request message, host interface manager  processes the message and returns to step ST. Thus,  illustrates an example of steps that can be performed by a host interface manager in dynamically allocating and releasing primary rate interface bandwidth in response to messages received from a host.","As stated above, in order to dynamically allocate and de-allocate primary rate interface bandwidth, host devices, such as modems, communicate with a central office switch using bandwidth allocation control protocol messages.  is a call flow diagram illustrating exemplary bandwidth allocation call control messaging that can be exchanged between a modem, such as a DSL modem, and a central office switch for dynamically allocating and de-allocating primary rate interface bandwidth. Referring to , in line  of the call flow diagram, in order to obtain an initial bandwidth allocation for a call, DSL modem  sends a CALL REQUEST message to central office switch . The CALL REQUEST message contains a first parameter x specifying a minimum number of channels and second parameter y specifying a maximum number of channels. For example, the call request message can request an initial allocation of 5 to 8 bearer channels. In line  of the call flow diagram, if central office switch  determines that resources for allocating the requested number of channels are available, central office switch  responds with a READY message. The READY message indicates that central office switch  is ready to provide the minimum and maximum number of channels requested in the CALL REQUEST message.","In line  of the call flow diagram, DSL modem  sends a CHANNEL REQUEST message to central office switch . The CHANNEL REQUEST message includes a request for allocation of z additional channels. The CHANNEL REQUEST message can be sent in response to the bandwidth demand parameter exceeding a threshold value. In line  of the call flow diagram, central office switch  sends a READY message indicating that the bandwidth on z additional channels is ready to be used. Once DSL modem  receives the READY message, DSL modem  is free to use z additional channels. DSL modem  continues to use the z additional channels until the bandwidth demand has decreased, as indicated by a specific level of data in the send queue or the expiration of a timer, as described above.","In line  of the call flow diagram when the additional bandwidth is no longer needed, DSL modem  sends a CHANNEL RELEASE message to central office switch . The CHANNEL RELEASE message identifies the number of channels being released. In response to receiving the channel release message, central office switch  frees the system resources corresponding to the de-allocated bearer channels. In line  of the call flow diagram, central office switch  sends a READY message indicating that the channels have been released. Thus, as illustrated in , the bandwidth allocation control protocol provides exemplary bandwidth allocation control protocol messaging through which bandwidth can be dynamically allocated and de-allocated in response to demand.","It will be understood that various details of the invention can be changed without departing from the scope of the invention. Furthermore, the foregoing description is for the purpose of illustration only, and not for the purpose of limitation\u2014the invention being defined by the claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Embodiments of the present invention will now be described with reference to the accompanying drawings of which:",{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 7"}]},"DETDESC":[{},{}]}
