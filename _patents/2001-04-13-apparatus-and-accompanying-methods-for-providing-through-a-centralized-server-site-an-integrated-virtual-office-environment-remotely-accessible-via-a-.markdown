---
title: Apparatus and accompanying methods for providing, through a centralized server site, an integrated virtual office environment, remotely accessible via a network-connected web browser, with remote network monitoring and management capabilities
abstract: Apparatus and accompanying methods for use therein for implementing an integrated, virtual office user environment, through an office server(s), through which a remotely stationed user can access typical office network-based applications, including e-mail, file sharing and hosted thin-client programs, through a remotely located network, e.g., WAN, connected web browser. Specifically, a front end, namely a service enablement platform (SEP), to one or more office servers on a LAN is connected to both the WAN and LAN and acts both as a bridge between the user and his(her) office applications and as a protocol translator to enable bi-directional, web-based, real-time communication to occur between the browser and each such application. During initial operation, the SEP, operating under a default profile, establishes, over an analog connection to the WAN, a management session with the site to obtain customer WAN access information, then tears down the analog connection and establishes a broadband WAN connection through which the SEP re-establishes its prior session and obtains a client certificate and its customized profile. The SEP then re-initializes itself to that particular profile.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06981041&OS=06981041&RS=06981041
owner: AEP Networks, Inc.
number: 06981041
owner_city: Somerset
owner_country: US
publication_date: 20010413
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CLAIM TO PRIORITY","COPYRIGHT NOTICE","BACKGROUND OF THE DISCLOSURE","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"p":["This application claims the benefit of our co-pending U.S. provisional patent application titled \u201cREMOTE NETWORK MONITORING AND MANAGEMENT\u201d filed on Apr. 13, 2000 and assigned Ser. No. 60\/197,404, which is incorporated by reference herein.","A portion of the disclosure of this patent document contains material which is subject to copyright protection. The copyright owner has no objection to the facsimile reproduction by anyone of the patent document or the patent disclosure, as it appears in the Patent and Trademark Office patent file or records, but otherwise reserves all copyright rights whatsoever.","1. Field of the Invention","The invention relates to apparatus and accompanying methods for use therein for implementing a secure, cost-effective, web-enabled, integrated, virtual office user environment, through a centralized server(s), through which a remotely stationed user can access typical office network-based applications, including, e.g., e-mail, file sharing and hosted thin-client application programs, through a remotely located network, e.g., WAN, connected web browser, as well as for remotely providing network monitoring and management capabilities through a centralized administrative web site. The present invention is particularly, though not exclusively, suited for use in small to medium size organizations which, for economic reasons, do not have adequate in-house computer support (technical and administrative) capabilities.","2. Description of the Prior Art","With laptop personal computers (PCs) having become rather ubiquitous over the last several years, individuals who are away from their office, typically desktop, PCs and hence not in communication with their office networks, because they are either traveling or are at home, often have a continuing need to gain access to those networks. Such access is required if, for no other reasons, than only for those users to transfer files between their laptop PCs and servers on these networks and\/or access their network-based e-mail servers (both for receiving incoming and transmitting outgoing messages).","This need is not only shared by many individuals but also by organizations of widely varying size, from large organizations to very small businesses and other groups.","The art teaches various approaches to meet this need. However, they are all deficient in one respect or another. In that regard, none of these approaches offers an effective, integrated solution that readily provides all the functionality obtainable using an office network through one simple remote user interface, such as a web browser.","Specifically, one approach is to simply install appropriate conventional communications software in each client laptop PC and permit its user to access, through a dial-up telephone line, his(her) office network to gain access to the network server for file transfer and e-mail functionality. All application programs would reside on and locally execute on the client laptop PC. While this approach is quite simple, nevertheless it necessitates that each and every such application program be installed, configured and then maintained on that PC. Consequently, over time, this approach, particularly in view of the on-going support costs of the installed application programs, can become quite expensive.","Another approach involves using a traditional virtual private network (VPN) to provide wide area network (WAN) connectivity from a user's remote or home location to an office local area network (LAN). A VPN WAN connection implements a so-called OSI layer 2 extension or \u201cconduit\u201d of the office network itself between the LAN and the user's remote\/home location. A remote client PC, connected through a VPN to an office LAN, locally appears on the LAN, as far as that user is concerned, as if that client PC were directly connected to it. In essence, for packets destined from the client PC to the LAN, a VPN connection therebetween involves, at a near end of the VPN connection, encapsulating outgoing OSI layer 3 packets at the client PC into layer 2 IP (Internet protocol) packets and transmitting those layer 2 packets over the VPN connection (in effect tunneling those layer 3 packets through the VPN connection), and subsequently, at a remote (LAN) end of the VPN connection, disassembling the layer 2 packets to yield the layer 3 packets and applying the resulting layer 3 packets onto the LAN for carriage to their ultimate destination, such as a network server. The opposite operation occurs in reverse for packets emanating from LAN, e.g., the server, and destined, over the VPN connection, to the remote client PC. Since the layer 2 packet tunneling is totally transparent to both the LAN and the client PC, advantageously the client PC can provide the same level of functionality to its user as if that PC were directly connected to the LAN.","Historically, a VPN connection required special, expensive VPN termination equipment located at each end of the connection, or required special client software to be installed and configured at the client machine. This equipment was rather expensive to acquire, and proved to be rather tedious to properly configure and hence costly to administer and maintain, particularly for those small to medium sized organizations that lacked adequate in-house technical support personnel.","In particular, at the remote client site, a so-called VPN terminator (also referred to as a \u201cclient-site VPN router\u201d) was connected to a client PC to bi-directionally interface that PC to the VPN connection. This terminator provided layer 2 packet processing as well as appropriate packet encryption\/decryption functionality. However, such a terminator, which included special-purpose software, was generally quite expensive to procure and needed to be installed and properly configured for its particular client PC\u2014the latter entailing significant costs in both time and money. To mitigate the cost somewhat, various currently available PC operating systems (O\/S's) now provide VPN support features, and, as an alternative, VPN vendors have built client VPN software that runs on the client machine and interacts with that vendors' own VPN server or with VPN servers from other vendors. Such client VPN software has been built to work with conventional PC O\/S's such as Windows 98, Windows NT, Windows 2000, etc. However, PC O\/S-based or client software based VPN support requires considerable packet processing (e.g., for packet encapsulation and disassembly, and cryptographic processing), which disadvantageously imposes a significant processing burden on the PC\u2014though this burden may be acceptable for a home PC with a relatively light processing load, rather than a remote PC connected to an office network.","Furthermore, VPN services must be very secure. Unfortunately, until rather recently such PC O\/S-based VPN support used a rather small key size, such as 40-bits, which generally does not provide sufficient security against third-party intrusion. While relatively new PC-based operating systems have become available that exhibit significantly increased VPN security, through use of triple DES and IPsec features\u2014such as MICROSOFT\u00ae WINDOWS\u00ae 2000 O\/S (\u201cWINDOWS\u00ae 2000\u201d is a trademark of the Microsoft Corporation of Redmond, Wash.), this support still presents a considerable processing load to the PC; hence, denigrating PC performance, specifically processing throughput.","Moreover, such PC operating systems, whether those exhibiting increased VPN security or not, still do not provide requisite reliability.","As such, to provide VPN connectivity with required levels of security and reliability without imposing an undue processing load on the client PC, use of a separate dedicated client-site VPN terminator\u2014even in view of its expense\u2014is still strongly favored in practice.","Not only is expensive, specialized VPN equipment required at the client site (or alternatives such as OS-based VPN support or client software packages, both with their accompanying problems, need to be used), but it is also necessary, to an even greater extent, at the LAN (central) site. At the LAN site, VPN support requires installation and configuration of an office-site VPN router. Office-site routers are considerably more expensive than client-site VPN routers for the simple reason that the processing circuitry in the former, which implements the necessary cryptographic and packet processing operations, is sized based on a number of users that need to be simultaneously supported. Each user is allocated a certain slice of the available processing capacity. Even if such a router is sized to support just a few simultaneous remote users on the LAN, its cost can easily amount to several thousands of dollars, with the cost rapidly escalating as user load and hence necessary processing capacity of the VPN router increased. Recently, server operating systems, such as the MICROSOFT\u00ae WINDOWS\u00ae 2000 server O\/S, have become available that incorporate multi-user VPN support with sufficient security features; however, such support drains considerable processing resources from the server and still is insufficiently reliable. Moreover, if such a server O\/S-based approach is used, counterpart client-site software, such as the Windows 2000 O\/S, must be installed and properly configured on each client PC, which, if a large number of remote users exists, can be rather expensive and time consuming.","Therefore, in view of the relatively high cost involved, most small to medium sized organizations were and continue to be unable to afford the use of VPN connectivity, thus precluding themselves from providing secure remote office access to their internal networks and various business efficiencies and productivity increases that could have gained thereby.","A further, though totally different approach, evolved in the art for providing remote connectivity to an office LAN. This approach, predicated on an \u201capplication service provider\u201d (ASP) model, involves installing specialized server software, such as \u201cMetaframe\u201d software available from Citrix Corporation, in the network server and an \u201cICA\u201d client program in each client PC. Through the Metaframe program, the network server situated on the LAN would function as an ASP by hosting multiple virtual sessions of a given application program executing on the server, in effect implementing multiple virtual machines, to various different remotely located client PCs. Each remote client, running the ICA client program, would access, over, e.g., a WAN connection, a desired thin-client application hosted at the LAN-based server and establish a separate application session. The ICA client would communicate mouse clicks and keystrokes entered by a user stationed at the client PC, over the WAN connection, to the Metaframe program executing in the server which, in turn, would provide screen shots back to the client PC for local display to a user stationed thereat. This information would be carried between the client and server using an \u201cICA\u201d protocol.","As PC manufacturers began equipping their PCs with client web browsers as standard issue software as well as users downloading such browsers for free from various software manufacturers, the Metaframe program evolved to permit remote browser-based web access, with the ICA client being replaced by the use of a resident client browser in the PC.","The concept of providing multiple virtual machines is also provided through \u201cWindows Terminal Services\u201d (WTS) software currently available from the Microsoft Corporation (\u201cWINDOWS\u00ae\u201d is a trademark of the Microsoft Corporation) for Windows NT 4 and Windows 2000 server operating systems, with client-server communication of screen shots, keystrokes and mouse clicks being carried to and from WTS using \u201cRDP (\u2018Remote Desktop Protocol\u2019 defined by Microsoft Corporation and based on the ANSI T.128 standard)\u201d, rather than an \u201cICA\u201d protocol. Again, WTS, like the Metaframe program, still carries a considerable processing burden.","Unfortunately, with this ASP-based approach, the client PC did not appear as if it were connected to the LAN. As such, while this approach did allow remote application execution, it did not accommodate remote access of other essential office network-based functionality, such as file sharing and e-mail. Hence, this approach was seen as being rather \u201cone-sided\u201d.","The art supplemented this ASP-based approach by incorporating a VPN (layer 2) connection between the LAN and client PC. This, in turn, provided added client functionality inasmuch as the client PC appeared as though it was on the remote LAN. However, this approach not only proved to be rather inconvenient to use but also, due to its VPN connectivity and for the reasons set forth above, rather expensive.","Specifically, a VPN server was connected to the LAN and a VPN router (or VPN terminator) was connected to each client PC, or each client PC used OS-based VPN support, or special client software had to be installed on each PC. The Metaframe program or WTS executed on the server which provided access, through a client browser or a special client application program, to a server-hosted virtual application session. By virtue of the VPN connection, the user at the client PC could remotely execute server-hosted thin-client applications, with the client PC appearing as if it were directly connected to the LAN. Unfortunately, this approach, being hampered by the constraints of the Metaframe software or WTS, only accommodated thin-client applications through the browser, and hence was just as \u201cone sided\u201d. No other network functionality, such as e-mail or shared file access, was accommodated through the browser; hence, this approach proved somewhat inconvenient to use. Moreover, the high cost of the associated VPN client-site and office-site servers principally dissuaded many small to medium size organizations from using this approach.","To off-load some of the processing burden from the LAN server running WTS, a two-tier approach recently appeared in the art through which a specialized processing system was inserted between the server and a WAN connection. This processor converted RDP packets associated with WTS into AIP (Application Infrastructure Provider) packets (AIP is a proprietary protocol owned by Tarantella Inc. of Santa Cruz, Calif.) or to some other less bandwidth-intensive protocol and conducted client application communication (screen shots, keystrokes and mouse clicks) with the far-end client PC through either of the latter protocols. ICA provides similar bandwidth conserving functionality. Alternatively, communication in native RDP may be used instead. In any event, the client PC interacted with the processing system through either a specialized client application program or a web browser executing an appropriate JAVA\u2122 applet (\u201cJAVA\u2122\u201d is a trademark of Sun Microsystems, Inc. of Palo Alto, Calif.). While this scheme relieved some of the load on the server, it still suffered the same deficiency as an ASP approach: it was not integrated and thus failed to provide through one single user interface, such as a browser, all the functionality which that user would have if his(her) client PC were directly connected to his(her) office LAN.","In view of the increasing costs of software acquisition, client installation and maintenance of client application programs, internally centralized ASP-based remote application hosting may well become an attractive alternative for business users.","However, adequate security remains a concern, particularly for small to medium size businesses that seek to implement an ASP-approach using the Win 2000 O\/S or similar system. In that regard, WTS provides cryptography, though at a 168-bit level, through use of a symmetric key. While each RDP message from a network server to a remote client is sufficiently encrypted by WTS to preclude its brute-force cryptanalysis, shared symmetric keys are vulnerable to third party discovery for the simple reason that the secret key has to be distributed to the parties using it, and thus can be obtained by a malicious party. Since the Windows 2000 WTS approach does not involve the use of certificates, it is vulnerable to \u201cman-in-the-middle\u201d attacks from malicious parties that have obtained the symmetric key. In symmetric-key cryptography, both sides, here being the remote client PC and the server, utilize the same key. As such, if a third-party interloper, a so-called \u201cman in the middle\u201d that had previously obtained the symmetric key, were to intercept communications, that party through its computer, could pose as the server to the client machine, and as the client to the server machine. However, that party would thus be privy to all communications attempted between the client and the server, and thus have access to information that could be highly proprietary. That party could readily decrypt each message it received from one end and then alter the message contents as it saw fit, and transmit a modified message to the other end, thus potentially causing considerable mischief. Since WTS provides no effective protection to so-called \u201cman in the middle\u201d attacks, inasmuch as its symmetric key scheme does not involve the use of certificates and public keys cryptography, use of WTS under the WIN 2000 O\/S is still not viewed by many organizations as offering a sufficiently attractive or secure solution to properly support such centralized thin-client application program hosting.","Additionally, network faults can and do occur. However, it is believed that conventional network management schemes, as conventionally taught in the art, would be rather problematic when used with an office LAN that supports web-based remote user connectivity, and particularly so if network maintenance and management responsibility over that LAN is to be out-sourced, for reasons of economy\u2014as would exist in many organizations\u2014to a third-party vendor. Remote network management, through a centralized location, would be cost-effective provided the scheme chosen to do so could simultaneously monitor and manage a relatively large number of different LANs likely spread over a wide geographic area.","In particular, for some time, network management has been provided through use of the simplified network management protocol (SNMP). Through this protocol, network routers and other network equipment residing on a network could receive configuration information from and report internal alarm conditions to an SNMP management station connected to that network. In that regard, if a fault occurred within, e.g., a router, then that device could send an SNMP message to its management station in order to report that fault. Based on the specific information conveyed, a technician or other field-service personnel could diagnose, repair or replace that particular router, thus eliminating the fault and restoring the network to proper operation. Unfortunately, SNMP has historically provided inadequate security for its reporting messages. Moreover, in using relatively complex network equipment, it would often be rather helpful, whenever that equipment reports a fault, to establish an interactive session with that equipment and, through that session, download a piece of diagnostic software to that equipment and instruct that equipment to execute it and then report back the results, and based on those results, download and execute other software and so forth in an effort to fully diagnose and correct that fault. Unfortunately, SNMP, given its reliance on user datagram protocol (UDP) messaging, could not meet this need. In that regard, SNMP was primarily intended to handle relatively simple query-response type interactions between network devices and SNMP management stations. As such, SNMP is not conversational in nature and is also not session-oriented. Further, SNMP does not readily scale upward inasmuch as necessary hardware and other network infrastructure that would support its scalability, particularly with proper security, does not appear to commercially exist as yet. In that regard, large SNMP networks are typically partitioned in a predefined manner into much smaller sections through use of a separate corresponding SNMP management station assigned to each section. UDP SNMP messages from these sections are then often simply coalesced together, through higher level SNMP management devices, to generate a network status report. Thus, readily supporting large numbers of network devices using SNMP management tends to be cumbersome and expensive. Also, present SNMP-based schemes are readily susceptible to third-party intrusion.","While use of SNMP may be satisfactory for a single, well-defined LAN, even a large relatively static LAN with a known architecture, SNMP can not accommodate simultaneous centralized network management of large numbers of diverse LANs. In that regard, a single integrated SNMP network spread across all the LANs would be extremely difficult to configure and maintain, and quite costly to implement. Furthermore, if network support is out-sourced to a third-party vendor\u2014particularly involving separate LANs existing over a large, geographically dispersed area, then the Internet becomes an ideal vehicle to connect a centralized management site at the vendor to each of these networks. Unfortunately, the weak security of SNMP messaging does not lend itself to carriage over a publicly accessible network, such as the Internet; thus, frustrating any provision of centralized, simultaneous out-sourced management of large numbers of remote LANs.","Therefore, a need exists in the art for a technique, specifically apparatus and methods for use therein, that provides secure, but integrated network functionality through a remote WAN connection between a remote client PC and a server based on an office LAN. Such a technique should provide all network functionality, including, e.g., thin-client application program hosting, file sharing and e-mail, through a single, commonly available user interface, such as a web browser, as if that client PC were connected directly to the LAN. The security should be such as to substantially eliminate potential \u201cman in the middle\u201d attacks or other such third-party intrusions. Furthermore, through such a technique, the client PC should appear as if it were directly connected to the LAN.","Furthermore, such a technique should permit centralized, simultaneous and remote management of large numbers of LANs in a manner that is highly secure to a level sufficient to permit network management messages to be carried over the Internet (or other publicly accessible network), session-oriented and readily scalable.","While such a technique could utilize a VPN connection, it should function with preferably far less costly alternatives, such as interacting directly with transport schemes such as DSL (digital subscriber line) or other relatively low-cost, high-speed digital access modalities. Also, such a technique should be remotely administered and supported, particularly when employed in those organizations which can not afford to maintain adequate in-house computer support capabilities.","Such a technique, were it to exist, would likely be very attractive to many organizations, including small and medium sized businesses: (a) to permit effective, readily-scalable but highly secure, internal ASP-based (centralized) thin-client application program hosting for remote client connectivity, with resulting cost savings to those organizations in terms of application procurement through centralized administration and maintenance of those application programs as well as centralized and remote network monitoring and management, and (b) through its use, to yield increased efficiency and productivity by providing remote access for individual users to all their office network-based functionality.","Advantageously, our present invention satisfies this need and overcomes the deficiencies in the art by providing a front-end, in the form of a service enablement platform (SEP), to a LAN-connected office server(s) for implementing secure, remote web-based access, through a WAN-connected user browser, for a user situated at a remote client computer (e.g., remote laptop PC). Through the SEP, the remote user is provided with essentially, if not completely, the same network-based office functionality implemented by the office server as if the remote computer were directly connected to that LAN.","In accordance with our inventive teachings, the SEP is situated between the LAN and the WAN-connected user. In use, the SEP acts both as a bridge between the remote user and his(her) office applications and as a protocol translator to enable bi-directional, web-based, real-time communication to occur between the user browser and each of these office applications. In that regard, the SEP provides bi-directional protocol translation to exchange necessary information (data and user interactions) between, on the one hand, application-specific protocols, such as MICROSOFT\u00ae-RDP, IMAP4 (Internet Mail Access Protocol version 4) or MICROSOFT\u00ae .NET technology SMB (Simplified Message Block), to communicate with office-based client application, e-mail and file servers; and, on the other hand, HTML, in conjunction with HTTP, as required by the user browser or some other protocol, e.g., AIP or the like, used by an applet within the browser.","The SEP establishes a LAN connection for the remote user that, as far as that user is concerned, places the remote PC directly on the LAN. By virtue of such a connection, the remote user can, e.g.: (a) send and receive e-mail through the office e-mail server and manipulate his(her) e-mail stored thereon, (b) access, through the office file server, all his(her) and other shared files stored on and accessible through the LAN as well as transfer files, (c) remotely execute, through the thin-client application server any of his(her) hosted client application programs stored thereon, with real-time results of each of these operations being displayed in HTML form on the user browser.","Specifically, the SEP includes a separate client application module for each basic office function: file sharing, e-mail and thin-client application hosting. Each such module accepts as input, in one direction, user interaction data, in the form of URI\/URL selection, form input, etc., user mouse clicks and keystrokes provided in HTML form (or in an intermediate transmission protocol, such as AIP), and generates a message, in the appropriate application protocol, containing this data to a corresponding office application. Each such module also operates in the reverse direction by accepting output information, such as a screen shot or data list, produced by its corresponding office application and converting that information, from its application protocol, into a graphical HTML page (or in the intermediate transmission protocol) for transmission to and rendering as a web page by the user browser. Thus, each of these modules acts both as a bridge between the user and a specific one of his(her) office applications and as a protocol translator to enable bi-directional, web-based, real-time communication to occur between the user browser and that particular office application.","Furthermore, since remote user access to the SEP is provided on an authenticated basis, through use of a unique, pre-defined and pre-stored certificate, rather than through use of a symmetric key, the present invention is generally not as susceptible to third-party intrusion through so-called \u201cman in the middle\u201d attacks.","Additionally, the SEP continually monitors operational status of itself including its network (LAN and WAN) connections, LAN-connected servers including, for example, each of the hosted office application servers, and\/or any group thereof. In the event of a detected fault or failure condition in any monitored entity, the SEP generates a corresponding alarm and reports it, through a web-based connection, to a centralized administrative web site (referred to herein as a \u201cCustomer Care Center\u201d (CCC)) to implement remote network monitoring and management functionality. This functionality is implemented through converting data content, including alarm information, from a native format into HTTP-based messaging with the latter being used for web transport and converting that content, once received at the CCC, into an appropriate format for storage thereat. Advantageously, this web-based reporting technique readily allows a large number of separate LANs that are dispersed over a very wide geographic area to be readily monitored and managed through the CCC. Moreover, the number of such managed networks can be easily scaled upward, as needed, by, for the most part, simply and correspondingly expanding processing and storage capacity of the CCC to handle the anticipated load.","By virtue of using centralized network management, a customized configuration profile that defines a network and operational environment, at a customer site, in which the SEP will function can be predefined and centrally stored at the CCC. Once the SEP is installed at that site, the profile can simply be downloaded from the CCC to the SEP, thereby significantly simplifying SEP deployment. Furthermore, an individual stationed at the CCC can access the stored profile stored on the CCC for any SEP then in use, modify that profile, as needed, such as to reflect changes in, e.g., network topology or addresses, and then download a modified version of that profile to that particular SEP to update its stored profile. Moreover, should the environment for any SEP change and necessitate that changes be made to the profile then residing at that SEP itself, a copy of a resulting changed profile can be uploaded from that SEP to the CCC for storage and subsequent use thereat.","Moreover, during initial installation of the SEP at any customer site, the SEP, after being connected to analog (dial-up) and broadband WAN connections, will dial the CCC and establish a management session with it, through use of a predefined default profile that provides access information to the CCC, in order to obtain appropriate customer WAN login parameters therefrom. The SEP will identify itself to the CCC by providing its hardware media access code (MAC) address and will authenticate itself using HTTP authentication. Specifically, the SEP will identify itself via its MAC address to the CCC. The CCC will issue a challenge value to the SEP. The SEP will encrypt the challenge value using its private key (of the public key\/private key pair stored within the SEP) and respond with the encrypted value. In turn, the CCC will decrypt the response from the SEP. If a resulting value matches the challenge value, the CCC will then consider the SEP to be successfully authenticated. Once a management session has been established with the CCC, the CCC will send the SEP appropriate login and password for a customer WAN account which that the SEP is to use. On receipt of the customer's WAN account information from the CCC, the SEP will tear down its existing analog call to the WAN in order to minimize the length of these initial calls. The SEP will then establish a broadband connection to the WAN service provider using the customer's WAN account information. Once a WAN login succeeds, the SEP will continue with its previous management session, though secured through SSL, with the CCC. The SEP will then interact with the CCC and obtain a valid client certificate from the CCC. Future interactions between the CCC and SEP will use the client certificate to authenticate this SEP in lieu of the previously-used challenge\/response mechanism.","In addition to obtaining its client certificate from the CCC during a remainder of the management session, the SEP will also download its customized profile from the CCC. After successfully obtaining this profile, the SEP will terminate the SSL session between itself and the CCC, reset itself, and then re-initialize itself using the customized profile to correctly configure its various constituent hardware components and software modules to its current environment. Once correct information identifying the customer is then entered by an administrator at the SEP\u2014with the information matching that in the customized profile, the SEP will enter a fully operational mode and accordingly will send an appropriate management message to the CCC to indicate that the SEP is then fully operational.","In accordance with a feature of our invention, while the principal office-based applications are file sharing, e-mail and thin-client application program hosting, our invention can readily and easily accommodate web-based, secure, remote user access to other additional office-based applications by merely incorporating a corresponding client application module for each such additional office application to provide required bi-directional, real-time protocol translation for both incoming user interaction data to that office application and output data generated by that office application.","To facilitate understanding, identical reference numerals have been used, where possible, to designate identical elements that are common to the figures.","After considering the following description, those skilled in the art will clearly realize that the teachings of our present invention can be utilized in any of a wide number of different client-server networked processing architectures that support remote access from a client PC to a server located on an office LAN.","In essence, our present invention supports remote, secure, web-based user access to network-supported and hosted office processing functions, including client application programs, e-mail and file sharing, to a remotely located user with the same capabilities and essentially the same ease of use as if his(her) computer were directly connected to an office network rather than through a wide area network (WAN) or other remote connection; hence, providing that user with a so-called \u201cvirtual office\u201d. Advantageously, our inventive apparatus effectively implements a front-end, illustratively referred to as a service enablement platform (SEP), to the office server, regardless of whether that office server is implemented by a single machine (computer) or multiple machines, and regardless of whether those machines are co-located or not, as long as they are interconnected to the apparatus through an appropriate network. If the office server is implemented by multiple inter-networked machines\u2014as is often the case in medium or large sized organizations, each of these machines can handle one or more specific office processing tasks, e.g., client application program hosting, e-mail serving and\/or file serving. Alternatively, for small organizations with limited processing equipment, either our inventive apparatus itself, through its internal processing capability, can implement all these tasks or can serve as a front-end to a single separate machine (computer) which does so.","Additionally, an important aspect of our present invention provides, through WAN connectivity, centralized, simultaneous, web-based remote monitoring and management (RMM) of a relatively large number of multiple office networks in a session-oriented, secure and readily scalable manner.","Advantageously, our inventive RMM technique has been implemented in connection with \u201cvirtual office\u201d functionality as described in co-pending U.S. patent application titled \u201cAPPARATUS AND ACCOMPANYING METHODS FOR PROVIDING, THROUGH A CENTRALIZED SERVER SITE, A SECURE, COST-EFFECTIVE, WEB-ENABLED, INTEGRATED VIRTUAL OFFICE ENVIRONMENT REMOTELY ACCESSIBLE THROUGH A NETWORK-CONNECTED WEB BROWSER\u201d, filed on Mar. 14, 2001and assigned Ser. No. 09\/808,404, which is co-owned by the present assignee hereof and is incorporated by reference herein.","For the sake of simplicity, we will describe both the \u201cvirtual office\u201d functionality and the RMM technique for use in a small office environment where either the SEP serves as a front-end to a single machine, situated at an office location and on a single LAN, that collectively implements all the necessary office processing tasks, or additionally implements all those tasks itself. Furthermore, although the SEP can readily support simultaneous access by multiple remotely located clients, again for simplicity, we will describe it in the context of use with only one such client at a time. Clearly, based on the ensuing description, those skilled in the art can readily appreciate how the SEP can simultaneously accommodate multiple clients and can be scaled upward to simultaneously handle relatively large numbers of such clients, and also how the RMM technique can be easily scaled upward to simultaneously handle multiple different LANs.",{"@attributes":{"id":"p-0080","num":"0079"},"figref":"FIG. 1","b":"5"},"As shown, this environment includes remote client , that is typically a personal computer (PC) generally a laptop, connected through wide area network (WAN) , to office server  situated at an office site. WAN  can be implemented by a publicly accessible network, such as the Internet, or a private network. Connectivity to the WAN is provided through any relatively high-speed (broadband) access modality such as, e.g., digital subscriber line (DSL), cable modem, integrated service digital network (ISDN), fractional T1 or even a T1 line. Alternatively, remote dial-up analog modem access can be used instead, though end-to-end transport delays, in view of a relatively slow communication speed provided by such a modem, may markedly slow system response as perceived by a user situated at PC .","Our invention advantageously utilizes web-based access to office applications, with those applications being remotely hosted by virtual office server  and encrypted communication provided through conventional secure sockets layer (SSL) capability supported within the browser. As such, client  contains conventional user browser . Advantageously, since all the office applications are hosted remotely, there is no need to install, configure or maintain any user application programs, other than a web browser, on remote client ; thereby, dramatically reducing cost of ownership of the client PC.","Virtual office server  contains conventional broadband WAN interface , firewall\/router , service enablement platform (SEP) , and server . Interface  is conventional in nature and provides high-speed network access. It can take the form of, e.g., a cable modem, a DSL interface, an ISDN terminal adapter or a fractional\/full T1 interface. The specific modality of peered-network access used by both client PC  and interface  is not critical provided that the chosen modality can support sufficiently high access speeds between the remote client and server . Firewall\/router  is conventional in nature and attempts to isolate server  from unauthorized network-based attacks as well as provide outgoing and incoming network routing capability to and from WAN . While interface  and firewall\/router  are both shown as being external to the SEP, interface  can be located internal to the SEP as, to the extent needed, can firewall\/router . From a network perspective, SEP  is situated between WAN  (via broadband interface  and firewall\/router ) and local area network (LAN) .","In accordance with our inventive teachings and as described in considerable detail below, SEP  provides a front end to server  for implementing secure, remote, web-based access, through browser , by a user situated at client  to the network-based office functionality implemented by server  and to the same extent as if client PC  were directly connected to LAN . Server  resides on LAN  to collectively implement, through separate internal LAN accessible application servers, various office processing applications (tasks) including, through client applications server , thin-client hosted application programs; through web-enabled application server , remotely-hosted web-enabled thin-client application programs; through e-mail server , e-mail messaging; and, through file server , shared file access. Each of these servers is conventional, with E-mail server  being implemented, for example, by a MICROSOFT\u00ae EXCHANGE\u2122 server (\u201cMICROSOFT\u00ae EXCHANGE\u2122\u201d is a trademark of Microsoft Corporation of Redmond, Wash.). As noted, in small offices, server  is typically implemented by a single server computer. Alternatively, rather than using two separate physical computers, server  and SEP  can be collectively implemented, as indicated by dot-dashed line , on one single physical computer\u2014with the necessary processing needed to implement server  being provided by SEP . However, to facilitate understanding, we will depict SEP , in terms of its functionality, separate from that of server  or any of the hosted applications and servers executing thereon.","Furthermore, during initial configuration of office server , SEP  establishes a dial-up connection, as symbolized by line , via WAN , to administrative web site  (also referred to as \u201cCCC\u201d\u2014customer care center\u2014which specifically is a web site operated by Netilla Networks Inc., which is the present assignee thereof) through which a unique X.509 digital certificate is downloaded to and stored on SEP , along with other configuration information, such as, e.g., necessary IP addresses. This certificate is used to provide secure conventional, encrypted, authenticated communication that is substantially immune to \u201cman in the middle\u201d attacks. Since the manner through which SEP  utilizes the certificate is conventional, as is the use of SSL by browser , we will not address these aspects in any detail. Once this certificate and configuration information have been provided over line , SEP  establishes a web-based (HTTP) connection to web site  to complete its set-up procedure. SEP , once fully configured and functioning in a network environment, continually monitors the state of its network connections, both to WAN  and LAN , as well as the state of LAN  and the various application servers (whether executing in a separate physical computer or on the same computer that implements SEP ), and provides associated maintenance and status information back to a server (not shown) associated with web site , by establishing a dial-up connection to WAN  via line , for purposes of remote monitoring, problem diagnosis and routine maintenance. Since none of these particular functions is relevant to the present invention, these functions will not be discussed in any further detail.","Once SEP  is fully functioning in its network environment, a user situated at his(her) PC can readily and remotely access his(her) office network-based applications by simply establishing a secure web (HTTPS) connection to a web server implemented on SEP . To do so, the user enters, through browser , a web address associated with this server. Once the connection is established, a web page, as shown in screen shot  for a typical graphical display depicted in , is downloaded by SEP  to the user browser through which, once rendered by the browser, the user then enters his(her) username and password to log on to virtual office capability provided by SEP . After the user successfully logs in by entering his(her) username and password in fields  and clicking on \u201cLog In\u201d button , a session begins through which a web page is downloaded by SEP , as shown in , and displayed on the browser through which several icons, illustratively tabs, are displayed: \u201cMy Files\u201d, \u201cMy E-mail\u201d, \u201cMy Apps\u201d and \u201cMy Admin\u201d (such as those appearing in screen shots ,  and  of the displays shown in ,  and ; all of which are discussed in detail below). The user can then click on any of these icons, which, once communicated back to SEP , will cause the SEP  to launch the associated office application (or administrative function for the \u201cMy Admin\u201d tab), generate an HTML file for a graphical display produced by that application, and then download the HTML file to browser , for local rendering thereat. During the web session, browser  communicates user form input and URI (uniform resource identifier)\/URL (uniform resource locator) selection via HTTP requests to SEP  which processes this input and provides an appropriate display back to the browser. In addition, for application support, an efficient protocol such as AIP (or the like) is used to transfer user keystrokes and mouse clicks from a window on the remote PC representing an application executing on a remote server to SEP , which then relays that user interaction data to the application server via RDP for processing. Note that RDP itself could have been used between the remote browser and SEP , but use of AIP or a similar protocol provides more efficient bandwidth utilization than does RDP. The user can readily move between one remote office application to the next by simply clicking on the associated icon.","In doing so, SEP  (see ) establishes a LAN connection for the remote user that, as far as that user is concerned, places remote client  directly on the LAN. By virtue of such a connection, the remote user can, e.g.: (a) send and receive e-mail through server  and manipulate his(her) e-mail stored thereon, (b) access, through file server , all his(her) files, as well as other shared files, stored on and accessible through LAN , (c) remotely execute, through application server , any of his(her) thin-client applications hosted thereon, as well as through server  remotely execute any of his(her) thin-client web-based applications hosted there, with real-time results of each of these operations being displayed in HTML form on browser . Application server  receives user mouse clicks and keystroke data and provides user screen shot displays through use of MICROSOFT\u00ae RDP (remote desktop protocol). Web-enabled application server  communicates client application information using HTTP. E-mail server  utilizes a conventional IMAP4 protocol; while file server  communicates user information using MICROSOFT\u00ae .NET technology Simplified Message Block (SMB) data (to implement MICROSOFT\u00ae NET-BIOS functionality). Note, that while SMB and IMAP4 were shown here as examples, other protocols such as Novell Netware and the POP3 (Post Office Protocol 3) are usable as well.","In essence, as the reader can appreciate, SEP  acts both as a bridge between the user and his(her) office applications and as a protocol translator to enable bi-directional, web-based, real-time communication to occur between user browser  and each of these office applications. In that regard, the SEP provides bi-directional protocol translation to exchange necessary information (data and user interactions) between, on the one hand, MICROSOFT\u00ae-RDP, IMAP4 or MICROSOFT\u00ae .NET technology SMB to communicate with office application servers ,  or , respectively; and, on the other hand, HTML and HTTP as required by user browser  for non-thin-client applications, and AIP, or a similar protocol, for thin-client control information, or for thin-client user interaction data transfer (i.e., mouse clicks, keystrokes, control data).",{"@attributes":{"id":"p-0089","num":"0088"},"figref":"FIG. 14","b":"20"},"As shown, site  is formed of a front-end portion that provides homepage and user interface web pages, database  and a back-end portion having interfaces  and .","Front-end portion  provides a home page and user interface which permits users  to access this site. These users include appropriate Netilla Networks Inc. technical personnel (Netilla Networks Inc. is the present assignee hereof; hereinafter referred to as \u201cNetilla\u201d) as well authorized third-parties, such as Netilla partners (e.g., resellers), system integrators and installers, to log onto site , on a secure, though restricted basis (depending on the person seeking access). Once appropriate username and password information is entered, each such user gains access for purposes of configuring and determining operational status of any SEP for which (s)he is then providing technical assistance or is responsible. In addition, members of the public can access certain web pages associated with site  that provide general information regarding the services currently offered by Netilla and other related information posted on that site. Database , which interacts with both the front- and back-end portions of site , stores information for each SEP then in service, alarm reports generated by each such SEP and other related status as provided by that SEP, configuration and maintenance information for that SEP, as well as information (such as user name and password) to permit appropriate access to certain secure areas of the site by Netilla technical personnel as well as each authorized third-party user, i.e., resellers, installers and system integrators. Interface , through service monitoring software , communicates with individual SEPs (of which, for simplicity, only one SEP  is shown in ) in order to permit Netilla technical personnel or an authorized third-party to change configuration information, e.g., a configuration profile, stored on a particular SEP and to instruct web site  to send such changed information to this particular SEP, as well as to receive and log alarm information from each SEP and to download and install appropriate software upgrades\/updates either on that SEP itself or on any server then residing on an associated LAN connected to that SEP. Within site , database  stores SEP configuration information and alarm logs. Interface , utilizing information stored within database , communicates with conventional back-end business applications, such as accounting and billing systems , to, among other aspects, establish a new account for a SEP to be or then being installed, modify an existing account and periodically bill an appropriate party, such as a third-party reseller, for use of each SEP for which that party is responsible.",{"@attributes":{"id":"p-0092","num":"0091"},"figref":"FIG. 2","b":["200","200"]},"As shown, SEP  contains Ethernet I\/F ports  and  (also referred to as Ethernet ports  and ), V.90 Fax modem , and microprocessor , all interconnected by local bus . Microprocessor , which is illustratively any conventional INTEL\u00ae PENTIUM\u00ae grade processor or equivalent (having a clock speed of, e.g., 300 MHz or higher) (PENTIUM\u00ae is a trademark of Intel Corporation of Santa Clara, Calif.), is itself connected, through bus , to memory  and via bus  to hard drive . Memory  is illustratively synchronous dynamic random access memory (SDRAM). Hard drive  stores program  and X.509 certificate . During operation of SEP , segments of program , to the extent needed, are copied from hard drive  into memory  from which those segments are executed. Memory , being volatile, also stores temporary data, as required during program execution.","Ethernet ports  and  permit the SEP to be situated in series, via LAN connection , between office server  (see ), and, via an Ethernet connection symbolized by line , to a broadband connection to the WAN, via interface  (through, e.g., firewall\/router ). As such, SEP  can intercept incoming network messages incoming from WAN , perform required protocol conversion and IP address translation on each such message and route that message to a correct office application server on LAN , and provide the opposite functionality in a reverse direction for outgoing messages.","Fax modem  provides analog dial-up connectivity over line  for use, as described above, during installation of SEP ; for communicating monitoring and status information back to administrative web site , and as a back-up data connection in the event the broadband connection fails. The fax capability of the modem is not used by SEP  unless a specific hosted user (thin-client) application program requests it.",{"@attributes":{"id":"p-0096","num":"0095"},"figref":["FIG. 3A","FIG. 2"],"b":["300","200"]},"This software is composed of three basic components: operating system (O\/S) and related modules , virtual office software  and management module .","Component  is formed of a basic O\/S kernel , illustratively a conventional Linux O\/S, with specific additional and conventional Linux modules to implement necessary network and web-based processing, and device operation. These modules include network address translation (NAT) module , IP routing module , Open SSL module , web server  (which is currently available under the name \u201cApache web server\u201d), send mail module , TCP\/IP processing module , PPP (point-to-point) processing module  and device drivers . Software  includes, as its other component, virtual office software  that communicates, as symbolized by line , through Apache web server . Though a Linux O\/S kernel is used, O\/S  could just as easily be implemented using nearly any other PC or server-based operating system, such as a UNIX or MICROSOFT\u00ae WINDOWS\u00ae operating system\u2014though, of course, the modules would need to be compatible with the chosen O\/S.","NAT module  is conventional in nature and translates network, specifically IP, addresses as requested by O\/S kernel . In particular, for incoming messages from the WAN, depending on their port designations\u2014which identifies a particular office application server and program on server  for which the message is intended, module  translates the address of each such message from the IP address of the SEP to an IP address associated with that particular server. The port designation remains to define the particular server for that message. Similarly, though in a reverse direction, NAT  translates each outgoing message, based on its port address, from each one of the servers and destined to the remote client PC from the private IP address of the server to the public IP address of the SEP along with the corresponding port designation.","IP routing module  provides a routing table that provides IP routing information to O\/S kernel . This routing table is established during initial configuration of the SEP from routing information provided from administrative web site  (see ). It can, alternatively, be updated via conventional dynamic routing protocols such as RIP, OSPF, etc.","Open SSL module , as shown in , provides conventional SSL processing\u2014though in a Linux environment, including message encryption\/decryption, using X.509 certificate . This certificate once downloaded during initial configuration of the SEP, is then accessed, as symbolized by line , by SSL process . The Apache web server uses the Open SSL module for secure traffic received over TCP port number .","Module  is a conventional web server, though again suited for use in a Linux environment, and provides a web-based portal through which virtual office software  communicates, over a WAN connection, with user browser  and receives user interaction data (mouse clicks and keystrokes therefrom) and provides screen shots thereto for local display on remote PC .","Sendmail module  (also known as \u201cQmail\u201d for use with the Linux O\/S) is conventional and is employed if SEP  is used without an external e-mail server, such as e-mail server  shown in . Module  implements message transmission through use of SMTP (simplified mail transport protocol).","TCP\/IP processing module  and PPP processing module , shown in , are conventional in nature and correspondingly implement a well-known TCP\/IP stack (with packet assembly and disassembly) and provide point-to-point protocol (PPP) packet processing for use with packet transmission employing the PPP protocol over dial-up WAN link .","Device drivers module  (see ) comprises a set of conventional device drivers operating under control of O\/S kernel  to control two Ethernet ports  and , V.90 fax\/modem  and a local LCD display (not shown). Information is communicated between device drivers module  and Ethernet ports  (Port ) and  (Port ), and V.90 Fax Modem  as symbolized by lines ,  and , respectively and, as symbolized by line , between display drivers module  and O\/S kernel .","Communication between O\/S kernel  and modules , , , , , ,  and  is symbolized by lines , , , , , ,  and , respectively. Inasmuch as modules , , , , ,  and  are all conventional and readily available Linux components, none of them will not be discussed in any further detail.","Virtual office software , operative in conjunction with web server module , forms a core software component of our present inventive apparatus. In that regard, software  (which is discussed in detail below) implements real-time, bi-directional protocol translation, as described above, to enable the user situated at remote PC  to remotely control, execute and interact with any office application hosted at server  (see ). In that regard, through appropriate protocol conversion, software , as shown in , exchanges necessary information (data and user interactions) between, on the one hand, MICROSOFT\u00ae-RDP, IMAP4 or MICROSOFT\u00ae .NET technology SMB to communicate with office application servers ,  or  (see ), respectively; and, on the other hand, HTML and HTTP (or an intermediate transport protocol, e.g., AIP) as required by user browser  for non-thin-client applications, and AIP or a similar protocol for thin-client applications\u2014all as required to support centralized hosting of office applications (e.g., user application hosting, file serving, and e-mail) but with user interaction and application display occurring remotely at the client computer under the browser. Modules , , , ,  and , as shown in , all provide necessary network packet processing, including address translation, encryption\/decryption and send mail functionality, ancillary to software  but necessary to support proper packet communication over a WAN connection between it and both remote PC  and individual office applications executing on local server  (shown in ).","Management module  is a transparent background (daemon) process, operating in conjunction with O\/S kernel , that is responsible for detecting fault conditions affecting SEP , LAN  as well as any of the virtual office applications and reporting corresponding alarms to administrative web site (CCC) , as well as to download\/upload a configuration profile from or to the CCC to or from the SEP, receive software updates and upgrades from the site  for installation either at SEP  or the appropriate server residing on LAN . Outgoing messages from management module  to site  or to the LAN are routed, as symbolized by lines  and , via the O\/S kernel to TCP\/IP processing module  for appropriate packetizing and other related processing. Incoming messages from site  are routed, as symbolized by line , directly from Apache web server  to management module . Management module  interacts with many of the modules shown in component ; though, for simplicity, only the principal interactions involving this module are shown. For example, one such interaction that is not shown is with IP routing module . In the event of a failure in the broadband WAN link as detected by the management module, routing module  then changes its routing to utilize dial-up link  (see ) to reach WAN  rather than the broadband connection, until such time as the latter connection is subsequently restored.",{"@attributes":{"id":"p-0109","num":"0108"},"figref":"FIG. 3B","b":["300","200"]},"Given the location of the SEP intermediate between LAN  and WAN , three basic paths, i.e., paths ,  and , exist, all three of which are under the control of O\/S kernel . Note that paths  and are common from the bottom of the figure to a point just below the Apache web server. From that point, path  continues through the Apache web server to the virtual office software, while path bypasses the Apache web server and goes directly to the virtual office software.","First, incoming packets from the WAN connection, i.e., originating from remote PC  (see ) and containing user interaction information relevant to non-thin-client functionality (e.g., user URI\/URL selection, forms inputs, etc.) flows, as symbolized by dashed line  (also labeled as path \u201cB\u201d in ), through Ethernet port  (port ), within the SEP through device drivers module , and via the O\/S kernel, to TCP\/IP processing module  for appropriate TCP\/IP packet processing, including packet disassembly. From TCP\/IP processing module , the resulting information in the disassembled packet is provided by O\/S kernel , to web server , which calls on services of Open SSL module  to perform SSL processing on the packet, if necessary; for the Netilla Virtual Office, all information transfer is protected by SSL. After SSL processing, the HTTP request is extracted and sent to virtual office software  for protocol translation into a form suitable for use by a desired office application. Once virtual office software  has appropriately processed the information, by providing suitable protocol conversion, that information flows directly from software  to that office application accessible through the LAN if necessary (i.e., if it cannot be handled directly by the virtual office software). Information (such as the \u201cnetwork neighborhood\u201d for the file sharing application) from the SEP destined to the remote user flows along path  but in an opposite direction to that just described so as to provide the opposite functionality.","Incoming packets from the WAN connection, i.e., originating from remote PC  (see ) and containing user interaction information relevant to thin-client functionality (e.g., starting of a thin-client application, keystrokes and mouse clicks associated with a thin-client application, etc.) flows, as symbolized by dashed line , through Ethernet port  (port ), within the SEP through device drivers module , and via the O\/S kernel, to TCP\/IP processing module  for appropriate TCP\/IP packet processing, including packet disassembly. From TCP\/IP processing module , the resulting information in the disassembled packet is provided by O\/S kernel , to virtual office software  via path (paths  and are identical except at the very end; path  goes to the software  via the Apache web server while path goes directly to the virtual office software). Once virtual office software  has appropriately processed the information by providing suitable protocol conversion (including performing SSL operations on the data), that information flows directly from software  to that office application accessible through the LAN via path , as described below, if necessary (i.e., if it cannot be handled by the virtual office software directly). Information (such as a thin-client screen update for a particular thin-client application, such as MICROSOFT\u00ae WORD\u2122, a word processing application software, for example) from the SEP destined to the remote user flows along path and then via path  but in an opposite direction to that just described so as to provide the opposite functionality.","Information incoming to the SEP from the LAN and which is ultimately destined to the remote user for non-thin-client applications (e-mail and file sharing) flows as shown by dotted path  (also labeled as path \u201cA\u201d) within the SEP. This information is first received by Ethernet interface  (port ), which is connected to the LAN, and from there transits through device drivers module , O\/S kernel , TCP\/IP processing module  (again for packet disassembly), then back through the O\/S kernel to virtual office software . For non-thin-client data (i.e., data involved with file sharing or e-mail), software  generates an appropriate HTML page via an HTTP response containing this information and thereafter provides this page to web server . The web server calls on the services of Open SSL module  to provide appropriate security functions, and then transmits this page, via an HTTP response, to the remote client PC, specifically user browser  for display thereat. The data path from the virtual office software subsequently follows path  described previously. Information from the SEP, i.e., originating from the user, to the LAN flows in a reverse direction to that described in order again to provide the opposite functionality.","Information incoming to the SEP from the LAN and which is ultimately destined to the remote user for thin-client applications flows as shown by dotted path  within the SEP. This information is first received by Ethernet interface  (port ), which is connected to the LAN, and from there transits through device drivers module , O\/S kernel , TCP\/IP processing module  (again for packet disassembly), then back through the O\/S kernel to virtual office software . For thin-client data (i.e., data involved with application execution on servers on the LAN), virtual office software  performs data protocol conversion if necessary (for example, from RDP to AIP), along with the appropriate image conversions. Software  then generates appropriate AIP packets, on which it performs security operations as necessary, and then forwards those packets along path to the remote client PC, specifically user browser  for display thereat. Information from the SEP, i.e., originating from the user, to the LAN flows in a reverse direction to that described in order again to provide the opposite functionality.","Note that in the traversals described above, the transference of data is traced through the O\/S kernel as much as possible. However, since the O\/S kernel is involved in essentially all operations that occurs in the SEP,  only shows those data flows particularly pertinent to the present invention, else showing every single interaction with the O\/S kernel would result in overwhelmingly complex data flow diagram with essentially little gained from a perspective of understanding. Thus, for example, when the Apache web server hands off data to the virtual office software, the former must use some O\/S kernel services to do so. But this does not add to the understanding and unnecessarily complicates the diagram if one were to show this; therefore,  traces a direct path between the web server software and the virtual office software.","Lastly, information incoming to the SEP through the dial-up connection, such as from administrative web site , flows as shown by dot-dashed path  (also labeled as path \u201cC\u201d). This information is first received by V.90 fax modem , such as from the administrative web site via the WAN, and from there transits through device drivers module , O\/S kernel  and PPP processing module . Once module  has provided requisite PPP processing, O\/S kernel  routes the resulting processed message to TCP\/IP processing module  (again for packet disassembly), then back through the O\/S kernel to virtual office software , via web server , for protocol translation into a form suitable for use by a desired office management process or application, and for subsequent routing to the appropriate office application server, if necessary. Outgoing information from the SEP, i.e., originating from an office management process or application server and destined to, e.g., the administrative web site but carried through the dial-up WAN connection flows in a reverse direction to that described in order to provide the opposite functionality. Specifically, for such outgoing information, software  first receives the information from the office management process or application server and then applies this information to web server  which, in turn, imparts HTTP processing of this message. The message then transits, via the O\/S kernel, to TCP\/IP processing module  and PPP processing module  prior to be routed, via device drivers , to the V.90 fax modem for transmission, via dial-up WAN connection , to the user browser. Note that sessions originating from the SEP, such as sessions to the administrative web site from the management process in the SEP, would follow essentially the same outgoing and incoming paths, except that they would not go through the Apache web server.",{"@attributes":{"id":"p-0117","num":"0116"},"figref":"FIG. 4","b":"400"},"As shown, software  contains four office application modules: file sharing application module , e-mail application module , thin-client application module  and administration module ; along with multiplexor .","In general, each of the modules accepts as input, in one direction, user interaction data, in the form of user URI\/URL inputs and forms data provided via HTTP\/secure HTTP or in the form of keystrokes, mouse clicks, etc. encoded via a transport protocol, such as AIP, (optionally secured by SSL) for the thin-client support and generates a message, in an appropriate application protocol, containing this data to a corresponding office application. Each such module also operates in the reverse direction by accepting output information, such as a screen shot or data list, produced by its corresponding office application and converting that information, from its application protocol, into a graphical HTML page in a secure HTTP response or into a transport protocol, such as AIP, secured by SSL for thin-client support for transmission to and rendering, as a web page, by the user browser. Thus, each of these modules acts both as a bridge between the user and a specific one of his(her) office applications and as a protocol translator to enable bi-directional, secure, web-based, real-time communication to occur between user browser  and that particular office application.","File-sharing application module  (described in detail below in conjunction with ) interacts with a client file handler (specifically a Linux \u201cSAMBA\u201d module which is an open source software component that implements a NET-BIOS Windows Networking client on a Linux O\/S to interact with Windows based file servers) in order to provide user file information, such as listings of desired directories, and permit the user to copy, move and delete files, as desired.","E-mail application module  (described in detail below in conjunction with ) interacts with a client e-mail handler (specifically an IMAP client) to access and retrieve user e-mail stored on an e-mail server, such as a Microsoft Exchange server, as well as to manipulate stored e-mail residing in the user's e-mail folders (Inbox, Outbox, Sent Mail and the like) on that server. In terms of message reception, module  provides a list of received messages, typically with address and truncated content information\u2014as typically occurs in e-mail clients (such as in Microsoft Outlook e-mail client program; \u201cMicrosoft Outlook\u201d is a trademark of the Microsoft Corporation of Redmond, Wash.) and, once displayed, permits the user to select, and separately and fully display each message, as desired. This module also permits the user to send outgoing e-mail to and through that server.","E-mail application module  (described in detail below in conjunction with ) interacts with a client e-mail handler (specifically an IMAP client) to access and retrieve user e-mail stored on an e-mail server, such as a MICROSOFT\u00ae EXCHANGE\u2122 server, as well as to manipulate stored e-mail residing in the user's e-mail folders (Inbox, Outbox, Sent Mail and the like) on that server. In terms of message reception, module  provides a list of received messages, typically with address and truncated content information\u2014as typically occurs in e-mail clients (such as in MICROSOFT\u00ae OUTLOOK\u2122 e-mail client program; \u201cMICROSOFT\u00ae OUTLOOK\u2122\u201d is a trademark of the Microsoft Corporation of Redmond, Wash.) and, once displayed, permits the user to select, and separately and fully display each message, as desired. This module also permits the user to send outgoing e-mail to and through that server.","Thin-client application module  (described in detail below in conjunction with ) interacts, through the remote desktop protocol (RDP), with a client application program (e.g., MICROSOFT\u00ae WORD\u2122, MICROSOFT\u00ae EXCEL\u2122, a spreadsheet software application, or other application program; MICROSOFT\u00ae WORD\u2122 and \u201cMICROSOFT\u00ae EXCEL\u2122\u201d are trademarks of the Microsoft Corporation of Redmond, Wash.) being hosted on server . Module  receives user mouse clicks and keystrokes from the user browser, in AIP form, and passes that information, via RDP, to the client application program to control its execution. In return, this module obtains graphical output displays, as screen shots, generated by the client application program and in RDP form, and converts those screen shots into AIP form and then transmits AIP messages, containing the screen shots, back to the user, specifically the user browser for rendering thereat.","Administration module  maintains lists of user names and passwords and other information necessary to permit controlled, secure, remote access to the virtual office functionality as well as to properly monitor its ongoing operation. This module interacts through web server  and contains a conventional internal database and associated processes (all of which are not shown but well known) to maintain lists (including establishing initial lists and updating them as needed) of authorized user names and passwords, and, based on login information supplied by a user then seeking remote access, determine whether that user is to be permitted to access virtual office functionality and, if so, to enable such access. This module also alerts administrative web site  (see ) if, as a result of its monitoring tasks, it detects any abnormal operation for any of the virtual office functionality. Since this module is not particularly relevant to the present invention, we will not discuss it in any further detail.","Multiplexor  passes each outgoing message from each of the modules destined to the user to web server  or directly to TCP\/IP module  for the thin-client processing, as well as each incoming message from the user, as received by the web server or directly from the TCP\/IP module, to an associated one of the application modules. Communication between each of applications , ,  and , and multiplexor  is symbolized by lines , ,  and , respectively; while communication between the multiplexor and the web server is symbolized by line  and communication between the multiplexor and the TCP\/IP module (via the O\/S kernel) is symbolized by line .",{"@attributes":{"id":"p-0126","num":"0125"},"figref":["FIG. 5","FIG. 4"],"b":["420","400"]},"Module  contains SAMBA component , file sharing front end component  and HTML pages .","SAMBA component  is a conventional open source LINUX component that implements a NET-BIOS Windows Networking client for interacting with a Windows remote file server, here file server  on LAN . File sharing front end  is itself formed of state machine  and user interaction component  which communicate with each other through an application programming interface (API) as symbolized by line .","User interaction component  obtains, as symbolized by line , user interaction data, i.e., URL\/URI selection and form input, incoming from multiplexor  and contained in secure HTTP requests provided by user browser , representative of a user request to file server . Component  extracts the information from these web pages. This request can take the form of, e.g., the user clicking, through his(her) user browser, on a displayed icon in order to obtain a network environment (\u201cnetwork neighborhood\u201d) listing for the LAN or a directory or sub-directory listing for a particular computer then connected to the LAN. Once component  obtains sufficient user interaction data to issue the request to the file server, this component then translates this interaction data into a corresponding request to state machine . The state machine, in turn, interprets this request into a sequence of specific commands, by issuing one command at a time based, where appropriate, on a immediately prior response from the file server. In that regard, state machine  applies, as symbolized by line , a command to SAMBA component  which directly interacts, over the LAN and as symbolized by dashed line , with file server . File server  provides its response to that command back to SAMBA component  which, in turn, provides that response to state machine . Based on each response it receives, via SAMBA component  and via line , from file server , state machine  will react accordingly and could issue another command, via the SAMBA component, to the file server for additional data which the state machine then needs to fulfill the user request or, if all such data has then been received, construct a suitable response containing that data (if any) and provide it, via API , to user interaction component . Once the data has been provided to component , that component will retrieve, based on the nature of the user request and as symbolized by line , a corresponding stored HTML template page from stored pages  and populate that template page with the data returned in the list. Component  then returns, here symbolized by line , a resulting populated HTML page, via multiplexor , to web server  for transmission, via HTTP, to user browser  for rendering thereat.",{"@attributes":{"id":"p-0130","num":"0129"},"figref":"FIG. 16","b":["1600","15","420","1610"]},"As depicted in screen shot , a network neighborhood, showing various computers then available on the LAN, appears in graphical form as a vertical list in left panel  with each computer being represented by an icon and its machine name. Should a user click on any icon in the left panel, user interaction component  will generate, based on information it receives from state machine  and originating from file server , a hierarchical display under that icon, in effect expanding that hierarchy one level, to show a next lower level in the hierarchy, and so on. Hence, all the directories for the machine represented by the icon will be displayed directly under that icon and appropriately indented and graphically linked to show their hierarchical relationship. The contents at that lower level of the hierarchy or any user selected item at that level will be displayed in right panel . The user can then click on any directory at that hierarchical level, on either the left or right panels, to gain a listing of the next lower hierarchical level, and so forth, with the further expanded hierarchy shown in left panel  and the contents of any selected item at that lower level in that hierarchy shown in right panel . At a lowest level of the hierarchy, panel  will depict the sub-directories at that level with panel  depicting the files for a selected sub-directory thereat. By successively clicking on an icon in the hierarchy, the user can drill down the hierarchy to examine a particular sub-directory of interest on a desired networked machine available on LAN . The illustrative display in screen shot  specifically depicts a high level of the hierarchy prior to the user selecting any of the network-connected computers for further examination. Further, by clicking on an \u201cUp\u201d, \u201cNew Folder\u201d, \u201cPaste\u201d or \u201cUpload\u201d button in display area , the file sharing application module will display a next higher level of the hierarchy, create a new folder (or file), paste a folder into a desired location in the hierarchy or upload a selected folder residing on the remote client PC to a desired location at the file server, respectively. Note that popup menus are provided, at particular levels of the hierarchy, to allow for features such as the copying, deleting, etc. of files and directories at each such level.","To gain improved understanding of the operation of file sharing application module , the reader should now simultaneously refer to .",{"@attributes":{"id":"p-0133","num":"0132"},"figref":["FIG. 6","FIG. 7"],"b":["600","522","700","420","78"]},"As shown, state machine  contains four distinct states: null state , command interpretation state , waiting for response state  and response construction state .","Initially, state machine  resides in null state . One a user clicks on the \u201cMy File\u201d icon in the Netilla virtual office graphical interface (e.g., displays ,  or  shown in ,  or , respectively), this operation being symbolized by line , user browser  issues, symbolized by line , an appropriate HTTP request instruction (\u201cHTTPGETREQ (\/hosts)\u201d) to fetch a name of every host then on the LAN. File sharing front end , specifically user interaction component  (see ), receives this command, and in response thereto, issues a command to the state machine, such as \u201cGETSERVERLIST\u201d, to identify all the file servers on LAN . State machine  then transitions as symbolized by path  (in ), to command interpretation state . While in this state, state machine  interprets the \u201cGETSERVERLIST\u201d command to yield a sequence of commands to SAMBA component  to query component  for the desired information. In particular, for the \u201cGETSERVERLIST\u201d command, command interpretation state  will first issue, as symbolized by line , a \u201cNMBLOOKUP-M-\u201d command to SAMBA component  to query file server  for a list of master browsers then operating on the LAN. A master browser identifies a computer that contains a list of names of all the computers then accessible on the LAN for a particular domain. The SAMBA component will, in turn, send appropriate commands to file servers  to satisfy this query. Once this command is issued, state machine  will then transition, as symbolized by line , to state  wherein the state machine will simply wait, as represented by line , for a response from the file servers as provided by SAMBA component . Eventually, the file server responds to the SAMBA query through which, as a result, SAMBA component  provides, as symbolized by line , a list of the master browsers for each domain on the LAN to state machine  within file sharing front-end component . In response, state  will determine if the state machine has received all the responses from the file server needed to satisfy the user request or whether additional information is necessary. If the latter occurs, then state  will transition, as symbolized by line , back to command interpretation state  for the latter state to issue the next SAMBA command in sequence, and so forth. In the present example, once the list of master browsers is returned, command interpretation state  issues, as symbolized by line , an \u201cSMBCLIENT-L hostname\u201d command where \u201chostname\u201d is the name of the master browser for a particular domain on the LAN. In response to this latest command, again state machine  transitions, as symbolized by line , to state  at which the state machine remains (as symbolized by line ) until it receives an appropriate response from the file server via the SAMBA command. In response to this command, the file server returns a list of services, a list of shares and a list of computers associated with the corresponding domain, which the SAMBA component in turn, passes, as symbolized by line , back to file sharing front end  and specifically to state machine  therein. At this point, all the needed information has been received for this particular user request. Hence, state machine  transitions, as symbolized by line , to response construction state . Through this state, state machine  constructs a linked list that contains all the information supplied by the file server in response to the \u201cGET-SERVER-LIST\u201d message (which was originally sent as a result of the receipt of the \u201cHTTPGETREQ (\/hosts) message\u201d and provides that list back to user interaction component . Once this occurs, state machine  returns, as symbolized by line , back to null state . Once the user interaction component receives the linked list, it accesses an appropriate HTML template web page and populates that page with the information provided in the response. After the page is fully constructed, the user interaction component sends, as symbolized by line , that page back through multiplexor  to web server , via an \u201cHTTPGETRESP\u201d message, for transmission to user browser  to depict a graphical rendering of the hosts specified by the file server, e.g., a page of the form shown by screen shot  for the typical display shown in . Response construction state , shown in , is also entered from state  if excess time, i.e., a timeout condition, has occurred once a command has been issued to the SAMBA component without any corresponding response therefrom (which could be as a result of a problem with the SAMBA component, with the LAN itself, or with server(s) on the LAN). As such, state  will specify this timeout condition to the user interaction component which, in turn, will construct and then transmit a web page to user browser  notifying the user of a timeout\/error condition.","Not only can the user display files through interaction with user browser , but also, depending upon current permissions which this user then has, (s)he can move or copy selected files from one directory (sub-directory) to another, or delete such files. File sharing module , including state machine , operates in a very similar manner as that described above, with identical states though different commands, to execute file copy, move and delete operations through file server  in response to corresponding remote user interactions through user browser .",{"@attributes":{"id":"p-0137","num":"0136"},"figref":["FIG. 8","FIG. 4"],"b":["430","400","430"]},"Module  contains IMAP (Internet Message Access Protocol) client component , e-mail front end component  and HTML pages . As can be appreciated, module  has a very similar architecture to file sharing application module  shown in , as well as to thin-client application module  shown in  (and discussed in detail below).","IMAP client component  is a conventional e-mail client component that provides rich interaction with a mail server, such as MICROSOFT\u00ae EXCHANGE\u2122 server, that supports the IMAP4 protocol. For example, the IMAP client downloads and displays stored e-mail messages, residing on the mail server, from an Inbox associated with a user. The IMAP client then permits the user to move and copy mail messages from one folder at the server associated with that user (e.g., Inbox) to another such folder (e.g., Sent), as well as delete any such messages from any such folder. E-mail front end  is itself formed of state machine  and user interaction component  which communicate with each other through an application programming interface (API) as symbolized by line .","User interaction component  (in a similar manner as does user interaction component  described above) obtains, as symbolized by line , user interaction data, i.e., form input data and URI\/URL selections, incoming from multiplexor  and contained in HTTP requests provided by user browser , representative of a user request to e-mail server . Component  extracts the information from these requests. This request can take the form of, e.g., the user clicking, through user browser , on the \u201cMy E-mail\u201d tab to access and list the user's e-mail then residing in his(her) Inbox on the e-mail server. Such an interaction results in the user browser issuing an \u201cHTTPGETREQ (\/Inbox)\u201d message (request) to obtain an HTML page in response (via an HTTP Response) that contains the desired list. Further, once this page and its list are returned and graphically rendered by the user browser, subsequent user interaction can take the form of the user clicking on an icon associated with a different folder of e-mail messages to obtain a list of the messages, in abbreviated form, in that folder; as well as the user clicking on any such entry in any such list then being displayed to expand that rendered version of the message. Similarly, the user, through appropriate mouse manipulation, can drag and drop, hence rearranging, e-mail messages from one of his(her) folders to another.","Once component  obtains sufficient user interaction data from the user\u2014which in the simple case of the user clicking on the \u201cMy E-mail\u201d tab is the HTTP request message, via web server  (see ) and multiplexor , to issue a request to the e-mail server, this component then translates this interaction data into a corresponding request to state machine , shown in . The state machine, in turn, interprets this request into a sequence of specific commands, by issuing one command at a time based, where appropriate, on a immediately prior response from the e-mail server. In that regard, state machine  applies, as symbolized by line , a command to IMAP client component  which directly interacts, as symbolized by dashed line  and over LAN , with e-mail server . E-mail server  provides its response to that command back to IMAP client component  which, in turn, provides, via line , that response to state machine . Based on each response it receives, via IMAP client component , from e-mail server , state machine  will react accordingly and issue another command, via the IMAP client component, to the e-mail server for additional data which the state machine then needs to fulfill the user request or, if all such data has then been received, construct a suitable response containing that data and provide it, via API , in the form of a linked list to user interaction component . Once the linked list has been provided to component , that component will retrieve, based on the nature of the user request and as symbolized by line , a corresponding stored HTML template page from stored pages  and populate that template page with the data returned in the list. Component  then returns, here symbolized by line , a resulting populated HTML page, via multiplexor , to web server  for transmission, via HTTP, to user browser  for rendering thereat.",{"@attributes":{"id":"p-0142","num":"0141"},"figref":"FIG. 17","b":["1700","15","420","1710"]},"As depicted in display , a vertical list of the e-mail folders available for that user is graphically provided in left display panel . These folders include \u201cInbox\u201d, \u201cDrafts\u201d, \u201cSent Items\u201d as well as other folders, such as \u201cSpam\u201d, including those which the user has specifically defined. When this capability is first invoked, a listing of the user's e-mail in his(her) Inbox folder is displayed in abbreviated form in mail list (upper right) display area  as entries in a vertical table with contents of a most recent entry in that folder being displayed in mail content (lower right) display area . Here, that table contains only one illustrative entry with its specific contents being displayed. Should the mail list contain multiple entries, the user can click on any such entry. In response, user interaction component  will display the contents of the message, associated with that entry, in display area . The specific folder then being displayed is graphically indicated through a change (here being a small overlaid envelope symbol) in its displayed icon (as shown for the Inbox icon). Similarly, if the user clicks on an icon for a different folder, then display area  will list the contents of that folder from which the user can select, again by clicking, a desired entry to reveal its contents in display area . In addition, through tool , specifically selection of either a \u201cMove\u201d or \u201cCopy\u201d link within links  and selection of a desired folder through pull-down menu , the user can move or copy the presently displayed e-mail message to the selected folder. Contacts display area  provides various folders which contain contact information, e.g., names, addresses\u2014both postal and e-mail, telephone and facsimile numbers, and other information stored and organized by that user in various folders. Further, when the user clicks on a \u201cNew Mail\u201d, \u201cReply\u201d, \u201cReply All\u201d or \u201cForward\u201d button in display area , the e-mail application module will correspondingly invoke associated functionality to compose a new e-mail message; compose a reply message to the sender of a message then being displayed in area  or to the sender and all recipients of that message, or forward the message then being displayed in area  to a desired recipient, such as those in any of the contacts folders. By clicking on a \u201cPrint\u201d or \u201cDelete\u201d button in area , the e-mail application module will invoke associated functionality to print the e-mail message then selected in area  or displayed in area , or to delete that message, respectively. Lastly, when the user clicks on the \u201cSend\/Rec\u201d, \u201cAddresses\u201d, \u201cPurge\u201d or \u201cFind\u201d buttons, the e-mail application module will correspondingly invoke functionality to toggle its mode from receiving to sending e-mail, list addresses through a conventional address book capability, purge a mail folder then being displayed of its entries, and finally undertake a search through an e-mail folder then being displayed for a desired message.","To gain improved understanding of the operation of e-mail application module , the reader should now simultaneously refer to .",{"@attributes":{"id":"p-0145","num":"0144"},"figref":["FIG. 9","FIG. 10"],"b":["900","822","1000","430","76"]},"As shown, state machine  contains four distinct states (similar to those in state diagram  shown in  for state machine  in file sharing application module ): null state , command interpretation state , waiting for response state  and response construction state .","Initially, state machine  resides in null state . Once a user clicks on the \u201cMy E-Mail\u201d icon in the Netilla virtual office graphical interface (e.g., displays ,  or  shown in ,  and , respectively), this operation being symbolized by line , user browser  issues, as symbolized by line , an appropriate HTTP request instruction (\u201cHTTPGETREQ (\/Inbox)\u201d) to fetch the contents of the user's Inbox. The e-mail application module, now acting through the IMAP client, interacts with the e-mail server, via the IMAP protocol, to retrieve a message list for the user's Inbox.","In doing so, e-mail front end , specifically user interaction component  (see ) receives this HTTP command, and in response thereto, issues a command, \u201cGETINBOXLIST\u201d, to state machine . State machine  then transitions as symbolized by path , to command interpretation state . While in this latter state, state machine  interprets the \u201cGETINBOXLIST\u201d command to yield a sequence of commands to IMAP client component  to query e-mail server  for the desired inbox mail list.","For this command, command interpretation state  will first issue, as symbolized by line , a \u201cA101 SELECT INBOX\u201d command to the e-mail server to select the proper inbox on the e-mail server. Term \u201cA101\u201d (as well as similar term \u201cA102\u201d, and so forth) is a transaction tag assigned to this particular interaction between the state machine and the e-mail server such that server responses can be paired, by the state machine, with appropriate IMAP client requests. Identical circled numerals are shown in  in order for the reader to visually correlate specific inter-component messages shown in communications  with their corresponding events (including state transitions) in state diagram . Once the \u201cSELECT INBOX\u201d command is issued, state machine  will then transition, as symbolized by line , to state  wherein the state machine will simply wait, as represented by line , for a response from the e-mail server as provided by IMAP client component . Eventually, the e-mail server responds to the \u201cSELECT INBOX\u201d command through which, as a result, IMAP client  provides, as symbolized by lines  and , an indication of the number of messages in the user's Inbox. In the example shown in , the response is \u201c*3 EXISTS\u201d which signifies that the Inbox contains three messages. This is followed, as symbolized by line , by a \u201cA101 OK [READ-WRITE] SELECT completed\u201d response from the IMAP Server indicating that the A101 transaction has been completed, and that the Inbox can be read or written during this session. In response, state  will determine if the state machine has received all the responses from the e-mail server needed to satisfy the user request or whether additional information is necessary. For the example shown, at this point in the processing, state  will determine that messages need to be fetched from the e-mail server. Accordingly, once the \u201cA101 OK [READ-WRITE] SELECT completed\u201d message is received, state  will transition, as symbolized by line , back to command interpretation state  for the latter state to issue subsequent IMAP commands as necessary. Illustratively, here, command interpretation state  will issue, as symbolized by lines  and , a \u201cFETCH 1:3\u201d command to the e-mail server to fetch the three queued messages in the Inbox. Here, tag \u201cA102\u201d is attached to this message to uniquely define this interaction. Included in the \u201cFETCH\u201d command are parameters indicating that \u201cdate\u201d and \u201cdate from field\u201d data from the header for each message should be fetched as well. At this point, the e-mail server issues individual fetch responses, here shown as \u201c*1 FETCH\u201d, \u201c*2 FETCH\u201d and \u201c*3 FETCH\u201d and as represented by lines ,  and  in communication , back to the e-mail front end. During this time, state machine  will remain in state command interpretation state  as indicated by line . Each response contains the fetched information for a corresponding e-mail message in the user's Inbox. Once all three messages have been successfully fetched, the e-mail server, as indicated by line , issues an \u201cA102 OK FETCH\u201d message which indicates the completion of this transaction. In response to this completion message, state  will determine that all the necessary responses have been received from the e-mail server. Hence, state machine  transitions, as symbolized by line , to response construction state . Through this state, state machine  constructs a linked list, here list , that contains all the user messages supplied by the e-mail server in response to the \u201cHTTPGETREQ (\/Inbox)\u201d message and provides that list back to user interaction component . Once this occurs, state machine  returns, as symbolized by line , back to null state . Once the user interaction component receives the linked list, it accesses an appropriate HTML template web page and populates that template page with the information provided in the response to yield, e.g., a page of the form shown by display page  shown in  (with an Inbox icon in a left panel and titles to individual e-mail message in a right panel). After this page is fully constructed, the user interaction component sends, as symbolized by line  in , that page back through multiplexor  to web server , via an \u201cHTTPGETRESP\u201d message, for transmission to user browser  to depict the web page providing the e-mail messages downloaded from the e-mail server. Response construction state  is also entered from state  if excess time, i.e., a timeout condition, has occurred once an IMAP command has been issued to the e-mail server without any corresponding response therefrom. As such, state  will specify this timeout condition to the user interaction component which, in turn, will construct and then transmit a web page to user browser  notifying the user of an timeout\/error condition.","Not only can the user download his e-mail messages through interaction with user browser , but also, as discussed above, the user can move or copy selected e-mail messages from one e-mail folder to another, or delete any such messages. E-mail application module , including state machine , operates in a very similar manner as that described above, with identical states though different commands, to execute e-mail copy, move and delete operations through e-mail server  in response to remote user interactions through user browser .","Furthermore, the user can also send an outgoing e-mail message through appropriate interaction with user browser  and particularly using e-mail application module . Specifically, whenever the user clicks on \u201cNew Mail\u201d button in area  on e-mail display screen  shown in , user interaction component  shown in  will interpret that response, as originated from user browser , and access a correct HTML e-mail form from stored web pages  and return that form, as symbolized by line , back to the user browser to be rendered to the user. Once the user appropriately completes the form, (s)he will click on the \u201cSend\/Rec\u201d button in area  to send the message. This interaction, originating from user browser  and when received by user interaction component  shown in , will cause that component to receive the form containing the e-mail from the user browser. Once the form is so received, user interaction component  will extract the content, including the sender and recipient addresses, of the particular e-mail message from the received form and then issue a command to state machine , via API , to send that content out to the e-mail server for transmission. This command will be a \u201cSENDMAILREQ\u201d which will contain as a parameter the e-mail to be sent. To accomplish this, state machine  interacts with two components to actually send this outgoing e-mail message: SMTP (simplified mail transport protocol\u2014conventional and not shown) and IMAP client . The SMTP interaction provides the e-mail message and actually instructs the e-mail server to transmit the e-mail onward to its destination. Once this interaction concludes, state machine  interacts with the IMAP client in order to update the \u201cSent Mail\u201d folder, maintained on the e-mail server, for that particular user to include this message in its listing of sent e-mail messages. The interaction involving state machine , via the IMAP client, and the e-mail server is very similar to that used to read the Inbox, though different commands are used in order to write a message into the user's \u201cSent Mail\u201d folder rather than read the user's \u201cInbox\u201d folder. Once state machine  has successfully sent the e-mail to the server for transmission, the state machine then sends a positive response, i.e., an appropriate \u201cSENDMAILRESPONSE\u201d, to user interaction component . If this user interaction component maintains a local HTML page containing titles of all e-mails in the user's \u201cSent-Mail\u201d folder, component  updates that HTML page to include the message that has just been sent and then supplies that page, as here symbolized by line , back to user browser  for rendering to the user. Alternatively, the user interface component can also access, as symbolized here by line , a predefined HTML page, from stored pages , that merely contains a confirmation that the e-mail message was successfully sent and provide that particular web page, here too symbolized by line , back to web server  for transmission, via HTTP, to user browser  for rendering to the user as appropriate visual confirmation that his(her) message was transmitted. If an external e-mail server is not used, then the IMAP client interacts with Sendmail module  (shown in ) instead.","Though we have described the interaction for both the file sharing and e-mail application modules as illustratively user-initiated, i.e., starting with a user request entered at user browser , the interaction can be server-initiated as well, with either file server  or e-mail server , via SAMBA component  or IMAP client , respectively. In this case, as will be described below in connection with RDP client  (in conjunction with ), a server-initiated request will be directed to the corresponding state machine, be processed by that state machine, and if appropriate, forward resulting data onward to the corresponding user interaction component to be incorporated into an appropriate web page and then transmitted to user browser  for rendering to the remote user. Alternatively, in some cases, once the state machine has processed the request, the state machine may, depending on the nature of the data supplied by the server, generate further commands to the server. Though the specific commands and transition events will likely vary, the state processing will be quite similar to that shown and described herein.",{"@attributes":{"id":"p-0153","num":"0152"},"figref":["FIG. 11","FIG. 4"],"b":["440","400","440","70","440","440","1180","1180"]},"Module  contains RDP component , thin-client front end component , stored HTML pages  and user database .","Thin-client front end  is itself formed of state machine  and user interaction component  which communicate with each other through an application programming interface (API) as symbolized by line . State machine , in a similar fashion to state machines  and  (in file sharing front end  and e-mail front end  shown in , respectively), interacts with an RDP client component  which, in turn, interacts with client applications server . User interaction component , in a similar manner to user interaction components  and  (in file sharing front end  and e-mail front end  shown in , respectively), interacts with user browser  and passes and receives application information to and from the state machine. Protocol engine , described below, receives user interaction data, i.e., user mouse clicks and keystrokes in the form of AIP messages, from user browser  that are related to a client application program then executing on server  and sends screen updates to the user browser for display thereat.","RDP component  is conventional and implements a client side of the RDP. Specifically, it interacts directly with client application server  using RDP by translating commands from a format used by state machine  into the RDP for application to server  and translating responses received from this server into an appropriate format for use by state machine .","User interaction component  contains generic web page module  and protocol engine . Generic web page module  responds to a request from the user, and specifically user browser , that does not directly involve the execution of a thin-client application program. For example, when the user first clicks on the \u201cMy Apps\u201d tab, an HTML page that contains a Java applet that controls input\/output to executing thin-client application programs, using the AIP protocol, is downloaded to the browser and then instantiated under the browser to become Java applet .","As shown in , user interaction data in the form of user mouse clicks and keystrokes is provided by user browser  and specifically through execution of conventional internal Java applet  that encodes this data into the AIP protocol. Additionally, control information is passed between the Java applet and the SEP to enable the applet to, for example, correctly display the icons for the client application programs that a particular user can access. For the discussion that follows, this control data is also sent via the AIP protocol. In general, this data could be sent by the same protocol as is used for transfer of the user interaction data in the form of mouse clicks and keystrokes, or by some alternate protocol.","In any event, user interaction component  obtains, as symbolized by line , AIP message data incoming from multiplexor . This message can take the form of a message indicating that a user has clicked on one of his(her) displayed client application program icons to invoke that particular application. Protocol engine  within component  extracts the interaction data from the AIP message and applies it to state machine . The state machine, in turn, provides, as symbolized by line , this command to RDP component  which converts it into a corresponding RDP message. Component  then sends that RDP message, over the LAN and as symbolized by dashed line , to client application server . Server  then extracts the interaction data from the RDP message and applies it to the corresponding client application program then executing, or in the case of a user initially clicking on a client application program icon displayed by the user browser, launches that application on the server. The resulting graphical display produced by the application is then returned by the server, within an RDP message and also as symbolized by dashed line , back to RDP component . This component, in turn, provides the display data to state machine . The state machine will react accordingly and provide that data, via API , to user interaction component . This component, through protocol engine , converts that display data (screen shot) into an AIP message and then transmits that message, via multiplexor  and web server , to user browser  to update the application display then being rendered thereat. Within the browser, Java applet  converts the AIP message into an appropriate display to the user within the window assigned for this particular instance of the remotely executing client application program.","Protocol engine  does not always need to interact with state machine . For example, when Java applet  sends a request to the protocol engine for a list of client application programs to which the user can access (via the control portion of the AIP protocol or via a separate control protocol), the protocol engine can refer, as symbolized by line , to local user database  for that application list. Once the list is returned to engine , that engine, in turn, will instruct the Java applet as to which specific applications to graphically display to the user. Alternatively, rather than accessing local user database , protocol engine  could access a non-local database through a conventional protocol, such as LDAP.","When the user clicks on the \u201cMy Apps\u201d tab as displayed by user browser  in order to invoke thin-client application program hosting, a display similar to that shown in screen shot  depicted in  is rendered as a result. Visual feedback of that selection is again illustratively provided through a highlighted background for this tab in display region . Those specific client application programs to which the user can access are displayed through separate graphical icons  situated in display area . The user can then click on any of these icons to remotely launch the associated client application program in a separate browser window through which the user can fully interact with that application.","To gain improved understanding of the operation of thin-client application module , the reader should now simultaneously refer to , B and .",{"@attributes":{"id":"p-0163","num":"0162"},"figref":["FIGS. 12A and 12B","FIG. 13"],"b":["1200","1250","1122","1126","72","1110","15","1300","440","72"]},"As shown, state machine  contains four distinct states (similar to those in state diagrams  and  shown in  for state machine  and  in file sharing application module  and e-mail application module , respectively): null state , command interpretation state , waiting for response state  and response construction state .","Initially, state machine  resides in null state . One a user clicks on the \u201cMy Apps\u201d icon in the Netilla virtual office graphical interface (e.g., displays ,  or  shown in ,  and , respectively), this operation being symbolized by line , user browser  issues, as symbolized by line , an appropriate HTTP request instruction (\u201cHTTPGETREQ (\/Apps)\u201d) to fetch a list of the client application programs which that user can access. User interaction component  receives this command, and in response thereto, issues, as symbolized by line , an HTTPGETRESP message containing an HTML page with an embedded Java applet. Once downloaded into user browser , this Java applet is instantiated by the browser as Java applet  (see ) and then issues, as symbolized by line , a query, \u201cUserDesktopQuery\u201d, to thin-client front end  for a list of the user's accessible hosted client application programs. As a result of this query, component  in thin-client front end  returns, as symbolized by line  (see ), a response, \u201cUserDesktopResponse\u201d, based on stored user information contained within user database , containing a list of those application programs. Thereafter, Java applet  executing in the browser displays an icon on user browser  for each of these application programs. At this point, the user, being provided with a graphical display such as display  shown in , can click on any of these icons to invoke the corresponding client application program.","If the user then clicks on any such icon, e.g., that associated with the MICROSOFT\u00ae WORD\u2122 program, this interaction being symbolized by line , Java applet  spawns a new browser window (which the applet controls) for use as a user display area for that particular remotely hosted application program. In addition, then user browser  provides, as symbolized by line , a \u201cSessionStart\u201d command to thin-client front end . This command includes the name of an application server (server  as shown in ), appropriate flags, a domain within which the application server runs, password of the user, the name of the application program (here \u201cWord\u201d), a name of a working directory and other related parameters needed to properly and remotely execute the application program (including fully defining its user environment).","In response to the \u201cSessionStart\u201d command, state machine  transitions, as symbolized by line  in , from null state  to command interpretation state  where it processes this command. Similar to , identical circled letters, rather than numerals, are shown in , B and  in order for the reader to visually correlate specific inter-component messages shown in communications  with their corresponding events (including state transitions) in state diagrams  and . Specifically, while in state , the state machine issues, as symbolized by line , an \u201cRDPCONNECTREQ\u201d request message to client RDP component  to request a session with a particular client application server. This request contains, e.g., the server, directory, application program (e.g., the MICROSOFT\u00ae WORD\u2122 program) and other information provided, in the SessionStart command, to the thin-client front end. Once this message is issued, state machine  transitions, as indicated by line , to waiting for response state , waiting for a response from the client application server, e.g., server  shown in .","Once the server has established the requested application session, the server issues an appropriate message to client RDP component  as shown in , which, in turn, provides, as symbolized by line , an RDP connect response message, \u201cRDPCONNECTRESP\u201d, to the thin-client front end. In response to this RDP message, state machine  remains, as symbolized by line , in this state to determine if this is the only response that the state machine has been expecting from the client application server or not. If it is, as is the case here for session startup, then state machine  transitions, as indicated by line , from state  to response construction state . Once in the latter state, state machine  constructs an appropriate session start response message. i.e., \u201cSESSIONSTARTRESP\u201d, to user interaction component  after which the state machine transitions, as symbolized by line , back to null state . As a result of this response message, the user interaction component sends a \u201cSessionStartResp\u201d message, as symbolized by line , to user browser  and specifically to Java applet  executing thereunder to indicate that the desired application session has been established. In essentially the same manner as just described, subsequent user-initiated interactions, i.e., mouse clicks and keystrokes, with the executing application program will be provided by the user browser and processed through the thin-client front end and translated from AIP into appropriate RDP messages which, in turn, are provided to client application server  to control execution of that application program.","Returning to the example shown in  for startup of an remotely hosted thin-client application program session, once the application session has been established and the application invoked at server , the server will provide RDP client component  with an initial graphical display screen. In response, RDP component  will issue, as symbolized by line , an \u201cRDPPROCESSBITMAPUPDATES (stream)\u201d message containing screen bitmap display data for display. In response to this RDP message, state machine  will transition, as symbolized by line  in , from null state  to command interpretation state . In this latter state, the state machine will simply pass this bitmap data onward to user interaction component  within thin-client front end  such that this data can be forwarded to the user browser for rendering thereat. As such, state machine  will issue, as symbolized by line , an image update command, \u201cIMAGE UPDATE\u201d, to the user interaction component, and, as symbolized by line , transition back to null state . In response to this state machine command, the user interaction component performs certain initial processing of this bitmap data. In particular, given limited display capabilities of a Java virtual machine executing in user browser , this processing includes operations not supported by that virtual machine, such as, e.g., plane masking, logical operations and others. In addition, the user interaction component, through use of protocol engine , will also determine if Java applet  has cached any portion of the display that can be reused in the updated display, e.g., a glyph representing a character, hence eliminating a need to resend that portion so as to conserve transmission bandwidth and expedite update time by user browser . At the conclusion of this processing, user interaction component  within thin-client front end  will send, as symbolized by line , a \u201cDisplayScreen (Image)\u201d message containing the update display data to user browser  for rendering thereat in the corresponding window spawned to support this particular client application program. In the same manner as described, subsequent server-initiated interactions, i.e., bitmap display screens, for this program will be provided by client application server  and processed through the thin-client front end and translated from RDP into appropriate AIP messages which, in turn, are provided to user browser  to appropriately update the display in the corresponding application window.","We will now proceed to describe how the Remote Monitoring and Management (RMM) aspect of our present invention is implemented.",{"@attributes":{"id":"p-0171","num":"0170"},"figref":"FIG. 19","b":["1900","20","65","200","20","20","20","20","20"]},"As shown, software  is composed of management software  that executes, as a daemon process, in SEP  and service monitoring software  that executes in administrative web site (CCC) . Software  and  utilize the same protocol hierarchy (stack): at uppermost levels of the hierarchy, service monitoring agent  in software  and service monitoring manager  in software , followed, in order, by WDDX layers  and , XML layers  and , HTTP layers  and , SSL layers  and , and at the lowest level of the hierarchy: TCP\/IP layers  and , respectively.","Service monitoring agent  can be programmed to continually monitor the health and operational status of the SEP and its network connections (e.g., WAN connection), the virtual office applications and their corresponding servers (e.g., servers , ,  and  as shown in ), and, in doing so, receives alarm, status and configuration data, as symbolized by line , from various SEP hardware and software components. This data, in the case of routine reports, is obtained by polling.","Communication from agent  destined to CCC  is first routed to WDDX module . This module is an open source component presently available from Macromedia, Inc. of San Francisco, Calif. In essence, WDDX module  converts data objects provided by agent  into WDDX hash structures. These structures are provided to XML layer  which, in turn, encodes specific data fields therein (given the particular fields that are to then be encoded) into appropriate XML (extensible markup language). The resulting XML is then applied to HTTP layer  for conversion into corresponding HTTP messages for transport over the web to a peer HTTP process (here process ). Thereafter, to secure the transmission, the resulting HTTP messages are then encrypted by SSL layer  (implemented through Open SSL module  and using certificate , shown in ) with the results being applied to TCP\/IP layer  (implemented by TCP\/IP processing module  shown in ) for encapsulation, packetizing and packet transport, as symbolized by line , over WAN  to web site (CCC) .","Incoming messages to CCC  from WAN  are handled by service monitoring software , and processed through essentially the same protocol hierarchy, though in a reverse direction. This processing commences with TCP\/IP layer  for packet disassembly and related packet processing of these incoming messages, as symbolized by line , with resulting encapsulated encrypted HTTP messages then being applied to and decrypted by SSL layer . Resulting decrypted HTTP messages are applied to HTTP layer  which extracts the XML content therefrom and then applies these messages to XML layer  which converts the data within the XML into a corresponding WDDX hash structure(s). Thereafter, WDDX layer  extracts various data fields from the WDDX hash structure and, in turn, applies these fields to service monitoring manager . Manager  then accesses and updates appropriate records within database , such as to log alarm information provided by the SEP or modify stored profile data based on a profile downloaded by the SEP through monitoring agent .","Communication originating from CCC  and destined to SEP  follows a reverse path commencing at manager  accessing desired data (e.g., a stored configuration profile) within database , then sequentially downward through the remainder of the stack shown in software  to yield encrypted packetized HTTP messages that are sent through WAN . When received by the SEP, these messages are then processed upward through the stack in software  with the resulting data being appropriately provided to and handled by agent , such as by updating a stored database in the SEP to reflect the data provided by the CCC.",{"@attributes":{"id":"p-0177","num":"0176"},"figref":"FIG. 20","b":"2000"},"As shown, software  contains component  itself formed of remote monitoring\/management (RMM) process , connection service monitoring (CSM) process  and remote monitoring transport (RMT) process ; and routines .","RMM process , when it instantiates at SEP start-up, spawns, to the extent relevant, two child processes: CSM process  and RMT process . All of these processes are daemon processes. RMM  accepts incoming SEP-generated alarm information, as symbolized by line . This process: (a) generates a request ultimately to manager  in web site  to download a customized configuration profile in the event that only a default profile is then available on the SEP, such as during SEP installation (i.e., initial start-up); (b) coordinates delivery of alarms to web site , specifically manager  therein; and (c) sends poll messages, over dial-up link  (see ) to web site , during a failure of the broadband connection to the WAN. These poll messages permit the CCC to obtain a current IP address of that SEP such that the CCC can update database  to reflect that address and hence communicate with that SEP. In particular, since the broadband WAN link to the SEP has a static IP address, should this link fail, the SEP will establish a dial-up connection to the Internet, via dial-up link . However, in establishing that link, the ISP into which the SEP dials, will assign dynamically assign an IP address to the SEP\u2014an IP address which will not match that previously stored in CCC database . Hence, the need then arises for the SEP to provide its new IP address to the CCC. Polling is required inasmuch as the SEP will terminate its current dial-up session with the ISP and establish a new session from time to time; hence, receiving a new IP address each time which must be communicated to the CCC. This particular polling stops once the broadband WAN link is fully restored.","In addition, to the extent that any entity in the SEP, or residing on or connected to the LAN is incapable of generating an alarm, the RMM process can be configured to poll that entity for its status, report that status back to the CCC and report an alarm, when necessary.","Alarm coordination entails determining, in the event of multiple web servers being associated with web site  (or multiple such sites) which specific web site is to receive current alarms from SEP , as well as prioritizing and queuing alarms for delivery. Furthermore, RMM process  utilizes a shared memory queue into which software executing on the SEP can insert an appropriately formatted alarm message, thus, accommodating alarms generated by processes other than CSM process  (e.g., alarms ). In that regard, the configuration profile specifies a list of alternate CCC web servers which RMM process  will utilize if it experiences a problem in delivering alarms to web site (CCC) . In that regard, should such a delivery problem be detected, the RMM process will use a round-robin algorithm in selecting an alternate delivery site from those CCC servers specified in the list. For local redundancy, particularly in the event of a failed delivery to the CCC, RMM process  also records all alarms it receives in a local database. RMM process  attempts delivery of alarm information a prescribed number of times as specified by the configuration profile, with a random delay between successive attempts. RMM process  also monitors the health of CSM and RMT processes  and , respectively, (with each of these processes also monitoring RMM process ), and, if it detects any anomalous behavior, terminates all three processes (with each of the other three processes terminating the others, if necessary). A \u201ccron\u201d daemon checks every quarter-hour to determine whether RMM is running or not and re-starts RMM if it is not.","CSM process , once started, reads a user specified configuration file (stored profile previously downloaded from web site ) that indicates which specific connections and servers and\/or groups thereof (and\/or other entities) are to be monitored. At a user specified frequency, the CSM process conducts various conventional tests to determine the health of the items then being monitored. If any such test indicates a fault, then CSM  generates an appropriate alarm to RMM . Tests are server and function specific, in the sense that, e.g., a test for E-mail server  (see ) is different from that for thin-client server  and for any of the thin-client virtual office applications then executing thereon. Tests also fall into two categories: those which generate a pair of alarms, namely one where a service failure occurs and a corresponding one when service is appropriately restored; and (b) those that generate an alarm every time a failure is detected, but do not generate an alarm when that failure is resolved.","RMT process  provides reliable delivery of alarm information between SEP  and web site , as well as managing an interface between RMM process  and routines . In operation, RMT process  spawns a Perl interpreter and pushes\/pops data off a resulting stack.","Specifically and as described in detail below in conjunction with , RMT process  utilizes, as symbolized by line , a set of Perl Remote Management Scripts (RMS)  to transport messages between SEP  and from web site . These scripts utilize a layer of routines (specifically function specific modules, i.e., scripts and function calls) that, among other aspects, collectively implement a transport layer. This layer sits above a Perl web client and Apache Web server daemon processes. Messages are sent using the Perl web client and received by the Apache web server which, in turn, calls the transport layer as a CGI (common gateway interface) script. Both the Apache web server and the Perl web client utilize SSL to secure (encrypt\/decrypt) the transmission of management data between SEP  and web site  in conjunction with TCP\/IP processing.",{"@attributes":{"id":"p-0185","num":"0184"},"figref":"FIG. 21","b":["2000","200"]},"As shown, software  contains RMM process , CSM process , RMT process  and routines . Here, routines  are themselves depicted as SEPGETPROFILE module , SEPSETPROFILE module , SEPRMMRECEIVE module , SETRMMSEND module , all of which have an associated WDDX translation module associated therewith, specifically modules , ,  and , respectively. Since the specific information (fields) handled by each module differs, then the various WDDX fields, as defined by a WDDX hash structure, will differ accordingly amongst modules , ,  and , hence, necessitating that each of these modules has a separate WDDX translation module associated with it. WDDX effectively provides an application programming interface that resides directly over XML which hides the complexities associated with XML coding, thereby simplifying the use of XML\u2014which otherwise can be quite tedious.","SEPGETPROFILE module  is called whenever the CCC requests a configuration profile from SEP . In operation, this module retrieves, as symbolized by line , the profile, e.g., profile , stored with SEP database  and encodes the resulting profile into a corresponding WDDX hash structure through WDDX translation module . The resulting WDDX structure is then provided, as symbolized by line , to transport layer (RMSTP)  for XML serialization.","SEPSETPROFILE module  is called whenever CCC  intends to download a profile to SEP . In particular, this module converts, the WDDX hash structure it receives into a set of Perl structures, reads data from those Perl structures and then, as symbolized by line , writes that data into SEP database  as profile . Prior to writing the incoming profile into database , module  will test the new profile for any errors and, in the event of any errors, will report these errors, as a response, to the CCC and not write that profile into the database.","SEPRMMRECEIVE module  receives incoming messages from web site  intended for RMM process  or for writing into database . These messages supplied, as symbolized by line , by transport layer  are WDDX hash structures, which, in turn, are converted into Perl data with the resulting data then provided, as symbolized by line , to RMT process , or, as symbolized by line , to database .","Lastly, SEPRMMSEND module  receives RMM request data from a stack generated by RMT process . This request data takes three forms: (a) a profile request, i.e., to download a customized profile to the SEP; (b) an alarm delivery request, i.e., to send an alarm to the SEP; and (c) a poll delivery request, i.e., to send polled status information to web site . Module  converts associated Perl data it receives, as symbolized by line , from the RMT process into a corresponding WDDX hash structure through WDDX translation module . Once that occurs, the resulting WDDX hash is applied, as symbolized by line , to transport layer  for subsequent delivery to the CCC. Thereafter, module  waits for a response from the CCC. Once this response is received, module  forwards it to RMT process  where, in the case of a returned profile, that response is written into database . The RMT process returns the result of the delivery attempt to the RMM process and, if the attempt is unsuccessful, RMM process  determines where and when to make another attempt to send the message.","Transport layer (RMSTP)  reliably exchanges (sends and receives) data (in the form of corresponding serialized XML data) between modules , ,  and  in the SEP and peer modules in the CCC. In particular, for any outgoing message from the SEP, layer  first determines its destination IP address (or receives that address from a higher layer). Thereafter, layer  uses a private key associated with SEP  to sign the outgoing message, thus permitting the recipient, i.e., here web site , to determine the sender and authenticate the message. Thereafter, the outgoing message is applied to web client  which, in turn, calls SSL module  to encrypt the messages and then, via TCP\/IP module , posts the message, as an outgoing HTTP message, to a specified web server, e.g., residing at the CCC. Incoming messages from the CCC are handled in essentially a reverse manner. Web server  receives, via TCP\/IP module , an incoming HTTP message and applies the message to SSL module  for decryption. Thereafter, transport layer  checks the message, based on its digital signature, to ascertain whether that message originates from the CCC and is authentic. If the incoming message is valid, layer  then applies that message to its corresponding receiving module, i.e., one of modules ,  or .","Web server  and web client  bi-directionally communicate with transport layer  as symbolized by lines  and  for incoming and outgoing SEP\/CCC messages, respectively. Web server  and web client  bi-directionally communicate with SSL module  as symbolized by lines  and  for incoming and outgoing SEP\/CCC messages, respectively. SSL module and TCP\/IP module  bi-directionally communicate with each other via lines  and  for incoming and outgoing messages, respectively. Lastly, TCP\/IP layer  bi-directionally communicates over WAN  for incoming and outgoing SEP\/CCC messages, as symbolized by lines  and , respectively. Web server , SSL layer  and TCP\/IP layer  are respectively implemented by Apache web server , Open SSL module  (in conjunction with X.509 certificate ) and TCP\/IP processing module , all of which are shown in . While the web server uses the Open SSL Apache module, web client  uses a different version of the Open SSL function library.",{"@attributes":{"id":"p-0193","num":"0192"},"figref":"FIG. 22","b":["1950","20"]},"As shown and not surprisingly, software  is very similar and provides complementary peered functionality to software  shown in . Software  is formed of CCCRMMRECEIVE module , CCCRMMSEND module , CCCGETPROFILE module  and CCCSETPROFILE module , all of which have an associated WDDX translation module associated therewith, specifically modules , ,  and , respectively. Since the information handled by each of modules , ,  and  differs, then the WDDX hash structure will differ accordingly amongst these four modules; hence, necessitating that each of these modules has a separate WDDX translation module directly associated with it. Modules  and  interact, as symbolized by lines  and , respectively, with CCC database ; while modules  and  interact, as symbolized by lines  and , respectively, with application server . This application server, database  and administrative console  (which is typically a workstation) are interconnected via LAN  to permit an individual, stationed at console  and interacting through server , to modify the profiles stored within database , as necessary, and upload a corresponding profile from CCC database  to a SEP or download a current profile from a specific SEP into that database.","Transport layer (RMSTP) , web server , web client , SSL module , TCP\/IP module  and links , , , , , ,  and \u2014all of which also form part of software \u2014provide essentially the same functionality (and are implemented in a very similar manner) as do corresponding elements in software ; namely, transport layer , web server , web client , SSL module , TCP\/IP module  and links , , , , , ,  and , respectively.","Specifically, CCCRMMRECEIVE module  receives incoming requests, via transport layer  and as symbolized by line , originating from RMM module  executing in a SEP and proceeds accordingly. For alarm delivery requests, module  writes a corresponding reported alarm into database . Profile requests cause module  to retrieve a specified profile from database  and download that profile via transport layer  and its associated processes to the SEP. In response to poll requests, module  updates a current IP address of a SEP, specified in the request, to the IP address specified in the request, or to update database  with other information, e.g., status, specified in the request. After each such request is completed (or has failed), module  provides a corresponding response to a SEP module that issued the request.","CCCRMMSEND module  supports outgoing RMM management messages originating\/generated by the CCC, intended to an RMM process executing on a SEP. These messages are provided, as symbolized by line , to transport layer  for transmission to that SEP.","CCCGETPROFILE module  is used to obtain a stored profile from a SEP. This generally occurs, whenever an individual, such as a technician or third-party installer, through interaction with console  appropriately instructs application server , to access a profile stored in a SEP and update web site database  with that profile. To accomplish this, module  encodes a request command into an appropriate WDDX hash structure and communicates that structure to transport layer  for subsequent processing into serialized XML and transport, eventually as an HTTP message, to a destination SEP. Thereafter, module  waits for a response from that SEP. The resulting profile is returned to application server  which, in turn, writes it into an appropriate customer record residing in web site database .","CCCSETPROFILE module  is used whenever that individual, again through interaction with console , instructs server  to download a profile stored in database  to a specific SEP. To accomplish this, server  retrieves the desired profile from database  and provides that profile to module . This module then encodes the profile in a corresponding WDDX hash structure and then passes that structure to transport layer  for subsequent processing into serialized XML and transport, eventually as an HTTP message, to the specific SEP. Thereafter, module  waits for a response from that SEP as to its successful receipt of the profile. Once the profile has been received and appropriately processed, that SEP appropriately writes the profile into its database (e.g., as profile  in database  shown in ).","With the above in mind, we will now discuss, in conjunction with , inter-process interactions that occur within the SEP and web site (CCC)  when: the SEP downloads a configuration profile from the CCC; the CCC downloads a current profile from the SEP; an alarm is reported by the SEP to the CCC; and the CCC, based on a request initiated at the CCC, uploads a configuration profile to the SEP.",{"@attributes":{"id":"p-0201","num":"0200"},"figref":["FIG. 23","FIGS. 21 and 22","FIGS. 23\u201326"],"b":["200","20"]},"This procedure begins whenever SEP , specifically RMM process , issues, as symbolized by line , Get Profile Request . RMM process , directs, as symbolized by line , this request to RMT process  for transmission to the CCC. In response, process  provides the request in the form of Perl data, and specifically a request to download a customized profile to the SEP, to SEPRMMSEND module . This module converts the Perl data it receives into a corresponding WDDX hash structure and supplies that structure to transport layer  for transmission. Specifically, transport layer  forms a message containing the serialized XML, signs that message and passes it to the web client (client  but not specifically shown in ) for encryption (via SSL). The encrypted HTTP message (containing the WDDX hash structure) is then supplied back to the web client which transmits that HTTP message, as symbolized by line , to the Apache web server  residing at the CCC. Upon receipt of the HTTP message, the web server decrypts the message (through SSL), and passes it to the transport layer to authenticate the message using the signature appended to the decrypted message and, if authentic, extracts the serialized XML content therefrom. The resulting serialized XML content is then de-serialized into WDDX hash, with the resulting hash being applied, as symbolized by line , to CCCRMMRECEIVE module . In response to this request, module  then accesses, as symbolized by line , CCC database  to obtain the requested profile for SEP .","Once this profile, e.g., profile , has been retrieved, CCCRMMRECEIVE module  receives, as symbolized by line , a response containing this profile. This profile is then converted by module  into a set of Perl structures which are, in turn, converted into a WDDX hash structure which is then provided to transport layer  which serializes that hash into XML. The transport layer then supplies the response to web server  which uses its SSL module to encrypt the XML and then transmits it, as an HTTP response (here being a serialized XML message) and as symbolized by line , to the web client in SEP . The web client then passes the serialized XML message to transport layer  which de-serializes the XML into WDDX hash structure which is provided to SEPRMMSEND module , which, in turn, converts the WDDX hash structure into a set of Perl structures, as response . The response is provided, as symbolized by line , back to RMM process  to signify a successful download. In addition, module  also extracts data fields from these Perl structures and applies, as symbolized by line , those fields (which collectively form profile ) to SEP database  which is then written, as symbolized by operation , into this database. The profile is tested before it is written to the database and, if the test fails, the write to the database is aborted and RMM process  is informed of the failure as indicated by line .",{"@attributes":{"id":"p-0204","num":"0203"},"figref":"FIG. 24","b":["20","200"]},"This procedure begins whenever application server  issues, as symbolized by line , a request to download a current profile from the SEP into the CCC database. As noted above, such a request typically originates from an individual interacting with administrative console . This request, typically in the form of Perl data, is directed to CCCGETPROFILE module  which, in turn, converts it to a corresponding WDDX hash structure (see ) after which that structure is provided to transport layer . The transport layer then converts the structure into serialized XML and forms an HTTP message, signs that message (using the secret key of the CCC) and then sends the message to the web client. The web client (client  but not specifically shown in ) calls the SSL layer to encrypt the message which is then transmitted, as symbolized by line , to Apache web server  residing at SEP .","Upon receipt of the HTTP message, web server  provides, as symbolized by line , the decrypted HTTP message to transport layer  which, in turn, authenticates the message using the signature contained in the decrypted message. If the message is authentic, then transport layer  extracts the serialized XML therefrom and de-serializes it. The resulting WDDX hash is then applied to SEPGETPROFILE module  which, specifically through module  (see ), converts the WDDX hash structure containing the profile download request into the equivalent Perl request. In response to this request, module  then accesses, as symbolized by line , SEP database  to obtain the requested profile, i.e., profile . Once this profile is accessed, a copy of it is returned, as symbolized by line , to module . This module then encodes the profile in a corresponding WDDX hash structure by module . Thereafter, transport layer  forms a serialized XML version of this WDDX hash and, then, a corresponding HTTP message. Once this occurs, the transport layer passes, as symbolized by line , the resulting message, containing the XML encoded WDDX structure, to web server  for encryption and transmission to the CCC. This HTTP response is then transported, as symbolized by line , back to the web client at the CCC and applied by that client to transport layer . In a reverse fashion to that explained above, the transport layer extracts and de-serializes the XML and converts resulting de-serialized XML into a WDDX hash structure containing the requested profile. WDDX translation module  then converts the WDDX hash structure into its Perl equivalent. CCCGETPROFILE module  then writes, from this hash structure, appropriate data fields containing the profile into database , and specifically in a customer record for the customer associated with SEP . The CCCGETPROFILE module also write its result back to application server via , and issues acknowledgement message  back to application server  to suitably inform the server (and hence the individual thereat) that the requested profile has been successfully downloaded to and stored within the CCC, thus suitably updating its customer records.",{"@attributes":{"id":"p-0207","num":"0206"},"figref":"FIG. 25"},"This procedure begins whenever an alarm, here symbolized by block , is generated by the SEP in response to a detected fault in an entity which it is then monitoring. Here, assume that the alarm is generated by the CSM process . The CSM process provides, as symbolized by line , that alarm to RMM process . This latter process, as described above, logs the alarm and then inserts it depending on the priority of that alarm in its message queue for RMT process . The RMT process then spawns the Perl interpreter and puts the alarm message on the interpreter stack. To subsequently deliver the alarm to the CCC, RMM process  provides, as symbolized by line , that alarm to RMT process  for reliable delivery to the CCC. RMT , in turn, spawns an instance of the Perl interpreter and inserts the alarm data on the Perl stack (implemented by SEPRMMSEND module ). To appropriately deliver that alarm, RMT process  then provides, as symbolized by line , the alarm data for that alarm to SEPRMMSEND module . Module  converts the associated Perl data into a corresponding WDDX hash structure, through module  (see ), into serialized XML. Once that occurs, the serialized XML is applied to transport layer  for subsequent delivery to the CCC. Specifically, transport layer  forms an HTTP message containing the serialized XML, signs that message and then encrypts it (via SSL). The encrypted HTTP message (containing the WDDX hash structure bearing the alarm information) is then supplied to a web client (client  but not specifically shown in ) which transmits that message, as symbolized by line , to Apache web server  situated at the CCC. Upon receipt of the HTTP message, the web server provides the encrypted HTTP message to transport layer  which, in turn, decrypts that message (through SSL), and authenticates the message using the signature contained in the decrypted message. If the message is authentic, then the transport layer extracts the de-serialized XML, converts it to a WDDX hash structure therefrom and applies that structure to CCCRMMRECEIVE module  which, specifically through its WDDX translation module  (see ), converts the WDDX hash structure containing the alarm information into Perl data. In response to this request, module  then writes, through operation  and as symbolized by line , the alarm information into CCC database .","Once the alarm has been successfully written, CCCRMMRECEIVE Module  generates a suitable response message which is then converted by WDDX translation module  (shown in ) from Perl data into a WDDX hash structure. This hash structure is then provided to transport layer  which converts it to serialized XML and, using the private key associated with the CCC, signs this message. The transport layer then encrypts the signed message and, as symbolized by line , supplies it, as message , to web server  which transmits it, as symbolized by line , to the web client in SEP . This encrypted HTTP message is then passed to transport layer  which decrypts the message and then, using the signature contained in the message, authenticates the message. The transport layer extracts the serialized XML therefrom, converts it to a WDDX hash structure and provides that structure to SEPRMMSEND module  which, through its associated WDDX translation module , converts the WDDX hash structure (containing the response message) into Perl data, as response . The response containing the Perl data is pushed on the stack by the Perl interpreter and provided, as symbolized by line , back to RMT process  as an acknowledgement. RMT process  also provides, as symbolized by line , a suitable acknowledgement message back to RMM process  to confirm proper delivery\/failed delivery of the alarm information to the CCC and storage of that information within the CCC database.","Lastly,  depicts inter-process communication that occurs, in response to a request arising within web site (CCC) , for downloading a stored profile from the CCC to the SEP and writing that profile into the SEP.","This procedure begins whenever application server  issues, as symbolized by line , a request to upload a stored profile from the CCC database into the SEP database. As noted above, and similar to the scenario, shown in  for downloading a profile from the SEP to the CCC, such a request typically originates from an individual interacting with administrative console . This request, typically in the form of Perl data, is directed to CCCSETPROFILE module. In response to this request, this module first accesses, as symbolized by line , CCC database  to obtain a copy of the desired stored profile. Resulting profile  is then returned, as symbolized by line  and as Perl data, back to the CCCSETPROFILE module. This module, through associated WDDX translation module  (see ), converts the Perl data to a corresponding WDDX hash structure. Thereafter, that structure is provided to transport layer , which in turn, converts the hash structure into serialized XML, forms an HTTP message containing the serialized XML, signs that message (using the secret key of the CCC) and then encrypts the resulting message (via SSL). The encrypted HTTP message is then supplied to a web client (client  but not specifically shown in ) which transmits that message, as symbolized by line , to Apache web server  residing at SEP .","Upon receipt of the HTTP message, web server  provides, as symbolized by line , the encrypted HTTP message to transport layer  which, in turn, decrypts that message (through SSL), and authenticates the message using the signature contained in the decrypted message. If the message is authentic, the transport layer extracts the serialized XML therefrom, converts it to a WDDX hash structure and applies that structure to SEPSETPROFILE module  which, specifically through its WDDX translation module  (see ), converts that structure containing the profile to be downloaded into the SEP into Perl data, along with accompanying profile write request . In response to this request, module  then writes, as symbolized by line , the profile into SEP database . Once this profile is written, SEPSETPROFILE module  generates a Perl response which, through WDDX translation module , is converted into a corresponding WDDX hash structure. Thereafter, transport layer  converts the WDDX hash structure into serialized XML and then forms an HTTP message, here symbolized by response , containing the serialized XML, then signs the message using the secret key of the SEP, and encrypts the message using SSL. Once this occurs, the transport layer passes, as symbolized by line , the resulting encrypted HTTP message, containing the XML encoded WDDX structure, to web server  which transports, as symbolized by line , this message back to the web client at the CCC. In a reverse fashion to that explained above, the transport layer decrypts the message, authenticates it and, if the message is authentic, then extracts, from the decrypted message, the resulting serialized XML therefrom and converts it to a corresponding WDDX hash structure. WDDX translation module  then converts this structure into Perl data. CCCSETPROFILE module  then provides, as symbolized by line , response message , though in Perl form, back to application server  to confirm that the desired profile has been downloaded into the SEP. Before the profile is written by the SEP into database , the profile is tested and if the test fails, the write to the database is aborted and the appropriate response is returned.","In view of the prior discussion, we will discuss principal interactions that occur between any SEP, such as SEP , and web site (CCC)  when that SEP is initially installed at a corresponding customer site. For this discussion, we will assume, for simplicity, that the Internet is used as the WAN, as is expected to be case in the vast majority of (if not all) SEP installations. Also, as is the case with every SEP, for SEP  a customized profile will have been predefined and stored within CCC database , where that profile defines an anticipated operational and network environment existing at a customer site in which that particular SEP is to function.","Initially, prior to its installation at a customer site, SEP  is likely to be at a third-party System Integrator's workshop and need not be connected to his network, but only needs to have an analog phone line connected to it.","At this point, the only profile stored within this SEP is the default profile. As such, RMM process  detects this condition and causes the SEP to attempt to connect to WAN  by establishing an Internet session, via dial-up (analog) link  (see ) using userid and password information of Netilla Networks, Inc. (the present assignee hereof and which owns, administers and maintains the CCC) over which SEP  will then attempt to establish a secured management session with web site (CCC) .","HTTP authentication is used to identify the SEP to the CCC. In doing so, SEP  will identify itself via its hardware MAC (media access control) address to the CCC.","Once a management session has been established with the CCC, the CCC will send a partial configuration profile containing SEP-appropriate login and password parameters for a customer Internet account which that the SEP is to use. This information will be identified by using the MAC address of the SEP as a key into database  residing on the CCC. This database contains records of customers and the associated MAC addresses of the SEPs that have been assigned to these customers, along with the customized configuration profile for each such SEP.","On receipt of the customer's ISP account and customization information (that provides its operational and network environment) from the CCC, the SEP will tear down its existing analog call to the ISP in order to minimize the length of these initial calls.","After successfully obtaining this partial profile, via RMM and RMT processes  and  (see ) in the SEP and, via database  (see ) and CCCGETPROFILE process  (see ) in the CCC, the SEP will terminate the SSL management session between itself and the CCC. The SEP then establishes a broadband WAN connection having the customer login and password parameter, through which re-establishes its prior session.","At the customer site, the Integrator then uses his\/her web browser to go to his\/her admin page on the SEPs web server. On that page, there will be a button to download the SEP security information. When this button is pressed, the Integrator is asked for his login\/password at the CCC. The Integrator then enters this information which, is then, transmitted securely to the CCC where its database is queried to determine if the user is authorized to have access to the security information of the SEP in question. If the Integrator is authorized, then the key pair along with other sensitive information, e.g., firewall rules, along with the client certificate (e.g., x509 certificate  shown in ) and customized profile are securely sent to the SEP and applied. Upon successful receipt of the security information, the SEP runs an algorithm, which randomly generates a new root password, and then sends this password to the CCC for archival. The SEP profile download is now complete. At the CCC, the private key and new root password of the SEP are archived and expunged from the database. Now once the security parameters have been downloaded to the SEP, all further management sessions can be secured as both ends now know each other's public key. The SEP will then reset itself, and use the customized profile received from the CCC to correctly configure its various constituent hardware components and software modules, as appropriate and as described above, to its environment.","Though we have described client interaction component  as utilizing protocol engine  and user browser  as utilizing Java applet , both to support the AIP protocol in order to advantageously increase bandwidth efficiency, these components could use native RDP all the way to the user browser.","Furthermore, though we have described our invention as providing remote office functionality in terms of file access, e-mail and thin-client application hosting, our inventive teachings can be used with any other additional office-based application that is to be provided to remote users over a network connection, via a browser. In that regard, another application module would be implemented and incorporated into virtual office software  shown in FIG. \u2014and similar to those described above\u2014to provide necessary bi-directional, real-time protocol translation of user interaction data in secure HTTP (or a particular transmission protocol, if used in lieu of secure HTTP) into a particular protocol used by that other office-based application, and convert resulting output data (whether graphical or in another form) provided by that application-specific protocol into secure HTTP (or the intermediate transmission protocol) for transmission to the user browser and rendering, as a web page, to the user situated thereat. As such, by now, the reader can clearly appreciate that our inventive teachings are not limited to merely providing remote access to just office-based file access, e-mail and thin-client application hosting functions, though these functions are likely to be those most often appearing and needed in the processing environments for which the present invention will likely see use.","Although a single embodiment, with various modifications, which incorporates the teachings of the present invention has been shown and described in considerable detail herein, those skilled in the art can readily devise many other embodiments that still utilize these teachings."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The teachings of the present invention can be readily understood by considering the following detailed description in conjunction with the accompanying drawings, in which:",{"@attributes":{"id":"p-0046","num":"0045"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0047","num":"0046"},"figref":["FIG. 2","FIG. 1"],"b":"200"},{"@attributes":{"id":"p-0048","num":"0047"},"figref":["FIG. 3A","FIG. 2"],"b":["300","200"]},{"@attributes":{"id":"p-0049","num":"0048"},"figref":["FIG. 3B","FIG. 3A"],"b":["300","200"]},{"@attributes":{"id":"p-0050","num":"0049"},"figref":["FIG. 4","FIG. 2"],"b":["400","200"]},{"@attributes":{"id":"p-0051","num":"0050"},"figref":["FIG. 5","FIG. 4"],"b":["420","400"]},{"@attributes":{"id":"p-0052","num":"0051"},"figref":["FIG. 6","FIG. 5"],"b":["600","522"]},{"@attributes":{"id":"p-0053","num":"0052"},"figref":["FIG. 7","FIG. 1"],"b":["700","420","78"]},{"@attributes":{"id":"p-0054","num":"0053"},"figref":["FIG. 8","FIG. 4"],"b":["430","400"]},{"@attributes":{"id":"p-0055","num":"0054"},"figref":["FIG. 9","FIG. 8"],"b":["900","822"]},{"@attributes":{"id":"p-0056","num":"0055"},"figref":["FIG. 10","FIG. 1"],"b":["430","76"]},{"@attributes":{"id":"p-0057","num":"0056"},"figref":["FIG. 11","FIG. 4"],"b":["440","400"]},{"@attributes":{"id":"p-0058","num":"0057"},"figref":["FIG. 12A","FIG. 11","FIG. 1"],"b":["1200","1122","72"]},{"@attributes":{"id":"p-0059","num":"0058"},"figref":["FIG. 12B","FIG. 11","FIG. 1"],"b":["1250","1122","72","15"]},{"@attributes":{"id":"p-0060","num":"0059"},"figref":["FIG. 13","FIG. 1"],"b":["440","72","72","15"]},{"@attributes":{"id":"p-0061","num":"0060"},"figref":["FIG. 14","FIG. 1"],"b":"20"},{"@attributes":{"id":"p-0062","num":"0061"},"figref":["FIG. 15","FIG. 1"],"b":["1500","15"]},{"@attributes":{"id":"p-0063","num":"0062"},"figref":["FIG. 16","FIG. 1"],"b":["1600","15","78"]},{"@attributes":{"id":"p-0064","num":"0063"},"figref":["FIG. 17","FIG. 1"],"b":["1700","15","76"]},{"@attributes":{"id":"p-0065","num":"0064"},"figref":["FIG. 18","FIG. 1"],"b":["1800","15","72"]},{"@attributes":{"id":"p-0066","num":"0065"},"figref":["FIG. 19","FIG. 1"],"b":["1900","20","65","200"]},{"@attributes":{"id":"p-0067","num":"0066"},"figref":"FIG. 20","b":["2000","2010","2050","200"]},{"@attributes":{"id":"p-0068","num":"0067"},"figref":"FIG. 21","b":"2000"},{"@attributes":{"id":"p-0069","num":"0068"},"figref":["FIG. 22","FIG. 19"],"b":["1950","2000","20"]},{"@attributes":{"id":"p-0070","num":"0069"},"figref":"FIG. 23","b":["200","20"]},{"@attributes":{"id":"p-0071","num":"0070"},"figref":"FIG. 24","b":["20","200","20"]},{"@attributes":{"id":"p-0072","num":"0071"},"figref":"FIG. 25","b":["200","20"]},{"@attributes":{"id":"p-0073","num":"0072"},"figref":"FIG. 26","b":["20","200"]}]},"DETDESC":[{},{}]}
