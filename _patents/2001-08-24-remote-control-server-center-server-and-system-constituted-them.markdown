---
title: Remote control server, center server, and system constituted them
abstract: A system for autonomous decentralized control in which a client terminal and a center server are connected, as a network through a WAN and/or LAN, to a remote control server connected to a monitored/-controlled target device through a control communication network. The system is characterized in that a virtual machine, which is described as the other self of the monitored/controlled target device having the same information as that possessed by the monitored/controlled target device, and which is a software object having communication protocols used for communication with the monitored/controlled target device and concealed in the software object, is moved in the system with transparency and/or is held in the client terminal, the center server, or the remote control server.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07712095&OS=07712095&RS=07712095
owner: Shikoku Instrumentation Co., Ltd.
number: 07712095
owner_city: Nakatado-gun
owner_country: JP
publication_date: 20010824
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["TECHNICAL FIELD","BACKGROUND ART","DISCLOSURE OF THE INVENTION","BEST MODE FOR CARRYING OUT THE INVENTION","EXAMPLES","INDUSTRIAL APPLICABILITY"],"p":["The present invention relates to a server, more particularly a remote control server and a center server, for monitoring\/controlling a target device under a network environment. Also, the present invention relates to a system constructed of those servers.","Hitherto, to monitor and control various industrial devices, apparatuses, etc. located in a plurality of remote positions and to collect data measured using various measuring instruments, including electronic meters, it has been required to issue commands from a monitoring\/-control center or a data collection center to instruct an industrial personal computer or general computer, which functions as a server computer installed in each site and operates in accordance with programs described in a special assembly language or the C language, to collect monitored\/controlled data and to execute a control program for control of the controlled target device, etc., and to transmit the result of device operation, the monitored measurement data, etc. to the monitoring\/-control center through radio wirelessly or via public telephone lines or dedicated lines.","In such a case, the monitoring\/control center has issued commands to or has received data, etc. from the personal computers or the general computers, or the various measuring instruments installed in the plurality of remote positions through individual communications using radio or telephone connection each time an occasion requires.","Therefore, a system must have been constructed by resorting to specialized makers, expert persons, etc., who are well skilled in communication protocols and control programs, and software such as dedicated programs must have been developed. Those situations have resulted in a higher system price, a lower transmission rate of commands, data, etc., and an increased communication cost.","An object of the present invention is to provide a server, more particularly a remote control server and a center server for monitoring\/controlling a target device under a network environment.","Another object of the present invention is to provide a system for autonomous decentralized control, in which the center server is connected to the remote control server.","More specifically, an object of the present invention is to provide a server, more particularly a remote control server and a center server, which can perform monitoring\/control of the operation, collect data, and transmit\/receive related information when connected to various devices or apparatuses in use, which can easily construct a system such as for highly versatile remote monitoring\/control utilizing the Internet, or for emergency communication utilizing cellular phones, radio pagers, etc. and which can more simply and flexibly construct a system at a lower cost than conventional dedicated monitoring\/control systems, as well as to provide a system constructed of those servers.","The present invention resides in a system for autonomous decentralized control in which a client terminal and a center server are connected, as a network through a WAN and\/or LAN, to a remote control server connected to a monitored\/controlled target device through a control communication network, the system being characterized in that a virtual machine, which is described as the other self of the monitored\/-controlled target device having the same information as that possessed by the monitored\/controlled target device, and which is a software object having communication protocols used for communication with the monitored\/controlled target device and concealed in the software object, is moved in the system with transparency and\/or is held in the client terminal, the center server, or the remote control server.","The above expression \u201cmoved in the system with transparency\u201d means that the virtual machine is able to seamlessly move between the information communication network and the control communication network through rewriting of status information and control information of each device into a software object (data structure having both a value and proceedings for reading\/writing the value) because the virtual machine contains a plurality of communication protocols therein.","The server, in particular the remote control server, is able to change information of the monitored\/controlled target device and\/or to monitor and control the target device by operating the virtual machine. In this case, the present invention resides in a system which can create, hold and\/or operate a virtual machine being a software object described as the other self of a monitored\/controlled target device having the same information as that possessed by the monitored\/controlled target device and containing a plurality of communication protocols used for communication with the monitored\/controlled target device and concealed in the software object, and\/or which can distribute the virtual machine and can call, hold and\/or operate a virtual machine created by another server, and\/or which can change information of the monitored\/-controlled target device and\/or control the target device by operating the virtual machine.","Further, the server, in particular the remote control server, has functions capable of creating, holding and\/or operating an inclusive virtual machine including setting of a plurality of virtual machines and\/or a fixed agent describing functions such as behaviors of each of the virtual machines, and\/or including even records acquired through each of the virtual machines, and a supervising virtual machine for supervising a plurality of inclusive virtual machines, and\/or distributing the created inclusive and supervising virtual machines, and\/or calling, holding and\/or operating an inclusive virtual machine and a supervising virtual machine created by another remote control server. Preferably, the server can change information of each of the plurality of the monitored\/controlled target devices and\/or monitor and control each target device by operating the inclusive virtual machines and\/or the supervising virtual machines. In this case, the present invention resides in a system which can call, hold and\/or operate a virtual machine being a software object described as the other self of a monitored\/controlled target device having the same information as that possessed by the monitored\/controlled target device and containing a plurality of communication protocols used for communication with the monitored\/controlled target device and concealed in the software object, and\/or which can distribute the virtual machine, and\/or which can call, hold and\/or operate a virtual machine created by another remote control server, the server further having functions capable of creating, holding and\/or operating an inclusive virtual machine including setting of a plurality of virtual machines and\/or a fixed agent describing functions such as behaviors of each of the virtual machines, and\/or including even records acquired through each of the virtual machines, and a supervising virtual machine for supervising a plurality of inclusive virtual machines, and\/or distributing the created inclusive and supervising virtual machines, and calling, holding and\/or operating an inclusive virtual machine and a supervising virtual machine created by another remote control server. In addition, preferably, the server can change information of each of the plurality of the monitored\/controlled target devices and\/or monitor and control each target device by operating the inclusive virtual machines and\/or the supervising virtual machines.","Moreover, the present invention resides in a system including a center server connected to a communication\/information network and managing one or more remote control servers and a system in which monitored\/controlled target devices are all connected as a network, wherein the center server can create, hold and\/or operate a virtual machine being a software object described as the other self of each monitored\/controlled target device having the same information as that possessed by the monitored\/controlled target device and containing a plurality of communication protocols used for communication with the monitored\/controlled target device and concealed in the software object, and can distribute, to one or more remote control servers, an agent describing behaviors, etc. of the virtual machine and\/or the remote control servers, the center server further having functions capable of creating, holding and\/or operating an inclusive virtual machine including a plurality of virtual machines, and\/or a fixed agent describing functions such as behaviors of each of the virtual machines, and\/or even records acquired through each of the virtual machines, and a supervising virtual machine for supervising a plurality of inclusive virtual machines, and\/or distributing the created inclusive and supervising virtual machines, and\/or calling, holding and\/or operating virtual machines, inclusive virtual machines and supervising virtual machines created by the remote control servers. In addition, the center server can change information of each of the plurality of the monitored\/controlled target devices and\/or can monitor and control each target device by sharing information in common with the monitored\/controlled target devices, operating the virtual machines, the inclusive virtual machines and the supervising virtual machines, and\/or by operating the agent. Through the operations described above, the center server performs management\/processing of collected data and management of the system.","The above-mentioned server of the present invention includes a wireless communication device as standard, and it can also be provided with an external communication device giving a serial communication function when a communication standard is switched over from the wireless communication device to RS232C installed in the server.","The above-mentioned server of the present invention includes a control communication port capable of, as an occasion requires, communicating with and supplying power to the monitored\/controlled target devices and an input\/output unit, etc. in which a microcomputer, serving as a control communication LSI, or a control communication module is installed. Also, the server includes an Ethernet port for communication using Internet protocols via a wide area network with LAN (Local Area Network) and WAN (Wide Area Network) devices.","The above-mentioned server of the present invention includes, as an occasion requires, a digital input interface that is used for the monitored\/controlled target devices and is electrically isolated from an internal system.","Also, the above-mentioned server of the present invention includes a serial port to which a console unit for function setting and maintenance of the system can be connected.","Further, it is possible to protect data in a memory area in the event of power-down with a backup battery, to record the date and time of the power-down, and to restore to the state before the power-down at the time of recovery.","The above-mentioned server of the present invention is able to, as an occasion requires, externally operate a software input switch and a hardware reset switch, which provide respective timing inputs for starting software installation and maintenance to an external storage.","Moreover, the above-mentioned server of the present invention includes a real-time operating system and a Java run environment as standard, and has programs for providing a client server function, an agent server function and an HTTP server function.","The above-mentioned server of the present invention has, as standard, a PPT (Point to Point Protocol) connection function capable of performing data exchange and bi-directional call via public lines for the purpose of facilitating, e.g., installation of the server in a place where laying-down of cables is infeasible, and connection from a mobile medium, as an occasion requires, and also has the function of directly controlling the PPP connection from Java applications and executing an emergency call such as an abnormality notice.","The above-mentioned server of the present invention has the FTP function and the TELNET function, as an occasion requires, for transfer of files and data to and from a client terminal, a center server and\/or an external system. Also, the server has an environment for executing and managing Java applications under a network environment, and is able to process digital inputs with the Java applications.","The above-mentioned server of the present invention has the function capable of recording, as an occasion requires, an abnormal condition discovered by a self-diagnosis function and operating and abnormal conditions of the monitored\/controlled target devices and a control communication network, as log messages, in a nonvolatile memory inside the system with a system log management function, and the function capable of transmitting, as E-mails, an alarm message, etc. to preset places and persons.","The above-mentioned server of the present invention includes a remote station system for, as an occasion requires, causing a fixed agent to be distributed or to reside, and has monitoring function capable of performing information collection from and monitoring\/control of the monitored\/controlled target devices, which are connected to the outside, using virtual machines, and capable of executing processing, computations, etc. of the collected information. Stated otherwise, in a preferable form, the server of the present invention can create, hold and\/or operate a virtual machine, which is a software object described as the other self of each monitored\/controlled target device having the same information as that possessed by the monitored\/controlled target device and contains a plurality of communication protocols used for communication with the monitored\/controlled target device and concealed in the software object, and\/or can distribute the created virtual machine, the server further having functions capable of creating, holding and\/or operating an inclusive virtual machine including setting of a plurality of virtual machines and\/or a fixed agent describing functions such as behaviors of each of the virtual machines, and\/or including even records acquired through each of the virtual machines, and a supervising virtual machine for supervising a plurality of inclusive virtual machines. In addition, the server can change information of each of the plurality of the monitored\/controlled target devices and\/or monitor and control each target device by operating the virtual machines, the inclusive virtual machines and the supervising virtual machine, and\/or it includes a remote station system for causing the fixed agent to be distributed or to reside, and has monitoring functions capable of performing information collection from and monitoring\/control of the monitored\/controlled target devices, which are connected to the outside, using the virtual machines, and capable of executing processing, computations, etc. of the collected information.","The above-mentioned server of the present invention includes a scheduled operation run managing function and a device linkage control function capable of, as an occasion requires, collecting\/storing information and current values of the monitored\/controlled target devices in accordance with a schedule registered beforehand, storing records of status changes of designated information, creating trend records of analog values at designated cycles, daily reports, monthly reports, etc., and displaying the current values through the virtual machines and browsing the stored data via the network.","A preferred embodiment of the present invention will be described below with reference to the drawings.",{"@attributes":{"id":"p-0039","num":"0038"},"figref":["FIG. 1","FIG. 2"]},"The server of the present invention includes, as shown in , three serial ports ,  and , an Ethernet (trade name registered by XEROX in U.S.A.) port , a microcomputer , an external storage , a clock circuit , an abnormality monitoring circuit , a backup circuit , a digital input interface , an isolator , a control communication port , a server board  on which the above-mentioned components are mounted, a housing  in which the above-mentioned components are housed, a public line communication device  such as PHS (Personal Handy-phone System) or cellular phone modem, a software input switch , and a hardware reset switch .","The serial port  is a port for connection of the public line communication device . For example, a mobile communication modem can be attached to the housing , and the public line communication device  can be connected to the outside when the communication standard is switched over to RS232C. The serial port  is a serial port for performing communication based on one of TR232C and RS422, which are generally installed as communication standards and switched over from one to the other.","The serial port  is a serial port dedicated for connection of a console unit used for maintenance, input of software, etc.","The Ethernet port  serves as an interface of 10 BaseT for communication with the outside in accordance with the TCP\/IP protocol, for example.","The microcomputer  is a central processing unit for executing and controlling systems, such as a real-time operating system and a Java run environment, and applications. The external storage  is constituted as, e.g., a nonvolatile memory, and stores necessary data and programs. In the event of power-down, the data in the external storage can be protected with the backup circuit .","The clock circuit  operates independently of the microcomputer  to provide time data and to realize an interrupt timer and a constant-period timer which are necessary for the system's internal operations.","The digital input interface  is used to directly take in information of the monitored\/controlled target devices, etc. The information is taken in through the isolator  that provide electrical isolation with respect to the internal system such as the microcomputer .","The control communication port  is a port for communication with the monitored\/controlled target devices using, e.g., LONWORKS (trade name registered by ECHELON in U.S.A.).","The housing  serves to protect the server board  and has a compact shape so as not to undergo limitations on, e.g., a place where the server is installed.","Next,  is a system configuration diagram showing, by way of example, a linkage of the server with a client terminal  and a monitored\/controlled target device when the server is positioned as a remote control server relative to a center server . The center server and the client terminal are connected to one or more remote control servers (two remote control servers ,  in an example of ) via a WAN and\/or LAN . Each of the remote control servers is connected to the monitored\/controlled target device directly from the control communication network when the monitored\/controlled target device has the control communication function, and through an input\/output unit having the control communication function when it has not the control communication function.",{"@attributes":{"id":"p-0050","num":"0049"},"figref":"FIG. 2","b":["54","56","59","55","57","61","60"]},"<<Monitored\/Controlled Target Device Side>>","The monitored\/controlled target device is connected to the control communication network. The connection is realized in the form in which a microcomputer, serving as a control communication LSI, or a control communication module is installed in the monitored\/controlled target device, or in the form in which the monitored\/controlled target device is connected to an input\/output unit including a microcomputer, serving as a control communication LSI, or a control communication module therein.","<<Control Communication Module on Monitored\/Controlled Target Device Side>>","The monitored\/controlled target device connected to the control communication network is required to include a microcomputer (e.g., a LON chip made by ECHELON), serving as a control communication LSI, or a control communication module therein, and\/or it requires to be connected to an input\/output unit in which a microcomputer, serving as a control communication LSI, or a control communication module is installed (hereinafter sometimes referred to simply as an \u201cinput\/output unit\u201d).","The term \u201cmonitored\/controlled target device\u201d used in the following description also sometimes means a device that includes a microcomputer (e.g., a LON chip made by ECHELON), serving as a control communication LSI, or a control communication module therein, and\/or a device connected to an input\/output unit in which a microcomputer, serving as a control communication LSI, or a control communication module is installed.","Programs for the microcomputer is described using the C language (neuron C language in the LON chip made by ECHELON) that is communicable with the Java language (Java: trade mark registered by Sun Microsystems in U.S.A.).","Also, the microcomputer contains a control program with which the microcomputer can control the monitored\/controlled target device, and a control communication program having protocols with which the microcomputer can perform data communication with the server via the control communication network.","The program installed in the microcomputer for communication with the control communication network usually has, device management information, the chip ID of the monitored\/controlled target device, the index number indicating the installation position, etc., the Vm class number (virtual machine class number), and the Vm interface class number (virtual machine interface class number). For permitting control from the outside, the program also has status information that can be made open to the outside, and operational information allowing operation from the outside. Hereinafter, the virtual machine is abbreviated to Vm. The device management information, the status information and the operational information are in the form of network variables that can be referred to via the WAN and\/or the LAN, etc. A Vm class file is software for operating the monitored\/controlled target device, and a Vm interface class file is interface software for establishing connection to the monitored\/controlled target device in combination with the Vm class file.","For example, when the monitored\/controlled target device is a monitoring camera, there are machine information such as the chip ID, the Vm class number, the maker and the model, control information such as on\/off information of the camera, brightness of illumination, direction control, zoom control and sound recording, and status information representing the current control status.","Those network variables differ depending on the type of the monitored\/controlled target device and are set on the maker side, while the index number indicating the installation position, etc. can be set on the user side.","<<Client Server Program>>","A client server program stored in the external storage of the server will now be described below.","To explain briefly, the server of the present invention is connected to the monitored\/controlled target device capable of performing communication directly or through input\/output unit with respect to the control communication network, and contains a server program having a gateway function for connection between the associated control communication network and the control communication network to which the client machine and the center server can be connected via the WAN and\/or the LAN.","The server program acquires the chip ID and the index number (specific information) for identifying the monitored\/controlled target device, the status information, and the operational information when the monitored\/controlled target device is connected to the server from the control communication network directly in the case of the target device having the information communication function or through the input\/output unit connected to the control communication network in the case of the target device not having the information communication function. Also, the server program has an interface class (interface class software) for providing, to the client machine (hereinafter sometimes referred to simply as a \u201cclient\u201d) and the center server (hereinafter sometimes referred to simply as a \u201ccenter\u201d), a Vm class (monitored\/controlled target device operating software) that refers to and operates the status information and the operational information of the monitored\/controlled target device, and for establishing the connection to the monitored\/controlled target device on the server side in combination with the Vm class, when the client or the center accesses the server via the WAN and\/or the LAN, etc.","The client server program contains an operating system program (OS) that can be processed to control hardware in the server and corresponds to multitasking and multithreading. This OS is, e.g., ITRON, Vx-WORKS, etc.","The operating system contains various driver programs such as public line communication drivers for wireless and wired phones, transceivers, etc., a control communication driver, a file system and a clock driver, and an API (Application Programming Interface) for making those drive programs correspond to application programs.","Also, the operating system contains a remote operating system program described in a distributed object oriented language (e.g., a platform-free language such as Java).","<<Remote Operating System Program>>","The system program in the server comprises a control program for controlling the server itself, an agent server program for transmitting and receiving an agent, a communication program in the form of a browser for performing network communication in accordance with TCP\/IP or PPP using wireless and wired phones, transceivers, etc., and a server program  that fulfills a gateway function of connecting the external WAN and\/or the LAN to the control communication network.","The gateway function differs from a gateway for connecting the so-called information networks in point of seamlessly connecting the information communication network and the control communication network to each other, and enables an arbitrary terminal computer in an external network, such as the Internet, to access the server for browsing and operating the monitored\/controlled target device communicated with the server via the control communication network.","<<Server Program>>","To describe with reference to , the server program  comprises an OP server  for managing the Vm class file (hereinafter abbreviated to a \u201cVm class\u201d), which is an operating program for providing information to an information terminal (client machine or center server) on the client or center side, and an HTTP server  for distributing the Vm class of the monitored\/controlled target device on the client or center side.","The OP server  comprises a Vm management table  for the monitored\/controlled target device, a Vm class library  for the monitored\/controlled target device, and a Vm interface class library  for control communication of the monitored\/controlled target device.","The OP server  contains a monitored\/controlled target device detecting program for detecting, from a new monitored\/controlled target device connected to the control communication network, the device information outputted from the target device itself or through in input\/output unit having a communication function built therein, and registering the detected device information in the Vm management table  for the monitored\/controlled target device.","In the case of a monitoring camera Camera, for example, the monitored\/controlled target device information includes the chip ID, the index number and the Vm class number, as shown in . Those items of information are used to designate the monitored\/controlled target device on the control communication network.","The Vm management table  collects and records therein not only the Vm class number of the monitored\/controlled target device for remote control of each monitored\/controlled target device, but also the interface number corresponding to the Vm class number of the monitored\/controlled target device. With the Vm class number and the interface class number correlated with each other in the Vm management table , the Vm class and the interface class of the interface class number corresponding to the Vm class can be called in a combined state by designating the Vm class number.","The Vm class library  collects and records therein the Vm class numbers and Vm classes - . . . designated by the respective Vm class numbers.","Each of the Vm classes - contains, as shown in , field variables corresponding to the network variables of the monitored\/-controlled target device, an information referring method  for reading those field variables, and an information operating method  for operating ones of the field variables which are allowed to change or set.","For example, the field variables of the monitoring camera Cameral include the machine information such as the chip ID, the Vm class number, the maker and the model, the control information such as on\/off information of the camera, brightness of illumination, direction control, zoom control and sound recording, and the status information representing the current control status.","In those field variables, varying data in the network variables are updated at a constant period (e.g., 1000 ms). Of the field variables, the index number indicating the installation position, etc. is settable by the user and is initially set to NULL.","Those field variables in the Vm class can be displayed by being referred to from the monitored\/controlled target device with the status referring method, and can be set and controlled for the monitored\/-controlled target device with the status operation method.","Since the Vm class has controlled items and displayed items different for each of the monitored\/controlled target devices, it is designed and described by a maker manufacturing the monitored\/-controlled target device. Alternatively, the Vm class may be designed and described by the client or the center after hearing the controlled items and the displayed items of the monitored\/controlled target device from the maker manufacturing it. The Vm class can be called from a memory in the microcomputer constituting the monitored\/controlled target device or the input\/output unit. However, storing the Vm class in the computer requires an increased memory area. Therefore, the Vm class may be downloaded from a Vm distribution center provided on the Internet center, or may be read from a storage medium (e.g., an IC card, a PCI card, a magnetic disk or a CDROM) attached to the monitored\/-controlled target device (or the input\/output unit when the target device has no communication function).","A storage medium reader for reading a storage medium is required to read the Vm class from the storage medium. The storage medium reader may be built in or externally attached to the server, or it may be connected onto the control communication network.","When the storage medium reader is connected onto the control communication network, the Vm class for driving storage medium reader is installed in the reader itself. As an alternative, if a personal computer or a storage medium reader capable of performing control communication is connected on the control communication network, it is also possible to employ the connected personal computer or storage medium reader.","The Vm interface class library  collects and records therein Vm interface classes - . . . for connecting the Vm classes to the monitored\/-controlled target device.","The collected Vm interface classes - . . . are each in pair to the Vm class distributed to the client or center side. Upon the client or center side designating a certain Vm class number, the Vm class corresponding to the designated Vm class number is distributed from the server to the client or center side. Further, on the server side, the Vm interface class file corresponding to the designated Vm class number is started up, whereby the Vm class on the client or center side and the interface class file on the server side are combined with each other.","The Vm interface classes - . . . have the respective Vm interface class numbers. The Vm interface class numbers are in pair to the Vm class numbers in a one-to-one relation. Upon the client or center side designating a Vm class number, the Vm interface class number corresponding to the designated Vm class number is called and the Vm interface class file having the called Vm interface class number is started up. The Vm class file on the client or center side is combined with the called Vm interface class file.","Each of the Vm interface classes - . . . contain protocols for performing control communication with the monitored\/controlled target devices (such as Camera  and so on) on the control communication network.","Since the communication protocols are located on the control communication network in this case, control communication protocols are employed. However, in the case of the communication network using protocols in accordance with other standards (e.g., in a communication network constituted of wireless communication or optical communication, or a communication network constituted by dedicated lines), protocols used in the relevant communication network are employed.","The arrangement described above makes the system adaptable for a variety of monitored\/controlled target devices and increases versatility.","<<HTTP Server>>","The HTTP server  for providing Vm to the client or the center is a WWW server. When the client or the center accesses the server using, e.g., Netscape Navigator provided by Netscape, Internet Explorer provided by Microsoft, or any other suitable Web browser, the HTTP server  distributes the Vm class to the client or the center in accordance with the Vm class number designated by the client or the center.","<<Client Machine and Center Server>>","The client is any of large-and small-scaled computers, a personal computer (PC), a mobile computer, a portable information terminal, a cellular phone with a character display function, and other information devices capable of utilizing wide area networks, which are located on a network.","Each of the client and the center requires a Vm operating program (hereinafter referred to simply as a \u201cVm application\u201d) described in an object oriented language for operating the Vm class in the server.","The Vm application must be equipped on the side of the client and the center. The Vm application may be downloaded or installed to the side of the client and the center via the Internet or from a storage medium such as a CDROM, a magnetic disk, a magnetic card or an IC card.","Before accessing the server, the URL, the Vm class number and the index number of the server to be operated are substituted into the Vm application. Alternatively, the URL, the Vm class number and the index number of the server and the phone number, etc. on the client side may be fixedly set in the Vm application beforehand. Preparing such a Vm application is advantageous in facilitating authentication to be made on the server side.","In the Vm application, authentication items of an operator himself or herself, such as a password, for accessing the server side are put, and authentication requirements for allowing access by the operator on the server side are set beforehand using a desired encryption scheme. The authentication requirements may be arranged beforehand between the client or the center and the server to change in an unfixed form depending on the date, the lapse of a certain time interval, or the access place so that the server is protected against access by a fictitious name of an unconcerned person.","When a user on the client or center side starts up the Vm application and designates the URL, the Vm number and the index number of the server included in the Vm application, the client or the center accesses the server with the Web browser and receives the Vm class from the server side, whereupon the client or the center is connected to the objective monitored\/controlled target device through the server. The Vm class is combined with the Vm interface class for connection to the monitored\/controlled target devices (such as Cameral and so on) on the control communication network. As a result, a Vm object is produced and the current information of the monitored\/-controlled target device is displayed on the client or center side.","When the user on the client or center side instructs the end of operation of the monitored\/controlled target device to the Vm application, the Vm application vanishes the Vm object on the client or center side, whereupon the Vm interface class on the server side disappears.","<<Step of Registering Monitored\/Controlled Target Device>>","A step of registering the monitored\/controlled target device on the control communication network in the server will be described below.","When the monitored\/controlled target device is connected to the control communication network, the monitored\/controlled target device outputs the chip ID, the index number and the Vm class number of itself onto the control communication network. In the case of the monitored\/-controlled target device having no communication function therein, the chip ID, the index number and the Vm class number are outputted onto the control communication network through the input\/output unit having a communication function built therein. Using the monitored\/controlled target device detecting program, the OP server  acquires the chip ID, the index number and the Vm class number of the monitored\/controlled target device connected to the control communication network, and then records them in the Vm management table .","The monitored\/controlled target device detecting program in the OP server searches for the Vm class and the Vm interface class corresponding to the acquired Vm class number. If the corresponding Vm class and Vm interface class are not present in the Vm class library  and the Vm interface class library , the OP server acquires the corresponding Vm class and Vm interface class from the Vm distribution center provided on the wide-area network, such as the Internet, or from the maker of the monitored\/controlled target device. Of course, when the Vm class and the Vm interface class are recorded on a storage medium as mentioned above, the OP server acquires the Vm class and the Vm interface class from the storage medium reader.","As a result, the OP server  can be accessed from the client or center side on the WAN and\/or the LAN.","<<Operation of Monitored\/Controlled Target Device from Client or Center>>","When the client or the center accesses the OP server  and operates the monitored\/controlled target device connected to the OP server , the client or the center starts up an application for making access to the OP server. Subsequent to the startup of the application, the user inputs, into the application, the URL, the Vm class number and the index number of the OP server , as well as the items required for the authentication proceedings.","After setting those items required for the accessing and the items required for the authentication, the application makes accesses the server.","Upon the access made from the client or the center to the server, the server performs the authentication of the client or the center.","When it is confirmed by the server's authentication that the access from the client or the center is allowed, the client or the center can make access to the OP server  in the server.","When the client or the center accesses the OP server  in the server, the OP server  distributes the Vm class designated by the application to the client or the center, and the Vm interface class corresponding to the Vm class distributed to the OP server  is started up.","Then, the Vm class distributed to the application in the client or the center requests its combination with the Vm interface class in the OP server , whereupon the Vm class in the client and the Vm interface class in the OP server  are combined with each other via the WAN and\/or the LAN. The Vm interface class provides the network variables of the monitored\/controlled target device on the control communication network to the Vm class in the client or the center, whereby the network variables are referred to and substituted in the field variable of the Vm class. As a result, the Vm class and the Vm interface class turn to a Vm object and a Vm interface object, respectively, and the current information of the monitored\/controlled target device on the control communication network is displayed on the client or center side. The network variables referred to by the client or center side change at an interval of a predetermined time, but it is possible to refer to new network variables each time the network variables change because the information referring method on the client or center side always refers to the network variables.","When the field variables are operated by the information referring method on the client or center side, the operation is reflected on the network variables of the monitored\/controlled target device through the Vm interface.","When the application is brought into an end on the client or center side, the Vm object in the client or the center disappears and the Vm interface object in the OP server  also disappears.","With this embodiment, as described above, the information of the monitored\/controlled target device on the control communication network can be called, referred to and operated from the client or center side on the WAN and\/or the LAN.","Further, since the Vm class is distributed from the OP server  in the server to the client or center side by copying, there is no fear that the Vm class on the side of the OP server  may be tampered. In addition, when the control information and the control method are changed upon, e.g., revision or version-up of a control program of the monitored\/controlled target device, the Vm class and the Vm interface class of new version, for example, can be prepared at any time by updating the Vm class in the OP server  from the distribution center or the storage medium.","In this connection, the OP server  may periodically inquire whether the Vm classes and the Vm interfaces in the Vm class library  and the Vm interface class library  are updated to the latest version.","Further, with a modification in which the application on the client or center side is distributed from the OP server , the server is more flexibly adapted for model change and version-up on the client or center side, and the center and various clients can access the server so long as the authentication is established.","Additionally, when the monitored\/controlled target device is disconnected from the control communication network, the Vm class in the Vm management table  becomes non-active. However, when the monitored\/controlled target device is connected again to the control communication network, the Vm class of the monitored\/controlled target device in the Vm management table  becomes active. Thus, the conditions of communication connection among the client or the center, the server and the monitored\/controlled target device are established more quickly.","Furthermore, since the Vm class in the client or the center is used to just refer to the network variables of the monitored\/controlled target device, the Vm class disappears as soon as the connection between the client or the center and the server is cut off. Also, the Vm class is represented using byte code. Accordingly, it is difficult to tamper the interface class and the network variables of the monitored\/controlled target device.","<<Inclusive Virtual Machine and Supervising Virtual Machine>>","A description is now made of an inclusive virtual machine and a supervising virtual machine, which are used in the case of the system including many monitored\/controlled target devices to efficiently share information in common with the respective devices, to quickly and smoothly perform control, and to enable devices as targets of linked control to perform more appropriate linked control while mutually referring to information among those devices.","The inclusive virtual machine means a virtual machine having functions of setting a virtual machine for each monitored\/controlled target device connected to the server via the control communication network and a fixed agent describing functions such as behaviors of each virtual machine, and\/or including even records acquired through each virtual machine. The supervising virtual machine supervises a plurality of inclusive virtual machines.","The following description is made with reference to the drawings.",{"@attributes":{"id":"p-0115","num":"0114"},"figref":["FIG. 6","FIG. 2"],"b":["561","562","591","592","54","54","56","59"]},"More specifically, a fixed agent  always resides in the server , and the fixed agent  has a monitoring function  and a virtual machine including function . Of these functions, the monitoring function  contains a status monitoring\/recording function  of monitoring the monitored\/controlled target device through each virtual machine and of obtaining and then recording data, and a schedule\/linked control function  of setting behaviors of each virtual machine. Also, the virtual machine including function  means a function of creating an inclusive virtual machine including setting  of virtual machines , , for the monitored\/controlled target devices connected to the server via the control communication network and of the fixed agent describing functions such as behaviors of each of the virtual machines, and including even records  acquired through each of the virtual machines. When creating the inclusive virtual machine, the information, setting and records included therein can be restricted to ones just required for the center or the client. This is advantageous in reducing the traffic amount.","When the center server  (hereinafter sometimes referred to simply as the \u201ccenter \u201d) shares information in common with each monitored\/controlled target device connected to the server  via the control communication network and monitors\/controls the monitored\/-controlled target device, the center  can share the information and monitor and control the target device by calling, holding and operating an inclusive virtual machine Sc created by the fixed agent  in the server . Also, when the client terminal  shares information and operates each monitored\/controlled target device, it can likewise realize the sharing and the operation by calling, holding and operating an inclusive virtual machine Sd created by the server .","Further, when two monitored\/controlled target devices ,  are connected to the remote control server  (hereinafter sometimes referred to simply as the \u201cserver \u201d) via control communication networks , , respectively, as shown in , the center server can more quickly and smoothly share information in common with each monitored\/controlled target device connected to each remote control server via the control communication network and can monitor and control the monitored\/controlled target device by using a supervising virtual machine.","More specifically, in an example of , a remote control server  (hereinafter sometimes referred to simply as a \u201cserver \u201d) is connected to the server  via a control communication network , while the servers  and  are connected to each other via a control communication network . Further, a fixed agent  having the same functions as those of the fixed agent  in the server  always resides in the server . In addition, the server  has an inclusive virtual machine supervising function  for creating a supervising virtual machine to supervise inclusive virtual machines, each of which has been created by another server and has been called by and held in the server .","The server  calls and holds the inclusive virtual machines Se, Se created respectively by the servers , , and creates a supervising virtual machine Tc with the inclusive virtual machine supervising function . The supervising virtual machine Tc always shares information in common with the inclusive virtual machines Se, Se, which have been created by the servers ,  and have been called by and held in the server . Also, the inclusive virtual machine Se always shares information in common with the virtual machines , , held in the server , and the inclusive virtual machine Se always shares information in common with the virtual machines , , held in the server . Further, the virtual machines , , , , and always share information in common with the respective monitored\/controlled target devices. Therefore, since the supervising virtual machine Tc eventually always shares information in common with the monitored\/controlled target devices connected to the servers ,  via the control communication networks, the center  can efficiently share information in common with the respective monitored\/controlled target devices connected to the servers ,  via the control communication networks, and can quickly and smoothly perform control the respective monitored\/controlled target devices by calling, holding and operating the supervising virtual machine Tc created by the server . Incidentally, when creating the supervising virtual machine, the information, setting and records included therein can also be restricted to ones just required for the center or the client. This is similarly advantageous in reducing the traffic amount.",{"@attributes":{"id":"p-0121","num":"0120"},"figref":["FIG. 8","FIG. 9"],"b":["90","54","55","54","55","90","51","90"]},"When the client terminal  in  shares information in common with the respective monitored\/controlled target devices connected to the servers ,  via the control communication networks and monitors\/controls the target devices, the client terminal can likewise perform the sharing and the monitoring\/control by calling, holding and operating a supervising virtual machine Td.","Thus, by utilizing the inclusive virtual machine and the supervising virtual machine, the center can efficiently share information and operate the monitored\/controlled target device with no needs of sharing information in common with the individual monitored\/controlled target devices and calling, holding and operating the virtual machines for the individual monitored\/controlled target devices to be subjected to monitoring\/control.","Incidentally, a step of registering the inclusive virtual machine and the supervising virtual machine is substantially the same as the step of registering the monitored\/controlled target device.","As described above, it is possible to call, hold and\/or operate a virtual machine, which is a software object described as the other self of each monitored\/controlled target device having the same information as that possessed by the monitored\/controlled target device and contains a plurality of communication protocols used for communication with the monitored\/controlled target device and concealed in the software object, and\/or an inclusive virtual machine including setting of a plurality of virtual machines for the monitored\/controlled target devices and of a fixed agent describing functions such as behaviors of each of the virtual machines, and\/or including even records acquired through each of the virtual machines, and a supervising virtual machine for supervising a plurality of inclusive virtual machines, and\/or possible to distribute the virtual machines, the inclusive virtual machines and the supervising virtual machine. Further, it is possible to share the same information as that possessed by the monitored\/controlled target device, and to change information of each monitored\/controlled target device and\/or to monitor and control the target device by operating the corresponding virtual machine.","<<Applications>>","Applications to the following fields are conceivable.\n\n","The following operative advantages are obtained.\n\n","Further, a development environment with a shorter lead time using Java can be provided, and efficient system construction can be achieved.\n\n","Communication charge can be reduced by utilizing the Internet network, and the control communication network, such as the PHS and cellular phones, can be used in areas where wired lines are not installed. The system can be hence constructed in a wider area than conventional systems.\n\n","Also, because the virtual machine can be utilized as a software part in development of software, an advanced monitoring\/control system can be constructed without knowledge regarding data communications and measurement control.","Further, because change of the system, setting of various parameters, etc. can be performed via the network, the frequency of replacement of devices and the frequency at which engineers must actually go to sites are reduced. The maintenance cost is hence cut down.\n\n","Details of the present invention will be described in connection with examples. It is to be noted that the present invention is in no way limited by the following examples.","<<Outline of the Invention>>","A remote control server of the present invention has a data server function of integrating monitored\/controlled target devices on a control communication network and providing monitoring\/control data, etc. to an information system, and various application server functions capable of executing processes for fields on demand in response to a request from the information system.","Also, the remote control server of the present invention serves also as an application server, and therefore stability and reliability of software are ensured, for example, in point of that the stable operation is ensured even with startup of various user applications.","Further, the remote control server of the present invention has resistance against environments enough to operate 24 hours under such a severe environment as outdoor, and has a small size suitably adapted for a site space.","Next, features of the remote control server in terms of hardware will be described.","The remote control server of the present invention includes a public line communication device (e.g., a communication device such as a wired or wireless phone) as standard, and it can also be provided with an external communication device (such as a modem) giving a serial communication function when a communication standard is switched over to RS232C.","Also, the remote control server of the present invention has an Ethernet port for communication with a system connected to another medium, such as a client computer, and includes, e.g., LONWORKS provided by ECHELON for communication with the monitored\/controlled target device and the input\/output unit. In addition, the remote control server has a serial communication port (capable of switching between RS232C and RS422) for communication with a device having a serial communication interface. Thus, the remote control server includes various connection devices enabling both information and control communications to be performed.","The remote control server of the present invention has a digital input (DI; one point) capable of directly collecting data from the monitored\/controlled target device, and also has a RS232C port as a connection interface dedicated for a maintenance control.","The remote control server of the present invention can supply electric power from a control communication port to the monitored\/-controlled target device and the input\/output unit. In addition, the remote control server has the function capable of protecting data in a memory area in the event of power-down and recording the date and time of the power-down, and includes a software input switch, a hardware reset switch, etc., which provide respective timing inputs for starting software installation and maintenance to an external storage.","Next, features of the remote control server from the viewpoint of software function will be described.","The remote control server of the present invention includes a real-time OS (such as ITRON or Vx-WORKS), and performs management of the monitored\/controlled target device on the control communication network. Also, it has a client server function of linking the control communication network and the information communication network with each other, an agent server function capable of installing a stationary agent, etc., and an HTTP server function capable of transmitting and receiving information in the form of an HTML file through the WWW system. Further, the remote control server includes, as standard, an environment operating under the Java run environment, and realizes installation of the Java run environment with a small-capacity resource.","Moreover, the remote control server has a PPT (Point to Point Protocol) connection function necessary for connection to the public line network such as the PHS and the modem, and has the function capable of performing data exchange using wireless phones, e.g., the PHS, via public lines and the function being effective to construct a system in a place where laying-down of cables is infeasible and to realize connection to a mobile medium. Further, by connecting a router to the Ethernet, data exchange with an external system can be made, and bi-directional call from the remote control server to a personal computer (client mode) and from the personal computer to the server can be realized. Since the PPP connection can be controlled from Java applications, it is possible to issue, e.g., an emergency call for an alarm notice.","The remote control server has the FTP function and the TELNET function for transfer of files and data to and from a client terminal, a center server and\/or an external system. Also, the remote control server has an environment for executing and managing Java applications under a network environment, and is able to process digital inputs with the Java applications.","In addition, the remote control server can record log messages in a nonvolatile memory located in the server with a system log management function, and has a mail transmitting function capable of communicating with a system managing person, a device managing person, etc. by transmitting, as electronic mails, an alarm message, etc.","As a monitoring function, a remote station system makes a fixed agent reside on the server, and performs information collection from and monitoring\/control of the monitored\/controlled target devices. Also, the server can process and compute the collected information. By including, for example, a billing algorithm beforehand, the usage charge of the monitored\/controlled target device can be calculated based on the number of times of usages, the power supply time, the amount of electricity used, etc. of the target device.","Those functions are described below in detail. First, the remote control server can collect and store information of the various monitored\/controlled target devices in accordance with a registered schedule. The agent collects information directly from the monitored\/controlled target devices or through input\/output units. Further, the server stores records of status changes at a designated point, stores analog values (trend records) at designated cycles, and creates daily reports, monthly reports, etc.","The server can notify information and current values of the monitored\/controlled target devices in response to requests from the client and the center, can display the current values through the virtual machines, and can browse the stored data via the network. By transferring files and data to another server, etc. in an external system using the FTP function, it is possible even for the external system side to accumulate the data and to perform management, storage, a billing process, etc. on the accumulated data by batch operations. Further, it is possible to execute a close and statistical data analysis for a long period.","When an abnormality occurs in the various monitored\/controlled target devices, the server can inform the occurrence of an abnormality to a preset monitoring place. For example, when an analog value reaches an abnormal level in the event of a device abnormality or beyond upper and lower limit setting values, an alarm can be transmitted in the form of an E-mail.","Further, the server can perform operation control in accordance with setting details preset for each of the monitored\/controlled target devices by utilizing, as a trigger, a factor such as a device status (on\/off), an information change, and timer setting time.","The scheduled operation function is a function of performing automatic start\/stop control (device on\/off) in accordance with a time schedule set for each of various equipment and devices. A \u201cschedule pattern\u201d has a schedule in units of week and enables the operation time to be set for each day of the week. The start\/stop time can be set in units of minute from 0 hour to 24 hours for each day to designate the time zone (indicated by the time of day) during which the operation is to be performed. The number of times of on\/off switching per day can be registered based on the setting of the on\/off time.","The device linkage operation can be performed by, depending on the operational status of a linked device (linkage source), making on\/off control of a target device (linkage destination) in accordance with information defined in setting for registration of the linked devices.","An on\/off condition and an AND\/OR condition can be set as conditions for the linkage source, and an on\/off condition can be set as conditions for the linkage destination.","Further, since the fixed agent has the virtual machine including function, it is possible to set a plurality of virtual machines for the monitored\/controlled target devices and a fixed agent describing functions such as behaviors of each of the virtual machines, and\/or to create, hold, operate and\/or distribute an inclusive virtual machine including even records acquired through each of the virtual machines.","Moreover, when the fixed agent has the inclusive virtual machine supervising function, it is possible to call, hold and\/or operate a supervising virtual machine for supervising a plurality of inclusive virtual machines, and\/or to distribute the supervising virtual machine.","By using the inclusive virtual machines and the supervising virtual machine, it is possible to quickly and smoothly share and control information, and to efficiently perform linked control among a variety of devices, when the number of devices to be controlled is increased to a large extent and the devices are monitored\/controlled among many offices.","The remote control server of the present invention has the following features.\n\n","The center server according to the present invention has the following features.\n\n","An example of the present invention will be described below with reference to .  shows a system example in which a client terminal and a center server are connected via a WAN and\/or LAN to one or more servers, which are positioned as remote control servers connected to the monitored\/controlled target devices through control communication ports (two remote control servers in the example of ), and the monitored\/controlled target devices are monitored\/controlled by the center server or the client terminal.","More specifically, a center server  and a client terminal  are connected to remote control servers ,  via a WAN and\/or LAN . The remote control server  is connected to a monitored\/controlled target device  having a control communication function via a control communication network . Since a monitored\/controlled target device  has not the control communication function, the remote control server  is connected to the monitored\/controlled target device  from a control communication network  through an input\/output unit  having the control communication function. Further, the remote control servers ,  are connected via an information communication network  (Ethernet in this example).","In this example, the control communication between the monitored\/controlled target device and the remote control server is performed using LONWORKS (trade name registered by ECHELON in U.S.A.).","The remote control server  collects the latest data from the monitored\/controlled target device  connected to the control communication network , and holds a virtual machine for the monitored\/controlled target device . Likewise, the remote control server  collects the latest data from the monitored\/controlled target device  through the input\/output unit  connected to the control communication network , and holds a virtual machine for the monitored\/controlled target device .","On the other hand, the center server  holds in itself a virtual machine that always shares information via the WAN and\/or LAN  in common with the virtual machine for the monitored\/controlled target device , which is held in the remote control server . The center server  also holds in itself a virtual machine that always shares information via the WAN and\/or LAN  in common with the virtual machine for the monitored\/controlled target device , which is held in the remote control server .","Similarly, the client terminal  holds in itself virtual machines , that always share information in common with the virtual machines , for the monitored\/controlled target devices , .","Further, the remote control server  holds the virtual machine that always shares information in common with the virtual machine for the monitored\/controlled target device  connected to the remote control server . The remote control server  holds the virtual machine that always shares information in common with the virtual machine for the monitored\/controlled target device  connected to the remote control server  through the input\/output unit .","Because the virtual machines held in the center server  and the client terminal  always share information in common with the virtual machine held in the remote control servers , , the center server  and the client terminal  always share information in common with the monitored\/controlled target devices ,  and hence can display the current information of the monitored\/controlled target devices , .","When controlling the monitored\/controlled target device  from the center server , control information of the virtual machine for the monitored\/controlled target device , which is held in the remote control server , is written by operating the virtual machine that always shares information in common with the monitored\/controlled target device  held in the center server . Also, since the remote control server  always shares information in common with the monitored\/controlled target device , the monitored\/controlled target device  is also controlled. The controlled result is sent back to the center server  in a flow reversal to that described above.","Control of the monitored\/controlled target device  connected to the remote control server  via the control communication network  is also performed from the client terminal  in a similar manner.","Next, a description is made of the case of performing linked control between the monitored\/controlled target devices  and  which are connected respectively to the remote control servers ,  via the control communication networks , .","In this case, the remote control server  includes a fixed agent, which always resides therein and is inputted in advance so as to control the monitored\/controlled target device  if there is an abnormality in the monitored\/controlled target device .","When the remote control server  detects, e.g., an abnormality of the monitored\/controlled target device  and controls the monitored\/controlled target device  as a linked target device, abnormal information of the monitored\/controlled target device  is first detected by the remote control server  via the control communication network  through the input\/output unit , whereupon the information of the virtual machine for the monitored\/controlled target device  is changed.","Upon a change in information of the virtual machine for the monitored\/controlled target device , the fixed agent held in the remote control server  is started up and operates the virtual machine , which always shares information in common with the virtual machine for the monitored\/controlled target device  held in the remote control server , for the purpose of operating the monitored\/controlled target device  set as a linkage destination in advance. Upon a change in information of the virtual machine held in the remote control server , the information of the virtual machine is changed because the virtual machine held in the remote control server  always shares information in common with the virtual machine . Correspondingly, the monitored\/controlled target device  is controlled because the virtual machine always shares information in common with the monitored\/controlled target device .","On the other hand, since the virtual machines , held in the center server  and the virtual machines , held in the client terminal  always respectively share information in common with the virtual machines , for the monitored\/controlled target devices ,  held in the remote control servers , , the result of the linked control is also reflected on the center server  and the client terminal .","Looking at a series of the above-mentioned operational flow from the outside, it appears that, just by operating the virtual machines held in the center server  and the client terminal , the virtual machines are each moved through the WAN and\/or LAN  with network transparency and control the monitored\/controlled target devices.","As a more practical application example, the case of performing a billing process for each of the monitored\/controlled target devices will be described below with reference to .","The remote control server  obtains various data of the monitored\/controlled target device , such as the number of times of usages, the power supply time, the amount of electricity used, status information, and operating information, through the virtual machine for the monitored\/controlled target device , and stores the data in an external storage associated with the remote control server . Likewise, the remote control server  obtains various data of the monitored\/-controlled target device  through the virtual machine for the monitored\/controlled target device , and stores the data in an external storage associated with the remote control server .","In response to a command from the center server , and\/or when fixed agents always residing in the remote control servers ,  are each operated at the preset timing (e.g., a.m. 0:00 per day), the remote control servers ,  transmit, to the center server , the various data of the monitored\/controlled target devices ,  stored in the respective external storages associated with the remote control servers , . Upon receiving the various data transmitted from the remote control servers , , a processing unit in the center server  converts the received data into data for billing for each of the monitored\/controlled target devices and stores the converted data in a storage in the center server . Then, based on preset parameters (such as the number of times of usages and the amount of electricity used) and algorithm, the processing unit in the center server  calculates the usage charge for each of the monitored\/controlled target devices, stores the calculated charge in the storage in the center server , and actuates a linkage to perform a paying process such as debiting on account opened in a financial institution.","When an agent containing an algorithm to execute the billing process is installed to always reside in each of the remote control servers , , the remote control servers ,  execute the billing process based on the data of the monitored\/controlled target devices , , which are stored in the respective external storages, and store the resulted charges in the respective external storages. Then, in response to a command transmitted from the center server  to the remote control servers , , and\/or when fixed agents always residing in the remote control servers ,  are each operated at the preset timing (e.g., a.m. 0:00 per day), the billing information held in the remote control servers ,  is transmitted to the center server . The center server  receives the transmitted billing information, stores the received information in its storage, and actuates a linkage to perform a paying process such as debiting on account opened in a financial institution. As a result, the load imposed on the center server can be reduced.","Finally, a method of quickly and efficiently performing monitoring and control by utilizing an inclusive virtual machine in the case, in which the number of target devices capable of being monitored\/controlled by one remote is, e.g., hundred and tens and the total number of actually monitored\/controlled target devices amounts to the order from several hundreds to several thousands, will be described below with reference to . As with the example of , this example also employs LONWORKS as a control communication network for connecting the remote control server and the monitored\/controlled target device to each other.","More specifically, a center server  and a client terminal  are connected to remote control servers , ,  via a WAN and\/or LAN . The remote control server  is connected to a monitored\/controlled target device  having a control communication function via a control communication network , to a monitored\/controlled target device  via a control communication network , and to a monitored\/controlled target device  via a control communication network . Since a monitored\/controlled target device  has not the control communication function, the remote control server  is connected to the monitored\/-controlled target device  from a control communication network  through an input\/output unit  having the control communication function. Further, the remote control server  is connected to a monitored\/controlled target device  via a control communication network  and to a monitored\/controlled target device  via a control communication network .","In addition, since a monitored\/controlled target device  has not the control communication function, the remote control server  is connected to the monitored\/controlled target device  from a control communication network  through an input\/output unit  having the control communication function. Moreover, the remote control server  is connected to a monitored\/controlled target device  via a control communication network  and to a monitored\/controlled target device  via a control communication network .","The remote control server  creates and holds the virtual machine for the monitored\/controlled target device  on the control communication network , collects the latest data through the virtual machine , and shares information in common with the monitored\/-controlled target device . Also, the remote control server  creates and holds the virtual machine for the monitored\/controlled target device  on the control communication network , collects the latest data through the virtual machine , and shares information in common with the monitored\/controlled target device . Likewise, the remote control server  creates and holds the virtual machine for the monitored\/controlled target device  on the control communication network , collects the latest data through the virtual machine , and shares information in common with the monitored\/controlled target device .","The remote control server  similarly collects the latest data through the virtual machines , and for the monitored\/-controlled target devices ,  and  connected to the remote control server  via the control communication networks ,  and , respectively, and shares information in common with the monitored\/-controlled target devices ,  and .","Further, the remote control server  similarly collects the latest data through the virtual machines , and for the monitored\/controlled target devices ,  and , respectively, and shares information in common with the monitored\/controlled target devices ,  and .","On the other hand, the fixed agent  having both a monitoring function, including a status monitoring\/recording function and a schedule\/linked control function, and a virtual machine including function always resides in the remote control server . Likewise, the fixed agent  having the same functions as those of the fixed agent  in the remote control server  always resides in the remote control server . Also likewise, the fixed agent  having the same functions as those of the fixed agent  always residing in the remote control server  always resides in the remote control server .","Based on the virtual machine including function of the fixed agent , the remote control server  can create, hold, operate and distribute an inclusive virtual machine including setting of the virtual machines , and for the monitored\/controlled target devices ,  and  connected to the remote control server  via the respective control communication networks and setting of the schedule\/linked control function contained in the fixed agent  and describing the functions, such as behaviors, of those virtual machines, and including even records acquired through the virtual machines with the status monitoring\/recording function contained in the fixed agent .","Also, based on the virtual machine including function of the fixed agent , the remote control server  can create, hold, operate and distribute an inclusive virtual machine including the setting of the virtual machines , and for the monitored\/controlled target devices ,  and  connected to the remote control server  via the respective control communication networks and setting of the schedule\/linked control function contained in the fixed agent  and describing the functions, such as behaviors, of those virtual machines, and including even records acquired through the virtual machines with the status monitoring\/-recording function contained in the fixed agent .","Further, based on the virtual machine including function of the fixed agent , the remote control server  can create, hold, operate and distribute an inclusive virtual machine including setting of the virtual machines , and for the monitored\/controlled target devices ,  and  connected to the remote control server  via the respective control communication networks and setting of the schedule\/linked control function contained in the fixed agent  and describing the functions, such as behaviors, of those virtual machines, and including even records acquired through the virtual machines with the status monitoring\/recording function contained in the fixed agent .","In the above-described arrangement, the center server  having a collected data management function , an agent management function , a service information management function , a system management function , and a man-machine monitoring function  calls and holds an inclusive virtual machine Sc created by the fixed agent  in the remote control server . Likewise, the center server  calls and holds an inclusive virtual machine Sc created by the fixed agent  in the remote control server , and an inclusive virtual machine Sc created by the fixed agent  in the remote control server .","At this time, the inclusive virtual machine Sc held in the center server  always shares information in common with the virtual machines , and in the remote control server , which are created by the fixed agent  in the remote control server  for the monitored\/-controlled target devices ,  and  connected to the remote control server  via the control communication networks ,  and , respectively.","Similarly, the inclusive virtual machine Sc held in the center server  always shares information in common with the virtual machines , and in the remote control server , which are created by the fixed agent  in the remote control server  for the monitored\/-controlled target devices ,  and  connected to the remote control server  via the control communication networks ,  and , respectively.","Furthermore, the inclusive virtual machine Sc held in the center server  always shares information in common with the virtual machines , and in the remote control server , which are created by the fixed agent  in the remote control server  for the monitored\/-controlled target devices ,  and  connected to the remote control server  via the control communication networks ,  and , respectively.","The client terminal  also includes respective virtual machines in similar arrangement, and therefore a detailed description thereof is omitted here.","In addition, the remote control server  calls and holds an inclusive virtual machine Sb created by the fixed agent  in the remote control server , and an inclusive virtual machine Sb created by the fixed agent  in the remote control server .","Similarly, the remote control server  calls and holds an inclusive virtual machine Sb created by the fixed agent  in the remote control server , and an inclusive virtual machine Sm created by the fixed agent  in the remote control server . Moreover, the remote control server  calls and holds an inclusive virtual machine Sm created by the fixed agent  in the remote control server , and an inclusive virtual machine Sm created by the fixed agent  in the remote control server .","In the above arrangement, the inclusive virtual machine Sb held in the remote control server  and created by the fixed agent  in the remote control server  always shares information in common with the virtual machines , and , which are held in the remote control server  for the monitored\/controlled target devices ,  and  connected to the remote control server  via the control communication networks ,  and , respectively. Likewise, the inclusive virtual machine Sb held in the remote control server  and created by the fixed agent  in the remote control server  always shares information in common with the virtual machines , and , which are held in the remote control server  for the monitored\/-controlled target devices ,  and  connected to the remote control server  via the control communication networks ,  and , respectively.","Similarly, the inclusive virtual machine Sb held in the remote control server  always shares information in common with the virtual machines , and for the monitored\/controlled target devices ,  and  connected to the remote control server  via the control communication networks ,  and , respectively, and the inclusive virtual machine Sm held in the remote control server  always shares information in common with the virtual machines , and for the monitored\/controlled target devices ,  and  connected to the remote control server  via the control communication networks ,  and , respectively. In addition, the inclusive virtual machine Sm held in the remote control server  always shares information in common with the virtual machines , and for the monitored\/controlled target devices ,  and  connected to the remote control server  via the control communication networks ,  and , respectively, and the inclusive virtual machine Sm held in the remote control server  always shares information in common with the virtual machines , and for the monitored\/controlled target devices ,  and  connected to the remote control server  via the control communication networks ,  and , respectively.","Thus, the remote control servers ,  and  connected to the center server  via the WAN and\/or LAN  share information in common by utilizing the inclusive virtual machines that can be created, held, called and distributed by the remote control servers.","In the case of controlling the monitored\/controlled target device  from the center server , by operating the inclusive virtual machine Sc held in the center server  and sharing information in common with the monitored\/controlled target device , the information is rewritten because the inclusive virtual machine Sc always shares information in common with the virtual machine for the monitored\/-controlled target device  held in the remote control server , as described above. Upon rewriting of the information of the virtual machine , the information of the monitored\/controlled target device  is rewritten and controlled because the virtual machine always shares information in common with the monitored\/controlled target device . The control result is sent back to the center server  through a flow reversal to the above-described flow.","The above description is similarly applied to not only the cases of controlling the monitored\/controlled target devices , , , , , ,  and  from the center server  by using the inclusive virtual machines Sc, Sc and Sc, but also the cases of controlling the monitored\/controlled target devices , , , , , , ,  and , which are connected to the remote control servers ,  and  via the respective control communication networks, from the client terminal  by using the inclusive virtual machines Sd, Sd and Sd. The control results are also sent back to the remote control servers from the center server and the client terminal.","A description is now made of the case of performing linked control between the monitored\/controlled target devices  and  which are connected respectively to the remote control servers ,  via the control communication networks , .","In this case, the remote control server  includes the fixed agent , which always resides therein and has the monitoring function inputted in advance so as to control the monitored\/controlled target device  if there is an abnormality in the monitored\/controlled target device .","When the remote control server  detects, e.g., an abnormality of the monitored\/controlled target device  and controls the monitored\/-controlled target device  as a linked target device, abnormal information of the monitored\/controlled target device  is first detected by the remote control server  via the control communication network  through the input\/output unit , whereupon the information of the virtual machine for the monitored\/controlled target device  is changed.","Upon a change in information of the virtual machine for the monitored\/controlled target device , the fixed agent  held in the remote control server  is started up and operates the inclusive virtual machine Sb, which is held in the remote control server  and always shares information in common with the virtual machine for the monitored\/controlled target device  held in the remote control server , for the purpose of operating the monitored\/controlled target device  set as a linkage destination in advance. Upon a change in information of the inclusive virtual machine Sb held in the remote control server , the information of the virtual machine is changed because the virtual machine held in the remote control server  always shares information in common with the inclusive virtual machine Sb. Correspondingly, the monitored\/controlled target device  is controlled because the virtual machine always shares information in common with the monitored\/controlled target device .","On the other hand, since the inclusive virtual machines Sc, Sc held in the center server  and the inclusive virtual machines Sd, Sd held in the client terminal  always respectively share information in common with the virtual machines , for the monitored\/controlled target devices ,  held in the remote control servers , , the result of the linked control is also reflected on the center server  and the client terminal .","Furthermore, the remote control server  can monitor and control the monitored\/controlled target devices, which are connected to the server  via the respective control communication networks, in more flexible ways based on a comprehensive consideration by referring to record information and control setting information of the inclusive virtual machine Sb for the remote control server  and of the inclusive virtual machine Sb for the remote control server , which are called by and held in the server  itself. For example, when the remote control server  performs scheduled operation of a certain device, it is possible to control the scheduled operation with the fixed agent  always residing in the server  such that, when a current value of the relevant device connected to the server  via the control communication network exceeds a threshold and a total current value of the remote control servers ,  and  also exceeds a threshold, the relevant device can be operated for the remaining time if those current values are each within a limit value, by referring to the inclusive virtual machines Sb, Sb called from the remote control servers ,  and held in the server  and considering the operating time of each of the devices connected the remote control servers ,  via the respective control communication networks.","When the number of target devices to be monitored and controlled reaches the order of several tens thousands in practice, as shown, by way of example, in , a remote control server  is connected to the remote control servers ,  and  via the WAN and\/or LAN , and an inclusive virtual machine supervising function  for creating a supervising virtual machine to supervise inclusive virtual machines is prepared so as to always reside in the remote control server . With the virtual machine supervising function , the remote control server  creates a supervising virtual machine for supervising an inclusive virtual machine Se for the remote control server , an inclusive virtual machine Se for the remote control server , and an inclusive virtual machine Se for the remote control server , which are called by and held in the remote control server . The center server  and the client terminal  can efficiently share information in common with the monitored\/controlled target devices , , , , , , ,  and , and can quickly and smoothly control those monitored\/-controlled target devices by calling, holding and operating supervising virtual machines Tc, Td created by the remote control server . The reason is as follows. For example, the supervising virtual machine Tc called by and held in the center server  shares information in common with the inclusive virtual machine Se called by and held in the remote control server  from the remote control server . Then, as described above, the inclusive virtual machine Sc shares information in common with the virtual machines , and created by and held in the remote control servers . Those virtual machines share information in common with the monitored\/controlled target devices ,  and  connected to the remote control server  via the control communication networks ,  and , respectively. The above description is similarly applied to the remote control servers , .","Further, a description is now made of the case of performing linked control between devices, in which, for example, the monitored\/-controlled target device  connected to the remote control server  via the control communication network  and the monitored\/controlled target device  connected to the remote control server  on the control communication network  through the input\/output unit  are target devices of the linked control.","In this case, the setting to perform the linked control between which devices is previously inputted in the fixed agent residing in each of the remote control servers.","For example, when an abnormality occurs in the state of the monitored\/controlled target device  connected to the remote control server  through the input\/output unit , the information of the virtual machine is changed which is held in the remote control server  and always shares information in common with the monitored\/controlled target device . Upon a change in contents of the virtual machine , the contents of the inclusive virtual machine Se, which is created by the remote control server  and is called by and held in the remote control server , is also changed because the inclusive virtual machine Se always shares information in common with the virtual machine held in the remote control server .","Upon a change in contents of the inclusive virtual machine Se called by and held in the remote control server , the information of the inclusive virtual machine Sb, which is created by the remote control server  and is called by and held in the remote control server , is also changed because the inclusive virtual machine Sb always shares information in common with the inclusive virtual machine Se. In the remote control server , the fixed agent  is started up with a change in contents of the inclusive virtual machine Sb, and the information of the virtual machine for the monitored\/controlled target device , i.e., the target device of the linked control, is changed. Upon a change in contents of the virtual machine , the monitored\/controlled target device  is controlled because the monitored\/controlled target device  always shares information in common with the virtual machine ","Also, in the center server  and the client terminal , since the supervising virtual machine Tc created by the remote control server  and called by and held in the center server  and the supervising virtual machine Td created by the remote control server  and called by and held in the client terminal  share information in common with the inclusive virtual machine Se, the contents of the supervising virtual machines Tc, Td are also changed upon a change in contents of the inclusive virtual machine Se held in the remote control server .","For the contents of control made on the monitored\/controlled target device , the control result is linked because the virtual machines, the inclusive virtual machines and the supervising virtual machines held in the remote control servers , ,  and , the center server  and the client terminal  always share information in common with each other as described above.","Furthermore, the linked control between the other monitored\/-controlled target devices can be performed through the remote control servers ,  and  in a similar manner, and hence a detailed description is omitted here.","If the remote control server , for example, should be failed, it is possible to share information and perform the linked control between the remote control servers, and to ensure reliability of the system because each of the remote control servers calls and holds therein the inclusive virtual machines created by the other remote control servers.","The present invention has the industrial applicability as follows.\n\n","By mounting wireless public telephones such as cellular phones, for example, the server can establish the connection via wireless public lines even in a district where a wired public line network is not installed. Also, since the server has a serial port capable of switching over the connection to RS232C and allowing an external communication device to be attached to the port, it is possible to increase not only a variety of available means for communication with the outside, but also a variety of places in which the server can be installed.\n\n"],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 3","b":["100","110","120"]},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 4","b":"130"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":["FIG. 6","FIG. 2"],"b":["561","562","54"]},{"@attributes":{"id":"p-0020","num":"0019"},"figref":["FIG. 7","FIG. 6"],"b":["571","572","55","90"]},{"@attributes":{"id":"p-0021","num":"0020"},"figref":["FIG. 8","FIG. 7"],"b":["90","901","54","55","54","55"]},{"@attributes":{"id":"p-0022","num":"0021"},"figref":["FIG. 9","FIG. 7"],"b":["71","90","90"]},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":["FIG. 11","FIG. 6"]},{"@attributes":{"id":"p-0025","num":"0024"},"figref":["FIG. 12","FIG. 7"],"b":"90"}]},"DETDESC":[{},{}]}
