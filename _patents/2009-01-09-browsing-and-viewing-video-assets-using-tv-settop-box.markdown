---
title: Browsing and viewing video assets using TV set-top box
abstract: Roughly described, a system and method for delivering video content to a user's client device in a video-on-demand (VOD) system, which includes providing a collection of video segments, the segments having a predefined default sequence; establishing a streaming video session according to a session-oriented protocol; transmitting toward the client device a script executable by the client device, the script operable to transmit navigational codes toward the head-end equipment in response to and indicating user selection among navigational choices; beginning transmission of the video segments in the collection toward the client device in accordance with the default sequence of segments; and in response to receipt of one of the navigational codes, and without tearing down the streaming video session, altering the transmission sequence to jump to the segment that the user selected.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09185351&OS=09185351&RS=09185351
owner: Harmonic, Inc.
number: 09185351
owner_city: San Jose
owner_country: US
publication_date: 20090109
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"p":["This application claims priority to U.S. Provisional Application No. 61\/020,134, filed Jan. 9, 2008, which is incorporated by reference herein.","The invention relates to methods and systems for browsing video assets such as video-on-demand videos and internet videos. In particular, it relates to techniques for enabling such browsing and viewing in a \u201clean-back\u201d environment such as before a television monitor.","Traditional TV operators such as cable companies (e.g. Comcast), direct broadcast satellite companies (e.g. DirecTV), IPTV companies (e.g. ATT) and broadcasters are concerned about the explosive growth of media consumption on the Internet and are seeking ways to incorporate this content into their service offerings. One of the main differentiators of the viewing experience provided by these operators as against the Internet experience is that it is delivered to TVs for viewing in a \u201clean back\u201d environment in a living room, whereas the Internet experience is typically referred to as a \u201clean forward\u201d experience in front of a computer.","At the same time, new companies are delivering content \u201cover the top\u201d of the existing TV service, using the Internet as a delivery mechanism. These companies are referred to as Over the Top (OTT) operators. So far this content is delivered to the PC, and some extender devices are emerging to enable content downloaded or streamed in this manner to be displayed on the TV. New devices are coming which deliver content directly from the Internet to the TV, without the PC.","There are several key challenges in delivering Internet content to the TV. These include:\n\n","An opportunity arises to provide mechanisms and techniques that enable better and more usable delivery of Internet content to the TV, in spite of the difficulties described above.","The systems described herein solve many of these problems and enable traditional TV operators and new OTT operators to deliver a fun, new lean-back experience to the TV audience. Not only can the techniques described herein improve the delivery of short internet clips to a TV set-top box, but clever use of the techniques also enable an entirely new \u201clean-back\u201d experience allowing the viewer to navigate conveniently among all kinds of assets, including conventional VOD movies.","Roughly described, the invention involves a system and method for delivering video content to a user's client device in a video-on-demand (VOD) system, which includes providing a collection of video segments, the segments having a predefined default sequence; establishing a streaming video session according to a session-oriented protocol; transmitting toward the client device a script executable by the client device, the script operable to transmit navigational codes toward the head-end equipment in response to and indicating user selection among navigational choices; beginning transmission of the video segments in the collection toward the client device in accordance with the default sequence of segments; and in response to receipt of one of the navigational codes, and without tearing down the streaming video session, altering the transmission sequence to jump to the segment that the user selected.","The above summary is provided in order to provide a basic understanding of some aspects of the invention. This summary is not intended to identify key or critical elements of the invention or to delineate the scope of the invention. Its sole purpose is to present some concepts of the invention in a simplified form as a prelude to the more detailed description that is presented later. Particular aspects of the invention are described in the claims, specification and drawings.","The following detailed description is made with reference to the figures. Preferred embodiments are described to illustrate the present invention, not to limit its scope, which is defined by the claims. Those of ordinary skill in the art will recognize a variety of equivalent variations on the description that follows.","In one embodiment, the system described herein enables operators to deliver collections of video clips from the Internet in a manner which makes them easily accessible and viewable directly on TVs with little or no modification to existing STBs. In an embodiment, these collections usually contain 10-20 items, such as \u201cmost popular clips on YouTube\u201d, \u201cfunniest videos on Yahoo\u201d, \u201ctop stories from ABC News\u201d, etc. The system fetches these collections on a pre-defined schedule and adapts them as necessary to make them compatible with the TV. This adaptation addresses issues with resolution, encoding and syntax of the clips as well as the layout of the clips on the TV screen together with navigation information. The result is a very easy to use way to access the most desirable Internet content on a TV using a simple remote control. In addition, many of the same techniques can be used to simplify user navigation among video clips and even full-length movies, by delivering a navigational collection of video clips prepared specifically for this purpose.",{"@attributes":{"id":"p-0020","num":"0024"},"figref":"FIG. 1","b":["100","108","110","112","112","114","110","114","114","112"]},"Content Acquisition","Content acquisition facility  in one embodiment fetches internet content for use in the system. Content is fetched off the Internet using publically available Application Programming Interfaces (APIs) meant for programmatic access to media content from a variety of sources on the Internet.","The selection of which Internet content should be gathered and how it should be grouped to form collections is controlled via a Graphical User Interface (GUI) as well as programmatically through an XML interface. The operator of the GUI (who might be the service provider or end user) defines which collections are of interest and where to obtain them. The operator also selects among several options regarding how the collections should be displayed.","Typical collections are such things as \u201cMost popular videos on YouTube\u201d, \u201cMost funny clips from Yahoo\u201d, \u201cTop Stories from ABCnews.com\u201d, or \u201cTop Plays of the Week from ESPN\u201d. Each collection typically contains a limited set of Internet assets, such as 10-20.","In an embodiment, collections are defined using the following properties:",{"@attributes":{"id":"p-0026","num":"0030"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"left"}}],"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Property","Description"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Collection Name","Name of the collection to be fetched (e.g."]},{"entry":[{},"\u201cTop Stories from cnn.com\u201d)"]},{"entry":["Collection Description","Description of the collection."]},{"entry":["URL","Web Uniform Resource Locator (URL)"]},{"entry":[{},"from which video clips can be fetched."]},{"entry":["Protocol","Protocol to be used. Two major protocols"]},{"entry":[{},"are MRSS, which is defined by Google"]},{"entry":[{},"and Yahoo, and iTunes, which was created"]},{"entry":[{},"by Apple. Other protocols or APIs can be"]},{"entry":[{},"added as necessary."]},{"entry":["Search Phrase","Phrase that defines the search whose result"]},{"entry":[{},"constitutes the collection."]},{"entry":["Schedule","A property that defines the schedule that"]},{"entry":[{},"should be used to fetch the collection."]},{"entry":["Size Limit","Maximum number of clips to be included"]},{"entry":[{},"in the collection."]},{"entry":["Display Template","Selection of which navigation template"]},{"entry":[{},"should be used for creating the composite"]},{"entry":[{},"asset from the collection."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},"Other properties might also be included to accommodate the requirements of varying implementations. For example, in systems that use the CableLabs\u00ae ADI metadata in conjunction with their VOD assets, additional fields necessary to create the appropriate metadata might also be included. ADI (Asset Distribution Interface) is a mechanism defined by CableLabs\u00ae to be used as a standard means of distributing assets for cable VOD systems. This specification is also used in some other non-cable VOD systems as well.","The acquisition facility  maintains a database of these collection definitions. These definitions can be created, updated and maintained by users. In a simple implementation, service operators use the acquisition facility's GUI to define collections, edit their properties, and check on their status. In more sophisticated implementations, the acquisition facility  is controlled through a web service, enabling end users to define collections of their own.","The acquisition facility  uses the collection definitions to maintain a schedule of collections to be fetched. Whenever it is time for a collection to be fetched, the acquisition facility  uses the collection definition to contact the appropriate sources to obtain the clips and metadata that should be used to create the collection. For an internet video collection, the acquisition facility  fetches clips from the appropriate web services. For a VOD selection asset, the acquisition facility  may fetch movie trailers, posters and other information from an asset management system.","The acquisition facility  may also be integrated with one or more advertising delivery systems to fetch advertising or other value added information to be used in conjunction with each collection. Each time a collection is fetched, data associated with the collection is sent to an ad targeting system to obtain an ad or set of ads to be displayed as part of the collection. The data sent includes the name and description of the collection, together with the name and description of each clip contained in the collection.","Once all the clips, ads and associated data have been fetched, the acquisition facility  creates a job and sends it to the preparation facility . The job contains all of the assets, metadata and instructions necessary for the preparation facility  to create a package containing each desired collection.","Package Preparation","For each job, preparation facility  uses the clips, ads and metadata to spatially and temporally combine the clips to into a single composite asset that embeds a simple navigation interface. As described in more detail hereinafter, the navigation interface gives the user visual cues to make the use of simple remote control commands such as left and right buttons to jump to previous and next clips in the collection, as well as up and down buttons to jump to previous and next collections.","The Preparation facility  might perform one or more operations on the incoming assets to create the new composite asset. These operations include, but are not limited to:\n\n","In some embodiments, the preparation facility  performs the process of combining all the elements into a single package ready for presentation, and in other embodiments some of the combining steps are implemented in the Delivery component in order to improve the flexibility of the system.","In one embodiment, jump navigation to previous and subsequent positions within the package corresponds to navigation to the start of previous and subsequent video clips. In other embodiments, jump navigation can be to the start of video \u201csegments\u201d, which need not correspond to the start positions of internet-retrieved video clips. As used herein, the available jump-to points for user navigation are what defines the \u201csegments\u201d. Most segments are derived from one or more internet-retrieved clips, but some segments are not; for example some segments can contain purely advertising. Some segments also can be shorter than a clip (e.g. a clip can be divided into multiple segments), and other segments can include all or parts of more than one clip sequentially. As used herein, a \u201csegment\u201d already includes any spatial compositing, advertising, and visible navigational cues.","In order for the terms \u2018previous\u2019 and \u2018next\u2019 to have meaning in the context of a collection, the preparation facility  also defines a default sequence for the included segments. That is, the segments in the package will play in accordance with the default sequence unless the sequence is altered, for example in response to a user's selection of a navigational control on the remote. As used herein, the term \u201csequence\u201d is broad enough to include not only linear sequences, but also sequences that include prescribed deviations from the linear, such as looping over one or more segments in the package, or over the entire package, branching, and pause-and-wait positions. The default sequence is specified in metadata in the package as described below.","Example Assets","The preparation facility  can be programmed to use any desired screen layout for a package. Templates are used in one embodiment to program the preparation facility .  illustrates a frame of the screen layout for one type of asset, such as a collections of internet clips. As can be seen a number of items have been spatially composited in the frame. In particular, region  (including (from top to bottom) sub-regions -, -, -, - and -) identifies visibly to the user, five of the clips in the current collection. Each sub-region includes both a thumbnail image and a textual description, but in another embodiment only one of the two, or some other indication, need be shown. The thumbnail image was created and composited into the image automatically by the preparation facility , from the internet video clip corresponding to the respective segment. The sub-region - is highlighted to indicate that it is the \u201ccurrent\u201d segment, and up- and down-arrows are shown to help cue the user to the ability to jump to the previous or next segment - or - respectively, by pressing up or down buttons on the remote. Thus the thumbnails and textual descriptions in the sub-regions corresponding to the previous and next video segments, together with the up- and down-arrows, visibly pre-indicate the segments that are previous and next in the default sequence, and what buttons to press to jump to them.","Region  displays the current video clip. Unlike region , the display in region  is a moving image, specifically the internet video clip corresponding to the thumbnail and description in sub-region -. In region  the description of the current video clip is repeated, perhaps with additional information like a time slider that moves as the playing of the clip progresses.","Across the top of the display, in region , are five sub-regions (from left to right) -, -, -, - and -. Each sub-region contains a textual description of a different collection of video segments, and the sub-region - is highlighted to indicate that it is the \u201ccurrent\u201d collection. The \u201cprevious\u201d collection is described in region -, and the \u201cnext\u201d collection is described in region -. Again, whereas only textual descriptions of the collections are shown in the embodiment of , in another embodiment thumbnails and\/or other visual indications of the collection's contents can be shown. Additionally, left- and right-arrows are shown in region , to help cue the user to the ability to jump to the previous or next collection - or - respectively, by pressing left or right buttons on the remote. Thus as with region , the textual descriptions in the sub-regions corresponding to the previous and next collections, together with the left- and right-arrows, visibly pre-indicate the collections that are previous and next in a predefined sequence, and what buttons to press to jump to them.","Each of the segments in the collection has a duration equal to the duration of the corresponding video clip shown in region . The picture sequence within the segment has been spatially pre-composited with all the component regions shown in , by the preparation facility , and encoded into the package containing the current collection. Some portions of the picture sequence change during the progress of the segment, such as the video clip playing in region  and the progress indicator in region , while other portions remain stationary for all pictures in the picture sequence, such as the regions  and . This preparation gives the viewer a sense that internet video is playing in one window (region ) on the display while no video is playing in other parts of the display; much like one would see while playing an internet video on a computer monitor. In actuality, however, the picture sequence being delivered to the STB includes everything on the display screen in each picture, the apparently stationary portions simply being unchanged from picture to picture within the segment.","If the user presses the \u2018up\u2019 button on the remote, a signal is sent from the STB upstream to the content delivery facility  as described hereinafter, which causes the content delivery facility  to stop transmitting the current video segment, and to jump as requested to the previous segment pre-indicated in region - in the current segment. The content delivery facility  then begins transmitting from the beginning of the requested segment. In this segment the video has been pre-composited to show the corresponding internet video clip in region , and to pre-indicate five segments of the collection in region . Within this segment, the segment previously described in sub-region - is now shown in region -; the segment previously described in sub-region - (identified previously as the \u201cprevious\u201d segment) is now shown in region - (highlighted to indicate that it is now the \u201ccurrent\u201d segment); the segment previously described in sub-region - (previously the \u201ccurrent\u201d segment) is now shown in region - (now indicated as the \u201cnext\u201d segment); and the segment previously described in sub-region - (previously the \u201cnext\u201d segment) is now shown in region -. An earlier segment in the default sequence is now described in sub-region -. The effect is to simulate that the list of segments has scrolled downward, whereas in actuality the entire video segment merely has been pre-composited by the preparation facility  with the new information in region .","If the user presses the \u2018left\u2019 or \u2018right\u2019 button on the remote, a different signal is sent from the STB upstream to the content delivery facility , which causes it to stop transmitting the current video segment and to jump as requested to the previous or next collection, respectively, as pre-indicated in sub-region - or -, respectively. In one embodiment transmission always resumes from the beginning of the first segment of the requested collection (as defined by the default sequence of the requested collection). In another embodiment transmission could resume from some other position in the requested collection. In either embodiment the collection descriptions in region  appear to scroll to the left or right, though in actuality the video segments in the requested collection have merely been pre-composited by the preparation facility  with the revised arrangement of collection descriptions.","It can be seen that though the user experience is computer-like, in actuality what is being delivered to the STB for each segment is merely a conventional video with computer-like information cleverly composited into regions of the pictures spatially. The composite images shown in  are not created dynamically in the STB  or even the delivery facility . Rather, they are created upon creation of the package by the preparation facility , after it is know what video clips will be included in each collection and in what sequence. That information is fixed at that time, so that the thumbnails and other visible cues can be created and spatially composited with each clip. From that time forward, the spatially composited images are treated simply as images; the STB does not need to know either that the clip currently being viewed occupies only a portion of the frame, nor that other regions of the frame derive from different clips. So far as the STB is concerned, it is receiving and displaying merely a standard video sequence of pictures. Because of this, conventional STBs are typically usable in the present system without modification.","A wide variety of look-and-feels can be constructed in this manner. For example, whereas for the illustration of  all the segments in all the collections have the same spatial layout, is would be simple for different collections to have different layouts appropriate to their content, or different segments within a single collection to have different layouts. It is all a matter of appropriately programming the spatial composition that the preparation facility  will use in creating the various video segments.",{"@attributes":{"id":"p-0047","num":"0058"},"figref":["FIG. 3","FIG. 2"],"b":["310","212","310","210","216","310","112"]},{"@attributes":{"id":"p-0048","num":"0059"},"figref":["FIG. 4","FIG. 2"],"b":["400","410","410","1","410","11","412","414","412","410","410","6","410","410","5","410","7"]},"Similarly, pre-composed in region , also superimposed on the region , are five sub-regions showing text which describe five different collections. The sub-regions (from top to bottom) are sub-region - describing one of the collections; a region - describing a \u201cprevious\u201d one of the collections; a region - describing a \u201ccurrent\u201d one of the collections; a region - describing a \u201cnext\u201d one of the collections; and another region - describing yet another one of the collections. The text in region - is highlighted to indicate that this is the \u201ccurrent\u201d collection. As in , up and down arrows in region  cue the user on the ability to jump to previous and next segments, described by previous and next thumbnails - and - respectively, by pressing up or down buttons on the remote. Thus the thumbnails and textual descriptions in the sub-regions corresponding to the previous and next collections, together with the up- and down-arrows, visibly pre-indicate the previous and next collections, and what buttons to press to jump to them.","While the thumbnails  pre-indicate to the user the various movies represented in the collection, they represent to the system the various video segments which correspond to the movies. As with the illustration of , the arrangement of thumbnails in region , which appears to remain fixed throughout the playing of the \u201ccurrent\u201d movie trailer, is actually pre-composed with the moving trailer video in region , but merely remains unchanged during the entire duration of the trailer. If the user presses the \u2018right\u2019 button on the remote, the STB sends a message to the content delivery facility  to jump to the video segment which is next in the default sequence of the current collection, which is the segment associated with the movie pre-indicated by the movie poster thumbnail in sub-region -. In the new segment, region  begins showing the trailer associated with the indicated movie, the region  shows descriptive text for the indicated movie, the collection descriptions in region  remain unchanged, and the thumbnails in region  are shifted by one sub-region toward the left, so that the thumbnail that was previously in region - now appears in the sub-region -, where it is highlighted to indicate that this is now the \u2018current\u2019 movie. Again, no scrolling of the sub-regions  has actually occurred; the appearance of scrolling has been achieved merely because in the video segment for the now-current movie, the now-appropriate set of thumbnails has been pre-composed into the region .","Also pre-composed in the layout of , is a region  which notifies the user to press OK to select the current movie (the movie corresponding to the \u201ccurrent\u201d video segment). Together with the current segment thumbnail in region -, the current segment descriptive in region , and the movie trailer playing in region , the legend in region  pre-indicates the video that will be delivered upon pressing the OK button. As with the advertisement in , the video segment that will be delivered in this case is not part of the current collection or package. Pressing the OK button in this embodiment causes the content delivery facility  to leave the confines of the prepared content and to deliver the selected movie as a separate video, prepared and delivered to the STB entirely conventionally.",{"@attributes":{"id":"p-0052","num":"0063"},"figref":["FIG. 5","FIG. 4","FIGS. 2 and 3","FIG. 5","FIG. 5"],"b":["500","510","512"]},"The asset depicted in  includes only one collection, which in turn includes only two video segments, one in which VOD icon  is highlighted, and one in which WebCatch icon  is highlighted. The default sequence in this collection is to play the two segments in sequence, and then to loop back over the entire collection so that the highlighting of the two icons appears to alternate. The duration of each segment is sufficient to allow the user time to press the OK button on the remote during the time that one of the icons is highlighted. When delivering this collection to the STB , the content delivery facility  also transmits, in conjunction with the transmission of each segment, the asset ID of the corresponding one of the assets. More specifically, while transmitting the segment in which VOD icon  is highlighted, content delivery facility  also transmits the asset ID of the asset depicted in FIG. . Similarly, while transmitting the segment in which WebCatch icon  is highlighted, content delivery facility  also transmits the asset ID of the asset depicted in . As with the embodiments of , if the user presses the OK button on the remote, the STB will send the asset ID currently held in the STB, upstream to the content delivery facility. The content delivery facility  then leaves the collection of , and begins delivering the asset associated with the current asset ID. In the case of , the designated asset is an advertisement video, prepared and delivered to the STB entirely conventionally. In the case of , the designated asset is a movie title, prepared and delivered to the STB entirely conventionally. In the case of , the designated asset is the one depicted in  or the one depicted in , prepared and delivered as described herein.","Splicing and Exit Points","Since in some embodiments different video segments are concatenated together dynamically during playout of a collection, it is desirable that splicing from one to the next appear seamless. Splicing of MPEG encoded streams can be more difficult than splicing of the uncompressed audio and video. For example, P and B frames cannot be decoded without a preceding I frame, so that cutting into a stream after an I frame renders the P and B frames meaningless. P and B frames are also considerably smaller than I frames, so that frame boundaries are not evenly spaced and must be dynamically synchronized between the two streams at the time of the splice. As yet another example, because a video decoder buffer is required to compensate for the uneven spacing of the frame boundaries in the encoded streams, splicing may cause underflow or overflow of the video decoder buffer. In order to overcome these problems and others, each segment is encoded by the preparation facility in such a way that the beginning and end of each segment conform to predetermined constraints that permit a simple transport stream level switch to be made by downstream devices without compromising stream integrity.","In the embodiments described herein, since the user is permitted to navigate away from a currently playing segment at any time during playout, and to jump to the beginning of another segment within the collection or even to a different collection, it is desirable that the preparation facility also encode the segments so that jumps to the beginning of a segment even from the middle of the previous segment will appear seamless as well. In order to accomplish this, the preparation facility encodes the segments in a way that provides multiple exit points within each segment. Each exit point is encoded to conform to the same predetermined constraints, and the locations of the exit points are provided to the content delivery facility  in conjunction with the ingestible package. On playout, when the content delivery facility  receives an EventNotification that calls for it to jump to a different segment or collection, or even to a different asset altogether, the content delivery facility  waits until the next one of the predefined exit points before terminating delivery of the current segment. In some cases the content delivery facility  may not terminate delivery until some other subsequent exit point, for example if the immediately next one is too near.","The following set of constraints are used in the encoding at the beginning of each segment and at each of the predefined exit points. It will be appreciated that various sets of constraints are possible in different embodiments, and the following set is only an example.\n\n","In addition to the above preparation, the content delivery facility  includes a splicing module which performs certain minimal processing at each splice. The processing includes restamping the time base to create a single continuous time base at the output; conditional dropping of audio frames in order to maintain lip sync; and adjusting the delivery time of the transport packets in order to maintain audio and video VBV compliance. The splicer also re-maps input PIDs to common output PIDs.","Package Distribution to Content Delivery Facilities","Content prepared as above is distributed from the content preparation facility  to content delivery facilities such as  in the form of ingestible packages through conventional mechanisms, such as FTP. The packages differ from conventional packages in that they contain internally navigable multi-segment video. Thus each package can include not only the actual video segments and conventional metadata describing the entire asset, but also additional metadata identifying and describing the individual segments included in the collection, and how navigation among them should be accomplished. The video segments themselves can be delivered to the content delivery facility  either separately or as a single, sequentially combined video. Which method is preferable depends on the capabilities of the content delivery facility . When a single combined video is used, the metadata contains information that specifies where the transitions from one segment to the next are within the combined video.",{"@attributes":{"id":"p-0061","num":"0087"},"figref":["FIGS. 6A","FIG. 6A","FIG. 6B","FIG. 6C"],"b":["6","6"]},"The packages conform to all the requirements of conventional Delivery and Presentation systems, in terms of encoding, syntax, packaging, etc. The metadata associated with them signals to the delivery system that these assets are special and contain additional metadata for internal navigation.",{"@attributes":{"id":"p-0063","num":"0089"},"figref":"FIG. 7","b":"700"},"The metadata is encapsulated using XML in this embodiment, and for clarity of illustration, the video segments themselves are omitted. Only the package metadata is shown in . This metadata comprises a sequence of collection metadata blocks , one for each collection in the package. The sequence in which the collection metadata blocks are set forth in the package defines a \u201cdefault sequence\u201d of collections in the package. In another embodiment, the \u201cdefault sequence\u201d can be defined by other means, such as by index numbers associated with each collection, or by an index file that points to the collections in the desired sequence. A collection metadata block  contains information about the collection as a whole, such as SiteID and PackageID (identifiers which together identify the package within which the collection is located); a DefaultAssetID (indicating the starting segment in the collection's default sequence of segments); AirStartTime and AirEndTime (indicating lifespan dates and times for the collection); a sequence of PropagationDestinations (indicating content delivery facilities to which the collection should be sent); and a sequence of segment metadata blocks .","The sequence in which the segment metadata blocks are set forth in the collection defines a \u201cdefault sequence\u201d of segments in the collection. As with the default sequence of collections, the default sequence of segments can be defined by other means in other embodiments, such as by index numbers associated with each segment, or by an index file that points to the segments in the desired sequence. A segment metadata block  contains information about the individual segment, such as AssetID (an identifier for the current segment); AssetURI (a pointer to the video segment itself); a SourceAssetID (an identifier of the video source from which the current asset was created, such as an internet URL); SourceTitle (title of the video source); pointers to other video content from which the segment was prepared (e.g. for the VOD embodiment of , this information might point to the trailer video and the poster image that was used by the preparation facility  to prepare the current segment); and a sequence of NavigationInfo blocks  applicable to the current segment.","The NavigationInfo blocks  are to be used subsequently by the content delivery facility  to program the user's STB with actions to perform in response to particular user input events received by the STB during playing of the current segment, or to determine what action the content delivery facility  itself should take in response to particular notifications received from the STB. In a package for an embodiment such as that shown in , in which directional buttons on the user's remote have no meaning, the segment metadata block  might contain only one NavigationInfo block . This block specifies the ID or URI of a target asset that should be delivered to the user's STB in response to an event indicating that the user has pressed the OK button on the remote. Specifically, the NavigationInfo block  within the segment metadablock  corresponding to the segment in which VOD icon  is highlighted, contains an identifier and\/or URI for the asset of . Similarly, the NavigationInfo block  within the segment metadablock  corresponding to the segment in which WebCatch icon  is highlighted, contains an identifier and\/or URI for the asset of . In the embodiment of , in the metadata block for either segment, the EventType and EventActionType fields in this NavigationInfo block might contain codes which together indicate \u201cuser pressed OK button\u201d; and the EventActionDestination field in this NavigationInfo block might contain the identifier and\/or URI for the full asset associated with the current segment.","In a package for an embodiment such as the internet video asset shown in , in which UP and DOWN buttons indicate previous and next segment or internet video clip within the current collection, each of the segment metadata blocks in a collection contains one NavigationInfo block  indicating an action to perform in response to an event indicating that the user has pressed the UP button on the remote, and another NavigationInfo block  indicating an action to perform in response to an event indicating that the user has pressed the DOWN button on the remote. In both blocks , the action to take is impliedly to simply send an EventNotify code upstream to the content delivery facility  indicating which segment the user has requested. The NavigationInfo block  contains the code to be sent. In one embodiment, the code indicates only which button was pressed, i.e. UP or DOWN. It is left to the content delivery facility  to know which segment is the \u2018current\u2019 segment (i.e. the segment that was being transmitted at the time the user pressed the button), and to determine the identifier and location of the requested segment based on the current segment and the particular code received. In another embodiment, the code points to the requested segment directly. The latter embodiment is possible because it is known at the time of content preparation which segment is previous and which segment is next in the default sequence in the collection; pointers directly to those segments can be inserted into the metadata package at that time.","Note that some segments might include only one NavigationInfo block. For example the first segment in the default sequence might not include a NavigationInfo block for user pressing of the UP button, because unless the collection default sequence loops, there is no previous' segment. Similarly, the last segment in the default sequence might not include a NavigationInfo block for user pressing of the DOWN button, if there is no \u2018next\u2019 segment. Also, some segments might not include any NavigationInfo blocks at all, for example for segments in which navigation is disabled. Finally, note in the package for , many segments might not include a NavigationInfo block for user pressing of the OK button, since that button has no meaning in . In the  variation, however, the segment metadata block for the segment in which the ad cue  appears on the display, would include a NavigationInfo block for user pressing of the OK button. This block would identify the video asset containing the full advertisement.","Returning to the internet video asset depicted in , LEFT and RIGHT buttons indicate previous and next collection. For segments in which these buttons are enabled, the corresponding segment metadata blocks  also include one NavigationInfo block  containing the code to be sent in response to an event indicating that the user has pressed the LEFT button, and another NavigationInfo block  containing the code to be sent in response to an event indicating that the user has pressed the RIGHT button. Again, these codes could indicate only the button pressed, leaving it to the content delivery facility  to know the current collection and to resolve the button press to the collection requested, or they could more directly indicate the collection requested.","In a package for an asset such as the VOD selection embodiment of , the roles of the LEFT\/RIGHT buttons and the UP\/DOWN buttons are reversed, LEFT\/RIGHT operating to navigate among segments in the current collection, and UP\/DOWN operating to navigate among different collections. The segment metadata blocks  include appropriate ones of the NavigationInfo blocks  to appropriately identify to the content delivery facility  of the desired segment or collection. The VOD embodiment of  also enables the OK button for all segments in all collections. As mentioned, user pressing of the OK button during transmission of the segment corresponding to a particular movie title, causes the content delivery facility  to stop delivering the current segment and to start delivering the corresponding movie title itself. To enable this the segment metadata block  for each of the segments in each of the collections includes a NavigationInfo block  containing a pointer to the movie title itself.","It will be appreciated that the package metadata organization of  is only one example of many that can carry the information required to implement internally navigable multi-segment assets. Numerous other formats will be apparent to the reader. As one additional example, in an embodiment in which certain information is identical from metadata block to block, that information can be removed from the individual blocks and included instead only once at the next higher level of the metadata hierarchy. For example, in an embodiment in which the STB is to return codes fixedly corresponding to the four directional buttons (e.g. always 101 for LEFT, 102 for RIGHT, 103 for UP, 104 for DOWN), then NavigationInfo blocks containing this information can be omitted from the individual segment metadata blocks  and included instead only once in the collection metadata block . Other variations will be apparent.","The package metadata format shown in  contains all the metadata required for an entire video asset, such as the internet video asset of , or the VOD asset of . However, whereas the entire package is maintained addressably to the content preparation facility , and addressably to the content delivery facility , the entire package need not be transmitted from one to the other for each update. In an embodiment, an ingestible package delivered to the content delivery facility can instead include only updates to the packages previously delivered. In one example, an ingestible package might include the metadata for only one updated collection, or for a subset of collections, or for only one or a subset of individual segments. Other variations will be apparent.","Content Delivery Facility",{"@attributes":{"id":"p-0074","num":"0100"},"figref":["FIG. 8","FIG. 8","FIG. 8"],"b":"112"},"Content delivery facility  includes a backend management system (BMS) , which includes a VOD asset management system (AMS) , an asset propagation manager manager (APM) , an on-demand resource manager (ODRM)  and a session manager (SM) . The facility  also includes a multi-segment asset manager (MSAM) , which includes a multi-segment asset catcher (MSAC)  and a multi-segment asset propagator (MSAP) . The facility  also includes one or more multi-segment asset proxies (MSAP) , each of which includes a multi-segment session manager (MSSM)  and a multi-segment session controller (MSSC) . The facility  also includes one or more VOD servers , which are the devices that actually transmit streaming video to the STB . In an embodiment, server  represents a cluster of VOD servers, all of which appear to the other elements of the facility as a single server. The cluster is governed by one of the multi-segment asset proxies .","In operation, an internally navigable multi-segment asset is received from the content preparation facility in the form of an ingestible package through an FTP upload. As previously described, this package includes the actual video segments and the associated metadata. The associated metadata includes conventional asset description information (e.g. the information called for in the Asset Distribution Interface (ADI) defined by CableLabs\u00ae), and navigation logic (e.g. that in the segment metadata blocks of ). The segments in the content package have their own identifiers which are understandable only to multi-segment asset enabled components of the content delivery facility , so the package also has associated with it an \u201calias asset\u201d identifier that identifies the asset as a whole to conventional components of the facility.","On arrival, the ingestible package is recognized by the multi-segment asset catcher , which sends an ADI Trigger message to the AMS , providing the alias asset identifier for the package. The ADI Trigger message notifies the BMS  that a new asset has arrived and will be available for streaming. The asset appears to the BMS  similar to a single movie; the BMS  does not need to know that it has multiple segments and is internally navigable. AMS  then sends a conventional notification to the asset propagation manager , which then sends a conventional command to the multi-segment asset propagator . When the multi-segment asset propagator  receives the latter command it performs the following actions:\n\n","The VOD server  is enhanced relative to conventional VOD servers in order to support intra-asset navigation among segments and collections. Since the overall network might include conventional as well as enhanced VOD servers, MSAP  delivers the video segments to the VOD servers in such a way that only the enhanced servers ingest them. In one embodiment this is achieved through the use of a field in the ADI trigger message sent by the multi-segment catcher  to the AMS , available to indicate \u201ccapabilities\u201d required of destination VOD servers. The MSC  fills the \u201ccapabilities\u201d field with a code indicating that the alias asset subject of the ADI trigger can be played only on servers having intra-asset navigation support, and only the enhanced servers are registered in the BMS as supporting that capability.","At the conclusion of the ingestion process, one or more VOD servers  now contain all the individual video segments from the package, and the multi-segment asset proxy  contains all required metadata from the segment metadata blocks  of the package. These data (the video segments and the metadata) need not be stored physically in the VOD servers  or multi-segment asset proxy , so long as they are stored \u201caddressably\u201d to the VOD servers  or multi-segment asset proxy . As used herein, data is stored \u201caddressably\u201d to a component if the component knows how to reach it and can cause it to be played, either by itself retrieving it and transmitting it, or by causing another component to do so.","Streaming Content Delivery","As for conventional video assets, internally navigable multi-segment assets are streamed to end-users' client devices, such as STB , in accordance with a standard and well-known session-oriented protocol. Two examples of such protocols are those defined by Time Warner Cable's Next Generation On Demand (NGOD) architecture, and those defined by Comcast's Interactive Services Architecture (ISA). See U.S. Patent Publication No. 20070033282 and Time Warner Cable, \u201cPegasus Interactive Services Architecture\u201d Version 1.4, (Jun. 5, 2003), both incorporated herein by reference. As used herein, a session-oriented protocol is one which delivers content to client devices within defined \u201csessions\u201d. A \u201csession\u201d, as used herein, is a unique bandwidth and time allocation between head-end equipment and one end-user client device (e.g. STB). In various embodiments other resources may also be allocated to particular sessions, such as a particular VOD server, and a particular RF carrier frequency on which the content is to be delivered. A \u201csession\u201d also is typically given a unique session ID, by which various components of the system can refer to it. A session-oriented protocol includes mechanisms for setting up a session (including allocating the bandwidth and time for the session, and assigning the session ID), and mechanisms for tearing one down (including releasing the bandwidth allocation). Session setup may also include interacting with billing and subscriber management systems to ensure that the client device has the proper rights to view the content requested for the session.",{"@attributes":{"id":"p-0082","num":"0111"},"figref":["FIG. 9","FIG. 9"],"b":["114","810","830","832","810","910","832"]},"Referring to , a user is cued by conventional means, such as a VOD menu, to play a particular asset that happens to be an internally navigable multi-segment asset. Upon selecting the asset, the native VOD client in STB  issues a session setup request to the BMS , specifying the alias asset ID of the requested asset. The BMS  performs appropriate session setup functions including interacting with billing and subscriber management systems, assigning a unique session ID, selecting and allocating a VOD server  which holds the asset represented by the alias asset ID, and allocating bandwidth, time and a carrier frequency on which the asset is to be transmitted to the STB. In step  the BMS  then sends a session setup request to the multi-segment asset proxy  for the allocated VOD server . This request includes, among other things, the alias asset ID, the session ID, and the carrier transmission frequency allocated. In step  the BMS  also transmits an acknowledgement to the STB , including, among other things, the session ID and the allocated carrier frequency. The multi-segment asset proxy , upon receipt of the session setup request in step , determines the default starting segment in the default starting collection of the multi-segment asset corresponding to the alias asset ID, and forwards the session setup request to the appropriate VOD server  (step ).","In step , the VOD server  begins transmitting the video segments in the default starting collection toward the client device in accordance with the default sequence for that collection. The video is transmitted in accordance with well-known transmission standards and protocols, such as MPEG2 or MPEG4. These transmission protocols also allocate a small amount of bandwidth usable for transmission of an application script, executable on the ITV client in the STB. In the system of , each segment of the asset has a respective application script associated with it, and which is transmitted to the STB in association with the corresponding segment video. Preferably the association with segment video is established by transmitting the application script in-band together with the corresponding segment video, and in an embodiment, repeatedly throughout the transmission of the segment. In one embodiment, the scripts and their transmission protocols conform to the specifications set forth in the following CableLabs\u00ae documents, all incorporated by reference herein: Cable Television Laboratories, Inc., \u201cOpenCable Enhanced TV Application Messaging Protocol 1.0\u201d ETV-AM1.0 Sep. 21, 2007 Issued I04\u2033; Cable Television Laboratories, Inc., \u201cOpenCable ETV-Binary Interchange Format 1.0\u201d ETV-BIF1.0 Sep. 21, 2007 Issued I04; Cable Television Laboratories, Inc., \u201cEnhanced TV User Interface Guidelines\u201d ETV-UIG Apr. 18, 2006 Released V02; Cable Television Laboratories, Inc., \u201cEnhanced TV Operational Guidelines\u201d ETV-OG Jul. 14, 2006 Released Vol; and Cable Television Laboratories, Inc., \u201cOpenCable Receiver Metrics Gathering Specification\u201d SP-METRICS Apr. 16, 2007 Issued 102. In other embodiments, the application scripts and their transmission protocols can conform to other specifications.","The application scripts are derived from the information in the NavigationInfo metadata blocks . In one embodiment they are constructed by the content preparation facility  and delivered to the content delivery facility  as part of the ingestible package. Alternatively they can be constructed by MSC  from the NavigationInfo metadata blocks  as part of the ingestion process, and stored until needed. In yet another embodiment only the NavigationInfo metadata blocks  are stored, and the application scripts are constructed on-the-fly as each segment is about to be transmitted.","The scripts themselves can be very simple. The following is example pseudocode for such a script, for a segment in which the NavigationInfo metadata blocks  define actions for all four directional navigational buttons as well as for the OK button:\n\n","Note that the full asset (if there is one) corresponding to each segment was identified in a NavigationInfo block  for that segment, and that asset identification is what gets embedded in the application script for forwarding to the VOD client. Note also that as previously mentioned, in another embodiment the codes sent in the EventNotify signals to the MSAP  contain the internal asset identifier for the segment selected by the user through the button press, rather than a fixed code corresponding to each respective one of the directional buttons. Still further, note that in an embodiment, the application script contains actions only for user input events that are included in the NavigationInfo blocks  for the corresponding segment. If the currently playing asset is that depicted in , for example, then the scripts for all segments would omit any action to be performed in response to presses of any of the directional buttons. Finally, note that while an internally navigable multi-segment asset is playing, the standard VOD \u201ctrick-mode\u201d commands of fast-forward, rewind, and pause\/play may be disabled in order to avoid confusing situations.","In step , the STB  begins playing the received video segment(s). Each transmission of the application script causes the STB  to load the script into the ITV client and execute it.","In a step , while the user is viewing the video asset segments, the user presses a key on the remote to indicate a selection among navigational choices. Note that in other embodiments, other mechanisms can be used to enable the user to indicate a selection among navigational choices, such as, for example, buttons on the STB  front panel, or voice commands. The ITV client on STB  executes the current application script, and transmits the corresponding EventNotify signal to the application sever  (step ). In an embodiment, the EventNotify signal is transmitted using an HTTP Post command with an XML structure such as the following passed as a variable:",{"@attributes":{"id":"p-0090","num":"0126"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<?xml version=\u20331.0\u2033 encoding=\u2033utf-8\u2033?>"]},{"entry":[{},"<EventDetails>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"SessionID=\u201dDDBE18377\u201d"]},{"entry":[{},"EventID=\u201d100\u201d"]},{"entry":[{},"EventData=\u201d\u201d"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<EventDetails\/>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}},"br":{}},"The application server  then determines the segment intended for selection by the user (step ). In an embodiment in which the EventNotify signals contain only a fixed code corresponding to each button, the application server  determines the selected segment in dependence upon its knowledge of the current segment that was being transmitted at the time of the button press, and the received code indicating the particular button pressed. For example, if the current segment is the third segment in the current collection, and the received code indicates that the user pressed the LEFT button, and the currently playing asset is organized such that the LEFT button indicates Previous segment, then the application server determines here that the selected segment is the one that is previous to the current segment in the default segment sequence of the current collection.","In step , the application server  sends a message to the VOD server  to jump to a new segment, and identifies the internal segment ID corresponding to the selected segment. Without tearing down the session, the VOD server  then awaits the next exit position within the current segment (if seamless splicing is in use), stops transmitting the current segment, and jumps to the selected segment as identified by the application server . In step , the VOD server  continues transmitting from the beginning of the selected segment. The application script corresponding to the new segment is also transmitted to the STB in the manner set forth above.","In step , during transmission of this segment or a subsequent segment, the user may press another button on the remote. This again invokes the then-current application script and the process repeats with step  as set forth above.","Note that if the user does not press any navigation buttons before the conclusion of a segment, the VOD server  issues a segment end event to multi-segment asset proxy . Assuming the default sequence of segments in the current collection includes one that is \u2018next\u2019 after the current segment, the multi-segment asset proxy  determines which one it is, and notifies the VOD server  to resume transmission with the next segment. Alternatively, the default sequence can be loaded into the VOD server , which plays through it unless interrupted with additional commands from the MSP . In either case, play-through occurs without tearing down the session.","At some point, in step , either a timeout expires with no key presses, or the user navigates away from the current multi-segment asset, for example by pressing the OK button or the MENU or GUIDE buttons. When this occurs, in step , the STB  issues a request to tear down the current session. The BMS receives this request and deallocates all the resources that had been allocated to the session. The session teardown message is then forwarded to the VOD server  (step ), which drains the video stream and proceeds to its next task (step ).","It can be seen that the embodiments described above provide a new \u201clean-back\u201d experience made possible by the use of internally navigable multi-segment assets. The user interface for navigating amongst the segments is encoded into the collection itself. It is not necessary for the viewer to go to a menu to navigate to a different video, as is commonly required in conventional VOD systems. Instead, the viewer simply issues navigation commands via the remote (or via another command input device). The navigation commands are substantially intuitive based on the visual cues in the on-screen image. Additionally, no changes to user equipment or client applications are required. This is a major advantage for the system as the deployment of new applications to STBs is difficult.","The ability to jump among clips or segments within a single composite asset is a significant benefit also because by avoiding the lengthy delays of session setup and teardown, it renders the playing of short videos practical. As mentioned, it is typical in a VOD system that the starting of a new movie or other asset requires the head end servers to access subscriber databases to determine the user's authorization to view the asset, and\/or to effect payment for the asset, often including interaction with the user before the asset can be transmitted. These delays will seem inordinately lengthy for jumping among internet video clips which often are only a few seconds long. Moreover, the brevity of internet clips also increases the likelihood that the user would want to view a much larger number of them in a sitting. Even a short startup delay will add up to a very long period of waiting when multiplied by this number of clips. Again, by combining the clips into a single asset and providing the user the capability to jump around within the asset, no more than one session setup delay is incurred for the entire collection.","As used herein, a given signal, event or value is \u201cresponsive\u201d to a predecessor signal, event or value if the predecessor signal, event or value influenced the given signal, event or value. If there is an intervening processing element, step or time period, the given signal, event or value can still be \u201cresponsive\u201d to the predecessor signal, event or value. If the intervening processing element or step combines more than one signal, event or value, the signal output of the processing element or step is considered \u201cresponsive\u201d to each of the signal, event or value inputs. If the given signal, event or value is the same as the predecessor signal, event or value, this is merely a degenerate case in which the given signal, event or value is still considered to be \u201cresponsive\u201d to the predecessor signal, event or value. \u201cDependency\u201d of a given signal, event or value upon another signal, event or value is defined similarly.","Also as used herein, the \u201cidentification\u201d of an item of information does not necessarily require the direct specification of that item of information. Information can be \u201cidentified\u201d in a field by simply referring to the actual information through one or more layers of indirection, or by identifying one or more items of different information which are together sufficient to determine the actual item of information. In addition, the term \u201cindicate\u201d is used herein to mean the same as \u201cidentify\u201d.","Documents incorporated by reference herein (including the provisional application) are incorporated for their substantive teachings, not for their definitions or usage of terms. That is, while reference may be made to these documents for industry use of terms, their status as incorporated documents is not intended to afford them any special weight when interpreting terms.","The invention may be practiced as a method or as a system adapted to practice the method. The method can be viewed from the perspective of the head-end equipment, and may also be viewed from the perspective of the client device (e.g. STB). The invention may also be viewed as an article of manufacture such as media impressed with logic to carry out the method, and as an article of manufacture such as media impressed with an asset or parts of an asset as described herein.","While the invention is described herein by reference to preferred embodiments and examples detailed above, it is understood that these examples are intended in an illustrative rather than in a limiting sense. Numerous variations are possible within the scope of the invention. As one example, whereas the assets depicted in  allow two degrees of navigational freedom (previous\/next clip, and previous\/next collection), and the asset depicted in  allows hierarchical navigation among assets, other navigational paradigms are possible as well. Some of these might involve buttons on the remote other than UP, SOWN, LEFT and RIGHT. It is contemplated that these modifications and others will readily occur to those skilled in the art, which modifications will be within the spirit of the invention and the scope of the following claims."],"BRFSUM":[{},{}],"heading":["BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The invention will be described with respect to particular embodiments thereof, and reference will be made to the figures, in which:",{"@attributes":{"id":"p-0012","num":"0016"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0013","num":"0017"},"figref":"FIGS. 2-5"},{"@attributes":{"id":"p-0014","num":"0018"},"figref":"FIGS. 6A","b":["6","6"]},{"@attributes":{"id":"p-0015","num":"0019"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0016","num":"0020"},"figref":["FIG. 8","FIG. 1"]},{"@attributes":{"id":"p-0017","num":"0021"},"figref":"FIG. 9"}]},"DETDESC":[{},{}]}
