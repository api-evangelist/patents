---
title: Virtual environment navigation aid
abstract: A virtual environment browser () holds a number of clip-in files () defining guide charactersâ€”locally generated visual aids to navigation that appear within a generated image of a virtual environment and follow a user's input () navigational commands to provide an advance cue as to the effects of an input command. Where the virtual environment data is supplied from a remote source () and includes () an indication of a preferred mode for navigating that environment, for example, flying or walking, the browser () detects this indication and automatically selects the appropriate guide character. Scaling () of the guide character to match the scale of the virtual environment, or such as to render the guide character unobtrusive, may also be provided.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06995759&OS=06995759&RS=06995759
owner: Koninklijke Philips Electronics N.V.
number: 06995759
owner_city: Eindhoven
owner_country: NL
publication_date: 19981013
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DESCRIPTION OF THE PREFERRED EMBODIMENTS"],"p":["1. Field of the Invention","The present invention relates to apparatus for accessing, from a remote source, data defining a graphical representation of a virtual environment, with the user being enabled to navigate by selecting and controllably altering a viewpoint within the virtual environment, the apparatus having means for rendering a display of the virtual environment from that viewpoint.","2. Description of the Related Art","A description of a service providing a virtual environment (or cyber-space) accessible by remote users is given in European Patent Application No. EP-A-0 697 613, corresponding to U.S. Pat. No. 6,085,256 (Sony Corp.). The system described includes a server providing a virtual reality space, and user terminals connected to the server via a high-speed communications network (using optical fibers or the like). In operation, the server maintains a number of virtual environments and supports many differing terminal types by the use of conversion objects between information objects and user objects, i.e., the conversion objects provide individually tailored translation for communications back and forth between each type of terminal and each configuration of virtual environment supported. A particular benefit arises when the format of data storage and representation for virtual environments is at least partially standardized, allowing for greater interchange between systems of different manufacturers as well as a reduction in the necessity for individually tailored translation utilities. With at least partial standardization, the necessary configuration of a browser for accessing such data, whether in hardware or software implementation or a mixture of the two, becomes simpler.","A notable example of standardization in the field of data-defining virtual environments is the so-called Virtual Reality Modelling Language (VRML) as described, for example, in the VRML standard, version 2.0, issued as ISO\/IEC WD14772 on Aug. 4, 1996. VRML is a file format for describing interactive three-dimensional objects and worlds to be experienced on the Internet\/World Wide Web and it is generally analogous to the way HTML (HyperText Markup Language) is used to describe documents for transmission over the Internet. A number of examples of VRML browsers are discussed in \u201cBuilding VRML Worlds\u201d by E. Tittel et al., published by McGraw Hill 1997, ISBN 0-07-882233-5, at pages 26 to 31. The functionalities of the different browsers depend, to a large extent, on their target host system and the likely uses of the same, as well as whether they are purpose-built\/written or whether they are modifications of earlier utilities.","As the number of different systems providing virtual environments, and the number of different navigation and interaction techniques, increase coupled with the increasing number of users accessing such systems, a need has arisen for a means to allow inexperienced users to simply navigate virtual environments. The problem is one of perception coupled with expectation, i.e., even where the virtual environment is a close simulation of a real-world scenario, the inexperienced user may be put off by the process of learning a new way to navigate what should be a familiar situation. Because of the possibilities offered to the designer, many virtual environments present exotic and fantastic scenarios that even the experienced \u201cvirtual navigator\u201d can find difficulty with at first.","It is an object of the present invention to provide a user operable means for browsing data defining a virtual environment and rendering a view of the same, including the generation of a visual aid to assist user navigation of the environment.","In accordance with the present invention, there is provided a data processing apparatus configured as a virtual environment data browser, the apparatus comprising a processor coupled with at least one memory device and data network interface means capable of receiving data defining a virtual environment and objects therein when coupled to a data network including a source of such data, the apparatus further comprising user input means and rendering means configured to periodically generate an image based on said data defining the virtual environment and objects and from a viewpoint at a location and with an orientation in said virtual environment determined at least partially by input from said user input means, characterized in that the apparatus further comprises a clip store containing data defining the appearance of a further virtual environment object when viewed from a plurality of directions, the rendering means being configured to generate an image of said further virtual environment object from one of said plurality of directions determined by the user input commands to move said viewpoint, and to patch said generated image into the image of the virtual environment.","This locally stored and clipped-in object appears in front of the user and follows the user's navigational commands, giving a quicker understanding of the effects of particular control operations in the context of their result in the virtual environment. Due to the local storage within the browser of this \u201cguiding\u201d object, the same object (which, for example, might represent a cartoon character) provides the user with a familiar point of reference when navigating unfamiliar environments.","Where the virtual environment supports two or more different modes for movement within that environment, the apparatus clip store preferably contains data for at least one different further virtual environment object (guiding object) for each mode. As an example, where the virtual environment supports walking and flying modes (as in the case of VRML 2.0), respective guide objects in the shape of a car and a bird may be provided to remind the user that navigation is primarily in two or three dimensions, respectively. In this multi-mode case, where the received data defining the virtual environment includes specification of a mode for movement, the apparatus may suitably be configured to detect such specification and to automatically select an appropriate further virtual environment object.","To increase the general level of usability, the clip store may contain data defining a plurality of further virtual environment objects, with the apparatus being further configured to generate a display of said objects from which the user may select one such object. This would allow the user to set up their browser with a guiding object that they felt most comfortable with, for example, one that they do not find to be unduly obtrusive such a's would otherwise distract them from the virtual environment itself. Where such user selection is supported, the selection may be made from a menu or line-up of the objects, requiring one or more user operations of the user input means to select a particular guiding object, i.e., in such circumstances, it is preferable that the same controls as the user employs for navigating are used for selection of the guiding object.","Where the received data defining the virtual environment includes specification of a scale factor, the apparatus may suitably be configured to detect said specification and cause the rendering means to increase or decrease the size of the image of the further virtual environment object in accordance with this scale factor prior to patching of the rendered image into the image of the virtual environment. As an example, the received scale factor may comprise an indication of what, in terms of the virtual environment co-ordinate system, comprises a height of 1 meter thereby allowing the browser to scale the guiding object to an appropriate size in terms of the environment. Alternately, or additionally, this scaling of the guiding object may be controlled by the user, such as to reduce the size of an object that they would otherwise consider obtrusive. As a further feature, the browser may enable the user to disable the generation and patching in of the image of the further virtual environment object, effectively switching off the guiding object, which may be desirable once the user has become comfortable with the navigational controls.",{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 1","b":["10","12","14","16"]},"Also coupled to the CPU  via bus  are first and second user input devices ,  which may suitably comprise a keyboard and a cursor control and selection device such as a mouse or trackball. Audio output from the system is via one or more speakers  driven by an audio processing stage . In addition to providing amplification, the audio processing stage is preferably also configured to provide a signal processing capability under the control of the CPU  to allow the addition of sound treatments, such as echo, to existing audio data. Video output from the system is presented on display screen  driven by display driver stage  under control of the CPU .","A further source of data for the system is via an on-line link to remote sites, for example, via the Internet, to which end the system is provided with a network interface  coupled to the bus . The precise construction of the interface is not an essential feature of the present invention, although it will be recognized that the interface configuration will depend on the type of data network to which the system is to be coupled, i.e., for example, where the system is for use by a private home user, the data link is likely to be a telephone connection to a local service provider. In such a case, the interface  will suitably incorporate a modem. For other types of data link, such as an ISDN connection, the interface will be configured accordingly.","Turning now to , the inter-relationship of a number of functions assembled to configure the hardware of  as a browser is illustrated. The functions in the example illustrated are particularly suited for browsing virtual environments defined in accordance with the VRML standard, version 2.0, issued as ISO\/IEC WD14772 on 4 Aug. 1996, although it will be understood that the present invention is not restricted by, or limited to, conformance with this standard. Only those functions particularly required to support the navigational aid provided by the guiding object will be described in detail. A fuller description of the remaining features is given in the commonly assigned UK Patent Application 9711001.1, filed 29 May 1997, and unpublished at the priority date of the present application.","The browser is based around a scene manager  coupled with respective stores for functions , assets , and a hierarchy of scene nodes . In terms of the hardware of , the function, asset and hierarchy stores will generally be held in RAM , although some of the assets (including the clip-in files specifying the appearance of the various guiding objects as well as, for example, standardized texture maps) may be provided via off-line storage, such as CD-ROM. The browser implementation program is suitably held in ROM , optionally linked to the boot-up utility of the system. Also coupled with the scene manager are four interfaces (IF.\u2013IF.) \u2013 and a clock . The first of the four interfaces  corresponds, in part, to interface  of , in that it represents the source of data received via the Internet, i.e., as represented by dashed line , the received data may be passed on from the interface to other (not shown) destinations, such as a further browser for HTML content in the received data. The first interface is the general arrival point for the data defining the virtual environment and, as such, it may also receive data from more local sources, such as storage on the system RAM (; ) or a CD-ROM.","From the first interface, the data passes to a parsing stage  which divides it into data defining or relating to assets (which data is then passed to store ) and data defining or relating to the run-time node hierarchy (which data is then passed to store ). In operation, it will generally be the case that only the data required (in terms of texture, co-ordinates, etc.) immediately or in the short term will actually be loaded up by the browser. Related information not immediately required is instead held in the form of an address for its current storage location, i.e., in the case of data called up via the Internet, the data held by the browser will suitably be a URL (uniform resource locator) so that the browser can simply call up the data, via the first interface IF., when the need for it becomes imminent.","The second interface  is an external API (application programming interface) comprising a set of interfacing subroutines required to enable multiple-user extensions to the system, such as two or more users having respective viewpoints within a common environment.","The third interface  is for operational segments used to program behavior in a scene, i.e., these segments are referred to, in VRML, as script nodes. The script nodes contain a program module which, in response to a change or user action within a scene, effect a change somewhere else in the scene depending on the contents of the program module. The program modules may suitably contain Java\u00ae language segments (Java is the object-oriented platform-independent and general-purpose programming environment developed by Sun Microsystems Inc). The third interface  provides a path to a Java interpreter which converts the Java segments from their platform-independent form to a form recognized by the host system. These script nodes may include a locally stored group associated with the clip-in guidance objects, such that the stored data defining the appearance of the object from multiple viewpoints may comprise a collection of three-dimensional VRML objects with a linking hierarchy defining their assembly to a three-dimensional guide character whose actions are partially straightforward responses to user navigational input, and partially due to one or more associated script nodes controlling a limited animation of the character. For example, the components may assemble to a humanoid guide object that beckons or starts to jump up and down if the user does not input navigational commands for a predetermined period.","The fourth interface  handles the passing of signals from (and in some instances to) the user input devices.","The functions (functional modules) held in store  include an audio manager, an MPEG decoder, features for node run-time implementations (such as collision detectors, three-dimensional pickers, viewpoint control (handling changes to the viewpoint location and\/or orientation from which the image of the virtual environment is to be generated, in response to program instruction or user input)), and routing mechanisms.","The assets within store  are the basic building blocks and operational features from which the virtual environment is built up. These include three-dimensional geometry (defining the configuration and relative location of the polygons to be assembled for the virtual environment), textures, audio data, Java\u00ae code, user interaction data (for example, viewpoint control modes, identification of different user input devices, and so forth), and MPEG data.","The further store for run-time structures  contains the VRML scene graph together with routes to allow dynamic behavior. The scene graph is a hierarchical file specifying the connections between the various geometrical components making up an object within the virtual environment.",{"@attributes":{"id":"p-0031","num":"0030"},"figref":["FIG. 3","FIG. 2"],"b":["60","62","64"]},"As described, the browser  includes a VRML engine  which \u201cbuilds\u201d the virtual world based on stored three-dimensional geometry data, textures, and other contributing data including scripted run-time animations. All of these features are combined by the engine  into a data stream to renderer  which assembles and periodically updates the image provided to the user of the virtual environment.","Coupled with the browser  are three stored clip-in files , , , each containing data defining one or more guide objects, with each stored filed being associated with a different mode for travelling through\/interacting with the virtual environment. These files may suitably be stored in system ROM (; ) or loaded from an external source (e.g., CD-ROM). The different modes represented are \u201cwalking\u201d for the clip-in file , i.e., as with the motion of the user's viewpoint, the guide object will be capable of motion predominantly in two dimensions (although climbing stairs, walking up ramps, etc., may be accommodated). The second mode for which the guide character specified in clip-in file  is designed, is \u201cflying\u201d where the user has freedom of motion in three dimensions. The third mode is \u201cexamining\u201d, for which the guide object specified by clip-in file  may be under more direct user control, for example, a simulation of a human hand which may be controlled to interact with other objects within the virtual environment.","Accessing the stored clip-in files, and selecting between them is switch . Where the external source of the virtual environment includes a specification (from ) of the most appropriate navigation mode for the particular environment currently being downloaded, this specification may be passed as shown to the switch  which automatically selects the appropriate clip-in file, and hence the appropriate guide object. Alternatively, or in addition, user input from UID  may determine the selection of the user's desired navigational guide object.","The output from switch  may be passed direct to a mixer  which adds the data defining the guide object to that defining the virtual environment and objects therein, as received from the remote source , such that the guide object will appear in the rendered image of the environment, with an object direction and\/or orientation selected according to the input from UID , which input suitably thereafter effects relocation of the user viewpoint within the virtual environment. Preferably, however, before incorporation by the mixer, the guide object data is treated by scaling unit  to provide a guide in proportion to the virtual environment. An appropriate scaling factor may be included in the externally supplied data (from ) or, as with the clip selection, it may be chosen in response to user input.",{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 4","b":["90","64","62","80","90","92","92"]},"As shown, the UID  may comprise a number of specialist controls for navigation within a virtual environment, i.e., it should be noted that the following navigational controls should not be taken as essential features, nor as the only possible controls, but only as examples of what may be provided. The UID  may suitably include four keys , , ,  specifying movement in differing directions. Where only two-dimensional movement is supported, the keys may support forward , backward , right  or left  motion. Where movement in three dimensions is supported, the keys may specify up , down , right , left , and forwards horizontally ( and  together). A further key  may cause the object to rotate about a vertical axis, as indicated. Further specialist keys may be provided to increase () or decrease () the size of the guide character relative to its surroundings, to change the selected form of the guide character (), or to switch it off altogether () as may be desired once the user feels confident navigating the virtual environment and no longer requires the assistance of the guide object.","Although defined principally in terms of a software browser implementation, the skilled reader will be well aware than many of the above-described functional features could equally well be implemented in hardware.","From reading the present disclosure, other modifications will be apparent to persons skilled in the art. Such modifications may involve other features which are already known in the design, manufacture and use of image processing and\/or data network access apparatus and devices and component parts thereof and which may be used instead of, or in addition to, features already described herein. Although claims have been formulated in this application to particular combinations of features, it should be understood that the scope of the disclosure of the present application also includes any novel feature or novel combination of features disclosed herein either explicitly or implicitly or any generalization thereof, whether or not it relates to the same invention as presently claimed in any claim and whether or not it mitigates any or all of the same technical problems as does the present invention. Applicants hereby give notice that new claims may be formulated to such features and\/or combinations of such features during the prosecution of the present application or of any further application derived therefrom."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The invention will now be described, by way of example only, with reference to the accompanying drawings, in which:",{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 4"}]},"DETDESC":[{},{}]}
