---
title: Systems and methods for providing visibility to SS7 integrated on-line networks
abstract: A system and method capture data from an SS7 network and pair each invoke message with its corresponding response message. Each message is stored in a daily file as well as in a table dedicated for that particular message type. A separate file is also maintained on each MIN and holds the most current registration information for each MIN. The system and method support four different types of queries: a MIN/ESN query, an active roamer query, a switch-to-switch query, and a transaction statistics query. The MIN/ESN query provides roaming activity on a specific MIN or ESN while the active roamer query provides information on all roamers in a serving market. The switch-to-switch query reveals messaging at one switch or between two switches. The statistics query provides data to a provider on all of its subscribers roaming in foreign networks or on all phones within its own network. The system has a Graphical User Interface (GUI) for displaying information on each message in an easy and convenient manner. The details of a record are displayed in a tabular format with each tab holding data for a group of parameters.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07027809&OS=07027809&RS=07027809
owner: BellSouth Intellectual Property Corporation
number: 07027809
owner_city: Wilmington
owner_country: US
publication_date: 20020507
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"p":["This application is a continuation of U.S. application Ser. No. 09\/135,519, filed Aug. 17, 1998 now U.S. Pat. No. 6,501,950, entitled \u201cSystems and Methods for Providing Visibilitiy to SS7 Integrated On-Line Networks\u201d which is a continuation-in-part of U.S. application Ser. No. 08\/615,962, filed Mar. 14, 1996, entitled \u201cApparatus and Methods for Providing Wireless System Fraud and Visibility Data\u201d (now U.S. Pat. No. 6,014,557).","The present invention relates in general to the field of telecommunications and in particular to the field of wireless telecommunications systems administration, fraud detection, customer service, engineering support, and technical support.","The market for telecommunications services has grown at an extraordinary pace, and perhaps the greatest growth has occurred in the market for wireless communications, including cellular networks and personal communication systems.","Conventional wireless telecommunication systems employ numerous independent cellsites (\u201ccells\u201d). Each cell covers a designated geographic area and is connected via a dedicated network (usually leased lines or microwave) to a Mobile Switching Center (\u201cMSC\u201d) that is in turn connected to the Public Switched Telephone Network (\u201cPSTN\u201d). The MSC handles all call processing intelligence, switching functionality, fault detection and diagnostics. MSCs are also integral to the operation of recently developed Personal Communication Systems (\u201cPCSs\u201d), another type of wireless system. A PCS utilizes numerous \u201cmicrocells\u201d that blanket a high use area, or an area where terrain features limit transmission capabilities (e.g., a downtown office district with tall buildings.) Because of the greater number of cells, the PCS can handle a significantly greater volume of traffic. Located within each PCS microcell is a low power transmitter. After receiving the subscriber's signal, the low power transmitter communicates (normally via microwave, PSTN, or data lines) with a controller. The controller, in turn, communicates with the MSC. Each PCS or cellular network covers only a specified \u201chome\u201d geographic area. Consequently, as the mobile user moves out of the home area and into a \u201cforeign\u201d area, telecommunications service is provided by a \u201cforeign\u201d wireless service provider typically not associated with the user's home wireless service provider. Operation in a foreign area is known as \u201croaming.\u201d","The deployment of Signaling System Number 7 (\u201cSS7\u201d) networks for wireless systems like PCS or cellular networks has permitted carriers to supply a number of new applications to wireless systems' customers. SS7 is a highly flexible common channel signaling standard specifically designed for providing circuit and database related message flow control in networks. The feature enhancements to services made possible SS7 have accelerated its deployment. But most cellular systems continue to use services furnished by outside network providers. The high price of those services has tended to lead wireless services providers to deploy their own SS7 networks.","The fees associated with the use of network services provided by third parties, which may be charged on a per transaction basis, lead to higher consumer prices for wireless communications services. The cost of paying network providers to operate a SS7 or other network, and the consumer prices they result in, may represent a serious constraint on wireless growth. An additional impediment to growth in the market for wireless services is the absence of a seamless roaming environment. In a seamless roaming environment, enhanced communications services are provided to mobile subscribers as they move about the nation (or, more optimistically, through various parts of the world), without diminution in service as one crosses boundaries between service providers.","Fraudulent uses of wireless systems pose an even greater threat to growth of wireless communications. For example, industry fraud losses exceeded an estimated four hundred million dollars in 1994.","Geographic expansion of services permitted by the creation of a nationwide network has accelerated the already significant cellular fraud. The incidence of fraud has significantly worsened as carriers allow users to make calls from anywhere in the country. Losses for 1995 are estimated at over one and a half million dollars per day. Growth in fraud losses for the first time exceeds industry growth.","Indeed, some wireless service providers have been forced by the overwhelming costs of fraud to suspend roaming service in foreign areas where its incidence is high. Preventing or minimizing the fraudulent use of wireless systems is therefore a necessary precondition to putting the industry back on a solid growth track and developing a nationwide network providing seamless roaming.","Two types of fraud are prevalent. One is \u201ccloning fraud,\u201d in which a valid customer's mobile identification number (\u201cMIN\u201d) and\/or electronic serial number (\u201cESN\u201d) are \u201ccloned\u201d or copied into another cellular set. Most typically, cloning fraud is perpetrated in a foreign service provider's network. Even when the fraud occurs outside of the home service provider's network, the home service provider remains liable for the fraud, the costs of which directly diminish the service provider's revenue.","A second typical fraud problem involves subscribers who are not entitled to service (e.g., because they have failed to pay their bills or obtained service under false identities, etc.), but who nevertheless attempt to obtain roaming service in a foreign service provider's wireless system. Roaming involves a validation process to determine if the roamer is legitimate in its home system. The switches of systems located geographically close to one another are often coupled because those systems' customers will frequently roam into the adjacent area. These systems can directly communicate with one another to exchange validation requests and fraud control data. In any event, even if some switches of different systems were coupled, those switches may nevertheless be unable to communicate with one another to exchange validation requests and fraud control data for the simple reason that the switches may be incompatible with one another. As a result, a national clearinghouse system for handling fraud and roamer management has arisen.","A national clearinghouse typically has a database containing so called \u201cnegative files\u201d including lists of stolen phones and cloned MINs. The typical clearinghouse also couples to the MSCs of subscribing systems in order to access subscriber data, usually called the HLR or Home Location Register, to validate subscribers for whom services are being requested in a foreign market whose service provider is also a member of the clearinghouse network. A national clearinghouse is capable of providing on-line support as well as a data feed. The clearinghouse validates customers prior to allowing a request for telecommunications service to proceed. But by the time the clearinghouse checks its own database and then, if necessary, the database of the subscriber's carrier, the foreign carrier may already have permitted a fraudulent roaming communication to occur.","In order to detect \u201ccloning fraud,\u201d a service provider may use, among other methods, a fraud management system that develops usage profiles. These profiles are based on the communications traffic information for particular customers and are obtained from billing records and other sources. If a call does not match the customer's profile, an analyst may contact the customer. A fraud detection system (like CloneDetector available from GTE TSI (Telecommunications Services Inc.)) analyzes calling patterns to identify calls made close in time using identical MINs in widely-separated geographical areas. This type of condition generally indicates that one of the MINs is a clone. The customer corresponding to the MIN is contacted for confirmation and appropriate steps are taken to lock the clone out of the system.","Some clearinghouses are presently attempting to offer both fraud detection systems and customer on-line support systems intended to react in real time. Clearinghouses charge each subscribing service provider a per-transaction fee for providing fraud management services and also charge for certain on-line support data. In addition to charging transaction fees, clearinghouses incorporate each subscribing service provider's valuable and commercially sensitive customer information into a central pool within its exclusive control. Clearinghouses provide needed roamer visibility. But subscribing service providers lose the ability to obtain data on their own network transactions if they choose not to utilize the clearinghouses for validation for particular transactions. Data of this sort is critical, not only for network operation, but also for purposes of planning and marketing. Understandably, subscribing service providers also prefer to maintain control over their own customer profile and system traffic information. They thus prefer to eliminate the clearinghouse service and directly manage user validation for their own networks in order to eliminate the transaction fees charged by the clearinghouses and obtain their own on-line support data.","Subscribing service providers can circumvent the clearinghouse services by networking their switches with switches in foreign service providers' systems. This process is facilitated by deployment of SS7 networks, coupled with the advent of IS-41. IS-41 is an interim standard created by the Electronic Industry Association\/Telecommunications Industry Association (\u201cEIA\/TIA\u201d) that permits switches produced by different manufacturers to communicate with one another. IS-41 enables the switch of a home system of a roaming subscriber to communicate with a foreign system providing services to the roaming subscriber in order to transmit validation and customer profile information. IS-41 messages may be transported over SS7 networks that many service providers are already connected with or soon will be deploying. Other standards may be developed and will likely also be capable of transmission over SS7 networks. Using such standard message formats and protocols, switches belonging to differing service providers become capable of requesting validation data and exchanging customer profile information. This information sharing not only eliminates the high transaction charges associated with a national clearinghouse, but it also returns control of valuable, proprietary customer profile information to the service providers.","Since many such fraud detection systems (such as GTE's) obtain fraud control and customer support data feeds from links between an individual MSC and clearinghouse, as wireless service providers connect their switches directly using SS7 or another network, the data traffic occurring between such interconnected switches is no longer \u201cvisible\u201d to the clearinghouse system. In other words, clearinghouse systems often cannot obtain information on transactions involving wireless service providers whose switches are coupled directly to each other via the SS7 network.","Obviously, this is a problem that directly impedes clearinghouses ability to provide accurate and comprehensive fraud control and customer support data. The problem will accelerate as more service providers interconnect via SS7 or other networks. Such interconnections will increase as service providers take advantage of the flexibility of the SS7 network and new standards like IS-41 in order to interconnect directly with other service providers in adjacent geographic regions or in high use metropolitan areas frequented by business or tourist travelers.","Further, with the advent of SS7 networks, future service enhancements are likely. Those enhancements should be provided without disrupting fraud data feeds and other customer service operations; current systems do not eliminate or minimize disruptions, however.","As wireless service providers link their switches and move toward a nationwide network, \u201cthey will bypass the traditional methods of capturing roamer messages. They will have to assume more responsibility for insuring that the systems they use provide the required level of message visibility to maintain superior customer service and roamer management\u2014especially as more customers are roaming and using additional enhanced services.\u201d Rolando Espinosa, \u201cThe Industry's Most Important Challenge: Cellular Signaling Network Management,\u201d Telephony, Vol. 227 at 27 (Aug. 22, 1994.) The ongoing and projected future conversion to SS7 networks therefore requires new methods and systems to extract fraud control and customer support information.","Even for service providers that may not adopt the SS7 or other standard network protocols, fraud control and customer on-line support systems furnished by outside providers suffer from drawbacks, both technical and financial. Among their technical shortcomings, the systems may not provide the full fraud data feeds necessary for minimizing and managing network fraud. Nor do the systems provide complete message \u201cvisibility\u201d information on transactions with some of the carrier's closest roaming partners may not be obtained and transmitted to either the fraud control or customer support systems. Financially, reliance on outside network providers for fraud control and customer support systems costs service providers significant ongoing transaction fees.","Service providers face other difficulties which are only aggravated as they interconnect their switches to the switches of other service providers. Customer service, for example, is one aspect of operating a wireless network that becomes more of a challenge when subscribers roam into other service areas. Even when a subscriber has difficulty within the service provider's home network, isolating the source of the problem may take days or even weeks. The problem, for instance, could be with the subscriber's phone, with a particular switch within the provider's network, with the subscriber's billing system, or with a Home Location Register (HLR). Locating the problem is often accomplished through a process of elimination. When the problem occurs when the subscriber is roaming, the possible sources of the fault are compounded and additional time and expense may be incurred before the problem can be detected and corrected.","The difficulty in providing customer service is endemic of a larger difficulty in maintaining a service provider's network. Even when the source of the problem is known, such as a particular switch within the network, identifying and correcting the precise problem is often not an easy task. For a switch, the service provider must dispatch personnel to the switch so that they can monitor the operations of the switch. The personnel then try to replicate events that triggered the problem or fault in the hopes that they can detect the source of the fault. In general, the engineering and technical support personnel react to the problems and are often unable to stop problems before they occur. Additionally, the engineering and technical support personnel attempt to isolate and correct problems by monitoring future activity of the network and do not have clear records as to what occurred in the past at the time of the problem.","As discussed above, the advent of IS-41 allows greater communication between switches, especially between switches of two different service providers. The IS-41 messages transmitted and received by a service provider contains information about its network and subscribers and can be extremely valuable to the service provider. The service provider, however, is typically unable to capture the value in these messages since a single service provider have hundreds of thousands of these messages passing through its network each day. With such a large volume of messages, a service provider cannot easily extract useful information from the messages and the potential value in the messages is not captured.","According to one aspect, the present invention provides apparatus and methods for capturing information relating to communications traffic from one or more wireless telecommunications systems, and for processing the captured information at a message processor to produce roamer visibility and fraud data useful in administering such systems. A monitoring and data capture platform or subsystem monitors each of the telecommunications links coupling a Mobile Switching Center (\u201cMSC\u201d) or network elements like Signal Transfer Points or particular types of MSCs directly. This data capture subsystem may be configured to capture selected data pertaining to wireless telecommunications, including any number of desired call control and processing messages, depending on the type of data desired for roamer visibility, fraud control engineering, customer support or other functions of importance to wireless service providers, whether they provide cellular, PCS or other wireless communications network services. The selected data, typically in the form of messages in an operative protocol (e.g., the IS-41 protocol), can then be buffered for analysis or transmission. The selected data can be formatted and transmitted to (1) a message processor subsystem for further processing or (2) directly to a fraud system, customer support system, or other administrative instrumentality for further analysis or use.","Similarly, a method associated with the data capture apparatus furnishes visibility and\/or fraud data relating to wireless communications based on related message traffic. Signals pass through various network elements like a Signal Transfer Point (\u201cSTP\u201d) pair or switch and are transmitted over at least one telecommunication network link coupled to at least one wireless switching center. A data capture device is coupled to at least one of the links or one of the network elements. Links or network elements are monitored for messages of interest, such as a message belonging to a preselected (and changeable) set of message types.","According to the method, signals containing messages relating to wireless telecommunications traffic are read off of at least one of the telecommunications links. Messages pertaining to wireless traffic are identified, and, of these messages, those belonging to a preselected (but changeable) set of message types are selected. Selected messages are then forwarded to an administrative instrumentality. The administrative instrumentality may be a message processor that further processes messages received from a plurality of data capture devices to collate messages or filter out from the incoming data stream messages redundant to those already provided by an outside source. Alternatively, message processing can be done at the data capture device and messages forwarded directly to other administrative instrumentalities like a fraud detection system, customer on-line support station or any other end-user capable of operating upon the captured messages.","In an illustrative embodiment of a system according to the present invention, the data capture subsystem is configured to transmit the selected data to a message processor for further processing to yield useful visibility and fraud data. (Generally, \u201cvisibility data\u201d is wireless system data that identifies subscriber roaming activity between wireless systems. An example of some of the visibility data generated is the location and system usage of roaming subscribers.) The message processor stores selected incoming messages from the data capture subsystem in a memory location. The message processor then collates received messages with the stored messages to provide roamer visibility, fraud, or other useful administrative data. This data may be made available for query by on-line customer support workstations that may display the forwarded data on a real-time basis. Additionally, the message processor processes incoming captured messages and extracts certain data for transmission to a fraud detection or control system in the form of a data feed, for example.","A data capture portion of an embodiment of the present invention thus generates a set of wireless telecommunications visibility and\/or fraud data based on messages transmitted over at least one telecommunications link or through various network elements. The visibility or fraud data is for use by an instrumentality in monitoring, servicing or otherwise administering a wireless telecommunications system.","One embodiment of a data capture apparatus comprises a link capture device that includes at least one telecommunications link interface; each link interface corresponds and couples to a telecommunications link for reading signals off the link. A processor may be coupled to the link interface and may be programmed for any of the following tasks: retrieving signals read by the telecommunications link interface; identifying messages in the retrieved signals; selecting messages belonging to a preselected set of message types of interest; and formatting the selected messages for transmission to the administrative instrumentality.","Alternative embodiments of data capture apparatus exist for capturing messages of interest from message traffic in wireless systems.","For example, rather than read messages off of telecommunications links, message traffic through a Signal Transfer Point (\u201cSTP\u201d) can be directly monitored and messages of interest captured. Preprocessors provided for each of a pair of STPs read appropriate message traffic and, after reformatting, forward selected captured messages to a merge processor. The merge processor combines captured messages and forwards them to the message processor.","Alternatively, for MSCs (particularly those manufactured by AT&T) operating with a proprietary protocol (AT&T's protocol is called EFTN) the proprietary intra-switch messages can be \u201ctranslated\u201d to a standard format (e.g., IS-41). A switch message capture device, implemented in a separate processor or resident on a portion of the message processor, can obtain from the switch \u201ctranslated\u201d proprietary messages corresponding to messages of interest passing through, translated at and buffered at the switch. (To translate EFTN a software package may be obtained from AT&T and deployed at the switch of interest.) Captured messages are then transferred to an appropriate other portion of the message processor. (Absent this alternative embodiment of data capture device, messages in AT&T's proprietary EFTN format would not be captured since other data capture devices could not recognize the messages of interest given their proprietary format.)","A message processor may generate system fraud and roamer visibility data for use by a service provider in administering its wireless systems and detecting fraud. A portion of the message processor is in communication with at least one data capture device (as described herein), or other device, for capturing from a wireless system messages indicative of wireless system traffic, the messages corresponding to a number of classes. As an example, there may be a first class of \u201cchallenge\u201d messages and a second class of \u201cresponse\u201d messages; these may be typical of any system that uses a query\/response (or \u201cACK\u201d\/\u201cNACK\u201d) certified delivery method. In wireless systems using IS-41 protocol, the first class of challenge messages would be an \u201cinvoke\u201d message; the second class of response messages would be a return result messages.","At least one input port on the message processor may receive messages pertaining to wireless traffic from the data capture device or, if the message processor is centrally located, a plurality of data capture devices. The message processor may be coupled to at least one memory location. (The phrase \u201cmemory location\u201d means a memory or data storage device of any sort, or a portion of such a device.) The message processor is programmed to: receive messages indicative of wireless traffic from a data capture device and store in the memory location received messages that belong to the first class. For each received message belonging to the second class, the message processor searches the memory location for a previously stored first class of message related to the received message. If any message located in the search is related to the received message of the second class, the message processor collates the received message with the located message, and provides the collated messages to an end-user or a processor.","A method associated with processing captured messages includes: receiving messages indicative of wireless traffic from the data capture device; storing the received messages belonging to a first class of message (e.g., IS-41 invoke messages) in the memory location; for each received message belonging to a second class (e.g., IS-41 return result messages), searching the memory location for a previously stored message of the first class related to the received message and, if any message located in the search of the memory location is related to the received message of the second class, collating the received message with the located message. Finally, the collated messages are provided to an end-user. Optionally, collated messages may be \u201cfiltered\u201d to eliminate those messages already being provided by a third party fraud or customer support system.","Generally, the message processor may be centrally located and in communication with various data capture devices via a LAN, WAN or equivalent communication path. Central location allows for easier changes to the functionality implemented by the message processor. Nevertheless, the message processor may also be deployed with and connected directly to each data capture device. This would free up valuable system bandwidth since raw, unprocessed messages will not be sent, as is the case with a centrally located message processor.","A system for capturing desired messages from a wireless system that uses a preselected signaling system and preselected protocol thus includes data capture devices that (i) monitor wireless system message traffic through various network elements or across at least one network telecommunications link and (ii) select from the monitored messages those corresponding to a preselected set of message types. The system also includes a message processor coupled by a transmission path or directly to the data capture device(s) and programmed to collate selected messages with one another to produce records associated with the wireless telecommunications traffic, as well as means for providing such records to an end-user.","Indeed, if desired, the present invention could be used not only to capture messages of interest but also to monitor for messages of interest. Tallies of messages of interest could then be processed to create various statistics relevant to network traffic and extremely helpful to network engineering or customer support and marketing.","Accordingly, the present invention provides visibility data at a low cost as well as data to maintain or improve the effectiveness of existing fraud detection systems. Adopting the present invention avoids interrupting fraud investigation if the wireless system replaces an X.25 or any other existing network, including a SS7 network operated by an outside network provider, with its own SS7 or other network. Using the present invention, fraud control systems can be deployed in other markets without relying on third-party network operators and without losing roamer visibility when a carrier utilizes a selected protocol, such as SS7, to transport validation transactions. Presently deployed wireless systems will enjoy enhanced productivity benefits flowing from the provision of more detailed, yet real time, customer support, network traffic engineering or other administrative information. By implementing the carefully designed on-line support system, wireless providers will nevertheless receive just the right amount of data of interest, thus optimizing use of valuable system bandwidth.","According to another embodiment of the invention, a system includes a catcher for receiving data from data capture devices. A parser reads the daily files and interprets the messages into tables and fields. If the received message is a registration message or a reject message, then these messages are preferably written into a registration daily file and a reject daily file, respectively. The messages are preferably paired together so that all invoke messages are stored with the corresponding response message.","In the preferred embodiment, the system and method according to the method preferably maintain a separate table for each message type and a master daily file containing general information on all messages received that day. The database is structured so that it holds a week's worth of data, with the last day's data being deleted with each new day. The database also preferably contains a table holding the most current registration information on each MIN. By storing message data into a plurality of tables, responses to queries can be generated more quickly. For instance, rather than reading all of the data in a daily file to determine the location of a particular MIN, the system and method can perform a quick look-up in the MIN table, which contains a significantly less amount of data than the daily files. The system and method furthermore conserve space on the database by coding entries in the tables and fields. For instance, rather than storing \u201cregistration notification\u201d when this type of message is received, the system and method instead store a specific number for that message, such as \u201c38.\u201d","The system and method support a number of different types of queries. One such query is a MIN\/ESN query. With this query, the roaming activity of a specific customer can be ascertained. This search may be performed on a single day or over a range of days. A second type of query that may be performed with the invention is an active roamer query. An active roamer query shows a list of roamers that are active in a serving market. This query may be limited to a certain SID, switch, home SID, or NPA-NXX. A third query supported with the invention is a switch-to-switch query. The switch-to-switch query provides information on all ANSI-41 messaging on one switch or between two switches. The search may be performed on a single day or a range of dates. A fourth query performed with the invention is a transaction statistics query. The transaction statistics query provides information on registration messages between two cellular service providers. With this query, information may be obtained on all subscribers roaming in a foreign market or information may be obtained on everyone served by a home network. This query can be limited to a home region, to specific dates, to a specific roaming partner, and to a particular company, SID, switch, NPA-NXX, or MIN.","From the results of any query, a user can obtain record details on any message. If a user double-clicks on a message in the results section, the information on that message is pulled from the message table and the information is displayed in a tabular format. Each tab of information contains data on a group of parameters. If no data exists for all parameters within a group, then that tab preferably is not displayed to the user.","The system and method provide extremely useful data to a service provider. For customer support, the service provider can more quickly determine the source of a customer's problem. The service provider need not place any type of \u201csniffer\u201d on a switch but instead can quickly recall the messaging that occurred at the time of the customer's problem. Customer support, for instance, can determine whether the customer is able to register, whether the customer is authorized for a particular service. The engineering and technical support of a service provider can determine the cause of a past problem and, by monitoring the messaging within the network, can even prevent future problems from occurring.","It is accordingly an object of the present invention to provide a data capture device for monitoring and capturing a variety of information on telecommunications traffic within a wireless system.","It is an object of the present invention to provide a plurality of data capture devices, some of which capture data from a telecommunications link, others of which are coupled to particular network elements from which data of interest is captured.","It is a further object of the present invention to provide captured data to an administrative facility, such as a central message processor, where the results are collated or otherwise processed to yield roamer visibility, fraud, or other data useful in the administration of a wireless system.","It is an additional object of the present invention to provide a message processor for (1) receiving messages captured by data capture devices coupled to telecommunications links or network elements in a wireless system and (2) processing the received messages to yield paired IS-41 or other messages that provide roamer visibility and data useful in the detection of fraud.","It is another object of the present invention to provide a central message processor including a database containing roamer visibility data available for query by one or more on-line customer support systems.","It is a further object of the present invention to provide methods and apparatus for providing a central message processor for processing captured messages as well as fraud data received from outside or third party providers to generate a fraud data feed from which redundant fraud-related information has been removed.","It is still a further object of the present invention to provide methods and systems for enabling useful queries to be performed based on captured data.","It is yet another object of the present invention to provide methods and systems for allowing the capture of real-time roaming statistics.","It is another object of the present invention to provide methods and systems for allowing the capture of real-time data for use by engineering or technical support.","It is still another object of the present invention to provide methods and systems for enabling results of a query of a database to be returned in a relatively short period of time.","Other objects, features and advantages of the present invention will become apparent upon reading the remainder of this document.","In the flowcharts in this document, neither the particular breakdown of the logic into steps, nor the specific ordering of the steps, is required for implementation of the invention. Rather, the flowcharts provide one illustration of the operational logic of the invention; other implementations consistent with that logic could also be relied upon to practice the present invention. That the logic is illustrated in certain of the Figures according to a serial processing model, as opposed to, say, an object-oriented approach, is intended only for clarity of discussion, and does not limit the invention to a particular implementation approach.",{"@attributes":{"id":"p-0103","num":"0102"},"figref":"FIG. 1"},"Representative switch  of a wireless telecommunications system may be a mobile telephone switching office (MTSO), MSC or other known mechanism for switching wireless telecommunications traffic from or to one or more wireless devices, an example of which is represented by antenna . Switch  couples by one or more links to corresponding elements of a public or proprietary network operating under a signaling standard, such as the SS7 standard. The switch  may be used by a cellular or PCS company to transport wireless validation transactions (using, e.g., a protocol like IS-41) on a switch-to-switch basis, rather than by resorting to a clearinghouse to perform validations. For purposes of this description, but without limitation, reference will be made to the SS7 signaling standard and to the IS-41 interim standard. (The Electronic Industries Association\/Telecommunications Industry Association (\u201cEIA\/TIA\u201d) has published Interim Standard 41, Revisions A, B and C. Copies of these are available from the Electronic Industries Association, 2001 Pennsylvania Ave., N.W., Washington, D.C. 2006. The IS-41 standards, including all revisions, are hereby incorporated in their entirety by this reference.) Nevertheless, the system is in no way limited to functioning in the context of these standards, which include all future revisions, but could just as easily be adapted to work with networks operating under other signaling or interim messaging standards.","Various embodiments of data capture devices  are shown in . Thus, link capture device , STP capture device  and switch capture device  each comprise a data capture device . Each can identify messages of interest out of a number of signals indicative of wireless traffic over a wireless telecommunications system. Output from a particular data capture device  is forwarded to a central message processor  by any suitable means for transporting digital data. For example, but without limitation, data retrieved and processed by link capture device  may be made available on a local area network (LAN), such as an Ethernet LAN, or over a corporate wide-area-network (WAN) , as illustrated in , to the central message processor .","Data capture devices  may monitor the wireless systems for any wireless traffic, including IS-41 messages, SS7 messages or TCAP messages. Wireless traffic is buffered, individual messages identified and messages of a particular type of interest are selected. For example, assuming the network transports messages in an IS-41 standard format, any embodiment of data capture device  can at least identify and capture the following set of IS-41 messages:\n\n","Alternative embodiments allow other or additional sets of message to be captured. Alternative message types (and their functions) are described in the IS-41 standards previously incorporated by reference as well as in future revisions and standards. Message sets may be selected for gathering not only data for customer support and fraud management, but also for network engineering. For example, message sets dealing with call setup or call feature activation may be chosen. Appropriate IS-41 messages, like Route Request that gives the dialed digits and destination, would be chosen to fill in this set, in which network engineering might be interested.","Generally, changing to a different message set is done simply by identifying which set of messages is to be captured and informing data capture device  of that set by software exchange (e.g., by providing a system disk or modem upload of the new message set of interest.) Also, if the invention is implemented with other than an IS-41 standard in place, messages analogous to those listed above could be gathered by data capture device . In any event, a set of captured and identified messages may be formatted into TCP\/IP packets, as seen in , and forwarded to central message processor  for further processing.","The central message processor  is preferably a facility for receiving data handled at a plurality of switches (not shown) and captured by corresponding data capture devices  similar or identical in function to link capture device , STP capture device  or switch capture device . IS-41 (or other) messages captured from SS7 links at switches  by these data capture devices  may be provided to the central message processor  via any suitable means, but in the preferred embodiment are sent in packets over a WAN  running the TCP\/IP protocol. Central message processor  aggregates, stores, and processes the received IS-41 messages in order to provide coordinated customer-related visibility and fraud data, as will be described in detail below.","Messages captured by data capture device , and processed by central message processor  to yield useful data for visibility and fraud analysis, can be made available for query by one or more client customer on-line stations (several of which are indicated by reference numerals ,  and ) via WAN . These customer on-line stations are thereby provided with visibility data for roaming wireless service subscribers, enabling on-line customer service representatives (operating on-line stations , , , etc.) to provide quick, high quality and responsive service to subscribers of (or roamers using) the wireless system. Furthermore, fraud data in the form of a roamer registration feed culled from each switch, of which switch  is a single example, may be processed by captured data processing device  and provided to a fraud detection system  via an appropriate link .",{"@attributes":{"id":"p-0111","num":"0116"},"figref":["FIG. 2","FIG. 1","FIG. 2","FIGS. 3\u20136","FIGS. 7A\u20137C"],"b":["32","32","32","32","34","24","26","36","11","32","34","36","50","40"],"sub":["1","2","3","N","1-N"]},"For example, but without limitation, the central message processor  may be implemented by a Hewlett Packard HP 9000 K400. The central message processor  preferably includes a subprocessor corresponding to each link capture device , STP capture device  and switch capture device  for receiving and processing received IS-41 message packets. Each of the subprocessors of central message processor  preferably runs in parallel a set of message pairing and processing procedures , each corresponding to the message feed received from a particular data capture device  over WAN . The operations of these procedures are discussed below in connection with .","Each message processing and pairing operation writes its results to an associated daily file that contains paired IS-41 invoke and return-result messages for a particular day. The same process also detects registration notification messages (Reg_Not) and writes them to Reg_Not file .","Records in the daily files containing paired message data are parsed by associated record parsing and database insertion processes . These processes each insert their results into a database  of normalized IS-41 messages. Database  may be implemented by a suitable, commercially available database, such as (without limitation) an Informix Software, Inc. relational database. Other suitable databases, such as those marketed by Sybase and Oracle might also be used. Results inserted into database  preferably are also organized by day, so that previous days' results are available: paired messages for the day prior to the current day may be stored in a database table ; for the day two days prior to the current day may be stored in database table ; through a period N days prior to the current day may be stored in a file .","IS-41 messages typically contain information regarding the origination and timing of message generation. Thereby, the central message processor  can process paired message (and expired invoked messages) to sort them by day and occurrence of call. Sorted message are then indexed, segmented by date and stored in the database . Database  thus provides comprehensive visibility data available for query according to known techniques by customer on-line workstations, e.g., workstations , , and .","The registration notification (Reg_Not) messages stored in Reg_Not file  are processed and filtered according to a procedure  described in detail in connection with . The resulting filtered data may be provided via link  as a fraud feed comprising roamer registrations. This fraud feed can be used by existing fraud detection systems, such as fraud system , to detect various instances of fraudulent system use.",{"@attributes":{"id":"p-0117","num":"0122"},"figref":"FIGS. 3\u20135","b":"30"},{"@attributes":{"id":"p-0118","num":"0123"},"figref":["FIG. 3","FIGS. 1 and 2"],"b":["32","10","32","10","20","20","10","20","32","32"]},"Link capture device  passively monitors signals on the links accessed via bridging isolator , and extracts desired fraud and customer-related information, discussed below. To maximize its processing efficiency, the link capture device  preferably can monitor a plurality of signal links and can be programmed to perform specific tasks. For example, the HP 37900D may monitor up to four SS7 links and may be customized to conduct desired measurements and to process the gathered data, as will be further described below. If the switch  has a greater number of links than can be monitored by a single link capture device , more link capture device  can be used and incorporated into the system architecture. For example, if a link capture device  is implemented by a HP 37900D and the switch  handles nine SS7 network links, three data capture devices  would be required. But the number of input ports could just as easily be raised (or lowered) depending upon the specifications of the equipment implementing the link capture device . Thus, a link capture device  with additional link interface cards inserted in its chassis and additional processing power could be deployed.",{"@attributes":{"id":"p-0120","num":"0125"},"figref":["FIG. 3","FIG. 3"],"b":["12","20","14","17","20","32","102","104","106","108","14","17","102","108","102","14","104","15","106","16","108","17","102","108","14","17","32"]},"An operating system , running on an internal processor of the data capture device , monitors all active link interfaces \u2013. In one embodiment, but without limitation, the operating system functionality may be implemented by a Pascal 3.2 workstation system on, e.g., the HP 37900D. A daemon subprocessor of the operating system  listens for IS-41 messages on the link interfaces \u2013 and, when one is received, writes it temporarily to a link message buffer , where it may be stored (along with other such messages) according to a first-in-first-out (FIFO) discipline.","Upon the occurrence of a periodic interrupt, operating system  initiates a real time decoder process , the logic for an embodiment of which is provided in . In the period between interrupts, many IS-41 messages may have been received by the link interfaces \u2013 and temporarily stored in the link message buffer . The periodic interrupt permits the real-time decoder process  to retrieve captured IS-41 messages from the link message buffer  for processing and transmission to central message processor , as described in connection with .",{"@attributes":{"id":"p-0123","num":"0128"},"figref":["FIG. 4","FIG. 7"],"b":["34","24","26","24","26","25","27","25","27","25","27","25","27","42","24","26","42","43","44","35","25","27","24","26"]},"Because STPs are paired, related messages could come across different STPs. Thus, for example, an IS-41 invoke message could come across STP  and its corresponding IS-41 return result message could come across STP . Message traffic captured from each STP ,  is merged via a merge catcher process  that may reside on STP merge processor , which may be implemented with an HP K 400. This ensures that all messages of interest are combined for forwarding by message data communication process  to the central message processor . The message communication process  implements the real-time message decoder  process shown in  and described below. Generally, this process formats and sends received messages to the central message processor .","To central message processor , the data feed flowing from STP capture device  is just like any other data feed from any other data capture device . Thus, processing of data captured from STP pair ,  proceeds as described generally above and in more detail in text associated with .",{"@attributes":{"id":"p-0126","num":"0131"},"figref":"FIG. 5","b":["36","11","11","53","53","53"]},"Thus, Message Visibility (\u201cMV\u201d) client process  may periodically request from the OMP  IS-41 messages of a particular class or classes. Requests from the \u201cclient\u201d switch capture device  to the \u201cserver\u201d OMP  initiate a Remote Procedure Call (\u201cRPC\u201d) protocol that executes a server function running on the OMP  to send requested data. MV client process  filters received messages, transmitted in TCP\/IP format, to choose only message types of interest, as defined by the preselected set. For instance, the set of six messages identified above could be selected. Selected messages are written to a daily file, like direct access storage . A message data communication process  formats the stored messages into an appropriate format (such as that shown in ).","Components of switch capture device , (e.g., MV client process , storage  or message communication process ) may reside on central message processor  to maintain transparency across the system. Formatted messages are stored in a file within central message processor  so that the processing portions can parse the file and obtain the stored messages. (Message communication process  has the same functionality as message communication process  described in .) To the message processing portions of the central message processor , messages received from switch capture device  are the same as messages received from other data capture devices  and processed in the same fashion.","Industry trends are away from proprietary protocols and toward standardization. Nevertheless, even though switch capture device  is described as for use with the AT&T switch , it could easily be modified to work with other manufacturers' switches should trends reverse and proprietary protocols be deployed (and assuming manufacturers offer translation packages).","Each embodiment of data capture device  could be monitored for failure in its data feed. For example, a daemon subprocess may be provided on the link capture device , the STP capture device , or the switch capture device  that periodically checks to ensure that the captured data has been transmitted. If a selected interval passes without data transmission, the daemon subprocess could activate an automatic dialing device that causes a preselected paging number (or several) to be dialed and a stored message to be sent. Thus, one or several designated network service personnel could receive a message that identifies the particular data capture device  and indicates that its data feed was down. Network service personnel could then promptly proceed to place the data capture device  back on line.","Returning to a more detailed description of link capture device ,  shows various processes implemented by it and  describe those processes in detail. Processing and formatting associated with  also may be implemented by the STP capture device  or switch capture device . (Although TCP\/IP connection requests do not have to be made for the switch capture device , implementing the same functionality of other data capture devices  enhances system standardization and transparency.)","A real time decoder (\u201cRTD\u201d) process  is entered at  by a function call. Each function call processes a single IS-41 message stored in the link message buffer , preferably the earliest received message consistent with FIFO principles. Processed messages are transmitted over WAN  from data capture device  to central message processor . As shown in , following entry into RTD process  at step , condition check  determines whether a delay timer has expired.","The delay timer forces a wait time between reconnection attempts following either a shut down request or some other connection interruption. The delay timer therefore prevents expending too much processor time in fruitless checking of the connection. For example, the delay timer can be set for a first delay of thirty seconds. After expiration, connection check  determines whether a connection is up. If not, initialization step  attempts a connection. When no connection can be made, the delay timer is set and begins running again. (A longer delay (e.g., five minutes) might be chosen for this second delay period so that the connection problem can be resolved before initiation of another connection check.)","Generally, the RTD process  logs the incoming IS-41 message at step  () in a buffer, such as a circular buffer (not shown). The RTD process  then returns to the instruction of the operating system  (in ) which had been the next step prior to the RTD process  having been called.","If condition check  instead reveals that the delay timer has expired, RTD process  determines (according to known methods) at step  whether the data capture device  had an established TCP\/IP connection with central message processor  across WAN . If no such connection established, RTD processor  at step  initializes a socket open process and attempts to set up a TCP\/IP connection with the central message processor  over the WAN . The RTD process  at step  checks for a successful attempt to set up a TCP\/IP connection. If not, the delay timer is set at step , the current message is logged at step  () in the circular buffer, and control is restored to operating system .","On the other hand, when condition check  shows a TCP\/IP connection, the current message from link message buffer  is decoded according to known methods. Specifically, the message is examined to determine whether it is one of a set of messages of interest. In one illustrated embodiment, the decode message and IS-41 process  determines whether the message is one of six IS-41 messages of interest. Messages not of interest are discarded. (In STP capture device , STP catcher  may implement decode message process ; in switch capture device , MV client process  may implement decode message process .)","Messages of interest are formatted (as shown at step  in  and described below) and held for transmission. Then, or if condition check  confirms an established TCP\/IP connection, the RTD process  checks at step  whether any messages are in the circular buffer, which holds messages unsent due to lack of a network connection with central message processor . RTD process  at step  attempts to send the next message available in the circular buffer over the WAN  to the central message processor . Send check  determines if the transmission attempt of step  was not satisfactory; if not, then the message is left in its location in the circular buffer and retrieved for sending at a later time. On the other hand, after a successful transmission at step , RTD process  checks whether either all messages in the circular buffer have been sent (i.e., the buffer has been flushed) or a pre-set maximum number of messages from the circular buffer have been sent. Transmission continues until either condition is met.","After step  determines all or a pre-set number of messages were sent, then (referring to ) RTD process  checks at step  for an incoming message, like one from an operator or from central message processor . If a message has been received (e.g., at a TCP\/IP socket over WAN ), host process step  processes it. For example, the host could send any of multiple messages including: (i) a shutdown message; (ii) a shutdown response or (iii) an error message. Shutdown messages request the link capture device  to close connections and properly store all data received but not yet transmitted upon receipt of a shutdown request. Link capture device  also can request shutdown. In that case, the shutdown response from central message processor  acknowledges and authorizes shutdown. Error messages simply indicate a system error. They are logged so that the time and date of the error is tracked for later analysis.","Shutdown check step  determines if the processed message indicates that a shutdown of a data capture device  has been ordered. (A shutdown message may be sent, for example, if a link capture device  is to be removed from service for maintenance or other reasons.) Shutdown results in closing the TCP\/IP connection at step  and setting the delay timer at step . The message is logged in a file, and control returns to the operating system . According to the described logic, graceful shutdown can thereby be achieved, since any data currently being handled is retrievably stored, avoiding its loss. To facilitate an operator (of the data capture device  or central message processor ) in removing the device from service without the central message processor  failing to be notified, data capture device  may optionally include a \u201chotkey.\u201d The \u201chotkey\u201d prompts an operator of the data capture device  for confirmation of a command to shutdown communication and would forward a message to central message processor  if confirmation were received.","If step  had detected no incoming message from the socket, RTD process  determines whether the circular file is empty at step . This condition might occur if, for example, a pre-set maximum number of messages can be sent, and have been (as determined at step ), but the circular buffer still contains messages. Transmission of the current message from link message buffer  would occur prior to sending earlier-received messages. Therefore, if the circular buffer is not empty, the current message is stored there in order to maintain FIFO discipline.","In the absence of a shutdown message, then at step  RTD process  attempts to send the current message over the WAN  to the central message processor . Control returns to the operating system  whether the message was successfully sent or not successfully sent (in which case it is subsequently logged in the circular file at step ).","Each captured IS-41 message sent at step  () is preferably sent in a separate packet or other discrete block of data. Numerous formats providing suitable functionality could also be used. Generally, the format selected is such that the system is provided sufficient information regarding the origination (source, timing, etc.) of packaged data that error tracking and debugging is easier. If the TCP\/IP protocol is used, however,  show one manner of formatting a data packet. The format shown is an application level format that can work with any other protocol, for example, X.25.","Thus, a data packet containing a captured IS-41 message is organized into a TCP\/IP packet containing a header of nineteen bytes and a variable length data block, as shown in . The header, shown in greater detail in , includes: (1) an STS ID that may be a three byte ASCII identifier (which may be stored at and retrieved from a storage medium such as a disk drive) for uniquely identifying the particular data capture device  from which the data is sent; (2) a link number identifier of three bytes for specifying from which of the monitored SS7 links the captured message was derived if a link capture device  obtained the message; (3) a one-byte opcode for indicating whether the packet is carrying data or whether the data capture device  is shutdown (an ASCII D indicating data and an ASCII S indicating shutdown); (4) a message type code of one byte and containing ASCII for one of the integers in the set {1, . . . , N} of messages of interest to identify which type of IS-41 (or other standard) message was captured; (5) a TCAP (transaction capabilities application part, a component of the SS7 architecture) transaction ID of six bytes and (6) an indication of the total message length, allocated five bytes. The data portion of the message packet, shown in , includes a time stamp of four bytes for containing an integer indicating the time at which the message was captured. A TCAP transaction ID field and DPC\/OPC (Destination or Origination Point Codes) field also are included in the data portion. Finally, the unaltered IS-41 message payload, which can be of variable length, completes the data. Preferably, one captured message is allocated to a particular packet.","Generally, the same packet format can be used for message originating from a STP capture devices  or a switch capture devices . For STP capture devices , the STS ID may be its particular assigned identification number and the link number may be the individual ECU from which the packet originated. (MSCs may have multiple ECPs that are usually included in IS-41 message headers.) The header for the switch capture device  will include the same information (i.e., switch capture device  identification and ECU identification). While the information in the packet shown in  is generally used for system maintenance and debugging, it also has some use to customer support personal at customer on-line work stations ,  and . For instance, the DPC\/OPC point codes may be displayed on the work stations ,  or  to indicate generally the origination and designation of particular message. (Even though a number of SIDs may be associated with a particular point code, there is some correlation between the point code and location of a subscriber; experienced customer services representatives will recognize and be assisted by this correlation.)","Referring again to , data capture devices  are coupled to the central message processor  by a suitable data transmission medium like, for example, the WAN . Central message processor  can communicate by way of the WAN  to one or more customer on-line stations , , and  or to the fraud detection system .","Central message processor  preferably may receive, aggregate and route input from a number of data capture devices or analogous devices. Central message processor  may be implemented by any processing device having sufficient input\/output channels and processing capacity for performing the operations described below, and running any suitable operating system. For example, central message processor  may be an HP-840, manufactured by Hewlett-Packard Co. and running the UNIX operating system, HP-UX 10.0. Alternatively, the central message processor  may be an HP 9000H40, also manufactured by Hewlett Packard Co. (Any workstation programmed configured according to the present invention could conceivably perform as the central message processor  depending on the volume of records and number of users.)",{"@attributes":{"id":"p-0147","num":"0152"},"figref":["FIG. 2","FIGS. 8\u201311"],"b":["50","50"]},{"@attributes":{"id":"p-0148","num":"0153"},"figref":"FIG. 8","b":["200","50","50","30","50","30","50"]},"After initializing at step , the high level loop  processes the sockets, via which the results from data capture devices  are received. As long as the loop has not been terminated, as checked at step  (While NoKill), a process sockets routine , illustrated in , is called. When (i) the high-level loop  returns from the process sockets routine , (ii) the end of the loop  is reached at , and (iii) if shutdown has been requested by the operator, then the process implements a shutdown routine  that stores any unprocessed data to prevents its being lost. The high level loop  then exits at . As long as no shutdown request has been received, however, the high level loop  cycles between steps  and , continually processing TCP\/IP packets received at the sockets from the data capture devices .","Logic flow associated with the process sockets routine  is shown in . Generally, there are many socket child processes, which initialize in order to handle each connection request from particular data capture devices . Initially, an event log file is opened at  and an error log file is opened at . These files are used for general debugging and maintenance activities. For example, the event log file may be used for informational messages like open, close, shutdown, etc. The error log records warnings and system errors. At  the process waits for connection requests from a number (1, . . . , N) of data capture devices  that are essentially clients served by the central message processor . When a TCP\/IP connection request has been received, routine  at step  forks a new child process  to handle it. The routine  binds the newly forked child process  to a socket at , creating as many child processes bound to each socket as there are data capture devices  that have requested connections to central message processor .","Of course, switch capture devices  that reside on the central message processor  can store their captured data in a file on the central message processor . No process sockets routine need be initiated for these switch capture devices. Instead, the collation processing shown in  is done by accessing the resident file holding the captured data.","Logic flow associated with a collation process  of each forked child process is illustrated in . The collation process  collates received messages to yield more useful visibility and fraud data. At step  the message contained in the packet received from the data capture device  corresponding to the current socket is retrieved. Type check step  checks to determine whether it is an invoke message. Invoke messages are processed via searching step  that searches the pairing buffer for its matching return result message. Matches may be found by comparing the transaction IDs and DPC\/OPC of the message. (IS-41 messages each carry a transaction ID; return result messages have an ID that matches the ID of the invoke message leading to generation of the return result message.)","No match as determined by check step  results in the invoke message being written by step  to the pairing buffer  and Reg_Not message file . On the other hand, when matches are found at step  they are written to the daily files paired messages database  and the Reg_Not file  at record step . (Reg_Not messages written to Reg_Not file  will later be retrieved and processed according to logic described in connection with .) The collation process  then begins again at step , which retrieves the next message.","Assuming the next message is not an invoke message, it will pass through type check step . Step  checks the passed message, which either is an error or return result message. Error messages are logged at step . Return result messages are processed by the logic of . Step  searches the pairing buffer  for the invoke message that matches the return result message being processed. If no match is found at check step , the return result message is added to the pairing buffer . Matches, however, found at check step  are written at record step  to the daily file database . After either adding the return result message to the pairing buffer  or, if paired, to daily file database , the loop restarts at step .","Note that the processing associated with  is directed to finding mates of invoke and return result messages and saving unmated messages until missing mates are captured and matched. This processing is necessary since the invoke and return result messages may not necessarily be captured and transmitted to the central message processor  immediately in the order in which they were generated. Thus, it is possible that a particular return result message is received well before its mating invoke message. Absent proper processing the return result message may be lost, eliminating valuable visibility or fraud data. For return result messages resident in the pairing buffer  for longer than a predetermined period, those \u201cexpired message,\u201d are identified by step  and then discarded. This is because the central message processor  generally receives return result message that may relate to invoke message that are not of a desired IS-41 message type. On the other hand, expired invoke messages identified at step  are flagged as unpaired and sent to the daily file database  for ultimate forwarding to a customer support station ,  or  or fraud detection system . Expired invoke messages are saved because they may still provide the system information such as why the customer had a problem.","Logic flow for the registration message processing and filtering  is illustrated in . As described in the Background section, fraud data comprising roamer registrations may already be available (e.g., from GTE Nationwide Roamer Data Delivery Services, GTE-TSI's \u201cIREC\u201d service or the Roamex service provided by Systems Link). A service provider employing systems and methods described in this document may already be using these or similar existing fraud data services, particularly if deploying the systems and methods described still would not provide total coverage for a market of interest. Also, such third party systems may provide services other than just fraud data. For example, billing applications could be supported by other data provided by third party systems.","Multiple sources of fraud data (i.e., data captured by the present invention and data provided from third party systems) may generate redundant data incoming into fraud detection system . This is objectionable for several reasons. First, the service provider is paying per transaction fees (which translates into a lot of money) for data that a system such as the present invention is already providing. Obviously, purchase of the redundant data from the third party system could be discontinued. But other data or services provided by the third party system may render that course impractical. Second, the fraud detection system  may generate erroneous results in the form of false positive fraud detections. With multiple data sources, two or more records of the same event could be generated, which may trigger a fraud detection system since it may analyze the data and conclude that multiple phones with the same MIN\/ESNs were operative at the same time. Further, sending and processing redundant data ties up network bandwidth and valuable processing power.","To eliminate redundant data, the present invention provides a registration message processing and filter process  (implemented by central message processor ) as described by the filtration process  shown by . A filters table  includes the identification of every MSC for which data is commercially received. Typically the identification is a System Identification Number or \u201cSID\u201d and, for smaller providers that simply contract another provider's network and provide billing services, a Billing Identification Number or \u201cBID.\u201d Thus, for example, if data were already being sent to fraud detection system  for a switch in Nashville, Tenn., the filters table  would include that system's SID (or BID).","Once the filters table  has been loaded into memory at load step , creating a list of SIDs (and BIDs) whose data should be filtered out, the next Reg_Not messages are read from a daily Reg_Not file  at read record step . As noted, IS-41 messages carry various origination data, including the SID (or BID) for the MSC servicing the customer who generated the particular Reg_Not message (\u201cServing_MSC\u201d). At comparison step , a check is made as to whether the SID for the Serving_MSC from which the Reg_Not message came matches any SID in the filters table  loaded in memory. If a match is detected, the present Reg_Not message read at step  is ignored, and the process loops to select at step  the next record from Reg_Not file  and compare the SID associated with that record against the SID values in the filters table . Again any Reg_Not message with a Serving_MSC listed on the filters table  is ignored. But if the Serving_MSC is not on the filters table , then the current message is transmitted by a transmission process  to a fraud detection system . Transmission process  may also implement a process for appropriately packaging the data to match the format of a particular fraud detection system . Thus, by way of example, if used with the CloneDetector system, the message is parsed for its SID and a header necessary to implementing the CloneDetector functionality is added. (Customized packaging of the filtered data to match formats required by other fraud analysis systems is well within the ability of one skilled in the art.)","In this way, a fraud data feed in the form of non-redundant roamer registrations is sent to a fraud detection system . The fraud detection system , using data from this feed and perhaps other feeds like those from third party systems described above, analyzes this data to help detect fraud.","Customer on-line support requires a user friendly system, typically run in a WINDOWS environment, for viewing in real time current roaming traffic in and away from home markets and allowing inquiries on roamer status anywhere within the digital SS7 network. A properly designed customer on-line support system provides an extremely efficient method for obtaining and displaying large volumes of data in real time. The data must be properly organized and displayed in order to give the customer service representatives a better picture of the wireless service provider's home market and the provider's roaming customers. One such on-line support system is shown deployed on support stations ,  and  in .  shows the functionality that may be implemented by the support stations ,  or .","A customer support operator accesses the support system at access step  by invoking the graphical user interface (\u201cGUI\u201d) and inputting at receive step  an ID and password. After the database is queried at step , an ID and password check is performed at validity check step . Invalid IDs or passwords generate an error message displayed at step . Otherwise valid IDs or passwords generate a main option screen at step . A cellular user's MIN or ESN and search parameters are entered at step . For example, the number of days of call activity data for the input MIN may be one search parameter. Search criteria for identifying the user other than MIN or ESN may be used for other fraud detection systems. Alternatively, instead of manually entering search parameters each time, the system can be set to a default search or the operator can enter a \u201cprofile\u201d sequence number associated with specific search parameters.","In any event, the database upon which all system fraud data resides is opened at step . The database is partitioned by day so that information retrieval is more efficient. Step  opens and prepares the database, while step  confirms that operation; if there is a failure an error message is displayed. Records are fetched from the database at step  and added to the main screen list box at step . The main screen list box allows the customer support application to store in RAM the results for the search parameters entered. This allows the particular customer on-line support stations ,  or  to obtain its search results and load them locally for further processing, thereby providing distributed processing of search results to eliminate or minimize demands on the host database and its processor. If step  determines that a record fetch was unsuccessful, it may mean that the search results all have been retrieved. But if step  also determines that more data rows should be displayed, an error has occurred that step  displays. Otherwise, step  cycles back to the main screen display step  to await a new search by the operator.","This document has focused on describing several possible embodiments of the present invention, describing in particular detail alternative embodiments of data capture devices  coupled with a central message processor . Those skilled in the art will understand that of the alternative data capture devices  disclosed, the link capture device  is one of the most flexible because persons implementing the present invention need not rely on the assistance of third parties. For example, implementation of STP capture device  requires access to the telephone company's network; not all wireless providers will have such access, particularly where the network operator is a fierce competitor. Similarly, the switch capture device  requires obtaining expensive translation packages from switch manufacturers like AT&T and places the provider implementing the switch capture device  at the mercy of the switch manufacturer, who could always change protocols, overcharge for or eliminate altogether the translation packages.","Additionally, although the described embodiment discusses using a \u201ccentral\u201d message processor , the functionality of the central message processor  may be implemented by the data capture devices  simply by choosing platforms with sufficient processing power to perform the collating and filtering tasks of the central message processor . For example, link capture device  or STP capture device  each could be deployed on larger, more powerful workstations and couple via bus to a processor portion that processes selected message, pairing invoke and return result messages and saving unpaired invoke messages. Filters tables could even be downloaded to each data capture device  so that they can do necessary filtering of redundant fraud data.","Indeed, such a network design would decrease overall system bandwidth requirements and take advantage of the flexibility of distributed processing. That is, by having a central message processor  perform message collating and filtering, providers implementing the present invention must capture and send all return result messages as well as the invoke messages of interest to the central message process . This obviously consumes significant system bandwidth. Of course, it may allow for lower hardware costs since less powerful processing platforms need be deployed as data capture devices . In any event, those skilled in the art will recognize that the present invention contemplates various embodiments of data capture devices  and either distributed or central processing of captured messages so as to provide useful fraud, roamer visibility, customer support, network traffic management or other data useful in administering a wireless telecommunications system.","The foregoing is provided for purposes of explanation and disclosure of preferred embodiments of the present invention. Modifications and adaptations to the described embodiments, particularly including changes, upgrades or revisions in response to new or revised signaling and transmission protocols or standards (including without limitation, X.25, IS-41, or SS7 standards), or changes in system architecture, will be apparent to those skilled in the art and may be made without departing from the scope or spirit of the invention and the following claims. By way of example, the \u201cIS\u201d in IS-41 stands for \u201cInterim Standard.\u201d IS-41 Rev. C has now been accepted by American National Standards Institute and is referred as ANSI-41. It is fully expected that the standard will be revised and message types of interest to users of the present invention will be added, particularly as new service features are deployed over networks. The present invention contemplates monitoring and capturing of such future message types.","A second embodiment of a system  is shown in . As with the embodiment shown in , the system  monitors and captures messages traveling over an SS7 network, such as SS7 network . These messages may be captured in any suitable manner, such as with data capture devices  described above with reference to . These data capture devices  are not limited to any specific type of equipment but instead may comprise, for instance, the link capture device , STP capture device , and switch capture device . The data capture devices  preferably includes the STP data capture device .","The data captured by data capture devices  are forwarded over a network  to a system . The network  may comprise any suitable network, such as an Ethernet Local Area Network (LAN) or other type of LAN or Wide Area Network, such as WAN .","The system  performs many of the functions of the central message processor  and fraud detection system . Consequently, in order to avoid introducing redundant material, reference may be had to the descriptions above for an explanation of these functions and implementation of the functions.","In summary, the system  includes a catcher  that operates 24\/7 and receives the data that is captured and sent over the network . The catcher  stores records in a daily file  and also a Registration Notification (RegNot) file  or Reject file . A RegNot pitcher  transfers data from the RegNot file  to a clone detector system  over a network . The clone detector system  may comprise the fraud detection system  or any other suitable system for detecting clones.","A Reject parser , an ANSI-41 parser , an update stats unit , and a distinct MIN unit  have access to a database . The database  is comprised of separate tables, fields, and storage areas which are described in more detail below. The Reject parser  reads data in the Reject file  and inserts or updates data within a database . The ANSI-41 parser  reads the data in daily files  and parses the data into separate tables and fields within the database . The update stats unit  selects records from the database  and updates statistical information stored in the database  and also a distinct MIN file . This statistical information, as described in more detail below, can be relayed to users through one or more interfaces . The distinct MIN unit  access data from the distinct MIN file  and database  and maintains a separate record for each MIN for each day.","The interface  may comprise stations, such as on-line stations , , and , having access to the database  through a network . As with stations , , and , interface  support queries for use by customer support as well as by other personnel. The system  supports the same types of queries as the system in , namely queries related to roamer visibility, fraud, network traffic, network engineering, customer support, marketing, and other aspects of administrating a network. Specific examples of these queries will be provided in the description below.","Although networks , , and  have been shown as TCP\/IP networks, it should be understood that the invention may employ other types of networks, such as frame relay or ATM networks. Furthermore, although the networks , , and  have been depicted as separate and distinct networks, these networks may instead form a single network.","A general description of the processing performed by the system  will be provided with reference to  followed by more detailed descriptions of the processing with reference to .  depicts a process-table relationship of the system shown in . The ANSI-41 parser  is depicted as a parse object , the update stats unit  as an upd_stats object , a distinct MIN unit  as distmin object , and RegNot Pitcher  as RegNot\/QualReq object .","In general, the parse object  inserts a record into a call_detail table  with this record preferably being a pair of ANSI-41 messages. A child process is spawned after receiving the message and this child process inserts the message record into one of the message tables . If the message, however, is a RegNot, which is a Registration Notification sent to the HLR to indicate that a customer has been newly registered or re-registered, or a QualReq, which is a Qualification Request used to request validation of a mobile or request validation and profile of a mobile, then the message is stored in a RegNot\/QualReq table . In the preferred embodiment, each of the message tables  and RegNot\/QualReq table  stores a unique message type whereby the messages stored in message table differs from the messages stored in message tables . . . and from the messages stored in RegNot\/QualReq table . Thus, with 54 different ANSI-41 messages presently available, the system  may have a RegNot\/QualReq table  and  different message tables to . The invention, however, is not limited to the 54 presently available ANSI-41 messages but, as will be more apparent from the description below, encompasses additional messages transmitted over the SS7 network .","The upd_stats object  selects records from the RegNot\/QualReq table , writes all valid records into a daily file dmfileMMDD.dat file , and inserts or updates statistics into a call_det_sum table . The upd_stats object  reads the records sequentially from the RegNot\/QualReq table  with the location within the table  being maintained in a seq_tbl table . The upd_stats object  uses an NPA-NXX and line range within the records to look up the home company, SID, and switch within a sid_listing table .","The distmin object  reads the records from the daily file dmfileMMDD.dat  and inserts or updates an entry for each MIN with the latest registration for that day as a record in a distmin table .","The system  may be implemented with any suitable hardware and software. In the preferred embodiment, the system  is implemented on a version 7.22 Informix server running on a six CPU Hewlett-Packard K-570 with 728 MB RAM and version 10.20 of an Operating System. The storage for the database is provided by an MTI disk array configured with raid level ten protection. Users fall under one of three categories: parsers that input ANSI-41 switch data, background processes that provide data summarization support, both utilizing shared memory connections to the server, and users that actively query the data through one of the interfaces  using TCP sockets.","The Informix server has fourteen logical data volumes with six supporting the server instance for the master database, physical and logical logs, and sorting. The eight remaining volumes are assigned to the database supporting the VISION application. Seven of these eight volumes are reserved for the ANSI-41 messages and are isolated for table fragmentation. The remaining volume is used to store reference and summarization tables. The database is non logged ANSI isolation level dirty read. Backups are performed at 1:00 am utilizing SQL unload scripts, each backup cycle unloads the previous day's data and creates the next day's fragment. In the event of system failure recovery can be as granular as a single day to the full historical data volume. Upon completion of a system restore the current days data feeds are reprocessed up through current real-time. The backup system is designed to achieve the best balance between transaction performance and recoverability.","A more detailed description of the catcher  will now be provided with reference to . As discussed above, a data capture device  may capture data from a variety of sources, such as from the link capture device , or the STP capture device . The processing that occurs when data is capture by the link capture device  differs from the processing that occurs when data is captured from the STP capture device .","An explanation will first be given as to the processing that occurs when data is captured over the link capture device . With reference to , a catcher parent process  is started at  and waits for a client connection to occur at . At , the catcher  checks whether the initial connection contains a valid ID. As discussed above with reference to , each transmission from the link capture device  includes a header having an STS ID as well as other information. The catcher  determines whether that STS ID is a valid ID and, if it is not, it rejects the connection as invalid at  and then returns to  and waits for the next client connection. If the ID is valid, then at , the catcher  determines whether a connection has already been established for that ID. If a connection has been established, then at  the catcher  rejects the connection as being a duplicate feed and returns to  and enters a wait state. If no connection has been established, then at , the catcher  spawns a child catcher process for that ID.","An operation of a catcher child process  is shown in . The catcher child process begins at  and at  reads incoming data from a client feed. At , the catcher  determines whether the data is a reject record, and, if it is, writes the record to the reject file  at . If the data is not a reject record, then the catcher  next determines whether the data is a registration notification record at . If the data is a registration notification record, then at  the catcher  writes the record to the RegNot file  at . At  the catcher  determines whether there are any more records in the memory to compare. For the first message, the catcher  does not have any more messages to compare and turns to  and determine whether the record has been paired. As discussed above, certain of the ANSI-41 messages can be paired together as a set of \u201cinvoke\u201d and \u201creturn\u201d messages. If the record is not paired, then at  the record is written to a memory buffer and processing returns to a wait state at . When records exist in memory to compare, then at  the catcher  determines whether the record matches a corresponding record in the buffer memory at . The catcher  determines whether a match exists by comparing the destination point code (DPC), origination point code (OPC), and transaction ID (TRANSID). If a match exists, then at  the catcher  writes the paired record to the daily file . The vision catcher  then returns to  to check whether any additional records exist in memory to compare.","If the record does not match a corresponding record in buffer memory, then at  the catcher  determines whether the buffer record has exceeded its time-out value. If the time-out value has not been exceeded, then the vision catcher  returns to  to determine whether any more records exist in the memory. The time-out period is implemented to prevent records from remaining in the buffer memory indefinitely. If the time-out value has been exceeded, then at  the catcher  determines whether the record is an invoke message. If the message is an invoke message, then at  the catcher  writes the record to the daily file  as an unpaired record and at  the record is deleted from the buffer memory. The return message is not written to the daily file  since by itself it does not contain enough of the critical information used by the system . In other applications of the system , however, the return message may contain information that is useful and may alternatively be written to the daily file  after its time-out value has been exceeded.","An STP catcher parent process  which is performed by the vision catcher  when receiving data from the STP capture device  will now be described with reference to . The STP catcher parent process begins at  and at  the catcher  waits for one of the STP data collectors  to connect. At , the catcher  determines whether the initial connection contains a valid header. As discussed above with reference to , the header of a data transmission includes an ID, such as an STS ID which the catcher  reads to determine whether the header is valid. If the header is not valid, then at  the catcher  rejects the connection as invalid and returns to a wait state at . If the connection has a valid header, then at  the parent process spawns a child catcher for that STP data-collector connection.","With reference to , an STP catcher child process  begins at  and at  the catcher  reads its point code list. The point code list file contains all of the home networks point codes for filtering duplicate messages. The point code list is used for two reasons: one is to determine which messages to capture from the STP and the second is to eliminate receiving duplicate messages caused by inter-company messaging. At , the catcher  waits for incoming data from a client feed. At , the catcher  determines whether the MTP and SCCP layers have been successfully parsed. The data coming from an STP pair is coming from a higher level than data off the SS7 network from one of the data capture devices . As a result, the network layers of communications need to be removed. If the network layer parse was unsuccessful, then at  the record is dropped and the catcher  writes the message to an error log. If the network parse layer parse was successful, then at  the catcher  checks whether the OPC and\/or DPC are in the STP point code list. If one of them is in the STP point code list, which is determined by the catcher  with reference to the STP point code list file, then at  the catcher  checks whether the record is a reject record. If the record is a reject record, then at  the catcher  writes the record to the reject daily file . If the record is not a reject record, then at  the catcher  determines whether the record is registration notification. If the record is a registration notification, then the catcher  writes the record to the RegNot file . If the record is neither a reject record nor a registration notification record, then the catcher  writes the message to the STP daily file  at .","A process  of pairing records from the STP daily file  will now be described with . The process  begins at  and at  a pairer  reads from an STP daily file  and determines at  whether any more records exist in memory to compare. If no more records exist to compare and, as determined at , that the record was not paired, then at  the pairer  writes the record to the buffer memory and returns to  for reading the next entry in the STP daily file . If additional records exist in memory to compare, then at  the pairer  checks whether the record matches a corresponding record in the buffer memory by comparing the DPC, OPC, and TRANSID of the records. If a match exists, the pairer  writes the paired record to the daily file . If the record does not match a record in the buffer memory, then at  the pairer  checks whether a time out value has been exceeded. If the time out value has been exceeded, then at  the pairer  checks whether the message is an invoke message and, if it is, writes it to the daily file  as an unpaired message at . After the record has been written to the daily file , the pairer  deletes the record from the buffer memory at .","A method  of parsing the data will be described with reference to . The parsing process  begins at  and at  the parser  determines whether there is a last byte file and creates one if there is not at . At , the parser  determines whether the daily file  contains any data to read. If no data exists in the daily file to read, then at  the parser  checks whether the day has advanced and updates the last byte file and opens a new daily file if it has at . When the daily file  contains data to be read, the parser  reads the data and determines whether it contains valid header information at . If the header information is not valid, then at  the parser  attempts to resync the daily file  and determines whether the resyncing was successful at . If it was not successful, then at  the parser  logs the error and exits. If the resyncing, on the other hand, was successful, then the parser  returns to  and checks whether any data needs to be read from the daily file .","If the header information is valid, then at  the parser  parses the TCAP information and determines whether the parse was successful. If the parse was unsuccessful, then the parser  attempts to resync the daily file  at . If the TCAP information was successfully parsed, then at  the parser  parses the message parameters and determines whether the parse was successful. If the parse was not successful, then at  the parser  logs the bad parameter and continues at  to create a database insert statement. At , the parser  determines whether the insert statement has been successfully stored on the database . The insert record is actually stored in the message table  or RegNot\/QualReq table  dedicated for the particular message in the data record. Consequently, the system  stores like messages in common message tables . If the insert was unsuccessful, then at , the parser  determines whether the record is a duplicate, and, if it is not, logs the error and exits at . If the record was a duplicate, then at  the parser  saves the duplicate record in statistical information. After saving the duplicate record at  or after a successful placement of an insert record into the database , the parser  updates the statistical information and the last byte file at . The parser  then returns to  to determine whether the daily file  contains any data to be read.",{"@attributes":{"id":"p-0190","num":"0195"},"figref":"FIG. 21","b":["726","941","951","952","726","953","954","726","955","956","726","954","957","726","958","959","726","954","960","726","961","726","952","962","726","954"]},{"@attributes":{"id":"p-0191","num":"0196"},"figref":"FIG. 22","b":["726","944","740","971","972","973","974","975","726","976","977","726","974","979","726","980","726","981","982"]},"If the FLUSH was successful as determined at , then at  the parser  creates an INSERT buffer for the message type tables. As discussed above, the INSERT is generated for one of the message tables to or RegNot\/QualReq table . At , the parser  determines whether the PREPARE was successful, and if not, logs the database error and exits at . If the PREPARE was successful, then at  the parser  performs a FLUSH into the message table . If the FLUSH was successful, as determined at , the parser  terminates at , otherwise, the parser  logs the database error and exits at .","A process  of parsing records from the reject file  will now be described with reference to . The reject parser  begins at  and at  determines whether there is a last byte file. If not, the reject parser  creates a new last byte file at . After the last byte file has been created or if there already was one, then at  the reject parser  determines whether the reject file  contains any data to be read. If no data exists, then at  the reject parser  determines whether the day has advanced. If the day has advanced, then at  the reject parser  updates the last byte file and opens a new daily reject file  at .","When the reject daily file  contains data to be read, the reject parser  at  reads the header information and determines whether it is valid. If it is invalid, then at  the reject parser  attempts to resync the file  and checks whether the resyncing was successful. If the resyncing was unsuccessful, then at  the reject parser  log the error and exists. If the resyncing was successful, then the reject parser  returns to  to read the data from the reject daily file .","If the header information is valid, then at  the reject parser  attempts to parse the TCAP information and checks whether the parsing was successful. If the parsing was unsuccessful, the reject parser  attempts to resync the file  and determines at  whether the resyncing was successful. If the TCAP information was successfully parsed, then at  the reject parser  attempts to parse the ANSI-41 parameter set and checks whether that parse was successful Tf the parsing was unsuccessful, then at  the reject parser  logs the bad parameter and continues at  to create a database UPDATE\/INSERT statement. At , the reject parser  attempts to place the UPDATE record into the call_detail table  and determines whether the record was successfully placed. If it was not, then at  the reject parser  determines whether the record was a duplicate and, if it was not, logs any error and exits at . The reject parser , at times, will not be able match the reject message with a message in the database  and will have to wait for a subsequent operation of process  to match the reject message. If the record was a duplicate, then at  the reject parser  saves the duplicate record as statistical information in a reject statistical file in the database  and returns to  to determine whether the reject daily file  has any data to be read from.","If the UPDATE record was successfully placed in the call_detail table , then at  the reject parser  attempts to place the UPDATE record into one of the message tables  dedicated for reject messages. If the reject parser  was successful in placing the UPDATE record into the message tables , then at  the reject parser  attempts to UPDATE\/INSERT the record into the reject statistical file in database . At , the statistical information is updated and the last byte file is updated. If the UPDATE record was unsuccessfully placed into the message table , then at  the reject parser  logs the error and exits.","A process  performed by the Upd_Stats object  will now be described with reference to . In general, the Upd_Stats object  selects records from the RegNot\/QualReq table , may acquire additional information from the sid_listing table , and inserts or updates information in the call_det_sum table . The process  begins at  and at  the Upd_Stats object  selects the last read sequence number from the sequence table Seq_Tbl . At , the Upd_Stats object  determines whether a new record exists in the RegNot\/QualReq table  with the next sequence number. If no record exists, then at  the Upd_Stats object  sleeps for a period of time, such as a second, and then repeats  to determine whether the record now exists. When a record does exist in the RegNot\/QualReq table  with the correct sequence number, then at  the Upd_Stats object  determines whether a home SID and company or home region can be determined from the NPA-NXX-XXXX information in the record. The Upd_Stats object  performs a look-up function in the sid_listing table  to find the home SID and company or the home region. If this information cannot be determined, then at  the Upd_Stats object  updates the sequence number in the sequence table Seq_Tbl . If the information on the home SID and company or home region can be determined, then at  the Upd_Stats object  determines whether a serving company or home region can be determined from the MSCID. The Upd_Stats object  derives the serving company and home region from information in the sid_listing table . If this information is unavailable, then at  the Upd_Stats object  updates the sequence number in the sequence table Seq_Tbl . If the information is available, then at  the Upd_Stats object  writes a record to the dmfileMMDD.dat file . The dmfileMMDD.dat file  contains all the records already tested for STATS and are ready to be used by the distmin object . At , the Upd_Stats object  attempts to INSERT\/UPDATE information in the call_det_sum table  and determines whether this action was successful. If it was not, then at , the Upd_Stats object  logs the error and exits. If it was successful, then at  the Upd_Stats object  updates the sequence number in the Seq_Tbl .","The call_det_sum table  contains fields for the home company, home SID, home switch, serving company, serving SID, OPC, DPC, TRANSID, message type, date time, STATS, and message errors. Some of this information, as discussed above, is obtained by the Upd_Stats object  from the sid_listing table . The STATS in the call_det_sum table , in this example, may fall into one of four categories. The category of \u201cvalid\u201d indicates that the paired record has a valid return and means that no error or authorization denied information accompanies this message. The category of \u201cinvalid\u201d means that the paired record has an invalid return and that there is an error in or authorization denied associated with that message. A third category is \u201cunpaired\u201d meaning that the record did not have a return and the status is consequently unknown. The fourth category is a \u201creject\u201d category which is handled by the reject parser .","A process  performed by the distmin object  will now be described with reference to . The process  begins at  and at  the distmin object  determines whether there is a last byte file. If not, the distmin object  creates the last byte file at . At , the distmin object  waits for data to be read from the dmfileMMDD.dat table . When there is new data to be read, the distmin object  reads the RegNot record written by the Upd_Stats object . At , the distmin object  attempts to update the distmin table  when the time associated with the new record is more recent than any record in the distmin table  associated with that particular MIN. The distmin object  also determines whether the update was successful at , and, if it was not, determines whether there was an error from the database. If there was, the distmin object  logs the error and exits at . If there was no error from the database, then at  the distmin object  attempts to place an insert record as a new RegNot in the distmin table . If this new RegNot record was successfully placed in the distmin table , then the distmin object  updates statistical information and the last byte file at . If the distmin object  was unsuccessful in placing the RegNot record into the distmin table , then the distmin object  checks whether there was an error from the database at  and logs the error and exits at  if there was such an error.","The distmin table  has an entry for every MIN encountered during a day. The distmin table  preferably contains the fields of the MIN, home SID, serving company, the serving SID, the serving switch, the message type, the date, the time, DPC, the OPC, and the NPA-NXX. As discussed above, the distmin object  checks the time of the entry of the distmin table  and compares that to the time of a new record in the dmfileMMDD.dat file . The distmin object  only updates the distmin table  when the new record is more recent than that stored in the distmin table  for a particular MIN.","As described in the summary of the invention, information from the messages provides roamer visibility, fraud, and other useful administrative data. This data is available for query by on-line customer support work stations as well as other personnel. This data, as mentioned in the summary of the invention, can be processed to create various statistics relevant to network traffic, network engineering, customer support, and marketing. The interfaces  to the system  provide personnel with this query capability.","A process  by which personnel gain access to the system  through one of the interfaces  will now be described with reference to . A graphical user interface, (\u201cGUI\u201d) begins at  and at  the interface  prompts the user for a password. Upon successful login as determined by the system  at , the system  next checks whether that login name is already in a session at . If the login name is already in a session, then the system  displays a message to the user that the user is already logged on at  and processing returns to  at which the time the user is prompted for a password. If the login name is not already in a session, then the system  checks whether the password has expired at . If the password has expired, then at  the user is required to change the password and to continue the login procedure at . If the password has not expired then the system  displays a main screen at .","An example of a Graphical User Interface  is shown in .  depicts a main menu  having a tool bar , a header section , and a results area . In this example of the GUI , the tool bar  includes an icon  for a MIN\/ESN query, an icon  for an active roamer query, an icon  for a switch-to-switch query, an icon  for a transaction statistics query, an icon  for printing the query results, and an icon  for on-line help. The tool bar  is not limited to these icons but may include additional icons for other types of queries.","The header section  varies according to the query selected. In the example shown in , the MIN\/ESN icon  was selected for a MIN\/ESN query. Consequently, the header section  displays the MIN\/ESN header . The result section  contains all entries satisfying the search parameters of one of the queries.","One of the queries available to a user of the system  is a MIN\/ESN query. Through a MIN\/ESN query, the roaming activity of a specific customer can be seen. As shown in more detail in , the MIN\/ESN header  includes a field  for entering the MIN, a field  for entering the ESN, and a field  for entering a date. The user enters one of or both of the MIN and ESN and also provides date information in field . To execute the query, the user selects the \u201cRun Query\u201d button  and can cancel the query at any time by pressing the \u201cCancel Query\u201d button . The user may specify the date in one of two ways, by specifying an exact date or by indicating a range of dates. To limit the query to one single date, the user selects the date within field  and clicks on the exact date field . On the other hand, to perform a query on a range of dates, the user selects the starting date within field  and leaves the exact date field  unmarked whereby the query will pull all records from the date specified in field  to the present date.","A process  of performing a MIN\/ESN query will now be described with reference to . The process  begins at  and at  the system  receives the MIN and or ESN along with data information at . The system  creates statements for PREPARE\/OPEN ESQL\/C commands at  and checks whether the PREPARE\/OPEN was successful at . If it was unsuccessful, then the process  returns to  so that the user may reenter the MIN and\/or ESN and data information. If the PREPARE\/OPEN was successful, then at  the system  fetches the first row from the call_detail table . If the FETCH was successful, as determined by the system at , then at  the system  displays the row on a main screen on the interface . Subsequent rows are fetched at  and displayed at  until the complete set of records satisfying the query are displayed on the interface . If a FETCH is unsuccessful, then at  the system  checks whether there was a database error. If an error does exist, then the system  displays an error message to the interface , finishes retrieving rows, and returns control to the user at .","A process  by which a user can obtain detailed information for individual entries in the search results will be described with reference to . A MIN\/ESN detail query begins at  and at  the system  receives a user selection for a row on the main screen . At , the system  creates a select statement for one of the message tables  or RegNot\/QualReq table . At , the system  determines whether the PREPARE was successful, and, if it is not, displays an error to the user at . If the PREPARE was successful, then at  the system  fetches the record from the message table  or RegNot\/QualReq table  and fetches all \u201creadable\u201d fields from the parameter dictionary at . The system  then displays the information in a dialog box at  and ends the query at .","An example of the results of a MIN\/ESN query is shown in .  shows results of a search in section  of a query involving a particular MIN, which was entered into the MIN field , and date, as entered in the date field . Each row within the section  is a separate message that contains that MIN and the columns in the section  provide general information on each message. As discussed above with reference to , a user may select a single record in which case the record will be shown in a tabular format.","An example of a record detail for a Registration Notification message is shown in . When the user selects a single record from the results section , the system  pulls all of the parameter data from one of the message tables  or the RegNot\/QualReq table . With reference to , the GUI  displays the record in a format with a plurality of tabs . In the example shown in , the \u201cGeneral\u201d tab is selected and many of the general parameters shown in A are also shown in this tab. To view some of the other parameters, the user simply clicks on one of the other tabs and information grouped under that tab will be displayed.","The user can also scroll through the messages in the results section  with buttons  to . For instance, the user presses the \u201cPrev\u201d button  to view the previous record, the \u201cNext\u201d button  to view the next record, the \u201cPrint\u201d button  to print the record, and the \u201cClose\u201d button  to close the display  of that particular record. If the user is interested in only scrolling through messages of the same type, such as all Registration Notification messages, then the user selects field .","By displaying the parameter data with tabs , the data can be easily viewed by the user. The user need not scroll through a large amount of data to arrive at the data of interest but rather can quickly point to a tab  to view all of the information that is desired. Also, the system  preferably provides a tab  only if a parameter displayed in that tab  contains data. For instance,  does not show any tab for \u201cAuthentication\u201d since this record did not contain such information. In contrast,  does include a tab  for \u201cAuthentication\u201d since this record does contain such data.","When the user selects the active roamer query icon , the main menu  displays an active roamer header, such as header  shown in . The header  includes a field  for the serving SID, a field  for the home SID, a field  for the switch, and a field  for the NPA-NXX. The user can structure a query by selecting any one of the fields , , , or  or by entering data into any combination of the fields , , , or . The system  then searches for all unique registration notification records that are registered in a serving market but which have not been canceled with a Registration Cancellation or an MSInactive message and that do not have an authorization denied or error code. The user may also select a field  to show all registrations. With this field  selected, all unique registrations, whether or not they have been canceled with a Registration Cancellation message, are shown. In this example, the search is performed only for the current day, although in other applications of the invention, day or range of dates may be entered by the user.","A process  of performing an active roamer query will now be described with reference to . The active roamer query begins at  and at  the user enters the search parameters. The user, for instance, may provide the serving SID, switch, home SID, or NPA-NXX information and may also limit to currently registered or all registration messages. At  the system  creates statements for OPEN\/PREPARE ESQL\/C commands and at  determines whether the OPEN\/PREPARE was successful. If it was successful, then at  the first row is fetched and at  the system  determines whether the FETCH was successful. If the FETCH was not successful, then the system  determines whether there was a database error at  and, if there was, displays an error message to the user on the interface  at . If there was no database error, then the system  at  finishes retrieving rows and returns control to the user. If the FETCH was successful, then at  the system  determines whether a registration cancellation, MSInactive, authorization denied, or error messages have been received at . The current record is displayed at  and the system  fetches the next row at .","As with the search results from a MIN\/ESN query, the results of the active roamer query will be displayed in the section . An example of search results for an active roamer query is shown in . In this example, the search was performed between serving SID  and home SID . Also, the search included all registrations. From the results of a search, the user may double click on any entry in order to receive all of the detailed information associated with that message.","A process  by which the system  displays and retrieves this information for the user will now be described with reference to . An active roamer detail query begins at  and at  the user selects a row from the main menu . At , the system  creates a SELECT statement for one of the message tables  or for the RegNot\/QualReq table  and checks at  whether the PREPARE was successful. If not, at  the system  displays an error to the user and ends the query at . If the PREPARE was successful, then at  the system  fetches the record from the message table  or RegNot\/QualReq table  and fetches all \u201creadable\u201d fields from the parameter dictionary at . The system  then displays the information in a dialog box with tabs at  and ends the query at .","If the user selects the switch-to-switch icon , then the header  will display the switch-to-switch header, such as switch header  as shown in . The switch-to-switch query allows a user to search ANSI-41 messaging on one switch or between two switches. The header  includes a field  for the OPC, a field  for the DPC, and a field  for a date. The header  also includes a field  which allows a user to select either an exact date or a range of dates from the date indicated in field  to the present date. The user selects a \u201cRun Query\u201d button  to initiate a query and presses a \u201cCancel Query\u201d button  to end the query.","A process  of performing a switch-to-switch query will now be described with reference to . A switch-to-switch query begins at  and at  the user provides the OPC and\/or DPC along with a date. At  the system  creates statements for PREPARE\/OPEN ESQL\/C commands and at  determines whether the PREPARE\/OPEN was successful. At , the system  fetches the first row and at  determines whether the FETCH was successful. If the FETCH was not successful, then at  the system  checks whether there was a database error and, if there was, displays an error message to the interface  at . If there was not a database error, then at  the system  finishes retrieving the rows and returns control to the user. If the FETCH was successful, then at  the system  displays the record on the main menu  with the results section . The system  then returns to FETCH the next row at .","As with the MIN\/ESN and active roamer queries, the user may double click on an entry in the results section  to view a detailed record of all parameters in that message. An example of search results from a switch-to-switch query is shown in . In this example, the search was performed between OPC 001-151-101 and DPC 001-151-126 from Dec. 2, 1997, to the present date, which was Dec. 2, 1997.","A process  of performing a detailed switch-to-switch query begins at  and at  the user selects a record from the results section . At  the system  creates a SELECT statement for the corresponding message table  or RegNot\/QualReq table  and at  determines whether the PREPARE was successful. If it was not, then at  the system  displays an error to the user and ends the query at . If it was successful, then at  the system  fetches all \u201creadable\u201d fields from the parameter dictionary at  and displays the information in a dialog box with tabs at .","When the user selects the transaction statistics icon , the GUI  provides a transaction statistics window . The transaction statistics queries provide information about registration notification and some qualification request messages between two cellular service providers. With reference to , a transaction statistics window  includes a section  for selecting either information on \u201croaming\u201d or information on \u201cserving.\u201d The roaming information provides data on a service provider's own subscribers which are roaming in other networks whereas the serving information provides data on all customers within the home service providers network. In this example, the home network is shown as BellSouth Cellular Corporation (\u201cBSCC\u201d), although the invention may be used by any type of service provider.","The transaction statistics window  also includes a field  for a region within the home network, a field  for a SID, a field  for a switch, a field  for the NPA-NXX, and a field  for the MIN. On other service providers, the transaction statistics window  includes a field  for the company, a field  for a SID, a field  for a switch, a field  for the NPA-NXX, and a field  for the MIN. The transaction statistics window  also includes a field  for checking destination point codes only from the GTE Clearinghouse. When field  is checked, the system  only shows messages sent to the GTE Clearinghouse destination switch. A \u201cRun Query\u201d button  is used to initiate a query and a \u201cCancel Query\u201d button  is used to stop a query. A \u201cClose\u201d button  allows the transaction statistics window  to be closed, a \u201cPrint\u201d button  allows the results of a query to be printed, and a \u201cHelp\u201d button  provides on-line help. The results of a query are displayed in the results section .","A process  of performing a transaction statistics query will now be described with reference to . A statistical query begins at  and at  the user provides information on the parameters for the query. The user may provide information on any one or any combination of the date, roaming or serving context, home company, serving company, home SID, serving SID, home switch, roaming switch, NPA-NXX, and MIN. The fields in the transaction statistics window  are organized in an order from less specific to more specific. The user may search on a high level from a region to a company or may perform a detailed query on a specific MIN or NPA-NXX. These different levels of searching capability make it possible for the user to have a very broad or a very specific search, depending upon the needs of the user.","At , the system  determines whether the user has manually entered a SID, NPA-NXX, or a MIN. If the user has, then at  the system  populates the other fields by performing a look-up function in the sid_listing table . If there was an error in retrieving the look-up information, as determined at , then the system  displays an error and allows the user to continue or retry the query at . If there was no error, then at  the system  displays the information in the fields above the one receiving information from a user. For instance, if the user enters a particular NPA-NXX, the system  performs a look-up in its sid_listing table  to determine what company or region serves that NPA-NXX and which SID is associated with that NPA-NXX. The system  then retrieves this information from the sid_listing table  and populate those fields with the data.","The user can also perform a look-up function and select an appropriate choice from a listing of available choices. For instance, at  the system  determines whether the user has dropped down the list on a category, such as when the user selects the list for all companies in field . At , the system  performs a look-up function performs a look-up function in the sid_listing table  and populates the selection with the available choices. If an error occurs during the look-up, as determined at , then an error is displayed and the user is allowed to continue or retry the query at . If there was no error, then at  the choices available to the user are displayed.","If the user double clicks in a result area, as determined at , then the 710 determine whether the results are already at the MIN level. If the results are at the MIN level then at  the system  pulls up the MIN\/ESN query and automatically runs that query. If it is not at the MIN level, then at  the system  performs a query with the currently selected value in the result area. For instance, if a query was first performed against all companies, the results section  may contain records from a plurality of different companies. If the user then double clicks on a particular company within the results section , the system  populates the field  with the selected company, performs that query, and displays the results in the section . Each time that a more detailed field is selected, the system  limits the query to the selected values and performs that query. If the MIN is selected in the results section , however, the system  goes to the MIN\/ESN query and performs that query with the selected MIN.","If the user has \u201ctraversed\u201d the queries, as determined at , then the system  next determines whether only the values have been changed at . If only the values have been changed, then at  the system  changes the values in the criteria fields without rerunning the entire query. On the other hand, when it is not just the values that are changed, the system  changes that criteria values and runs the query for that scenario at .","A process  of performing a company\/SID level query will now be described with reference to . The process  begins at  and at  the system  builds an AGGREGATE query using the user-selected criteria entered into the fields. At  the system  performs an OPEN\/PREPARE and determines whether it was successful. If not, the system  returns an error message to the GUI  at . If it was successful, then at  the system  fetches the first row from the database and determines at  whether the FETCH was successful. If it was successful, then at  the system  returns the record to the GUI . If the FETCH was unsuccessful, then at  the system  determines whether it was the last row, and if it was, the system  returns the row to the GUI at . If it was not the last row, then at  the system  returns an error message to the GUI .","A process  of performing a statistical query at the NPA-NXX\/MIN level will now be described with reference to . The process  begins at  and at  the system  builds an \u201cinner\u201d loop query. The process  involves both the use of \u201cinner\u201d and \u201couter\u201d loops. The \u201cinner\u201d and \u201couter\u201d loops are generic for the types of nested queries performed by the process . For instance, a query for all NPA-NXXs roaming a particular serving company requires an outer loop for all NPA-NXXs but also an \u201cinner\u201d loop for all SIDs in that company. The registration notification messages do not contain the serving company information whereby the system  must perform a loop on just the SIDs.","At  the system  performs a PREPARE for the inner loop and determines whether it was successful. If it was not, then at  the system  returns an error message to the GUI . If it was successful, then at  the system  builds an outer loop query and at  performs a PREPARE\/OPEN and determines whether it was successful. If it was not, then the system  returns an error message to the GUI  at . If it was successful, then at  the system  fetches the first row from the outer query and determines at  whether the FETCH was successful. If it was not, the system  next determines whether it was an outer FETCH error at  and returns an error message to the GUI  at  if it was an outer FETCH error.","If the outer FETCH was successful, then the process  involves going through the inner loop based on the record fetched with the outer loop. With reference to , at  the system  prepares an OPEN and FETCH for the first or next row from the outer query and determines at  whether the inner FETCH was successful. If it was not, then at  the system  determines whether it was an inner error and if it was, returns an error to the GUI  at . If the inner FETCH was successful, then at  the fetched row which satisfies both the inner and outer loops is returned to the GUI .","Some examples of transaction statistics queries are shown in . In the example shown in , a query was performed on all subscribers roaming in all foreign markets. The column under \u201cHome Company\u201d lists all of the various regions within the BSCC and the column under \u201cServing Company\u201d lists all of the companies serving BSCC subscribers. The results of this query also indicate all RegNots messages, and status of each message, such as whether it was valid, invalid, unpaired, or a reject. A user can drill down from the results shown in  and focus in all roaming subscribers of BellSouth Mobility Incorporated (BMI) in Region  which are roaming in BMI Region . The results of such a query are shown in . The query may be even more limited, such as the query shown in D by restricting the query from home SID . An even more restricted search is shown in  in which the serving SID is limited to a particular value. As shown in , the user can even drill down further by limiting the query to a particular NPA-NXX. Through the transaction statistics query, the user can therefore structure the query to a level of detail that is desired.","The entries in the results section of a transaction statistic query are preferably color coded. The reject records are preferably displayed as a red row in the results section to highlight these records to the viewer. Additionally, the unpaired records are preferably displayed in blue to separate these records from all other records.","As discussed above, each message is displayed in a tabular format with each tab containing a set of parameters commonly grouped together. Some examples of various records are shown in . The invention, of course, is not limited to these particular messages or even to this particular grouping of parameters but instead encompasses all message types. An example of the record details for an Authentication Failure Report is shown in . When the \u201cGeneral\u201d tab is selected, the parameters of general interest are displayed to the user in the GUI shown in A. If the user selects the \u201cSystem\u201d tab, then the parameters disclosed in  may be displayed. Additionally, the user may select the \u201cAuthentication\u201d tab to receive the authentication data shown in . In the example shown in , the Authentication Failure Report message indicates a report type of an RANDC mismatch.","Customer service, technical support, or engineering support can rely on the data within a record detail to quickly and easily identify a problem that a particular customer may be encountering. The system  provides a quick and easy method of identifying the source of a problem and does not require the service provide to put any type of \u201csniffer\u201d at a switch. Moreover, the messages are stored on a daily basis and are kept for preferably one week whereby personnel can query to obtain information on past events.","Another example of a record detail is shown in . In this example, the message is a Feature Request message and shows the \u201cGeneral\u201d parameters in . As shown in the \u201cDialed Digits\u201d field, the digits of \u201c*18\u201d were entered in order to activate a roaming request. As shown in , the \u201cCall Info\u201d tab reveals that the \u201cFeature Result\u201d was \u201cSuccessful.\u201d","The data contained within the system  and available to the user can be used for a multitude of purposes. Customer service, for instance, can determine that a particular user was able to activate a roaming request feature request and that it was successfully received.","An example of the record details for a Registration Notification message is shown in . The \u201cGeneral\u201d parameters of the Registration Notification message are shown in  and includes such things as the MIN, ESN, home SID, serving SID, and the OPC and DPC. The \u201cCalling Features\u201d tab displays parameters indicating which features a particular user may have available. As shown in the example depicted in , the calling features include such features as call waiting, call delivery, three-way calling, call forwarding, and priority call waiting. By viewing the record details, the features available to a particular subscriber can be easily ascertained, which can be extremely useful. For instance, customer support can quickly determine whether a subscriber who is having trouble with three-way calling is authorized for such a feature. The service provider therefore would not waste time and effort in ensuring proper operation of the service provider's network and the subscriber's phone.","The system  also allows a user to customize the system  for that particular user. For instance, as shown in , a user may select messages and chose which parameter pages will be associated with them. A user therefore may be able to customize the system  so that only the \u201cGeneral\u201d parameters are displayed or any other tab  or set of tabs . In an example shown in , the message of a Registration Notification is selected and its associated parameter pages are listed. The user can then select which one of these parameter pages should be displayed during use of the system . The user can customize the system  even further by selecting only certain messages or status codes. With reference to , the user can select only certain messages and can also select only certain status codes. The system  will thereafter show only the selected messages to the user and only the selected status codes.","As a further option available to the user, the user can select the format for displaying the ESN. The user, for instance, can select the decimal format \u201cDEC\u201d shown in  or may select to view the ESN in a HEX format.","With reference to , the user also has the ability to customize the security of the system . The user can, for instance, place user restrictions on the parameters that are viewed, whether the ESN can be viewed, or whether the ESN can be printed. Consequently, some users may restricted from viewing parameters. With regard to the ESN, some users may be able to view the ESN on the screen but may be unable to print the ESN.","In the preferred embodiment, the space on the databases is conserved by coding information. For instance, rather than identifying a message as a \u201cRegistration Notification,\u201d the message is stored as a message ID number of \u201c13.\u201d The system  then performs a look-up into a message dictionary table which correlates the message ID number to the message name. Thus, when displaying information on message \u201c,\u201d the system  reads the ID of \u201c\u201d from the message table, performs a look-up into the message dictionary table, and displays the message as a \u201cregistration notification.\u201d As discussed above, other information concerning the message is also stored in a coded or abbreviated manner. The home company, SID, and switch, for instance, are all determined by a look-up function with the sid_listing table and are not stored in one of the message tables .","The system  also provides the user with a greater amount of control over a query. The system , for instance, does not wait until all results from a query are obtained before displaying them on the screen. Instead, each row or record is displayed after it has been successfully fetched. The user therefore is able to view the records as they are being retrieved and is not forced to wait a significant amount of time before the complete set of results is displayed. The system  also provides the user with an opportunity to cancel the query after it has been initiated. This ability to cancel a query is advantageous since some queries may require a significant amount of processing time before all of the results can be displayed. Consequently, if a user accidentally enters the wrong query, the user can cancel this query in progress and need not wait for the query to be completed.","The system  also holds the results of one query while a second query is being performed. After a user performs any one of a MIN\/ESN query, active roamer query, or switch-to-switch query, the results of the search are displayed in the results section. The user can then perform a different one of the MIN\/ESN query, active roamer query, or switch-to-switch query and the results are once again be displayed in the results section. The results from the first query, however, are not lost but instead a user can recall these results into the results section by once again selecting the icon for the first type of query. The user can then toggle between the two search results with the results being shown in the same results section of the display. In other words, the system  does not open a new window but instead maintains the data for the separate queries within the same window.","The system  has a standards file for use with on-line help. A customer can right-click on an entry and obtain a definition for a particular entry. This information is obtained directly from the standard itself, such as from ANSI-41 and is therefore an accurate definition of the entry.","The system  is able to monitor the SS7 network  and upgrade itself when changes to the network  occur. The system , as discussed above, includes the sid_listing table  that correlates certain parameters to company and SID information. When the system  detects a new OPC or DPC within a SID, this entry is added to the sid_listing table . The system  also monitors and logs any new companies or SIDs. By monitoring these log files and error files, the system  can be upgrade with the most current information.","The forgoing description of the preferred embodiments of the invention has been presented only for the purpose of illustration and description and is not intended to be exhaustive or to limit the invention to the precise forms disclosed. Many modifications and variations are possible in light of the above teaching.","For example, the invention has been described with ANSI-41 messaging in an SS7 network . The invention is not limited to any particular revision of ANSI-41 but encompasses all data signaling that occurs over the SS7 network . Furthermore, the invention may be suited to data signaling within other types of communications networks. Some examples of these other types of communications networks include frame relay and ATM networks.","The invention moreover is not limited to these specific queries but instead encompasses other queries. Since the system  stores the messages and parameters associated with these messages, the system  can return results on any message type of any parameter contained within a message. Thus, for example, some queries may be directed solely to billing parameters associated with one or more of the parameters.","Other queries may be useful in testing and developing new technologies that employ a SS7 network . For example, in the development of Cellemetry , which includes the transmission of data over the control channels in a cellular network, the system  could be useful in ensuring proper transmission of the data and in monitoring the data. Queries could be structured to focus in on only those messages or even parameters of interest, such as only registration messages or feature request messages.","The embodiments were chosen and described in order to explain the principles of the invention and their practical application so as to enable others skilled in the art to utilize the invention and various embodiments and with various modifications as are suited to the particular use contemplated."],"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE DRAWINGS","System Level Overview","Data Capture Devices","Selection and Packaging of Captured Data for Transmission","Processing of Captured Data","Elimination of Redundant Data","Customer On-Line Support Applications","A General Case","System Level Overview of Alternate Embodiment","Catcher Processes","Pairing","Parsing","Updating Statistics","Distinct MIN","Graphical User Interface","MIN\/ESN Query","Active Roamer Query","Switch-to-Switch Query","Statistical Ouery","Sample Records","Preferences","Database","On-line Help","Updating Information"],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0057","num":"0056"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0058","num":"0057"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0059","num":"0058"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0060","num":"0059"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0061","num":"0060"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0062","num":"0061"},"figref":"FIG. 6A"},{"@attributes":{"id":"p-0063","num":"0062"},"figref":"FIG. 6B"},{"@attributes":{"id":"p-0064","num":"0063"},"figref":"FIG. 7A"},{"@attributes":{"id":"p-0065","num":"0064"},"figref":"FIG. 7B"},{"@attributes":{"id":"p-0066","num":"0065"},"figref":"FIG. 7C"},{"@attributes":{"id":"p-0067","num":"0066"},"figref":["FIG. 8","FIG. 1-3"]},{"@attributes":{"id":"p-0068","num":"0067"},"figref":["FIG. 9","FIG. 8"]},{"@attributes":{"id":"p-0069","num":"0068"},"figref":["FIGS. 10A\u2013B","FIG. 9"]},{"@attributes":{"id":"p-0070","num":"0069"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0071","num":"0070"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0072","num":"0071"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0073","num":"0072"},"figref":["FIG. 14","FIG. 13"]},{"@attributes":{"id":"p-0074","num":"0073"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0075","num":"0074"},"figref":["FIG. 16","FIG. 15"]},{"@attributes":{"id":"p-0076","num":"0075"},"figref":"FIG. 17"},{"@attributes":{"id":"p-0077","num":"0076"},"figref":["FIG. 18","FIG. 17"]},{"@attributes":{"id":"p-0078","num":"0077"},"figref":"FIG. 19"},{"@attributes":{"id":"p-0079","num":"0078"},"figref":"FIG. 20"},{"@attributes":{"id":"p-0080","num":"0079"},"figref":["FIG. 21","FIG. 20"]},{"@attributes":{"id":"p-0081","num":"0080"},"figref":["FIG. 22","FIG. 20"]},{"@attributes":{"id":"p-0082","num":"0081"},"figref":"FIG. 23"},{"@attributes":{"id":"p-0083","num":"0082"},"figref":"FIG. 24"},{"@attributes":{"id":"p-0084","num":"0083"},"figref":"FIG. 25"},{"@attributes":{"id":"p-0085","num":"0084"},"figref":["FIG. 26","FIG. 13"]},{"@attributes":{"id":"p-0086","num":"0085"},"figref":"FIG. 27"},{"@attributes":{"id":"p-0087","num":"0086"},"figref":"FIG. 28"},{"@attributes":{"id":"p-0088","num":"0087"},"figref":"FIGS. 29A and 29B"},{"@attributes":{"id":"p-0089","num":"0088"},"figref":["FIG. 30A","FIGS. 30B and 30C","FIG. 30A"]},{"@attributes":{"id":"p-0090","num":"0089"},"figref":["FIG. 31A","FIG. 31B"]},{"@attributes":{"id":"p-0091","num":"0090"},"figref":"FIGS. 32A and 32B"},{"@attributes":{"id":"p-0092","num":"0091"},"figref":["FIG. 33A","FIG. 33B"]},{"@attributes":{"id":"p-0093","num":"0092"},"figref":"FIGS. 34A and 34B"},{"@attributes":{"id":"p-0094","num":"0093"},"figref":["FIG. 35A","FIGS. 35B to 35F"]},{"@attributes":{"id":"p-0095","num":"0094"},"figref":"FIG. 36"},{"@attributes":{"id":"p-0096","num":"0095"},"figref":"FIG. 37"},{"@attributes":{"id":"p-0097","num":"0096"},"figref":"FIG. 38"},{"@attributes":{"id":"p-0098","num":"0097"},"figref":"FIGS. 39A to 39C"},{"@attributes":{"id":"p-0099","num":"0098"},"figref":"FIGS. 40A and 40B"},{"@attributes":{"id":"p-0100","num":"0099"},"figref":"FIGS. 41A and 41B"},{"@attributes":{"id":"p-0101","num":"0100"},"figref":"FIGS. 42A to 42D"}]},"DETDESC":[{},{}]}
