---
title: Method and apparatus for varying the length of an adaptive equalizer based on doppler frequency
abstract: Systems and methods according to the present invention are described for adjusting the number of taps in an adaptive equalizer over time as the rate of change of a communications channel varies. The number of taps or “equalizer length” is adjusted based on an estimate of the Doppler frequency between the devices communicating over a channel. The Doppler frequency is reflective of the rate of change of the communications channel. Greater Doppler frequencies indicate a more quickly varying channel, and vice versa. It is therefore desirable to change the equalizer length (by adding or dropping taps) based on a measurement of the Doppler frequency. Equalizer length is increased as the Doppler frequency decreases. Conversely, equalizer length is decreased as the Doppler frequency increases. This enables the equalizer to achieve a better compromise between the competing goals of adaptation speed (less taps) and ISI reduction (more taps).
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06983125&OS=06983125&RS=06983125
owner: Qualcomm Incorporated
number: 06983125
owner_city: San Diego
owner_country: US
publication_date: 20010925
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["1. Field","The present invention relates generally to wireless communications, and more specifically to varying the number of taps of an adaptive equalizer based on Doppler frequency.","2. Background","Today there are a variety of sophisticated wireless communications systems in use around the world. One such communication system is a code division multiple access (CDMA) system which conforms to the \u201cTIA\/EIA\/IS-95 Mobile Station-Base Station Compatibility Standard for Dual-Mode Wideband Spread Spectrum Cellular System,\u201d hereinafter referred to as the IS-95 standard. The CDMA system allows for voice and data communications between users over a terrestrial link. The use of CDMA techniques in a multiple access communication system is disclosed in U.S. Pat. No. 4,901,307, entitled \u201cSPREAD SPECTRUM MULTIPLE ACCESS COMMUNICATION SYSTEM USING SATELLITE OR TERRESTRIAL REPEATERS,\u201d and U.S. Pat. No. 5,103,459, entitled \u201cSYSTEM AND METHOD FOR GENERATING WAVEFORMS IN A CDMA CELLULAR TELEPHONE SYSTEM,\u201d both assigned to the assignee of the present invention and incorporated by reference herein. The \u201cTIA\/EIA\/IS-2000 Standard\u201d describes a next generation cdma2000 multi-carrier 1\u00d7 and 3\u00d7 air interface specification, hereinafter referred to as the cdma2000 standard.","In the CDMA system, communications between users are conducted through one or more base stations. In this specification, a base station refers to the hardware with which user terminals communicate. A first user terminal communicates with a second user terminal by transmitting data on a reverse link to a base station. The base station receives the data and can route the data to another base station. The data is transmitted on a forward link of the same base station, or a second base station, to the second mobile station. The forward link refers to transmission from the base station to a user terminal and the reverse link refers to transmission from the user terminal to a base station. In IS-95 systems, the forward link and the reverse link are allocated separate frequencies.","Given the growing demand for wireless data applications, the need for very efficient wireless data communication systems has become increasingly significant. The IS-95 standard is capable of transmitting traffic data and voice data over the forward and reverse links. A method for transmitting traffic data in code channel frames of fixed size is described in detail in U.S. Pat. No. 5,504,773, entitled \u201cMETHOD AND APPARATUS FOR THE FORMATTING OF DATA FOR TRANSMISSION,\u201d assigned to the assignee of the present invention and incorporated by reference herein. Further, a high data rate (HDR) system that provides for high rate packet data transmission in a CDMA system is described in detail in the \u201cTIA\/EIA\/IS-856\u2014cdma2000 High Rate Packet Data Air Interface Specification\u201d (hereinafter referred to as the HDR standard), as well as in co-pending U.S. patent application Ser. No. 08\/963,386, entitled \u201cMETHOD AND APPARATUS FOR HIGH RATE PACKET DATA TRANSMISSION\u201d, filed Nov. 3, 1997, now U.S. Pat. No. 6,574,211, issued Jun. 3, 2003, and assigned to the assignee of the present invention and incorporated by reference herein.","Various techniques are employed in systems such as HDR to mitigate the effects of inter-symbol interference (ISI) arising from multipath propagation and imperfect filtering. For example, multiple receiver antennas can be used to exploit diversity against fading. This allows for signal processing in the spatial domain. Adaptive equalizers can also be employed at the receiver to cancel noise and interference in multipath environments. Spatial domain filtering and adaptive equalizers are well known techniques, and their use at the receiver can offer improved performance in systems such as HDR.","Adaptive equalizer performance can be characterized in a number of ways. Two important performance criteria are adaptation speed and minimizing mean square error (MMSE). Adaptation speed is particularly important in those environments where channel interference varies rapidly over time. The tracking ability of the equalizer will depend, at least in part, on the rate at which the equalizer coefficients (or taps) converge as the channel profile changes. Adaptation speed can be affected by a variety of factors. One factor is the selection of an algorithm for adapting the equalizer coefficients. These algorithms are often based on the criteria of minimizing the MSE between known pilot symbols and the equalizer's estimates of these pilot symbols. Two common examples of adaptive MMSE algorithms are the least-mean-square (LMS) algorithm and the recursive-least-squares (RLS) algorithm. For the same number of taps, an equalizer updated using the RLS algorithm will converge faster than an equalizer updated using the LMS algorithm, but the RLS algorithm is more complex to implement.","Another factor affecting adaptation speed is the number of taps in the equalizer, referred to herein as the equalizer length. Adaptation speed is inversely proportional to equalizer length simply because shorter equalizers have fewer coefficients that require updating.","The MMSE associated with an adaptive equalizer determines, among other things, the equalizer's effectiveness at reducing ISI once the filter coefficients converge. MMSE also depends on a number of factors including equalizer length. Longer equalizers will, in general, have a lower steady-state MMSE and will therefore be more effective at reducing ISI. But they will require longer periods of time to converge. Shorter equalizers will converge more quickly but they will have a higher MMSE and will therefore be less effective at reducing ISI.","The channel dynamics should therefore be considered when designing an adaptive equalizer, and particularly when selecting the equalizer length. In general, a shorter equalizer will perform better than a longer equalizer when the multipath channel is varying quickly. This is because shorter equalizers are better able to track the time-varying multipath. Conversely, longer equalizers are more desirable when the multipath channel is varying slowly because the longer equalizer has sufficient time to converge and does a better job at reducing interference.","However, it becomes difficult to set an appropriate equalizer length for those environments where the channel varies quickly over certain periods of time but slowly over other periods. Multipath interference on a mobile telephony channel may often be modeled as such. Shorter equalizers will be able to effectively track the quickly varying channel, but will not perform as well during slowly varying times. Longer equalizers will do a good job of reducing interference during slowly varying periods, but may not be able to effectively track quickly varying channels. An average length equalizer could also be selected that performs sub-optimally under all conditions.","There is therefore a need in the art for an adaptive equalizer capable of effectively reducing ISI in those environments where the rate of change of the channel varies over time.","Embodiments disclosed herein address the above stated needs by adjusting the length of an adaptive equalizer over time as the rate of change of the communications channel varies. According to a first aspect of the present invention, equalizer length is adjusted based on an estimate of the Doppler frequency between the devices communicating over the channel. The Doppler frequency is reflective of the rate of change of the communications channel. Greater Doppler frequencies indicate more quickly varying channels, and vice versa. It is therefore desirable to change the equalizer length (by adding or dropping taps) based on a measurement of the Doppler frequency. Equalizer length is increased as the Doppler frequency decreases. Conversely, equalizer length is decreased as the Doppler frequency increases. This enables the equalizer to achieve a better compromise between the competing goals of adaptation speed (fewer taps) and MMSE (more taps).","Overview","The present invention relates generally to adjusting the number of taps in an adaptive equalizer based on the rate of change of the communications channel as indicated by the Doppler frequency.  depicts an example communications environment A within which the present invention can operate. Example communications environment A includes a transmitter  in communication with a receiver  via a wireless channel . Transmitter  can represent any device capable of transmitting information over wireless channel . Similarly, receiver  can represent any device capable of receiving information over wireless channel . Receiver  includes an adaptive equalizer  for suppressing the effects of noise and interference introduced by wireless channel . Wireless channel  can represent any wireless link over which information can flow according to a defined communication protocol. Communications over wireless channel  can, for example, conform to the IS-95 CDMA standard, the cdma2000 standard, and\/or the HDR standard.","According to example embodiments of the present invention, the number of taps, also referred to as the length of adaptive equalizer , is adjusted as the rate of change of wireless channel  varies over time. Generally speaking, the equalizer length is decreased as the rate of change increases, and conversely, the equalizer length is increased as the rate of change decreases. In this way, an equalizer having a longer length is used during periods where wireless channel  is varying more slowly, thereby taking advantage of the lower MMSE and greater ISI reduction associated with having more taps. An equalizer having a shorter length is used during periods where wireless channel  is varying more quickly, thereby taking advantage of the greater adaptation speed associated with having fewer taps.","However, the rate of change of wireless channel  is difficult to measure directly. According to the present invention, estimates of the Doppler frequency are used instead as an indication of the rate of change of multipath profile over wireless channel . As will be apparent to those skilled in the art, the Doppler frequency represents the change in frequency at receiver  due to the relative motion of the receiver and transmitter . This relative motion can cause changes to the multipath: the greater the relative motion, the greater the rate of change in the multipath, and vice versa. The length of adaptive equalizer  is adjusted as the Doppler frequency changes, indicating either a greater or lesser rate of change in the multipath.","As will be apparent, receivers so configured may find application in many different environments. For example,  depicts a mobile communication environment B that includes a base station  in communication with a user terminal  via wireless channel . Wireless channel  in this example environment can represent the forward and\/or reverse link. Base station  and user terminal  both include a transceiver  (shown as A in base station , and B in user terminal ) for full-duplex communication, wherein transceiver  includes both transmitter and receiver sections. Both transceivers  may therefore be configured in relevant part as described with respect to receiver , though the following description focuses more on applications for the forward link wherein the receiver section in user terminal  is configured as described herein.","In mobile communication environment B, user terminal  can, for example, represent a cellular telephone being used by a passenger in an automobile. As the automobile moves at varying speeds and directions in relation to base station , the multipath profile of wireless channel  will also vary. The Doppler frequency measured between the base station and automobile will be reflective of the rate of change of the multipath interference. According to example embodiments of the present invention, user terminal  employs adaptive equalizer  in transceiver B whose length is adjusted to account for the varying multipath.","Receiver  may be configured to perform the operations described herein in hardware, software, or a combination of both. These operations are described herein and illustrated in the appended flowcharts. It will be apparent to those of skill in the art that many of these operations can be interchanged without departing from the scope of the invention. It will also be apparent that there could be many different ways of implementing the invention in computer programming, whether software or a combination of hardware and software, and the invention should not be construed as limited to any one set of computer program instructions. Further, a skilled programmer would be able to write one or more computer programs to implement the disclosed invention without difficulty based on the flowcharts and associated written description included herein. Therefore, disclosure of a particular set of program code instructions is not considered necessary for an adequate understanding of how to make and use the invention. The inventive functionality of the claimed computer programs and\/or hardware devices will be explained in more detail in the following description in conjunction with the remaining figures illustrating the program flow.",{"@attributes":{"id":"p-0029","num":"0028"},"figref":["FIG. 2A","FIG. 2A"],"b":["104","104","202","108","104","110","202","104","202"]},"According to an example embodiment of the present invention, transmitter  and receiver A exchange information via wireless channel  using data frames (alternatively referred to herein as slots). Data is exchanged within HDR systems in this fashion. Frames can include several portions, such as a pilot portion, a control portion, and a data portion. The pilot portion includes pilot symbols that are a priori known to receiver A. These pilot symbols are used by adaptive equalizer  to adapt the filter coefficients so that noise and interference introduced by wireless channel  are mitigated. The control portion includes control symbols that are used to trigger various control functions within receiver A. The data portion represents the data payload being transmitted by the frame.","Adaptive equalizer  represents a time-varying filter structure having a plurality of filter coefficients (not shown). As will be apparent to those skilled in the art, adaptive equalizer  can be implemented as hardware, software, or a combination of both. As will also be apparent, various adaptive algorithms can be used to adjust the filter coefficients, such as the LMS algorithm or the RLS algorithm. Furthermore, adaptive equalizer  can be implemented as a finite impulse response (FIR) filter or an infinite impulse response filter (IIR). The various example embodiments of the present invention described herein are independent of the particular structure or filter coefficient adaptation algorithm chosen for adaptive equalizer .","The output of adaptive equalizer  represents an estimate of the transmitted symbol y(n). For example, if linear equalization is used adaptive equalizer  represents a tapped delay line FIR filter with coefficients C. The FIR output can be expressed as: \n\n\nwhere the linear equalizer has M+M+1 taps. For a symbol-spaced equalizer, X[n]=X[n\u2212m]. Denoting the main (cursor) tap by the index m=0, the equalizer is said to have Manti-causal taps (i.e., coefficients which multiply the signal samples that come after the cursor sample) and Mcausal taps (i.e., coefficients which multiply signal samples that come before the cursor sample). According to various example embodiments of the present invention, techniques are described for adjusting Mand Mbased on estimates of the Doppler frequency.\n",{"@attributes":{"id":"p-0033","num":"0032"},"figref":["FIG. 2B","FIG. 2B"],"b":["104","104","204","202","108","206","208","104"],"sub":["k","m"],"maths":{"@attributes":{"id":"MATH-US-00002","num":"00002"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"msub":{"mover":{"mi":"y","mo":"^"},"mi":"k"},"mo":"\u2061","mrow":{"mo":["[","]"],"mi":"n"}},{"munderover":{"mo":"\u2211","mrow":{"mi":"m","mo":"=","mrow":{"mo":"-","msub":{"mi":"M","mn":"1"}}},"msub":{"mi":"M","mn":"2"}},"mo":["\u2062","\u2062"],"mstyle":{"mtext":"\u2003"},"mrow":{"mrow":[{"mo":["(",")"],"msubsup":{"mi":["C","k","m"]}},{"msubsup":{"mi":["X","k","m"]},"mo":"\u2061","mrow":{"mo":["[","]"],"mi":"n"}}],"mo":"*"}}],"mo":"="}}},"br":{}},"For combined space-time equalization, we may form an estimate of the transmitted symbol y[n] using the individual symbol estimates (of y[n]) from each antenna and combining such estimates by means of a set of spatial coefficients that we can call S[n]. If we wish to implement global space-time MMSE, we can set all those coefficients to unity and form the combined symbol estimate from the K antennas in the following fashion: \n\n","With E as the expectation operator, the MSE is given by:\n\n.\n","Typically, MMSE optimization is implemented by adaptive algorithms (e.g., RLS or LMS) or by correlation estimation and direct matrix inversion. For LMS optimization, the update equation for the mth coefficient on the kth antenna is\n\n+1(])*\n\nwhere \u0394 is the LMS step size parameter. The step-size parameter for the LMS algorithm controls the tradeoff between adaptation speed and misadjustment error (called excess MSE). If the step size is made too large, the algorithm is not guaranteed to converge. In the normalized LMS algorithm, the step size parameter depends on the energy of the observation vector X. When an AGC (which attempts to keep the received power per sample at I) is employed in the receiver, then the step size can be set based on a normalized step parameter and the expected energy summed over all the taps and antennas \n\n","Since stability of this normalized LMS algorithm is based on the value of \u0394, it can be seen that a smaller number of taps enables a larger value for \u0394 and hence faster convergence and better tracking ability at higher Doppler frequencies.","General Method",{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 3","b":["300","108","110"]},"In operation , adaptive equalizer  is initialized, including setting an initial length and initial values for each of the coefficients. According to a first example embodiment of the present invention, an estimate of the Doppler frequency is used to determine the equalizer length (estimating the Doppler frequency is described in greater detail below with respect to operation ). As will be apparent, the number of taps that are appropriate for a particular application can vary according to a variety of factors, such as the system sample rate and the symbol bandwidth. However, in general, a greater number of taps are selected for relatively low Doppler frequencies, and fewer taps are selected for relatively high Doppler frequencies.","This can be implemented as a look-up table such as the example Table 1. Table 1 associates a number of anti-causal taps (M) and causal taps (M) with particular Doppler frequencies. In this example, the measured Doppler frequency is quantized into frequency bins that are 5 Hz wide with the indicated bin centers. For example, the first row of Table 1 describes the first frequency bin that extends from 0 Hz to 5 Hz with a bin center of 2.5 Hz. If the initial Doppler frequency is estimated to be between 0 Hz and 5 Hz, then the equalizer length with be initialized to 31 taps, including a main tap, 15 causal taps, and 15 anti-causal taps.",{"@attributes":{"id":"p-0041","num":"0040"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"70pt","align":"center"}}],"thead":{"row":[{"entry":[{},"TABLE 1"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]},{"entry":[{},"Doppler Frequency Bin",{},{}]},{"entry":[{},"Center Frequency (Hz)","M","M"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"BinCenter[m] = 2.5","15\u2002","15\u2002"]},{"entry":[{},"BinCenter[m] = 7.5","11\u2002","11\u2002"]},{"entry":[{},"BinCenter[m] = 12.5","8","8"]},{"entry":[{},"BinCenter[m] = 17.5","6","6"]},{"entry":[{},"BinCenter[m] = 22.5","4","4"]},{"entry":[{},"BinCenter[m] = 27.5","3","3"]},{"entry":[{},"BinCenter[m] \u2267 32.5","2","2"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]}}}}},"According to a second example embodiment, the equalizer length is initialized to a pre-set number of taps selected to be a compromise between adaptation speed and MMSE.","The equalizer coefficients are initialized according to any conventional adaptive algorithm technique. Those of skill in the art will recognize that adaptive filters can be initialized in different ways. Techniques according to the present invention do not depend upon the equalizer coefficients being initialized in any particular manner.","In operation , the Doppler frequency between transmitter  and receiver  is estimated. The Doppler frequency fis reflective of the bandwidth of the fading process over wireless channel  and can be related to the velocity v of a mobile receiver (for a fixed transmitter) by f=v\/\u03bb where \u03bb is the transmission wavelength. Many conventional techniques are available for measuring the Doppler frequency. For example, it is well known that an estimate of fcan be obtained at a receiver by measuring the zero-crossing rate of the received signal. However, the techniques described herein according to the present invention do not depend upon any particular method being used for estimating the Doppler frequency.","According to an example embodiment of the present invention, the Doppler frequency is estimated periodically and used to adjust the equalizer length. However, the Doppler frequency need not be estimated on a strictly periodic basis, but rather may be estimated on an intermittent basis over time that is not necessarily periodic.","In operation , the length of adaptive equalizer  may be adjusted based on the Doppler frequency estimate taken in operation . In general, the length of adaptive equalizer  may be increased as the Doppler frequency decreases. Conversely, the length of adaptive equalizer  may be decreased as the Doppler frequency increases. Various example embodiments of the present invention are described in greater detail below wherein the length is only adjusted if a certain amount of time has elapsed since the last length adjustment, or only if the change in Doppler frequency exceeds a certain threshold. These example embodiments are described below with respect to .","In operation , adaptive equalizer  is applied to the received data symbols to filter noise and interference introduced by wireless channel . As described above, in a mobile telephony environment adaptive equalizer  can be used to reduce multipath interference and thereby reduce ISI between the received symbols. Operations  through  are repeated over time, with new estimates of the Doppler frequency being used to adjust the length of adaptive equalizer  as the rate of change of wireless channel  varies.","The following sections describe various example embodiments of the present invention that expand on the basic operations presented in FIG. .","Adjusting Equalizer Length Considering Elapsed Time and Frequency Thresholds",{"@attributes":{"id":"p-0049","num":"0048"},"figref":["FIG. 4","FIG. 4"],"b":"108"},"Operations  and  are described above with respect to FIG. . However, some additional variables are initialized in operation  according to this example embodiment of the present invention. The current slot index n is initialized to zero to indicate that operation is beginning with the first received frame of data. A most recent change index m is initialized to zero. The most recent change index indicates the index of the last frame in which the length of adaptive equalizer  was changed. The manner in which this information is used is described in detail below.","The Doppler frequency, shown as f[n], is measured in operation  with each frame of received data. In the example HDR implementation, the length of adaptive equalizer  may only be changed once per slot (or less), based on the Doppler frequency associated with the slot. The Doppler frequency estimate is taken at the beginning of the current frame of data. This allows for adjustments to be made to the equalizer length prior to training the equalizer coefficients during the pilot portion of the frame. The Doppler estimate taken during the first slot is given by f[0]. This estimate is quantized and used to set the initial length of adaptive equalizer . The bin size for Doppler frequency quantization operations is given by A in the following description.","In operation , a difference (X) is calculated between the Doppler frequency estimate for the current slot (f[n]) and the bin center of the Doppler frequency measurement corresponding to the most recent change (BinCenter[m]). In operation , this difference is compared to the bin width A. If the magnitude of the difference is not greater than A, then the length of adaptive equalizer  will not be changed for the current frame. In other words, according to this example embodiment of the present invention the equalizer length is only changed when the Doppler frequency changes by an amount greater than the frequency bin size. This has the desirable effect of preventing meaningless length adjustments that would otherwise result from relatively small changes in the Doppler frequency. As will be apparent, thresholds other than the bin size could be applied to this difference if greater or fewer changes to equalizer length are desired.","In operation  the slot index n is incremented, as are two timers: TimerD and TimerA. TimerD indicates the number of slots elapsed since the last slot in which the equalizer length was increased. Conversely, TimerA indicates the number of slots elapsed since the last slot in which the equalizer length was decreased.","If the difference X is greater than A, then in operation , it is determined whether the difference X is positive or negative indicating an increase or decrease in Doppler frequency respectively. If the Doppler frequency has decreased, then in operation , it is determined whether TimerA satisfies a threshold WaitA. WaitA represents the minimum amount of time that is required to elapse since the last time taps were dropped, before taps can be added to adaptive equalizer . Similarly, TimerD and WaitD in operation  are used to ensure that a minimum amount of time has elapsed since the last time taps were added, before allowing taps to be dropped. The operation of these two timers in combination prevents continual adding and subtracting of taps when the Doppler frequency is close to one of the quantization boundaries (given by positive integer multiples of A Hz). If the elapsed time threshold WaitA has not been satisfied, the equalizer length is not adjusted and the slot index and timers are incremented in operation .","If the elapsed time threshold WaitA has been satisfied, then in operation  the number of taps to be added (B_Add) is determined. According to an example embodiment of the present invention, B_Add is determined by consulting a look-up table that associates a number of taps with the bin center of the quantized Doppler frequency. An example look-up table is Table 2, shown below. As can be seen in Table 2, more taps are added (or dropped) at the lower Doppler frequencies. This is because changes at the lower Doppler frequencies are more meaningful than changes at the higher frequencies in terms of the effect of channel variation on the excess MSE.",{"@attributes":{"id":"p-0056","num":"0055"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"77pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"63pt","align":"center"}}],"thead":{"row":[{"entry":"TABLE 2"},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["Doppler frequency (Hz)","Number of taps to add","Number of taps to"]},{"entry":["at center of bin","(B_Add)","drop (B_Drop)"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["BinCenter[m] = 2.5","0","8"]},{"entry":["BinCenter[m] = 7.5","8","6"]},{"entry":["BinCenter[m] = 12.5","6","4"]},{"entry":["BinCenter[m] = 17.5","4","4"]},{"entry":["BinCenter[m] = 22.5","4","2"]},{"entry":["BinCenter[m] = 27.5","2","2"]},{"entry":["BinCenter[m] = 32.5","2","0"]},{"entry":["BinCenter[m] > 37.5","0","0"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}}}},"For example, assume that the bin center of the Doppler frequency measurement corresponding to the most recent change is 17.5 Hz, and that the Doppler frequency estimate for the current frame (f[n]) is 12 Hz. Since X (17.5 Hz\u221212 Hz=5.5 Hz) is greater than A (5 Hz), and further assuming that a sufficient amount of time has elapsed since the equalizer length was last decreased (i.e., TimerA>WaitA), taps will be added in operation . Table 2 is consulted using the old bin center of 17.5 Hz, with the result that 4 taps will be added (B_Add=4) to adaptive equalizer .","The new taps can be either anti-causal taps, causal taps, or both (as reflected by a change in M, M, or both, respectively). The number of taps added to the anti-causal side is given by B, and the number of taps added to the causal side is given by B, where B+B=B_Add.","According to a first example embodiment, taps are added to the side (either causal or anti-causal) that is considered to be more useful. In general, those taps having a coefficient of higher magnitude are considered more useful because they contribute more to the filter output. The usefulness determination is based on the most recent value of the equalizer coefficients.","For example, consider a 5-tap equalizer with M=2 and M=2 and a coefficient vector given by:\n\n{C[n],C[n],C[n],C[n],C[n]}.\n","If the values of this equalizer are\n\n{\u22120.03, 0.05, 0.98, 0.3, \u22120.2}\n","and the Doppler frequency measurement indicates that 2 taps are to be added (B_Add=2) to increase the equalizer length to 7, then it would be more beneficial to add the taps to the causal side (B=0 and B=2) because the causal taps are more useful. The causal taps are considered to be more useful because the magnitude of the causal coefficients (0.3, 0.2) is greater than the magnitude of the anti-causal coefficients (0.03, 0.05). This results in the new values M=2 and M=4.","A suitable rule for adding taps based on tap usefulness (using old values of Mand M) would be:\n\nSet _Add and set =0 if |\n\nSet _Add and set =0 if |\n\nIn other words, the additional taps are added to the side with the coefficient having the greatest magnitude at the outermost tap (i.e., the tap furthest from the main tap). As will be apparent, other rules can alternatively be used for distributing the new taps amongst the causal and anti-causal sides of the equalizer based on the usefulness of the taps. For example, the average magnitude of the taps on the causal side and anti-causal side can be compared as another measure of which taps are more useful.\n","According to a second example embodiment of the present invention, new taps may be added to the side currently having fewer taps. A suitable rule based on this criteria is given by:\n\nSet B=B_Add and set B=0 if M<M\n\nSet B=B_Add and set B=0 if M<M\n\nSet _Add\/2 and set _Add\/2 if \n\nThis rule represents a more conservative approach to adding taps to adaptive equalizer , since it does not allow one side or the other to become disproportionately large.\n","Once the new taps have been added in operation , various housekeeping variables are updated in operation . The number of anti-causal and causal taps (M, M) are updated according to the number of taps that were added (B, B). The most recent change index m is updated to reflect the current slot index n, and the most recent bin center (BinCenter[m]) is updated to reflect the bin center of the decreased Doppler frequency. The elapsed timer TimerD is reset, and the current slot index n is incremented to the next frame.","Returning now to operation , if the difference X is positive indicating an increase in Doppler frequency, then there is a possibility that the equalizer length will be decreased by dropping taps from either the causal side, anti-causal side, or both. Operations  through  describe the process of dropping taps, which is similar to operations  through  for adding taps.","In operation , it is determined whether a sufficient amount of time has elapsed since the last increase in length, which is accomplished by comparing TimerD to the threshold WaitD. If the threshold is not satisfied, the length of adaptive filter  is not adjusted and in operation  the timers and slot counter are incremented before waiting for the next Doppler estimate in operation . If the threshold is satisfied, the number of taps to be dropped (B_Drop) is determined in operation  by consulting a look-up table using the bin center of the current Doppler frequency.","In operation , it is determined whether taps will be dropped from the causal side, the anti-causal side, or both. As described above with respect to adding taps, taps can be dropped from the side considered to be less useful. According to this example embodiment, a suitable rule for dropping taps would be:\n\nSet _Drop and set =0 if |\n\nSet _Drop and set =0 if |\n\nwhere taps are dropped from the side with the coefficient having the lowest magnitude at the outermost tap. Alternatively, according to a second example embodiment a more conservative rule for dropping taps would be:\n\nSet _Drop\/2 and set _Drop\/2\n\nwhere taps are dropped equally from both sides.\n","In operation , the housekeeping variables are updated once the taps have been dropped. The number of anti-causal and causal taps (M, M) are updated according to the number of taps that were dropped (B, B). The most recent change index m is updated to reflect the current slot index n, and the most recent bin center (BinCenter[m]) is updated to reflect the bin center of the increased Doppler frequency. The elapsed timer TimerA is reset, and the current slot index n is incremented to the next frame.","As described above, operations  and  through  are repeated for each frame of data in an HDR system. A determination is made whether to adjust the length prior to applying adaptive equalizer  to the pilot portion of the frame. Once the coefficients have been trained on the pilot portion, adaptive equalizer  is applied to the data portion of the frame (operation ) to cancel the multipath interference and thereby decrease the ISI.","Simplified Method for Adjusting Equalizer Length",{"@attributes":{"id":"p-0071","num":"0070"},"figref":["FIG. 5","FIG. 4"],"b":"108"},"In operation , adaptive equalizer  is initialized. The initial length is selected based on the Doppler frequency measured in the first slot (f[0]). According to this example embodiment of the present invention, a look-up table is consulted using the estimated Doppler frequency. An example of such a table is Table 3, shown below.",{"@attributes":{"id":"p-0073","num":"0072"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"91pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"77pt","align":"center"}}],"thead":{"row":[{"entry":[{},"TABLE 3"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]},{"entry":[{},"Doppler Frequency",{},{}]},{"entry":[{},"Range f[n] (Hz)","M","M"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u20020 \u2266 f[n] < 5","15\u2002","15\u2002"]},{"entry":[{},"\u20025 \u2266 f[n] < 10","11\u2002","11\u2002"]},{"entry":[{},"10 \u2266 f[n] < 15","8","8"]},{"entry":[{},"15 \u2266 f[n] < 20","6","6"]},{"entry":[{},"20 \u2266 f[n] < 25","4","4"]},{"entry":[{},"25 \u2266 f[n] < 30","3","3"]},{"entry":[{},"30 \u2266 f[n]","2","2"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]}}}}},"In operation , the Doppler frequency is measured for the current slot. In operation , a difference (X) is calculated between the Doppler frequency estimate for the current slot (f[n]) and the bin center of the Doppler frequency measurement corresponding to the most recent change (BinCenter[m]). In operation , this difference is compared to the bin width A. If the magnitude of the difference is not greater than A, then the length of adaptive equalizer  will not be changed for the current frame, and in operation  the slot index n is incremented before returning to operation  to wait for the next Doppler frequency estimate.","If the magnitude of X is greater than A, then in operation  the number of causal and anti-causal taps are determined using the current Doppler frequency estimate. According to an example embodiment of the present invention, a look-up table is consulted using the Doppler frequency. For example, Table 3 can be used to determine Mand Mgiven a particular Doppler frequency estimate.","In operation , the most recent change index m is updated to reflect the current slot index n, and the current slot index n is incremented to the next frame.","As described above, the costs associated with implementing the more simpler embodiment depicted in  are less than those associated with the more complex embodiment of FIG. . However, the more simple embodiment might not perform as well under certain conditions.","Those of skill in the art would understand that information and signals may be represented using any of a variety of different technologies and techniques. For example, data, instructions, commands, information, signals, bits, symbols, and chips that may be referenced throughout the above description may be represented by voltages, currents, electromagnetic waves, magnetic fields or particles, optical fields or particles, or any combination thereof.","Those of skill would further appreciate that the various illustrative logical blocks, modules, circuits, and algorithm steps described in connection with the embodiments disclosed herein may be implemented as electronic hardware, computer software, or combinations of both. To clearly illustrate this interchangeability of hardware and software, various illustrative components, blocks, modules, circuits, and steps have been described above generally in terms of their functionality. Whether such functionality is implemented as hardware or software depends upon the particular application and design constraints imposed on the overall system. Skilled artisans may implement the described functionality in varying ways for each particular application, but such implementation decisions should not be interpreted as causing a departure from the scope of the present invention.","The various illustrative logical blocks, modules, and circuits described in connection with the embodiments disclosed herein may be implemented or performed with a general purpose processor, a digital signal processor (DSP), an application specific integrated circuit (ASIC), a field programmable gate array (FPGA) or other programmable logic device, discrete gate or transistor logic, discrete hardware components, or any combination thereof designed to perform the functions described herein. A general purpose processor may be a microprocessor, but in the alternative, the processor may be any conventional processor, controller, microcontroller, or state machine. A processor may also be implemented as a combination of computing devices, e.g., a combination of a DSP and a microprocessor, a plurality of microprocessors, one or more microprocessors in conjunction with a DSP core, or any other such configuration.","The steps of a method or algorithm described in connection with the embodiments disclosed herein may be embodied directly in hardware, in a software module executed by a processor, or in a combination of the two. A software module may reside in RAM memory, flash memory, ROM memory, EPROM memory, EEPROM memory, registers, hard disk, a removable disk, a CD-ROM, or any other form of storage medium known in the art. An exemplary storage medium is coupled to the processor such the processor can read information from, and write information to, the storage medium. In the alternative, the storage medium may be integral to the processor. The processor and the storage medium may reside in an ASIC. The ASIC may reside in a user terminal. In the alternative, the processor and the storage medium may reside as discrete components in a user terminal.","The previous description of the disclosed embodiments is provided to enable any person skilled in the art to make or use the present invention. Various modifications to these embodiments will be readily apparent to those skilled in the art, and the generic principles defined herein may be applied to other embodiments without departing from the spirit or scope of the invention. Thus, the present invention is not intended to be limited to the embodiments shown herein but is to be accorded the widest scope consistent with the principles and novel features disclosed herein."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 1A"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 1B"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 2A"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 2B"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 5"}]},"DETDESC":[{},{}]}
