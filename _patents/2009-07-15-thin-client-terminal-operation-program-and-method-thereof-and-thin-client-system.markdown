---
title: Thin client terminal, operation program and method thereof, and thin client system
abstract: A thin client terminal  that can be connected to a thin client operation management server  includes: a memory  capable of storing system data for mobile environment used when the thin client terminal  is not connected to the thin client operation management server ; and a controller generation section that acquires the system data for non-mobile environment and uses the system data for non-mobile environment to generate a thin client controller , generates a driver capable of accessing the memory  by the operation of the thin client controller , and uses the driver to write the system data for mobile environment acquired from the thin client operation management server  in the memory 
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08281038&OS=08281038&RS=08281038
owner: Fujitsu Limited
number: 08281038
owner_city: Kawasaki
owner_country: JP
publication_date: 20090715
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","FIELD","BACKGROUND","SUMMARY","DESCRIPTION OF EMBODIMENTS"],"p":["This application is a continuation application, filed under 35 U.S.C. \u00a7111(a), of PCT Application No. PCT\/JP2007\/055482, filed Mar. 19, 2007, the disclosure of which is herein incorporated in its entirety by reference.","The present invention relates to a thin client terminal, an operation program and method thereof, and a thin client system capable of simultaneously achieving a reduction in operation management cost and an improvement in security.","A thin client system has attracted attention in recent years because of heightened sense of crisis concerning information leakage and growing concerns about importance of a reduction in cost involved in management of a business system.","A terminal device used in a thin client system, i.e., a thin client terminal is a terminal device provided only with minimum required functions (e.g., OS with limited functions, screen transfer application, BIOS (Basic Input\/output System)) and is configured to utilize applications and business data stored in a server. Thus, the thin client terminal does not have a storage such as an HDD (Hard Disk Drive). If the thin client terminal has a storage, data created by a user, such as business data, is not at all stored in the storage.","Therefore, even if the thin client terminal has been stolen, information is not leaked outside from the stolen thin client terminal. Further, an OS or applications that the thin client terminals use can be managed on the server side, allowing setting for the thin client terminals to be collectively made. Accordingly, it is possible to promptly apply a patch to the OS or application in the individual thin clients, allowing an administrator to perform effective management for operation of the terminal devices.","There exist several types of thin client systems. For example, there is known a network boot thin client system in which a thin client terminal downloads an OS or application from a server and executes the downloaded OS or application on the terminal.","Hereinafter, with reference to , the network boot thin client system will be described.","A thin client terminal A which is a terminal device having no storage accesses, at its start-up time, an operation management server A that manages operation of the thin client terminal through a network . Then, the thin client terminal A downloads OS data required for the terminal A to operate from the operation management server A and boots it. After that, when executing an application, the thin client terminal A downloads the application and a library required for the execution of the application from the operation management server A.","The network boot thin client system is advantageous in the following points: it involves low facility cost; it exhibits excellent performance at the execution time of a job; and it provides easy access to peripheral devices.","However, the thin client terminal cannot be booted in a mobile environment that the thin client terminal is not connected to a network at its power-on time.","Even if a thin client terminal B in the mobile time uses a public network  with a narrow bandwidth to access a network and can be booted, it is necessary for the thin client terminal B to download an application and a large number of libraries required for execution of the application from a file server before executing the application. Thus, under a situation where it is difficult to perform broadband communication, the network boot thin client system is difficult to use.","Under the circumstance, there has been proposed a technique in which an OS and an application have previously been stored in a read-only medium, such as a CD-ROM or USB-ROM and the thin client terminal boots the OS from the medium and loads an execution image of the application.","In this technique, the thin client terminal does not use a network for booting an OS having a large size or loading an application having a large size but boots the OS or executes the application from the read-only medium, allowing the thin client terminal to easily boot the OS or load the application.","Meanwhile, business data that individual users use are stored in an operation management server, and the thin client terminal uses remote access dial-up connection or wireless LAN to access the business data. Thus, the business data are not stored in the individual thin client terminal, allowing prevention of information leakage.","In this case, however, a user of the thin client terminal always needs to carry a medium storing the OS or application and, therefore, there is a possibility of damage or loss of the medium. Further, the medium needs to be created and delivered every time the OS or application is updated, increasing operation cost. Further, when a CD-ROM is used for the delivery of the OS or application, a component for driving the CD-ROM needs to be provided and, accordingly, the rate of occurrence of failure increases, resulting in an increase in maintenance cost.","In order to cope with this, a method can be considered in which the OS or execution image of the application is stored in a CF (Compact Flash) incorporated in the thin client terminal or a writable non-volatile memory device such as a USB memory and the operation management server remotely manages the thin client terminal.","However, allowing data to be written into such a medium allows a user to store important data in the thin, client terminal, causing a risk of information leakage.","There is known a technique, although it has not been designed for the network boot thin client, that realizes a mechanism in which the OS or application provided in the terminal is managed from outside the terminal. In this technique, an operation management server has its inside a simple virtual appliance. A user of a terminal cannot access (operate) the virtual appliance but only an administrator operating an external IT console can use the virtual appliance. An OS or application provided in the terminal can be updated through the IT console. However, a management function itself is provided in the terminal, there is a risk that the management function in the terminal may be falsificated.","As a prior art relating to the present invention, there is known a method for configuring network settings of a thin client using a computer-readable portable storage medium (refer to, e.g., Japanese Laid-open Patent Publication No. 2005-216292).","As described above, in the case where the thin client terminal is used in the mobile environment, when importance is attached to security against information leakage, operation management cost is increased, while when importance is attached to easiness of the operation management, a risk of the information leakage is increased.","According to a aspect of the invention, a computer-readable medium having recorded thereon a thin client terminal operation program executed in a computer serving as a thin client terminal that can be connected to a thin client operation management server and has a memory capable of storing system data for mobile environment used when the thin client terminal is not connected to the thin client operation management server the program allowing a computer to a process comprising: causing a thin client controller to generate a driver capable of accessing the memory; and causing the driver generated by the thin client controller to write the system data for mobile environment acquired from the thin client operation management server in the memory, the thin client controller being generated by system data for non-mobile environment acquired from the thin client operation management server at the time when the thin client terminal is connected to the thin client operation management server.","The object and advantages of the invention will be realized and attained by means of the elements and combinations particularly pointed out in the claims.","It is to be understood that both the foregoing general description and the following detailed description are exemplary and explanatory and are not restrictive of the invention, as claimed.","Embodiments of the present invention will be described below with reference to the accompanying drawings.","First Embodiment","Configurations of a thin client terminal and an operation management server according to a first embodiment of the present invention will first be described. In the present embodiment, it is assumed that the thin client terminal has a hardware configuration including at least a CPU, a ROM storing a firmware (BIOS), a RAM, and a storage.",{"@attributes":{"id":"p-0045","num":"0044"},"figref":"FIG. 1","b":["1","3","2","1","3","1","11","12","13","11","11","11","11","13","13","13","13"],"i":["a","b","c","a","b","c. "]},"The operation management server  includes a PXE host , and a thin client operation management section . The thin client terminal  and the operation management server  are connected to each other through the network .","The thin client controller acquires system data from the thin client operation management section  and instructs data provision in the storage . The system data management section manages the version information of the system data stored in the storage and instructs the storage driver to perform reading\/writing of the system data.","The storage driver receives the instruction from the system data management section and accesses the storage . The storage  is preferably a non-volatile memory incorporated in the tamper-resistant thin client terminal .","The boot setting section starts up the IPL and the PXE client in order of the priority set therein. The IPL starts up a mobile system provided in the storage .","The PXE client acquires an IP address and system data for non-mobile environment from the PXE host  through the network  and starts up the non-mobile system.","The PXE host  transmits the IP address required from the PXE client through the network  to the PXE client . The PXE host  acquires the system data for non-mobile environment from the thin client operation management section  and transmits it to the PXE client ","The thin client operation management section  transmits to the thin client controller system data for mobile environment required from the thin client controller through the network . The thin client operation management section  also retains the system data for non-mobile environment and passes the system data for non-mobile environment to the PXE host  according to a request from the PXE host .","Unlike the system data for non-mobile environment, the system data for mobile environment is customized system data and differs from the system data for non-mobile environment in terms of a driver to be installed, application, and setting information. For example, the storage driver of the system data for mobile environment may be write-protected, or an application for remote access may be included in the system data for mobile environment. Further, an OS to be used may differ between the mobile and non-mobile environments.",{"@attributes":{"id":"p-0054","num":"0053"},"figref":"FIGS. 2 and 3","b":["1","3","2","1","3"]},"When the thin client terminal  is powered on (S), the boot setting section starts up the PXE client in order of the priority of boot media and requests the PXE host  to assign an IP address thereto (S). Note that, in the priority setting of the boot media, the highest priority is given to the network.","When the thin client terminal  is not connected to the network  (No in S), the PXE client cannot acquire an IP address and thus fails in execution of the network boot. Accordingly, in order of the priority, the boot setting section causes the IPL to read out a boot loader from the storage  (S). The read out boot loader then reads out the system data for mobile environment, starts up the OS, and executes a resident program (S).","When the thin client terminal  is connected to the network  (YES in S), the PXE host  receives the request from the PXE client and checks a MAC (Media Access Control) address of the thin client terminal  (S) to confirm whether the MAC address is a MAC address of a legitimate (connection-permitted) thin client terminal  (S).","When the PXE host  checks the MAC address and determines that the thin client terminal  is not legitimate (NO in S), it ignores the request from the PXE client (S) but returns an error to the PXE client (S) to end this flow.","On the other hand, when the PXE host  determines that the thin client terminal  is legitimate (YES in S), it assigns an IP address to the thin client terminal  and, at the same time, transmits the boot loader and a file name of the system data for non-mobile environment to the PXE client (S).","The PXE client that has acquired an IP address then requests the PXE host  to transmit thereto the boot loader (S). The PXE host  acquires the boot loader from the thin client operation management section  and transmits it to the PXE client (S). The PXE client that has acquired the boot loader then uses the boot loader to request the PXE host  to transmit the system data for non-mobile environment thereto (S). The PXE host  acquires the system data for non-mobile environment from the thin client operation management section  and transmits it to the PXE client (S).","The PXE client that has acquired the system data for non-mobile environment then uses the boot loader to start up the OS. The OS starts executing a resident program and starts up the thin client controller to read authentication information (ID, password, or certificate) for the operation management server and IP address in the RAM (S) and generate confidential information for storage access (S). Then, the thin client controller generates the system data management section and storage driver which are child processes that only the thin client controller can generate (S).","The above confidential information (random numbers or secret key) is retained in the RAM. The confidential information is used for the storage driver to authenticate the system data management section . The system data management section and the storage driver are generated using the confidential information as a parameter.","The system data management section uses a proprietary API (Application Programming Interface) to utilize the storage driver and presents its confidential information for write access to the storage.","Thus, even if a given user tries to write to the storage not through the system data management section , the user uses a common I\/O API having no confidential information for access, so authentication is not carried out to disable writing to the storage . Further, even if a given user can create a program for utilizing the proprietary API, he cannot acquire the confidential information since it is retained only in the RAM, resulting in failure to acquire write access to the storage.","The method of determining whether the thin client terminal  is in the mobile environment or not in the present embodiment is merely an example, and the determination may be made by checking whether a wired or wireless connection is being used or by using a sensor or the like.",{"@attributes":{"id":"p-0066","num":"0065"},"figref":"FIGS. 4 and 5"},"The thin client controller acquires the version number of the system data for mobile environment stored in the storage  from the system data management section (S) and transmits the acquired version number to the thin client operation management section  so as to request the system data for mobile environment (S).","The thin client operation management section  checks the transmission source of the request (S) so as to determine that the thin client terminal  is a legitimate client based on the authentication information for operation management server that the thin client terminal  has (S). When the thin client operation management section  determines that the thin client terminal  is a legitimate client (YES in S) and system data for mobile environment newer than the system data for mobile environment stored in the storage  of the thin client terminal  exists in the thin client operation management section , the thin client operation management section  transmits the newer system data for mobile environment to the thin client controller (S). Note that the determination in S constitutes an authentication section of the present invention.","On the other hand, when the thin client operation management section  determines that the thin client terminal  is not a legitimate client (NO in S), the thin client operation management section  returns an error to the thin client terminal  (S).","The thin client controller determines whether an error has occurred in the system data for mobile environment update request (S). When determining that the error has occurred (YES in S), the thin client controller performs error processing (S) and then ends the system data for mobile environment update processing.","On the other hand, when determining that the error has not occurred (NO in S), the thin client controller determines whether the newer system data for mobile environment has been acquired from the thin client operation management section  (S).","When the newer system data for mobile environment has not been acquired (NO in S), the thin client controller ends the system data for mobile environment update processing. On the other hand, when the newer system data for mobile environment has been acquired (YES in S), the system data management section acquires the newer system data for mobile environment from the thin client controller and instructs the storage driver to write the system data for mobile environment to the storage . At this time, the system data management section presents the confidential information to the storage driver (S).","The storage driver checks whether the confidential information presented by the system data management section coincides with confidential information at the start-up time (S). When the confidential information presented by the system data management section does not coincide with confidential information at the start-up time (NO in S), the storage driver performs error processing (S). The storage driver writes the system data for mobile environment to the storage  only when both the confidential information coincide with each other (YES in S) (S). At this time, the storage driver also writes the version number of the system data for mobile environment (S) and then ends the system data for mobile environment update processing.","The system data management section does not directly expand the system data for mobile environment in a predetermined file system provided in the storage  but expands the system data once in a temporary area and then moves it to the file system so as to allow the thin client terminal  to continue operating even if an unexpected system halt occurs. Further, the system data management section inspects the system data for mobile environment in the storage  to see if the system data for mobile environment has been corrupted or not. In this case, when there is any problem, the thin client terminal  may display a message warning a user not to stop the thin client terminal  and instruct the user to acquire the system data.",{"@attributes":{"id":"p-0075","num":"0074"},"figref":["FIGS. 6A","FIG. 8B"],"b":["6","7","7","8","8","1","12"]},"After power-on of the thin client terminal , the boot setting section in the main controller  starts up the PXE client in order of the priority <FIG. A>, and the PXE client acquires the boot loader from the operation management server and expands the boot loader in the RAM so as to execute it <FIG. B>.","The boot loader on the RAM acquires the system data for non-mobile environment from the operation management server and expands the acquired system data for non-mobile environment in the RAM so as to start executing it <FIG. A>. Then, among various programs, the thin client controller is started up <FIG. B>. The thin client controller then expands the confidential information, the system data management section , and the storage driver in the RAM for execution of respective processing <FIG. A>. After that, the thin client control section acquires the latest system data for mobile environment from the operation management server  and stores it in the storage  <FIG. B>.",{"@attributes":{"id":"p-0078","num":"0077"},"figref":"FIGS. 9A","b":["9","10","10","11","1","12"]},"After power-on of the thin client terminal , the boot setting section in the main controller  starts up the IPL in order of the priority <FIG. A>, and the IPL reads out the boot loader from the storage  and expands the boot loader in the RAM so as to execute it <FIG. B>. The boot loader on the RAM acquires the system data for mobile environment from the storage  and expands the acquired system data for mobile environment in the RAM so as to start executing it <FIG. A>. Then, among various programs, the thin client controller is started up <FIG. B>. The thin client controller then expands the confidential information, the system data management section , and the storage driver in the RAM for execution of respective processing <FIG. >.","Second Embodiment","While the first embodiment assumes a case where the thin client controller updates the system data for mobile environment, the system data for mobile environment may be updated during a time period when a user infrequently access the thin client terminal . With this configuration, the update of the system data for mobile environment is carried out in the background, so that user's work is not interrupted.",{"@attributes":{"id":"p-0082","num":"0081"},"figref":["FIG. 12","FIG. 12","FIG. 1","FIG. 1"]},"The second embodiment differs from the first embodiment in that a use state monitoring section is provided in the thin client terminal . The use state monitoring section is started up at the boot time like the thin client controller . The use state monitoring section resides in the RAM and collects information concerning an operational state of the thin client terminal , such as a CPU utilization, a transmission\/reception amount of packets therein, and operation state of an input device. When the value indicated in the above information becomes smaller than a threshold that has previously been set in the use state monitoring section , the use state monitoring section determines that the user infrequently access the thin client terminal  and instructs the thin client controller to update the system data for mobile environment in that time. Upon receiving the instruction, the thin client controller issues a data update instruction to the operation management server .","The use state monitoring section may update the system data for mobile environment at a fixed time. When the operation management server changes the update execution time for each thin client terminal  at the network boot time, it is possible to prevent a load from being centralized onto the server side.","Since transfer of the system data for mobile environment is carried out in the background of a user's work, there may be case where a user shuts down the thin client terminal  during transfer or expansion of the system data for mobile environment. In order to prevent this, the use state monitoring section issues an alarm to request a user to cancel the shut-down of the thin client terminal . Alternatively, the use state monitoring section may forcibly cancel the shut-down of the thin client terminal  during the transfer and expansion of the system data for mobile environment.","Third Embodiment","Contrary to the case of the second embodiment, the update of the system data for mobile environment may be instructed by the operation management server  side. In this case, it is desirable that the operation management server  manages a state of the thin client terminal  so as not to cause unnecessary traffic and load due to execution of update of the system data for mobile environment for the thin client terminal  in a shut-down state.",{"@attributes":{"id":"p-0088","num":"0087"},"figref":["FIG. 13","FIG. 13","FIG. 1","FIG. 1"]},"The third embodiment differs from the second embodiment in that not the use state monitoring section but a use state notification section is provided in the thin client terminal  side and a thin client state management section  is provided in the operation management server  side.","As in the case of the thin client controller , the thin client state notification section is downloaded from the operation management server at the boot time and is then executed. Then, at the time when the boot is completed, the thin client state notification section notifies the operation management server  of a state \u201copen (operating state)\u201d of the thin client terminal . Similarly, at the time when the thin client terminal  is shut down, the thin client state notification section notifies the operation management server  of a state \u201cclosed (shut down state)\u201d of the thin client terminal . The thin client state management section  of the operation management server  receives such information and retains it therein.  is a view showing an example of a table for managing the information. The table retains the following information.","IP address: IP address of thin client terminal ","State: state of thin client terminal  (\u201copen\u201d or \u201cclosed\u201d)","State updated date: Date on which state is updated","Data update state: information indicating whether update of system data for mobile environment has been updated during operation of thin client terminal  (in the case where the data has been updated or where update is determined to be unnecessary, \u201cdone\u201d is shown and, otherwise, \u201cundone\u201d is shown.)","Update execution date: Date on which system data for mobile environment has been updated (if updated)","Hereinafter, with reference to flowcharts shown in , the system data for mobile environment update operation under the initiative of the operation management server  will be described.","The thin client operation management section  of the operation management server  refers to the thin client state management table in the thin client state management section  at regular time intervals and searches for a thin client terminal  whose state is \u201copen\u201d and delivery state is \u201cundone\u201d (S).","The thin client operation management section  then acquires IP addresses of the thin client terminals  satisfying the above condition (S) and makes an inquiry to the thin client controller of each thin client terminal  about the version of the system data for mobile environment provided therein (S). The thin client controller that has received the inquiry from the thin client operation management section  performs authentication of an access source (S).","The above authentication is performed using ID, password, certificate, IP address, or the like that the thin client terminal  has been acquired from the operation management server  at the boot time.","When the thin client controller determines that the operation management server  is not a legitimate access source (NO in S), the thin client controller performs error processing (S) and returns a result of the processing to the thin client operation management section  (S). The thin client state management section  acquires the processing result from the thin client operation management section , updates the state updated date of the thin client state table (S) and ends this flow.","On the other hand, the thin client controller determines that the operation management server  is a legitimate access source (YES in S), the thin client controller acquires the version number of the system data for mobile environment from the system data management section and returns it to the operation management server (S).","The thin client operation management section  compares the version number of the system data for mobile environment acquired from the thin client controller with the version number of the system data for mobile environment retained in the thin client operation management section  itself to determine whether the update is necessary (S). When the thin client operation management section  determines that the update is unnecessary (NO in S), the thin client state management section  acquires a result of the processing from the thin client operation management section , updates the data update state of the thin client state table to \u201cdone\u201d. The thin client state management section  further updates the state updated date and update execution date (S) and ends this flow.","On the other hand, when the thin client operation management section  determines that the update is necessary (YES in S), the thin client operation management section  transmits the system data for mobile environment to the thin client controller and instructs the thin client controller to perform update (S). Upon receiving the system data for mobile environment, the thin client controller instructs the system data management section to update the system data for mobile environment. The system data management section instructs the storage driver to store the system data in the storage  together with the version number of the system data (S).","Then, the thin client controller returns a result of the processing to the thin client operation management section  (S), and the thin client state management section  acquires the processing result from the thin client operation management section  and updates the data update state of the thin client state table to \u201cdone\u201d. The thin client state management section  further updates the state updated date and update execution date (S) and ends this flow.","A thin client operation management server according to the present invention corresponds to the operation management server in the embodiments. A driver according to the present invention corresponds to the storage driver in the embodiments. A memory according to the present invention corresponds to the storage in the embodiments. A first management section according to the present invention corresponds to the PXE host in the embodiments. A second management section according to the present invention corresponds to the thin client operation management section in the embodiments. A controller generation section according to the present invention corresponds to the PXE client in the embodiments. A driver generation step according to the present invention corresponds to the processing of S in the embodiments. A write step according to the present invention corresponds to the processing of S in the embodiments. A use state notification step according to the present invention corresponds to the instruction issued from the thin client controller which is based on the instruction from the use state monitoring section in the second embodiment. A monitoring step according to the present invention corresponds to the operation of the use state monitoring section in the second embodiment.","Further, it is possible to provide a program that allows a computer to execute the above operation shown in the flowcharts and respective steps of the embodiments as a thin client terminal operation program. By storing the above program in a computer-readable storage medium, it is possible to allow the computer to execute the program. The computer mentioned here includes a host device like a personal computer, a controller of a test device, a controller of a storage device, such as an MPU or CPU, and the like. The computer-readable medium mentioned here includes: a portable storage medium such as a CD-ROM, a flexible disk, a DVD disk, a magneto-optical disk, or an IC card; a database that holds computer program; another computer and database thereof; and a transmission medium on a network line.","As described above, according to the present invention, it is possible to provide a thin client system capable of simultaneously achieving a reduction in operation management cost and an improvement in security.","All examples and conditional language recited herein are intended for pedagogical purposes to aid the reader in understanding the invention and the concepts contributed by the inventor to furthering the art, and are to be construed as being without limitation to such specifically recited examples and conditions, nor does the organization of such examples in the specification relate to a showing of the superiority and inferiority of the invention. Although the embodiment(s) of the present inventions have been described in detail, it should be understood that the various changes, substitutions, and, alterations could be made hereto without departing from the spirit and scope of the invention."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIGS. 6A and 6B"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIGS. 7A and 7B"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIGS. 8A and 8B"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIGS. 9A and 9B"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIGS. 10A and 10B"},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0040","num":"0039"},"figref":"FIG. 16"},{"@attributes":{"id":"p-0041","num":"0040"},"figref":"FIG. 17"}]},"DETDESC":[{},{}]}
