---
title: Information processing apparatus, information processing method, and memory medium storing print control program therein
abstract: In case of temporarily spooling an intermediate language by a printer driver, a high speed print can be performed by suppressing a size and the number of holding data. The printer driver adds a tag of each draw object type to information of a draw command received through a DDI function and holds the resultant information into a primary buffer together with attributes such as draw position information, color information, pattern information, and draw logic information. When the information is held into the primary buffer, if there is a draw object which has already been held, if the types and the draw attributes of the draw objects are identical, the draw object is additionally registered into the primary buffer. If one of “type is different”, “data cannot be fully stored into the primary buffer”, “draw attribute changes”, and “page process is completed” is satisfied, a PDF (Page Data File) is generated from the draw object which has already been held in the primary buffer and spooled.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07023579&OS=07023579&RS=07023579
owner: Canon Kabushiki Kaisha
number: 07023579
owner_city: Tokyo
owner_country: JP
publication_date: 20010209
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT"],"p":["1. Field of the Invention","The invention relates to an information processing apparatus, an information processing method, and a memory medium in which a print control program has been stored. More particularly, the invention relates to an information processing apparatus which is suitable for controlling, for example, a printer through a predetermined communication medium and functions as a host computer and to an information processing method and a memory medium in which a printer driver program which operates on the information processing apparatus has been stored.","2. Related Background Art","First, an information processing method in a conventional print system and a flow of processes will be described with reference to .","According to the conventional print system, generally, as shown in , a host computer and a laser beam printer are connected through parallel communication means such as a Centronics interface or through network communication means.","On the host computer side, application software  such as word processor or spreadsheet operates on what is called basic software such as Windows (registered trademark of Microsoft Corporation in U.S.A.). In case of printing on the basis of such an application, a function of a graphic sub-system  among several sub-systems which are provided by the basic software is used. For example, the graphic sub-system is called GDI (Graphic Device Interface)  in Windows and executes processes of image information for a display or a printer.","The GDI  dynamically links a module called a device driver in order to absorb dependency of each device such as display or printer and executes an outputting process to each device. The module for the printer is called a printer driver .","For the printer driver , a function group called DDI  (Device Driver Interface) which has previously been determined to be installed into the device driver needs to be prepared in accordance with its ability, function, or the like. With respect to an API (Application Programming Interface) call of the application, the GDI  converts data into data for the device driver, the DDI function group  is properly called from the GDI , and a predetermined printing process is executed. The GDI  sequentially processes a print request from the application through the printer driver . Generally, a PDL command is generated in the printer driver  existing in the mechanism of the OS as mentioned above or a rendering process is executed as an image mode.","In order to individually perform a banding process in the image mode or realize a function which is not supported by the OS, that is, a function such as page handling process in a reverse order print mode (a last-come first print mode) or the like or automatic switching of a processing mode, the printer driver  executes only generation of an intermediate language file (PDF ) from a received draw command, and a despooler  of a spool sub-system  as an application reads the PDF  and adds additional functions.","Processes of the printer driver are mainly classified into two kinds of a PDL mode (refer to ) and an image mode (refer to  to ).","The PDL mode  is used in the case where a printer side has a controller which can process a control command called PDL (Printer Description Language). Immediately after the PDF  is converted into the command of the PDL, the command is sent to a printing apparatus (printer)  through an interface (I\/F) .","As processes in the PDL mode, since commands are merely sequentially generated from the received data by the DDI , it is regarded that they are light processes for the driver. In the PDL mode type, if analyzing ability of the PDL command of the printer is high, data having a high abstract degree received from the GDI  can be sent as it is, there is a feature such that a print speed in the normal page print to mainly print characters is high irrespective of an output gradation.","However, if it is intended to output a complicated figure or an image of a high resolution and a high gradation by an application of the graphics system, a size of PDL command increases and a transfer speed of data and a processing speed of the printer deteriorate. Theoretically, there is not an upper limit of the size of PDL command.","According to the image mode, a print image is developed on a band memory space held on the printer driver side, converted into a form in which the print image can be directly printed by the printer, and the converted image data is transmitted to the printer, thereby printing it.","According to the image mode type, since a size of transfer data is determined by a draw area and the number of output gradations, there is a feature such that a transfer speed of data and a processing time of the printer in case of a simple page and those of a complicated page are not so different. Therefore, even in case of a page which takes a long processing time in the PDL mode, it can be printed at a relatively high speed. However, even in case of a simple page of only characters, it is difficult to make the printer operative in accordance with a throughput of an engine.","When the PDF  is despooled, the despooler  uses a band memory divided into a proper height, separately sends draw commands regarding draw positions to modules  to  for the image mode a plurality of number of times, and executes a drawing process. Generated bit map data is sent to the printer  through the I\/F  every band.","As a feature of the image mode, a point that a drawing processing speed of a high resolution color image or complicated graphics data is high can be mentioned. However, also with respect to characters or a simple figure, since image data in a whole draw area is generated at an output resolution and an output gradation and sent as a print command, such an image mode is not suitable for the high speed print of a page of a high resolution and a high gradation.","Since the drawing process is performed in both of the image mode and the PDL mode, a memory area for drawing corresponding to one page is necessary on the host computer side in the image mode and necessary on the printer side in the PDL mode. In a color printer, however, a capacity of 96 Mbytes is necessary if it is intended to assure a memory of a capacity corresponding to 600 dpi of 8 bits per each color of RGB and a full page of the A4 size. At present, it is difficult to assure such a memory even in a host machine. Therefore, in the drawing process of the color printer, a color space of 1, 2, or 4 bits per each color of YMCK as an output format is used and a band memory in which a page is further divided into several areas is used, thereby reducing the capacity of the memory for the drawing process.","The process for dividing one page into a plurality of bands and performing the drawing process as mentioned above is called a banding process. With respect to the banding process, the draw commands of one page are held on the printer side in case of the PDL mode and on the host machine side in case of the image mode and only a print command necessary for each band is processed, thereby realizing the drawing process of each band.","However, among the draw commands which are sent through the DDI , there is a command such that a 1-line draw function (Windows9X; SCANLINE of an Output function) and a rectangle painting function of a few pixels (Windows9X; RECTANGLE of the Output function) are called many times and a figure drawing process of a complicated shape is executed. In such a case, if a spooling process of one page is executed by the printer driver, a problem such that the number of intermediate languages and the data size increase and they become factors of reduction of the processing speed occurs.","In consideration of the above problems, therefore, it is an object of the invention to provide an information processing apparatus and an information processing method, in which even in case of temporarily spooling an intermediate language by a printer driver, a high speed print can be performed by reducing a size and the number of holding data.","To accomplish the above object, according to the invention, there is provided an information processing apparatus comprising: memory means for storing inputted print command information; and synthesizing means for, when the print command information is stored in the memory means, if an attribute of print command information which has already been stored is identical to that of the print command information and there is a memory area which can be stored in the memory means, synthesizing the print command information which has already been stored and the print command information and allowing synthesized information to be stored in the memory means.","Other features and advantages of the present invention will be apparent from the following description taken in conjunction with the accompanying drawings, in which like reference characters designate the same or similar parts throughout the figures thereof.","An embodiment of the invention will be described in detail hereinbelow with reference to the drawings.",{"@attributes":{"id":"p-0040","num":"0039"},"figref":["FIG. 1","FIG. 1"]},"In , reference numeral  denotes the color LBP (hereinafter, also referred to as a printer). The printer  receives and stores print information comprising print data (character codes, image data, and the like) and control codes which are supplied from a host computer or the like connected to the outside, generates a corresponding character pattern, image, or the like in accordance with the print information, and forms an image onto a recording paper as a memory medium.","Reference numeral  denotes a formatter controller for analyzing the print information supplied from the host computer, executing a generating process of the print image, and controlling the color LBP . The formatter controller  is connected to an operation panel  on which switches, an LED display, and the like for notifying the user of the operation which is executed by the user and notifying the user of a status of the printer are arranged. The operation panel is arranged as a part of an external surface component of the printer . A final print image generated by the formatter controller  is sent as a video signal to an output controller . The output controller  receives detection signals indicative of the statuses from various sensors (not shown) of the printer , outputs control signals to an optical unit  and various driving system mechanism portions, and controls a printing process as a printer .","In the printer shown in , a front edge of a paper (transfer paper) P fed from a paper feed cassette  is gripped by a gripper and held around an outer periphery of a transfer drum . A latent image of each color formed on a photosensitive drum  by the optical unit  is developed by each of color developers Dy, Dm, Dc, and Db of yellow (Y), magenta (M), cyan (C), and black (Bk) and transferred onto the paper on the outer periphery of the transfer drum a plurality of number of times, so that a multicolor image is formed. After that, the paper P is separated from the transfer drum , the image on the paper is fixed by a fixing unit , and the paper is delivered from a paper delivery unit  to a paper delivery tray .","Each of the developers Dy, Dm, Dc, and Db of each color has rotary fulcrum axes at both ends and held by a developer selecting mechanism  so that it is rotatable around the fulcrum axis as a rotational center. Thus, as shown in , each of the developers Dy, Dm, Dc, and Db has a construction such that its position can be maintained even if the developer selecting mechanism  is rotated around a rotary axis as a center in order to select the developer. After the selected developer was moved to a developing position, a selecting mechanism holding frame  is stretched in the direction of the photosensitive drum  around a fulcrum as a rotational center by a solenoid and moved in the direction of the photosensitive drum , and a developing process is executed. Subsequently, the photosensitive drum  is uniformly charged to a predetermined polarity by a charging device . The print information developed as an image by the formatter controller  is converted into a video signal of the corresponding pattern and drives a semiconductor laser  through a laser driver. A laser beam emitted from the semiconductor laser  is on\/off controlled in accordance with the inputted video signal. Further, the laser beam is turned to the right and left by a polygon mirror  which is rotated at a high speed by a scanner motor  and scans and exposes the surface of the photosensitive drum  through a polygon lens  and a reflecting mirror . Thus, an electrostatic latent image of the image pattern is formed on the photosensitive drum . Subsequently, an electrostatic latent image of, for example, the M (magenta) color is developed by the developer Dm of the M (magenta) color and a first toner image of the M (magenta) color is formed on the photosensitive drum .","The transfer paper P is fed at a predetermined timing. A transfer bias voltage of a polarity (for example, plus polarity) opposite to that of toner is applied to the transfer drum . The first toner image on the photosensitive drum  is transferred onto the transfer paper P. The transfer paper P is electrostatically adsorbed to the surface of the transfer drum . After that, the toner of the M (magenta) color remaining on the photosensitive drum  is removed by a cleaner , thereby preparing for steps of forming and developing a latent image of the next color.","Toner images of the second, third, and fourth colors are subsequently transferred in the order of C (cyan), Y (yellow), and Bk (black) by a procedure similar to that mentioned above. However, the operation upon transfer of each color differs from that in the preceding transfer with respect to a point that a bias voltage higher than that in the preceding operation is applied to the transfer drum . When the front edge portion of the transfer paper P on which the toner images of four colors have been multiplex-transferred approaches the separating position, a separating claw  approaches there, a tip of the claw is come into contact with the surface of the transfer drum , thereby separating the transfer paper P from the transfer drum . The separated transfer paper P is conveyed to the fixing unit , the toner image on the transfer paper is fixed here, and the paper is delivered onto the paper delivery tray .","The color laser beam printer in the embodiment outputs the image at a resolution of 600 dpi through the image forming steps as mentioned above. The printer to which the invention can be applied is not limited to the color LBP, but can be also applied to a color printer of another printing system such as ink jet printer, thermal printer, or the like.","The formatter controller  in the color LBP (printer)  will now be described with reference to . The formatter controller  is usually also called a PDL controller or the like and includes: an interface (I\/F)  as connecting means for connecting to the host computer; a reception buffer  for temporarily holding and managing reception data or the like; a transmission buffer  for temporarily holding and managing transmission data or the like; a command analyzer  for analyzing the print data; a print controller ; a drawer ; and a page memory .","The interface (I\/F)  is communicating means for transmitting and receiving the print data to\/from a host computer  and enables communication which conforms with IEEE1284 as a communication protocol. In the embodiment, however, the invention is not limited to such communicating means but the connection can be also made by various protocols through a network, or communicating means which conforms with IEEE1394 can be also used. The print data received through the I\/F  is successively stored in the reception buffer  as memory means for temporarily holding the data and read out and processed as necessary by the command analyzer  or drawer .","The command analyzer  is constructed by a control program according to each PDL command system or a print job control language. The command analyzer  processes an analysis result of the print data such as character print, figure, image, or the like regarding the drawing by inputting an instruction to the drawer  and processes commands such as paper select command, reset command, and the like other than the draw command by inputting an instruction to the print controller .","The drawer  is a renderer for successively developing each draw object such as character or image into the page memory .","It is necessary to send page data to the color LBP shown in  by an area sequential manner of MCYK so as to be in time for an engine rotating process. However, in a standard state, all of the memory capacity necessary for such an operation is not assured but a memory as a band area of a fraction of one plane (1 or 2 bits\/pixel) is assured, the band area is circularly used, and the image is processed synchronously with an engine speed. Usually, the page memory  is managed by the chase of the developing process by the YMCK renderer and the shipping of the video signal to the printer engine, namely, by what is called a banding control. However, if there is a memory of a sufficient capacity, an area where the data of one page can be developed can be also assured.","Generally, the formatter controller  is constructed by a computer system using a central processing unit (CPU), a read only memory (ROM), a random access memory (RAM), or the like. The processes in the respective sections can be also executed in a time-sharing manner under a multitask monitor (real-time OS) or can be also independently executed by preparing dedicated controller hardware every function.","The operation panel  is used for setting and displaying various statuses of the printer as mentioned above. The output controller  converts the contents in the page memory  into the video signal and transfers an image to a printer engine . The printer engine  is a print mechanism for forming a permanent visible image onto the recording paper on the basis of the received video signal and has already been mentioned in conjunction with .","The LBP printer  has been described above. A whole construction of a print system including a host computer  will now be described.","In , reference numeral  denotes the host computer for outputting print information comprising print data and control codes to the printer . The host computer  is constructed as one computer system in which a keyboard  as an input device, a mouse  as a pointing device, and a display monitor  as a display device are combined. It is assumed that the host computer  operates by the basic OS such as WindowsNT, Windows95(98), or the like.","An attention is paid only to functional portions regarding the embodiment with respect to the host computer side and the functions on the basic OS are mainly classified into: application software (application) ; graphic sub-system ; and a spool sub-system  including print information storing means and communicating means for communicating with the printer. The application  indicates, for example, application software which operates on basic software such as word processor, spreadsheet, or the like. The graphic sub-system  is constructed by: a Graphic Device Interface (hereinafter, referred to as GDI)  as a part of the functions of the basic OS; and a printer driver  as a device driver which is dynamically linked from the GDI.","The printer driver  is called from the GDI through an interface such as DDI (Device Driver Interface)  and executes processes according to the device every draw object. In the present system, the printer driver adds a tag of each draw object type to the information of the draw command received through the DDI function and holds the resultant information into a primary buffer  together with attributes such as draw position information, color information, pattern information, and draw logic information.","A draw object (huge image data or the like) which cannot be fully stored into the primary buffer .","When the draw object is held in the primary buffer , if there is the draw object which has already been held, it is additionally registered into the primary buffer  so long as the types and draw attributes of them are identical, respectively. If one of the conditions \u201cthe type differs\u201d, \u201cdata cannot be fully stored into the primary buffer\u201d, \u201cthe draw attribute changes\u201d, and \u201cthe page process is completed\u201d is satisfied, a PDF (Page Data File)  is generated from the draw object which has already been stored in the primary buffer  and spooled.","The spool sub-system  is a sub-system that is peculiar to the printer device locating at the post stage of the graphic sub-system  and includes a despooler . The despooler  reads the PDF  as print information storing means and executes a despooling process by designated translators for mode ( to ). A selected one of drivers ( to ) performs the image development by using a band memory  if the operating mode is an image mode ( to ) and executes a converting process from a spool file into a PDL command if the mode is a PDL mode (), and the driver sends the data to the printer through an interface (I\/F) .","Although there is a case where the foregoing names and functional combination are slightly different in dependence on the basic OS, those names and combination do not cause a large problem so long as they are the modules which can be realized by each technical means mentioned in the embodiment. For example, the modules called spooler and spool file can be also realized by assembling processes into a module called a print queue in another OS.","Generally, in the host computer  including each of those functional modules, under the hardware such as central processing unit (CPU), read only memory (ROM), random access memory (RAM), hard disk drive (HDD), various input\/output controllers (I\/O), and the like, software called basic software controls them and under the basic software, application software and sub-system process of each of them operate as functional modules.","A PDL data compressing method using a primary buffer will now be described further in detail.","To explain the operation in the embodiment, a DDI of Windows95 (Windows98) will be first described.","In the DDI of Windows9X, as one of the functions of the graphics system, the following function is prepared.\n\n","According to this function, a meaning of data which is sent changes in dependence on a value of wStyle of the second argument. For example, if OS_RECTANGLE has been set, 2 is certainly set into wCount. According to this function, first coordinate information (X, Y) shown by lpPoints of the fourth argument indicates an upper left point of a rectangle, next coordinate information (X, Y) shows a lower right point, and it is demanded that the inside of a rectangle having a diagonal line defined by those two points is drawn by a color shown by lpPBrush, a pattern, and a frame line shown by lpPPen.","When a PDF is generated every DDI function by the printer driver , a file of a data structure as shown at  in  is generated. In the diagram, the file  is constructed by a header portion  and a data portion . A data type  is provided at the head of the header portion . In addition to the data type, the header portion  has brush information , pen information , a data size Count, logic arithmetic operation value , circumscribed rectangle information , and the like. The data portion  is constructed by a POINT type structure array and the data has been stored in an array corresponding to the number (Count ).","However, if it is intended to draw gradation by the graphics system application and output it, there is a case where a large number of fine RECTANGLEs as shown at  in  are designated. That is, A row-[5 and 6] columns of  denotes , B row-[4 to 6] columns indicates , C row-[3 to 6] columns shows , . . . .","As mentioned above, if the rectangle draw command is held by a fine unit sent to the DDI function, a size of PDF increases and this results in reduction of the print speed in both PDL mode and image mode. In the embodiment, therefore, even if the DDI function is called, the printer driver  does not immediately generate a PDF but executes a compressing process of the PDF by using the primary buffer  as a memory space of a fixed size.","The primary buffer  needs to be held in the page and has to be able to be accessed also from all DDI functions provided by the driver. \u201cLPPDEVICE lpDestDev\u201d has been stored in the first argument in all of the DDIs of Windows9X and indicates a pointer into a memory space held in one job. The pointer into the primary buffer is registered as a member.","The compressing process in the embodiment is mainly realized by a combination of the following two methods.","1) Reduction of the size and the number of commands by making the header portions common","2) Reduction of the data size by compression of the data portion","Each method will be described in detail hereinbelow.","First, \u201c1) Reduction of the size and the number of commands by making the header portions common\u201d will be explained.","With respect to the finely divided draw commands of the same attributes, the size of PDF can be reduced by making the header information common.","The following members are necessary in order to compare the attributes with the previous draw attributes.\n\n","In the DDI function which is provided by the printer driver, the previous data type set in LASTDATA mentioned above is compared with that of the present data. When both lasDataType coincide, a compression processing function per type is called. If they are different, a PDF is generated from the data in the primary buffer.",{"@attributes":{"id":"p-0080","num":"0101"},"figref":["FIG. 5","FIG. 5"]},"Step S:","If no draw data are stored in the primary buffer, step S follows. If draw data is set in the primary buffer, a control routine advances to step S.","Step S:","If the type and attributes (brush, pen, logic arithmetic operation value) of the data are identical to those of the draw data stored in the primary buffer, step S follows. If they are different, the control routine advances to step S.","Step S:","If the data sent into the primary buffer can be stored, step S follows. If it is impossible, the control routine advances to step S.","Step S:","A PDF is generated from the draw data stored in the primary buffer, and the control routine advances to step S.","Step S:","The draw data sent to the current DDI function is transferred to a compression function per data type and set into the primary buffer. After that, the control routine advances to step S.","Step S:","LASTDATA is updated and the control routine advances to step S.\n\n","Step S:","If all draw commands are completed, step S follows. If NO, the control routine advances to step S.","Step S:","A PDF is generated from the draw data remaining in the primary buffer.",{"@attributes":{"id":"p-0097","num":"0127"},"figref":"FIG. 6","b":["604","608"]},"Subsequently, \u201c2) Reduction of the data size by compression of the data portion\u201d will be described.","The compression function per data type which is called when the draw command of the same type as that of the draw command which has already been stored in the primary buffer  is called executes a compressing process of the data portion by using continuity of a coordinate space or the like.","A specific example of a compressing method of Windows9X, Output (Scanline) will be explained.","1. With respect to a compressing algorithm of Output (Scanline)","An output (Scanline) function will be described with reference to . As shown below, OS_SCANLINES has been set in the second argument of the Output function (mentioned above) as one of the DDI functions.",{"@attributes":{"id":"p-0103","num":"0133"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Arguments"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"84pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"LPPDEVICE","lpDestDev","PDEVICE or PBITMAP"]},{"entry":[{},"WORD","wStyle","OS_SCANLINES"]},{"entry":[{},"WORD","wCount","Point number of the"]},{"entry":[{},{},{},"IpPoints argument"]},{"entry":[{},"LPPOINT","lpPoints","Array of the start"]},{"entry":[{},{},{},"point and end point"]},{"entry":[{},{},{},"of the scanline"]},{"entry":[{},"LPPPEN","lpPPen","Physical pen"]},{"entry":[{},"LPPBRUSH","lpPBrush","Physical brush"]},{"entry":[{},"LPDRAWMODE","lpDrawMode","Draw context"]},{"entry":[{},"LPRECT","lpClipRect","Clip rectangle"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]}}]}}},"A POINT structure array on the destination side shown by lpPoints shows\n\n","Although wCount indicates the number of lpPoints arrays, when the number of scanlines is equal to 1, 2 is set. When it is equal to 2, 3 is set. When it is equal to n, n+1 is set.",{"@attributes":{"id":"p-0106","num":"0139"},"figref":["FIG. 8","figure 802"],"b":["800","801"]},"If a PDF  having one header for one Output function is generated, overlap data such as same brush or pen is registered many times.","Reference numeral  in  shows that the header size can be reduced by dealing with the information regarding the same brush, pen, and draw attributes as one header by the first method.","Further, if the Scanlines are in contact with each other as shown at  in , by the following method, the data size can be reduced to a size smaller than that in case of holding all coordinate information.","First, upon compression of the Scanline data, in addition to LASTDATA, the following members are held for management of the primary buffer.\n\n","By storing the information of Scanline so far into CMPSCNLINES, commands shown in  are generated.","A construction of command data will be explained. The command shows codes ( to ) provided for identifying the compressed data by using the most significant 4-bit portion in the COMPScanline data portion. A structure of the compressed data differs in dependence on a value of the code.",{"@attributes":{"id":"p-0113","num":"0155"},"figref":"FIG. 11","b":"0"},{"@attributes":{"id":"p-0114","num":"0156"},"figref":"FIG. 12","b":["1","2","1"]},"Similarly, the command code  is used in the case where the Y coordinate variation is equal to +1, the right side coordinate is the same as the previous value, and the left side coordinate variation can be expressed by 11 bits.",{"@attributes":{"id":"p-0116","num":"0158"},"figref":"FIG. 13","b":["3","5","3"]},"The command code  is used in the case where the previous coordinate data is compared with the current coordinate data, the Y coordinate variation is equal to \u22121 and the left side coordinate is the same as the previous value, and the right side coordinate variation lies within a change range where it can be expressed by 11 bits. (Although the bit length is equal to 12, 1 bit is used for the code.)","Similarly, the command code  is used in the case where the Y coordinate variation is equal to +1, the right side coordinate is the same as the previous value, and the left side coordinate variation can be expressed by 11 bits.",{"@attributes":{"id":"p-0119","num":"0161"},"figref":"FIG. 14","b":["6","15","6"]},"The command code  is used in the case where the command code number obtained by comparing the previous and current coordinate data is the same as the previous number and the continuation number can be expressed by 12 bits. When it is expressed by 12 or more bits, the command  is used and the reset of the initial coordinates is performed.","A command use example will now be described.","A compression command is fundamentally constructed by a continuation of \u201cinitial coordinates\u201d and \u201cvariation command\u201d.","A command ejection example is shown below.","1. Vertical Straight Line","In case of a vertical straight line, it becomes \u201cSCANLINE of a variation  which continues by a distance corresponding to its length\u201d.","Therefore, the commands become as follows.\n\n","In case of an oblique 45\u00b0 line, in many cases, the right and left variations are equal to 1.","Therefore, since it becomes \u201cSCANLINE of a variation 1 which continues by a distance corresponding to its length\u201d, the commands become as follows.\n\n","In general oblique lines, a change of each SCANLINE is variable.","Therefore, a command is issued each time the variation changes. The commands become as follows.\n\n",{"@attributes":{"id":"p-0130","num":"0182"},"figref":["FIG. 9","FIG. 9"]},"Step S:","A variation delY between the Y coordinate LastY of the previous Scanline data stored in a primary cache and the Y coordinate of the current Scanline is obtained (delY=0 when the data is not stored in the primary cache).","Step S:","If delY is equal to a value other than 0, step S follows. If it is equal to 0, the control routine advances to step S.","Step S:","A variation between the left X and lastLeftX of the current Scanline and a variation between the right X and lastRightX of the current Scanline are obtained.","Step S:","If the variations on both right and left side are equal to previous variations delLeftX and delRightX, step S follows. If at least one of them differs, the control routine advances to step S.","Step S:","If a repetition counter repetcnt indicates 0, step S follows. Unless otherwise, the control routine advances to step S.","Step S:","A continue command (CmndNo. 15) is buffered into the primary buffer , subsequently, the commands showing delLeftX and delRightX are buffered, and the control routine advances to step S.","Step S:","By a new coordinate command (CmndNo. 0), the Y coordinate and the right and left X coordinates are buffered into the primary buffer , and the control routine advances to step S.","Step S:","The left and right X coordinates set in step S are set into lastLeftX and lastRight X, and delLeftX and delRightX are initialized to 0.","Step S:","The repetition counter repetcnt is counted up and the control routine advances to step S.","Step S:","lastLeftX and lastRightX are updated.","The invention can be applied to a system comprising a plurality of apparatuses (for example, a host computer, an interface device, a reader, a printer, and the like) or can be also applied to an apparatus comprising one device (for example, a copying apparatus, a facsimile apparatus, or the like).","Naturally, the object of the invention can be also accomplished by a method whereby a memory medium in which software program codes called a printer driver for realizing the functions of the embodiment mentioned above have been recorded is supplied to a system or an apparatus, and a computer (or a CPU or an MPU) of the system or apparatus reads out and executes the program codes stored in the memory medium.","In this case, the program codes themselves read out from the memory medium realize the functions of the embodiment mentioned above. The memory medium in which the program codes have been stored constructs the invention.","As a memory medium for supplying the program codes, for example, it is possible to use a floppy disk, a hard disk, an optical disk, a magnetooptic disk, a CD-ROM, a CD-R, a CD-RW, a DVD-ROM, a DVD-RAM, a magnetic tape, a non-volatile memory card, an ROM, or the like.","The invention incorporates not only a case where a computer executes the read-out program codes, so that the functions of the embodiment mentioned above are realized, but also a case where the OS (Operating System) or the like which operates on the computer executes a part or all of the actual processes on the basis of instructions of the program codes and the functions of the embodiment mentioned above are realized by those processes.","Further, the invention also incorporates a case where the program codes read out from the memory medium are written into a memory equipped for a function expanding board inserted in a computer or a function expanding unit connected to a computer and, thereafter, a CPU or the like equipped for the function expanding board or function expanding unit executes a part or all of the actual processes on the basis of instructions of the program codes and the functions of the embodiment mentioned above are realized by those processes.","In case of applying the invention to the memory medium, the program codes corresponding to the flowcharts described above are stored in the memory medium.","Obviously, the invention can be also applied to a case where the program codes of software for realizing the functions of the embodiment mentioned above are recorded into a memory medium, and a program is distributed from the memory medium to a requestor through a communication line such as personal computer communication or the like.","The program codes themselves which are installed into a computer in order to realize the functions and processes of the invention by the computer also realize the invention. That is, the computer program itself for realizing the functions and processes of the invention is also incorporated in claims of the invention.","As a method of supplying the computer program, the invention is not limited to a case where it is stored into an FD or a CD-ROM and read out by a computer and installed therein but can be also applied to a case where a client computer is connected to a homepage of the Internet by using a browser of the client computer, the computer program itself of the invention is downloaded from the homepage, or a compressed file including an automatic installing function, thereby supplying the computer program. The supplying method of the computer program can be also realized by dividing the program codes constructing the program of the invention into a plurality of files and downloading each file from a different homepage. That is, a WWW server for allowing a program file to realize the functions and processes of the invention by a computer to be downloaded to a plurality of users is also incorporated in claims of the invention.","The program of the invention is enciphered, stored into a memory medium such as an FD or the like, and distributed to the users, key information to decrypt the encryption is downloaded to the users who satisfy predetermined conditions from the homepage through the Internet, and by using the key information, the enciphered program is executed and installed into a computer, thereby enabling the program to be realized.","As many apparently widely different embodiments of the present invention can be made without departing from the spirit and scope thereof, it is to be understood that the invention is not limited to the specific embodiments thereof except as defined in the appended claims.","As described above, according to the invention, in case of temporarily spooling the intermediate language by the printer driver, the high speed print can beperformed by suppressing the size and the number of holding data. That is, even if the drawing of the same figure is designated by another function by the OS, the high speed printing process can be performed by suppressing the number of spool objects and the spool data size."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 14"}]},"DETDESC":[{},{}]}
