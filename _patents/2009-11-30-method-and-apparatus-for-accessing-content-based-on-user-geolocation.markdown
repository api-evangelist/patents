---
title: Method and apparatus for accessing content based on user geolocation
abstract: An approach is provided for mapping content, such as audio files, to associated metadata about the content. The approach includes initiating a search for local metadata associated with particular content. It is determined whether the local metadata is insufficient. A request for metadata associated with the particular content is generated, if the local metadata is insufficient. The request is sent to a metadata service to obtain result data including metadata for the particular content. A search of the result data from the metadata service is initiated based on a description of the particular content to obtain most relevant metadata of the result data.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08417720&OS=08417720&RS=08417720
owner: Nokia Corporation
number: 08417720
owner_city: Espoo
owner_country: FI
publication_date: 20091130
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","BACKGROUND","SOME EXAMPLE EMBODIMENTS","DETAILED DESCRIPTION OF EXAMPLE EMBODIMENTS"],"p":["This application claims benefit as a Continuation-in-part of application Ser. No. 12\/401,125, filed Mar. 10, 2009 the entire contents of which are hereby incorporated by reference as if fully set forth herein, under 35 U.S.C. \u00a7120.","Media playing applications have been one of the most widely used and popular applications over the Internet. For example, one popular area involves browsing, downloading and playing audio files. A number of service providers maintain media pages on the Internet, where users can browse available media files and select one or more for purchase and download. Users often select media based on references to content on the playlists of their friends and role models. However, many media distributors do not release their content simultaneously worldwide, for a variety of reasons, including phased release to excite user demand, intellectual property issues that vary from country to country, and the degree to which competing products are present in various markets. It can be a challenge for service providers to provide media pages that function in concert with media distributors' geographically restricted releases of content, especially when requests for content reference the playlists of persons in a different country or region. Service providers with a limited regional scope often assume that content release is constant for their region. However, as the service provider develops a global presence, geographical restrictions on released content come into force. The legacy media service systems deployed by those providers may not be able to enforce such geographical constraints on the release of content.","Therefore, there is a need, when responding to requests for content by a user, to direct the user to the content suitable for release at the user's geographic location.","According to one embodiment, a computer-readable storage medium carries one or more instructions which, when executed by one or more processors, cause an apparatus to at least perform the steps of receiving a request, corresponding to a user, for particular content; and, determining a geographic location of the user. The apparatus is caused to perform steps further comprising initiating selective redirection for retrieval of the particular content based on the determined geographic location.","According to another embodiment, an apparatus comprises at least one processor and at least one memory including computer program code. The at least one memory and the computer program code are configured to, with the at least one processor, cause the apparatus to perform at least the receiving a request, corresponding to a user, for particular content; and, determining a geographic location of the user. The at least one memory and the computer program code are further configured to, with the at least one processor, cause the apparatus to initiate selective redirection for retrieval of the particular content based on the determined geographic location.","According to another embodiment, a method comprises receiving a request, corresponding to a user, for particular content; and, determining a geographic location of the user. The method also initiates selective redirection for retrieval of the particular content based on the determined geographic location.","According to another embodiment, an apparatus comprises means for receiving a request, corresponding to a user, for particular content; and, means for determining a geographic location of the user. The apparatus includes means for initiating selective redirection for retrieval of the particular content based on the determined geographic location.","Still other aspects, features, and advantages of the invention are readily apparent from the following detailed description, simply by illustrating a number of particular embodiments and implementations, including the best mode contemplated for carrying out the invention. The invention is also capable of other and different embodiments, and its several details can be modified in various obvious respects, all without departing from the spirit and scope of the invention. Accordingly, the drawings and description are to be regarded as illustrative in nature, and not as restrictive.","A method, apparatus, and software for accessing content based on user geolocation are disclosed. In the following description, for the purposes of explanation, numerous specific details are set forth in order to provide a thorough understanding of the embodiments of the invention. It is apparent, however, to one skilled in the art that the embodiments of the invention may be practiced without these specific details or with an equivalent arrangement. In other instances, well-known structures and devices are shown in block diagram form in order to avoid unnecessarily obscuring the embodiments of the invention.","Although several embodiments of the invention are discussed with respect to accessing music metadata, it is recognized by one of ordinary skill in the art that the embodiments of the inventions have applicability to any type of content playback (e.g., video and games) involving any device (e.g., wired and wireless local device or both local and remote wired or wireless devices) capable of playing content, or capable of communication with such a device. As used herein, content or media includes digital sound, digital images, digital games, and digital videos (such as music videos, news clips and theatrical videos) and any other digital media.",{"@attributes":{"id":"p-0026","num":"0025"},"figref":["FIG. 1A","FIG. 1A"],"b":["100","100","130","120","131","140","140","105","100"],"i":["a","b"]},"By way of example, under certain instances, record labels (e.g., a record label is a particular kind of music distributor) release albums and singles so that the content of an album (e.g., bonus tracks, etc.), album arts, or other properties, or some combination, are different in different territories (also called \u201cregions\u201d or \u201clocations\u201d herein) or countries. Also, the content can be released by a local counterpart of a global label or is released during a different year or part of the year. Availability of the different releases in the different countries\/regions is often restricted by business contracts between retail sellers and the record labels. Thus, music content providers on the Internet (as implemented in a form of \u201cmusic stores\u201d) may not be allowed to sell all releases in all countries. Because of separate releases for different countries, it might also be the case that what appears to be the same album is available in different countries; however, the actual content released is different in the different countries. To account for different releases of the same named content, the different releases are given different database identifiers, e.g., in a unified backend database. For an external music service system trying to link to a music store to purchase or download content, the different identifiers for different releases of the same named content is problematic. It inhibits offering, to users, links to a store in the user's own country if the links were originally created in reference to another country\/region's store, where the identifier is different.","According to certain embodiments, accessing content from a legacy content service system is performed by redirecting a user to a geolocation-sensitive process called a geolocation-based redirect (GBR) process. The GBR process determines a user's geolocation and provides the user with links to a release of the content, which is available in the user's geolocation. This arrangement, in certain embodiments, provides a number of advantages. For example, the existing content clients and content stores can continue to operate as they have in the past without re-engineering. Legacy content service modules are modified only slightly to redirect requests for content to the separate GBR process, and do not have to be re-engineered throughout. The geolocation sensitive data processing is confined to the GBR process. The GBR can be as sophisticated as current and future geographic release restrictions to properly redirect a user to the correct online music store, if one exists.","Nodes , , , of  can be any type of fixed terminal, mobile terminal, or portable terminal including desktop computers, laptop computers, handsets, stations, units, devices, multimedia tablets, Internet nodes, communicators, Personal Digital Assistants (PDAs), a rack (called a blade) in a cabinet of multiple blades, or any combination thereof. Moreover, the nodes may have a hard-wired energy source (e.g., a plug-in power adapter), a limited energy source (e.g., a battery), or both. It is further contemplated that the nodes , , , can support any type of interface to the user (such as \u201cwearable\u201d circuitry, etc.). In the illustrated embodiment, node  is a wireless mobile terminal (also called a mobile station and described in more detail below with reference to ). The mobile terminal  is connected to network  by a wireless link .","By way of example, the communication network  of system  can include one or more networks such as a data network (not shown), a wireless network (not shown), a telephony network (not shown), or any combination thereof, each comprised of zero or more nodes. It is contemplated that the data network may be any local area network (LAN), metropolitan area network (MAN), wide area network (WAN), the Internet, or any other suitable packet-switched network, such as a commercially owned, proprietary packet-switched network, e.g., a proprietary cable or fiber-optic network. In addition, the wireless network may be, for example, a cellular network and may employ various technologies including code division multiple access (CDMA), enhanced data rates for global evolution (EDGE), general packet radio service (GPRS), global system for mobile communications (GSM), Internet protocol multimedia subsystem (IMS), universal mobile telecommunications system (UMTS), etc., as well as any other suitable wireless medium, e.g., microwave access (WiMAX), Long Term Evolution (LTE) networks, wireless fidelity (WiFi), satellite, and the like. In various embodiments, communication network , or portions thereof, can support communication using any protocol, for example, the Internet Protocol (IP).","Information is exchanged between network nodes of system  according to one or more of many protocols (including, e.g., known and standardized protocols). In this context, a protocol includes a set of rules defining how the nodes interact with each other based on information sent over the communication links. The protocols are effective at different layers of operation within each node, from generating and receiving physical signals of various types, to selecting a link for transferring those signals, to the format of information indicated by those signals, to identifying which software application executing on a computer system sends or receives the information. The conceptually different layers of protocols for exchanging information over a network are described in the Open Systems Interconnection (OSI) Reference Model. The OSI Reference Model is generally described in more detail in Section 1.1 of the reference book entitled \u201cInterconnections Second Edition,\u201d by Radia Perlman, published September 1999.","The mobile terminal  includes a data structure with mobile content , and a content player process  and content client process . The content player process  is operative to play content from the mobile content data structure  in response to input by a user (not shown). According to the illustrated embodiment, the mobile terminal includes content client process  that communicates with the content service system  over the network . The operation of content client process  is described in greater detail below with reference to .","The content service system  includes one or more content service hosts  and a service database . The content service hosts are connected directly or indirectly to network . The service database  resides on one or more nodes connected directly or indirectly to the content service hosts , and it is anticipated that, in some embodiments, service database  resides on one or more nodes in network . The service database  includes one or more processes (not shown) and one or more data structures, including one or more local metadata data structures  that stores information about content available through the content service system .","The content service hosts  are one or more network nodes that support the content service module . The content service module  is a process that supports users in finding, obtaining and playing content on their devices in communication with the network . In the illustrated embodiment, the content service module  includes a geolocation-based redirect (GBR) process , the operation of which is described in greater detail below with reference to ,  and . A geolocation service  is available at one or more nodes in network .","According to one embodiment, it is understood herein that local metadata in local metadata data structures  is local in the sense that they are controlled by content service module , and that the content service module  has permission to write to and otherwise edit the data in these data structures. As stated above, the actual data may reside on one or more nodes different from the host of the content service , and in communication with the content service  directly, as depicted, or via network .","The system  includes multiple region-specific content stores and (collectively referenced hereinafter as content stores ). Each content store is a set of one or more processes that enable a user to purchase and download content. The content stores are connected directly or indirectly to network . Each content store is in communication with a different content database: content store is in communication with content database : and content store is in communication with content database . The content databases are collectively referenced as content database . Each content database  resides on one or more nodes connected directly or indirectly to the content store , and it is anticipated that, in some embodiments, content database  resides on one or more nodes in network . The content databases  include one or more processes (not shown) and one or more data structures. Content database includes one or more content data structures and one or more metadata data structures that store information about content in content data structures . Similarly, content database includes one or more content data structures and one or more metadata data structures that store information about content in content data structures . The content data structures and are collectively referenced hereinafter as remote content data structures . The metadata data structures and are collectively referenced as remote metadata data structures . In some embodiments, one or more of the content stores  are included in the content service system .","The content store processes , include metadata provider processes , , respectively, collectively called metadata provider processes . The metadata provider processes  are adapted to provide metadata from the remote metadata data structure  in response to a request for metadata associated with particular content in the content data structures . The regional NOKIA\u2122 Music Stores (NMSs) are examples of content stores  that reside on one or more hosts connected to a communications network, with at least some different content for different regions.","In many networks, communications between nodes are typically effected by exchanging discrete packets of data. Each packet typically comprises (1) header information associated with a particular protocol, and (2) payload information that follows the header information and contains information that may be processed independently of that particular protocol. In some protocols, the packet includes (3) trailer information following the payload and indicating the end of the payload information. The header includes information such as the source of the packet, its destination, the length of the payload, and other properties used by the protocol. Often, the data in the payload for the particular protocol includes a header and payload for a different protocol associated with a different, higher layer of the OSI Reference Model. The header for a particular protocol typically indicates a type for the next protocol contained in its payload. The higher layer protocol is said to be encapsulated in the lower layer protocol. The headers included in a packet traversing multiple heterogeneous networks, such as the Internet, typically include a physical (layer 1) header, a data-link (layer 2) header, an internetwork (layer 3) header and a transport (layer 4) header, and various application headers (layer 5, layer 6 and layer 7) as defined by the OSI Reference Model.","The client-server model of computer process interaction is widely known and used. According to the client-server model, a client process sends a message including a request to a server process, and the server process responds by providing a service. The server process may also return a message with a response to the client process. Often the client process and server process execute on different computer devices, called hosts, and communicate via a network using one or more protocols for network communications. The term \u201cserver\u201d is conventionally used to refer to the process that provides the service, or the host computer on which the process operates. Similarly, the term \u201cclient\u201d is conventionally used to refer to the process that makes the request, or the host computer on which the process operates. As used herein, the terms \u201cclient\u201d and \u201cserver\u201d refer to the processes, rather than the host computers, unless otherwise clear from the context. In addition, the process performed by a server can be broken up to run as multiple processes on multiple hosts (sometimes called tiers) for reasons that include reliability, scalability, and redundancy, among others.","Although a particular set of nodes, processes, and data structures are shown in  for purposes of illustration, in various other embodiments more or fewer nodes, processes and data structures are involved. Furthermore, although processes and data structures are depicted, in  and following drawings, as particular blocks in a particular arrangement on particular nodes for purposes of illustration, in other embodiments each process or data structure, or portions thereof, may be separated or combined or arranged in some other fashion on one or more nodes. For example, in one embodiment, GBR process  is a separate parallel process from content service process ; and in one embodiment, metadata provider  is a separate process from content store process . In an embodiment, content client  is incorporated in content player process .",{"@attributes":{"id":"p-0041","num":"0040"},"figref":["FIG. 1B","FIG. 1B"],"b":["130","133"]},"In the illustrated embodiment, the content service module is called Social Music module  and supports users in finding, obtaining and playing music on their local devices in communication with the network. The Social Music module  includes Social Music services  and a database interface process . The Social Music services are a set of applications (e.g., a JAVA\u2122 stack written in the JAVA\u2122 programming language that can be installed and executed on any device that includes a JAVA\u2122 virtual machine (JVM) process). The Social Music services include processor instructions for finding metadata about songs and using the metadata to direct users to resources on the network where the user can purchase or download those songs, or both. The database interface process  is the interface between the Social Music module  and the local service database ; and is used to retrieve and store local metadata .","In the illustrated embodiment, the Social Music services  include GBR process  to obtain geolocation sensitive metadata for geographically dependent content and to use the database interface process  to store and retrieve the local metadata in the local metadata data structures .","The Social Music module  interacts with other processes on the network (e.g., network ) using the hypertext transfer protocol (HTTP), often in concert with the Representational State Transfer (REST) constraints and indicated as arrows . The other processes may be on the same node or on different nodes.","In the illustrated embodiment, a user's device (e.g., mobile terminal ) includes a Social Music application program interface (API) client  (a music-oriented embodiment of content client ) to interact with the Social Music module , and a browser client  to interact with World Wide Web pages using HTTP. In some embodiments, the social music API client  is installed in the browser client . The Social Music module  interacts with one or more Music Store systems , such as the NOKIA\u2122 Music Store or content stores , depicted in , to purchase songs to be downloaded to a user's device. The download is often accomplished using a Content Distribution Network (CDN) . The music store authorizes the CDN  to download requested content to the user; and then directs a link on the user's browser client  to request the content from the CDN . The requested content is delivered to the user through the user's browser client  as data formatted, for example, according to HTTP or the real-time messaging protocol (RTMP) or the real-time streaming protocol (RTSP), all well known in the art, and depicted as open arrow . As a result, the content is stored on the user's device (e.g., as mobile content  on mobile terminal ). The mobile content  arrives on the mobile terminal  either directly from the CDN , or indirectly through some other device, e.g., a wired node (not shown) using a temporary connection (not shown) between mobile terminal  and the wired node.","In some embodiments, the Social Music module  uses a message service  (such as the MICROSOFT\u2122 YUKON\u2122 service), to receive event data about playback events on the user's device. In some embodiments, the Social Music module  uses other services  available on the network (e.g., network ) such as people services to connect with other persons in a Social Music group of persons, map services to determine a user's geolocation (e.g., geolocation service ) or to show a user's location and points of interest on a map, and game services to determine the user's status in one or more games.",{"@attributes":{"id":"p-0047","num":"0046"},"figref":["FIG. 1C","FIG. 1C"],"b":["135","145","143","110"]},"For purposes of illustration, it is assumed in  that metadata record  includes values for metadata parameters that include: a database unique content identifier (ID) in field  also called a release ID or product release ID herein; a content name in field ; an artist name in field ; an album name in field ; a release date in field ; a link to a World Wide Web page (also referred to as a Web link) where the released content can be purchased in field ; a Web link where the released content can be downloaded in field ; a Web link where the art related to the released content can be viewed in field ; an ellipsis  indicating other metadata parameter fields; and pointers to related metadata records (e.g., to other songs on the same album or other songs by the same artist or other artists that performed the same song etc.) in field . Techniques to list multiple values in a field are well known in the art, such as linked lists, in which the value in the field points to a location in memory or storage where the list begins and each entry has a pointer to a previous or subsequent entry in the list. For convenience, the database unique content identifier (ID) in field  is also called by the shorthand term \u201crelease ID.\u201d The release ID is a primary key into the content data at one of the remote content stores; and is also used to retrieve local metadata more efficiently than an alphanumeric search on content name in field  AND artist name in field .","To accommodate country\/region-specific content releases, the illustrated embodiment includes a metadata parameter for a list of countries\/regions where the particular released content is legally available in field ; and a pointer to a different release of the same content (e.g., released in a different country\/region) in field . It is assumed, for purposes of illustration, that legacy content service systems do not include fields  and .","Although fields are depicted in  as particular blocks in a particular arrangement on a single node for purposes of illustration, in other embodiments each field or data structure, or portions thereof, may be separated or combined or arranged in some other fashion on one or more nodes.",{"@attributes":{"id":"p-0051","num":"0050"},"figref":["FIG. 2A","FIG. 2A","FIG. 2B","FIG. 2C","FIG. 4"],"b":["200","200","133","150","137"]},"In step , a request is received from a client, in response to a corresponding user, for particular content. For purposes of illustration, it is assumed that the user is operating a mobile terminal  in the United States of America (US) but is accessing a content service module hosted in the United Kingdom (UK), which is the user's home content service module and which is bookmarked on the user's mobile terminal . It is further assumed that the content service module  includes a GBR process .","In step , the geographic location (geolocation) of the client process operated by the user is determined, e.g. in the GBR process  in the content service module . Any method known in the art may be used to determine the location of the client process.","In some embodiments, the user is a registered user whose name and address are known to the content service system and who is associated with a unique identifier on the mobile terminal, or is required to log into the content service module . Based on the unique identifier of the mobile terminal, or the user identifier (ID), the user and the user's address are known. However, if the user is on travel, then the actual location of the traveling user cannot be determined this way. If the actual location, rather than the residence location, of the user is used to determine the legal availability of a release, then the residence location is not the desired geolocation when the user is on travel to a different country\/region.","In some embodiments, the geolocation of the user, even when the user is on travel, can be deduced from the geolocation of an intermediate network node, e.g., a cell base station that serves as a gateway in network  for data transmitted by the user's mobile device . Such information is provided by one or more well known services (e.g., GeoIP mapping, CellId, and WLAN positioning, among others) represented by geolocation service .","In step , the local metadata for the particular content requested is retrieved (e.g., from the local metadata data structure ). For example, values for at least some of the metadata parameters fields depicted in  are retrieved. The values in field  indicate the countries\/regions where the release retrieved is allowed (e.g., the content is distributed with permission). The listed countries\/regions are called herein the \u201crelease locations.\u201d","For purposes of illustration, it is assumed that for the particular content identified in the request received per step , the local metadata indicates only Europe. It is further assumed that the local metadata is based on a recent query of content store . However, it is further assumed, for purposes of illustration, that content store , for North America, has similar content that is released for the US and Canada. It is further assumed that content store has been recently updated to include South America in its list of release locations.","In step  it is determined whether the user's current geolocation is among the release locations. In one embodiment, only the release locations indicated by the local metadata are examined. In this embodiment, for the assumed conditions stated above, it is determined in step  that the user's current geolocation is NOT among the release locations. In another embodiment, described in more detail below with reference to , the release locations indicated by metadata at the metadata stores  are also examined. In this embodiment, for the assumed conditions stated above, it is determined in step  that the user's current geolocation is among the release locations known at content store ","If it is determined that the user's current geolocation is not among the release locations examined, then, in step , a message is sent to the client indicating that the particular content requested has not been released at the user's current location.","However, if it is determined that the user's current geolocation is among the release locations considered, then, in step , a Web link to access the requested content is determined based on the metadata that encompassed the user's current geolocation in the metadata release locations. For example, a Web link to access the requested content is provided from the metadata available at content store . In some embodiments the new metadata for the particular content is added to the local metadata.","In some embodiments, step  only determines that a content store exists for the user's geolocation and does not determine whether the content is available at that content store. Step  determines the network address (e.g., the Uniform Resource Locator, URL) of the content store (e.g., store ) that serves the user's geolocation. In step  a redirect to the network address of the correct content store (e.g., ) is sent to the content client with the metadata or product release ID or both received during step  in the original request message. This embodiment, transfers the burden of determining the availability of the particular content to the content store for the user's location.","In step , the client is provided with the Web link to access the particular content. In some embodiments, the link is provided by the GBR. In some embodiments, the link is provided by the content store for the user's geolocation; and in some of these embodiments, the link is provided along with the links of one or more other contents that are similar to the requested content. This last embodiment is especially useful when there is not an exact match for the requested product Release ID at the correct content store, but there are contents with similar metadata values, such as the same artist name and album name.",{"@attributes":{"id":"p-0063","num":"0062"},"figref":["FIG. 2B","FIG. 2A"],"b":["230","211","191","133","137"]},"In step , the modified content service module  receives a request from a client for particular content based on a content name and an artist name.","In step , the modified content service module  searches the local metadata for this combination of content name and artist name and retrieves the associated product Release ID for the requested content. A redirect of the request is performed that includes the Release ID in the redirected request. In some embodiments some or all of the metadata is also included, e.g., the content name and artist name. Any method may be used to perform the redirect and insertion of the Release ID. For example, in one embodiment an HTTP REDIRECT is issued with a Universal Resource Locator (URL) for the GBR process  and with Status  and with data indicating the Release ID and any included metadata. In one embodiment, the Release ID is not inserted into the redirected request. In step , the redirected request is received at the GBR process.","An advantage of this approach is that a legacy content service module that does not use metadata parameter fields  or  can easily and quickly be modified. All geolocation sensitive processing is isolated in a separate GBR process .",{"@attributes":{"id":"p-0067","num":"0066"},"figref":["FIG. 2C","FIG. 2A"],"b":["240","217","241"]},"In step , it is determined whether the local metadata indicates the requested content is released for the user's geolocation. For example, it is determined whether the release locations indicated in field  in the local metadata for the requested content encompass the user's current geolocation. If so, the process continues per step  described above.","If not, then a search is made of metadata from one or more content stores in step . If a value for the field , or the field itself, is absent for the requested content, then it is determined that the local metadata does not indicate the requested content is released for the user's geolocation. In some embodiments, step  includes sending a request for metadata to one or more metadata providers , such as those at content stores , for content identified by the content name and artist name. In some embodiments, the request for metadata also indicates the geolocation associated with the user, and requests only metadata for the requested content that also encompasses that geolocation in field . The Release ID is not included in the request because it is not expected that different releases for the related content in different region will use the same primary key. In some embodiments, the results of the search returns metadata for multiple units of content that have values close to those of the requested data. Thus metadata for multiple releases of the same song and artist will be returned in the results.","In step , the results returned from the remote metadata providers are searched for the best result. For example, the results are sorted by relevance to the request or relevance to the local metadata for the Release ID, and the most relevant metadata is selected as the best result.","In step  it is determined whether the unique database identifier of the best result metadata is the same as the Release ID of the request. If so, then metadata for the release is already in the local metadata. In step , any geolocation information in the best result is added to the release locations of the local metadata. For example, if content store was updated to include South America among the release locations for the Release ID, then the local metadata for the requested content is updated to include South America with Europe in the list of released locations for the Release ID.","In step , it is determined whether the local metadata now indicates the requested content is released for the user's geolocation. If so, then the process continues to get the Web link for access, per step  described above. If not, then the process notifies the user that the content is not released for the user's geolocation, per step  described above. For example, after adding South America to the metadata parameter for released locations for the requested content, it is determined in step  that the content indicated by the Release ID is still not released for the user's geolocation, the US. The process continues per step .","If it is determined, in step , that the unique database identifier of the best result metadata is not the same as the Release ID of the request, then the best result metadata is a different release that is not yet in the local metadata. In step , a new metadata record is stored in the local metadata data structure  with all the metadata parameter values available for the best result metadata. In step  the Release ID is set to the unique database identifier of the best result metadata. Thereafter the release locations of the new metadata record are compared to the user's geolocation in step , described above.","For example, the best results from the content store does not match the Release ID but matches the content name and artist name and includes the US among its release locations. Therefore, it is determined to be the best result metadata in step  and a new metadata record is added to the local metadata data structures  in step . In step  it is determined that the release locations include the US where the user is currently located. Thus the Web link for content access from the new metadata record is determined, per step , and returned to the client requesting the particular content.",{"@attributes":{"id":"p-0075","num":"0074"},"figref":"FIG. 3","b":["300","300","301","303","305","307","309"]},{"@attributes":{"id":"p-0076","num":"0075"},"figref":"FIG. 4","b":["400","401","133","403"]},"In step , the content client receives a redirect to a GBR. The redirect includes a URL for the GBR and a value for the database unique identifier (Release ID) for the requested content. The redirect causes the content client to send the Release ID to the process identified by the URL in step .","The next message received by the content client, if there is no notification that the release is not available in the user's current geolocation, is a redirect to a content store that holds the particular content for release in the user's geolocation, in step . The redirect includes the Release ID for the content that is available for release. In step  the redirect is sent to the appropriate content store.","In some embodiments, the message received in step  is a page with multiple links for the best matches to the metadata of the original request, and user action is invited to select one of the links. In response to user action, the link is followed as the redirect to the content store with the preselected content.","In step , the content client receives a page from the content store, which presents links to purchase or download (or both) the requested content available in the user's current geolocation.","As apparent in , the changes to achieve geolocation sensitive access to content are nearly transparent to the content client, except for the redirect to another content service module process in step . This redirect is an automatic and currently implemented feature in HTTP and thus requires no modifications to the content client. Also a page of links from which a user can select to be automatically transferred to another network resource is also known and implemented in HTTP.",{"@attributes":{"id":"p-0082","num":"0081"},"figref":"FIG. 5A"},"The processes represented in  are the content client  on mobile terminal , the content service system , including the content service module  and GBR  and the service database . Also involved are the geolocation service  and a content store , including a metadata provider  and a content provider . A human user  operates the content client , directly, or indirectly, e.g., through a content player .","In response to input from user , the content client  initiates a request  for particular content, e.g., through a Web user interface (UI) or any other user interface (UI) known in the art. In the illustrated embodiment, this request appears to be directed to the legacy content service module, which has been replaced by the modified content service module . The modified content service module  determines the Release ID and issues a redirect to the GBR process . As a result of the redirect, a redirected request  with a Release ID is sent to the GBR. The remaining steps performed and messages processed in this column are steps and messages of the GBR process . Thus, in various embodiments the request for content comprises either request  by itself or request  by itself, or both. If both, request  is called a second request message.","The GBR process  sends a request  for finding out the geolocation of the user to the geolocation service . The geolocation of the user is returned in message . The GBR process  then issues a database interface command (e.g., FindRelease(ID)) that sends a retrieval message  to the service database  for a record from the local metadata. The return message or messages  present the metadata for the content indicated by the Release ID. These messages are formatted as metadata message  in an embodiment.","In step , the GBR process checks whether the release locations for the retrieved metadata includes the user's geolocation. If so, step  is skipped and the redirect to the content access link target is built in step , based on the Web link in the local metadata. This link target is sent to the content client  as a redirect message . In response, the content client sends a request message  to the access link target of the content provider  in the content store .","However, if the release locations for the retrieved metadata does not include the user's geolocation, then step  of the GBR process is performed. A request for metadata message  is sent to a metadata provider  in the content store . The request  is expressed as a database interface command, e.g., \u201cFind(Geolocation, Title, Artist).\u201d","In response, the metadata provider  returns resulting metadata in a message , e.g., formatted as metadata message . The results metadata message  includes data from one or more metadata records that include the geolocation or title or artist or some combination. In step , the GBR process searches for the best result, e.g., by selecting the most relevant metadata record after sorting by relevance.","If the best result unique database identifier is not the same as the Release ID, then the GBR process performs step . The best result is new metadata about a different release, at least. The best result is added to the local metadata in message . A pointer from the metadata record with the old Release ID to the new metadata record is added to field .","Otherwise, if the best result unique database identifier is the same as the Release ID, then the GBR process performs step . The values of the best result are used to update the local metadata in message , at least for the release locations parameter in field .","The redirect to the content access link target is built in step , based on the Web link in the newly updated local metadata. This link target is sent to the content client  as a redirect message . In response, the content client sends a request message  to the access link target of the content provider  in the content store .",{"@attributes":{"id":"p-0092","num":"0091"},"figref":"FIG. 5B"},"The content client , the content service system , including the content service module  and GBR  and the service database , the geolocation service  and a content store , including a metadata provider  and a content provider , are as described in . Also, as described above, in response to input from user , the content client  initiates a request  for particular content, e.g., through a Web user interface (UI) or any other user interface (UI) known in the art. In the illustrated embodiment, this request appears to be directed to the legacy content service module, which has been replaced by the modified content service module . The modified content service module  determines the Release ID and issues a redirect to the GBR process . As a result of the redirect, a redirected request  with a Release ID is sent to the GBR. The remaining steps performed and messages processed in this column are steps and messages of the GBR process .","As in , the GBR process  sends a request  for finding out the geolocation of the user to the geolocation service . The geolocation of the user is returned in message . The GBR process  then issues a database interface command (e.g., FindStore(geolocation) that sends a retrieval message  to the service database  for a record from the local metadata. The message  includes data that indicates the geolocation returned in the geolocation message . The return message or messages  includes data that indicates a network address, such as a Uniform Resource Locator (URL), for the music store for that geolocation. These messages are formatted as metadata message  in an embodiment.","In process  the GBR  builds a redirect to the network address for the music store serving the user's location. This redirect includes any information provided in request message  and redirect message  about the release, such as the product Release ID and such metadata as the artist name, album name and track name for audio content. This redirect is returned to the content client  as message  and used at content client  to send message  to the content store  servicing the user's location.","The content store , e.g., the metadata provider  or the content provider , determines the contents available at the store, which are similar to the product Release ID or metadata provided in message  in search process . If there is an exact match to the product Release ID, then a link target to the content provider for that content associated with the Release ID is determined and sent to the content client  in message , e.g., a redirect message. If not, then one or more link targets are provided for the contents that best match the metadata provided in message  or the metadata associated with the product Release ID; and those link targets are included in the message  to the content client , e.g., as a Web page with one or more links.","Input received from the user at the content client  is used to activate one link target, if multiple link targets are provided, to send a request message  to access the selected content at content provider  in the content store . In some embodiments, if only one link is provided in message , then that message  is a redirect message, like message  described above; and, in response, the content client  automatically sends a request message  to the access link target of the content provider  in the content store , without further user action.","The processes described herein for content access based on geolocation may be implemented via software, hardware (e.g., general processor, Digital Signal Processing (DSP) chip, an Application Specific Integrated Circuit (ASIC), Field Programmable Gate Arrays (FPGAs), etc.), firmware or a combination thereof. Such example hardware for performing the described functions is detailed below.",{"@attributes":{"id":"p-0099","num":"0098"},"figref":"FIG. 6","b":["600","600","610","600"]},"A bus  includes one or more parallel conductors of information so that information is transferred quickly among devices coupled to the bus . One or more processors  for processing information are coupled with the bus .","A processor  performs a set of operations on information. The set of operations include bringing information in from the bus  and placing information on the bus . The set of operations also typically include comparing two or more units of information, shifting positions of units of information, and combining two or more units of information, such as by addition or multiplication or logical operations like OR, exclusive OR (XOR), and AND. Each operation of the set of operations that can be performed by the processor is represented to the processor by information called instructions, such as an operation code of one or more digits. A sequence of operations to be executed by the processor , such as a sequence of operation codes, constitute processor instructions, also called computer system instructions or, simply, computer instructions. Processors may be implemented as mechanical, electrical, magnetic, optical, chemical or quantum components, among others, alone or in combination.","Computer system  also includes a memory  coupled to bus . The memory , such as a random access memory (RAM) or other dynamic storage device, stores information including processor instructions. Dynamic memory allows information stored therein to be changed by the computer system . RAM allows a unit of information stored at a location called a memory address to be stored and retrieved independently of information at neighboring addresses. The memory  is also used by the processor  to store temporary values during execution of processor instructions. The computer system  also includes a read only memory (ROM)  or other static storage device coupled to the bus  for storing static information, including instructions, that is not changed by the computer system . Some memory is composed of volatile storage that loses the information stored thereon when power is lost. Also coupled to bus  is a non-volatile (persistent) storage device , such as a magnetic disk, optical disk or flash card, for storing information, including instructions, that persists even when the computer system  is turned off or otherwise loses power.","Information, including instructions, is provided to the bus  for use by the processor from an external input device , such as a keyboard containing alphanumeric keys operated by a human user, or a sensor. A sensor detects conditions in its vicinity and transforms those detections into physical expression compatible with the measurable phenomenon used to represent information in computer system . Other external devices coupled to bus , used primarily for interacting with humans, include a display device , such as a cathode ray tube (CRT) or a liquid crystal display (LCD), or plasma screen or printer for presenting text or images, and a pointing device , such as a mouse or a trackball or cursor direction keys, or motion sensor, for controlling a position of a small cursor image presented on the display  and issuing commands associated with graphical elements presented on the display . In some embodiments, for example, in embodiments in which the computer system  performs all functions automatically without human input, one or more of external input device , display device  and pointing device  is omitted.","In the illustrated embodiment, special purpose hardware, such as an application specific integrated circuit (ASIC) , is coupled to bus . The special purpose hardware is configured to perform operations not performed by processor  quickly enough for special purposes. Examples of application specific ICs include graphics accelerator cards for generating images for display , cryptographic boards for encrypting and decrypting messages sent over a network, speech recognition, and interfaces to special external devices, such as robotic arms and medical scanning equipment that repeatedly perform some complex sequence of operations that are more efficiently implemented in hardware.","Computer system  also includes one or more instances of a communications interface  coupled to bus . Communication interface  provides a one-way or two-way communication coupling to a variety of external devices that operate with their own processors, such as printers, scanners and external disks. In general the coupling is with a network link  that is connected to a local network  to which a variety of external devices with their own processors are connected. For example, communication interface  may be a parallel port or a serial port or a universal serial bus (USB) port on a personal computer. In some embodiments, communications interface  is an integrated services digital network (ISDN) card or a digital subscriber line (DSL) card or a telephone modem that provides an information communication connection to a corresponding type of telephone line. In some embodiments, a communication interface  is a cable modem that converts signals on bus  into signals for a communication connection over a coaxial cable or into optical signals for a communication connection over a fiber optic cable. As another example, communications interface  may be a local area network (LAN) card to provide a data communication connection to a compatible LAN, such as Ethernet. Wireless links may also be implemented. For wireless links, the communications interface  sends or receives or both sends and receives electrical, acoustic or electromagnetic signals, including infrared and optical signals, that carry information streams, such as digital data. For example, in wireless handheld devices, such as mobile telephones like cell phones, the communications interface  includes a radio band electromagnetic transmitter and receiver called a radio transceiver.","The term computer-readable medium is used herein to refer to any medium that participates in providing information to processor , including instructions for execution. Such a medium may take many forms, including, but not limited to, non-volatile media, volatile media and transmission media. Non-volatile media include, for example, optical or magnetic disks, such as storage device . Volatile media include, for example, dynamic memory . Transmission media include, for example, coaxial cables, copper wire, fiber optic cables, and carrier waves that travel through space without wires or cables, such as acoustic waves and electromagnetic waves, including radio, optical and infrared waves. Signals include man-made transient variations in amplitude, frequency, phase, polarization or other physical properties transmitted through the transmission media.","Common forms of computer-readable media include, for example, a floppy disk, a flexible disk, a hard disk, a magnetic tape, or any other magnetic medium, a compact disk ROM (CD-ROM), a digital video disk (DVD) or any other optical medium, punch cards, paper tape, or any other physical medium with patterns of holes, a RAM, a programmable ROM (PROM), an erasable PROM (EPROM), a FLASH-EPROM, or any other memory chip or cartridge, a transmission medium such as a cable or carrier wave, or any other medium from which a computer can read. Information read by a computer from computer-readable media are variations in physical expression of a measurable phenomenon on the computer readable medium. Computer-readable storage medium is a subset of computer-readable medium which excludes transmission media that carry transient man-made signals.","Logic encoded in one or more tangible media includes one or both of processor instructions on a computer-readable storage media and special purpose hardware, such as ASIC .","Network link  typically provides information communication using transmission media through one or more networks to other devices that use or process the information. For example, network link  may provide a connection through local network  to a host computer  or to equipment  operated by an Internet Service Provider (ISP). ISP equipment  in turn provides data communication services through the public, world-wide packet-switching communication network of networks now commonly referred to as the Internet . A computer called a server host  connected to the Internet hosts a process that provides a service in response to information received over the Internet. For example, server host  hosts a process that provides information representing video data for presentation at display .","At least some embodiments of the invention are related to the use of computer system  for implementing some or all of the techniques described herein. According to one embodiment of the invention, those techniques are performed by computer system  in response to processor  executing one or more sequences of one or more processor instructions contained in memory . Such instructions, also called computer instructions, software and program code, may be read into memory  from another computer-readable medium such as storage device  or network link . Execution of the sequences of instructions contained in memory  causes processor  to perform one or more of the method steps described herein. In alternative embodiments, hardware, such as ASIC , may be used in place of or in combination with software to implement the invention. Thus, embodiments of the invention are not limited to any specific combination of hardware and software, unless otherwise explicitly stated herein.","The signals transmitted over network link  and other networks through communications interface , carry information to and from computer system . Computer system  can send and receive information, including program code, through the networks ,  among others, through network link  and communications interface . In an example using the Internet , a server host  transmits program code for a particular application, requested by a message sent from computer , through Internet , ISP equipment , local network  and communications interface . The received code may be executed by processor  as it is received, or may be stored in memory  or in storage device  or other non-volatile storage for later execution, or both. In this manner, computer system  may obtain application program code in the form of signals on a carrier wave.","Various forms of computer readable media may be involved in carrying one or more sequence of instructions or data or both to processor  for execution. For example, instructions and data may initially be carried on a magnetic disk of a remote computer such as host . The remote computer loads the instructions and data into its dynamic memory and sends the instructions and data over a telephone line using a modem. A modem local to the computer system  receives the instructions and data on a telephone line and uses an infra-red transmitter to convert the instructions and data to a signal on an infra-red carrier wave serving as the network link . An infrared detector serving as communications interface  receives the instructions and data carried in the infrared signal and places information representing the instructions and data onto bus . Bus  carries the information to memory  from which processor  retrieves and executes the instructions using some of the data sent with the instructions. The instructions and data received in memory  may optionally be stored on storage device , either before or after execution by the processor .",{"@attributes":{"id":"p-0113","num":"0112"},"figref":["FIG. 7","FIG. 7"],"b":["700","700"]},"In one embodiment, the chip set  includes a communication mechanism such as a bus  for passing information among the components of the chip set . A processor  has connectivity to the bus  to execute instructions and process information stored in, for example, a memory . The processor  may include one or more processing cores with each core configured to perform independently. A multi-core processor enables multiprocessing within a single physical package. Examples of a multi-core processor include two, four, eight, or greater numbers of processing cores. Alternatively or in addition, the processor  may include one or more microprocessors configured in tandem via the bus  to enable independent execution of instructions, pipelining, and multithreading. The processor  may also be accompanied with one or more specialized components to perform certain processing functions and tasks such as one or more digital signal processors (DSP) , or one or more application-specific integrated circuits (ASIC) . A DSP  typically is configured to process real-word signals (e.g., sound) in real time independently of the processor . Similarly, an ASIC  can be configured to performed specialized functions not easily performed by a general purposed processor. Other specialized components to aid in performing the inventive functions described herein include one or more field programmable gate arrays (FPGA) (not shown), one or more controllers (not shown), or one or more other special-purpose computer chips.","The processor  and accompanying components have connectivity to the memory  via the bus . The memory  includes both dynamic memory (e.g., RAM, magnetic disk, writable optical disk, etc.) and static memory (e.g., ROM, CD-ROM, etc.) for storing executable instructions that when executed perform the inventive steps described herein. The memory  also stores the data associated with or generated by the execution of the inventive steps.",{"@attributes":{"id":"p-0116","num":"0115"},"figref":["FIG. 8","FIG. 1A"],"b":["803","805","807","809","811","811","811","813"]},"A radio section  amplifies power and converts frequency in order to communicate with a base station, which is included in a mobile communication system, via antenna . The power amplifier (PA)  and the transmitter\/modulation circuitry are operationally responsive to the MCU , with an output from the PA  coupled to the duplexer  or circulator or antenna switch, as known in the art. The PA  also couples to a battery interface and power control unit .","In use, a user of mobile station  speaks into the microphone  and his or her voice along with any detected background noise is converted into an analog voltage. The analog voltage is then converted into a digital signal through the Analog to Digital Converter (ADC) . The control unit  routes the digital signal into the DSP  for processing therein, such as speech encoding, channel encoding, encrypting, and interleaving. In the example embodiment, the processed voice signals are encoded, by units not separately shown, using a cellular transmission protocol such as global evolution (EDGE), general packet radio service (GPRS), global system for mobile communications (GSM), Internet protocol multimedia subsystem (IMS), universal mobile telecommunications system (UMTS), etc., as well as any other suitable wireless medium, e.g., microwave access (WiMAX), Long Term Evolution (LTE) networks, code division multiple access (CDMA), wireless fidelity (WiFi), satellite, and the like.","The encoded signals are then routed to an equalizer  for compensation of any frequency-dependent impairments that occur during transmission though the air such as phase and amplitude distortion. After equalizing the bit stream, the modulator  combines the signal with a RF signal generated in the RF interface . The modulator  generates a sine wave by way of frequency or phase modulation. In order to prepare the signal for transmission, an up-converter  combines the sine wave output from the modulator  with another sine wave generated by a synthesizer  to achieve the desired frequency of transmission. The signal is then sent through a PA  to increase the signal to an appropriate power level. In practical systems, the PA  acts as a variable gain amplifier whose gain is controlled by the DSP  from information received from a network base station. The signal is then filtered within the duplexer  and optionally sent to an antenna coupler  to match impedances to provide maximum power transfer. Finally, the signal is transmitted via antenna  to a local base station. An automatic gain control (AGC) can be supplied to control the gain of the final stages of the receiver. The signals may be forwarded from there to a remote telephone which may be another cellular telephone, other mobile phone or a land-line connected to a Public Switched Telephone Network (PSTN), or other telephony networks.","Voice signals transmitted to the mobile station  are received via antenna  and immediately amplified by a low noise amplifier (LNA) . A down-converter  lowers the carrier frequency while the demodulator  strips away the RF leaving only a digital bit stream. The signal then goes through the equalizer  and is processed by the DSP . A Digital to Analog Converter (DAC)  converts the signal and the resulting output is transmitted to the user through the speaker , all under control of a Main Control Unit (MCU) \u2014which can be implemented as a Central Processing Unit (CPU) (not shown).","The MCU  receives various signals including input signals from the keyboard . The MCU  delivers a display command and a switch command to the display  and to the speech output switching controller, respectively. Further, the MCU  exchanges information with the DSP  and can access an optionally incorporated SIM card  and a memory . In addition, the MCU  executes various control functions required of the station. The DSP  may, depending upon the implementation, perform any of a variety of conventional digital processing functions on the voice signals. Additionally, DSP  determines the background noise level of the local environment from the signals detected by microphone  and sets the gain of microphone  to a level selected to compensate for the natural tendency of the user of the mobile station .","The CODEC  includes the ADC  and DAC . The memory  stores various data including call incoming tone data and is capable of storing other data including music data received via, e.g., the global Internet. The software module could reside in RAM memory, flash memory, registers, or any other form of writable storage medium known in the art. The memory device  may be, but not limited to, a single memory, CD, DVD, ROM, RAM, EEPROM, optical storage, or any other non-volatile storage medium capable of storing digital data.","An optionally incorporated SIM card  carries, for instance, important information, such as the cellular phone number, the carrier supplying service, subscription details, and security information. The SIM card  serves primarily to identify the mobile station  on a radio network. The card  also contains a memory for storing a personal telephone number registry, text messages, and user specific mobile station settings.","While the invention has been described in connection with a number of embodiments and implementations, the invention is not so limited but covers various obvious modifications and equivalent arrangements, which fall within the purview of the appended claims. Although features of the invention are expressed in certain combinations among the claims, it is contemplated that these features can be arranged in any combination and order."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The embodiments of the invention are illustrated by way of example, and not by way of limitation, in the figures of the accompanying drawings:",{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 1A"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 1B"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 1C"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 2A"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":["FIG. 2B","FIG. 2A"]},{"@attributes":{"id":"p-0016","num":"0015"},"figref":["FIG. 2C","FIG. 2A"]},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 5A"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 5B"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 8"}]},"DETDESC":[{},{}]}
