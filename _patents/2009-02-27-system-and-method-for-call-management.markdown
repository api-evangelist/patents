---
title: System and method for call management
abstract: A method and system for call management is provided. In a system embodiment a call manager server is provided that can managing incoming call requests from certain telephony devices and effect connections to other telephony devices based on those incoming call requests. The call manager server can also maintain a policy that defines permissions as to whether certain telephony devices can request interruption of an ongoing phone call at a destination telephony device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08660254&OS=08660254&RS=08660254
owner: BlackBerry Limited
number: 08660254
owner_city: Waterloo
owner_country: CA
publication_date: 20090227
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD","BACKGROUND","DETAILED DESCRIPTION OF THE EMBODIMENTS"],"p":["The present specification relates generally to telecommunication and more specifically relates to a system and method for call management.","Telecommunication advances are permitting richer communication experiences, including telephony experiences. A known telephony features is Multi-level Precedence and Preemption (MLPP). MLPP is a specification used for military Department of Defence (DOD) networks and is required by DOD. The specification is defined according to the Integrated Services Digital Network (ISDN) under a Defence Switched Network (DSN) specification which uses information element 619. With MLPP, one can declare an emergency at different levels. It allows preemption of people using certain resources or people. For example, if a general wants to connect to a lieutenant, and the lieutenant is already on the phone, the general can barge in and preempt the lieutenant's ongoing call. The lieutenant hears a tone then the general is connected. As another example, a politician can invoke an MLPP override to get to an emergency team head during a disaster. In general, MLPP allows high priority people to get the resources they need.","MLPP has not been more broadly implemented in the traditional public switched telephone network (PSTN) due to the potential for abuse through irresponsible or malicious actions. An example of a variation of MLPP is disclosed in EP 1560456B1, which discloses a mobile switching center that performs a barge-in that allows a first user to communicate with a second user of a mobile communication device that is engaged in a preexisting active call. However, EP 1560456B1 still leaves certain potential for irresponsible or malicious actions. The application of MLPP in a private branch exchange (\u201cPBX\u201d) is prone to similar abuses.","The present specification provides a method of managing calls comprising:","receiving an incoming call at a call manager server a request to connect a first telephony device to a second telephony device;","if the second telephony device is otherwise engaged in another call with a third telephony device, determining at said call manager server if a preemption request exists to interrupt the another call;","if the preemption request exists, determining at said call manager server if a preemption policy permits the preemption request;","if the preemption policy permits the preemption request, then, at said call manager server terminating the another call and completing the call request by connecting the first telephony device to the second telephony device; and,","if the preemption policy does not permit the preemption request, then at said call manager server, invoking a process for managing incoming call requests when the second telephony device is unavailable;","if the second telephony device is not otherwise engaged in another call with a third telephony device, then at said call manager server, completing the call request by connecting the first telephony device to the second telephony device.","The method can further comprise, if the preemption request does not exist, invoking the process for managing incoming call requests when the second telephony device is unavailable the call.","The first telephony device and the second telephony device can be associated with a private network and the preemption policy applies to the first telephony device and the second telephony device but does not apply to the third telephony device. The third telephony device can be associated with a public network. The policy can include preemption permissions associated with a plurality of additional telephony devices associated with the private network.","The policy can include permissions respective to the first telephony device and the second telephony device. The policy can permit preemption requests from the first telephony device to the second telephony device, but not permit preemption requests from the second telephony device to the first telephony device.","The policy can be based on the priority of the call request. The priority can include an indication if the call request is associated with an emergency. The policy cab include overrides such that either the first telephony device or the second telephony device will always accept a preemption request, or that the first telephony device or the second telephony device will never accept a preemption request.","Another aspect of the specification provides a call manager server comprising storage for maintaining a policy application and a policy database. The policy database includes a policy indicating permissions as to whether a first telephony device is permitted to interrupt an existing call of and a second telephony. The call manager further comprises a processor connected to the storage and configured to execute the policy application. The call manager server further comprises a network interface connected to the processor and configured to connect to the telephony devices. The processor is configured to receive a call request from the first telephony device to connect to the second telephony device. The processor is configured through the policy application to interrupt any existing call between the second telephony device if the policy data based indicates a permission that such interruption is permitted.","The call manager server can be configured so that the policy indicates whether said first telephony device and said second telephony device are permitted to interrupt an existing call with each other.","Embodiments of the present specification are not limited to any particular operating system, mobile device architecture, server architecture, or computer programming language.","The present application relates to the control and management of communications. Although reference may be made to \u201ccalls\u201d in the description of example embodiments below, it will be appreciated that the described systems and methods are applicable to session-based communications in general and not limited to voice calls. It will also be appreciated that the systems and methods may not be limited to sessions and may be applicable to messaging-based communications in some embodiments.","Reference is now made to , which shows, in block diagram form, an example system, generally designated , for the control and management of communications. The system  includes an enterprise or business system , which in many embodiments includes a local area network (LAN). In the description below, the enterprise or business system  may be referred to as an enterprise network . It will be appreciated that the enterprise network  may include more than one network and may be located in multiple geographic areas in some embodiments.","The enterprise network  may be connected, often through a firewall , to a wide area network (WAN) , such as the Internet. The enterprise network  may also be connected to a public switched telephone network (PSTN)  via direct inward dialing (DID) trunks or primary rate interface (PRI) trunks.","The enterprise network  may also communicate with a public land mobile network (PLMN) , which may also be referred to as a wireless wide area network (WWAN) or, in some cases, a cellular network. The connection with the PLMN  may be made via a relay , as known in the art.","The enterprise network  may also provide a wireless local area network (WLAN) featuring wireless access points. Other WLANs  may exist outside the enterprise network . For example, WLAN may be connected to WAN .","The system  may include a number of enterprise-associated mobile devices  (only one shown). The mobile devices  may include devices equipped for cellular communication through the PLMN , mobile devices equipped for Wi-Fi communications over one of the WLANs , or dual-mode devices capable of both cellular and WLAN communications. WLANs  may be configured in accordance with one of the IEEE 802.11 specifications.","It will be understood that the mobile devices  include one or more radio transceivers and associated processing hardware and software to enable wireless communications with the PLMN  and\/or one of the WLANs . In various embodiments, the PLMN  and mobile devices  may be configured to operate in compliance with any one or more of a number of wireless protocols, including GSM, GPRS, CDMA, EDGE, UMTS, EvDO, HSPA, 3GPP, or a variety of others. It will be appreciated that the mobile device  may roam within the PLMN  and across PLMNs, in known manner, as the user moves. In some instances, the dual-mode mobile devices  and\/or the enterprise network  are configured to facilitate roaming between the PLMN  and a WLAN , and are thus capable of seamlessly transferring sessions (such as voice calls) from a connection with the cellular interface of the dual-mode device  to the WLAN  interface of the dual-mode device , and vice versa.","The enterprise network  typically includes a number of networked servers, computers, and other devices. For example, the enterprise network  may connect one or more desktop or laptop computers  (one shown). The connection may be wired or wireless in some embodiments. The enterprise network  may also connect to one or more digital telephone sets  (one shown).","The enterprise network  may include one or more mail servers, such as mail server , for coordinating the transmission, storage, and receipt of electronic messages for client devices operating within the enterprise network . Typical mail servers include the Microsoft Exchange Server\u2122 and the IBM Lotus Domino\u2122 server. Each user within the enterprise typically has at least one user account within the enterprise network . Associated with each user account is message address information, such as an e-mail address. Messages addressed to a user message address are stored on the enterprise network  in the mail server . The messages may be retrieved by the user using a messaging application, such as an e-mail client application. The messaging application may be operating on a user's computer  connected to the enterprise network  within the enterprise. In some embodiments, the user may be permitted to access stored messages using a remote computer, for example at another location via the WAN  using a VPN connection. Using the messaging application, the user may also compose and send messages addressed to others, within or outside the enterprise network . The messaging application causes the mail server  to send a composed message to the addressee, often via the WAN .","The relay  serves to route messages received over the PLMN  from the mobile device  to the corresponding enterprise network . The relay  also pushes messages from the enterprise network  to the mobile device  via the PLMN .","The enterprise network  also includes an enterprise server . Together with the relay , the enterprise server  functions to redirect or relay incoming e-mail messages addressed to a user's e-mail address within the enterprise network  to the user's mobile device  and to relay incoming e-mail messages composed and sent via the mobile device  out to the intended recipients within the WAN  or elsewhere. The enterprise server  and relay  together facilitate \u201cpush\u201d e-mail service for the mobile device  enabling the user to send and receive e-mail messages using the mobile device  as though the user were connected to an e-mail client within the enterprise network  using the user's enterprise-related e-mail address, for example on computer .","As is typical in many enterprises, the enterprise network  includes a Private Branch exchange (although in various embodiments the PBX may be a standard PBX or an IP-PBX, for simplicity the description below uses the term PBX to refer to both)  having a connection with the PSTN  for routing incoming and outgoing voice calls for the enterprise. The PBX  is connected to the PSTN  via DID trunks or PRI trunks, for example. The PBX  may use ISDN signaling protocols for setting up and tearing down circuit-switched connections through the PSTN  and related signaling and communications. In some embodiments, the PBX  may be connected to one or more conventional analog telephones . The PBX  is also connected to the enterprise network  and, through it, to telephone terminal devices, such as digital telephone sets , softphones operating on computers , etc. Within the enterprise, each individual may have an associated extension number, sometimes referred to as a PNP (private numbering plan), or direct dial phone number. Calls outgoing from the PBX  to the PSTN  or incoming from the PSTN  to the PBX  are typically circuit-switched calls. Within the enterprise, e.g. between the PBX  and terminal devices, voice calls are often packet-switched calls, for example Voice-over-IP (VoIP) calls.","The enterprise network  may further include a Service Management Platform (SMP)  for performing some aspects of messaging or session control, like call control and advanced call processing features. The SMP  may, in some cases, also perform some media handling. Collectively the SMP  and PBX  may be referred to as the enterprise communications platform, generally designated . It will be appreciated that the enterprise communications platform  and, in particular, the SMP , is implemented on one or more servers having suitable communications interfaces for connecting to and communicating with the PBX  and\/or DID\/PRI trunks. Although the SMP  may be implemented on a stand-alone server, it will be appreciated that it may be implemented into an existing control agent\/server as a logical software component. As will be described below, the SMP  may be implemented as a multi-layer platform.","The enterprise communications platform  implements the switching to connect session legs and may provide the conversion between, for example, a circuit-switched call and a VoIP call, or to connect legs of other media sessions. In some embodiments, in the context of voice calls the enterprise communications platform  provides a number of additional functions including automated attendant, interactive voice response, call forwarding, voice mail, etc. It may also implement certain usage restrictions on enterprise users, such as blocking international calls or 1-900 calls. In many embodiments, Session Initiation Protocol (SIP) may be used to set-up, manage, and terminate media sessions for voice calls. Other protocols may also be employed by the enterprise communications platform , for example, Web Services, Computer Telephony Integration (CTI) protocol, Session Initiation Protocol for Instant Messaging and Presence Leveraging Extensions (SIMPLE), and various custom Application Programming Interfaces (APIs), as will be described in greater detail below.","One of the functions of the enterprise communications platform  is to extend the features of enterprise telephony to the mobile devices . For example, the enterprise communications platform  may allow the mobile device  to perform functions akin to those normally available on a standard office telephone, such as the digital telephone set  or analog telephone set . Example features may include direct extension dialing, enterprise voice mail, conferencing, call transfer, call park, etc.","Reference is now made to , which show example embodiments of the enterprise communications system . Again, although references are made below to \u201ccalls\u201d or call-centric features it will be appreciated that the architectures and systems depicted and described are applicable to session-based communications in general and, in some instances, to messaging-based communications.",{"@attributes":{"id":"p-0053","num":"0052"},"figref":"FIG. 2","b":["16","18","60","60","16","18"]},"In this embodiment, the SMP  assumes control over both call processing and the media itself. This architecture may be referred to as \u201cFirst Party Call Control\u201d. Many of the media handling functions normally implemented by the PBX  are handled by the SMP  in this architecture. Incoming calls addressed to any extension or direct dial number within the enterprise, for example, are always first routed to the SMP . Thereafter, a call leg is established from the SMP  to the called party within the enterprise, and the two legs are bridged. Accordingly, the SMP  includes a digital trunk interface  and a digital signal processing (DSP) conferencing bridge . The DSP conferencing bridge  performs the bridging of calls for implementation of various call features, such as conferencing, call transfer, etc. The digital trunk interface  may be implemented as a plurality of telephonic cards, e.g. Intel Dialogic cards, interconnected by a bus and operating under the control of a processor. The digital trunk interface  may also be partly implemented using a processor module such as, for example, a Host Media Processing (HMP) processor.","The SMP  may include various scripts  for managing call processing. The scripts  are implemented as software modules, routines, functions, etc., stored in non-volatile memory and executed by the processor of the SMP . The scripts  may implement call flow logic, business logic, user preferences, call service processes, and various feature applications.",{"@attributes":{"id":"p-0056","num":"0055"},"figref":"FIG. 3","b":["16","18","18","18"]},"The call control server  is coupled to the PBX , for example through the LAN, enabling packet-based communications and, more specifically, IP-based communications. In one embodiment, communications between the PBX  and the call control server  are carried out in accordance with SIP. In other words, the call control server  uses SIP-based communications to manage the set up, tear down, and control of media handled by the PBX . In one example embodiment, the call control server  may employ a communications protocol conforming to the ECMA-269 or ECMA-323 standards for Computer Supported Telecommunications Applications (CSTA).",{"@attributes":{"id":"p-0058","num":"0057"},"figref":"FIG. 4","b":["14","18","74","74","18","72","76","72","76","72","74"]},"The SIP server  interacts with the media server  using SIP-based media handling commands. For example, the SIP server  and media server  may communicate using Media Server Markup Language (MSML) as defined in IETF document Saleem A., \u201cMedia Server Markup Language\u201d, Internet Draft, draft-saleem-msml-07, Aug. 7, 2008. The media server  may be configured to perform Host Media Processing (HMP).","Other architectures or configurations for the enterprise communications system  will be appreciated by those ordinarily skilled in the art.","Reference is now made to , which shows another embodiment of the enterprise communications system  with a Third Party Call Control architecture. In this embodiment, the SMP  is a multi-layer platform that includes a protocol layer , a services layer  and an application layer . The protocol layer  includes a plurality of interface protocols configured for enabling operation of corresponding applications in the application layer . The services layer  includes a plurality of services that can be leveraged by the interface protocols to create richer applications. Finally, the application layer  includes a plurality of applications that are exposed out to the communication devices and that leverage corresponding ones of the services and interface protocols for enabling the applications.","Specifically, the protocol layer  preferably includes protocols which allow media to be controlled separate from data. For example, the protocol layer  can include, among other things, a Session Initiation Protocol or SIP , a Web Services protocol , an Application Programming Interface or API , a Computer Telephony Integration protocol or CTI , and a Session Initiation Protocol for Instant Messaging and Presence Leveraging Extensions or SIMPLE protocol . It is contemplated that the interface protocols - are plug-ins that can interface directly with corresponding servers in the enterprise network , which will be further described below.","For the purposes of this disclosure, SIP  will be utilized, although it is appreciated that the system  can operate using the above disclosed or additional protocols. As known by those of ordinary skill in the art, SIP is the IETF (Internet Engineering Task Force) standard for multimedia session management, and more specifically is an application-layer control protocol for establishing, maintaining, modifying and terminating multimedia sessions between two or more endpoints. As further known by those of ordinary skill in the art, the SIP protocol  includes two interfaces for signaling: SIP-Trunk (hereinafter referred to as \u201cSIP-T\u201d) and SIP-Line (hereinafter referred to as \u201cSIP-L\u201d). Specifically, the SIP-T interface is utilized when the endpoint is a non-specific entity or not registered (i.e., when communicating between two network entities). In contrast, the SIP-L interface is utilized when the endpoint is registered (i.e., when dialing to a specific extension). The specific operation of the system  utilizing SIP  will be described in further detail below.","The SMP  also includes a plurality of enablers, among other things, a VoIP enabler , a Fixed Mobile Convergence or FMC enabler , a conference services enabler , a presence enabler  and an Instant Messaging or IM enabler . Each of the enablers - are used by corresponding services in the services layer  that combine one or more of the enablers. Each of the applications in the application layer  is then combined with one or more of the services to perform the desired application. For example, a phone call service may use the VoIP or PBX enabler, and an emergency response application may use the phone call service, an Instant Messenger service, a video call service, and email service and\/or a conference service.","The application layer  may include a conference services application  that, together with the conference services enabler , enables multiple communication devices (including desk telephones and personal computers) to participate in a conference call through use of a centralized conference server . As seen in , the conference server  is provided in the enterprise network  and is in communication with the conference services enabler  preferably through the SIP protocol , although it is recognized that additional protocols that control media separate from data may be appropriate, such as the Web Services protocol  or the CTI protocol . As will be described in further detail below, the conference call server  is configured for directing media and data streams to and from one or more communication devices (i.e., mobile devices , telephones , and computers ).","Turning now to , the general operation of the system  using SIP  as the signaling protocol will be discussed, although it is recognized that the present system is not limited to the processes discussed herein. The signaling descriptions that follow are based on Third Party Call Control architecture, such as that illustrated in  or . It will be appreciated that similar but slightly modified signaling may be used in a First Party Call Control architecture, wherein the PBX  will pass media through to the SMP  for direct media handling by the SMP . Variations in the signaling to adapt to various architectures will be appreciated by those ordinarily skilled in the art.",{"@attributes":{"id":"p-0067","num":"0066"},"figref":"FIG. 6A","b":["11","101","16","20","11","101","18","100","12","16","18","11","102","11","16","104","16","18","16","18","106","18","16","108"]},"The SMP  then sets up the outgoing call leg to the destination. It does this by sending an invite over SIP-L to the PBX  with the destination number of the target phone (block ). SIP-L is used so that the call can be correctly attributed to the individual within the organization within any call records that are being maintained by the PBX . When the invite is received, the PBX  dials the destination number to the target phone  (block ), and the target phone  answers the call (block ). When the target phone  is answered, the PBX  sends a 200 OK signal to the SMP  indicating that the target phone  is ready to receive data (block ). The SMP  then sends an invite over SIP-T to the PBX  and shuffles the SDP (Session Description Protocol, as known to those of ordinary skill in the art) to connect the call legs (block ). When the call legs are connected, the PBX  sends a second 200 OK signal to the SMP  (block ), and the users of the device  and target phone  can communicate with each other.","Note that between the cellular call leg being established and the outgoing call leg being answered, the mobile user hears ringing tones. These ringing tones may be provided by the PBX  using the presentation of early media from the outgoing call leg, or they may be generated locally on the device  if early media is not available. In the latter case, it will be necessary to localize the ringing tone to match the tone normally heard with a call through the PBX .","The above description is known as a \u201cmobile initiated\u201d call, because the SMP  provides the mobile device  with the DNIS number into which the mobile device  has called. Alternatively, the mobile originated call could be \u201cPBX initiated\u201d, as shown in . Specifically, in a PBX-initiated call, upon receipt of the mobile originated call request (block ), the SMP  confirms receipt of the call to the mobile device  with an ANI number (block ), which the mobile device uses to identify the incoming call from the PBX . The PBX  then sends an invite over SIP-T to the PBX  with the cellular number of the device and the ANI number that is attached to the outgoing call (block ). Upon receipt of the invite, the PBX  makes a cellular call to the device  (block ), which is answered by the device (block ). The device  checks the ANI number in the incoming call to confirm if the number is actually from the PBX . If the ANI number is stripped for any particular reason, then the device  may be configured to answer the call as a regular cellular call, or it may reject the call as unknown. When the device  answers the PBX-initiated call, the PBX  sends a 200 OK signal to the SMP , indicating that the call leg to the device is established (block ).","In response, the SMP  sends an invite over SIP-L with the destination number of the target phone  to the PBX  (block ). When the invite is received at the PBX , the PBX dials the destination number to the target phone  (block ), the target phone  picks up the call (block ), and a 200 OK signal is sent from the PBX  to the SMP  (block ), indicating that the target phone  is also ready to receive data. In response to the  OK, the SMP  sends an invite to the PBX , shuffling the SDP to connect the call legs (block ). Finally, when the call legs are connected, the PBX  sends a second 200 OK signal to the SMP , and the users of the device  and target phone  are able to communicate with each other.","In both instances, the SMP  is performing third party call control of the two call legs, the PBX  remaining in control of the call. The decision of whether to proceed with a mobile-initiated call or a PBX-initiated call can be set by policy. Specifically, the option to select either mobile-initiated or PBX-initiated calls is a feature provided in the SMP , and an administrator for the enterprise network  can determine which setting to use. For example, in some cases it may be more cost effective for the corporation to utilize PBX-initiated calls rather than mobile-initiated calls, and vice versa. However, it is appreciated that the system  is not limited to the above processes.",{"@attributes":{"id":"p-0073","num":"0072"},"figref":["FIGS. 7A and 7B","FIG. 7A"],"b":["80","101","101","16","150","16","16","18","152"]},"In response to the invite, the SMP  sends a call request with the DNIS number and source details to the device  (block ), which is confirmed to the SMP (block ). In addition to confirming the call, the mobile device  sends a cellular call to the DNIS number at the PBX  (block ). Again, as the DNIS number is routed in the dialing plans to the SMP , upon receipt of the cellular call, the PBX  sends an invite over SIP-T to the SMP  with the DNIS number (block ). In response to the invite, a \u201c200 OK\u201d signal is sent over SIP-T from the SMP  to the PBX , acknowledging that the call leg to the mobile device  is established (block ). Finally, the initial invite (block ) is acknowledged with the \u201c200 OK\u201d signal with the cellular SDP, at which point the call legs are joined and the target phone  and device  can communicate with each other on the call.","The diagram shown in  illustrates a \u201cmobile-initiated\u201d call, because, as discussed above with respect to , the SMP  presents the mobile device  with the DNIS number at the PBX  into which to call. However, it is also possible to employ a \u201cPBX-initiated\u201d mobile terminated call, as shown in , where the PBX  sends an incoming call to the device  with the ANI number of the target phone .","Specifically, similar to the mobile initiated call described above and shown in , the target phone  sends an incoming call to the destination number of the device, which is received at the PBX  (block ). Upon receipt of the call, the PBX  sends an invite over SIP-L to the SMP  (block ) with the source number of the target phone . In response to the invite, the SMP  sends a call request with the source number to the device  (block ), with the ANI number the device should expect in the incoming call, the call request being confirmed by the device (block ). At this point in the PBX-initiated call, the SMP  sends an invite over SIP-T to the PBX  with the cellular number and ANI number to use (block ), prompting the PBX  to make a cellular call to the device  with the ANI number (block ), prompting the device to ring. The device  answers the call (block ), and a \u201c200 OK\u201d signal is sent from the PBX  to the SMP , acknowledging that the cellular call leg to the device  is established (block ). In response, a \u201c200 OK\u201d signal is also sent from the SMP  to the PBX , acknowledging that the call leg to the target phone  is also established (block ). The SMP  shuffles the SDP to connect the call legs, the call legs are joined, and the target phone  and device  can communicate with each other on the call.","As discussed above with respect to , the SMP  remains in control of the signaling between the target phone  and the mobile device  in both the mobile-initiated and PBX-initiated calls. Again, the decision to proceed with a mobile-initiated call or a PBX-initiated call is based on policy and may be set by a system administrator. In some cases, it may be more efficient or cost effective for the administrator to decide that PBX-initiated calls should be used, and in other cases, it may be more efficient or cost effective for mobile-initiated calls to be utilized. As these policy decisions may vary by organization and are not imperative to the scope of the present application, they will not be discussed in further detail.","The foregoing presents a specific framework on which the present teachings can be implemented. Referring now to , a system for call management is indicated generally at A. To assist in explanation of the teachings, system A is a simplified representation of system  and its variations, and as will be discussed further below various components in system A can be related to counterparts in system . In a present embodiment system A comprise a plurality of telephony devices A-, A-, A- (generically, telephony device A, collectively telephony devices A. This nomenclature is used elsewhere herein).","System A also comprises a call manager server A which is configured to maintain a policy A and execute a policy application A that utilizes policy A, all of which will be discussed in greater detail below. Devices A are all associated with call manager server A as will be discussed further below. System A also comprises another telephony device A which is not associated with call manager server A.","A public network A- connects telephony devices A- and A- to call manager server A, while a private network A- connects telephony device A- to call manager server A.","Public network A- can be any public network such as the Internet (or packet switched variations thereof) or the PSTN (or circuit switched variations thereof) or combinations thereof that is configured to carry voice communications between telephony devices A and call manager server A. Thus, a public backhaul link A- (which can be wired or wireless or combinations thereof, though is typically wired) connects call manager server A to public network A-. In general it will now be understood that public network A- can be generally analogized to PSTN , WAN  or PLMN  or two or more of them from system .","Private network A- can be any private network such as an Intranet (or packet switched variations thereof) or a PBX (or circuit switched variations thereof) or combinations thereof that is configured to carry voice communications between telephony devices A and call manager server A. Thus, a private backhaul link A- (which can be wired or wireless or combinations of both, though is typically wired) connects call manager server A to private network A-. Private network A- and call manager server A can thus be associated with an enterprise A or other entity. It will now be apparent that call manager server A can be part of, or otherwise associated with a PBX switch associated with enterprise A. Likewise it will now be apparent that private network A- can be analogized to the infrastructure described in relation to enterprise network  of system .","Telephony device A- connects to public network A- via a first link A-, telephony device A- connects to public network A- via a second link A-, and telephony device A- connects to private network A- via a third link A-. The infrastructure that can be used to implement links A is not particularly limited and can also be wired or wireless or combinations thereof. Thus telephony devices A can be fixed, nomadic, or mobile. In a nomadic or mobile context, it is contemplated that device A- and device A- can establish connections call manager server A via private network A-, and likewise that device A- can also establish connections with call manager server A via public network A-. As a concrete non-limiting example of the mobile or nomadic context, links A- and A- in  can be implemented via a core mobile network such as a 3G network, or links A- and A- can be implemented via the Institute of Electrical and Electronics Engineers (IEEE) 802.11 or Bluetooth\u2122 specification. In a fixed context or links A- and A- can be implemented by a plain old telephone system (POTS) line.","Devices A are associated with unique identifiers that are stored within policy database A maintained on call manager server A. Such unique identifiers may be absolute or relative identifiers or both. An absolute unique identifier is uniquely associated with the specific device A itself, whereas a relative unique identifier is uniquely associated with a subscriber that is presently associated with a particular device A. Examples of absolute unique identifiers include Media Access Control (MAC) addresses, POTS telephone numbers, and Mobile Subscriber ISDN Number (MSIDSN). Examples of relative unique identifier include a International Mobile Subscriber Identity (IMSI), and email addresses. A relative unique identifier would typically be maintained in conjunction with a corresponding absolute unique identifier.","Telephony device A is an example of one a plurality of additional telephony devices that are connected to public network A- via a link A, and which are not associated with call manager server A and therefore no record of which is maintained in policy database A. Device A and link A can be of any type of configuration, and in general device A is configured to conduct voice communications over network A-, with any of devices A or any other telephony device (not shown) that is connected to network A-.","Each telephony device A is typically any type of computing or electronic device that can be used to conduct voice communications network A. Referring now to , a schematic block diagram shows telephony device A in greater detail. It should be emphasized that the structure in  is purely exemplary, and contemplates an enhanced device that can be used for both wireless voice (e.g. telephony) and wireless data (e.g. email, web browsing, and text) communications. (The wireless data features are not required). Telephony device includes a plurality of input devices which in a present embodiment includes a keyboard A and a microphone A. Input from keyboard A and microphone A is received at at least one processor A, which in turn communicates with a non-volatile storage unit A (e.g. read only memory (\u201cROM\u201d), Erasable Electronic Programmable Read Only Memory (\u201cEEPROM\u201d), Flash Memory) and a volatile storage unit A (e.g. random access memory (\u201cRAM\u201d). Device A also includes an interface A (e.g. a radio, or network interface card or the like) that connects processor A to the appropriate network A via link A. Various output devices are also provided, including a speaker A and a display A, which are connected to and controlled by processor A.","Programming instructions and databases that implement the functional teachings of telephony device A as described herein are typically maintained, persistently, in non-volatile storage unit A and used by processor A which makes appropriate utilization of volatile storage A during the execution of such programming instructions. Of particular note is that non-volatile storage unit A maintains a voice telephony calling application that can be used to initiate and receive telephony communications, which utilize microphone A and speaker A as controlled by processor A.","In general it will now be understood that telephony devices A and A are generally analogous to communication devices (i.e. mobile devices , phones  and computers ) from system .","Referring now to , a schematic block diagram shows call manager server  in greater detail. It should be emphasized that the structure in  is purely exemplary, and contemplates a server computing environment that can intermediate at least telephony communications. For example, server A can be a Sun Fire V480 running a UNIX operating system, from Sun Microsystems, Inc. of Palo Alto Calif., and having four central processing units each operating at about nine-hundred megahertz and having about sixteen gigabytes of random access memory. However, it is to be emphasized that this particular server is merely exemplary, and a vast array of other types of computing environments for servers  and A are contemplated. Call manager server A includes an input device which in a present embodiment is a keyboard A. Input from keyboard A is received at at least one processor A, which in turn communicates with a non-volatile storage unit A (e.g. read only memory (\u201cROM\u201d), Erasable Electronic Programmable Read Only Memory (\u201cEEPROM\u201d), Flash Memory) and a volatile storage unit A (e.g. random access memory (\u201cRAM\u201d). Call manager server  also includes a first interface - (e.g. a network interface card or the like) that connects processor  to network A- via link A-. Call manager server A also includes a second interface A- (e.g. a network interface card or the like) that connects processor A to network A- via link A-. An output device is also provided, including a display A, which is connected to and controlled by processor A. Note that keyboard A and display A are for configuration purposes, and can be configured for temporary connection to server A, or omitted where server A includes a remote management feature whereby server  can be controlled from a desktop computer or other client machine (not shown) that connects to one of the network interfaces A.","In general, it will now be understood that call manager server A can be implemented within enterprise communication system  (and its variants) from system .","Programming instructions that implement the functional teachings of call manager server A as described herein are typically maintained, persistently, in non-volatile storage unit A and used by processor A which makes appropriate utilization of volatile storage A during the execution of such programming instructions. Of particular note is that non-volatile storage unit A maintains both policy database A and policy application A.","Policy database A is configured to maintain data representing whether or not various unique identifiers associated with different devices A have permission to preempt ongoing communications with other devices A. Policy application A is configured to enforce the policy defined by policy database A. Table I shows an exemplary structure for policy database A.",{"@attributes":{"id":"p-0093","num":"0092"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE I"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Exemplary contents of policy database 100"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"49pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{},"Pre-emption permissions"]},{"entry":[{},{},"according to device"]},{"entry":["Entry","Device Identifier","identifier"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["1","54A-1","54A-2; 54A-3"]},{"entry":["2","54A-2","54A-3"]},{"entry":["3","54A-3","None"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}}},"Explaining Table I in greater detail, the Entry column of Table I is an index used to uniquely identify various records in database A. The Device Identifier column contains the unique identifier of the device A to which the policy record entry pertains. The unique identifier can be in terms of an absolute unique identifier or a relative unique identifier that points to an absolute unique identifier. In the simplified example in Table I, the contents of each Entry of the Device Identifier column include the reference character used to identify the relevant device A in the Figures. The Pre-emption Permissions column contains one or more unique identifiers, that correspond to one or more devices that can be pre-empted by the device A identified in the Entry with the corresponding Device Identifier. Again, in the simplified example in Table I, the contents of each Entry of the Pre-emption Permissions column includes the reference character used to identify one or more of the devices A in the Figures.","In the specific non-limiting example shown in Table I, the policy for device A- is that device A- is permitted to pre-empt calls that are in progress by devices A- and A-; the policy for device A- is that device A- is permitted to pre-empt calls that are in progress by device A- but not for device A-; and the policy for device A- is that device A- is not permitted to pre-empt calls that are in progress by another device A- or A-.","Referring now to , a method for call management is represented in the form of a flow-chart as indicated generally at . Method  can be performed using system A, though it is to be understood that method  can be performed on variations of system A, and likewise it is to be understood that method  can be varied.","Block  comprises receiving an incoming call request. Block  is performed by call manager server A which receives a communication from one of devices A indicating that the device A is requesting to initiate a call with another device A. A specific example is shown in , where device A- initiates a request to initiate a call with device A-. The request is represented as an oval bearing reference R- which is sent from device A- to call manager server A. Request R- can be formed in the usual manner, such as simply dialing a telephone number corresponding to device A- on device A-. Of note is that even though device A- is connected to public network A- via link A-, which include infrastructures that are already capable of routing a call from directly device A- to device A-, request R- is nonetheless carried to call manager server  for completion, as in the present embodiment device A- is associated with the private network A- that is also administered by call manager server A, and thus device A- is configured to route such call requests via call manager server A.","Block  comprises determining if the destination is busy. Block  is performed by call manager server A which examines the state of the destination identified in the request at block  to determine if that destination device is already in the middle of a call. If the determination at block  is \u201cno\u201d, then at block  the call request from block  is fulfilled in the usual manner. Continuing with specific example shown in , a call completion is represented in  where a call C- is shown as established between device A- and device A-. Call C- represented as an oval labeled as C- which is joins device A- and device A-. At this point method  ends, but of course method  can perform differently than this first example.","A second of exemplary performance of method  begins with assumptions expressed in , wherein a call C-- is in progress between device A- and device A, at the same time that block  is invoked, wherein device A- sends an incoming call request R- to call manager server A, and incoming call request R- includes a request to complete a call between device A- and device A-. Because of the state of system A in , when block  is reached a determination is made that \u201cyes\u201d, the destination is busy. Block  thus comprises a determination as to whether preemption is requested. A preemption request is an indication from the device that originates the call at block  as to whether that device wishes to preempt an ongoing call at the requested destination telephone. A preemption request can be formed as part of request RA- itself, i.e. in the form of a flag set within the request that indicates that the call request itself accompanies a preemption request. A preemption request can also be in the form of a separate request initiated at the originating device, generated by dual tone multi-frequency (DTMF) input or via a more advanced input method such as a tick-box that is selected as part of a data screen that is generated on display . A preemption request can also be assumed to exist as part of an incoming call request at block . Such an assumption could be provided on a case-by-case basis by, for example, adding another column to Table I that indicates whether or not a preemption request is presumed.","A preemption request can also be in the form of a query sent back to the calling device , with a message that indicates \u201cThe called device is current on another call. Do you wish to preempt this call?\u201d. The preemption request can also be configured to be presumed after a predefined time, so that if the called device has already been a call for more than the predefined time, then the preemption request will be presumed to have occurred.","If no preemption is requested, then at block  a \u201cno\u201d determination is made and then at block  a process is invoked to manage the incoming call request according a predefined process for managing incoming call requests when the destination is unavailable. Such a process at block  can include returning a busy signal to the calling device, forwarding the calling device to voicemail, or forwarding the calling device to an alternative device, or such other process as desired.","If preemption is requested, then at block  a \u201cyes\u201d is reached and then at block  determination is made as to whether the requested preemption is permitted. At least block  can be effected by policy application A utilizing policy database A. Using the example in Table I, at block  Entry 1 of Table I would be examined to arrive at a \u201cyes\u201d determination, that device A- is permitted to preempt calls in-progress associated with device A-. Block  thus comprises sending a preemption notification to either or both devices which currently have a call in-progress. Block  is represented in  as a notification N- is sent to device A from call manager server A. While not shown in , notification N-, or a variation thereof, can be sent to device A-. The notification can take many forms, and in fact block  is optional. The notification can be a recorded audio message that states \u201cYour current call has been terminated, please try making this call again later\u201d, or can be another message as desired. The notification message can be simple audible beep.","Block  comprises interrupting the destination number's current call. Block  is also represented in  by the fact that the call path for call C-- is removed. From block  for this second example, method A moves to block  at which point the call request from block  is completed. Block  for this second example is represented in , as a second call C-- is now shown in progress between device A- and device -. At this point this second example of performance of method  ends.","As a third example of the performance of method , assume that device A- initiated a call at block  for either device A- or device A-, and that device A- and device A- had a call in progress therebetween. Also assume that device A- submitted a preemption request so that a \u201cyes\u201d determination was made as block . In this third example, a \u201cno\u201d determination would be reached at block  since Table I indicates that device A- is never permitted to request preemption. In this third example, device A- would receive a notification from call manager server A that the preemption request was refused and method  would advance to block  which would be invoked as described above.","The foregoing presents certain exemplary embodiments, but variations or combinations or subsets thereof are contemplated. For example, policy database A can be proactively examined for a given device A so that the call flow in method  is dynamically adjusted based on the permissions for that given device. For example, in Table I device A- is indicated as never being permitted to request preemption, and therefore method  can be dynamically adjusted to a) never permit device A- to even request preemption or b) to presume a \u201cno\u201d determination at block  regardless of any preemption request from device A-. Also note that the criteria in policy database A can be varied. For example, the policy defined in each entry of database A can be based on the priority of the call (e.g. emergency). For example, Table I could be varied to permit device A- to preempt a call if the device A- indicated a preemption request based on the fact that the call was an emergency. As another example, the policy can include overrides so that a particular device can indicate that it will always accept an preemption request, while other devices can indicated that they will never accept a preemption request, or will have their own criteria for accepting a preemption request. Where individual policies have a potential for conflict, then policy database  can also include conflict resolution rules.","A still further variation is shown in , which shows a method for call management represented in the form of a flow-chart as indicated generally at . Method is an exemplary variation on method  and therefore like blocks bear like references except followed by the suffix \u201ca\u201d. Of note is that in method , block is presented prior to block (the opposite order of the corresponding blocks in method ). In method , at block a determination is made as to whether preemption is permitted, and only if the determination at block is \u201cyes\u201d is there a determination at block as to whether preemption has even been requested.","The scope of the monopoly of this specification is defined by the claims attached hereto."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0005","num":"0004"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0006","num":"0005"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0007","num":"0006"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":["FIG. 5","FIG. 3"]},{"@attributes":{"id":"p-0010","num":"0009"},"figref":["FIG. 6A","FIG. 5"]},{"@attributes":{"id":"p-0011","num":"0010"},"figref":["FIG. 6B","FIG. 5"]},{"@attributes":{"id":"p-0012","num":"0011"},"figref":["FIG. 7A","FIG. 5"]},{"@attributes":{"id":"p-0013","num":"0012"},"figref":["FIG. 7B","FIG. 5"]},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":["FIG. 9","FIG. 8"]},{"@attributes":{"id":"p-0016","num":"0015"},"figref":["FIG. 10","FIG. 8"]},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":["FIG. 12","FIG. 8","FIG. 11"]},{"@attributes":{"id":"p-0019","num":"0018"},"figref":["FIG. 13","FIG. 8","FIG. 11"]},{"@attributes":{"id":"p-0020","num":"0019"},"figref":["FIG. 14","FIG. 8","FIG. 4"]},{"@attributes":{"id":"p-0021","num":"0020"},"figref":["FIG. 15","FIG. 8","FIG. 1"]},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 16"}]},"DETDESC":[{},{}]}
