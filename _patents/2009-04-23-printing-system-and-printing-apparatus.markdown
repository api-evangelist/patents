---
title: Printing system and printing apparatus
abstract: In a printing system, a first apparatus transmits, to a printing apparatus, a printing instruction containing location information indicating the location of printing content on a network. When receiving the printing instruction, the printing apparatus updates the location information contained in the received printing instruction in accordance with a medium setting indicating a recording medium on which printing is to be performed, and issues a request for printing content corresponding to the updated location information through the network. In response to the request from the printing apparatus, a second apparatus transmits the printing content corresponding to the updated location information to the printing apparatus through the network, and the printing apparatus receives the printing content and performs printing of the printing content on the recording medium. Accordingly, printing content suitable for a printable region of a medium on which printing is to be performed can be easily acquired and printed.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08228543&OS=08228543&RS=08228543
owner: Canon Kabushiki Kaisha
number: 08228543
owner_city: Tokyo
owner_country: JP
publication_date: 20090423
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DESCRIPTION OF THE EMBODIMENTS"],"p":["1. Field of the Invention","The present invention relates to a printing apparatus that receives printing content through a network and that performs printing of the received printing content, and more particularly, performing printing on a disk medium.","2. Description of the Related Art","In recent years, due to the developments of digitalization and networking of home electric appliances, digital broadcast television apparatuses (hereinafter, referred to as DTVs) have also realized various functions by transferring data to other apparatuses through networks. For example, a system in which a DTV transfers printing data contained in received broadcast data to a printer through a network and the printer performs printing of the received printing data has been considered. Alternatively, a system in which information indicating the location of printing data on the Internet contained in broadcast data to a printer and the printer acquires the printing data and performs printing of the received printing data has been considered. Such printing systems are defined by \u201cData Coding and Transmission Specification for Digital Broadcasting\u201d (ARIB STANDARD, Association of Radio Industries and Businesses (ARIB), ARIB STD-B24, Version 5.1) and \u201cOPERATIONAL GUIDELINES FOR DIGITAL TERRESTRIAL TELEVISION BROADCASTING\u201d (ARIB TECHNICAL REPORT, ARIB TR-B14, Version 2.8). Printing related to such data broadcasting will be hereinafter referred to as data broadcast printing.","The data broadcast printing is performed on the basis of PE:1 (PrintEnhanced:1), which is a printing service based on Universal Plug and Play (UPnP) technology. UPnP is a known set of protocols that enables a device connected to a network to be easily found and controlled. In UPnP technology, an apparatus that controls a device is called a control point (CP). In the case of data broadcast printing, a DTV serves as a CP.","PE:1, which is a service of a printer device based on UPnP technology, is defined by \u201cPrintEnhanced:1 Service Template Version 1.01.\u201d When a printer is connected to a network to which a DTV is connected, the DTV, which serves as a CP, is capable of detecting the printer. In the PE:1 service, a CreateURIJob action is mainly used as a printing instruction that a DTV issues to a printer. The printing instruction does not contain printing data. The printing instruction contains a uniform resource identifier (URI) serving as location information indicating the location of printing content on the network. When receiving the printing instruction, the printer requests a content server indicated by the URI contained in the printing instruction to transmit content to be printed, and performs printing of the acquired content.","Some printers are capable of performing label printing on disk media, such as CDs and DVDs. Some disk media, such as CDs and DVDs, have a circular shape whose diameter is 8 cm or 12 cm. Furthermore, in recent years, card-shaped CDs have been becoming widely used. As stated above, media having various shapes and various sizes are available. In addition, even for circular-shaped disk media, inner and outer diameters representing a printable region in which printing can be performed may differ from medium to medium. Thus, in the case of label printing on a disk medium, a dedicated application by which an image to be printed can be finely adjusted so as to fit the printable region of the medium is generally used. For example, as a method for printing a piece of content so as to be compatible with various media, a method for changing the size of an image subjected to label printing in accordance with a medium on which printing is to be performed is disclosed in Japanese Patent Laid-Open No. 2007-62111.","Meanwhile, in recent years, since recording of digital broadcasts on disk media, such as DVDs, has been widely performed, performing label printing on a disk medium by using a DTV has been required. That is, the operations of acquiring content from a content server and printing the acquired content on a disk medium, such as a CD or a DVD, have been considered.","However, even in this case, there is a problem in that printing must be performed so as to fit a printable region of a medium, as described above. Under such circumstances, a method for adjusting content to be printed can be considered, as described in Japanese Patent Laid-Open No. 2007-62111. However, according to this method, in a printed image, image balance may be degraded or an important portion of the image may be lost.  is an illustration showing an example of printing content to be printed on a disk medium. In a case where the printing content shown in  is printed on a disk medium, a region encircled by dotted lines represents a printable region.  is an illustration showing an example of the printing content adjusted by the method described in the prior art. The printing content shown in  is generated by reducing the printing content shown in . Although the outer diameters of the printable regions shown in  differ from each other, the inner diameters of the printable regions shown in  are the same. Thus, in a case where, as in the technology described in Japanese Patent Laid-Open No. 2007-62111, the size of the printing content shown in  is reduced and the reduced printing content is printed within the printable region shown in , part of an image of an object exists outside the printable region. In particular, in a system in which charged content is printed in data broadcast printing, a situation in which acquired content does not fit the printable region of a medium on which the content is to be printed causes a serious problem.","Thus, in a case where, in particular, data broadcast printing is performed on a medium having a printable region similar to that of a disk medium, it is desirable that a content server store a plurality of pieces of dedicated printing content suitable for media on which printing is to be performed and that a printer acquire a corresponding piece of printing content and print the acquired printing content. Thus, in order to acquire the dedicated printing content, it is necessary to transfer, from the printer to the content server, medium setting information indicating the shape, size, and the like of a medium on which printing is to be performed. However, according to the current standards of data broadcast printing, medium setting information cannot be transferred directly from a printer to a content server. Thus, in order to transfer medium setting information to a content server, a DTV needs to acquire medium setting information of a printer and to transmit the acquired medium setting information to the content server. In this method, however, the DTV needs to perform communications a large number of times. Thus, a large amount of load will be imposed on the DTV.","An embodiment of the present invention provides a printing system that easily acquires printing content suitable for a printable region of a medium and that performs printing of the acquired printing content on the medium.","According to an aspect of the present invention, there is provided a printing system including a first apparatus configured to issue a printing instruction; a second apparatus configured to transmit printing content; and a printing apparatus configured to receive the printing content and to perform printing of the printing content. The first apparatus and the second apparatus are connected to the printing apparatus. The first apparatus includes a first transmission unit configured to transmit, to the printing apparatus, a printing instruction containing location information indicating the location of printing content on a network. The printing apparatus includes a requesting unit configured to determine a medium setting indicating a recording medium on which printing is to be performed, update, in accordance with the determined medium setting, the location information contained in the printing instruction transmitted from the first transmission unit, and issue a request for printing content through the network in accordance with the updated location information. The second apparatus includes a second transmission unit configured to transmit, in response to the request from the requesting unit, the printing content corresponding to the updated location information to the printing apparatus through the network. The printing apparatus receives the printing content transmitted from the second transmission unit and prints the received printing content on the recording medium.","Further features of the present invention will become apparent from the following description of exemplary embodiments with reference to the attached drawings.",{"@attributes":{"id":"p-0024","num":"0023"},"figref":["FIG. 1","FIG. 1"],"b":["101","102","103","102","104","103","102","104","103"]},{"@attributes":{"id":"p-0025","num":"0024"},"figref":["FIG. 2","FIG. 2"],"b":["102","1021","1022","1023","1024","1025","1026","1027","1028"]},"The CPU  controls the entire printer . The CPU  controls the operation unit , the communication unit , and the printing mechanism unit , while using the RAM  as a work memory, on the basis of a program stored in the ROM . The nonvolatile memory  retains stored information even when the power is turned off. The nonvolatile memory  is used for storing setting information and the like of the printer . Although not illustrated, the operation unit  serves as a user interface of the printer  and includes an operation button serving as an input section and a liquid crystal panel serving as a display section. A user operates the button, while viewing the display on the liquid crystal panel, to perform setting or changing of medium settings, such as the type of a recording medium on which printing is to be performed, the shape of the recording medium, such as a circular shape or a card shape, and the size of the recording medium. The medium setting information set by the user is stored in the nonvolatile memory . The communication unit  is connected to the Ethernet network to communicate with the DTV  and the router . As described above, the printer  is capable of implementing UPnP communications with the DTV and implementing HTTP communications with a content server through the router . The printing mechanism unit  is a mechanism for implementing printing and outputting. The printing mechanism unit  performs recording on a recording medium. In particular, in a case where printing is performed on a disk medium such as a CD or a DVD, a dedicated tray on which the disk medium is installed is conveyed to the printing mechanism unit  so that printing is performed on the disk medium.",{"@attributes":{"id":"p-0027","num":"0026"},"figref":["FIG. 3","FIG. 1"],"b":["101","101","102","101","102","104"]},"Referring to , first, the DTV  issues a CreateURIJob Request, which is a printing instruction, to the printer . When receiving the CreateURIJob Request, in a case where printing can be performed, the printer  generates a print job and transmits a CreateURIJob Response to the DTV . When receiving the CreateURIJob Response, the DTV  understands the fact that the printing instruction has been received by the printer  and the print job has been generated.","In accordance with a URI contained in the received CreateURIJob Request, the printer  transmits a Request to the server  in accordance with an HTTP GET method. By transmitting the Request, the printer  is capable of requesting the server  to transmit a file.","When receiving the Request, the server  transmits, as an HTTP Response, an Extensible HyperText Markup Language (XHTML)-Print file, which is printing content, to the printer , in accordance with the URI contained in the Request. This transmission may be called second transmission. Note that XHTML-Print is a markup language defined for printing and conforms to the standards cited in \u201cPrintEnhanced:1 Service Template Version 1.01\u201d. Thus, XHTML-Print will not be described here in detail.","The printer  interprets the received XHTML-Print file. In a case where a style sheet, an image, or the like is referred to in the received XHTML-Print file, the printer  further obtains the style sheet, the image, or the like by using the HTTP GET method. The printer  converts the printing content into data to be printed, and performs printing by using the printing mechanism unit .",{"@attributes":{"id":"p-0032","num":"0031"},"figref":["FIG. 4","FIG. 3","FIG. 4"]},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 5","b":["101","102","101","102"]},{"@attributes":{"id":"p-0034","num":"0033"},"figref":["FIG. 6","FIG. 6"],"b":["102","104","601","102","102","601","102","602","603","102","604","102","104","102","601","601","102","102","601","601","102","104","101"]},"In the process shown in , the printer  updates an URI in accordance with medium settings in step S. A plurality of pieces of printing content corresponding to various media are stored in the server  and URIs corresponding to the individual pieces of printing content are set. In addition, as described above with reference to , the server  transmits printing content in accordance with an URI contained in a received Request. Thus, by updating the SourceURI, the printer  is capable of changing printing content to be acquired from the server . Hence, since the printer  is capable of acquiring printing content suitable for medium settings only by updating the SourceURI in accordance with the URI set by the server, the printer  is capable of performing printing of printing content suitable for a medium on which printing is to be performed.","Note that, in step S, the printer  is capable of determining medium settings by reading medium setting information stored in the nonvolatile memory . Alternatively, for example, in a case where a function of automatically determining a medium conveyed to the printing mechanism unit  is provided, the printer  may determine medium settings in accordance with a result obtained by the automatic determination. In this example, a plurality of pieces of printing content corresponding to various types and sizes of media are stored in the server  and URIs corresponding to the individual pieces of printing content are set. However, the present invention is not limited to this. The server  may determine medium settings in accordance with a designated URI and dynamically generate printing content.",{"@attributes":{"id":"p-0037","num":"0036"},"figref":["FIG. 7","FIG. 7","FIG. 7","FIG. 7"],"b":"102"},"In step S of , in accordance with the medium settings determined in step S, the printer  can rewrite the SourceURI, regarding whether or not the medium is card-shaped, or rewrite the values of the outer diameter and inner diameter of the medium. Accordingly, printing content stored in the server  can be specified. Thus, the printer  is capable of acquiring and printing content suitable for the medium. In addition, for example, in the case of updating from the URI corresponding to the card-shaped medium indicated by the SourceURI (3) of  to the URI corresponding to the circular-shaped medium indicated by the SourceURI (1) or (2) of , URI queries regarding diameter and outer diameter can be added. On the contrary, in the case of updating from a URI corresponding to a circular-shaped medium to a URI corresponding to a card-shaped medium, URI queries regarding diameter and outer diameters can be deleted.","In the above description, medium settings used in this embodiment are related to the size and shape of a disk medium. However, medium settings are not necessarily related to the size and shape of a disk medium. Medium settings may be widely related to characteristics of a recording medium. For example, medium settings may be related to the aspect ratio of paper on which printing is to be performed. Alternatively, when there are a plurality of pieces of paper of different colors on which printing is to be performed, the present invention may be applied to a case where content should be changed according to the color. In addition, although the present invention is applied to data broadcast printing in this embodiment, the present invention is not necessarily limited to data broadcast printing. For example, the present invention may be applied to a case where a subject that issues a printing instruction is not a DTV but a game machine and the URI of printing content stored in game software is transmitted to a printer so that printing is performed. In addition, in this embodiment, a DTV transmits a printing instruction containing a URI to a printer through the Ethernet network. However, the present invention is not limited to this. For example, a cellular phone or a personal digital assistant (PDA) may transmit a printing instruction containing a URI to a printer by using Bluetooth\u00ae. Transmitting a printing instruction containing a URI using Bluetooth is defined by Print-By-Reference, which is one of the specifications of a basic print profile. According to the Print-By-Reference, a portable terminal is capable of transmitting a printing instruction containing location information of printing content to a printer.","Although the present invention is applied to a UPnP PrintEnhanced:1 service in this embodiment, the present invention is not limited to the PrintEnhanced:1 service. For example, instead of the PrintEnhanced:1 service, a service dedicated to disk label printing may be newly defined. A service may be started when a tray used for printing on a disk medium is inserted in a printer, and the service may be ended when printing is completed. In addition, a service may be retrieved when a DTV performs label printing on a disk medium, and printing may be started when the started service is found. In this case, the DTV is capable of easily determining whether or not label printing can be performed.","In addition, although a configuration in which a content server (server ) receives a request for printing content and transmits the printing content is described in this embodiment, the present invention is not limited to this. For example, when receiving a request for printing content from a printer, a server may transmit to the printer the URI of a server from which the printing content is to be actually transmitted. Alternatively, a configuration in which a plurality of servers that transmit printing content exist and a server that transmits printing content is dynamically changed in accordance with domain name system (DNS) round robin or the like may be used.","An aspect of the present invention can also be achieved by supplying a recording medium on which program code implementing functions of the above-described embodiments is recorded to a system or an apparatus and performing the program code by a computer (or a CPU or a microprocessing unit (MPU)) of the system or the apparatus. In this case, the program code read from the recording medium attains the functions of the embodiments described above. The recording medium on which the program code is recorded is included in the present invention. For example, a hard disk, a CD-ROM, a CD-R, a nonvolatile memory card, a ROM, a DVD, or the like can be used as a recording medium for supplying the program code. An aspect of the present invention can also be achieved when part or all of the actual processing is performed by an operating system (OS) or the like running on the computer on the basis of instructions of the program code and the functions of the embodiments described above are attained. Furthermore, an aspect of the present invention can also be achieved when the program code attaining the functions of the embodiments described above are written to a memory arranged in a function expansion board inserted in the computer or a function expansion unit connected to the computer. In this case, the functions of the embodiments described above can also be attained when part or all of the actual processing is performed by a CPU or the like arranged in the function expansion board or the function expansion unit on the basis of instructions of the program code.","While the present invention has been described with reference to exemplary embodiments, it is to be understood that the invention is not limited to the disclosed exemplary embodiments. The scope of the following claims is to be accorded the broadest interpretation so as to encompass all modifications and equivalent structures and functions.","This application claims the benefit of Japanese Patent Application No. 2008-112754 filed Apr. 23, 2008, which is hereby incorporated by reference herein in its entirety."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 8A"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 8B"}]},"DETDESC":[{},{}]}
