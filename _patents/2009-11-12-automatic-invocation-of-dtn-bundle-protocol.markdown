---
title: Automatic invocation of DTN bundle protocol
abstract: a controller coupled to the network interface and the memory. In this example, the controller is configured to intercept a packet addressed to a software application, the packet including a payload, the software application being resident on a computer, determine suitability of the packet for DTN processing and encode the payload into a DTN bundle.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09015822&OS=09015822&RS=09015822
owner: Raytheon Company
number: 09015822
owner_city: Waltham
owner_country: US
publication_date: 20091112
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["RELATED APPLICATIONS","BACKGROUND","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"p":["This application claims priority under 35 U.S.C. \u00a7119(e) to U.S. Provisional Application Ser. No. 61\/114,570, entitled \u201cAUTOMATIC INVOCATION OF DTN BUNDLE PROTOCOL,\u201d filed on Nov. 14, 2008, which is herein incorporated by reference in its entirety.","1. Field of the Invention","At least one aspect in accord with the present invention relates generally to apparatus and methods for networking computer systems, and more specifically, to apparatus and methods for networking computer systems using disruption\/delay tolerant networking (DTN).","2. Discussion of Related Art","In a traditional DTN (Disruptive\/Delay Tolerant Networking) system there are servers and clients. The servers include Bundle Protocol Agents (BPAs) and the clients have a service called the BPA application program interface (API) which allows applications to invoke DTN functionality encapsulated in the BPA. An example of a DTN network topology is illustrated (in block diagram form) in . Packets are passed from a DTN client  via one or more DTN servers  to another DTN client , as indicated by arrows .","An example of normal DTN communications using standard interfaces is illustrated in . A networking application  uses the DTN BPA API  to transfer a payload to the DTN BPA  which may forward the payload through several other DTN BPAs  (associated with DTN servers ) until the payload is delivered to an intended destination client .","Along with a payload, the client  specifies a DTN address, and DTN options such as, for example, custodial option, service type (for example, guaranteed delivery, etc.) and payload lifetime. These elements are encapsulated in an external data representation (XDR) encoded string and passed, via the DTN BPA API , to a BPA daemon through a TCP\/IP stream. The BPA daemon decodes the XDR and handles the payload according to the specified DTN options. The payload then moves from DTN server to DTN server, as shown by a dotted line  in , until the payload reaches the DTN server that is acting as the destination for the particular DTN client identified in the packet.","Conventionally, in order to make use of the standard DTN communications described above, applications must be aware of DTN and its options, and explicitly use the DTN services to achieve its benefits. Those applications that do not expressly support DTN are unable to realize the benefits of the DTN protocols without being modified to bundle specific packets. As a result, these applications cannot realize the benefits of DTN after the original packet has been transmitted.","Some examples in accord with the present invention relate generally to apparatus and methods for disruption\/delay tolerant networking (DTN), and more specifically, to apparatus and methods for seamlessly providing applications, including pre-existing, non-DTN-aware applications, with DTN functionality. These examples allow applications that do not support DTN to benefit from DTN and its robust services without requiring any modifications to the applications. In addition, examples may provide valuable network layer functionality, such as guaranteed delivery, decreased bandwidth consumption and decreased source retransmission of packets, that may be beneficial to a wide variety of communications or applications.","According to one example, a computer-implemented method for providing delay tolerant networking (DTN) services to software applications is provided. The method includes the acts of intercepting, by a first computer, a packet addressed to a software application, the packet including a payload, determining suitability of the packet for DTN processing and, responsive to determining that the packet is suitable, encoding the payload into a DTN bundle.","In the method, the act of intercepting, by the first computer, a packet may include an act of establishing an operating system hook. In addition, the act of determining the suitability of the packet may include an act of reading an indication that packets generated by the software application are targeted for DTN servicing. Further, the act of determining the suitability of the packet may include acts of reading an indication that packets encoded according to a specified protocol are targeted for DTN servicing and determining that the packet is encoded according to the specified protocol of the packet. Moreover, the act of determining the suitability of the packet may include acts of reading an indication that packets including a specified source address are targeted for DTN servicing and determining that the packet has the specified source address. Additionally, the act of determining the suitability of the packet may include acts of reading an indication that packets including a specified destination address are targeted for DTN servicing and determining that the packet has the specified destination address. Furthermore, the act of determining the suitability of the packet may include acts of reading an indication that packets including a specified destination port are targeted for DTN servicing and determining that the packet has the specified destination port.","In the method, the act of determining the suitability of the packet may include acts of reading an indication that packets generated by software applications in a specified processing state are targeted for DTN servicing and determining, from the packet, that the software application is in the specified processing state. In addition, the act of determining the suitability of the packet may include acts of reading an indication that packets generated by software applications performing a specified function are targeted for DTN servicing and determining, from the packet, that the software application is performing the specified function. Further, the act of determining the suitability of the packet may include acts of reading an indication that packets including payloads of a specified data type are targeted for DTN servicing and determining that the payload has the specified data type. Moreover, the act of determining the suitability of the packet may include an act of reading an indication that packets including payloads having a specified lifetime are targeted for DTN servicing and determining that the payload has the specified lifetime. In addition, the act of determining the suitability of the packet may include acts of reading an indication that packets including payloads having an acceptable latency for delivery to a software application are targeted for DTN servicing and determining that the payload has the acceptable latency.","According to the method, the act of reading the indication may include an act of reading the indication from a policy and determining that the packet meets at least one criterion specified in the policy. In addition, the act of encoding the payload may include an act of stripping at least one protocol header from the packet. Further, the act of encoding the payload may include an act of encoding the payload in response to a determination that a value in the packet is great than a threshold. Moreover, the software application may be resident on a second computer and the method further include an act of transmitting the DTN bundle to the second computer.","The method may also include an act of determining a route for the packet and the act of determining the suitability of the packet may include an act of determining whether the route has failed. In addition, the method may include an act of encoding another payload from a different packet into the DTN bundle. Further, the method may include acts of decoding the payload from the DTN bundle and providing the payload to the software application.","According to another example, a first computer system for providing delay tolerant networking (DTN) services to software applications is provided. The system includes a network interface, a memory and a controller coupled to the network interface and the memory. The controller is configured to automatically intercept a packet addressed to a software application, the packet including a payload, determine suitability of the packet for DTN processing, determine that the packet is suitable and encode, responsive to the determination that the packet is suitable for DTN processing, the encode payload into a DTN bundle.","In the first computer system, the controller may be further configured to establish an operating system hook to intercept the packet. In addition, the controller configured to determine the suitability of the packet may be further configured to read an indication that packets generated by the software application are targeted for DTN servicing. Further, the controller configured to determine the suitability of the packet may be further configured to read an indication that packets encoded according to a specified protocol are targeted for DTN servicing and determine that the packet has the specified protocol. Moreover, the controller configured to determine the suitability of the packet may be further configured to read an indication that packets including a specified source address are targeted for DTN servicing and determine that the packet has the specified source address. Additionally, the controller configured to determine the suitability of the packet may be further configured to read an indication that packets including a specified destination address are targeted for DTN servicing and determine that the packet has the specified destination address. Furthermore, the controller configured to determine the suitability of the packet may be further configured to read an indication that packets including a specified destination port are targeted for DTN servicing and determine that the packet has the specified destination port.","According to the first computer system, the controller configured to determine the suitability of the packet may be further configured to read an indication that packets generated by software applications in a specified processing state are targeted for DTN servicing and determine, from the packet, that the software application is in the specified processing state. In addition, the controller configured to determine the suitability of the packet may be further configured to read an indication that packets generated by software applications performing a specified function are targeted for DTN servicing and determine, from the packet, that the software application is performing the specified function. Further, the controller configured to determine the suitability of the packet may be further configured to read an indication that packets including payloads of a specified data type are targeted for DTN servicing and determine that the payload has the specified data type. Moreover, the controller configured to determine the suitability of the packet may be further configured to read an indication that packets including payloads having a specified lifetime are targeted for DTN servicing and determine to determine that the payload has the specified lifetime. Additionally, the controller configured to determine the suitability of the packet may be further configured to read an indication that packets including payloads having an acceptable latency for delivery to the software application are targeted for DTN servicing and determine that the payload has the acceptable latency. Furthermore, the controller configured to determine the suitability of the packet may be further configured to compare the packet to a policy.","In the first computer system, the controller configured to encode the payload may be further configured to strip at least one protocol header from the packet. In addition, the controller configured to encode the payload may be further configured to encode the payload in response to a comparison between a value in the packet and a threshold or in response to a determination that a value in the packet is greater than a threshold. Further, the controller may be further configured to transmit the DTN bundle to a second computer via the network interface. Moreover, the controller may be further configured to determine a route for the packet and determine the suitability of the packet at least in part by determining whether the route has failed. Additionally, the controller may be further configured to encode another payload from a different packet into the DTN bundle.","According to another example, a system for providing delay tolerant networking (DTN) services to software applications is provided. The system includes a first computer and a second computer. The first computer includes a first network interface, a first memory and a first controller coupled to the first network interface and the first memory. The first controller is configured to automatically intercept a packet addressed to a software application, the packet including a payload, determine suitability of the packet for DTN processing, responsive to a determination that the packet is suitable for DTN processing, encode the payload into a DTN bundle.","In the system, the second computer may include a second network interface, a second memory and a second controller coupled to the second network interface and the second memory. The second controller may be configured to receive the DTN bundle via the second network interface and decode the packet addressed to the software application from the DTN bundle.","Still other aspects, examples, and advantages of these exemplary aspects and examples, are discussed in detail below. Any example disclosed herein may be combined with any other example in any manner consistent with at least one of the objects, aims, and needs disclosed herein, and references to \u201can example,\u201d \u201csome examples,\u201d \u201can alternate example,\u201d \u201cvarious examples,\u201d \u201cone example,\u201d \u201cat least one example,\u201d \u201cthis and other examples\u201d or the like are not necessarily mutually exclusive and are intended to indicate that a particular feature, structure, or characteristic described in connection with the example may be included in at least one example. The appearances of such terms herein are not necessarily all referring to the same example. The accompanying drawings are included to provide illustration and a further understanding of the various aspects and examples, and are incorporated in and constitute a part of this specification. The drawings, together with the remainder of the specification, serve to explain principles and operations of the described and claimed aspects and examples.","Aspects and examples relate to apparatus and processes for providing legacy applications with robust, fault tolerant networking functionality, without requiring modifications to the legacy applications. For instance, methods and apparatus in accord with some examples allow for the capturing of packets that would otherwise be dropped (for instance, because of route failure) resulting in less than 100% packet delivery. Thus, some examples provide the ability to allow packets to traverse the network and only invoke the bundling protocol when networking failures occur or when other bundling policy conditions are met. Selective invocation of the DTN protocol enables the examples disclosed herein to conserve computing resources by providing DTN functionality to applications on an as-needed basis.","It is to be appreciated that examples of the methods and apparatuses discussed herein are not limited in application to the details of construction and the arrangement of components set forth in the following description or illustrated in the accompanying drawings. The methods and apparatuses are capable of implementation in other examples and of being practiced or of being carried out in various ways. Examples of specific implementations are provided herein for illustrative purposes only and are not intended to be limiting. In particular, acts, elements and features discussed in connection with any one or more examples are not intended to be excluded from a similar role in any other examples.","Also, the phraseology and terminology used herein is for the purpose of description and should not be regarded as limiting. Any references to examples or elements or acts of the systems and methods herein referred to in the singular may also embrace examples including a plurality of these elements, and any references in plural to any example or element or act herein may also embrace examples including only a single element. References in the singular or plural form are not intended to limit the presently disclosed systems or methods, their components, acts, or elements. The use herein of \u201cincluding,\u201d \u201ccomprising,\u201d \u201chaving,\u201d \u201ccontaining,\u201d \u201cinvolving,\u201d and variations thereof is meant to encompass the items listed thereafter and equivalents thereof as well as additional items. References to \u201cor\u201d may be construed as inclusive so that any terms described using \u201cor\u201d may indicate any of a single, more than one, and all of the described terms. Any references to front and back, left and right, top and bottom, upper and lower, and vertical and horizontal are intended for convenience of description, not to limit the present systems and methods or their components to any one positional or spatial orientation.","According to one example, a bundle flow agent (BFA) intercepts and analyzes packets as they traverse the network. The term \u201cpacket\u201d has a well-known meaning to those skilled in the art. However, as referred to herein, a packet includes any protocol unit that transports data over a network and therefore encompasses packets, datagrams, a collection of packets or datagrams or any other type of data or part of data. According to one example, if the BFA determines that the packet is suitable for DTN delivery, the BFA automatically reformats the packet into a DTN bundle and forwards the bundle to a bundle protocol agent (BPA) for further processing according to the DTN protocol, as discussed further below. As used herein, the term \u201cbundle\u201d is a packet structured for DTN processing and may include one or more non-DTN packets. BFAs may determine whether packets are suitable based on defined policies keyed on particular types of packet data or particular network conditions, as discussed further below. Thus, some examples provide a robust automatic communications mechanism for applications that are not well adapted to wireless networks or that are not resilient to poor connectivity and thereby provide these applications with 100% (or close to 100%) packet delivery.","For instance, according to one example, a computer system is configured to perform any of the functions described herein, including but not limited to, intercepting a packet and bundling the packet in DTN protocol. However, such a system may also perform other functions such as presenting a user interface to allow a user to configure a bundling policy that indicates characteristics of packets that would benefit from DTN processing. Moreover, the systems described herein may be configured to include or exclude any of the functions discussed herein. Thus the examples are not limited to a specific function or set of functions.","Computer System","Various aspects and functions described herein may be implemented as hardware or software on one or more computer systems. There are many examples of computer systems currently in use. These examples include, among others, network appliances, personal computers, workstations, mainframes, networked clients, servers, media servers, application servers, database servers and web servers. Other examples of computer systems may include mobile computing devices, such as cellular phones and personal digital assistants, and network equipment, such as load balancers, routers and switches. Further, aspects may be located on a single computer system or may be distributed among a plurality of computer systems connected to one or more communications networks.","For example, various aspects and functions may be distributed among one or more computer systems configured to provide a service to one or more client computers, or to perform an overall task as part of a distributed system. Additionally, aspects may be performed on a client-server or multi-tier system that includes components distributed among one or more server systems that perform various functions. Consequently, examples are not limited to executing on any particular system or group of systems. Further, aspects may be implemented in software, hardware or firmware, or any combination thereof. Thus, aspects may be implemented within methods, acts, systems, system elements and components using a variety of hardware and software configurations, and examples are not limited to any particular distributed architecture, network, or communication protocol.","Referring to , there is illustrated a block diagram of a distributed computer system , in which various aspects and functions may be practiced. The distributed computer system  may include one more computer systems that exchange, i.e. send or receive, information. For example, as illustrated, the distributed computer system  includes computer systems ,  and . As shown, the computer systems ,  and  are interconnected by, and may exchange data through, communication a network . The network  may include any communication network through which computer systems may exchange data. To exchange data using the network , the computer systems ,  and  and the network  may use various methods, protocols and standards, including, among others, Token Ring, Ethernet, Wireless Ethernet, Bluetooth, TCP\/IP, UDP, DTN, HTTP, FTP, SNMP, SMS, MMS, SS7, JSON, SOAP, CORBA, REST and Web Services. To ensure data transfer is secure, the computer systems ,  and  may transmit data via the network  using a variety of security measures including, for example, TSL, SSL or VPN. While the distributed computer system  illustrates three networked computer systems, the distributed computer system  is not so limited and may include any number of computer systems and computing devices, networked using any medium and communication protocol.","Various aspects and functions may be implemented as specialized hardware or software executing in one or more computer systems including the computer system  shown in . As depicted, the computer system  includes a processor , a memory , a bus , an interface  and a storage . The processor  may perform a series of instructions that result in manipulated data. The processor  may be a commercially available processor such as an Intel Xeon, Itanium, Core, Celeron, Pentium, AMD Opteron, Sun UltraSPARC, IBM Power5+, or IBM mainframe chip, but may be any type of processor, multiprocessor or controller. The processor  is connected to other system elements, including one or more memory devices , by the bus .","The memory  may be used for storing programs and data during operation of the computer system . Thus, the memory  may be a relatively high performance, volatile, random access memory such as a dynamic random access memory (DRAM) or static memory (SRAM). However, the memory  may include any device for storing data, such as a disk drive or other non-volatile storage device. Various examples may organize the memory  into particularized and, in some cases, unique structures to perform the functions disclosed herein.","Components of the computer system  may be coupled by an interconnection element such as the bus . The bus  may include one or more physical busses, for example, busses between components that are integrated within a same machine, but may include any communication coupling between system elements including specialized or standard computing bus technologies such as IDE, SCSI, PCI and InfiniBand. Thus, the bus  enables communications, for example, data and instructions, to be exchanged between system components of the computer system .","The computer system  also includes one or more interface devices  such as input devices, output devices and combination input\/output devices. Interface devices may receive input or provide output. More particularly, output devices may render information for external presentation. Input devices may accept information from external sources. Examples of interface devices include keyboards, mouse devices, trackballs, microphones, touch screens, printing devices, display screens, speakers, network interface cards, etc. Interface devices allow the computer system  to exchange information and communicate with external entities, such as users and other systems.","The storage system  may include a computer readable and writeable nonvolatile data storage medium in which instructions are stored that define a program that may be executed by the processor . The storage system  also may include information that is recorded, on or in, the medium, and this information may be processed by the processor  during execution of the program. More specifically, the information may be stored in one or more data structures specifically configured to conserve storage space or increase data exchange performance. The instructions may be persistently stored as encoded signals, and the instructions may cause the processor  to perform any of the functions described herein. The medium may, for example, be optical disk, magnetic disk or flash memory, among others. In operation, the processor  or some other controller may cause data to be read from the nonvolatile recording medium into another memory, such as the memory , that allows for faster access to the information by the processor  than does the storage medium included in the storage system . The memory may be located in the storage system  or in the memory , however, the processor  may manipulate the data within the memory , and then copy the data to the medium associated with the storage system  after processing is completed. A variety of components may manage data movement between the medium and integrated circuit memory element and examples is not limited thereto. Further, examples are not limited to a particular memory system or storage system.","Although the computer system  is shown by way of example as one type of computer system upon which various aspects and functions may be practiced, aspects are not limited to being implemented on the computer system  as shown in . Various aspects and functions may be practiced on one or more computers having a different architectures or components than that shown in . For instance, the computer system  may include specially programmed, special-purpose hardware, such as for example, an application-specific integrated circuit (ASIC) tailored to perform a particular operation disclosed herein. While another example may perform the same function using a grid of several general-purpose computing devices running MAC OS System X with Motorola PowerPC processors and several specialized computing devices running proprietary hardware and operating systems.","The computer system  may be a computer system including an operating system that manages at least a portion of the hardware elements included in the computer system . Usually, a processor or controller, such as the processor , executes an operating system which may be, for example, a Windows-based operating system, such as, Windows NT, Windows 2000 (Windows ME), Windows XP or Windows Vista operating systems, available from the Microsoft Corporation, a MAC OS System X operating system available from Apple Computer, one of many Linux-based operating system distributions, for example, the Enterprise Linux operating system available from Red Hat Inc., a Solaris operating system available from Sun Microsystems, or a UNIX operating systems available from various sources. Many other operating systems may be used, and examples are not limited to any particular implementation.","The processor  and operating system together define a computer platform for which application programs in high-level programming languages may be written. These component applications may be executable, intermediate, bytecode or interpreted code which communicates over a communication network, for example, the Internet, using a communication protocol, for example, TCP\/IP. Similarly, aspects may be implemented using an object-oriented programming language, such as .Net, SmallTalk, Java, C++, Ada, or C# (C-Sharp). Other object-oriented programming languages may also be used. Alternatively, functional, scripting, or logical programming languages may be used.","Additionally, various aspects and functions may be implemented in a non-programmed environment, for example, documents created in HTML, XML or other format that, when viewed in a window of a browser program, render aspects of a graphical-user interface or perform other functions. Further, various examples may be implemented as programmed or non-programmed elements, or any combination thereof. For example, a web page may be implemented using HTML while a data object called from within the web page may be written in C++. Thus, the examples are not limited to a specific programming language and any suitable programming language could be used. Thus, functional components disclosed here may include a wide variety of facilities, e.g. executable code, data structures or objects, configured to perform their described functions.","The Bundle Flow Agent",{"@attributes":{"id":"p-0056","num":"0054"},"figref":["FIG. 4","FIG. 4","FIG. 4"],"b":["400","400"]},"Referring to , a system  includes computer systems ,  and  and a communications network . As illustrated, the computer systems ,  and  are interconnected and configured to exchange information via the network . The network  may include any communication network through which member computer systems may exchange data. For example, the network  may be a public network, such as the internet, and may include other public or private networks such as LANs, WANs, extranets and intranets. Each of the computer systems ,  and  and the network  may include one or more computer systems. As discussed above with regard to , computer systems may have one or more processors or controllers, memory and interface devices. The particular configuration of system  depicted in  is used for illustration purposes only and examples may be practiced in other contexts. For instance, in at least one example which is discussed further below, the computer system  is a router configured to include functions disclosed herein. Thus, examples are not limited to a specific number or type of systems.","As shown, the computer system  includes an application , a packet handler , a packet monitor  and a bundle flow agent (BFA) . The computer system  includes a packet hander , a packet monitor  and a BFA . The computer system  includes an application  and a packet handler . The applications  and  exchange packets with one another via a packet handler . However, the applications  and  are not configured to utilize DTN.","According to one example, the elements illustrated in  include facilities that are configured to exchange information as follows. The packet handlers ,  and  receive packets from the network , process the packets and provide the processed packets to client applications. As illustrated, these client applications include the applications  and  and the packet monitors  and . The packet monitors  and  intercept packets and forward packets to the BFAs  and , respectively. In one example, which is discussed in more detail below, the packet monitors  and  intercept packets at one or more particular points during their processing by the packet handler  and . The BFAs  and , in turn, process the packet using information required to enable DTN processing of the packet via the network . More particularly, the BFAs  and  examine and process packets to determine whether DTN processing can be or should be implemented. For instance, in this example, the BFAs  and  determine the suitability of packets for DTN processing based on various packet characteristics and automatically invoke a DTN BPA to inject the reformatted packets into a DTN delivery system to route the packets via the DTN server. Some of these packet characteristics include, among others, the content of the payload, the content of the header (such as the TCP, UDP, IP portions) and the actual application encoding (which is similar to the information used by a stateful firewall) included in the packet, wherever it is located therein. For instance, in one example, the BFAs  and  avoid DTN processing of packets including real-time or near real-time data, such as video data. Additionally, BFAs  and  receive DTN bundles and repackage the bundles into a format expected by a destination of the packet.","In some examples, BFAs  and  determine the suitability of packets with reference to policy statements included in one or more bundling policies. These policy statements may be predefined and include what, if any, options and parameters within DTN should be executed for a packet. Policy statements may specify a wide range of selection criteria including packet characteristics, network conditions and events that may occur to particular packets, e.g. rejection of a packet by the routing layer. Examples of information upon which criteria for policy statements may be based includes, among others, port numbers, protocol ID, specific protocol usage, specific destination or source address usage (such as IP address) or any patterns in the protocol layer that identify the applications state, payload or function being performed. Additionally, criteria for policy statements may include identification of a route failure, identification of particular packet traffic patterns or identification of particular application traffic. According to some of these examples, BFAs  and  reformat the packet in compliance with DTN protocol if the packet meets one or more criterion specified in the at least one predefined policy statement. In some examples, BFAs  and  reformat multiple packets into a single DTN bundle. In another example, the policies that determine when data is intercepted by the BFAs  and  are configurable and may be changed, as needed or desired, to identify which applications or packets should use DTN and which should not, in a given circumstance or network environment.","In another example, policy statements include criteria that directs DTN processing of packets based on the useful lifespan of data included in the payload of the packet. In this example, data with a relatively longer lifespan is supported with DTN processing and data with a relatively shorter lifespan is not. For instance, situational awareness data might have a network lifespan of 5 minutes, where as map data transfers might have a lifespan of 5 days. Further, in some examples, the policy statements my include threshold values to differentiate between relatively longer and shorter lifespans.","In a particular example, the application  transmits a packet addressed to the application  via the packet handler . The packet handler  receives the packet and allows the packet monitor  to examiner the packet. The packet monitor  determines that the packet is suitable for DTN processing, automatically invokes the BFA  and provides the packet to the BFA . The BFA  wraps the packet with information to enable the overall system  to process the packet using DTN functionality. The BFA  then provides the bundle to the packet handler .","Continuing the example, the packet handler  transmits the bundle to the network  where the bundle travels until it reaches a computer system hosting the BFA responsible for processing DTN bundles for the application , i.e. computer system . The packet handler  receives the bundle and allows the packet monitor  to examine the bundle. The packet monitor  determines that the bundle is a DTN bundle addressed to the application  and presents the bundle to the BFA . The BFA  automatically unwraps the packet and provides the unwrapped packet to the packet handler . The packet handler  then transmits the packet to the computer system hosting the application to which the packet is addressed, i.e. computer system . As the final step in this particular example, the packet hander  receives the packet and provides the packet to the application  for processing. Thus, the example of  provides DTN functionality to legacy software applications.","In the example illustrated in , the packet monitors  and  are separate from BFA  and BFA , respectively. In an alternate example, the packet monitors  and  are integrated with BFA  and BFA , respectively. Thus, in this alternate example, the packet monitors are included within the BFAs. In addition, the example of  depicts computer systems  and  as separate physical devices, such as, for example, a router and a server. In an alternate example, the packet monitor  and the BFA  are included on the computer system . Thus examples are not limited to a specific logical or physical structure.","In addition, while the example shown in  performs DTN processing on a packet by packet basis, other examples bundle one or more packets into a single DTN bundle. In one of these examples, DTN bundles are created such that some or all of the information required for a destination application to process a single transaction is included in the DTN bundle. This approach may promote network efficiency depending on the characteristics of the applications involved.","In another example, the BFAs include the packet monitors and reside on network devices that are separate from application servers. Such a configuration is shown in . In particular,  includes application servers , routers  and a network backbone . The application servers host applications  and  and have packet handlers that include TCP\/IP stacks. The routers  include BFAs  and . In this example, the routers  and the network backbone  have packet handlers that include TCP\/IP stacks that are coupled to DTN BPAs. In addition, the applications  and  use TCP\/IP sockets to exchange packets through a network via TCP\/IP stacks. Thus, in this example, the BFAs  and  are implemented at Layer 3 in the ISO protocols model, and intercept data that has, for example, been rejected by the routing layer, or when the packet has criteria matching a policy statement.","Referring to , there is illustrated an example of communications flow (shown as a dotted line ) using exemplary methods and BFAs. The application , which does not support DTN, transmits packets intended for a destination . Analysis of the packets occurs in the BFA . The BFA  includes a policy engine that determines the applicability of policies to the packets. In one example, the policy engine is implemented as a combination of a NetFilters IPTables packet monitor and custom analysis code included in the BFA . As discussed further below, NetFilters IPTables establish hooks that alter the behavior of the operating system. These hooks intercept packets at particular processing stages and provide the packets to other logical entities for further processing. In this example, the NetFilters IPTables provide packets to custom analysis code that determines the suitability of the packets for DTN processing with reference to one or more bundling policies.","If the packet meets the criteria of one or more policies, the packet is copied out of the protocol stack, the IP and TCP headers are stripped and the addressing information is encoded as DTN addresses along with any additional addressing information defined in the policy. Next, the DTN BPA is automatically invoked by using the DTN BPA API to inject the bundled legacy application packet into the DTN delivery system. When the bundle nears or arrives at its intended destination, a BFA  (which may be located on an intermediate router as illustrated in  or on the destination client) intercepts and automatically repackages the bundle into the format expected by the destination application. Thus, because the BFA may operate between the application and the DTN BPA, DTN may be automatically used, where appropriate, without any change needing to be made to the applications.","According to one example, when the packet does not match any of the policies, the packet is allowed to proceed into the IP stack and continues to be routed to its final destination, as illustrated by a dotted line  in .",{"@attributes":{"id":"p-0070","num":"0068"},"figref":["FIG. 7","FIGS. 4 and 5"],"b":["702","704","706","708","710","702","704","706"]},"NetFilters IPTables supports four different table types: filter, nat, mangle and raw. At least one example uses the mangle table, which provides access to all five hooks discussed above. In another example, the raw table is used. The raw table provides access to the prerouting hook and the output hook.",{"@attributes":{"id":"p-0072","num":"0070"},"figref":["FIG. 8","FIGS. 4 and 5"],"b":["800","812","804","806","808","810","800","804","804","806","812","808","808"]},"In one example, the BFA  determines that the packet is suitable for DTN processing when the criteria of one or more bundling policies is met. If the packet is not suitable for DTN processing, the BFA  returns the packet to the IP stack, and the packet continues as if the BFA  had not intercepted it. If the BFA  determines that the packet is suitable for DTN processing, the packet is removed from the IP stack and is sent to the DTND . Upon receiving the packet, the DTND  bundles and addresses the packet to a corresponding destination DTND. In at least one example, the DTND  uses the following syntax to specify the destination address: dtn:\/\/<destination IP address>. Afterward, the DTND  injects the bundle into the application layer of the IP stack and the packet exits through the channel .",{"@attributes":{"id":"p-0074","num":"0072"},"figref":["FIG. 9","FIGS. 4 and 5"],"b":["900","912","904","906","908","910","902","900","902","900","904","910","910","908","908","908","906","906","900","904"]},"DTN Support Processes","Various examples provide processes for routing data using the DTN protocol over a network from a source application to a destination application.  illustrates one such process  that includes acts of intercepting a packet, determining the suitability of the packet for DTN processing, bundling the payload of the packet into a DTN bundle and delivering the DTN bundle. Process  begins at .","In act , packets are intercepted. According to various examples, a computer system intercepts these packets as the packets traverse a network. In these examples, the computer system may include a client, server, router or any other computer system capable of hosting aspects of a packet monitor. Acts in accord with these examples are discussed below with reference to .","In act , the suitability of packets for DTN processing is determined. According to some examples, a computer system may determine the suitability of these packets for DTN processing with reference to one or more bundling policies. Acts in accord with these examples are discussed below with reference to .","In act , packets are reformatted in compliance with the DTN protocol. According to several examples, a computer system bundles payloads into DTN bundles for further DTN processing. Acts in accord with these examples are discussed below with reference to .","In act , packets are delivered via a DTN deliver system. According to a variety of examples, a network of computer systems delivers the packets to a destination application. Acts in accord with these examples are discussed below with reference to .","Process  ends at . DTN processing activities in accord with process  provide legacy software with robust DTN handling of data transmissions without requiring modifications to the legacy software itself.","As discussed above with regard to act  shown in , various examples provide processes for intercepting packets as the packets traverse a network.  illustrates one such process  that includes acts of receiving a packet, comparing the processing state of the packet to a target processing state and providing the packet to another process. Process  begins at .","In act , a computer system receives a packet addressed from a source application to a destination application. In one example, the computer system that receives the packet is arranged and configured to execute a packet handler as described above. In this example, the packet handler receives and processes the packet through a series of processing states. The packet handler may be able to process packets structured in accord with various protocols, such as TCP, UDP and IP, among others.","In act , a computer system compares a current processing state of the packet to one or more specified processing states. In one example, the computer system that performs this comparison is arranged and configured to execute a packet handler and a packet monitor, both as described above. In this example, the packet monitor establishes processing states, e.g. hooks, within the packet handler, at which packets are provided to one or more other processes for handling, as discussed below.","In act , a computer system provides the packet to another process for further processing. In one example, the computer system that provides the packet is arranged and configured to execute a packet handler, a packet monitor and a BFA. In this example, a packet that reaches a particular processing point within the packet handler is sent to the BFA for further processing.","Process  ends at . Various examples in accord with process  may operate using a variety of protocols. For instance, in one example, the packet handler includes a TCP\/IP stack and the packet monitor is implemented using NetFilters IPTables as discussed above. Thus examples using process  may support legacy applications using a variety of protocols.","As discussed above with regard to act  shown in , various examples provide processes for determining the suitability of packets for DTN processing.  illustrates one such process  that includes acts of reading a bundling policy, determining compliance of a packet with the policy and providing the packet for further processing. Process  begins at ","In act , a computer system reads one or more bundling policies. In one example, the computer system that reads the policies is arranged and configured to execute a BFA. In this example, the BFA reads the policies.","In act , a computer system determines compliance of a packet with one or more policies. In one example, the computer system that makes this determination is arranged and configured to execute a BFA. In this example, the BFA analyzes policy statements, network environmental conditions and packet characteristics to determine whether a packet complies with one or more policies. According to this example, a packet is deemed compliant when the policy statements are met by the characteristics of the packet or the conditions of the network environment. In a particular example, the BFA analyzes content encoded according to TCP, UDP, IP or a particular application standard and determines compliance as a result of this analysis. In another particular example, the BFA analyzes at least one of a header and a payload to determine which, if any, options or parameters within DTN should be executed.","In act , a computer system provides the packet to another process for further processing. In one example, the computer system that provides the packet is arranged and configured to execute a BFA. In this example, if the BFA finds a packet in compliance with one or more policies, the BFA copies the packet out of the packet handler and subjects the packet to additional DTN processing, as discussed further below.","Process  ends at .","As discussed above with regard to act  shown in , various examples provide processes for reformatting a packet in compliance with the DTN protocol.  illustrates one such process  that includes acts of generate DTN headers, stripping packet headers and writing DTN headers. Process  begins at ","In act , a computer system generates DTN headers. In one example, the computer system that generates the DTN headers is arranged and configured to execute a BFA. In this example, the BFA generates the headers in compliance with a bundling policy that specifies the DTN options to use for a particular packet. In another example, the BFA encodes addressing information as DTN addresses along with any additional addressing information defined in the policy. In act , the computer system executing the BFA strips the packet headers. In act , the computer system executing the BFA writes DTN headers into the packet.","Process  ends at . Upon completion of process , the packet is arranged and configured for routing via a DTN server and may be injected into a DTN delivery system including one or more DTN servers via a DTN BPA. In one example, the packet is injected via the DTN BPA using a DTN BPA API.","As discussed above with regard to act  shown in , various examples provide processes for delivering a bundle using the DTN protocol.  illustrates one such process  that includes acts of injecting the bundle, delivering the bundle and unbundling the packet. Process  begins at .","In act , a computer system injects a bundle into a DTN delivery system. In one example, the computer system that injects the bundle is arranged and configured to execute a BFA. In this example, the BFA injects the bundle into the DTN delivery system, which includes one or more DTN servers, by utilizing a DTN BPA API to communicate with a DTN BPA.","In act , a network of one or more computer systems delivers a bundle to a computer system configured to unbundle the packet. In one example, the computer system configured to unbundle the packet is located near the computer system hosting the destination application. In this example, the computer system configured to unbundle the packet may be a router. In another example, the computer system configured to unbundle the packet is the computer system hosting the destination application.","In act , a computer system unbundles the packet prior to the packet arriving at the destination application. In one example, the computer system that unbundles the packet is arranged and configured to execute a BFA. In this example, the BFA unbundles and reformats the packet into a format expected by the destination application.","Process  ends at . Upon completion of process , the packet is delivered to the destination application and has benefited from robust DTN handling without the destination application having been configured to process DTN bundles.","Each of processes , , ,  and  depicts one particular sequence of acts in a particular example. The acts included in each of these processes may be performed by, or using, one or more computer systems specially configured as discussed herein. Some acts are optional and, as such, may be omitted in accord with one or more examples. Additionally, the order of acts can be altered, or other acts can be added, without departing from the scope of the systems and methods discussed herein. In addition, as discussed above, in at least one example, the acts are performed on a particular, specially configured machine, namely a computer system configured according to the examples disclosed herein.","Any references to examples or elements or acts of the systems and methods herein referred to in the singular may also embrace examples including a plurality of these elements, and any references in plural to any example or element or act herein may also embrace examples including only a single element. References in the singular or plural form are not intended to limit the presently disclosed systems or methods, their components, acts, or elements. References to \u201cor\u201d may be construed as inclusive so that any terms described using \u201cor\u201d may indicate any of a single, more than one, and all of the described terms.","Having now described some illustrative aspects, it should be apparent to those skilled in the art that the foregoing is merely illustrative and not limiting, having been presented by way of example only. Similarly, aspects may be used to achieve other objectives. For example, while the bulk of the specification focuses on packet by packet processing, some examples may bundle a plurality of packets into a single DTN bundle. Numerous modifications and other illustrative examples are within the scope of one of ordinary skill in the art and are contemplated as falling within the scope of the systems and methods disclosed herein. In particular, although many of the examples presented herein involve specific combinations of method acts or system elements, it should be understood that those acts and those elements may be combined in other ways to accomplish the same objectives."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF DRAWINGS","p":["Various aspects of at least one example are discussed below with reference to the accompanying figures, which are not intended to be drawn to scale. Where technical features in the figures, detailed description or any claim are followed by references signs, the reference signs have been included for the sole purpose of increasing the intelligibility of the figures, detailed description, and claims. Accordingly, neither the reference signs nor their absence are intended to have any limiting effect on the scope of any claim elements. In the figures, each identical or nearly identical component that is illustrated in various figures is represented by a like numeral. For purposes of clarity, not every component may be labeled in every figure. The figures are provided for the purposes of illustration and explanation and are not intended as a definition of the limits of the invention. In the figures:",{"@attributes":{"id":"p-0025","num":"0023"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0026","num":"0024"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0027","num":"0025"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0028","num":"0026"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0029","num":"0027"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0030","num":"0028"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0031","num":"0029"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0032","num":"0030"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0033","num":"0031"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0034","num":"0032"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0035","num":"0033"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0036","num":"0034"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0037","num":"0035"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0038","num":"0036"},"figref":"FIG. 14"}]},"DETDESC":[{},{}]}
