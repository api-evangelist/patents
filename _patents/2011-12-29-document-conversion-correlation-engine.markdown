---
title: Document conversion correlation engine
abstract: Embodiments of the disclosure provide a system for correlating document pages. The system receives a source image of a document page and a rendered image of a markup language page converted from the document page. The system then performs a correlation analysis between the source image and the rendered image. Next, the system determines a correlation factor between the source image and the rendered image based on the correlation analysis, wherein the correlation factor indicates a page fidelity between the document page and the markup language page converted from the document page.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08782515&OS=08782515&RS=08782515
owner: Chegg, Inc.
number: 08782515
owner_city: Santa Clara
owner_country: US
publication_date: 20111229
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATION","BACKGROUND","SUMMARY","DETAILED DESCRIPTION OF THE EMBODIMENTS"],"p":["This application is related to U.S. patent application Ser. No. 13\/253,011, which is incorporated by reference in its entirety.","1. Field of the Invention","This disclosure relates to a publishing platform for aggregating, managing, and delivering electronic content to connected consumer electronic devices.","2. Description of the Related Art","The education publishing industry faces a number of significant challenges to effectively delivering media and services through an online delivery network. These challenges center around four discrete phases:\n\n","Effectively enabling and managing each of the above four phases has not yet been accomplished by the education publishing industry. Accordingly, this has inhibited the growth of delivering media and services through an online delivery network.","Embodiments of the invention provide a system for correlating document pages. The system receives a source image of a document page and a rendered image of a markup language page converted from the document page. The system then performs a correlation analysis between the source image and the rendered image. Next, the system determines a correlation factor between the source image and the rendered image based on the correlation analysis, wherein the correlation factor indicates a page fidelity between the document page and the markup language page converted from the document page.","In one embodiment, the document page comprises elements of at least one of an image, a graph, a table, a formula, and a body of texts, wherein the document page elements are converted into markup language page elements with location and composition information to preserve page fidelity.","In one embodiment, the converted markup language page is a HTML5 page.","In one embodiment, the rendered image of the markup language page is rendered for a specific web browser on a specific software platform.","In one embodiment, performing the correlation analysis comprises applying at least one of the following algorithms on the source image and the rendered image: a text comparison algorithm, an image comparison algorithm, and a principal components analysis (PCA) algorithm and a linear discriminant analysis (LDA) algorithm.","In one embodiment, the correlation factor is a number, which ranges between 0 indicating no correlation and 100 indicating a perfect match.","In one embodiment, a minimum requirement of the page fidelity corresponds to a threshold value in the correlation factor.","One skilled in the art will readily recognize from the following discussion that alternative embodiments of the structures and methods illustrated herein may be employed without departing from the principles of the invention described herein.","System Overview","The successful and rapid growing adoption of electronic books and web based publishing services is sometimes limited by the available digital content to offer. Publishers have to separately create digital versions of their content besides printed copies to support the new digital offerings. This separate process may introduce digital format issues, increased costs, and production delays that negatively affect the availability of the digital books at content and service providers.","Despite the advance in digital conversion technologies and on-going standardization efforts in the creation and deployment of the electronic books, such as ePub standard and development toolkits, the converted digital content sometimes differs considerably from its original printed equivalent in at least one aspect: page fidelity. Page fidelity refers to the page structure of the original document, including the pagination of the original printed document, the number of columns and arrangement of paragraphs, the placement and appearance of graphics, titles and captions, and the fonts used. Page fidelity is usually not an issue for trade books given their relatively simple text structure and page layout. However, for some other categories of books (e.g., textbooks, education, travel, art, and cooking books), whose images, graphs, tables, maps, proprietary fonts, and multi-columns of text are assembled into complex sets of customized publications, maintaining page fidelity may be highly desired but quite challenging when converting into ePub format or modern markup language web pages.","Embodiments of the invention provide a system referred to as a \u201cdocument conversion correlation engine\u201d that automatically quantifies the differences in page fidelity between a printed document (e.g., a PDF file) and its markup language transformation (e.g., HTML5 web pages). This correlation engine is part of a content publishing system, an example of which is illustrated in . This content publishing system is in turn a part of an overall content distribution platform, an example of which is illustrated in . The content distribution platform not only facilitates aggregation, management, and distribution of digital education content, but also provides an integrated solution for digital publishing and online education services.",{"@attributes":{"id":"p-0026","num":"0029"},"figref":"FIG. 1","b":"102"},"As shown in , the digital reading environment comprises a content source , a content distribution platform , a network , and one or more clients . The content source  includes digital and printed content automatically gathered and aggregated from a large number of publishers, categories, and partners. Examples of content include textbooks, trade books, magazines, newspapers, user-generated content, web content, and advertising content.","The content distribution platform  aggregates, validates, transforms, packages, and monetizes the content collected by the content source  into a number of business services, prior to distribution to the clients  over the network . The platform comprises five systems: an ingestion system , a publishing system , a distribution system , a back-office system , and an eCommerce system .","The ingestion system  first gathers information on the type, file formats, and file manifest of the content. The ingestion system then checks files' integrity and conformity to standards, such as PDF, ePUB2, ePUB3, XML, HTML, and other formats. Content files that fail the integrity and conformity checks are flagged for further testing and repairing. Each content file that passes the checks is assigned a unique identifier and stored in a database for access by the publishing system .","The publishing system  transforms ingested documents into markup language documents, for example, an HTML5 web page with enhanced metadata, which is well-suited to distribution across a wide variety of computing devices connected to the content distribution platform  via the network . The transformed content preserves the original page structure of the printed document, including the pagination of the original printed document, the number of columns and arrangement of paragraphs, the placement and appearance of graphics, titles and captions, and the fonts used, which are collectively referred to as preserving \u201cpage fidelity\u201d of the printed document. Page fidelity is preserved by the publishing system , regardless of the original format of the source content provided by the content provider, and regardless of the complexity of the layout of the original document. More details of the publishing system  are described with reference to  below.","The distribution system  packages the content for delivery and uploads the content to content distribution networks. Then, the distribution system  makes the content available to end-users based on the content's digital rights management policies.","The back-office system  handles tasks dedicated to running business within the content distribution platform, such as accounting, human resource, and project management. The back-office system  also manages the interactions with customers, clients, and sales.","The eCommerce system  manages the online processes of marketing, selling, servicing and receiving payments for digital products and services. Hence the eCommerce system  is closely interfaced to the publishing system , distribution system , as well as the back-office system .","The network  facilitates content and service distribution and communications between various components of the system environment. Contents are packaged and distributed across the network  for client consumption. The overall quality of service received by the clients is also monitored and reported back to the content distribution platform  over the network . The network  is typically a content delivery network (CDN) built on the Internet, but may include any network, including but not limited to a LAN, a MAN, a WAN, a mobile wired or wireless network, a private network, or a virtual private network.","The clients  access the content from web browsers on computing devices connected to the network . The computing devices include a personal computer, such as a desktop, laptop, or tablet computer, a personal digital assistant, a mobile or smart phone, or a television \u201cset-top box\u201d using a client web application. The educational content are transformed by the content distribution platform  and delivered to the clients  across the network . As the clients enjoy the consistent reading experiences and high-quality services, the web browsers on the clients' devices regularly communicate with the content distribution platform  for updating reading content and connected services. In addition, user data on the clients' experience with the service and quality of the network connections are also collected and uploaded to the content distribution platform  through network .","In contrast to existing digital publishing services, such as AMAZON KINDLE\u00ae, the disclosed content distribution platform does not require users to purchase a specific client device or download a specific application from the service provider to access the content. Rather, any HTML5 compatible browser on a user's computing device may receive, from the content distribution platform , structureless HTML5 page elements to construct pages of a document on the browser, along with a host of document specific metadata to enhance the user's reading experience with the document, such as thumbnail navigation and an interactive table of contents. The HTML5 pages of the document also supports a number of reading activities, such as creating highlights, taking notes, and accessing a dictionary Annotations, such as highlights, drawings, notes, comments, and other personalized data created by the user can be displayed as an overlay on the original content, stored and archived in the user account, synchronized across all registered devices of the user, and optionally shared among the user's friends, classmates, campus, or other groups, as part of an education social platform. Noted that although embodiments of the invention are described herein with reference to HTML5, other markup languages with suitable characteristics may also be used in place of HTML5.","Publishing System",{"@attributes":{"id":"p-0037","num":"0040"},"figref":["FIG. 2","FIG. 1"],"b":["130","130","102","130","130","130","210","220","230","240"]},"The transformation sub-system  converts content  including PDF and ePUB files into sets of markup language page elements  to remove the need of specific reader applications and\/or end-user devices. Similarly, all image content can be transformed into bit maps to keep the original page structure of the content . During this transformation process, the metadata sub-system  extracts metadata by analyzing file properties and detecting keywords in the content. Basic metadata associated with the content  may include ISBN number, author, title, publisher name, release date, short description, cover page, and other book specific data. The transformation sub-system  then dissects each page of the source files into elements of information, such as various regions of texts and images, which are converted into markup language page elements. In the meantime, the metadata sub-system  creates a set of structure metadata associated with the location and composition of the elements of information. The list of the structure metadata can include, for example, sizes and types of images, locations, captions, number and size of columns, paragraphs, type of layout, embedded references, partial and full content indexing, border size, blank pages, and many other structure metadata, which identifies all the elements on a printed page. Thus, each page of the published content  can be transformed into a set of downloadable markup language page elements  and the set of associated basic and structure metadata regardless of the original source content format.","During the markup language transformation, page fidelity of the original document can be compromised due to complex layout or target web browser conformity issues. The correlation sub-system  in the publishing system  automatically analyzes large volumes of source content , renders the converted markup language web page elements  on a variety of target web browsers and target platforms, and compares the rendered markup language web pages to the corresponding original pages. The correlation sub-system  comprises a correlation engine , which is configured to automatically compare a rendered markup language page to the original source pages, and establishes a correlation factor between them.","The last component of the publishing system  is the content staging sub-system . The content staging sub-system  monitors the content workflow, stores the processed content, metadata, and other assets, and validates content in preparation for final delivery to end-users.","Correlation Engine","Embodiments of the present disclosure provide a system (and a method and a computer readable storage medium) for correlating document pages. The system includes a document conversion correlation engine , which automatically quantifies the differences in page fidelity between a printed document and its markup language transformation during the document digitization process. The correlation engine  first analyzes the original document, as well as the rendered markup language conversions. Based on the analysis results, the correlation engine  determines a correlation factor between the original document and the rendered content. The correlation factor indicates the page fidelity quality between the printed document and its markup language transformation. If the correlation factor does not meet a threshold established for minimum page fidelity, the page is flagged and its associated digital transformation is examined.","The correlation engine  serves as a key component for content validation in the content publishing system , given the large volume of documents to process and rapid development in new web technologies. In order to increase the volume of digital content offerings and to facilitate broad content deployment, the correlation engine  is configured to analyze and compare large volumes of source content against an even larger number of converted markup language web pages without manual intervention. For example, a textbook typically contains several hundred pages. Once converted, the set of markup language pages may be displayed on a variety of web browsers on different consumer devices across multiple platforms. Taking into consideration the potential compatibility issues inherent from various browsers, such as INTERNET EXPLORER\u00ae, FIREFOX\u00ae, GOOGLE CHROME\u00ae, SAFARI\u00ae, and O\u00ae Opera Browser, built upon various browser layout engines (e.g., WEBKIT\u00ae, Gecko, Trident, and PRESTO\u00ae) on top of different platforms, such as desktop OSes (e.g., MICROSOFT WINDOWS\u00ae, MAC OS\u00ae, and LINUX\u00ae) and mobile OSes (e.g., IOS\u00ae, ANDROID\u00ae, and WEBOS\u00ae), the converted web pages have to be rendered and checked on each and every one of these browsers and platform combinations. Therefore, the several hundred pages contained in the typical textbook need to be compared, by the correlation engine, against thousands of rendered converted markup language pages for page fidelity accuracy.",{"@attributes":{"id":"p-0043","num":"0046"},"figref":["FIG. 3","FIG. 2"],"b":["600","302","130","101"]},"Next, a rendered image of the converted page in a target makeup language is received . For example, the publishing system  transforms the book into a set of markup language page elements , as described above with reference to . In another separated process, those markup language page elements for a respective page are displayed by a target web browser on a target platform, in an effort to keep the page structure and layout of the original book page. The displayed web page is also rendered as a separate bitmap image and identified as an individual rendered image.","Subsequently, the correlation analysis between the source image and rendered image is performed . The correlation engine may adopt various analysis techniques for comparing the rendered image to the sourced image. The selection of a particular technique for correlation analysis may depend on the complexity of the pages. In one embodiment, a simple text comparison algorithm can be used for book pages with only texts. In another embodiment, for example, a statistical method similar to a face recognition algorithm in video or image processing can be utilized to document layouts that include not only texts but also graphics and images.","In other embodiments, more complicated approaches can be applied to check page layout fidelities. Instead of treating an individual page as a whole, the page is dissected into a collection of basic elements following rules to identify different parts. Each individual page may be analyzed to determine regions of characters, blank spaces, and images. To further determine whether a region corresponds to a heading, subheading, body text, caption, or other identifiable parts, the font size, the relative position of the region or objects, and the presence and\/or absence of entries in the table of contents or index, are all taken into considerations in categorizing regions. For example, a text region adjacent to an image with relatively few words that matches the text in the figures' list is most likely a caption of the image. When individual pages are processed into multiple regions, the correlation engine can be designed around a customized analysis, which combines the principal components analysis (PCA) and linear discriminant analysis (LDA) algorithm.","The combined PCA-LDA algorithm works on detecting distortions of regions, which may be caused by: special characters, rare fonts not available on a platform, or web browser conformity issues due to unusual complex layouts. For example,  is a block diagram illustrating a horizontal shearing in document conversion, in accordance with an embodiment of the invention. A testing paragraph is displayed within an original textbox in the source image . In the rendered image , the textbox maintains its size and location. However, the text is rendered in a different font and a different size, which results in a horizontal shearing on the right side of the textbox. Similarly,  is a block diagram illustrating an uneven scaling in document conversion, in accordance with an embodiment of the invention. The textbox of the testing paragraph in the rendered image , compared to the source image , is scaled up both horizontally and vertically.  is a block diagram illustrating a content rotation in document conversion, in accordance with an embodiment of the invention. In , the textbox in rendered image  is rotated an angle of \u03b1clockwise compared to the source image .","The PCA algorithm first normalizes the respective sizes of different regions by lining up their top and bottom or left and right coordinates, and generates a matrix that contains information on the location and size of all the corresponding regions in the source page and rendered page. The PCA algorithm then reduces the dimension of the matrix to reveal the most effective lower dimensional representation of the page. The resulting matrix with a reduced dimension removes information less useful and decomposes precisely the sourced and rendered content pages into uncorrelated components specific to a document page layout. The LCA algorithm works as a pre-filter process for the PCA algorithm. This filtering process aims to maximize between class variance (across regions) and minimize within-class variance (within regions). The outcome of the process is a page-specific list of regions that can be stored in a vector and compared between the source and rendered pages.","Referring again to , after the correlation analysis between the source image and rendered image is performed , a correlation factor C between the source image and rendered image is determined . The correlation factor C can be a score between 0 and 100, where 0 means no correlation at all and 100 means a perfect match. In case of the PCA-LCA analysis, the correlation factor C can be defined as a weighted sum of fidelity quality of all the corresponding regions in a pair of source and rendered pages.",{"@attributes":{"id":"p-0050","num":"0053"},"figref":["FIG. 5","FIG. 5"],"b":["600","600","501","510","502","520","503","530","501","510","502","520","522","530","532","503","522","532"]},"A minimum requirement on the page fidelity during document conversion can be established in terms of a threshold or a predefined value of the correlation factor. This threshold correlation factor may vary depending on the category of the books and complexity of the page layout of the particular books. Converted pages with correlation factors higher than the threshold are deemed qualified to pass the validation check, whereas pages with correlation factors lower than the threshold are flagged, which are subjected to further examination, correction, and re-conversion. For example, if the threshold of correlation factor is set at 90 for the pages in , the rendered page  passes the check, and page  may also be validated if the unmatched region  does not affect users' experience with the page. Rendered page , on the other hand, is flagged and subjected to further examination.","Additional Configuration Considerations","The present invention has been described in particular detail with respect to several possible embodiments. Those of skill in the art will appreciate that the invention may be practiced in other embodiments. The particular naming of the components, capitalization of terms, the attributes, data structures, or any other programming or structural aspect is not mandatory or significant, and the mechanisms that implement the invention or its features may have different names, formats, or protocols. Further, the system may be implemented via a combination of hardware and software, as described, or entirely in hardware elements. Also, the particular division of functionality between the various system components described herein is merely exemplary, and not mandatory; functions performed by a single system component may instead be performed by multiple components, and functions performed by multiple components may instead performed by a single component.","Some portions of above description present the features of the present invention in terms of algorithms and symbolic representations of operations on information. These algorithmic descriptions and representations are the means used by those skilled in the data processing arts to most effectively convey the substance of their work to others skilled in the art. These operations, while described functionally or logically, are understood to be implemented by computer programs. Furthermore, it has also proven convenient at times, to refer to these arrangements of operations as modules or by functional names, without loss of generality.","Unless specifically stated otherwise as apparent from the above discussion, it is appreciated that throughout the description, discussions utilizing terms such as \u201cdetermining\u201d or the like, refer to the action and processes of a computer system, or similar electronic computing device, that manipulates and transforms data represented as physical (electronic) quantities within the computer system memories or registers or other such information storage, transmission or display devices.","Certain aspects of the present invention include process steps and instructions described herein in the form of an algorithm. It should be noted that the process steps and instructions of the present invention could be embodied in software, firmware or hardware, and when embodied in software, could be downloaded to reside on and be operated from different platforms used by real time network operating systems.","The present invention also relates to an apparatus for performing the operations herein. This apparatus may be specially constructed for the required purposes, or it may comprise a general-purpose computer selectively activated or reconfigured by a computer program stored on a computer readable medium that can be accessed by the computer and run by a computer processor. Such a computer program may be stored in a computer readable storage medium, such as, but is not limited to, any type of disk including floppy disks, optical disks, CD-ROMs, magnetic-optical disks, read-only memories (ROMs), random access memories (RAMs), EPROMs, EEPROMs, magnetic or optical cards, application specific integrated circuits (ASICs), or any type of media suitable for storing electronic instructions, and each coupled to a computer system bus. Furthermore, the computers referred to in the specification may include a single processor or may be architectures employing multiple processor designs for increased computing capability.","In addition, the present invention is not limited to any particular programming language. It is appreciated that a variety of programming languages may be used to implement the teachings of the present invention as described herein, and any references to specific languages, such as HTML5, are provided for enablement and best mode of the present invention.","The present invention is well suited to a wide variety of computer network systems over numerous topologies. Within this field, the configuration and management of large networks comprise storage devices and computers that are communicatively coupled to dissimilar computers and storage devices over a network, such as the Internet.","Finally, it should be noted that the language used in the specification has been principally selected for readability and instructional purposes, and may not have been selected to delineate or circumscribe the inventive subject matter. Accordingly, the disclosure of the present invention is intended to be illustrative, but not limiting, of the scope of the invention."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0015","num":"0018"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0016","num":"0019"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0017","num":"0020"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0018","num":"0021"},"figref":"FIG. 4A"},{"@attributes":{"id":"p-0019","num":"0022"},"figref":"FIG. 4B"},{"@attributes":{"id":"p-0020","num":"0023"},"figref":"FIG. 4C"},{"@attributes":{"id":"p-0021","num":"0024"},"figref":"FIG. 5"}]},"DETDESC":[{},{}]}
