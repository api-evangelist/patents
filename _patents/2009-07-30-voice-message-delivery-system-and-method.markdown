---
title: Voice message delivery system and method
abstract: A hosted system receives a request for the delivery of a voice message from a collective such as a school district. The hosted system determines whether the message should be sent over a telephone line at the hosted system or the school district. Instructions are sent to a delivery mechanism at the determined location indicating how to prepare the message and the number to be called. In one embodiment, the instructions are in XML script form to reduce the bandwidth required. Having the hosted system determine the allocation of messages allows for both the efficient use and lower calling cost of any available capacity on telephone lines at a school district or other collective organization, as well as the larger capacity access to telephone lines of a hosted service for quick delivery of numerous or urgent messages.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08131269&OS=08131269&RS=08131269
owner: Reliance Communications, Inc.
number: 08131269
owner_city: Santa Cruz
owner_country: US
publication_date: 20090730
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION"],"p":["The present invention relates generally to the creation of voice messages and their delivery by telephone. More specifically, the invention relates to a method and apparatus for allocating the delivery of a large number of voice messages among a plurality of available resources and for economically distributing the information required to create and send the messages to the respective resources.","In many situations it is desirable or necessary for an institution or organization to contact one or more members of a group of people that are affiliated with the institution or organization. One common example of this is a school; in some cases, the school may wish to contact the parents of one or more students for a specific reason, such as an unexplained absence, while in other cases the school may wish to contact the parents of all of the students to make a general announcement about a school event or news that affects all students.","Unlike some \u201crobo-dialers\u201d that dial numbers sequentially until someone answers, in a case of the type contemplated herein there is a specific telephone number or set of numbers to be called, each corresponding for example to the household of a student. To avoid the necessity for making all of these calls manually, various systems have been devised to make such calls to specific numbers automatically and play a desired message when any dialed number is answered, as well as to keep track of which numbers have been reached and which should be retried.","In a first type or \u201cgeneration\u201d of such a system, a single computer at a school is programmed with the numbers to be called, and connected to one or more telephone lines.  illustrates this type of system. A plurality of schools or other institutions  are shown. Each school  has its own computer , and each computer  has access to one or more telephone lines . One or more messages are recorded; each message is associated with one or more of the numbers programmed into the computer, and the computer is programmed to call each number and to play the associated message when and if the call is answered.","It will be apparent that such a system has a number of inherent drawbacks. Each institution or organization must have its own computer capable of being programmed to make such telephone calls, and its own telephone lines. In addition, in such a system each school must also have a sufficient number of telephone lines to allow any desired calls to be made in a reasonable period of time at any time of day. For example, if a call is desired to be made during school hours, it will be appreciated that not all of the telephone lines available to the school should be used to make calls to deliver voice messages, as this will leave the school without telephone access for other business during that time.","On the other hand, using less than all of the telephone lines available to the organization means that fewer telephone lines will be available for the voice messages. If a school has a thousand or more students, a not uncommon number, it can be seen that the number of telephone lines that is made available for delivery of a voice message to all student households will have a significant impact on how long it takes to deliver the message to all households. If the information is time-sensitive, using fewer telephone lines may result in an undesirable delay in delivering the message.","A second generation system such as that shown in  is intended to address some of these issues. In  a plurality of institutions , such as schools, are organized into a plurality of collectives , such as school districts. While each school  typically has a computer , this is not strictly necessary. Each school district  has a computer or server  which is programmed to make telephone calls to deliver recorded messages, as well as a plurality of telephone lines . Voice messages are not sent directly by the schools  to the desired recipients, but rather message requests and the intended recipients are sent to the school district  in which the school  is located, and the computer or server  then dials the appropriate numbers and delivers the voice messages.","A system of the type shown in  allows the school districts  to obtain some advantages of scale. Now each school  does not need to have a computer or telephone lines capable of making all of the calls that the institution may wish to make, but need merely be capable of transmitting requests to the corresponding school district . Instead, school district  typically has more resources, i.e., a faster and perhaps more capable computer or server and more telephone lines, than any individual school  would have in a system such as that shown in . Thus, if an individual school  makes a request to send a voice message to a large number of recipients, the school district  of which the school  is a part will be expected to be able to deliver the message faster, in the absence of other pending requests, than the school  would be able to on its own.","However, the system of  still has some of the drawbacks of the system of . While the school district  may have greater capability than any individual school , that capability is still not unlimited and in fact may be considerably less than the combined capability that all of the schools  in a district  would have if each school used a system of the type shown in . Thus, while calls on behalf of a single school  may be made faster by the school district  when there are no other pending, requests, if all of the schools  in a district  make requests at about the same time the system of  may actually be slower than multiple systems of the type shown in . There may still be a limit on available resources, i.e., a \u201cbottleneck,\u201d but now at the level of the school district  rather than at each individual school .","A third generation system is shown in . In this type of system, both the individual schools  (or other institutions) and the school districts  (or other collectives) to which they belong are directly connected to, and send their requests for delivery of voice messages to, a hosted system  which accesses telephone lines . Hosted system  is typically much larger than the district computer or server  in  and has a much larger number of available telephone lines, and thus can service a much larger number of schools  and districts  without undue delays in the delivery of the voice messages.","Using systems of the type shown in  was a fundamental shift in mass voice message notification. However, the downside of such systems is an increased telecommunications cost. Systems of the type shown in  use the same telephone lines that already exist in schools and school districts (or other institutions or collectives), and the calls will almost always be free local calls as students typically reside within a certain distance from the school they attend. The system of , on the other hand, requires a completely separate set of telephone lines  that must be paid for, and does not use any of the capacity of the existing telephone lines in schools  or school districts .","In addition, the system of  requires independent hardware and does not use any capability of any computers located in either the schools  or school districts .","A variation of the system of  is shown in , and attempts to combine some of the elements of the second generation system of  with those of the system of . In this system, the schools  again connect to their respective school districts , which in turn connect to a hosted system . School districts  have access to telephone lines , while the hosted system  has access to telephone lines .","In the system of , the school districts  are able to make calls directly to deliver voice messages and do so if there is capacity on telephone lines . If that capacity is exceeded, i.e., if there are too many calls for a district  to make within a desired time information about other desired calls is pushed to hosted system , which makes those calls on telephone lines . In this fashion, the available capacity of telephone lines  of school districts  is utilized first to make calls that are presumably local and toll-free, before using telephone lines  of hosted system , which may require toll calling. This system also allows calls to be pushed to hosted system  if there is some other problem that prevents school district  from making calls.","However, even the system of  has some drawbacks. There is not, and generally cannot be, any real sharing of information between school districts  and hosted system , since they typically use systems from different vendors and thus typically communicate only through an API (application programming interface). Rather, the data needed to deliver the messages resides at the school districts , and it is only the data needed to satisfy specific requests for messages that is sent to a hosted system . If a school district  loses the data or the ability to transmit, it to hosted system , for example due to corruption of the data, or a power or network outage, none of the schools  in that district  will be able to send any voice messages, thus potentially preventing messages from being sent when they are most needed.","Further, it has thus far been difficult for a hosted system  to deliver information back to school districts  due to the asynchronous nature of most 3party APIs; there may also be issues with firewalls, as school districts  (and other collectives) are often very protective of access to the confidential information of their member schools  or other institutions.","Another issue is the generation of the voice messages for delivery. In some prior voice message delivery systems, the message is a recorded live voice. If a single identical message is to be sent to a large number of recipients, this is not a difficult or labor-intensive process. On the other hand, if there are a large number of different messages, each of which is to be sent to a single recipient or a small number of recipients, the recording of such messages can be very time consuming. For this reason, some prior art systems have used text to speech (TTS) software, which allows a computer to synthesize speech from a text entry, which is then used for the voice message. This generally reduces the time necessary to create the messages.","However, whether a message is recorded from a live voice or created by TTS software, there is also an issue as to where the voice message is created, specifically whether it is created in the same location from which the call to deliver it will be made. First, if a message is created at the school or district level, the computer or system there must have the capability to create and handle audio files and may need TTS software as well. Further, audio files such as .wav files, or even compressed audio files such as .mp3 files can be large and thus require substantial transmission time. Thus, creating an audio file at the school or district level and transmitting that file to the district or to a hosted system can create both bandwidth requirements and additional delay in delivering the message.","While prior art systems are able to deliver voice messages to large numbers of recipients, as discussed all of them have certain drawbacks. It is desirable to be able to create and deliver large numbers of individualized voice messages in an efficient yet economic fashion without such drawbacks.","In an embodiment of the present invention a hosted system receives a request for the delivery of a voice message front a collective such as a school district. The request defines the desired message and indicates its intended recipient(s). The hosted system contains the data necessary to prepare and deliver the desired voice message to the indicated recipients, and logic to determine whether the message should be delivered by the hosted system or the school district, instructions are sent to a delivery mechanism at the hosted system or the school district as determined indicating what message is to be delivered and the number to be called. In one embodiment, the instructions are in XML script form.","In one embodiment a method for calling a telephone number to deliver a voice message on behalf of one of a plurality of requestors organized into groups, each group having a group delivery mechanism with the ability to make telephone calls and play voice messages, comprises receiving at a central system a request from a requestor to deliver a voice message to a designated telephone number, the central system having a central delivery mechanism with the ability to make telephone calls and play voice messages, determining whether the message should be delivered by the central delivery mechanism or by the group delivery mechanism of the group to which the requestor belongs, transmitting instructions to the central delivery mechanism if it is determined that the message should be delivered by the central delivery mechanism, or to the group delivery mechanism if it is determined that the message should be delivered by the group delivery mechanism, the instructions indicating the voice message to be delivered and the telephone number to which it is to be delivered, and calling the designated telephone number from the delivery mechanism that receives the instructions and playing the indicated voice message if the call is answered.","In another embodiment, a method for calling telephone numbers to deliver voice messages on behalf of a plurality of requestors organized into groups, each group having a group delivery mechanism with the ability to make telephone calls and play voice messages, comprises receiving at a central system a plurality of requests from senders to deliver indicated voice messages to designated telephone numbers, the central system having a central delivery mechanism with the ability to make telephone calls, selecting a first plurality of messages to be delivered by the central delivery mechanism and a second plurality of messages to be delivered by the group delivery mechanism of a group for requestors within that group, transmitting a first plurality of instructions to the central delivery mechanism to deliver the first plurality of calls, and a second plurality of instructions to the group delivery mechanism to deliver the second plurality of calls, each instruction indicating a voice message to be delivered and the telephone number to which it is to be delivered, calling each number in the first plurality of instructions from the central delivery mechanism and playing the message indicated for that number if the call is answered, and calling each number in the second plurality of instructions from the group delivery mechanism and playing the message indicated for that number if the call is answered.","In still another embodiment, a hosted system for delivering a voice message on behalf of one of a plurality of requestors organized into groups, each group having, the ability to make telephone calls and play voice messages, comprises a processor and a central delivery mechanism having the ability to execute instructions to make a telephone call and play a voice message, the processor configured to receive from a requestor a request to deliver a voice message to a designated telephone number, create instructions indicating the voice message to be delivered and the telephone number to be called, determine whether the message should be delivered by the central delivery mechanism or by the group to which the requestor belongs, and transmit the instructions to the central delivery mechanism if it is determined that the message should be delivered by the central delivery mechanism, and to the group if is determined that the message should be delivered by the group.","In yet another embodiment, a system for delivering voice messages on behalf of a plurality of requestors organized into groups comprises a server and a group delivery mechanism at the group, the server containing a central delivery mechanism and a processor. The central delivery mechanism includes a telephone module for making telephone calls and a voice rendering module for executing instructions to prepare a voice message and for playing the voice message, and the processor is configured to receive from a requestor a request to deliver a voice message to a designated telephone number, create instructions indicating the voice message to be delivered and the telephone number to be called, determine whether the message should be delivered, by the central delivery mechanism or by the group to which the requestor belongs, and transmit the instructions to the central delivery mechanism if it is determined that the message should be delivered by the central delivery mechanism, and to the group if it is determined that the message should be delivered by the group to which the sender belongs. The group delivery mechanism includes a telephone module for making telephone calls and a voice rendering module for executing the instructions, preparing a voice message and playing the voice message.","In the present invention, institutions and collectives, such as schools and school districts, send their requests for the delivery of voice messages to a central hosted system. Each request defines a desired message and indicates its intended recipient(s). The hosted system contains data necessary to prepare the voice messages and deliver them to the indicated recipients, and logic that allocates the delivery of messages between the hosted system and the school districts. Once the hosted system has determined a particular message should be delivered by the hosted system or a school district, instructions are sent to a delivery mechanism at the hosted system or school district as determined indicating what message is to be delivered and the number to be called. In one embodiment, the instructions are in XML script form.","Having the hosted system determine which system should deliver the message allows for both the efficient use and lower calling cost of available capacity on telephone lines at a school district or other collective organization, as well as access to the larger capacity of telephone lines at a hosted service for quick delivery of numerous or urgent messages. Further, having the data necessary to prepare the requested voice messages reside at the hosted system allows for reduced bandwidth for the transmission of requests, as well as uniformity of the messages. Use of the XML script for instructions reduces the bandwidth necessary to send the instructions to a delivery mechanism at the selected location.",{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 5","b":["502","504","506","504","508","506","510","506","502"]},"The schools  and school districts  that use hosted system  send their requests for delivery of voice messages directly to hosted system ; each request defines the desired content and recipient(s) of a message. As is known in the art, a message may be intended to be personalized and directed to a single recipient, or intended for a particular group of households or for all households of students in a particular school  or school district . It is also possible for hosted system  to distinguish between a live recipient and an answering machine, and deliver a different message for each if desired.","Hosted system  has the information necessary to prepare and deliver the requested voice messages to the desired recipients. In the present example of schools and school districts, a database in hosted system  may contain, for example, the names of all students in schools , their school districts , their grade level, the telephone numbers of their respective households, and\/or any other information that may be necessary or useful in identifying which households should receive which messages.","Hosted system  also contains data, hardware and\/or software for preparing the voice messages. This may typically include a database of prerecorded messages or portions of messages, text-to-speech (TTS) capability for generating a voice message from text, or other ways of preparing voice messages for delivery. When a request is received from a school  or school district , the appropriate message is prepared for delivery, in the manner discussed further below.","School districts  each have one or more client delivery mechanisms for performing the functions described herein. The client delivery mechanism may be hardware or software or a combination thereof, for example a computer or server, or other commercially available device such as a Cisco Application eXtension Platform (AXP), which allows the running of Linux applications on a Cisco Integrated Services Router (ISR), and on which software is installed. If the client delivery mechanism located at a school district is not already busy and thus available to deliver a message, it \u201cpolls\u201d hosted system  indicating its availability and asking if there have been requests to send messages to telephone numbers in that district that have not yet been met and that are deemed appropriate for the district to deliver.","As above, the hosted system  has the required information to prepare messages in response to requests that may be made by schools  and school districts . Hosted system  also contains scheduling logic that is able to determine how to efficiently schedule the requested calls on the telephone lines  of hosted system  and to track those messages sent to school districts  for delivery based upon the polling from the client delivery mechanisms in the districts .","Based upon desired parameters, for each message that is requested to be delivered to a telephone number within a school district , the scheduling logic of hosted system  determines whether the message should be delivered by hosted system  or by the school district  if possible. If it is determined that the message should be delivered by hosted system , the message is prepared and the call is made on a telephone fine  as described below. If the message is determined to be appropriate to be delivered by the school district , the scheduling logic checks to see whether it has been polled indicating an availability of the client delivery mechanism at school district  to deliver a message.","If hosted system  has been polled by a school district  and the scheduling logic has determined that a message to a telephone number in that district should be delivered by the district, hosted system  will send instructions to the client delivery mechanism in that district  regarding a voice message that is to be delivered. The instructions indicate the telephone number to be called and what message is to be delivered if the call is answered, as further explained below. If the scheduling logic has determined that a message to a telephone number in that district should be delivered by the district but the hosted system  has not been polled by the client delivery mechanism in school district  in which the telephone number is located, then hosted system  will prepare the message and make the call on a telephone line .","Typically, for the reasons discussed above the school districts  will not be expected to send critical or time sensitive messages, and so the messages that are delivered by the school districts  will generally be those that do not need to be delivered quickly and do not relate to emergency issues with the more important messages being delivered by hosted system . However, messages may be divided between hosted system  and school districts  for any desired reason.","In this fashion, the available capacity of telephone lines  of school districts  is utilized to deliver some of the requested messages, while telephone lines  of hosted system  are used to deliver the rest of the requested messages. Also, this may allow the number of telephone lines  of hosted system  to be reduced by some amount.","However, in contrast to the systems of the prior art described above, in the present invention the control over which messages are delivered by hosted system  and which are delivered by school districts , and the information needed to prepare and deliver the messages, resides in the hosted system  rather than at a school  or school district  level. Hosted system  is also likely to be more robust and capable than a system at a school  or school district , typically having more telephone lines, redundant servers and power systems, etc. Thus, it is less likely that data will be lost, or that there will be an inability to deliver the requested messages due to a loss of power or other emergency.",{"@attributes":{"id":"p-0047","num":"0046"},"figref":["FIG. 6","FIG. 6"],"b":["506","614","504","602","506","604","502","504","614","502","506","504","504","502","616"]},"When a request to deliver a message is received from a school district , or a school  within that school district , logic  accesses database  to locate the information needed to prepare and deliver the requested message. As above, logic  also determines whether the message should be delivered by hosted system  or by the school district . Again, the decision of whether a message is preferably delivered by hosted system  or by a school district  may be made based upon any desired criteria, including, but not limited to, importance, the need for prompt delivery, the availability of telephone lines at the corresponding school district , or any other factor that is considered relevant.","If logic  determines that a message should be delivered by hosted system , it sends instructions regarding which telephone number to call and what message is to be delivered, including the location of the needed information in database , to a system dispatcher . System dispatcher  is connected to and monitors a plurality of system delivery mechanisms  which poll system dispatcher  when they are available to deliver messages and are each connected to one or more of the telephone lines  of hosted system .","System dispatcher  forwards the instructions to a system delivery mechanism  that has indicated the ability to deliver a message. System delivery mechanism  prepares the desired voice message as described below, accesses an available telephone line  and makes a call to the indicated telephone number and, if the call is answered, plays the resulting voice message. Upon either the successful completion or failure of the call, system delivery mechanism  reports the result back to system dispatcher , which forwards the result to logic , which then records the result in database . System delivery mechanism  may then poll system dispatcher  again if it is available to deliver another message.","As above, each school district  has one or more client delivery mechanisms  which communicate with hosted system  to inform logic  when a client delivery mechanism  is available to deliver a message. Each client delivery mechanism  located in a school district  is similar to the system delivery mechanisms  but located in a school district  rather than in hosted system . However, a system delivery mechanism  receives instructions from system dispatcher , while a customer delivery mechanism  receives instructions from the public dispatcher  in hosted system , prepares a voice message based on those instructions, and accesses a telephone line of the district to make a call and deliver the voice message.","Thus, where as above instructions are sent to a system delivery mechanism if logic  determines that a message should be sent by hosted system , in the instance that logic  determines that a message should be delivered by a school district  it checks to see if a client delivery mechanism  in that school district  has polled indicating that it is available to deliver a message. If a client delivery mechanism  has polled indicating such availability, logic  sends instructions to public dispatcher , which communicates with the client delivery mechanisms  located in school districts , rather than to system dispatcher , indicating which telephone number to call and which message to deliver. Public dispatcher  forwards the instructions to an appropriate client delivery mechanism .",{"@attributes":{"id":"p-0053","num":"0052"},"figref":"FIG. 7","b":["702","612","614","702","606","612","608","614","704","704"]},"The voice message and telephone number are passed to an API interface , which then uses telephony hardware  to access a telephone line  and call the indicated number. (It will be apparent that telephone lines  will be telephone lines  where delivery mechanism  is a system delivery mechanism , and telephone lines  where it is a client delivery mechanism .)","In some embodiments, it is desirable for the voice message to include prompts asking the recipient to respond either by voice or by pushing keys on their telephone; the system may then record such responses or take further action based upon the responses. In this event, optional interactive voice response (IVR) module  allows delivery mechanism  to make such a recording or call another script to take the appropriate action. In addition, as discussed below, a message or some portion thereof may be stored in local memory , which may be a cache memory or a permanent memory.","Referring again to , when a client delivery mechanism  at a school district  polls the hosted system  indicating availability to make one or more calls, if one or more voice messages that are intended for households in the district have not been delivered and are deemed appropriate for the client delivery mechanism  to deliver, the hosted system  sends instructions to the client delivery mechanism  to make one or more telephone calls and deliver a message for each call. Once the calls are made, client delivery mechanism  sends verification to the public dispatcher  of the results of each call. The results of the calls, including whether the delivery of each message was successful or unsuccessful, are then passed to logic  and recorded in database .","If client delivery mechanism  remains available, it again polls hosted system  and, if there are further messages waiting to be sent, instructions are sent for additional calls to be de and messages to be delivered. In the event delivery of a particular message was unsuccessful and client delivery mechanism  again polls hosted system , hosted system  may immediately send subsequent instructions to client delivery mechanism  to try to deliver the message again, at the same telephone number or an alternative telephone number if one is available. Alternatively, the unsuccessful message may remain in a queue of messages awaiting delivery and an attempt made to deliver it at a later time.","In this way, logic  at hosted system  is able to keep track of which messages have been delivered and which are still awaiting delivery. If there are numerous messages to be delivered, perhaps thousands or tens of thousands depending upon the number and size of school districts  supported, hosted system  has an accurate record of messages that have been delivered by school districts  and which messages for which delivery has either not been attempted or has been unsuccessful.","Logic  will similarly keep track of messages for which delivery has been attempted by hosted system , and these results are also recorded in database . Thus, it is possible to track every request for delivery of a message made by any school  or school district . Such a system is thus more resistant to a variety of problems, such as failing to send messages or losing track of which messages have been sent in the event of a power loss, since there is now a continuous record of the status of all voice messages.","As above, one issue with prior art systems is where the voice messages or their components are created, because the transmission of audio files may require significant bandwidth, as well as the necessity of appropriate software for their preparation. It may also be desirable that all of the messages from a particular school or district be uniform in some respects. In one embodiment of the present invention the voice messages or the components thereof are created by hosted system , thus reducing the bandwidth necessary for transmitting the requests from the schools  or school districts . To the extent uniformity is desired, this also insures that the messages are consistent and that the same messages, other than any desired personalization, are received by all of the intended recipients.","A requested message may range from a general one to a very specific one. For example, a request might be made that all households of students in a particular school  or school district  receive a particular message of interest to all parents and\/or students, such as the closing of as school due to snow or fire or some other emergency, a fundraising event, or any other desired news or activity. If a message is delivered to the households of all of the students in a district, and thus includes households from multiple schools, in some cases it may be desirable to include a preamble for the households of each school, such as \u201cThis is as message from Washington High School,\u201d or \u201cThis is Principal Skinner of Springfield Elementary School.\u201d","Alternatively, a request from a school  or school district  might ask that a message be sent to a particular group of households, such as the parents of the senior class of a high school informing them of an event for the class, or the members of a particular team or club regarding a game or event. Finally, a request might ask that a very specific message be delivered to a single household. For example, a school  might request that a message be sent regarding an absent student, stating that: \u201cThis is Washington High School; our child, John Doe, was absent from school today. Please call the attendance office to provide an explanation for this absence,\u201d or some similar request for a response to an absence.","To accomplish this, referring back to , in one embodiment hosted system  contains a database  as above, as well as one or more TTS software modules . In general, a school  or school district  will send a request for delivery of a message to hosted system  by entering or otherwise selecting the text of the message that is to be sent as well as the telephone number or some other identifier of the household to which the message is to be delivered. Alternatively, in some instances a prerecorded voice message and\/or segments of messages may be recorded by a school  or school district  and stored in database .","The entered text may be typed in and sent for example in an email, or in some other format. In one embodiment, software on a computer at the school  or school district  presents a user with a graphical user interface (GUI) which indicates the information needed to prepare the request and provides fields for entering that information. In some embodiments, some portions of the information may be entered by the use of appropriate pull-down menus.","Where a single voice message is intended for a number of recipients without personalization, the text may be entered in a single string. Where personalization or other customization is or may be required, the message is typically entered in two or more text strings, with one or more personalized portions entered into separate fields from any standard portions. TTS module  is used to render the entered text into a spoken version of the message based upon the text entered by the school  or school district  that requests the message.","Each requested message or portion thereof, whether prerecorded audio or text string to be used in the text to speech conversion, is then stored in database  and given a Content ID, which is a pointer to the location of that audio file or text file in database . The audio file(s) resulting from the text to speech conversion are also stored in a file system cache of the TTS module , replacing the oldest cached files when the cache is full. Where a message a general one expected to go to a number of recipients without any personalization, it may be stored as a single file. Where a message is to be personalized, as above it will typically use more than one portion, with standard portions separated by the intended personalization, in which case the portions may be separately stored.","Thus, for example, in the case of the absence notification described above, part of the message is uniform and part will typically be personalized to the student in question. Since it is most desirable to have the message contain the name of the absent student, a single recording is not appropriate for all recipients. Instead, one portion of the message may be the first part of the message, \u201cThis is Washington High School; your child\u201d and another portion of the message the remaining standard, such as \u201cwas absent from school today. Please call the attendance office to provide an explanation for this absence,\u201d since these portions do not change but are uniform in all absence messages.","The personalized portion of the message, the name portions, \u201cJohn\u201d and \u201cDoe,\u201d will typically be entered as a separate text string or identifier, converted to speech by TTS module , and stored separately in the cache of TTS module . The standard portions of the message may either be prerecorded and stored in database , or may also be entered as text and converted to speech by TTS module .","Logic  sends instructions to system dispatcher  or public dispatcher  as determined above indicating the message to be delivered and the telephone number to which it is to be delivered. The instructions include one or more pointers or links to the locations where the message or the portions thereof are stored. In the case of a message that has been stored as a single file, such as a general message that is not personalized, only one pointer is needed. In the case where the message, or portion thereof, is to be rendered using text-to-speech, the actual text of the message is included in the instructions. Where the message is to contain several portions, such as the personalized absence message above, there will typically be several pointers or text strings, one for each portion. The pointers and text are typically in the order in which the portions are to be played in the message so that retrieving the indicated portions and concatenating them will result in the desired message.","The selected dispatcher will then pass the instructions to an available delivery mechanism (a system delivery mechanism  in the case of system dispatcher , or a client delivery mechanism  in the case of public dispatcher ), which in turn will download the indicated audio file or files and, in the case of multiple files, concatenate them in the order indicated by the instructions to create a single audio file. In the case of TTS portions of the message, delivery mechanism  (either a system delivery mechanism  or a client delivery mechanism ) will first check its local cache  for a rendered version of the text. If local cache  does not contain a rendered version of the text, the delivery mechanism will check with TTS module  to see if a cached version of the rendered message exists in the local cache of TTS module . If the rendered version cannot be located, the delivery mechanism will request TTS module  to render the text into an audio file and download it to the delivery mechanism. The delivery mechanism then dials the indicated telephone number and, if the call is answered, plays the audio file and thus delivers the requested message.","In some embodiments both system delivery mechanism  and client delivery mechanism  may, as described herein, contain a local cache memory or permanent memory , in which the audio files downloaded from hosted system  may be stored. As desired, and depending upon the size of local memory , some or all of the downloaded audio files may be permanently cached, or alternatively those most recently downloaded may be cached temporarily and replaced as additional audio files are subsequently downloaded.","In one embodiment, the instructions are in the form of an XML script. XML is a well known general purpose specification for creating custom markup languages, and one of skill in the art will be able to create a suitable version to write instructions to deliver messages of the type described herein. It will be apparent that a benefit of using XML scripts to transmit instructions in connection with the local memory  in client delivery mechanism  is that if a newly received XML script contains a pointer to an audio file that has already been downloaded from hosted system  and is stored or cached locally in memory , it is not necessary to download, the file again. In the case of a system delivery mechanism , use of a cache minimizes calls to database  and the inherent latency of memory access.","In the case of a single uniform message being sent to more than one recipient, it is thus not necessary to download the audio file more than once in such cases. Even in the case of a personalized message such as an absence message, if there are other absentees and it is desired to send each the same message except for the personalization it will only be necessary to download the personalized portion, i.e., the synthesized student name, for each such subsequent message since the standard voice portions of the message will have already been downloaded for the first absence message and will thus already be present locally and available for use in subsequent absence messages.","Thus, when a client delivery mechanism  prepares a message and a field in the XML script contains a pointer to an audio file stored in the database  of hosted system , the client delivery mechanism  will first check its local memory  to see if that file is already present locally. If so, the local copy will be accessed. If the indicated file is not present locally, client delivery mechanism  will obtain a copy of the audio file from database  in hosted system . If the XML script contains pointer references to multiple audio files the process above will be repeated until all audio files have been downloaded to the local memory  of client delivery mechanism . If the XML file contains text portions of the message that need to be rendered into audio files, the message assembly module  will first check its local cache  for a rendered version of the text. If no locally cached version of the rendered text exists, the message assembly module  will check with TTS module  of hosted system  to see if a cached version of the rendered message exists in the local cache of TTS module . If no rendered version can be found, the client delivery mechanism  will request TTS module  to render the text into an audio file and download it to the client delivery mechanism.","An XML script to deliver an absence message to telephone number 831-588-4321 might look like:",{"@attributes":{"id":"p-0076","num":"0075"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"182pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<voice>"]},{"entry":[{},"<dial callerid=\u20338315884321\u2033>8315884321<\/dial>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"168pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<message name=\u201dabsence call\u2033>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"154pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<audio cmid=\u201d101\u201d \/>"]},{"entry":[{},"< tts>John><\/tts >"]},{"entry":[{},"< tts>Doe><\/tts >"]},{"entry":[{},"<audio cmid=\u201d102\u201d \/>"]},{"entry":[{},"<hangup \/>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"168pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<\/message>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<\/voice>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}}},"\u201cMessage name\u201d indicates that it is the absence message that is to be played. In this instance, the initial and final portions of the message have been prerecorded. Each \u201caudio cmid\u201d field includes a content ID, which as stated above is a pointer to the location in database  where a prerecorded portion of the message has been stored. Thus, audio cmid=\u201c101\u201d is the content ID indicating the location in database  where the audio file containing \u201cThis is Washington High School; your child\u201d is stored, and audio cmid=\u201c102\u201d is the content ID indicating the location of the portion \u201cwas absent from school today. Please call the attendance office to provide an explanation for this absence,\u201d The code <tts>John><\/tts> is a request processed by the message assembly module  to retrieve the audio file for the name \u201cJohn\u201d by checking the local cache  and the cache of TTS module  and then requesting that the text be rendered if necessary as described above. Similarly <tts>Doe<\/tts> is a request processed by the message assembly module to retrieve the audio file for the name \u201cDoe.\u201d Thus, the script represents instructions to retrieve the two audio files, locate or request the rendered name, dial the telephone number 831-588-4321, and, if the call is answered, play the retrieved portions of the message in the indicated order, and then disconnect the call. Other variations of such a script will be apparent to one of skill in the art.","XML scripts are significantly smaller files than audio files. Instructions for a one minute telephone call may for example require a 1 kilobyte XML script, as compared to 1 megabyte or more of data for an audio file for a one minute call. In some prior art systems, a separate audio file might be recorded for each absent student. In the case of multiple absentees, having to download each such file might result in the necessity of significant bandwidth for transmission as described herein. In the present invention, by contrast, since the message is divided into portions, the portions that will be the same in each message are only downloaded once, and only the personalized portions downloaded separately for each message.","Using the approach of the present invention thus consumes significantly less bandwidth than downloading the entire audio message for each request by avoiding the need to download multiple copies of the same message or the same portions of multiple messages, limits the number of connections necessary between the school districts  and hosted system , and results in a significant improvement in the quality of service.","Further details of the invention will be explained in the context of , which is a flowchart of one embodiment of a method according to the present invention. At step , a school or school district sends a request to a hosted system indicating a message to be delivered and one or more telephone numbers to which the message is to be delivered. A request that a general message be delivered will typically indicate the message to be delivered and the recipients. A request that a personalized message be sent will similarly indicate the desired message (for example, an absence message) and the intended recipient(s), as well as information about the desired personalization, such as the student's name or ID number.","As above, in some embodiments, a computer at the requesting school or school district is equipped with software that provides a GUI by which a user may generate a message request through the use of pull down menus, check boxes, text boxes in which alphanumeric text may be entered, or other techniques known in the art. In other embodiments, a user may enter a request via a telephone, with the hosted system providing prompts to the user advising the user which keys on the telephone keypad to push in order to indicate a message and recipient(s).","Upon receiving the request, at step  the hosted system will look, for any information in its database that is necessary to prepare and deliver the message. For example, if the request indicates that all 9grade students at Washington High School should receive the indicated message, the hosted system will look to see if the telephone numbers of households of those students are in its database, in which case the data will be retrieved. The hosted system will then locate the text that is to be synthesized for each portion of the indicated message, access a TTS module to synthesize a voice recording of that portion of the message, and store the synthesized speech in a cache memory.","Next, instructions are created at step  indicating the message to be delivered. As above, in one embodiment, the instructions are in the form of an XML script, with pointers to the audio portions of the message and the message text of any portions of the message that are to be rendered by the TTS module in the order in which they are to be played, and the telephone number to be called.","For each message, at step  the hosted system determines whether the message should be delivered by the hosted system itself or by the district  in which the number is located. If it is determined that the message should be delivered by the hosted system, at step  the instructions are sent to a system dispatcher, which forwards them to an available system delivery mechanism at step .","The receiving system delivery mechanism prepares the message at step . If the message is a single audio file, it is either retrieved from the local cache of the delivery mechanism or from the database. If the message is to contain personalized portions, the synthesized name or other personalization is either retrieved from the local cache of the delivery mechanism or the cache of the TTS module, and the portions are placed in order. The pointers in the XML script instructions indicate where the audio message or the audio portions of the personalized message may be found in the database.","The telephone number to be called is then used to initiate a telephone call at step , and, if the call is answered, the audio file is played, delivering the message. The result, whether successful or not, is reported to the hosted system at step , which records the result in the database.","On the other hand, if it is determined that the message should be delivered by the school district that made the request or in which the requesting school is located, at step  the hosted system checks to see if it has been polled by a client delivery mechanism at the school district. If the client delivery mechanism has not polled, the hosted system will wait for some period of time (step ), and then check again to see if the client delivery mechanism has polled. As above, instructions may be sent that more than one message is to be delivered by the client delivery mechanism; this improves efficiency in the communication between the hosted system and the client delivery mechanism.","If in step  the hosted system finds that it has been polled by the client, delivery mechanism at the school district, and thus that the client delivery mechanism has indicated that it is able to deliver a message, the hosted system forwards the instructions to a public dispatcher at step , which in turn sends them to the client delivery mechanism at step .","At step , the client delivery mechanism checks its local memory to see if the message indicated in the instructions or any of the portions thereof are already present. If the message or any portions are available locally, they are accessed locally. If the message or any portions are not available locally, the necessary audio file(s) are downloaded from the hosted system at step  and placed in the local memory at step , discarding the oldest local file if the local memory is full.","Once the message or all portions have been determined to be available locally or downloaded, the client delivery mechanism prepares the message at step  by accessing the message, or the portions of the message in the intended order. The call is made to the telephone number contained in the instructions at step  and again, if the call is answered, the message is played. The result of the call (or results of multiple calls) is reported back to the hosted system at step  and recorded in the database. Once the call has been made and the result reported, the client delivery mechanism will check to see if it is ready to accept instructions to make additional calls, and, if so, will again poll the hosted system.","The hosted system, such as hosted system , will typically have a large number of telephone lines so that it will be able to deliver large numbers of messages in a short period of time. While the use of the telephone lines  of the school districts  reduces the burden on the hosted system and the cost of delivering messages, each school district  remains able to independently configure and allocate the telephone lines  it needs for its normal operations and to determine how many of those telephone lines are made available to the school district  for voice calls. The number of messages sent to the school district  for delivery will typically be a function of the number of lines that are available for delivery of voice messages, which can even be dynamically allocated at different times of day or days of the week, e.g., more lines may be made available at night or on weekends when a school district is not open. School districts  are thus able to maintain control of their own resources and budgets.","Further, in some prior art systems, TTS capability is required at school districts , which typically requires a license for TTS software. By contrast, in a system of the present invention, licenses are needed only for the TTS modules  in hosted system . This also helps to reduce the cost as the TTS software license is now amortized across all participating schools and school districts.","The invention has been explained above with reference to several embodiments. Other embodiments will be apparent to those skilled in the art in light of this disclosure. The present invention may readily be implemented using configurations other than those described in the embodiments above, or in conjunction with systems other than the embodiments described above.","For example, while reference herein has been made generically to telephone lines, it should be noted that any type of connection over which a voice telephone call may be made is within the scope of the present invention. Thus, calls made directly over the regular public, switched telephone network (PSTN), a T1 line, PRI (primary rate interface), through a PBX, or over the internet via a voice over IP (VOIP) protocol or Java telephone application programming interface (JTAPI) are all to be considered telephone calls as used herein. Any type of IVR is similarly within the scope of the present invention.","In addition, while the embodiments discussed herein show particular operations occurring in certain modules, some operation may be easily moved from one module to another, or some modules combined, with no loss in functionality. All such variations are considered to be within the scope of the present invention.","It should also be appreciated that the present invention can be implemented in numerous ways, including as a process, an apparatus, or a system. The method of  or alternative methods embodying the present invention may be implemented by program instructions for instructing a processor to perform such methods, and such instructions recorded on a computer readable storage medium such as a hard disk drive, floppy disk, optical disc such as a compact disc (CD) or digital versatile disc (DVD), flash memory, etc., or a computer network wherein the program instructions are sent over optical or electronic communication links. It should be noted that the order of the steps of the methods described herein may be altered and still be within the scope of the invention.","These and other variations upon the embodiments are intended to be covered by the present invention, which is limited only by the appended claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 8"}]},"DETDESC":[{},{}]}
