---
title: System and method for active diagnosis and self healing of software systems
abstract: An active diagnostic and self healing system involves a support server configured to monitor the state of application and operating system software on a remote client, one or more of whose applications or OS has been registered to the automatic service of the invention. Software drivers or other patches, fixes or updates may be automatically transmitted to the client device via Internet or other connectivity upon the detection of an application or OS crash or other software fault. The user may select criteria according to which fixes and updates may be effected. The fixes and updates may be stored in a knowledge base, vendor databases or other resources, for instance available via Internet or other connections.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07293201&OS=07293201&RS=07293201
owner: Microsoft Corporation
number: 07293201
owner_city: Redmond
owner_country: US
publication_date: 20030117
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF EMBODIMENTS"],"p":["The invention relates to the field of computing, and more particularly to platforms capable of remotely sensing and healing applications and other software installations.","Software failures, faults and inconsistencies on both the application and operating system (OS) sides exact a price on computer users, network administrators and others. Applications may crash due to run-time errors, hardware updates and incompatibilities and other issues. An operating system may hang or fail to deliver expected services due to driver conflicts, conflicting updates, security breaches and other issues. In any case, a variety of types of software faults stress the user support systems of many software vendors. This may be particularly the case in larger or more complex network sites, such as sites utilizing enterprise server or other clusters. For these sites several hours of telephone consultation may be required to fix software faults encountered by users.","Some software applications have incorporated updating or healing features. Microsoft Corp.'s Office\u2122 suite for instance is equipped with certain self-repair features, including an ability to detect the deletion of significant associated files which are then automatically reinstalled. The Microsoft WindowsXP\u2122 operating system for its part may alert a user when OS updates become available, through Internet or other connectivity. However, the WindowsXP\u2122 repair function is not entirely automatic, in that it does not retrieve necessary updates over the Internet or other connectivity directly. That operating system instead builds a directory of pending or possible patches which the user then manually chooses to install. A user moreover may not program the OS or application update service to filter out, automatically install or otherwise process software fixes according to flexible criteria. Other problems exist.","The invention overcoming these and other problems in the art relates in one regard to a system and method for active diagnosis and self healing of computer software systems, in which one or more software applications along with the operating system of a client or other computing device may be continuously monitored for current and prospective software errors, and be automatically subjected to software refreshes to be healed and updated without user intervention. In embodiments, the application suite as well as operating system of a client device may be registered to a remote server which monitors the client device for software faults and other anomalies. When an application or OS crash or other fault occurs, that event may be trapped and an inquiry made against a knowledge base or other resource to determine a potential fix. That solution may be automatically delivered to the malfunctioning client, or in cases the user may select between possible fixes or elect to uninstall problem software or take other remedial action. In embodiments, the user of a client device may adjust or program the triggering events and other conditions of the self healing facility, for example to exclude simple memory errors from attempted fixes, inhibit fixes until a certain number of repeated faults have occurred, or apply other criteria or conditions to the self correction action.",{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 1","b":["102","106","106"],"sub":["1","2 ","Y "]},"Client  may be or include, for instance, a personal computer running an operating system . In embodiments, the operating system  may be or include the Microsoft Windows\u2122 95, 98, Millenium\u2122, NT\u2122, 2000 or XP\u2122, Windows\u2122CE\u2122, MacOS\u2122, PalmOS\u2122, Unix, Linux, Solaris\u2122, OS\/2\u2122, BeOS\u2122, MacOS\u2122, VAX VMS or other operating system or platform. Client  may include a microprocessor such as an Intel x86-based or Advanced Micro Devices x86-compatible device, a Motorola 68K or PowerPC\u2122 device, a MIPS, Hewlett-Packard Precision\u2122, or Digital Equipment Corp. Alpha\u2122 RISC processor, a microcontroller or other general or special purpose device operating under programmed control. Client  may furthermore include electronic memory such as RAM (random access memory) or EPROM (electronically programmable read only memory), storage such as a hard drive, CDROM or rewritable CDROM or other magnetic, optical or other media, and other associated components connected over an electronic bus, as will be appreciated by persons skilled in the art.","In embodiments, the client  may be equipped with an integral or connectable cathode ray tube (CRT), liquid crystal display (LCD), electroluminescent display, light emitting diode (LED) or other display screen, panel or device for viewing and manipulating files, data and other resources, for instance using a graphical user interface (GUI) or command line interface (CLI). Client  may in embodiments also be or include a network-enabled appliance such as a WebTV\u2122 unit, radio-enabled Palm\u2122 Pilot or similar unit, a set-top box, a networkable game-playing console such as Microsoft Xbox\u2122, Sony Playstation\u2122, Sega Dreamcast\u2122, a browser-equipped or other network-enabled cellular telephone, or other TCP\/IP client or other device.","As illustrated, the client  may also contain or store a set of client resource set , containing one or more resources RES, RES. . . RES(Z arbitrary). Individual resources may be or include, for example, hardware drivers such as video, audio, printer, storage device or other drivers, BIOS code or settings, or other code or resources supporting the operation of client  as a system.","In embodiments as illustrated, the client  may be connected to further resources, including an automatic diagnostic and self healing (ADSH) service . by way of communications link . Communications link  may be, include or interface to any one or more of, for instance, the Internet, the World Wide Web, an intranet, a PAN (Personal Area Network), a LAN (Local Area Network), a WAN (Wide Area Network) or a MAN (Metropolitan Area Network), a storage area network (SAN), a frame relay connection, an Advanced Intelligent Network (AIN) connection, a synchronous optical network (SONET) connection, a digital T, T, E or E line, Digital Data Service (DDS) connection, DSL (Digital Subscriber Line) connection, an Ethernet connection, an ISDN (Integrated Services Digital Network) line, a dial-up port such as a V.92, V.90, V.34 or V.34bis analog modem connection, a cable modem, an ATM (Asynchronous Transfer Mode) connection, or an FDDI (Fiber Distributed Data Interface) or CDDI (Copper Distributed Data Interface) connection. Communications link  may furthermore be, include or interface to any one or more of a WAP (Wireless Application Protocol) link, a GPRS (General Packet Radio Service) link, a GSM (Global System for Mobile Communication) link, a CDMA (Code Division Multiple Access) or TDMA (Time Division Multiple Access) link such as a cellular phone channel, a GPS (Global Positioning System) link, CDPD (cellular digital packet data), a RIM (Research in Motion, Limited) duplex paging type device, a Bluetooth, BlueTeeth or WhiteTooth radio link, or an IEEE 802.11 (Wi-Fi)-based radio frequency link such as 802.11a, 802.11b, 802.11g or other protocol. Communications link  may yet further be, include or interface to any one or more of an RS-232 serial connection, an IEEE-1394 (Firewire) connection, a Fibre Channel connection, an iRDA (infrared) port, a SCSI (Small Computer Systems Interface) connection, a USB (Universal Serial Bus) connection or other wired or wireless, digital or analog interface or connection.","The ADSH server engine  may in embodiments include one or more processes to mediate the fault detection and healing action of the invention. As illustrated, ADSH server engine  may include a user mode service , which may be generally directed to application support, and a kernel mode service , which may be generally directed to operating system support. Other services or categorizations are possible. In embodiments, the ADSH service may reside or execute on a support server , or other dedicated host or other system. The ADSH server engine  may for instance communicate with the client  over communications link  using dedicated or dynamic transfer control protocol or other port assignments, or other communications channels or mechanisms. The support server  may be or include, for instance, a workstation running the Microsoft Windows\u2122 NT\u2122, Windows\u2122 2000, MacOS\u2122, Unix, Linux, Xenix, IBM AIX\u2122, Hewlett-Packard UX\u2122, Novell Netware\u2122, Sun Microsystems Solaris\u2122, OS\/2\u2122, BeOS\u2122, Mach, Apache, OpenStep\u2122 or other operating system or platform.","In embodiments, the client  may communicate with the ADSH server engine  to cooperatively monitor for software faults, failures and other conditions which may require remedial or other action. The client  may so communicate with the ADSH service on a continuous, periodic, triggered episodic or other basis, depending on network configuration and other factors. For instance, a user of client  may install an update to an application in the client application set . Upon launching that updated application, the client  may encounter a printing fault which prevents documents or files from printing to a printing device. The operating system  of client  may trap that print fault, and communicate a machine state image  of client  to the ADSH server engine .","The machine state image  may contain a snapshot of the state of one ore more of the subject application causing a fault, other software or components, hardware profiles including drivers, and other information representing processes and resources active at the time of the detected fault, or otherwise. In embodiments, the delivery of machine state image  may not necessarily be conditioned on the occurrence of a software or other fault, but instead may be performed periodically or otherwise as a maintenance or other measure.","Support server  may receive the machine state image  from client , and identify the source or sources of an existing execution fault. In embodiments, support server  may maintain an application support set  containing one or more individual applications APP, APP. . . APP(M arbitrary). Application support set  may represent a library of applications which may be registered to the ADSH server engine  as eligible for maintenance and healing services, according to the invention. In embodiments, the application support set  may contain a variety of productivity, utility, communications or other applications, from one or more vendors or sources.","In embodiments, support server  may also maintain a resource support set  containing one or more individual resources RES, RES. . . RES(N arbitrary). Resource support set  may represent a library of operating system or other system or other resources which may be registered to the ADSH server engine  as eligible for maintenance and healing services, according to the invention. In embodiments, the resource support set  may contain hardware drivers such as video, audio, printer, storage device or other peripheral or other drivers, BIOS code or settings, or other code or resources supporting the operation of clients registered to the ADSH server engine . In embodiments, the resource support set  may contain an indication whether a given individual resource is certified by the vendor of operating system  or otherwise for compatible operation, or contain other data regarding client resources.","Upon receipt of the machine state image , the ADSH server engine  may check the offending application or other process requiring diagnosis or attention against the application support set  and resource support set  to determine whether that application or process is valid and eligible for support according to the invention. If not, a message may be communicated to client  to indicate that automated diagnostic support is not available for the component causing the failure or other condition.","For applications, resources or other components which are validly registered to the ADSH server engine , the ADSH server engine  may identify the application, resource or other component necessitating a fix to determine possible software updates, patches or other healing or maintenance action. In embodiments, the ADSH server engine  may communicate with one or more knowledge base  to test for recorded instances of the particular type of fault or condition. ADSH server engine  may likewise communicate with knowledge base  via communications link , or in embodiments may communicate via dedicated or other direct or indirect channels. In embodiments, the registration and continued support of ADSH server engine  may be on a paid or unpaid subscription basis, or other bases.","For instance, in embodiments, if the ADSH server engine  determines that an update to a word processing application has caused an incompatibility with an existing printer driver loaded on client , the ADSH server engine  may perform a lookup in knowledge base  to determine a quick fix engineering (QFE) or other solution to the fault. In embodiments, the solution may involve the downloading, for example, of a more current printer driver or other resource, an update or patch to the application causing the crash or other fault or other condition, or other data from the knowledge base to the client .","In embodiments, the ADSH service may likewise communicate with a vendor base set  containing one or more vendor bases BASE, BASE . . . BASE(X arbitrary) which may be or include application, update, driver or other local or remote databases or resources for particular applications from particular vendors to extract fixes and solutions for a specific fault.","In embodiments, knowledge base , vendor base set  and other storage resources may be configured according to standard database schema standards, to enhance the compatibility and interoperability of the ADSH service. This may be helpful, for instance, when more than one ADSH server or other engine accesses knowledge base , vendor base set  or other storage resources. The content of knowledge base , vendor base set  and other storage resources may be indexed or numbered according to standard schema or specifications, to increase the efficiency of searches and other operations on the content of those resources. Schema in which knowledge base , vendor base set  and other storage resources may be configured include, for example, object-based models such as the ODMG standard (2.0 or other) promulgated by the Object Database Modeling Group, or other object-based or non-object based specifications. Object-based schema may permit binding to or through a variety of programming interfaces, such as XML, C++, Java and others. Knowledge base , vendor base set  and other storage resources may in embodiments be, include or interface to extensible or configurable database and other resources, such as standard query language (SQL) and other platforms.","Knowledge base , vendor base set  and other storage resources may likewise be, include or interface to, for example, the Oracle\u2122 relational database sold commercially by Oracle Corp. Other databases or platforms, such as Informix\u2122, DB2 (Database 2), Sybase\u2122 or other data storage or query formats, platforms or resources such as OLAP (On Line Analytical Processing), a storage area network (SAN), Microsoft Access\u2122 or others may also be used, incorporated or accessed in the invention. Knowledge base , vendor base set  and other storage resources may be supported by server or other resources, and may in embodiments include redundancy, such as a redundant array of independent disks (RAID), for data protection.","In embodiments, the machine state image  may reflect complex or multiple software conditions or faults, for which direct resolution through knowledge base  or other platforms may not be feasible. In such cases, the ADSH client  may present the user of client  with further alternatives, such as reverting to prior versions of applications, drivers or other resources, contacting a support line, or taking other action.","Diagnostic and related processing according to an embodiment of the invention is illustrated in . In step , processing may begin. In step , client  may establish communications with ADSH server engine . In step , one or more individual applications in client application set  or client resource set  may be registered to ADSH server engine . In step , a user may operate the ADSH client  to select activation criteria  or otherwise program or configure desired diagnostic and self healing services, according to the invention.","In step , the client  may trap an occurrence of a software fault or other condition to report to ADSH server engine , for instance by isolating that fault or condition in the operating system . In embodiments, the trapping of a fault or other condition may include the generation of a machine state image , or recording other data. In step , a machine state image  or other data reflecting that fault or condition may be communicated to the ADSH server engine . In step , the ADSH server engine  may examine any one or more of the support application set , resource support set , service log , knowledge base , vendor base set  or other databases or resources to determine if a matching solution to the fault or condition is found.","If no matching solution is found, processing may proceed to step , where a user notification, for instance by dialog box or otherwise, may inform the user that an automated solution has been attempted but not found. In embodiments, the user may subsequently be presented with further options, such as an option to try an automated repair again later, an option to select a manual repair, or others. After the notification of step , processing may proceed to step  and end, repeat, return to another processing step or perform other action.","If a matching solution to the pending fault or condition is found in step , processing may proceed to step  where a solution may be communicated to client . In step , the user may be presented with a dialog box or other notification that a solution is available. In step , the user may be presented with options to execute the solution, such as for instance to perform an automatic install, defer installation, revert to manual installation or other alternatives. In step , the solution may be executed on client . In step , the ADSH client  may reboot the client , restart an application or take other steps to complete the solution. In step , the ADSH client  may determine whether proper execution of the solution has occurred. If continued or additional faults occur, in step  processing may return to step . If the fault or other condition has been resolved, processing may proceed to step  where processing may end, return to another step, repeat or perform other action.","In embodiments, the application, driver or other update, patch or other resource generated in the solution may be communicated directly from knowledge base  or vendor base set  to client , or may be communicated from ADSH server engine  itself or otherwise to the client . The client  may present an ADSH client  to a user to manipulate the receipt and other operation of diagnostic and healing activity on client . For instance, the ADSH client  may inform a user, via a popup dialog box or otherwise, that a printer or other error has been detected and a driver or patch has been automatically retrieved to attempt to resolve the fault. In embodiments, the ADSH client  may permit the user to select between accepting the fix, storing but not implementing the fix, ignoring the fix, or taking other actions. The ADSH client  may communicate the user's selected solution back to the ADSH server engine , for instance to log the corrective actions to a user profile for future access or correction. ADSH client  may in embodiments be interoperable with other software, for instance via application programming interfaces (APIs) or other techniques.","ADSH client  may likewise present a user of client  with options to configure and maintain the diagnostic and self-healing service operating on that machine. As illustrated in , for instance, a user may program or select a set of activation criteria  which govern the activation of fault reporting and other functions of ADSH server engine , according to user preference. For instance, the activation criteria  may include a threshold filter for certain types of faults or errors, which inhibit the ADSH server engine  until selected conditions are met. For example, a user may program the activation criteria  to require that memory leak or other memory-related errors reach a certain size, before triggering an attempt at automatic diagnosis. Or, memory type errors could be ignored entirely. For further example, a user might require that an error, such as an application fault, occur a specified number of times before invoking ADSH server engine . Other conditions, triggering events, error severity or criteria may be selected as part of activation criteria .","In embodiments, besides servicing individual requests for diagnostic and healing on client  or other devices, the support server  may also track and analyze historical sets of repair actions to develop statistical profiles of application, system resource and other behavior. In this regard, support server  may contain an analytic engine  communicating with service log , service log  recording actions taken by ADSH server engine  for one, many or all users of client  and other clients registered to ADSH server engine . This may permit, for example, ADSH server engine  to detect recurring faults or patterns to enable better repair or preventive actions.","For example, service log  may indicate that frequent instances of an application failure for a certain application, such as a graphics package, occur when a given video adapter is installed in a client machine. The ADSH server engine  may then determine whether an updated set of system resources , such as a video driver, or an available update in application set , such as a patch for that application, are available to remedy the problem. If so, then ADSH server engine  may add those or other fixes to knowledge base , or take other action. As illustrated in , in embodiments, systems administrators may also edit knowledge base  using an administrative interface , for example to add or modify the knowledge base  with updated applications, drivers, error conditions and other data. The administrative interface  may in embodiments permit a systems administrator or other user to query the service log , knowledge base, vendor base set , client  and other resources or components to operate and maintain the ADSH server engine .","In embodiments, ADSH server engine  may proactively deliver or \u201cpush\u201d the graphic package, driver or other generated fixes to client  or other client devices having the identified combination of problem hardware and software, to prevent compatibility problems from developing. In embodiments, if such a proactive delivery is scheduled, the ADSH client  may query the user whether they wish to accept automated downloads on that basis, or defer the download, decline the fix or take other action.","The foregoing description of the invention is illustrative, and modifications in configuration and implementation will occur to persons skilled in the art. For instance, while the invention has generally been described in terms of a standalone client  whose installed applications and resources are registered to and maintained by ADSH server engine , in embodiments more than one machine, or a local area or other networked group of machines, may be individually or collectively registered to the ADSH server engine  and controlled through client  or another central administrative machine, or by one ore more other clients or channels.","Similarly, while the knowledge base  has generally been described in terms of a single database resource, in embodiments the application, system and other resources described as being stored on knowledge base  may be distributed across one or more local or remote databases. Other hardware, software or other resources described as singular may in embodiments be distributed, and similarly in embodiments resources described as distributed may be combined. The scope of the invention is accordingly intended to be limited only by the following claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0006","num":"0005"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0007","num":"0006"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 4"}]},"DETDESC":[{},{}]}
