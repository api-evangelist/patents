---
title: Electronic device, use restriction method for electronic device, and computer-readable recording medium
abstract: An electronic device includes a display part, a system control part for designating a display target to be displayed by the display part and switch the display target to another display target, a display control part for instructing the display part to display an operation screen corresponding to the display target designated by the system control part, and a receiving part for receiving a request for initiating the exclusive use of the display part from a use restriction application and receiving a request for terminating the exclusive use of the display part from the use restriction application. In a case where the receiving part receives the request for initiating the exclusive use of the display part, the system control part ceases switching the display target to the other display target until the receiving part receives the request for terminating the exclusive use of the display part.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08566905&OS=08566905&RS=08566905
owner: Ricoh Company, Ltd.
number: 08566905
owner_city: Tokyo
owner_country: JP
publication_date: 20110223
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS"],"p":["1. Field of the Invention","The present invention relates to an electronic device, a use restriction method for the electronic device, and a computer-readable recording medium.","2. Description of the Related Art","Various use restriction functions are provided even for embedded machines such as image forming apparatuses. One representative example of a use restriction function is an authentication function (see, for example, Japanese Laid-Open Patent Publication No. 2009-289164). For example, with the authentication function, an unauthorized user can be partially or completely restricted from using the functions of an image forming apparatus.","Typically, so-called ready-made structures, which are embedded to machines beforehand, are used for implementing the use restriction function. Compared to general-purpose computers, implementing a use restriction function unique to the user and the user's situation is particularly difficult for machines having little degree of freedom for implementing software.","The present invention may provide an electronic device, a use restriction method for the electronic device, and a computer-readable recording medium that substantially eliminate one or more of the problems caused by the limitations and disadvantages of the related art.","Features and advantages of the present invention are set forth in the description which follows, and in part will become apparent from the description and the accompanying drawings, or may be learned by practice of the invention according to the teachings provided in the description. Objects as well as other features and advantages of the present invention will be realized and attained by an electronic device, a use restriction method for the electronic device, and a computer-readable recording medium particularly pointed out in the specification in such full, clear, concise, and exact terms as to enable a person having ordinary skill in the art to practice the invention.","To achieve these and other advantages and in accordance with the purpose of the invention, as embodied and broadly described herein, an embodiment of the present invention provides an electronic device including: a display part; a system control part configured to designate a display target to be displayed by the display part and switch the display target to another display target; a display control part configured to instruct the display part to display an operation screen corresponding to the display target designated by the system control part; and a receiving part configured to receive a request for initiating an exclusive use of the display part from a use restriction application and receive a request for terminating the exclusive use of the display part from the use restriction application; wherein in a case where the receiving part receives the request for initiating the exclusive use of the display part, the system control part is configured to cease switching the display target to the other display target until the receiving part receives the request for terminating the exclusive use of the display part.","Other objects, features and advantages of the present invention will become more apparent from the following detailed description when read in conjunction with the accompanying drawings.","Next, embodiments of the present invention are described with reference to the accompanying drawings.","In the following embodiments, an image forming apparatus (e.g., multi-function machine, laser printer) is described as an example of an electronic device. It is, however, to be noted that the electronic device is not limited to an image forming apparatus. For example, the electronic device may also be various household electrical appliances.",{"@attributes":{"id":"p-0018","num":"0017"},"figref":["FIG. 1","FIG. 1"],"b":["10","10","11","12","13","14","15","16","17"]},"The controller  includes, for example, a CPU (Central Processing Unit) , a RAM (Random Access Memory) , a ROM (Read Only Memory) , and a HDD (Hard Disk Drive) . Various programs and data used by the programs are recorded in the ROM . The RAM  is used, for example, as a storage space for loading programs and a work space at which the loaded programs are processed. The CPU  achieves various functions of the image forming apparatus  by processing the programs loaded to the RAM . The HDD  is for storing various programs and data used by the programs.","The scanner  is for reading out image data from a document. The printer  is for printing print data to a sheet(s) of printing paper. The modem  is for connecting to a telephone line and exchanging (transmitting\/receiving) image data by facsimile communications. The control panel  includes an input part (e.g., keys, touch panel) for receiving input from a user and a display part (e.g., a liquid crystal screen) for displaying data to the user. The network interface  is for connecting to a wired network and\/or a wireless network (e.g., LAN (Local Area Network). The SD card slot  is for reading programs recorded to an SD card . In other words, the image forming apparatus  does not only execute programs recorded in the ROM . The image forming apparatus may also read out programs recorded in the SD card , load the programs to the RAM , and execute the programs loaded to the RAM . Further, other computer-readable recording media such as a USB (universal serial bus) memory or a CD-ROM may be used in addition to or as an alternative of the SD card .",{"@attributes":{"id":"p-0021","num":"0020"},"figref":["FIG. 2","FIG. 2"],"b":["10","10","221","223","224","225","226"]},"Each of the software programs included in the image forming apparatus  is activated as a process or a thread by the OS .","The standard application  is an assembly of application programs implemented (beforehand during shipping) as a standard to the image forming apparatus . In , a scanner application , a printer application , a copier application , and a facsimile application  are included in the standard application . The scanner application  executes scanning jobs. The printer application  executes printing jobs. The copier application  executes copying jobs. The facsimile application  executes facsimile transmitting jobs or facsimile receiving jobs.","The control service  includes a group of software modules (software module group) for achieving functions such as a function commonly used by each application, a function for controlling operations of each application, a function for controlling various hardware resources and the like. In , a system control part , a panel control part , and a main body authentication part  are provided as parts of the control service . In this embodiment, the system control part  controls switching of operation screens of applications that are to be displayed (operated at) on the control panel . The application (technically, the operation screen of an application) that is to be displayed (operated at) on the control panel  is referred to as a display target (operation target). In this embodiment, two or more operation screens (applications) cannot be simultaneously displayed on the same control panel . Here, the applications include both the standard application  and the SDK application . Therefore, in a case where there is an operation screen of an application to be displayed on the control panel , the application is either the standard application  or the SDK application .","The panel control part  instructs the displaying of an operation screen corresponding to each application to the control panel  in accordance with a switching instruction from the system control part . The main body authentication part  achieves a ready-made use restriction function that is embedded beforehand to the image forming apparatus . More specifically, the main body authentication part  executes authentication of the user of the image forming apparatus  and permits the use of predetermined applications or the like to authenticated users only. Although detailed description is omitted, the main body authentication part  can be customized. For example, a server that is used as an authentication engine can be switched. The scope for the customization is limited to a predetermined scope (predetermined setting items).","The SDK application  is an application program that is additionally installed to the image forming apparatus  after shipping of the image forming apparatus . That is, the SDK application  serves as a plug-in for expanding the functions of the image forming apparatus . In this embodiment, the SDK application  is implemented with Java (Registered Trademark) and is distributed in the format of an intermediate code (execution code). The intermediate code is referred to as Java (Registered Trademark) bytecode. Further, the SDK application  is used via a display component (GUI (Graphic User Interface)) displayed on a display part (e.g., screen) of the control panel . In , the SDK application  includes, for example, a use restriction application , a B application , and a C application . The use restriction application is an SDK application  implemented with a use restriction function that is unique to the user. The use restriction function that is unique to the user is a use restriction function that does not use the main body authentication part . The degree of freedom regarding implementation of the SDK application  is significantly high compared to the degree of freedom regarding customization of a ready-made function of the image forming apparatus . Therefore, the content of the use restriction function of the use restriction application is not limited in particular. In this embodiment, the use restriction application is an SDK application  implemented with an authentication function that is unique to the user.","The SDK platform  provides an environment for executing the SDK application . That is, the SDK platform  is an application platform of the SDK application . Each SDK application  is developed by using an API (Application Program Interface) provided by the SDK platform . The API of the SDK platform  is publicly available. Thus, the SDK application  can be developed by, for example, third party vendors. Specifically, the API is a group of, for example, functions and methods. In a broad sense, structures that report asynchronously occurring events to the SDK application  may also be included as an API.","From a standpoint of the control service , the SDK platform  is regarded as a single application equivalent to each standard application . More specifically, each standard application  is activated as an independent process by the OS . The SDK platform  is also activated as an independent process by the OS . Therefore, from the standpoint of the control service , each standard application and each SDK platform  is regarded as a process.","On the other hand, each SDK application  is activated as a thread inside the SDK platform . In other words, a thread is generated for each SDK application .","As described above, the SDK platform  hides (conceals) the SDK application  from the control service . Therefore, the control service  cannot directly control each SDK application . Only the SDK platform  can directly control each SDK application . The SDK platform  also hides (conceals) the control service  from each SDK application .","Next, processes performed by the image forming apparatus  according to an embodiment of the present invention are described. First, a use restriction operation performed by the main body authentication part  is described.  is a sequence diagram for describing processes of the use restriction operation by the main body authentication part . The processes illustrated in  are executed in a state where the use restriction application is not installed in the image forming apparatus .","With reference to , when the image forming apparatus  is activated, each module of the control service  (system control part , panel authentication part , main body authentication part ), the standard application , and the SDK platform  are activated in this order as processes by the OS . Among the SDK applications  installed in the image forming apparatus , the SDK application  being set with automatic activation, is activated as a thread by the SDK platform . It is to be noted that SDK application  may be set with automatic activation or manual activation. In this embodiment, automatic activation is a type of activation in which a corresponding SDK application  is automatically activated when the image forming apparatus  is activated. In this embodiment, manual activation is a type of activation in which a corresponding SDK application  is activated according to an instruction input by the user via a management screen displayed in the control panel  in accordance with the SDK platform .","Each standard application  and the SDK platform  register their application ID (i.e. identification data being fixed to each standard application  and the SDK platform ) and their process ID (i.e. identification data for communicating between processes) to the system control part  (Step S).","Then, each standard application  and the SDK platform  register their application ID and their screen data (i.e. data of a screen for operating each standard application  and the SDK platform ) to the panel control part  (Step S). The panel control part  manages the screen data in correspondence with the application ID. As a result, data can be managed by the panel control part  in a manner illustrated in .",{"@attributes":{"id":"p-0035","num":"0034"},"figref":["FIG. 4","FIG. 4","FIG. 4"],"b":["2252","2252","221","221","223","224","223","224","223","223","223","102","224","223","223","223","224"]},"The switching of active applications is not only performed upon (immediately after) activation of the image forming apparatus . That is, the switching of active applications is also performed on and after Step S. Active applications can be switched by operating the hard keys (hereinafter also referred to as \u201cfunction selection keys\u201d) arranged on the control panel . The function selection keys are provided in correspondence with the standard applications  and the SDK platform . Therefore, in this embodiment, the control panel  includes five function selection keys.","In Step S, the system control part  requests transition (switching) to a display state to the standard application  or the SDK platform  that is to become a display target. The display target that is displayed immediately after activation of the image forming apparatus  is determined according to a predetermined priority order that is set beforehand to the system control part . Further, in a case of switching from one active application to another, an application corresponding to the function selection key pressed by the user becomes the display target. The pressing of the function selection key is detected by the panel control part . The panel control part  associates key codes of the function selection keys with the application IDs of each application beforehand and manages the key codes of the function selection keys in correspondence with the application IDs of each application. Accordingly, by referring to a key code of the function selection key pressed by the user, the application ID corresponding to the key code can be identified. The panel control part  reports the system control part  of the identified application ID. Thereby, in accordance with the report from the panel control part , the system control part  can identify the application for requesting transition (switching) to the display target (display target transition request).","In a case where the standard application  or the SDK platform  receiving the display target transition request from the system control part  is capable of making the transition to a display state (i.e. becoming a display target), the standard application  or the SDK platform  sends a response to the system control part  accepting the request (Step S). Whether the standard application  or the SDK platform  is capable of becoming a display target is determined according to, for example, the status of the hardware resources used by the standard application  and the SDK platform .","When the system control part  receives the response of accepting the display target transition request, the system control part  designates the application ID of the display target along with requesting the panel control part  to display the screen of the application corresponding to the designated application ID (Step S). Based on the designated application ID received together with the display request, the panel control part  instructs the control panel  to display the operation screen of the application corresponding to the designated application ID (Step S). Therefore, the control panel  displays the operation screen of the standard application  or the operation screen of one of the SDK applications .","It is to be noted that, in Step S, the system control part  does not switch the display target in a case where the system control part  receives a response denying the display target request. However, immediately after the activation of the image forming apparatus , the system control part  repeats the processes on and after Step S with respect to the standard application  that is next on the predetermined priority order.","Meanwhile, in the case where the standard application  or the SDK platform  accepts the display target request, the standard application  or the SDK platform  sends a log-in display request to the main body authentication part  after sending a response accepting the display target transition request to the system control part  (Step S). In accordance with the log-in display request, the main body authentication part  instructs the panel control part  that a log-in screen is to be displayed on the control panel  (Step S). The panel control part , in response to the instruction from the main body authentication part , instructs the control panel  to display a log-in screen in a manner superposed on the operation screen displayed in Step S (Step S). The log-in screen is recognized as a special screen by the panel control part . Therefore, even if an operation screen is being displayed in the control panel , the panel control part  instructs the control panel  to display the log-in screen in a manner superposed on the operation screen. By superposing the log-in screen on the operation screen, the user is unable to use the application (e.g., standard application) corresponding to the operation screen displayed on the control panel . Thereby, a use restriction state of the image forming apparatus  is achieved.","Then, after the user inputs user data (e.g., user name and password) to the log-in screen displayed in control panel  (Step S), the panel control part  reports the user data to the main body authentication part  having control over the log-in screen (Step S). The main body authentication part  performs an authentication process based on the user data (Step S). In a case where the authentication is a success (i.e. user data is approved, authentication OK), the main body authentication part  reports the success of the authentication process to the standard application  or the SDK platform  from which the log-in display request originated (Step S).","Then, the standard application  or the SDK platform  having received the report of the success of the authentication process sends a log-in screen deletion request (i.e. a request for deleting the log-in screen) to the main body authentication part  (Step S). In accordance with the request from the standard application  or the SDK platform , the main body authentication part  requests the panel control part  that the log-in screen is to be deleted from the control panel  (Step S). Then, in accordance with the request from the main body authentication part , the panel control part  deletes the log-in screen from the control panel  (i.e. cancels displaying of the log-in screen). As a result, the user is able to use the standard application  or the SDK application via the corresponding operation screen displayed by the Step S. In other words, the use restriction state of the image forming apparatus  is released.","It is to be noted that, in a case of performing the processes on or after Step S after the successful authentication process (i.e. in a case where the function selection key is pressed after the successful authentication process), the main body authentication part  may report the success of the authentication process without instructing the displaying of the log-in screen (Step S). However, in a case where the log-in screen is desired to be displayed in correspondence with each standard application  or the SDK platform , the processes on or after Step S are repeated as described above.","Next, a use restriction operation performed in a case where the use restriction application is installed is described.  is a sequence diagram for describing processes of the use restriction operation in the case where the use restriction application is installed. In , the processes performed in Steps S and S are omitted. In other words, the processes of Steps S and S are performed even in the case where the use restriction application is installed.","When the SDK platform  is activated, the use restriction application sends an authentication substitute request (a request for authentication substitution) to the SDK platform  (Step S). More specifically, the request for authentication substitution is a request for the SDK platform  to substitute the main body authentication part  for achieving the use restriction function. In this embodiment, the use restriction application is set with the above-described automatic activation. Accordingly, in Step S, the process of sending the authentication substitute request is performed when the SDK platform  is activated upon the activation of the image forming apparatus .","Then, the SDK platform  sends the authentication substitute request to the main body authentication part  (Step S). A designation of the application ID of the SDK platform  is included in the authentication substitute request. In a case where the main, body authentication part  receives the authentication substitute request, the main body authentication part  invalidates its own use restriction function. For example, supposing that the main body authentication part  receives a log-in screen display request, the main body authentication part  does not instruct to display the log-in screen and reports success of the authentication process in response to the log-in display request.","Then, the SDK platform  designates the application ID according to the designation included in the authentication substitute request and reports to the system control part  that authentication substitution is going to be performed (Step S). The system control part  stores the designated application ID as the identification data of the entity which is going to perform the authentication substitution (authentication substitution entity).","Meanwhile, after requesting the authentication substitution to the SDK platform , the use restriction application designates its own identification data (hereinafter also referred to as \u201cSDK application ID\u201d) and requests registration of its own screen data to the SDK platform  (Step S). The SDK platform  designates its own application ID and requests registration of the screen data of the use restriction application to the panel control part  (Step S). It is to be noted that the SDK platform  manages screen data in correspondence with the SDK application data. Further, the process of Step S may be performed as the process of Step S illustrated in .","Further, the use restriction application designates its own identification data (SDK application ID) and sends a screen lock request (a request for locking a screen) to the SDK platform  (Step S). More specifically, the screen lock request is a request for exclusive use of the display part of the control panel . The screen lock is a state where transition of screens (display targets) is prevented from occurring. The SDK platform  stores the designated SDK application ID included in the screen lock request as the origin of the screen lock request.","Then, the system control part  sends a display target transition request to the SDK platform  (Step S). The process performed in Step S corresponds to the process performed in Step S (see ). However, in the operation illustrated in , screen data are not displayed in an order starting from the screen data having highest display priority. In the operation illustrated in , the display target is the SDK platform registered as the authentication substitution entity. That is, in a case where an authentication substitution entity is registered, the system control part  displays screen data of the authentication substitution entity rather than displaying screen data of the application having highest priority order.","In a case where the SDK platform  receiving the display target transition request from the system control part  is capable of making the transition to a display state (i.e. becoming a display target), the SDK platform  sends a response to the system control part  accepting the request (Step S). When the system control part  receives the response of accepting the display target transition request, the system control part  designates the application ID of the display target (in this case, application ID of the SDK platform ) along with requesting the panel control part  to display the screen of the application corresponding to the designated application ID (Step S). Based on the designated application ID received together with the display request, the panel control part  instructs the control panel  to display the operation screen of the application corresponding to the designated application ID (Step S). Therefore, in this case, the control panel  displays the operation screen of the use restriction application based on the screen data registered (in Step S) in correspondence with the application ID of the SDK platform .","The content of the operation screen depends on the implementation of the use restriction application . Further, the user restriction application itself is merely one of the SDK applications . Therefore, the use restriction state of the image forming apparatus  cannot be achieved by merely displaying the operation screen of the use restriction application because the operation screen of the standard application , for example, would be displayed if the function selection key is pressed. However, in this operation, screen lock is requested by the use restriction application in Step S. Therefore, as described in detail below, the use restriction state of the image forming apparatus  is achieved in accordance with the screen lock request and the actions taken by the system control part .","More specifically, in a case where the user presses a function selection key to switch from, for example, one standard application  to another standard application , the system control part  sends a display target release request (a request for releasing a locked state of the display target) to the SDK platform  (Step S). More specifically, the display target release request is to turn over the position of a display target to another application. The position of a display target is a position of exclusively using the display part of the control panel . In the case of receiving the display target release request where screen lock is requested, the SDK platform  sends a response denying the release of the display target (Step S). In such case where the display target release request is denied, the system control part  does not switch the display target. In other words, the processes performed on and after Step S in  are not performed when the display target release request is denied. Accordingly, until the use restriction application releases the screen lock, the operation screen of the use restriction application remains displayed on the display part of the control panel . In other words, the use restriction state with respect to other applications is achieved.","In this embodiment, the use restriction application is implemented with an authentication function unique to the user. Therefore, the operation screen of the use restriction application is an operation screen compatible to the authentication function unique to the user. The operation screen of the use restriction application may be, for example, a screen to which a periodically changing password is input.","When the user inputs a password to the operation screen of the use restriction application , the panel control part  reports the password to the SDK platform  having control over the operation screen of the use restriction application (Step S). Technically, the use restriction application has control over the operation screen of the use restriction application. However, from the perspective of the panel control part , the SDK platform  has control over the operation screen of the use restriction application (See ).","Then, the SDK platform  reports the password to the use restriction application being the current display target (Step S). The use restriction application performs an authentication process based on the password reported from the SDK platform (Step S). In a case where the authentication is a success (i.e. password is approved, authentication OK), the use restriction application designates its own SDK application ID and requests the release of its locked screen to the SDK platform  (Step S). That is, the use restriction application requests to the SDK platform  that the exclusive use of the display part of the control panel  is to be terminated. In a case where the designated SDK application ID matches the SDK application ID stored as the origin of the screen lock request, the SDK platform  releases the lock of the screen. Accordingly, in a case where a function selection key is pressed in the state where the lock of the screen is released, the processes to be performed on or after Step S can be performed. However, because the use restriction function of the main body authentication part  is in an invalidated state, the processes of Steps S through S are not performed. Therefore, the user can use other standard applications  or the like. In other words, the use restriction state of the image forming apparatus  is released.","It is to be noted that, in a case where the authentication process of Step S fails, the use restriction application does not request the release of the lock of the screen. Accordingly, the use restriction state is maintained.","Then, the use restriction application sends a display target abandon request to the SDK platform  (Step S). The display target abandon request is a request indicating the abandonment of the position of the display target. Then, the SDK platform  designates its own application ID and requests abandonment of the display target to the system control part  (Step. S). In response to the request from the SDK platform , the system control part  performs the processes to be performed on and after Step S (see ). In this state, the display target is selected according to the predetermined priority order. Accordingly, because the SDK application  is capable of actively abandoning the position of the display target, transition of the operation screen can be automatically executed in correspondence with the release of the use restriction state.","Then, when a log-out key of the control panel  is pressed, the panel control part  detects the pressing of the log-out key (log-out pressing incident). In response to the log-out pressing incident, the panel control part  reports the log-out to the main body authentication part  (Step S). Then, the main body authentication part  reports the log-out to the SDK platform , of the authentication substitute entity (Step S). The SDK platform  registers screen data of the use restriction application (Step S). Then, the processes to be performed on or after Step S are performed. Then, the operation screen of the use restriction application is displayed again on the control panel . In other words, the use restriction state of the image forming apparatus  reemerges.","It is to be noted that, the reason that the SDK platform  re-registers the screen data of the use restriction application in Step S is because screen data of other SDK applications  may be registered in the panel control part  during the period in which the use restriction is released.","Hence, with the above-described embodiments of the present invention, the SDK platform  is capable of accepting the authentication substitution request, the screen lock request, the screen lock release request, and the display target abandon request. That is, the SDK platform  has an API (Application Programming Interface) such as methods and functions for accepting each of the authentication substitution request, the screen lock request, the screen lock release request, and the display target abandon request. Therefore, by implementing the SDK application  using the API, the use restriction function unique to the user (e.g., use restriction application ) can be achieved.","In the above-described embodiments of the present invention, the type of use restriction is not to be limited to authentication. An SDK application having a given function can be discretionally determined by the user by using the API corresponding to the authentication substitution request, the screen lock request, the screen lock release request, and the display target abandon request. For example, the user can restrict the use of the image forming apparatus  during a predetermined time period by preventing the use restriction application from requesting the lock release until a predetermined time arrives.","The present invention is not limited to the specifically disclosed embodiments, and variations and modifications may be made without departing from the scope of the present invention.","The present application is based on Japanese Priority Application No. 2010-056703 filed on Mar. 12, 2010, the entire contents of which are hereby incorporated herein by reference."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 5"}]},"DETDESC":[{},{}]}
